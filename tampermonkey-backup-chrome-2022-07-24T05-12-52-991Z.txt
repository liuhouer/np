{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"CSDN/Áü•‰πé/ÂìîÂì©ÂìîÂì©/ÁÆÄ‰π¶ÂÖçÁôªÂΩïÂéªÈô§ÂºπÁ™óÂπøÂëä üõ°","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.zhihu.com/*","https://*.zhihu.com/*","https://blog.csdn.net/*","https://*.csdn.net/*","https://www.jianshu.com/*","https://*.jianshu.com/*","https://www.bilibili.com/*","https://*.bilibili.com/*","https://juejin.cn/*"],"orig_noframes":null,"orig_run_at":"document-body","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1657118213702,"data":{"menu_GAEEScript_tc_CSDN":"btrue","menu_GAEEScript_tc_Jianshu":"btrue","menu_GAEEScript_tc_Zhihu":"btrue"}},"enabled":false,"position":1,"file_url":"https://greasyfork.org/scripts/428960-csdn-%E7%9F%A5%E4%B9%8E-%E7%AE%80%E4%B9%A6%E5%85%8D%E7%99%BB%E5%BD%95%E5%8E%BB%E9%99%A4%E5%BC%B9%E7%AA%97%E5%B9%BF%E5%91%8A/code/CSDN%E7%9F%A5%E4%B9%8E%E7%AE%80%E4%B9%A6%E5%85%8D%E7%99%BB%E5%BD%95%E5%8E%BB%E9%99%A4%E5%BC%B9%E7%AA%97%E5%B9%BF%E5%91%8A%20%F0%9F%9B%A1.user.js","uuid":"f5152dc1-8980-4d22-a023-bff448cfc9f2","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBDU0ROL+efpeS5ji/lk5Tlk6nlk5Tlk6kv566A5Lmm5YWN55m75b2V5Y676Zmk5by556qX5bm/5ZGKIPCfm6EKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAwLjIuOC45Ci8vIEBkZXNjcmlwdGlvbiAg55m75b2V5Liq6ZSk5a2QICDwn4ytICvpgILphY3np7vliqjnq6/wn5OxIHwg5Y676Zmk5omA5pyJ5bm/5ZGK8J+lvSB8IOS7u+aEj+aWh+acrOWkjeWItvCflrHvuI4gfCDnlYzpnaLkvJjljJborqnpmIXor7vmm7Tovbvmnb7wn5OECi8vIEBhdXRob3IgICAgICAgVF9UCi8vIEBsaWNlbnNlICAgICAgR1BMLTMuMCBMaWNlbnNlCi8vIEBvcmlnaW5hbC1zY3JpcHQgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzQxMjIxMiAoYylYLkkuVQovLyBAb3JpZ2luYWwtY2hhbmdlcyBVc2UgemhpaHUgZGFyayB0aGVtZQovLyBAcnVuLWF0ICAgICAgIGRvY3VtZW50LWJvZHkKLy8gQG1hdGNoICAgICAgICBodHRwczovL3d3dy56aGlodS5jb20vKgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vKi56aGlodS5jb20vKgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vYmxvZy5jc2RuLm5ldC8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly8qLmNzZG4ubmV0LyoKLy8gQG1hdGNoICAgICAgICBodHRwczovL3d3dy5qaWFuc2h1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly8qLmppYW5zaHUuY29tLyoKLy8gQG1hdGNoICAgICAgICBodHRwczovL3d3dy5iaWxpYmlsaS5jb20vKgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vKi5iaWxpYmlsaS5jb20vKgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vanVlamluLmNuLyoKLy8gQGljb24gICAgICAgICBkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PQovLyBAZ3JhbnQgICAgICAgIEdNX2FkZFN0eWxlCi8vIEBncmFudCAgICAgICAgR01fb3BlbkluVGFiCi8vIEBncmFudCAgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKLy8gQGdyYW50ICAgICAgICBHTV91bnJlZ2lzdGVyTWVudUNvbW1hbmQKLy8gQGdyYW50ICAgICAgICBHTV9ub3RpZmljYXRpb24KLy8gQGdyYW50ICAgICAgICB1bnNhZmVXaW5kb3cKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2Nkbi5zdGF0aWNmaWxlLm9yZy9qcXVlcnkvMy42LjAvanF1ZXJ5Lm1pbi5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vY2RuLmJvb3RjZG4ubmV0L2FqYXgvbGlicy9qcXVlcnktY29va2llLzEuNC4wL2pxdWVyeS5jb29raWUuanMKLyogZ2xvYmFscyBqUXVlcnksICQsIHdhaXRGb3JLZXlFbGVtZW50cyAqLwoKCi8vIEBub3RlICAgICAgICAgMC4yLjgg5L+u5aSNQ2hyb21lOTfkuItDU0RO5aSx5pWI6Zeu6aKY77yM5paw5aKe5ZOU5ZOp5ZOU5ZOp5Y675by556qXCi8vIEBub3RlICAgICAgICAgMC4yLjcg5L+u5aSNQ1NETuWFjeeZu+W9leWkjeWItumXrumimO+8jOabtOaWsOeugOS5puWuveWxj+WPiuWxleW8gOWFqOaWhwovLyBAbm90ZSAgICAgICAgIDAuMi42IOS/ruWkjeeugOS5puaXoOazleWGmeaWh+eroOeahOmXrumimO+8jOabtOaWsOW5v+WRiuWxj+iUveWIl+ihqO+8jOS8mOWMlkNTRE7mmL7npLoKLy8gQG5vdGUgICAgICAgICAwLjIuNSDkv67lpI3nn6XkuY7pg6jliIblm57nrZTkuIvmi4npopHpl6rpl67popgKLy8gQG5vdGUgICAgICAgICAwLjIuNCDkv67lpI3lt7Lnn6Xpl67popgsIOaWsOWinuefpeS5jumXruetlOaXtumXtOaYvuekugovLyBAbm90ZSAgICAgICAgIDAuMi4zIOS/ruWkjeS6huefpeS5jumhtemdouacquWKoOi9veWujOaIkOaXtueZu+W9leaMiemSruWkseaViOeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDAuMi4yIOabtOaWsOWxj+iUveetlueVpQovLyBAbm90ZSAgICAgICAgIDAuMi4xIOS/ruWkjeefpeS5jum7keWknOaooeW8j+eVjOmdouWIh+aNouS4jee7n+S4gOmXrumimO+8jOaWsOWinuS4gOmUrueugOWMluaMiemSrijlvoXlrozmiJDvvIzpu5jorqTlvIDlkK8p77yM6K6p6ZiF6K+75pu06L275p2+Ci8vIEBub3RlICAgICAgICAgMC4yLjAg5Y676ZmkQ1NETumhtumDqOW5v+WRiu+8jOWHgOWMluS4u+mhtQovLyBAbm90ZSAgICAgICAgIDAuMS45IOaWsOWinuefpeS5jum7keWknOaooeW8jwovLyBAbm90ZSAgICAgICAgIDAuMS44IOS/ruWkjeenu+WKqOerr+efpeS5juS4k+agj+W3suefpemXrumimO+8jOaWsOWinuefpeS5juWbvueJh+WOn+WbvuaYvuekuu+8jOaWsOWinuefpeS5jummlumhteeDreaQnOamnAovLyBAbm90ZSAgICAgICAgIDAuMS43IOefpeS5juenu+WKqOerr+mmlumhteaWsOWinuaQnOe0ouahhu+8jOS/ruWkjUNTRE7kuKrliKvpobXpnaLml6Dms5XlpI3liLbpl67popgKLy8gQG5vdGUgICAgICAgICAwLjEuNiDpgILphY1DU0RO56e75Yqo56uv572R6aG1Ci8vIEBub3RlICAgICAgICAgMC4xLjUg6YCC6YWN55+l5LmO56e75Yqo56uv572R6aG1Ci8vIEBub3RlICAgICAgICAgMC4xLjQg5pu05paw566A5Lmm5YWo56uZ5bm/5ZGK5bGP6JS9562W55WlLCDpgILphY3nroDkuabnp7vliqjnq6/nvZHpobUKLy8gQG5vdGUgICAgICAgICAwLjEuMyDkv67lpI3nroDkuabpppbpobXmir3lpZblvLnnqpfpl67popgsIOaWsOWinuefpeS5juebtOaOpeWkjeWItuWKn+iDve+8jOWIoOmZpENTRE7kuIDplK7kuInov57mjInpkq4KLy8gQG5vdGUgICAgICAgICAwLjEuMiDkvJjljJbkuoblsY/olL3nrZbnlaXvvIzlop7liqBDU0ROL+eugOS5puebtOaOpeWkjeWItuOAgeWOu+mZpOeJiOadg+WjsOaYjuWKn+iDvQovLyA9PS9Vc2VyU2NyaXB0PT0KCmxldCB2ZXJzaW9uID0gIjAuMi44LjkiOwpTY3JpcHRfc2V0dGluZygpOwoKCnZhciAkJCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwuYmluZChkb2N1bWVudCk7CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgdmFyIHVybCA9IHVuc2FmZVdpbmRvdy5sb2NhdGlvbi5ocmVmOy8vZG9jdW1lbnQubG9jYXRpb24uaG9zdAogICAgdmFyIG1vYmlsZT0vKEFuZHJvaWR8aVBob25lfGlQYWQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTsKCiAgICBpZih1cmwuaW5kZXhPZignemhpaHUuY29tJykhPS0xKQogICAgewogICAgICAgIFpoaWh1X2RhcmtfdGhlbWUoKTsKICAgICAgICAvL+eZu+W9lemhtei3s+i9rAogICAgICAgIGlmKHVybCA9PSAiaHR0cHM6Ly93d3cuemhpaHUuY29tL3NpZ25pbj9uZXh0PSUyRiIpCiAgICAgICAgewogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgiaHR0cHM6Ly93d3cuemhpaHUuY29tL3NlYXJjaD9xPSZ0eXBlPWNvbnRlbnQiKTsKICAgICAgICB9CiAgICAgICAgLy/pppbpobXng63mkJwKICAgICAgICBpZih1cmwgPT0gJ2h0dHBzOi8vd3d3LnpoaWh1LmNvbS9zZWFyY2g/cT0mdHlwZT1jb250ZW50JykKICAgICAgICB7CiAgICAgICAgICAgIEdNX2FkZFN0eWxlKCcjU2VhcmNoTWFpbiB7dmlzaWJpbGl0eTpoaWRkZW4gIWltcG9ydGFudH0nKTsKICAgICAgICAgICAgdW5zYWZlV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXsgWmlodV9ob3RfaW5faG9tZSgpOyB9LDApOwogICAgICAgICAgICB1bnNhZmVXaW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpeyBaaWh1X2hvdF9pbl9ob21lKCk7IH0sMTAwKTsKICAgICAgICAgICAgdW5zYWZlV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXsgWmlodV9ob3RfaW5faG9tZSgpOyB9LDEwMDApOwogICAgICAgICAgICBHTV9hZGRTdHlsZSgnI1NlYXJjaE1haW4ge3Zpc2liaWxpdHk6dmlzaWJsZSAhaW1wb3J0YW50fScpOwogICAgICAgIH0KICAgICAgICAvL+efpeS5juW8ueeql+WOu+mZpCAtPgogICAgICAgIEdNX2FkZFN0eWxlKCcuY3NzLTFod3dmd3N7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/lj7PkuIrmlrnnmbvlvZXmj5DnpLoKICAgICAgICBHTV9hZGRTdHlsZSgnLmNzcy0xeW56eHF3LC5jc3MtMXQ1M2hlb3tkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+WPs+S4i+aWueeZu+W9leaPkOekugogICAgICAgIEdNX2FkZFN0eWxlKCcuTW9kYWwtd3JhcHBlcntkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+eZu+W9leW8ueeqlwogICAgICAgIC8v6K+l5pa55rOV5LuF5bGP6JS96aaW5qyh55m75b2V5by556qX77yM6aG16Z2i5YaF54K56LWe562J5pON5L2c5ZCO5LuN5Lya5o+Q56S644CC5a6M5YWo5bGP6JS96K+35rOo6YeK5ZCO5L2/55So77yI5bCG5peg5rOV5p+l55yL5a+56K+d6K+m5oOF77yJLy8KICAgICAgICB1bnNhZmVXaW5kb3cub25sb2FkID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgY29uc29sZS5sb2coIlvnn6XkuY5d6aG16Z2i5Yqg6L295a6M5oiQIik7CiAgICAgICAgICAgIGlmKHVybCAhPSAnaHR0cHM6Ly93d3cuemhpaHUuY29tL3NlYXJjaD9xPSZ0eXBlPWNvbnRlbnQnKXsKICAgICAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLk1vZGFsLXdyYXBwZXIiKSl7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLk1vZGFsLXdyYXBwZXIiKS5yZW1vdmUoKTtjb25zb2xlLmxvZygiW+efpeS5jl3nmbvlvZXnqpflj6Plt7LljrvpmaQiKTt9IEdNX2FkZFN0eWxlKCcuTW9kYWwtd3JhcHBlcntkaXNwbGF5OmZsZXggIWltcG9ydGFudH0nKTtjb25zb2xlLmxvZygiW+efpeS5jl3nmbvlvZXlvLnnqpflt7LmgaLlpI0iKTt9LCAxMDApOwogICAgICAgICAgICB9ZWxzZXsgR01fYWRkU3R5bGUoJy5Nb2RhbC13cmFwcGVye2Rpc3BsYXk6ZmxleCAhaW1wb3J0YW50fScpIH0KICAgICAgICB9CiAgICAgICAgLy88LQogICAgICAgIEdNX2FkZFN0eWxlKCdodG1se292ZXJmbG93OnZpc2libGUgIWltcG9ydGFudH0nKTsKICAgICAgICBHTV9hZGRTdHlsZSgnaHRtbHttYXJnaW4tcmlnaHQ6YXV0byAhaW1wb3J0YW50fScpOwogICAgICAgIEdNX2FkZFN0eWxlKCcuUXVlc3Rpb24tbWFpbkNvbHVtbkxvZ2lue2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v55m75b2V5o+Q56S65qCPCiAgICAgICAgLy9HTV9hZGRTdHlsZSgnLlN0aWNreXtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+WPs+S+p+eql+WPowogICAgICAgIEdNX2FkZFN0eWxlKCcuQ2FyZC5BcHBCYW5uZXJ7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/lj7PkvqfnmbvlvZXmj5DnpLrmoI8KICAgICAgICBHTV9hZGRTdHlsZSgnLlBjLWNhcmQuQ2FyZHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+WPs+S+p+W5v+WRigoKICAgICAgICBHTV9hZGRTdHlsZSgnLlBjLXdvcmQge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v6Zeu562U5YiX6KGo5YaF5bm/5ZGKCgogICAgICAgIEdNX2FkZFN0eWxlKCcuVGhlYXRlckRldGFpbERhbm1ha3VBcmVhLWZvb3RlciB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/nm7Tmkq3or4TorrrljLrkuIvmlrnkuIvovb3mjInpkq4KCiAgICAgICAgLy/kuIDplK7nroDljJYKICAgICAgICBDbGVhbl96aGlodSgpOwoKICAgICAgICAvL21vYmlsZQogICAgICAgIGlmKG1vYmlsZSl7TW9iaWxlX3poaWh1KCk7fQogICAgICAgIEdNX2FkZFN0eWxlKCcuT3BlbkluQXBwQnV0dG9uIHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+WIoOmZpOaJk+W8gGFwcOaMiemSrijpppbpobUv56e75Yqo56uvKQoKCiAgICAgICAgLy9QaWMg5Y6f5Zu+CiAgICAgICAgUElDX3poaWh1KCk7CiAgICAgICAgLy9TZWNvbmRlCiAgICAgICAgdW5zYWZlV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXsgUElDX3poaWh1KCl9LDEwMDApOwogICAgICAgIC8v6aKc6Imy5Li76aKY5YiH5o2iCiAgICAgICAgdW5zYWZlV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXsgQ2hhbmdlX3RoZW1lX3poaWh1KCkgfSwxMDApOwogICAgICAgIHVuc2FmZVdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IENoYW5nZV90aGVtZV96aGlodSgpIH0sMTAwMCk7CiAgICAgICAgLy/lm57nrZTml7bpl7TmmL7npLoKICAgICAgICBpZih1cmwuaW5kZXhPZignaHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uJykhPS0xKXtUaW1lX2Zvcl96aGlodSgpO30KCiAgICAgICAgW10uY29uY2F0KC4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIioiKSkubWFwKGl0ZW09PnsvLwogICAgICAgICAgICBpdGVtLm9uY29weSA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KICAgIGVsc2UgaWYodXJsLmluZGV4T2YoJ2NzZG4ubmV0JykhPS0xKQogICAgewogICAgICAgIC8v5L6n6L655qCP5bm/5ZGKCiAgICAgICAgR01fYWRkU3R5bGUoJyNmb290ZXJSaWdodEFkc3tkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsKICAgICAgICAvL0NTRE7nmbvlvZXlvLnnqpfljrvpmaQgLT4KICAgICAgICBHTV9hZGRTdHlsZSgnLnBhc3Nwb3J0LWxvZ2luLWNvbnRhaW5lciB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/nmbvlvZXlvLnnqpcvL+aUtuiXj+eCuei1nuiuoumYheS4k+agj+WwhuaXoOWPjeW6lAogICAgICAgIEdNX2FkZFN0eWxlKCcjY3Nkbi10b29sYmFyLXByb2ZpbGUtbm9sb2dpbiB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/nmbvlvZXmj5DnpLrlvLnnqpcKICAgICAgICAvLzwtCiAgICAgICAgLy/lj7Pkvqfmgqzmta7lr7zoiKrmoI/lub/lkYoKICAgICAgICBHTV9hZGRTdHlsZSgnLmNzZG4tY29tbW9uLWxvZ28tYWR2ZXJ0e2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOwogICAgICAgIC8v5Y+z5L6n57yp5pS+5o+Q56S6CiAgICAgICAgR01fYWRkU3R5bGUoJy5sZWZ0UG9we2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOwogICAgICAgIC8v6K+E6K665LiK5pa55omT6LWPCiAgICAgICAgR01fYWRkU3R5bGUoJy5yZXdhcmQtYm94LW5ld3tkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsKICAgICAgICAvL+ivhOiuuuS4iuaWueW5v+WRigogICAgICAgIEdNX2FkZFN0eWxlKCcjZG1wX2FkXzU4e2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOwogICAgICAgIC8v5bGV5byA5Luj56CB5Z2XCiAgICAgICAgR01fYWRkU3R5bGUoJ3ByZS5zZXQtY29kZS1oaWRle2hlaWdodDoxMDAlICFpbXBvcnRhbnR9Jyk7CiAgICAgICAgR01fYWRkU3R5bGUoJ3ByZS5zZXQtY29kZS1oaWRlIC5oaWRlLXByZUNvZGUtYm94e2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOwogICAgICAgIC8v5bGV5byA6K+E6K66CiAgICAgICAgR01fYWRkU3R5bGUoJy5jb21tZW50LWxpc3QtYm94e21heC1oZWlnaHQ6bm9uZSAhaW1wb3J0YW50fScpOwogICAgICAgIEdNX2FkZFN0eWxlKCcub3B0LWJveC50ZXh0LWNlbnRlcntkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsKICAgICAgICAvL+S4gOmUruS4iei/nuaMiemSrgogICAgICAgIEdNX2FkZFN0eWxlKCcjaGVhbHRoLWNvbXBhbmllcyB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7CiAgICAgICAgLy/or4TorrrmiqLmspnlj5EKICAgICAgICBHTV9hZGRTdHlsZSgnLmNvbW1lbnQtc29mYS1mbGFnIHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsKICAgICAgICAvL+WIhuS6q+a1t+aKpeaMiemSrgogICAgICAgIC8vR01fYWRkU3R5bGUoJyNoZWFsdGgtY29tcGFuaWVzIHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsKICAgICAgICAvL+WNmuS4u+WVhuWcugogICAgICAgIEdNX2FkZFN0eWxlKCcjY3Nkbi1zaG9wLXdpbmRvdy10b3Age2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8vdG9wCiAgICAgICAgR01fYWRkU3R5bGUoJyNjc2RuLXNob3Atd2luZG93IHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL2J1dHRvbQogICAgICAgIC8v6aG16Z2i6aG26YOo5bm/5ZGKCiAgICAgICAgR01fYWRkU3R5bGUoJy50b29sYmFyLWFkdmVydCB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7CiAgICAgICAgLy8v6aaW6aG1Ly8vCiAgICAgICAgaWYodXJsLmluZGV4T2YoJ2h0dHBzOi8vd3d3LmNzZG4ubmV0LycpIT0tMSl7CiAgICAgICAgICAgIEdNX2FkZFN0eWxlKCcja3BfYm94X3d3OTg3NyB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/mqKrmnaHlub/lkYoKICAgICAgICAgICAgR01fYWRkU3R5bGUoJyNrcF9ib3hfd3d3X3N3aXBlciB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/igJjlpLTmnaHigJnlj7Pkvqflub/lkYoKICAgICAgICAgICAgR01fYWRkU3R5bGUoJy53d3ctaG9tZS1zaWxkZS10b3Age2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5Y+z5L6n5bm/5ZGKCiAgICAgICAgICAgIEdNX2FkZFN0eWxlKCcuc28tcXVlc3Rpb25uYWlyZSB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/oh6rkuqfoh6rplIDmipXnpagKICAgICAgICAgICAgR01fYWRkU3R5bGUoJy5saW5rcyB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/lj4vpk74KICAgICAgICAgICAgR01fYWRkU3R5bGUoJy5hZF9mdWxsV2lkdGgge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5YiX6KGo5YaF5bm/5ZGKCiAgICAgICAgfQogICAgICAgIC8vL2Jsb2fpppbpobUvLy8KICAgICAgICBpZih1cmwuaW5kZXhPZignaHR0cHM6Ly9ibG9nLmNzZG4ubmV0LycpIT0tMSl7CiAgICAgICAgICAgIEdNX2FkZFN0eWxlKCcuYmFubmVyLWFkLWJveCB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/mqKrmnaHlub/lkYoKICAgICAgICB9CiAgICAgICAgLy8v5LiL6L296aG1Ly8KICAgICAgICBHTV9hZGRTdHlsZSgnLmFkcy5tdC0xMCB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/lm77niYflub/lkYoKCiAgICAgICAgLy/kuIDplK7nroDljJYKICAgICAgICBDbGVhbl9jc2RuKCk7CgogICAgICAgIC8vbW9iaWxlCiAgICAgICAgaWYobW9iaWxlKXtNb2JpbGVfY3NkbigpO30KCiAgICAgICAgLy8g5YWN55m75b2V5aSN5Yi2CiAgICAgICAgLy9pZih1cmwuaW5kZXhPZignaHR0cHM6Ly93d3cuY3Nkbi5uZXQvJyk9PS0xKXsvL+e7lei/h+mmlumhtQogICAgICAgIEdNX2FkZFN0eWxlKCcjY29udGVudF92aWV3cyBwcmUgY29kZXt1c2VyLXNlbGVjdDp0ZXh0ICFpbXBvcnRhbnR9Jyk7CiAgICAgICAgR01fYWRkU3R5bGUoJyNjb250ZW50X3ZpZXdzIHByZXt1c2VyLXNlbGVjdDp0ZXh0ICFpbXBvcnRhbnR9Jyk7CiAgICAgICAgR01fYWRkU3R5bGUoJyNjb250ZW50X3ZpZXdze3VzZXItc2VsZWN0OnRleHQgIWltcG9ydGFudH0nKTsKICAgICAgICB0cnl7CiAgICAgICAgICAgIHdpbmRvdy5vbmxvYWQ9ZnVuY3Rpb24oKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkKCJjb2RlIikuYXR0cigib25jbGljayIsICJtZGNwLmNvcHlDb2RlKGV2ZW50KSIpOwogICAgICAgICAgICAgICAgLy8g5YWN55m75b2V5aSN5Yi2CiAgICAgICAgICAgICAgICBpZigkKCIuaGxqcy1idXR0b24iKS5sZW5ndGggPiAwKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICQoIi5obGpzLWJ1dHRvbiIpLnJlbW92ZUNsYXNzKCJzaWduaW4iKTsKICAgICAgICAgICAgICAgICAgICAkKCIuaGxqcy1idXR0b24iKS5hZGRDbGFzcygiezJ9Iik7CiAgICAgICAgICAgICAgICAgICAgJCgiLmhsanMtYnV0dG9uIikuYXR0cigiZGF0YS10aXRsZSIsICLlpI3liLYiKTsKICAgICAgICAgICAgICAgICAgICAkKCIuaGxqcy1idXR0b24iKS5hdHRyKCJvbmNsaWNrIiwgImhsanMuY29weUNvZGUoZXZlbnQpIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyQoInByZSIpLmZvckVhY2goaXRlbT0+e2l0ZW0uZm9yRWFjaChjaGlsZHJlbj0+e2NoaWxkcmVuLmF0dHIoImRhdGEtdGl0bGUiLCLlpI3liLYiKX0pfSk7CiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuY29udGVudEVkaXRhYmxlPSd0cnVlJzsKICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuZGVzaWduTW9kZT0nb24nOwogICAgICAgICAgICAgICAgLy8g5Y676Zmk5Ymq6LS05p2/Q29weVJpZ2h054mI5p2D5aOw5piOCiAgICAgICAgICAgICAgICB0cnl7CiAgICAgICAgICAgICAgICAgICAgdW5zYWZlV2luZG93LmNzZG4uY29weXJpZ2h0LmluaXQoIiIsICIiLCAiIik7Ly8vL+iyjOS8vOWumOaWueWPlua2iOS6huivpeaWueazlS8vL+aaguaXtuS4jeWOu+mZpOivpeS7o+eggQogICAgICAgICAgICAgICAgfWNhdGNoKF9lcnIpe30KICAgICAgICAgICAgfQogICAgICAgIH1jYXRjaChlcnIpewogICAgICAgICAgICAkJCgnKicpLmZvckVhY2goaXRlbT0+eyBpdGVtLm9uY29weSA9IGUgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0pOwogICAgICAgIH0KICAgICAgICAvL30KICAgICAgICAvLwogICAgfQogICAgZWxzZSBpZih1cmwuaW5kZXhPZignamlhbnNodS5jb20nKSE9LTEpCiAgICB7CiAgICAgICAgLy/nroDkuabljrvpmaTlvLnnqpcKICAgICAgICBHTV9hZGRTdHlsZSgnLi11bXIyNntkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsKICAgICAgICBHTV9hZGRTdHlsZSgnLl8yN3lvZlh7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7CiAgICAgICAgR01fYWRkU3R5bGUoJy5fMWFDbzM3e2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOwogICAgICAgIEdNX2FkZFN0eWxlKCcuXzFhQ28zNy1tYXNre2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOwoKICAgICAgICBHTV9hZGRTdHlsZSgnYm9keXsgcG9zaXRpb246IG5vbmUgIWltcG9ydGFudH0nKTsKICAgICAgICBHTV9hZGRTdHlsZSgnYm9keXt3aWR0aDogYXV0byAhaW1wb3J0YW50fScpOwogICAgICAgIEdNX2FkZFN0eWxlKCdib2R5e292ZXJmbG93OiBhdXRvICFpbXBvcnRhbnR9Jyk7CiAgICAgICAgR01fYWRkU3R5bGUoJy5fM0pZcnRqIDpudGgtY2hpbGQoMikge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8vYXBw5LiL6L29CgogICAgICAgIEdNX2FkZFN0eWxlKCcuXzE5RGdJcHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvLzxoci8+CiAgICAgICAgR01fYWRkU3R5bGUoJy5fMTZBemNPe2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5omr5o+P5LiL6L29YXBwCiAgICAgICAgR01fYWRkU3R5bGUoJy5fNlNfTmtWe2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5omr5o+P5LiL6L29YXBwCiAgICAgICAgR01fYWRkU3R5bGUoJy5sOFpWZkV7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/miavmj4/kuIvovb1hcHAKCiAgICAgICAgLy/oh6rliqjlsZXlvIDlhajmlocKICAgICAgICBHTV9hZGRTdHlsZSgnLl8ycmhtSmEuXzJCSkpfZntoZWlnaHQ6MTAwJSAhaW1wb3J0YW50fScpOwogICAgICAgIEdNX2FkZFN0eWxlKCcuXzIyZS1UZS5fMjRqWVlSe2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOwoKICAgICAgICAvL+mmlumhtQogICAgICAgIC8v5qCH6aKY5qCPCiAgICAgICAgR01fYWRkU3R5bGUoJyN3ZWItbmF2LWFwcC1kb3dubG9hZC1idG4ge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5qCH6aKY5qCP5LiL6L29QVBQ5oyJ6ZKuCiAgICAgICAgLy91bnNhZmVXaW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2lmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN3ZWItbmF2LWFwcC1kb3dubG9hZC1idG4iKSl7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3dlYi1uYXYtYXBwLWRvd25sb2FkLWJ0biIpLnJlbW92ZSgpO319LCAxMDApOy8v5qCH6aKY5qCP5LiL6L29QVBQ5oyJ6ZKuCiAgICAgICAgLy8KICAgICAgICBHTV9hZGRTdHlsZSgnI2luZGV4LWFzaWRlLWRvd25sb2FkLXFyYm94e2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8vYXBw5LiL6L29CiAgICAgICAgR01fYWRkU3R5bGUoJy5fMjRGZ09uMkxYMnVJQ0FBdmJDbXM2M18we2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5bm/5ZGKCiAgICAgICAgR01fYWRkU3R5bGUoJy5fM1FhNGRuNVlsb2tPa3huNlJzbkVzTF8we2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5oq95aWWCiAgICAgICAgR01fYWRkU3R5bGUoJy5mYThieXhpTEcxeV9rYlc3Q0hqWWtfMHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+WPs+S+p+aKveWllua1ruWKqOeql+WPowogICAgICAgIEdNX2FkZFN0eWxlKCcuc2VsZi1mbG93LWFkLmNsZWFyZml4e2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5YiX6KGo5bm/5ZGKCiAgICAgICAgR01fYWRkU3R5bGUoJy5jb21tb25jbGFzc3tkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+WIl+ihqOW5v+WRigogICAgICAgIHVuc2FmZVdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5jb2wteHMtNyIpKQogICAgICAgICAgICB7Ly/lvLrliLbliKDpmaTlj7PkvqfmoI/lnoPlnL7lub/lkYoKICAgICAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNvbC14cy03IikuY2hpbGRyZW5bMl0ucmVtb3ZlKCk7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmZhOGJ5eGlMRzF5X2tiVzdDSGpZa18wIikucmVtb3ZlKCk7fSwgMTAwKTsvL+W5v+WRigogICAgICAgICAgICAgICAgdW5zYWZlV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt1bnNhZmVXaW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY29sLXhzLTciKS5jaGlsZEVsZW1lbnRDb3VudCA+IDQpe2NvbnNvbGUubG9nKCdybSAjMDEnKTtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY29sLXhzLTciKS5jaGlsZHJlblsyXS5yZW1vdmUoKX1lbHNle2NsZWFySW50ZXJ2YWwodGhpcyl9fSwgMTAwKTt9KTsKICAgICAgICAgICAgfQogICAgICAgIH0sIDEwMCk7CgogICAgICAgIC8v5LiT6aKY6aG1CiAgICAgICAgR01fYWRkU3R5bGUoJy5jb2wteHMtMjQuY29sLXNtLTcuY29sLXNtLW9mZnNldC0xLmFzaWRlIHt2aXNpYmlsaXR5OmhpZGRlbiAhaW1wb3J0YW50fScpOy8v6ZqQ6JeP5Y+z5L6n5qCPCiAgICAgICAgdW5zYWZlV2luZG93Lm9ubG9hZD1mdW5jdGlvbigpey8v5Yqg6L295a6M5ZCO56e76Zmk5bm/5ZGK5bm26YeN5paw5pi+56S65Y+z5L6n5qCPCiAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNvbC14cy0yNC5jb2wtc20tNy5jb2wtc20tb2Zmc2V0LTEuYXNpZGUiKSl7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNvbC14cy0yNC5jb2wtc20tNy5jb2wtc20tb2Zmc2V0LTEuYXNpZGUiKS5jaGlsZHJlblswXS5yZW1vdmUoKTtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY29sLXhzLTI0LmNvbC1zbS03LmNvbC1zbS1vZmZzZXQtMS5hc2lkZSIpLmNoaWxkcmVuWzRdLnJlbW92ZSgpO31HTV9hZGRTdHlsZSgnLmNvbC14cy0yNC5jb2wtc20tNy5jb2wtc20tb2Zmc2V0LTEuYXNpZGUge3Zpc2liaWxpdHk6dmlzaWJsZSAhaW1wb3J0YW50fScpO30sIDApOwogICAgICAgIH0KICAgICAgICBHTV9hZGRTdHlsZSgnaWZyYW1lIHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+ivpeaWueazlemAgueUqOS6juacrOermeaJgOacieW5v+WRiiznmbvlvZXlkI7lvbHlk43mnKrnn6UgIC8v5YiX6KGo5bm/5ZGKCgogICAgICAgIC8v5LiA6ZSu566A5YyWCiAgICAgICAgQ2xlYW5famlhbnNodSgpOwoKICAgICAgICAvL01vYmlsZQogICAgICAgIGlmKG1vYmlsZSl7TW9iaWxlX2ppYW5zaHUoKTt9CgogICAgICAgICQkKCcqJykuZm9yRWFjaChpdGVtPT57IGl0ZW0ub25jb3B5ID0gZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfSk7Ly/ljrvpmaTliarotLTmnb/niYjmnYPlo7DmmI4KICAgICAgICAvKiBvciB0aGlzIG9uZQogICAgICAgIFtdLmNvbmNhdCguLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIqIikpLm1hcChpdGVtPT57Ly8KICAgICAgICAgICAgaXRlbS5vbmNvcHkgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7Ki8KICAgIH0KICAgIGVsc2UgaWYodXJsLmluZGV4T2YoJ2JpbGliaWxpLmNvbScpIT0tMSkKICAgIHsKICAgICAgICAvL+mmlumhtQogICAgICAgIEdNX2FkZFN0eWxlKCcubG9naW4tcGFuZWwtcG9wb3ZlcntkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+aWsOeJiHRvb2xiYXLnmbvlvZXlvLnnqpcKICAgICAgICAvL0dNX2FkZFN0eWxlKCcudW5sb2dpbi1wb3BvdmVye2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5pen54mIdG9vbGJhcueZu+W9leW8ueeqly3lsIbnlZnmnInmqKrnur8KICAgICAgICBHTV9hZGRTdHlsZSgnLnZhbi1wb3BvdmVyLnZhbi1wb3BwZXJ7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/ml6fniYh0b29sYmFy55m75b2V5by556qXLeeZu+W9leWQjuaXoOazleiOt+W+l+eEpueCuQogICAgICAgIEdNX2FkZFN0eWxlKCcubG9naW4tdGlwe2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v55m75b2V5by556qXdGlw5o+Q56S6CiAgICAgICAgR01fYWRkU3R5bGUoJy5iYW5uZXItY2FyZC5iLXdyYXB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/pppbpobXmqKrmnaHlub/lkYoKICAgICAgICBHTV9hZGRTdHlsZSgnLmV2YS1iYW5uZXJ7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/mlrDniYjpppbpobXmqKrmnaHlub/lkYoKICAgICAgICBHTV9hZGRTdHlsZSgnLmNvbnRhY3QtaGVscHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+mmlumhteiBlOezu+WuouacjQogICAgICAgIEdNX2FkZFN0eWxlKCcubmF2LWxpbmstdWx7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/ml6fniYjkuIvovb1hcHDmjInpkq4KICAgICAgICBpZigkKCcuYmlsaWZvbnQuYmlsaS1pY29uX2RpbmdkYW9feGlhemFpYXBwJykpeyQoJy5iaWxpZm9udC5iaWxpLWljb25fZGluZ2Rhb194aWF6YWlhcHAnKS5wYXJlbnQoKS5wYXJlbnQoKS5jc3MoJ2Rpc3BsYXknLCdub25lJyk7R01fYWRkU3R5bGUoJy5uYXYtbGluay11bHtkaXNwbGF5OmZsZXggIWltcG9ydGFudH0nKTt9Ly/kuIvovb1hcHDmjInpkq4KICAgICAgICBHTV9hZGRTdHlsZSgnLmRvd25sb2FkLWVudHJ5e2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5paw54mI5LiL6L29YXBw5oyJ6ZKudG9vbGJhcgogICAgICAgIC8v55Wq5YmnCiAgICAgICAgR01fYWRkU3R5bGUoJy5nZy1mbG9vci1tb2R1bGV7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/pppbpobXmqKrmnaHlub/lkYoKICAgICAgICAvL+inhumikemhtQogICAgICAgIEdNX2FkZFN0eWxlKCcjYmFubmVyQWR7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/op4bpopHkuIvmlrnlub/lkYoKICAgICAgICBHTV9hZGRTdHlsZSgnI2FjdGl2aXR5X3ZvdGV7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/op4bpopHkuIvmlrnmtLvliqjmjqjlub8KCiAgICAgICAgLy/miYvmnLrnq68KICAgICAgICBHTV9hZGRTdHlsZSgnLmxhdW5jaC1hcHAtYnRuLmhvbWUtZmxvYXQtb3BlbmFwcHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+mmlumhteaJk+W8gEFQUAogICAgICAgIEdNX2FkZFN0eWxlKCcubGF1bmNoLWFwcC1idG4ubS1uYXYtb3BlbmFwcHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+mmlumhteS4i+i9vUFQUAogICAgICAgIEdNX2FkZFN0eWxlKCcubXBsYXllci13aWRlc2NyZWVuLWNhbGxhcHB7cG9zaXRpb246dW5zZXQgIWltcG9ydGFudDsgei1pbmRleDp1bnNldCAhaW1wb3J0YW50OyBkaXNwbGF5Om5vbmUgIWltcG9ydGFudDsgdmlzaWJpbGl0eTpoaWRkZW4gIWltcG9ydGFudH0nKTsvL+inhumikeWGheaJk+W8gEFQUAogICAgICAgIEdNX2FkZFN0eWxlKCcubS12aWRlbzItbWFpbi1pbWd7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/op4bpopHpobXop4bpopHkuIvmlrnmiZPlvIBhcHAKICAgICAgICBHTV9hZGRTdHlsZSgnLmxhdW5jaC1hcHAtYnRuLm0tZmxvYXQtb3BlbmFwcHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+inhumikemhteWPs+S+p+a1ruWKqOaJk+W8gGFwcAogICAgICAgIEdNX2FkZFN0eWxlKCcubGF1bmNoLWFwcC1idG4ucmVsYXRlZC1vcGVuYXBwe2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v6KeG6aKR6aG15bqV6YOo5omT5byAYXBwCiAgICB9CiAgICBlbHNlIGlmKHVybC5pbmRleE9mKCdqdWVqaW4uY24nKSE9LTEpCiAgICB7CiAgICAgICAgR01fYWRkU3R5bGUoJy5zaWRlYmFyLWJsb2NrLmJhbm5lci1ibG9ja3tkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+mmlumhteWPs+S+p+W5v+WRigogICAgICAgIEdNX2FkZFN0eWxlKCcuZXh0ZW5zaW9ue2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5bqV6YOo5bm/5ZGKCgogICAgICAgIGRvY3VtZW50Lm9uY29weSA9IGV2ZW50ID0+IGV2ZW50LmNsaXBib2FyZERhdGEuc2V0RGF0YSgndGV4dCcsd2luZG93LmdldFNlbGVjdGlvbigwKS50b1N0cmluZygpKTsKICAgIH0KCn0pKCk7CgoKZnVuY3Rpb24gTW9iaWxlX2ppYW5zaHUoKXsKICAgIC8vU2V0VUEoImlwaG9uZSIpOyAvL+aXoOaViO+8jOmcgOimgeWAn+WKqeWklumDqOaPkuS7tuabtOaUuVVBCiAgICAvL+mmlumhtSAmICjkuJPpopgpCiAgICBHTV9hZGRTdHlsZSgnLm1vZGFsIHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+WOu+mZpOmmlumhteW8lea1gWFwcOeVjOmdoiznm7TmjqXov5vlhaXpppbpobUKICAgIEdNX2FkZFN0eWxlKCcuc2xvZ2FuIHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+WvvOiIquagj+aPkOekugogICAgR01fYWRkU3R5bGUoJy5oZWFkZXItZG93bmxvYWQge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5a+86Iiq5qCP5LiL6L295oyJ6ZKuCiAgICBHTV9hZGRTdHlsZSgnLmluZGV4X2NhbGwtYXBwLWJ0biB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/miZPlvIBhcHDmj5DnpLrmjInpkq4gLy/miZPlvIBBUFDvvIznnIvmm7TlpJrlpb3mlocKICAgIEdNX2FkZFN0eWxlKCcubm90ZV9fZmxvd19fZG93bmxvYWQge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5paH56ug5YiX6KGo5YaFIGFwcOWGheafpeeci+aPkOekuuaMiemSrgogICAgLy/lvqrnjq/liKDpmaTliJfooajlub/lkYoKICAgIHVuc2FmZVdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIGxvb3AgPSB1bnNhZmVXaW5kb3cuc2V0SW50ZXJ2YWwoCiAgICAgICAgICAgIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuZmxvdy1saXN0LXVsIikpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmZsb3ctbGlzdC11bCIpLmNoaWxkcmVuWzFdKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmZsb3ctbGlzdC11bCIpLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzFdKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncm0gIzAyJyk7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmZsb3ctbGlzdC11bCIpLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzFdLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobG9vcCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChsb29wKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGxvb3ApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAxMDAKICAgICAgICApfSk7CiAgICBHTV9hZGRTdHlsZSgnI2Zvb3RlciB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly9mb290ZXIKICAgIC8v56e76Zmk5pi+56S6YXBw5LiL6L29LOWxleW8gOabtOWkmgogICAgR01fYWRkU3R5bGUoJy53cmFwcGVyLWtCdGVRXzAge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v6ZqQ6JeP5bGV5byA5pu05aSa5by556qXCiAgICAvL+WxleW8gOabtOWkmmhvb2sgLy9idWcgPT4g5paH56ug6aG16L+b5YWl5Li76aG15ZCO5aSx5pWILy/lt7Lop6PlhrMgI0JVRzAwMQogICAgdW5zYWZlV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXsgJCgiLmxvZ28td3JhcCIpLmNsaWNrKGZ1bmN0aW9uKCl7d2luZG93LmxvY2F0aW9uLnJlcGxhY2UoImh0dHBzOi8vd3d3LmppYW5zaHUuY29tLyIpO30pIH0sMTAwMCk7Ly/op6PlhrNidWcgI0JVRzAwMSA944CLIOWboOS4uuWumOaWueacquWIt+aWsOmhtemdouetlueVpeWvvOiHtO+8jOa3u+WKoOWIt+aWsOetlueVpQogICAgLy/mlrnms5UyIHVuc2FmZVdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IGlmKCQoJy5mbG93LWxpc3QtcGxhY2Vob2xkZXItbG9hZC1tb3JlJykpeyQoJy5mbG93LWxpc3QtcGxhY2Vob2xkZXItbG9hZC1tb3JlJykuY2xpY2soZnVuY3Rpb24oKXtjb25zb2xlLmxvZygxMDAyMTI1NSk7JCgiLmRpYWxvZy0xZjZpWV8wIikucmVtb3ZlQ2xhc3MoKTtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY2FuY2VsIikuY2xpY2soKTt9KTt9fSwxMDAwKTsKICAgIHVuc2FmZVdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ICQkKCcuZmxvdy1saXN0LXBsYWNlaG9sZGVyLWxvYWQtbW9yZScpLmZvckVhY2goaXRlbT0+eyBpdGVtLm9uY2xpY2sgPSBlID0+IHtjb25zb2xlLmxvZygxMDAyMTI1NSk7JCgiLmRpYWxvZy0xZjZpWV8wIikucmVtb3ZlQ2xhc3MoKTtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY2FuY2VsIikuY2xpY2soKTt9fSk7IH0sMTAwMCk7CgogICAgLyovL+WOu+mZpOaWh+eroOmhtumDqOWSjOW6lemDqOW5v+WRigogICAgdmFyIHdwaGFkX2xvb3AgPSB1bnNhZmVXaW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIHdwaF9hZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2RpdlthcmlhLWxhYmVsPSJ3cGgtYWQiXScpOwogICAgICAgIGlmICh3cGhfYWQpIHsKICAgICAgICAgICAgd3BoX2FkLnJlbW92ZSgpOwogICAgICAgICAgICAvL2NsZWFySW50ZXJ2YWwod3BoYWRfbG9vcCk7CiAgICAgICAgfQogICAgfSwgMTAwMCk7Ki8vL+S4jei1t+S9nOeUqOW+heS/ruWkjQoKICAgIC8v5paH56ug6aG1CiAgICBHTV9hZGRTdHlsZSgnLmNhbGwtYXBwLWJ0biB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/miZPlvIBhcHDmj5DnpLrmjInpkq4gLy/miZPlvIBBUFDvvIznnIvmm7TlpJrlpb3mlocKICAgIEdNX2FkZFN0eWxlKCcuZG93bmxvYWQtYXBwLWd1aWRhbmNlIHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+aJk+W8gGFwcOe7p+e7rea1j+iniOWGheWuueW6lemDqOW8ueeqly8v6YOo5YiG5py65Z6LCiAgICBHTV9hZGRTdHlsZSgnLmFwcC1vcGVuIHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+aXtumXtOS+p+i+ueaJk+W8gEFwcOaMiemSrgogICAgR01fYWRkU3R5bGUoJy53cmFwcGVyLTIxVndmXzAge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5paH56ug5YaF5bm/5ZGKCiAgICBHTV9hZGRTdHlsZSgnLmxpbmUtY29udGFpbmVyIHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+ivseWvvOeCuei1nuaWh+acrAogICAgLy/lsZXlvIDlhajmlocKICAgIEdNX2FkZFN0eWxlKCcuY29sbGFwc2UtZnJlZS1jb250ZW50IHtwb3NpdGlvbjpzdGF0aWMgIWltcG9ydGFudDsgaGVpZ2h0OjEwMCUgIWltcG9ydGFudDsgb3ZlcmZsb3c6dmlzaWJsZSAhaW1wb3J0YW50OyBwYWRkaW5nLWxlZnQ6MCAhaW1wb3J0YW50O3BhZGRpbmctcmlnaHQ6MCAhaW1wb3J0YW50O21hcmdpbi1sZWZ0OjAgIWltcG9ydGFudDttYXJnaW4tcmlnaHQ6MCAhaW1wb3J0YW50O30nKTsKICAgIEdNX2FkZFN0eWxlKCcuY29sbGFwc2UtZnJlZS1jb250ZW50OmFmdGVyIHsgY29udGVudDpub3JtYWwgIWltcG9ydGFudDsgcG9zaXRpb246c3RhdGljICFpbXBvcnRhbnQ7IGxlZnQ6YXV0byAhaW1wb3J0YW50OyBib3R0b206YXV0byAhaW1wb3J0YW50O3dpZHRoOmF1dG8gIWltcG9ydGFudDtoZWlnaHQ6YXV0byAhaW1wb3J0YW50O30nKTsKICAgIEdNX2FkZFN0eWxlKCcuY29sbGFwc2UtdGlwcyB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/liKDpmaTlsZXlvIDlhajmlofmjInpkq4KICAgIHVuc2FmZVdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IGlmKCQoIi5ub3RlIikuY2hpbGRyZW4oKS5sZW5ndGggPT0gNil7JCgiLm5vdGUiKS5jaGlsZHJlbignOmxhc3QtY2hpbGQnKS5yZW1vdmUoKX0gfSw1MDApOyB1bnNhZmVXaW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpeyBpZigkKCIubm90ZSIpLmNoaWxkcmVuKCkubGVuZ3RoID09IDYpeyQoIi5ub3RlIikuY2hpbGRyZW4oJzpsYXN0LWNoaWxkJykucmVtb3ZlKCl9IH0sMjUwMCk7Ly/mlofnq6DlupXpg6jllK/lk4HkvJrlub/lkYoKICAgIC8vLy91bnNhZmVXaW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciAkJCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwuYmluZChkb2N1bWVudCk7ICQkKCcubm90ZS1ncmFjZWZ1bC1idXR0b24nKS5mb3JFYWNoKGl0ZW09PnsgaXRlbS5vbmNsaWNrID0gZSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7ZS5wcmV2ZW50RGVmYXVsdCgpOyB9IH0pO30sMTAwMCk7Ly/ljrvpmaTliarotLTmnb/niYjmnYPlo7DmmI4KICAgIEdNX2FkZFN0eWxlKCcuY29tbWVudC1vcGVuLWFwcC1idG4td3JhcCB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/or7Hlr7zmiZPlvIBBcHDvvIzmn6XnnIvlhajpg6jor4TorroKICAgIEdNX2FkZFN0eWxlKCcubW9yZSB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/mm7TlpJrnsr7lvanlhoXlrrkKICAgIEdNX2FkZFN0eWxlKCcucmVjb21tZW5kLXdyYXAucmVjb21tZW5kLWFkIHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+abtOWkmueyvuW9qeWGheWuuQogICAgR01fYWRkU3R5bGUoJy53cmFwcGVyLV9QVnNFXzAge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5bqV6YOo6LC35q2M5bm/5ZGKCgogICAgLy/lsI/or7Tmlofnq6DpobUKICAgIHVuc2FmZVdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ICQoIi5ib29rIikuY2hpbGRyZW4oJzpsYXN0LWNoaWxkJykucmVtb3ZlKCkgfSwxMDAwKTsvL+aWh+eroOW6lemDqOWUr+WTgeS8muW5v+WRigogICAgdW5zYWZlV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXsgJCgiLmJvb2staW5mbyIpLmNsaWNrKGZ1bmN0aW9uKCl7d2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJCgiLmJvb2staW5mbyIpLmF0dHIoJ2hyZWYnKSk7fSkgfSwxMDAwKTsvL+ino+WGs2J1ZyAjQlVHMDAxID3jgIsg5Zug5Li65a6Y5pa55pyq5Yi35paw6aG16Z2i562W55Wl5a+86Ie077yM5re75Yqg5Yi35paw562W55WlCn0KCgoKZnVuY3Rpb24gTW9iaWxlX3poaWh1KCl7CiAgICAvL+S4k+agjwogICAgaWYobG9jYXRpb24uaG9zdC5zdGFydHNXaXRoKCd6aHVhbmxhbicpKXsKICAgICAgICBTZXRVQSgiaXBob25lIik7CiAgICAgICAgR01fYWRkU3R5bGUoJy5Qb3N0LUJ1dHRvbi1WaWV3TW9yZSB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly8v5p+l55yL5pu05aSaL+aWh+WtlwogICAgICAgIEdNX2FkZFN0eWxlKCcuY3NzLTl6cWpjMy1Db21tZW50Q29udGVudCB7LXdlYmtpdC1saW5lLWNsYW1wOnVuc2V0ICFpbXBvcnRhbnR9Jyk7Ly/lrozmlbTmmL7npLoKICAgICAgICB1bnNhZmVXaW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuUG9zdC1TdWIiKSl7IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5Qb3N0LVN1YiIpLm9uY2xpY2sgPSBmdW5jdGlvbihlKXsgZS5zdG9wUHJvcGFnYXRpb24oKSB9IH0KICAgICAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNzcy1xYnViZ20iKSl7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNzcy1xYnViZ20iKS5vbmNsaWNrID0gZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICB2YXIgWkxfcGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY3NzLTE4bnJ4a24tUHJldmlld0NvbW1lbnRDb250ZW50Iik7CiAgICAgICAgICAgICAgICBpZihaTF9wbCl7CiAgICAgICAgICAgICAgICAgICAgWkxfcGwuc2Nyb2xsSW50b1ZpZXcoewogICAgICAgICAgICAgICAgICAgICAgICBiZWhhdmlvcjogInNtb290aCIsIC8vIOWumuS5ieWKqOeUu+i/h+a4oeaViOaenO+8jCAiYXV0byLmiJYgInNtb290aCIg5LmL5LiA44CC6buY6K6k5Li6ICJhdXRvIgogICAgICAgICAgICAgICAgICAgICAgICAvL2Jsb2NrOiAiY2VudGVyIiwgLy8g5a6a5LmJ5Z6C55u05pa55ZCR55qE5a+56b2Q77yMICJzdGFydCIsICJjZW50ZXIiLCAiZW5kIiwg5oiWICJuZWFyZXN0IuS5i+S4gOOAgum7mOiupOS4uiAic3RhcnQiCiAgICAgICAgICAgICAgICAgICAgICAgIC8vaW5saW5lOiAibmVhcmVzdCIgLy8g5a6a5LmJ5rC05bmz5pa55ZCR55qE5a+56b2Q77yMICJzdGFydCIsICJjZW50ZXIiLCAiZW5kIiwg5oiWICJuZWFyZXN0IuS5i+S4gOOAgum7mOiupOS4uiAibmVhcmVzdCIKICAgICAgICAgICAgICAgICAgICB9KTsvL+i3s+i9rOivhOiuugogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9fQogICAgICAgIH0sMTAwMCk7CiAgICB9ZWxzZXtTZXRVQSgiaVBhZCIpfQoKICAgIC8v6aaW6aG1CiAgICBHTV9hZGRTdHlsZSgnLk1vYmlsZUFwcEhlYWRlci1kb3dubG9hZExpbmsge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5a+86Iiq5qCP5LiL6L29YXBwCiAgICBHTV9hZGRTdHlsZSgnLk1vYmlsZUFwcEhlYWRlci1hdXRoTGluayB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/lr7zoiKrmoI/ms6jlhoznmbvlvZUKICAgIEdNX2FkZFN0eWxlKCcuTW9iaWxlQXBwSGVhZGVyLXNlYXJjaEJveFdpdGhVbmxvZ2luIHt3aWR0aDogNzAlICFpbXBvcnRhbnR9Jyk7Ly/mkJzntKLmoYbmi4nplb8KICAgIEdNX2FkZFN0eWxlKCcuT3BlbkluQXBwQnV0dG9uIHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+aJk+W8gGFwcOaMiemSrgogICAgLy9HTV9hZGRTdHlsZSgnLkRvd25sb2FkR3VpZGUtLWRvd25sb2FkQnV0dG9uIHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+S4i+i9vWFwcOaMiemSriAtPgogICAgLy/mm7TmlLnkuLrnmbvlvZXmjInpkq4KICAgIHZhciB1cmwgPSB1bnNhZmVXaW5kb3cubG9jYXRpb24uaHJlZjsKICAgIGlmKHVybCA9PSAiaHR0cHM6Ly93d3cuemhpaHUuY29tLyIgfHwgdXJsLmluZGV4T2YoImh0dHBzOi8vd3d3LnpoaWh1LmNvbS8/dXRtX3NvdXJjZT16aGlodSIpIT0tMSl7CiAgICAgICAgdW5zYWZlV2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5Eb3dubG9hZEd1aWRlLS1kb3dubG9hZEJ1dHRvbiIpKXsKICAgICAgICAgICAgICAgIHZhciBsb2dpbl9idXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuRG93bmxvYWRHdWlkZS0tZG93bmxvYWRCdXR0b24iKS5xdWVyeVNlbGVjdG9yKCJhIik7CiAgICAgICAgICAgICAgICBsb2dpbl9idXR0b24udGV4dCA9ICLnmbvlvZUiOwogICAgICAgICAgICAgICAgbG9naW5fYnV0dG9uLmhyZWYgPSAiaHR0cHM6Ly93d3cuemhpaHUuY29tL3NpZ25pbj9uZXh0PWh0dHBzOi8vd3d3LnpoaWh1LmNvbS8iOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgLy88LQogICAgLy/lr7zoiKrmoI/mt7vliqDmkJzntKLmoYYKICAgIGlmKHVybCAhPSAiaHR0cHM6Ly93d3cuemhpaHUuY29tL3NlYXJjaD90eXBlPWNvbnRlbnQmcT0iKXsKICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICAgIGlucHV0LnR5cGUgPSAic2VhcmNoIjsgaW5wdXQuY2xhc3NOYW1lID0gIklucHV0IjsgaW5wdXQucGxhY2Vob2xkZXI9IuaQnOe0oiI7IGlucHV0LnZhbHVlPSIiOwogICAgICAgIHZhciBzZWFyY2hCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOwogICAgICAgIHNlYXJjaEJveC5jbGFzc05hbWUgPSAiTW9iaWxlQXBwSGVhZGVyLXNlYXJjaEJveCBNb2JpbGVBcHBIZWFkZXItc2VhcmNoQm94V2l0aFVubG9naW4gSW5wdXQtd3JhcHBlciI7CiAgICAgICAgdmFyIHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwYXRoJyk7CiAgICAgICAgcGF0aC5zZXRBdHRyaWJ1dGUoImQiLCAiTSAxNy4wNjggMTUuNTggYSA4LjM3NyA4LjM3NyAwIDAgMCAxLjc3NCAtNS4xNTkgYSA4LjQyMSA4LjQyMSAwIDEgMCAtOC40MiA4LjQyMSBhIDguMzggOC4zOCAwIDAgMCA1LjE1OCAtMS43NzQgbCAzLjg3OSAzLjg4IGMgMC45NTcgMC41NzMgMi4xMzEgLTAuNDY0IDEuNDg4IC0xLjQ5IGwgLTMuODc5IC0zLjg3OCBaIG0gLTYuNjQ3IDEuMTU3IGEgNi4zMjMgNi4zMjMgMCAwIDEgLTYuMzE2IC02LjMxNiBhIDYuMzIzIDYuMzIzIDAgMCAxIDYuMzE2IC02LjMxNiBhIDYuMzIzIDYuMzIzIDAgMCAxIDYuMzE2IDYuMzE2IGEgNi4zMjMgNi4zMjMgMCAwIDEgLTYuMzE2IDYuMzE2IFoiKTsKICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgiZmlsbC1ydWxlIiwiZXZlbm9kZCIpOwogICAgICAgIHZhciBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdmcnKTsKICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCJjbGFzcyIsIlppIFppLS1TZWFyY2giKTsKICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCJmaWxsIiwiIzk5OSIpOwogICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoInZpZXdCb3giLCIwIDAgMjQgMjQiKTsKICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCJ3aWR0aCIsIjE4Iik7CiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IiwiMTgiKTsKICAgICAgICBzdmcuYXBwZW5kKHBhdGgpOwogICAgICAgIHNlYXJjaEJveC5hcHBlbmQoc3ZnKTsKICAgICAgICBzZWFyY2hCb3guYXBwZW5kKGlucHV0KTsKICAgICAgICB1bnNhZmVXaW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpeyBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuTW9iaWxlQXBwSGVhZGVyLWlubmVyIikpe2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5Nb2JpbGVBcHBIZWFkZXItaW5uZXIiKS5hcHBlbmQoc2VhcmNoQm94KX19LDEwMCk7CiAgICAgICAgdW5zYWZlV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXsgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLk1vYmlsZUFwcEhlYWRlci1pbm5lciIpKXtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuTW9iaWxlQXBwSGVhZGVyLWlubmVyIikuYXBwZW5kKHNlYXJjaEJveCl9fSwxMDAwKTsKICAgICAgICBzZWFyY2hCb3gub25jbGljayA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCJodHRwczovL3d3dy56aGlodS5jb20vc2VhcmNoP3R5cGU9Y29udGVudCZxPSIpOwogICAgICAgIH19ZWxzZXsvL+aQnOe0ouahhueCueWHu+S7jeaciemXrumimO+8jEJVRyAwMDIKICAgICAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLklucHV0IikpewogICAgICAgICAgICAgICAgdW5zYWZlV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXsgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLklucHV0IikuZm9jdXMoKTt9LDEwMDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5JbnB1dCIpLmZvY3VzKCk7CiAgICAgICAgfS8vRU5EIEJVRyAwMDIKCiAgICAvL+aWh+eroOivpuaDhemhtQogICAgR01fYWRkU3R5bGUoJy5NQmFubmVyQWQge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5paH56ug5bqV6YOo5bm/5ZGKCiAgICBHTV9hZGRTdHlsZSgnLkNhcmQuUmVsYXRlZFJlYWRpbmdze2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8v5paH56ug5bqV6YOo5bm/5ZGKCiAgICBHTV9hZGRTdHlsZSgnLk1Ib3RGZWVkQWR7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/ng63pl6jmjqjojZDliJfooajlub/lkYoKICAgIEdNX2FkZFN0eWxlKCcuSG90UXVlc3Rpb25zLWJvdHRvbUJ1dHRvbntkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+W6lemDqOaJk+W8gGFwcAp9CgoKZnVuY3Rpb24gTW9iaWxlX2NzZG4oKXsKICAgIFNldFVBKCJpcGhvbmUiKTsgLy/ml6DmlYgKICAgIC8v6aaW6aG1CiAgICBHTV9hZGRTdHlsZSgnI2xvZ2luVGFnIHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+WvvOiIquagj+azqOWGjOeZu+W9lQogICAgR01fYWRkU3R5bGUoJy5mZWVkLVNpZ24tc3BhbiB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50fScpOy8v5omT5byAYXBw5oyJ6ZKuCiAgICBHTV9hZGRTdHlsZSgnLnNlYXJjaF9ib3gge3dpZHRoOiAyMjBweCAhaW1wb3J0YW50fScpOy8v5pCc57Si5qGG5ouJ6ZW/CgogICAgLy/mlofnq6Dor6bmg4XpobUKICAgIEdNX2FkZFN0eWxlKCcud2VpeGluLXNoYWRvd2JveC53YXAtc2hhZG93Ym94IHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+ivseWvvOS4i+i9veW5tuaJk+W8gEFQUOW8ueeqlyjlhajlsY8pCiAgICBHTV9hZGRTdHlsZSgnLmZlZWQtU2lnbi1zcGFuIHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL2FwcOaJk+W8gOaMiemSrgogICAgR01fYWRkU3R5bGUoJyNsb2dpblRhZyB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/lr7zoiKrmoI/nmbvlvZUKICAgIEdNX2FkZFN0eWxlKCcuYnRuX29wZW5fYXBwX3Byb21wdF9kaXZ7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/miZPlvIBhcHDmjInpkq4KICAgIEdNX2FkZFN0eWxlKCcucmVhZGFsbF9ib3h7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/lrozlhajmmL7npLrmlofnq6AKICAgIEdNX2FkZFN0eWxlKCcuYXJ0aWNsZV9jb250ZW50e292ZXJmbG93OnZpc2libGUgIWltcG9ydGFudDsgaGVpZ2h0OmF1dG8gIWltcG9ydGFudDt9Jyk7Ly/lrozlhajmmL7npLrmlofnq6AKICAgIEdNX2FkZFN0eWxlKCcudmlld19jb21tZW50X2JveHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL2FwcOaJk+W8gOaMiemSrgogICAgR01fYWRkU3R5bGUoJyNmaXJzdF9yZWNvbW1lbmRfbGlzdHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+WOu+mZpOacgOWFiOaOqOiNkAogICAgLy9HTV9hZGRTdHlsZSgnLmZsYWd7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly/ljrvpmaTmtY/op4jlmajmiZPlvIDlrZfmoLcKCiAgICAvL+W6lemDqOW5v+WRigogICAgR01fYWRkU3R5bGUoJy5hZGQtZmlyc3RBZCB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50fScpOy8v5paH56ug5bqV6YOo5bm/5ZGKCgogICAgLy8tLT7mnKrop6PlhrPvvIHvvIHvvIHvvIHvvIEKICAgIC8v54K55Ye76K+E6K665oyJ6ZKu6Lez6L2s6K+E6K665Yy6CiAgICB1bnNhZmVXaW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgIHZhciBjb21tZW50X2J1dHRvbiA9ICQoInNwYW4uaGF2ZV9jb3VudCIpOwogICAgICAgIGNvbW1lbnRfYnV0dG9uLnVuYmluZCgiY2xpY2siKTsvL+ino+e7kQogICAgICAgIGNvbW1lbnRfYnV0dG9uLm9uKCJjbGljayIsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb21tZW50Jykuc2Nyb2xsSW50b1ZpZXcoewogICAgICAgICAgICAgICAgYmVoYXZpb3I6ICJzbW9vdGgiLCAvLyDlrprkuYnliqjnlLvov4fmuKHmlYjmnpzvvIwgImF1dG8i5oiWICJzbW9vdGgiIOS5i+S4gOOAgum7mOiupOS4uiAiYXV0byIKICAgICAgICAgICAgICAgIC8vYmxvY2s6ICJjZW50ZXIiLCAvLyDlrprkuYnlnoLnm7TmlrnlkJHnmoTlr7npvZDvvIwgInN0YXJ0IiwgImNlbnRlciIsICJlbmQiLCDmiJYgIm5lYXJlc3Qi5LmL5LiA44CC6buY6K6k5Li6ICJzdGFydCIKICAgICAgICAgICAgICAgIC8vaW5saW5lOiAibmVhcmVzdCIgLy8g5a6a5LmJ5rC05bmz5pa55ZCR55qE5a+56b2Q77yMICJzdGFydCIsICJjZW50ZXIiLCAiZW5kIiwg5oiWICJuZWFyZXN0IuS5i+S4gOOAgum7mOiupOS4uiAibmVhcmVzdCIKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7Ly/ph43nu5EKICAgIH0sMTAwMCk7CiAgICAvLzwtLeacquino+WGs++8ge+8ge+8ge+8ge+8ge+8gQoKICAgIC8v5LyY5YyW55u45YWz5o6o6I2QLeWFjei3s+i9rOS4i+i9vWFwcC3mjqjojZDliIbnsbsKICAgIE1vYmlsZV9jc2RuX1JlY29tbWVuZCgpOwp9CgpmdW5jdGlvbiBNb2JpbGVfY3Nkbl9SZWNvbW1lbmQoKXsKICAgIC8v5pqC5pe25peg5pWIICAgJCgiLnJlY29tbWVuZC1qdW1wLWFwcCIpLnVuYmluZCgpOy8v6Kej57uR5LiL6L29QVBQ5LqL5Lu2Cn0KCgovL+eugOWMlkNTRE4sIOaPkOWNh+mYheivu+S9k+mqjApmdW5jdGlvbiBDbGVhbl9jc2RuKCl7CiAgICB2YXIgbW9iaWxlPS8oQW5kcm9pZHxpUGhvbmV8aVBhZCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpOwogICAgaWYobW9iaWxlKXtyZXR1cm47fS8v56e75Yqo56uv5peg6ZyA566A5YyW6aG16Z2iCgogICAgdmFyIHVybCA9IHVuc2FmZVdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgdmFyIHJlX2FydGljbGVfZGV0YWlscyA9IC9odHRwczpcL1wvKC4qKWJsb2cuY3Nkbi5uZXRcLyhcdyopKFwvKilhcnRpY2xlXC9kZXRhaWxzXC8oXHcrKS87CiAgICB2YXIgcmVfYmxvZ19ob21lID0gLyheaHR0cHM6XC9cLyhcdyopLmJsb2cuY3Nkbi5uZXRcLyQpfCheaHR0cHM6XC9cL2Jsb2cuY3Nkbi5uZXRcLyhcd1wvKikoKD8hYXJ0aWNsZVwvZGV0YWlscykuKSskKS87CgogICAgaWYgKEdNX2dldFZhbHVlKCJtZW51X0dBRUVTY3JpcHRfdGNfQ1NETiIpKSB7CiAgICAgICAgaWYodXJsLm1hdGNoKHJlX2FydGljbGVfZGV0YWlscykpewogICAgICAgICAgICBjb25zb2xlLmxvZygiW0NTRE5d5qOA5rWL5Yiw5paH56ug6K+m5oOF6aG1Iik7CiAgICAgICAgICAgIENsZWFuX2NzZG5fYXJ0aWNsZV9kZXRhaWxzKCk7Ly/nroDljJbmlofnq6Dor6bmg4XpobUKICAgICAgICB9CiAgICAgICAgZWxzZSBpZih1cmwubWF0Y2gocmVfYmxvZ19ob21lKSl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJbQ1NETl3mo4DmtYvliLDkuKrkurrljZrlrqLpobXpnaIiKTsKICAgICAgICAgICAgQ2xlYW5fY3Nkbl9ibG9nX2hvbWUoKTsvL+eugOWMluS4quS6uuWNmuWuoumhtQogICAgICAgIH0KICAgICAgICAvL+eugOWMlummlumhtQogICAgICAgIC8vKC4uLikKICAgIH0KfQoKLy/nroDljJZDU0ROLeeugOWMluaWh+eroOivpuaDhemhtQpmdW5jdGlvbiBDbGVhbl9jc2RuX2FydGljbGVfZGV0YWlscygpewogICAgdmFyIGRpZCA9IGZhbHNlOwogICAgdmFyIHdoaXRlVGhlbWUgPSB0cnVlOwoKICAgIC8v6IOM5pmv6aKc6Imy5Yik5patCiAgICBpZigkKCdib2R5JykuYXR0cignY2xhc3MnKT09J25vZGF0YSBpc19ibGFja19za2luICcpe3doaXRlVGhlbWUgPSBmYWxzZTt9CiAgICAvL+mhtemdouWxheS4rSAtPgogICAgdmFyIGNvdW50ID0gMDsKICAgIHZhciBwYWdlX3dpZHRoID0gJCgiLm5vZGF0YSAuY29udGFpbmVyIikud2lkdGgoKTsvL+mhtemdouWOn+Wni+WuveW6pgogICAgdmFyIHBhZ2Vfd2lkdGhfWSA9IHBhZ2Vfd2lkdGggLSA2NzsvL+mhtemdouWxheS4reWQjuWuveW6pgogICAgdmFyIF9wYWdlID0gdW5zYWZlV2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBjb3VudCArPSAxOwogICAgICAgIGlmKGNvdW50Pj0xMCl7IHVuc2FmZVdpbmRvdy5jbGVhckludGVydmFsKF9wYWdlKSB9CiAgICAgICAgY29uc29sZS5sb2coIltDU0RO566A5YyWXemhtemdouato+WcqOiuvue9ruWxheS4rSIpOwogICAgICAgIGNvbnNvbGUubG9nKCJwYWdlX3dpZHRoOiAiK3BhZ2Vfd2lkdGgpOwogICAgICAgIGNvbnNvbGUubG9nKCJwYWdlX3dpZHRoX1k6IitwYWdlX3dpZHRoX1kpOwogICAgICAgIGlmKHBhZ2Vfd2lkdGggPT09IHVuZGVmaW5lZCl7CiAgICAgICAgICAgIHBhZ2Vfd2lkdGggPSAkKCIubm9kYXRhIC5jb250YWluZXIiKS53aWR0aCgpOwogICAgICAgICAgICBwYWdlX3dpZHRoX1kgPSBwYWdlX3dpZHRoIC0gNjc7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGlmKCQoIi5ub2RhdGEgLmNvbnRhaW5lciIpLndpZHRoKCkgPT0gcGFnZV93aWR0aF9ZKXsgdW5zYWZlV2luZG93LmNsZWFySW50ZXJ2YWwoX3BhZ2UpIH0KICAgICAgICAgICAgJCgiLm5vZGF0YSAuY29udGFpbmVyIikud2lkdGgocGFnZV93aWR0aF9ZKTsvL0dNX2FkZFN0eWxlKCcubm9kYXRhIC5jb250YWluZXIge3dpZHRoOjEyNjZweCAhaW1wb3J0YW50fScpOy8v6aG16Z2i5bGF5LitCiAgICAgICAgfQogICAgfSwwKTsKICAgIC8v6aG16Z2i5bGF5LitIDwtCgogICAgR01fYWRkU3R5bGUoJy5ibG9nX2NvbnRhaW5lcl9hc2lkZSB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly8v6ZqQ6JeP5L6n6L655qCPCiAgICAkKCIubWFpbl9mYXRoZXIiKS5yZW1vdmVDbGFzcygianVzdGlmeS1jb250ZW50LWNlbnRlciIpOy8v5qC35byP5oGi5aSNCiAgICBpZiAod2hpdGVUaGVtZSkgewogICAgICAgIC8vIOeZveiJsuiDjOaZrwogICAgICAgICQoJy5tYWluX2ZhdGhlcicpLmF0dHIoJ3N0eWxlJywgJ2JhY2tncm91bmQtaW1hZ2U6IG5vbmUgIWltcG9ydGFudDsgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjZmNzsgYmFja2dyb3VuZDogI2Y1ZjZmNzsnKTsKICAgICAgICAkKCdbaHJlZl49Imh0dHBzOi8vY3NkbmltZy5jbi9yZWxlYXNlL3Bob2VuaXgvdGVtcGxhdGUvdGhlbWVzX3NraW4vIl0nKS5hdHRyKCdocmVmJywgJ2h0dHBzOi8vY3NkbmltZy5jbi9yZWxlYXNlL3Bob2VuaXgvdGVtcGxhdGUvdGhlbWVzX3NraW4vc2tpbi10ZWNobm9sb2d5L3NraW4tdGVjaG5vbG9neS02MzM2NTQ5NTU3Lm1pbi5jc3MnKTsKICAgICAgICAkKCcjY3Nkbi10b29sYmFyJykucmVtb3ZlQ2xhc3MoJ2NzZG4tdG9vbGJhci1za2luLWJsYWNrJyk7CiAgICAgICAgJCgnLmNzZG4tbG9nbycpLmF0dHIoJ3NyYycsICcvL2NzZG5pbWcuY24vY2RuL2NvbnRlbnQtdG9vbGJhci9jc2RuLWxvZ28ucG5nP3Y9MjAyMDA0MTYuMScpOwogICAgfWVsc2V7CiAgICAgICAgLy8g6buR6Imy6IOM5pmvCiAgICAgICAgdmFyIF9wYWdlX2JnID0gdW5zYWZlV2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgnLm1haW5fZmF0aGVyJykuYXR0cignc3R5bGUnLCAnYmFja2dyb3VuZC1jb2xvcjogIzI0MjQyNDsgYmFja2dyb3VuZDogIzI0MjQyNDsnKTsKICAgICAgICAgICAgaWYoJCgnLm1haW5fZmF0aGVyJykuYXR0cignc3R5bGUnKT09J2JhY2tncm91bmQtY29sb3I6ICMyNDI0MjQ7IGJhY2tncm91bmQ6ICMyNDI0MjQ7Jyl7dW5zYWZlV2luZG93LmNsZWFySW50ZXJ2YWwoX3BhZ2VfYmcpfQogICAgICAgIH0sMCk7CiAgICB9CgogICAgdmFyIF90aGlzID0gdW5zYWZlV2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHsvL+WkmuasoeWKoOi9veWinuWKoOmygeajkuaApwogICAgICAgIGNvbnNvbGUubG9nKCJbQ1NETueugOWMll3mlofnq6Dog4zmma/nroDljJbkuK0iKTsKICAgICAgICAvL0dNX2FkZFN0eWxlKCcuYmxvZ19jb250YWluZXJfYXNpZGUge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOwogICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5ibG9nX2NvbnRhaW5lcl9hc2lkZSIpKXsKICAgICAgICAgICAgLy8kKCIuYmxvZ19jb250YWluZXJfYXNpZGUiKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8kKCIubWFpbl9mYXRoZXIiKS5yZW1vdmVDbGFzcygianVzdGlmeS1jb250ZW50LWNlbnRlciIpOwoKICAgICAgICAgICAgR01fYWRkU3R5bGUoJy5ibG9nX2NvbnRhaW5lcl9hc2lkZSB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly8v5L6n6L655qCPCiAgICAgICAgICAgICQoIi5tYWluX2ZhdGhlciIpLnJlbW92ZUNsYXNzKCJqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIik7Ly/moLflvI/mgaLlpI0KICAgICAgICAgICAgaWYgKHdoaXRlVGhlbWUpIHsKICAgICAgICAgICAgICAgIC8vIOeZveiJsuiDjOaZrwogICAgICAgICAgICAgICAgJCgnLm1haW5fZmF0aGVyJykuYXR0cignc3R5bGUnLCAnYmFja2dyb3VuZC1pbWFnZTogbm9uZSAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNmY3OyBiYWNrZ3JvdW5kOiAjZjVmNmY3OycpOwogICAgICAgICAgICAgICAgJCgnW2hyZWZePSJodHRwczovL2NzZG5pbWcuY24vcmVsZWFzZS9waG9lbml4L3RlbXBsYXRlL3RoZW1lc19za2luLyJdJykuYXR0cignaHJlZicsICdodHRwczovL2NzZG5pbWcuY24vcmVsZWFzZS9waG9lbml4L3RlbXBsYXRlL3RoZW1lc19za2luL3NraW4tdGVjaG5vbG9neS9za2luLXRlY2hub2xvZ3ktNjMzNjU0OTU1Ny5taW4uY3NzJyk7CiAgICAgICAgICAgICAgICAkKCcjY3Nkbi10b29sYmFyJykucmVtb3ZlQ2xhc3MoJ2NzZG4tdG9vbGJhci1za2luLWJsYWNrJyk7CiAgICAgICAgICAgICAgICAkKCcuY3Nkbi1sb2dvJykuYXR0cignc3JjJywgJy8vY3NkbmltZy5jbi9jZG4vY29udGVudC10b29sYmFyL2NzZG4tbG9nby5wbmc/dj0yMDIwMDQxNi4xJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5jbGVhckludGVydmFsKF90aGlzKTsKICAgICAgICB9CiAgICB9LDEwKTsKCiAgICBHTV9hZGRTdHlsZSgnLnRlbXBsYXRlLWJveCB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7CiAgICBHTV9hZGRTdHlsZSgnI2NvcHlyaWdodC1ib3gge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOwogICAgdW5zYWZlV2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAvL2NvbnNvbGUubG9nKCJbQ1NETueugOWMll3mlofnq6Dlrr3luqboh6rpgILlupTkuK0iKTsKICAgICAgICAvLyDmlofnq6Dlrr3luqboh6rpgILlupQgLy9mcm9tIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy8zNzgzNTEtJUU2JThDJTgxJUU3JUJCJUFEJUU2JTlCJUI0JUU2JTk2JUIwLWNzZG4lRTUlQjklQkYlRTUlOTElOEElRTUlQUUlOEMlRTUlODUlQTglRTglQkYlODclRTYlQkIlQTQtJUU0JUJBJUJBJUU2JTgwJUE3JUU1JThDJTk2JUU4JTg0JTlBJUU2JTlDJUFDJUU0JUJDJTk4JUU1JThDJTk2LSVFNCVCOCU4RCVFNyU5NCVBOCVFNSU4NiU4RCVFNyU5OSVCQiVFNSVCRCU5NSVFNCVCQSU4Ni0lRTglQUUlQTklRTQlQkQlQTAlRTQlQkQlOTMlRTklQUElOEMlRTQlQkIlQTQlRTQlQkElQkElRTYlODMlOEElRTUlOTYlOUMlRTclOUElODQlRTUlQjQlQUQlRTYlOTYlQjBjc2RuCiAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgMTEwMCkgewogICAgICAgICAgICAvLyDliKDpmaTljp/mnInlk43lupTlvI/moLflvI8KICAgICAgICAgICAgJCgiLm1haW5fZmF0aGVyIikucmVtb3ZlQ2xhc3MoImp1c3RpZnktY29udGVudC1jZW50ZXIiKTsKICAgICAgICAgICAgJCgiY3Nkbi1zaWRlLXRvb2xiYXIiKS5jc3MoImxlZnQiLCAiYXV0byIpOwogICAgICAgICAgICAkKCJhcnRpY2xlIikud2lkdGgod2luZG93LmlubmVyV2lkdGggLSAxNTApOwogICAgICAgICAgICBHTV9hZGRTdHlsZShgCiAgICAgICAgICAgICAgICAgICAgICAgIG1haW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogYXV0byFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9hdDogbm9uZSFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDkwdnc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgbWFpbiBhcnRpY2xlIGltZ3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYCk7CiAgICAgICAgICAgIGRpZCA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKGRpZCA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgJCgiYXJ0aWNsZSIpLnJlbW92ZUF0dHIoInN0eWxlIik7CiAgICAgICAgICAgICAgICBkaWQgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sIDUwMCk7Cn0KCi8v566A5YyWQ1NETi3nroDljJbkuKrkurrljZrlrqLpobUKZnVuY3Rpb24gQ2xlYW5fY3Nkbl9ibG9nX2hvbWUoKXsKICAgIHZhciB3aGl0ZVRoZW1lID0gdHJ1ZTsKCiAgICAvL+mhtemdouWxheS4rSAtPgogICAgdmFyIGNvdW50ID0gMDsKICAgIHZhciBwYWdlX3dpZHRoID0gJCgiI21haW5Cb3giKS53aWR0aCgpOy8v6aG16Z2i5Y6f5aeL5a695bqmCiAgICB2YXIgcGFnZV93aWR0aF9ZID0gcGFnZV93aWR0aCAtIDI3MTsvL+mhtemdouWxheS4reWQjuWuveW6pgogICAgdmFyIF9wYWdlID0gdW5zYWZlV2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBjb3VudCArPSAxOwogICAgICAgIGlmKGNvdW50Pj0xMCl7IHVuc2FmZVdpbmRvdy5jbGVhckludGVydmFsKF9wYWdlKSB9CiAgICAgICAgY29uc29sZS5sb2coIltDU0RO566A5YyWXemhtemdouato+WcqOiuvue9ruWxheS4rSIpOwogICAgICAgIGNvbnNvbGUubG9nKCJwYWdlX3dpZHRoOiAiK3BhZ2Vfd2lkdGgpOwogICAgICAgIGNvbnNvbGUubG9nKCJwYWdlX3dpZHRoX1k6IitwYWdlX3dpZHRoX1kpOwogICAgICAgIGlmKHBhZ2Vfd2lkdGggPT09IHVuZGVmaW5lZCl7CiAgICAgICAgICAgIHBhZ2Vfd2lkdGggPSAkKCIjbWFpbkJveCIpLndpZHRoKCk7CiAgICAgICAgICAgIHBhZ2Vfd2lkdGhfWSA9IHBhZ2Vfd2lkdGggLSAyNzE7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGlmKCQoIiNtYWluQm94Iikud2lkdGgoKSA9PSBwYWdlX3dpZHRoX1kpeyB1bnNhZmVXaW5kb3cuY2xlYXJJbnRlcnZhbChfcGFnZSkgfQogICAgICAgICAgICAkKCIjbWFpbkJveCIpLndpZHRoKHBhZ2Vfd2lkdGhfWSk7Ly9HTV9hZGRTdHlsZSgnI21haW5Cb3gge3dpZHRoOjEwNjdweCAhaW1wb3J0YW50fScpOy8v6aG16Z2i5bGF5LitCiAgICAgICAgfQogICAgfSwxMCk7CiAgICAvL+mhtemdouWxheS4rSA8LQoKICAgIEdNX2FkZFN0eWxlKCcuYmxvZ19jb250YWluZXJfYXNpZGUge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOy8vL+makOiXj+S+p+i+ueagjwogICAgLyoKICAgICQoImJvZHkiKS5yZW1vdmVDbGFzcygianVzdGlmeS1jb250ZW50LWNlbnRlciIpOy8v5qC35byP5oGi5aSNCiAgICBpZiAod2hpdGVUaGVtZSkgewogICAgICAgIC8vIOeZveiJsuiDjOaZrwogICAgICAgICQoJy5ub2RhdGEgJykuYXR0cignc3R5bGUnLCAnYmFja2dyb3VuZC1pbWFnZTogbm9uZSAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNmY3OyBiYWNrZ3JvdW5kOiAjZjVmNmY3OycpOwogICAgICAgICQoJ1tocmVmXj0iaHR0cHM6Ly9jc2RuaW1nLmNuL3JlbGVhc2UvcGhvZW5peC90ZW1wbGF0ZS90aGVtZXNfc2tpbi8iXScpLmF0dHIoJ2hyZWYnLCAnaHR0cHM6Ly9jc2RuaW1nLmNuL3JlbGVhc2UvcGhvZW5peC90ZW1wbGF0ZS90aGVtZXNfc2tpbi9za2luLXRlY2hub2xvZ3kvc2tpbi10ZWNobm9sb2d5LTYzMzY1NDk1NTcubWluLmNzcycpOwogICAgICAgICQoJyNjc2RuLXRvb2xiYXInKS5yZW1vdmVDbGFzcygnY3Nkbi10b29sYmFyLXNraW4tYmxhY2snKTsKICAgICAgICAkKCcuY3Nkbi1sb2dvJykuYXR0cignc3JjJywgJy8vY3NkbmltZy5jbi9jZG4vY29udGVudC10b29sYmFyL2NzZG4tbG9nby5wbmc/dj0yMDIwMDQxNi4xJyk7CiAgICB9CgogICAgdmFyIF90aGlzID0gdW5zYWZlV2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHsvL+WkmuasoeWKoOi9veWinuWKoOmygeajkuaApwogICAgICAgIGNvbnNvbGUubG9nKCJbQ1NETueugOWMll3mlofnq6Dog4zmma/nroDljJbkuK0iKTsKICAgICAgICAvL0dNX2FkZFN0eWxlKCcuYmxvZ19jb250YWluZXJfYXNpZGUge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOwogICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5ibG9nX2NvbnRhaW5lcl9hc2lkZSIpKXsKICAgICAgICAgICAgLy8kKCIuYmxvZ19jb250YWluZXJfYXNpZGUiKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8kKCIubWFpbl9mYXRoZXIiKS5yZW1vdmVDbGFzcygianVzdGlmeS1jb250ZW50LWNlbnRlciIpOwoKICAgICAgICAgICAgR01fYWRkU3R5bGUoJy5ibG9nX2NvbnRhaW5lcl9hc2lkZSB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7Ly8v5L6n6L655qCPCiAgICAgICAgICAgICQoIi5tYWluX2ZhdGhlciIpLnJlbW92ZUNsYXNzKCJqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIik7Ly/moLflvI/mgaLlpI0KICAgICAgICAgICAgaWYgKHdoaXRlVGhlbWUpIHsKICAgICAgICAgICAgICAgIC8vIOeZveiJsuiDjOaZrwogICAgICAgICAgICAgICAgJCgnLm1haW5fZmF0aGVyJykuYXR0cignc3R5bGUnLCAnYmFja2dyb3VuZC1pbWFnZTogbm9uZSAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNmY3OyBiYWNrZ3JvdW5kOiAjZjVmNmY3OycpOwogICAgICAgICAgICAgICAgJCgnW2hyZWZePSJodHRwczovL2NzZG5pbWcuY24vcmVsZWFzZS9waG9lbml4L3RlbXBsYXRlL3RoZW1lc19za2luLyJdJykuYXR0cignaHJlZicsICdodHRwczovL2NzZG5pbWcuY24vcmVsZWFzZS9waG9lbml4L3RlbXBsYXRlL3RoZW1lc19za2luL3NraW4tdGVjaG5vbG9neS9za2luLXRlY2hub2xvZ3ktNjMzNjU0OTU1Ny5taW4uY3NzJyk7CiAgICAgICAgICAgICAgICAkKCcjY3Nkbi10b29sYmFyJykucmVtb3ZlQ2xhc3MoJ2NzZG4tdG9vbGJhci1za2luLWJsYWNrJyk7CiAgICAgICAgICAgICAgICAkKCcuY3Nkbi1sb2dvJykuYXR0cignc3JjJywgJy8vY3NkbmltZy5jbi9jZG4vY29udGVudC10b29sYmFyL2NzZG4tbG9nby5wbmc/dj0yMDIwMDQxNi4xJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5jbGVhckludGVydmFsKF90aGlzKTsKICAgICAgICB9CiAgICB9LDEwKTsqLwp9CgoKLy/nroDljJbnn6XkuY4KZnVuY3Rpb24gQ2xlYW5femhpaHUoKXsKICAgIGlmKEdNX2dldFZhbHVlKCJtZW51X0dBRUVTY3JpcHRfdGNfWmhpaHUiKSl7CiAgICAgICAgR01fYWRkU3R5bGUoJy5RdWVzdGlvbi1zaWRlQ29sdW1uIHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsKICAgICAgICBHTV9hZGRTdHlsZSgnLlF1ZXN0aW9uLW1haW5Db2x1bW4ge3dpZHRoOjEwMDBweCAhaW1wb3J0YW50fScpOwogICAgICAgIC8vLy8v5pyq5a6M5oiQLy8vLy8hISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhCiAgICB9Cn0KCi8v566A5YyW566A5LmmCmZ1bmN0aW9uIENsZWFuX2ppYW5zaHUoKXsKICAgIGlmKEdNX2dldFZhbHVlKCJtZW51X0dBRUVTY3JpcHRfdGNfSmlhbnNodSIpKXsKICAgICAgICBHTV9hZGRTdHlsZSgnLl8yT3dHVW8ge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fScpOwogICAgICAgIEdNX2FkZFN0eWxlKCcuX2dwLWNrIHt3aWR0aDoxMDAwcHggIWltcG9ydGFudH0nKTsvL+WuveWxjwogICAgICAgIC8vdW5zYWZlV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCl7R01fYWRkU3R5bGUoJy5vdXZKRXo6bGFzdC1jaGlsZCB7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9Jyk7fSwyMDAwKTsKCiAgICB9Cn0KCgpmdW5jdGlvbiBaaWh1X2hvdF9pbl9ob21lKCl7CiAgICBHTV9hZGRTdHlsZSgnLkJ1dHRvbi5FbXB0eVZpZXctYnV0dG9uIHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0nKTsvL+WIoOmZpOaPkOmXruaMiemSrgogICAgdmFyIGxlZnRfTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5MaXN0Iik7CiAgICB2YXIgemhfaG90ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3poX2hvdCIpOwogICAgaWYoIWxlZnRfTGlzdCl7cmV0dXJufQogICAgaWYoemhfaG90KXtyZXR1cm59CgogICAgdW5zYWZlV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICB2YXIgVGlwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLkVtcHR5Vmlldy1jb250ZW50Iik7Ly8KICAgICAgICBpZihUaXApeyBUaXAuY2hpbGRyZW5bMF0udGV4dENvbnRlbnQ9IuayoeacieabtOWkmuWGheWuueS6hn4iIH0KICAgIH0sMjAwMCk7CgogICAgdmFyIGhvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpOwogICAgaG90LnNldEF0dHJpYnV0ZSgic3JjIiwiaHR0cHM6Ly93d3cuemhpaHUuY29tL2JpbGxib2FyZCIpOwogICAgaG90LnNldEF0dHJpYnV0ZSgiaWQiLCJ6aF9ob3QiKTsKICAgIGhvdC5zZXRBdHRyaWJ1dGUoInNjcm9sbGluZyIsIm5vIik7CiAgICBob3Quc2V0QXR0cmlidXRlKCJmcmFtZWJvcmRlciIsIjAiKTsKICAgIGhvdC5zZXRBdHRyaWJ1dGUoIndpZHRoIiwiMTAwJSIpOwogICAgaG90LnNldEF0dHJpYnV0ZSgiaGVpZ2h0IiwiNDgwMHB4Iik7CiAgICBsZWZ0X0xpc3QuaW5zZXJ0QmVmb3JlKGhvdCxsZWZ0X0xpc3QuY2hpbGROb2Rlc1swXSk7CgogICAgdW5zYWZlV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN6aF9ob3QiKS5jb250ZW50RG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLkhvdExpc3QtaXRlbSIpKS5mb3JFYWNoKCBpdGVtID0+IHsKICAgICAgICAgICAgaXRlbS5zdHlsZS5jc3NUZXh0ID0gIi13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmUgIWltcG9ydGFudDstbW96LXVzZXItc2VsZWN0OiBub25lICFpbXBvcnRhbnQ7LW8tdXNlci1zZWxlY3Q6IG5vbmUgIWltcG9ydGFudDt1c2VyLXNlbGVjdDogbm9uZSAhaW1wb3J0YW50IjsKICAgICAgICAgICAgaXRlbS5vbmNsaWNrID0gZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiWyBDTElDSyEgXSIpOwogICAgICAgICAgICAgICAgdW5zYWZlV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICB2YXIgbGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN6aF9ob3QiKS5jb250ZW50V2luZG93LmxvY2F0aW9uLmhyZWY7IGNvbnNvbGUubG9nKGxpbmspOwogICAgICAgICAgICAgICAgICAgIC8vKiB0b3AubG9jYXRpb24uaHJlZiA9IGxpbms7Ly8KICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShsaW5rKTsvL+WOn+mhtemdouaJk+W8gOmTvuaOpQogICAgICAgICAgICAgICAgICAgIC8vd2luZG93Lm9wZW4obGluayk7Ly/mlrDmoIfnrb7pobXmiZPlvIDpk77mjqUvL+aciemXrumimCHmnKrop6PlhrMKICAgICAgICAgICAgICAgIH0sMzUwKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwxMDAwKTsKfQoKZnVuY3Rpb24gUElDX3poaWh1KCl7CiAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKSkuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAvL2NvbnNvbGUubG9nKGl0ZW0pOwogICAgICAgIGlmKGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsJykgIT0gdW5kZWZpbmVkICYmIGl0ZW0uY2xhc3NOYW1lICE9ICdjb21tZW50X3N0aWNrZXInKXsKICAgICAgICAgICAgaWYgKGl0ZW0uZ2V0QXR0cmlidXRlKCdzcmMnKSAhPSBpdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbCcpKSB7CiAgICAgICAgICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnc3JjJywgaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwnKSk7CiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGl0ZW0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7LyoKICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2ltZycpKS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pOwogICAgfSk7Ki8KfQoKCgovL+efpeS5juaYvuekuuWbnuetlOaXtumXtCAvL+S/ruaUuWZyb23vvJpodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvNDEyMjA1MQpmdW5jdGlvbiBUaW1lX2Zvcl96aGlodSgpewogICAgLy8g5a6M5pW05pi+56S65pe26Ze0ICsg572u6aG25pi+56S65pe26Ze0IC0g6aaW6aG1CiAgICBmdW5jdGlvbiB0b3BUaW1lX2luZGV4KCkgewogICAgICAgIGxldCB0b3BUaW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLlRvcHN0b3J5SXRlbScpO2lmICghdG9wVGltZSkgcmV0dXJuOwogICAgICAgIHRvcFRpbWUuZm9yRWFjaChmdW5jdGlvbihfdGhpcykgewogICAgICAgICAgICBsZXQgQ29udGVudEl0ZW1UaW1lID0gX3RoaXMucXVlcnlTZWxlY3RvcignLkNvbnRlbnRJdGVtLXRpbWUnKTtpZiAoIUNvbnRlbnRJdGVtVGltZSkgcmV0dXJuOwogICAgICAgICAgICBpZiAoIShDb250ZW50SXRlbVRpbWUuY2xhc3NMaXN0LmNvbnRhaW5zKCdmdWxsJykpICYmIENvbnRlbnRJdGVtVGltZS5xdWVyeVNlbGVjdG9yKCdzcGFuJykgJiYgQ29udGVudEl0ZW1UaW1lLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5pbm5lclRleHQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgLy8g5a6M5pW05pi+56S65pe26Ze0CiAgICAgICAgICAgICAgICB0b3BUaW1lX2FsbFRpbWUoQ29udGVudEl0ZW1UaW1lKTsKICAgICAgICAgICAgICAgIC8vIOWPkeW4g+aXtumXtOe9rumhtgogICAgICAgICAgICAgICAgdG9wVGltZV9wdWJsaXNoVG9wKENvbnRlbnRJdGVtVGltZSwgX3RoaXMsICdDb250ZW50SXRlbS1tZXRhJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0vLyDlrozmlbTmmL7npLrml7bpl7QgKyDnva7pobbmmL7npLrml7bpl7QgLSDlm57nrZTpobUKICAgIGZ1bmN0aW9uIHRvcFRpbWVfcXVlc3Rpb24oKSB7CiAgICAgICAgbGV0IHRvcFRpbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuQ29udGVudEl0ZW0uQW5zd2VySXRlbScpO2lmICghdG9wVGltZSkgcmV0dXJuOwogICAgICAgIHRvcFRpbWUuZm9yRWFjaChmdW5jdGlvbihfdGhpcykgewogICAgICAgICAgICBsZXQgQ29udGVudEl0ZW1UaW1lID0gX3RoaXMucXVlcnlTZWxlY3RvcignLkNvbnRlbnRJdGVtLXRpbWUnKTtpZiAoIUNvbnRlbnRJdGVtVGltZSkgcmV0dXJuOwogICAgICAgICAgICBpZiAoIShDb250ZW50SXRlbVRpbWUuY2xhc3NMaXN0LmNvbnRhaW5zKCdmdWxsJykpICYmIENvbnRlbnRJdGVtVGltZS5xdWVyeVNlbGVjdG9yKCdzcGFuJykgJiYgQ29udGVudEl0ZW1UaW1lLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5pbm5lclRleHQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgLy8g5a6M5pW05pi+56S65pe26Ze0CiAgICAgICAgICAgICAgICB0b3BUaW1lX2FsbFRpbWUoQ29udGVudEl0ZW1UaW1lKTsKICAgICAgICAgICAgICAgIC8vIOWPkeW4g+aXtumXtOe9rumhtgogICAgICAgICAgICAgICAgdG9wVGltZV9wdWJsaXNoVG9wKENvbnRlbnRJdGVtVGltZSwgX3RoaXMsICdDb250ZW50SXRlbS1tZXRhJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSk7Ly8g6Zeu6aKY5Yib5bu65pe26Ze0CiAgICAgICAgaWYgKCEoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlF1ZXN0aW9uUGFnZSAuUXVlc3Rpb25IZWFkZXItc2lkZSBwJykpICYmIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoImxvZyIpID09IC0xKSB7IC8vIOayoeacieaJp+ihjOi/hyDkuJQg6Z2e6Zeu6aKY5pel5b+X6aG1CiAgICAgICAgICAgIGxldCBjcmVhdGV0aW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlF1ZXN0aW9uUGFnZT5baXRlbXByb3B+PWRhdGVDcmVhdGVkXScpLmdldEF0dHJpYnV0ZSgnY29udGVudCcpOwogICAgICAgICAgICBsZXQgbW9kaWZpZWR0aW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlF1ZXN0aW9uUGFnZT5baXRlbXByb3B+PWRhdGVNb2RpZmllZF0nKS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKTsKICAgICAgICAgICAgY3JlYXRldGltZSA9IGdldFVUQzgobmV3IERhdGUoY3JlYXRldGltZSkpOwogICAgICAgICAgICBtb2RpZmllZHRpbWUgPSBnZXRVVEM4KG5ldyBEYXRlKG1vZGlmaWVkdGltZSkpOwogICAgICAgICAgICAvLyDmt7vliqDliLDpl67popjpobXlj7PkuIrop5IKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlF1ZXN0aW9uUGFnZSAuUXVlc3Rpb25IZWFkZXItc2lkZScpLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlRW5kJywgJzxkaXYgc3R5bGU9XCJjb2xvcjojODU5MGE2OyBtYXJnaW4tdG9wOjE1cHhcIj48cD7liJvlu7rml7bpl7Q6Jm5ic3A7Jm5ic3A7JyArIGNyZWF0ZXRpbWUgKyAnPC9wPjxwPuacgOWQjue8lui+kTombmJzcDsmbmJzcDsnICsgbW9kaWZpZWR0aW1lICsgJzwvcD48L2Rpdj4nKTsKICAgICAgICB9CiAgICB9Ly8g5a6M5pW05pi+56S65pe26Ze0ICsg572u6aG25pi+56S65pe26Ze0IC0g5pCc57Si57uT5p6c6aG1CiAgICBmdW5jdGlvbiB0b3BUaW1lX3NlYXJjaCgpIHsKICAgICAgICBsZXQgdG9wVGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5Db250ZW50SXRlbS5BbnN3ZXJJdGVtLCAuQ29udGVudEl0ZW0uQXJ0aWNsZUl0ZW0nKTtpZiAoIXRvcFRpbWUpIHJldHVybjsKICAgICAgICB0b3BUaW1lLmZvckVhY2goZnVuY3Rpb24oX3RoaXMpIHsKICAgICAgICAgICAgbGV0IENvbnRlbnRJdGVtVGltZSA9IF90aGlzLnF1ZXJ5U2VsZWN0b3IoJy5Db250ZW50SXRlbS10aW1lJyk7aWYgKCFDb250ZW50SXRlbVRpbWUpIHJldHVybjsKICAgICAgICAgICAgaWYgKCEoQ29udGVudEl0ZW1UaW1lLmNsYXNzTGlzdC5jb250YWlucygnZnVsbCcpKSAmJiBDb250ZW50SXRlbVRpbWUucXVlcnlTZWxlY3Rvcignc3BhbicpICYmIENvbnRlbnRJdGVtVGltZS5xdWVyeVNlbGVjdG9yKCdzcGFuJykuaW5uZXJUZXh0ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIC8vIOWujOaVtOaYvuekuuaXtumXtAogICAgICAgICAgICAgICAgdG9wVGltZV9hbGxUaW1lKENvbnRlbnRJdGVtVGltZSk7CiAgICAgICAgICAgICAgICAvLyDlj5HluIPml7bpl7Tnva7pobYKICAgICAgICAgICAgICAgIHRvcFRpbWVfcHVibGlzaFRvcChDb250ZW50SXRlbVRpbWUsIF90aGlzLCAnU2VhcmNoSXRlbS1tZXRhJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0vLyDlrozmlbTmmL7npLrml7bpl7QgKyDnva7pobbmmL7npLrml7bpl7QgLSDnlKjmiLfkuLvpobUKICAgIGZ1bmN0aW9uIHRvcFRpbWVfcGVvcGxlKCkgewogICAgICAgIGxldCB0b3BUaW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLkNvbnRlbnRJdGVtLkFuc3dlckl0ZW0sIC5Db250ZW50SXRlbS5BcnRpY2xlSXRlbScpO2lmICghdG9wVGltZSkgcmV0dXJuOwogICAgICAgIHRvcFRpbWUuZm9yRWFjaChmdW5jdGlvbihfdGhpcykgewogICAgICAgICAgICBsZXQgQ29udGVudEl0ZW1UaW1lID0gX3RoaXMucXVlcnlTZWxlY3RvcignLkNvbnRlbnRJdGVtLXRpbWUnKTtpZiAoIUNvbnRlbnRJdGVtVGltZSkgcmV0dXJuOwogICAgICAgICAgICBpZiAoIShDb250ZW50SXRlbVRpbWUuY2xhc3NMaXN0LmNvbnRhaW5zKCdmdWxsJykpICYmIENvbnRlbnRJdGVtVGltZS5xdWVyeVNlbGVjdG9yKCdzcGFuJykgJiYgQ29udGVudEl0ZW1UaW1lLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5pbm5lclRleHQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgLy8g5a6M5pW05pi+56S65pe26Ze0CiAgICAgICAgICAgICAgICB0b3BUaW1lX2FsbFRpbWUoQ29udGVudEl0ZW1UaW1lKTsKICAgICAgICAgICAgICAgIC8vIOWPkeW4g+aXtumXtOe9rumhtgogICAgICAgICAgICAgICAgdG9wVGltZV9wdWJsaXNoVG9wKENvbnRlbnRJdGVtVGltZSwgX3RoaXMsICdDb250ZW50SXRlbS1tZXRhJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSk7CiAgICB9Ly8g5a6M5pW05pi+56S65pe26Ze0ICsg572u6aG25pi+56S65pe26Ze0IC0g5LiT5qCPL+aWh+eroAogICAgZnVuY3Rpb24gdG9wVGltZV96aHVhbmxhbigpIHsKICAgICAgICBsZXQgQ29udGVudEl0ZW1UaW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLkNvbnRlbnRJdGVtLXRpbWUnKTtpZiAoIUNvbnRlbnRJdGVtVGltZSkgcmV0dXJuOwogICAgICAgIC8vIOWujOaVtOaYvuekuuaXtumXtAogICAgICAgIGlmIChDb250ZW50SXRlbVRpbWUuaW5uZXJUZXh0LmluZGV4T2YoJ+e8lui+keS6jicpID4gLTEgJiYgIShDb250ZW50SXRlbVRpbWUuY2xhc3NMaXN0LmNvbnRhaW5zKCdkb25lZWVlZWUnKSkpIHsKICAgICAgICAgICAgbGV0IGJpYW5qaXl1ID0gQ29udGVudEl0ZW1UaW1lLmlubmVyVGV4dDsKICAgICAgICAgICAgQ29udGVudEl0ZW1UaW1lLmNsaWNrKCk7CiAgICAgICAgICAgIENvbnRlbnRJdGVtVGltZS5pbm5lclRleHQgPSAoQ29udGVudEl0ZW1UaW1lLmlubmVyVGV4dCArICLvvIwiICsgYmlhbmppeXUpOwogICAgICAgICAgICBDb250ZW50SXRlbVRpbWUuY2xhc3NMaXN0LmFkZCgiZG9uZWVlZWVlIik7CiAgICAgICAgfS8v5Y+R5biD5pe26Ze0572u6aG2CiAgICAgICAgaWYgKCEoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlBvc3QtSGVhZGVyID4gLkNvbnRlbnRJdGVtLXRpbWUnKSkgJiYgIShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuQ29udGVudEl0ZW0tbWV0YSA+IC5Db250ZW50SXRlbS10aW1lJykpKSB7CiAgICAgICAgICAgIENvbnRlbnRJdGVtVGltZS5zdHlsZS5jc3NUZXh0ID0gJ3BhZGRpbmc6MHB4IDBweCAwcHggMHB4OyBtYXJnaW4tdG9wOiAxNHB4JzsKICAgICAgICAgICAgbGV0IHRlbXBfdGltZSA9IENvbnRlbnRJdGVtVGltZS5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgICAgICAgIC8vIENvbnRlbnRJdGVtVGltZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiY29sdW1uIikgPiAtMSl7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuQ29udGVudEl0ZW0tbWV0YScpLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlRW5kJywgdGVtcF90aW1lKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5Qb3N0LUhlYWRlcicpLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlRW5kJywgdGVtcF90aW1lKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0vLyDlrozmlbTmmL7npLrml7bpl7QKICAgIGZ1bmN0aW9uIHRvcFRpbWVfYWxsVGltZShDb250ZW50SXRlbVRpbWUpIHsKICAgICAgICBpZiAoQ29udGVudEl0ZW1UaW1lLmlubmVyVGV4dC5pbmRleE9mKCLlj5HluIPkuo4iKSA9PSAtMSAmJiBDb250ZW50SXRlbVRpbWUuaW5uZXJUZXh0LmluZGV4T2YoIue8lui+keS6jiIpID4gLTEpIHsgLy/lj6rmnIkgIue8lui+keS6jiIg5pe25aKe5Yqg5YW35L2T5Y+R5biD5pe26Ze0IGRhdGEtdG9vbHRpcAogICAgICAgICAgICBsZXQgZGF0YV90b29sdGlwID0gQ29udGVudEl0ZW1UaW1lLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcCcpOwogICAgICAgICAgICBsZXQgb2xkdGV4dCA9IENvbnRlbnRJdGVtVGltZS5xdWVyeVNlbGVjdG9yKCdzcGFuJykuaW5uZXJUZXh0OwogICAgICAgICAgICBDb250ZW50SXRlbVRpbWUucXVlcnlTZWxlY3Rvcignc3BhbicpLmlubmVyVGV4dCA9IGRhdGFfdG9vbHRpcCArICLvvIwiICsgb2xkdGV4dDsKICAgICAgICAgICAgQ29udGVudEl0ZW1UaW1lLmNsYXNzTGlzdC5hZGQoJ2Z1bGwnKTsKICAgICAgICB9IGVsc2UgaWYgKENvbnRlbnRJdGVtVGltZS5pbm5lclRleHQuaW5kZXhPZigi5Y+R5biD5LqOIikgPiAtMSAmJiBDb250ZW50SXRlbVRpbWUuaW5uZXJUZXh0LmluZGV4T2YoIue8lui+keS6jiIpID09IC0xKSB7IC8v5Y+q5pyJICLlj5HluIPkuo4iIOaXtuabv+aNouS4uuWFt+S9k+WPkeW4g+aXtumXtCBkYXRhLXRvb2x0aXAKICAgICAgICAgICAgbGV0IGRhdGFfdG9vbHRpcCA9IENvbnRlbnRJdGVtVGltZS5xdWVyeVNlbGVjdG9yKCdzcGFuJykuZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAnKTsKICAgICAgICAgICAgQ29udGVudEl0ZW1UaW1lLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5pbm5lclRleHQgPSBkYXRhX3Rvb2x0aXA7CiAgICAgICAgICAgIENvbnRlbnRJdGVtVGltZS5jbGFzc0xpc3QuYWRkKCdmdWxsJyk7CiAgICAgICAgfQogICAgfS8vIOWPkeW4g+aXtumXtOe9rumhtgogICAgZnVuY3Rpb24gdG9wVGltZV9wdWJsaXNoVG9wKENvbnRlbnRJdGVtVGltZSwgX3RoaXMsIGNsYXNzXykgewogICAgICAgIGlmICghQ29udGVudEl0ZW1UaW1lLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzXykpIHsKICAgICAgICAgICAgbGV0IHRlbXBfdGltZSA9IENvbnRlbnRJdGVtVGltZS5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgICAgICAgIC8vX3RoaXMucXVlcnlTZWxlY3RvcignLlJpY2hDb250ZW50IC5Db250ZW50SXRlbS10aW1lJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgX3RoaXMucXVlcnlTZWxlY3RvcignLicgKyBjbGFzc18pLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlRW5kJywgdGVtcF90aW1lKTsKICAgICAgICB9CiAgICB9Ly8gVVRDIOagh+WHhuaXtui9rCBVVEMrOCDljJfkuqzml7bpl7TvvIzmnaXoh6rvvJpodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3NjcmlwdHMvNDAyODA4CiAgICBmdW5jdGlvbiBnZXRVVEM4KGRhdGV0aW1lKSB7CiAgICAgICAgbGV0IG1vbnRoID0gKGRhdGV0aW1lLmdldE1vbnRoKCkgKyAxKSA8IDEwID8gIjAiICsgKGRhdGV0aW1lLmdldE1vbnRoKCkgKyAxKSA6IChkYXRldGltZS5nZXRNb250aCgpICsgMSk7CiAgICAgICAgbGV0IGRhdGUgPSBkYXRldGltZS5nZXREYXRlKCkgPCAxMCA/ICIwIiArIGRhdGV0aW1lLmdldERhdGUoKSA6IGRhdGV0aW1lLmdldERhdGUoKTsKICAgICAgICBsZXQgaG91cnMgPSBkYXRldGltZS5nZXRIb3VycygpIDwgMTAgPyAiMCIgKyBkYXRldGltZS5nZXRIb3VycygpIDogZGF0ZXRpbWUuZ2V0SG91cnMoKTsKICAgICAgICBsZXQgbWludXRlcyA9IGRhdGV0aW1lLmdldE1pbnV0ZXMoKSA8IDEwID8gIjAiICsgZGF0ZXRpbWUuZ2V0TWludXRlcygpIDogZGF0ZXRpbWUuZ2V0TWludXRlcygpOwogICAgICAgIGxldCBzZWNvbmRzID0gZGF0ZXRpbWUuZ2V0U2Vjb25kcygpIDwgMTAgPyAiMCIgKyBkYXRldGltZS5nZXRTZWNvbmRzKCkgOiBkYXRldGltZS5nZXRTZWNvbmRzKCk7CiAgICAgICAgcmV0dXJuIChkYXRldGltZS5nZXRGdWxsWWVhcigpICsgIi0iICsgbW9udGggKyAiLSIgKyBkYXRlICsgIlx4YTBceGEwIiArIGhvdXJzICsgIjoiICsgbWludXRlcyArICI6IiArIHNlY29uZHMpOwogICAgfQogICAgdW5zYWZlV2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCl7CiAgICAgICAgdW5zYWZlV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuTW9kYWwtd3JhcHBlciIpKXtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuTW9kYWwtd3JhcHBlciIpLnJlbW92ZSgpO2NvbnNvbGUubG9nKCJbVENd55m75b2V56qX5Y+j5bey5Y676ZmkIik7fSBHTV9hZGRTdHlsZSgnLk1vZGFsLXdyYXBwZXJ7ZGlzcGxheTpmbGV4ICFpbXBvcnRhbnR9Jyk7Y29uc29sZS5sb2coIltUQ13nmbvlvZXlvLnnqpflt7LmgaLlpI0iKTt9LCAxMDApOwoKICAgICAgICB1bnNhZmVXaW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHRyeXsKICAgICAgICAgICAgICAgIC8vdG9wVGltZV9pbmRleCgpOwogICAgICAgICAgICAgICAgdG9wVGltZV9xdWVzdGlvbigpOwogICAgICAgICAgICAgICAgLy90b3BUaW1lX3NlYXJjaCgpOwogICAgICAgICAgICAgICAgLy90b3BUaW1lX3Blb3BsZSgpOwogICAgICAgICAgICAgICAgLy90b3BUaW1lX3podWFubGFuKCk7CiAgICAgICAgICAgIH1jYXRjaChlcnIpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgIH0KICAgICAgICB9LCAzMDApOwogICAgfQp9CgoKCmZ1bmN0aW9uIENoYW5nZV90aGVtZV96aGlodSgpewogICAgdmFyIEhvbWVfYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLkFwcEhlYWRlci1pbm5lciIpOy8v6aaW6aG1CiAgICB2YXIgWmh1YW5sYW5fYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLkNvbHVtblBhZ2VIZWFkZXItY29udGVudCIpOy8v5LiT5qCP6aG1CiAgICB2YXIgYmFyID0gZmFsc2U7CiAgICBpZihIb21lX2Jhcil7YmFyID0gSG9tZV9iYXJ9ZWxzZSBpZihaaHVhbmxhbl9iYXIpe2JhciA9IFpodWFubGFuX2Jhcn0KICAgIGlmKCFiYXIpe3JldHVybn1lbHNle2NvbnNvbGUubG9nKCLliqDovb3mjInpkq7kuK0iKX0KICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNsaWdodF9uaWdodCIpKXtyZXR1cm59ZWxzZXtjb25zb2xlLmxvZygiMuWKoOi9veaMiemSruS4rSIpfQogICAgdmFyIHRoZW1lID0gJC5jb29raWUoInRoZW1lIikgfHwgImxpZ2h0IjsKICAgIHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoImlkIiwibGlnaHRfbmlnaHQiKTsKICAgIGJ1dHRvbi5zdHlsZS5jb2xvciA9ICIjODU5MEE2IjsKICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKICAgIHZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwogICAgaWYodGhlbWUgPT0gImxpZ2h0Iil7CiAgICAgICAgaW1nLnNyYyA9IGljb24oImRhcmsiKTsKICAgICAgICBzcGFuLnRleHRDb250ZW50PSLlpJzpl7TmqKHlvI8iOwogICAgfWVsc2V7CiAgICAgICAgaW1nLnNyYyA9IGljb24oImxpZ2h0Iik7CiAgICAgICAgc3Bhbi50ZXh0Q29udGVudD0i5pel6Ze05qih5byPIjsKICAgIH0KICAgIGltZy5zZXRBdHRyaWJ1dGUoInN0eWxlIiwidmVydGljYWwtYWxpZ246bWlkZGxlOyB3aWR0aDoyMHB4OyBoZWlnaHQ6MjBweDsiKTsKICAgIHNwYW4uc2V0QXR0cmlidXRlKCJzdHlsZSIsInZlcnRpY2FsLWFsaWduOm1pZGRsZTsiKTsKICAgIGJ1dHRvbi5hcHBlbmQoaW1nKTsKICAgIGJ1dHRvbi5hcHBlbmQoc3Bhbik7CiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBkaXYuc2V0QXR0cmlidXRlKCJzdHlsZSIsIm1hcmdpbi1sZWZ0OiAyMHB4OyIpOwogICAgZGl2LmFwcGVuZChidXR0b24pOwogICAgYmFyLmFwcGVuZChkaXYpOwoKICAgIHVuc2FmZVdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xpZ2h0X25pZ2h0Iikub25jbGljayA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGlmKHRoZW1lID09ICJsaWdodCIpewogICAgICAgICAgICAgICAgJC5jb29raWUoInRoZW1lIiwiZGFyayIsewogICAgICAgICAgICAgICAgICAgIHBhdGg6ICcvJywKICAgICAgICAgICAgICAgICAgICBleHBpcmVzOiAzNjUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZih0aGVtZSA9PSAiZGFyayIpewogICAgICAgICAgICAgICAgJC5jb29raWUoInRoZW1lIiwibGlnaHQiLHsKICAgICAgICAgICAgICAgICAgICBwYXRoOiAnLycsCiAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogMzY1CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwxMDAwKTsKfQoKZnVuY3Rpb24gWmhpaHVfZGFya190aGVtZSgpewogICAgLy/lvJXnlKjkuo4gLy9odHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3NjcmlwdHMvNDEyMjEyLSVFNyU5RiVBNSVFNCVCOSU4RSVFNyVCRSU4RSVFNSU4QyU5Ni8KICAgIHZhciB0aGVtZSA9IGAKLyog5paH5a2X6aKc6ImyICovCmh0bWxbZGF0YS10aGVtZT1kYXJrXSBib2R5LCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNvbnRlbnRJdGVtLXRpdGxlLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLlF1ZXN0aW9uSGVhZGVyLXRpdGxlLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLlRhYnMtbGluaywgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5DcmVhdG9yRW50cmFuY2UtdGl0bGUsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuU2VhcmNoLWNvbnRhaW5lciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Ib3RJdGVtLWV4Y2VycHQsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuUHVzaE5vdGlmaWNhdGlvbnMtaXRlbSwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Ob3RpZmljYXRpb25zLU1haW4+aGVhZGVyIGgxLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLk5vdGlmaWNhdGlvbnMtU2VjdGlvbi1oZWFkZXIgaDIsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuTm90aWZpY2F0aW9uTGlzdC1JdGVtLWNvbnRlbnQsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuUmV3YXJkLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNoYXRTaWRlQmFyLVNlYXJjaC1JbnB1dCBpbnB1dCwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIGlucHV0LklucHV0LCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkxpbmtDYXJkLXRpdGxlLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLk1DTkxpbmtDYXJkLXRpdGxlLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLlpWaWRlb0xpbmtDYXJkLXRpdGxlLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLlRpcGphckRpYWxvZy1jdXN0b21CdXR0b24ge2NvbG9yOiAjYWRiYWM3ICFpbXBvcnRhbnQ7fQpodG1sW2RhdGEtdGhlbWU9ZGFya10gLkxpbmtDYXJkLW1ldGEsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuTUNOTGlua0NhcmQtc291cmNlIHtjb2xvcjogIzVhNmY4MyAhaW1wb3J0YW50O30KLyog54Ot5qac5qCH6aKYICovCmh0bWxbZGF0YS10aGVtZT1kYXJrXSAuSG90SXRlbS10aXRsZSB7Y29sb3I6ICNjNGNmZGEgIWltcG9ydGFudDt9Cmh0bWxbZGF0YS10aGVtZT1kYXJrXSAuQXBwe2JhY2tncm91bmQ6ICMyMjI3MkUgIWltcG9ydGFudDt9Ci8qIOmmlumhteS/oeaBr+a1geagh+mimCAqLwpodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNvbnRlbnRJdGVtLXRpdGxlIGE6aG92ZXIsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuUmljaENvbnRlbnQuaXMtY29sbGFwc2VkIC5SaWNoQ29udGVudC1pbm5lcjpob3ZlciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Db250ZW50SXRlbS1tb3JlOmhvdmVyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLlF1ZXN0aW9uUmljaFRleHQtLWV4cGFuZGFibGUuUXVlc3Rpb25SaWNoVGV4dC0tY29sbGFwc2VkOmhvdmVyIHtjb2xvcjogI2IzYzNkNiAhaW1wb3J0YW50O30KLyog5pCc57Si6auY5Lqu57qi5a2XICovCmh0bWxbZGF0YS10aGVtZT1kYXJrXSAuSGlnaGxpZ2h0IGVtIHtjb2xvcjogI2MzM2MzOSAhaW1wb3J0YW50O30KLyog6IOM5pmv6aKc6ImyIC0g572R6aG1ICovCmh0bWxbZGF0YS10aGVtZT1kYXJrXSBib2R5LCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLlNlbGVjdC1vcHRpb246Zm9jdXMge2JhY2tncm91bmQ6ICMyMjI3MkUgIWltcG9ydGFudDt9Ci8qIOiDjOaZr+minOiJsiAtIOmXrumimCAqLwpodG1sW2RhdGEtdGhlbWU9ZGFya10gLkFwcEhlYWRlciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5RdWVzdGlvbkhlYWRlciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5RdWVzdGlvbkhlYWRlci1mb290ZXIsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuRW1vdGljb25zRm9vdGVyLWl0ZW0tLXNlbGVjdGVkLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNhcmQsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuQ29udGVudEl0ZW0tYWN0aW9ucywgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Nb3JlQW5zd2VycyAuTGlzdC1oZWFkZXJUZXh0LCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNvbW1lbnRzVjItd2l0aFBhZ2luYXRpb24sIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuVG9wYmFyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNvbW1lbnRzVjItZm9vdGVyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNvbW1lbnRFZGl0b3JWMi1pbnB1dFdyYXAtLWFjdGl2ZSwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5JbnB1dExpa2UsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuUG9wb3Zlci1jb250ZW50LCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLk5vdGlmaWNhdGlvbnMtZm9vdGVyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLk1lc3NhZ2VzLWZvb3RlciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Nb2RhbC1pbm5lciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5FbW90aWNvbnMsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuRW1vdGljb25zRm9vdGVyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLlNlYXJjaFRhYnMsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuUG9wb3Zlci1hcnJvdzphZnRlciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Db21tZW50RWRpdG9yVjItaW5wdXRXcmFwLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLlByb2ZpbGVIZWFkZXItd3JhcHBlciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Vc2VyQ292ZXIsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuQW5zd2VyRm9ybS1mb290ZXIsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuRWRpdGFibGUtdG9vbGJhciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5BbnN3ZXJGb3JtLWZ1bGxzY3JlZW5Db250ZW50IC5FZGl0YWJsZS10b29sYmFyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLktmZUNvbGxlY3Rpb24tUGNDb2xsZWdlQ2FyZC13cmFwcGVyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLktmZUNvbGxlY3Rpb24tUGNDb2xsZWdlQ2FyZC1yb290LCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkhvdEl0ZW0sIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuSG90TGlzdCwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Ib3RMaXN0TmF2RWRpdFBhZCwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5RdWVzdGlvbldhaXRpbmctdHlwZXNUb3BwZXIsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuUXVlc3Rpb25XYWl0aW5nLXR5cGVzLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLlBvc3RJdGVtLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNsdWJTaWRlQmFyIHNlY3Rpb24sIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuU2VhcmNoU3ViVGFicywgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5DbHViLVNlYXJjaFBvc3RzLUNvbnRlbnQsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuQ2x1Yi1jb250ZW50LCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNsdWJKb2luT3JDaGVja2luQnV0dG9uLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNsdWJFZGl0LCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNvcm5lckJ1dHRvbiwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Ob3RpZmljYXRpb25zLVNlY3Rpb24taGVhZGVyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLk5vdGlmaWNhdGlvbkxpc3QsIC5Ob3RpZmljYXRpb25MaXN0LUl0ZW0uTm90aWZpY2F0aW9uTGlzdC1JdGVtOmFmdGVyLCAuTm90aWZpY2F0aW9uTGlzdC1EYXRlU3BsaXQuTm90aWZpY2F0aW9uTGlzdC1EYXRlU3BsaXQ6YWZ0ZXIsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuQ2hhdCwgLkNoYXRVc2VyTGlzdEl0ZW06YWZ0ZXIsIC5DaGF0TGlzdEdyb3VwLVNlY3Rpb25UaXRsZS0tYm90dG9tQm9yZGVyOmFmdGVyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkFjdGlvbk1lbnUsIC5DaGF0U2lkZUJhci1TZWFyY2gtLWFjdGl2ZSwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5DaGF0U2lkZUJhci1TZWFyY2gtUmVzdWx0TGlzdFdyYXAsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuUXVlc3Rpb25NYWluRGl2aWRlci1pbm5lciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Ub3BpYy1iYXIsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuQW5ub3RhdGlvblRhZywgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Ib3ZlckNhcmQsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuSG92ZXJDYXJkLWxvYWRpbmcsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuRXhwbG9yZVNwZWNpYWxDYXJkLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkV4cGxvcmVIb21lUGFnZS1Db250ZW50U2VjdGlvbi1tb3JlQnV0dG9uIGEsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuRXhwbG9yZVJvdW5kdGFibGVDYXJkLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkV4cGxvcmVDb2xsZWN0aW9uQ2FyZCwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5FeHBsb3JlQ29sdW1uQ2FyZCwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5SaWNoVGV4dCAubGF6eVtkYXRhLWxhenktc3RhdHVzXSB7YmFja2dyb3VuZDogIzJEMzMzQiAhaW1wb3J0YW50O30KaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Db21tZW50TGlzdFYyLWhlYWRlci1kaXZpZGVyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNvbW1lbnRzVjItb3BlbkNvbW1lbnQtZGl2aWRlciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5BbnN3ZXJGb3JtLWZ1bGxzY3JlZW5TY3JvbGxlciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Ib3RMaXN0TmF2LWl0ZW0sIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuQXV0b0ludml0ZUl0ZW0td3JhcHBlci0tZGVza3RvcCwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5FeHBsb3JlU3BlY2lhbENhcmQtY29udGVudFRhZywgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5FeHBsb3JlQ29sbGVjdGlvbkNhcmQtY29udGVudFR5cGVUYWcsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuUmV3YXJkLVRpcGphckRpYWxvZy10YWdMaW5lIHtiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyOTMzICFpbXBvcnRhbnQ7fQpodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNvcm5lckJ1dHRvbjpob3ZlciB7YmFja2dyb3VuZDogIzNmNDc1MiAhaW1wb3J0YW50O30gLyog5Y+z5LiL6KeS5oyJ6ZKuICovCi8qIOiDjOaZr+minOiJsiAtIOW8leeUqCAqLwpodG1sW2RhdGEtdGhlbWU9ZGFya10gLnp0ZXh0IGJsb2NrcXVvdGUge2NvbG9yOiAjNzY4MzkwICFpbXBvcnRhbnQ7Ym9yZGVyLWxlZnQ6IDNweCBzb2xpZCAjM2IzYjNiICFpbXBvcnRhbnQ7fQovKiDog4zmma/popzoibIgLSDljaHniYcgKi8KaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5NQ05MaW5rQ2FyZCwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5MaW5rQ2FyZC1jb250ZW50LCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLlpWaWRlb0xpbmtDYXJkLWluZm8ge2JhY2tncm91bmQtY29sb3I6ICMyMjI3MmUgIWltcG9ydGFudDt9Cmh0bWxbZGF0YS10aGVtZT1kYXJrXSAuUG9zdC1jb250ZW50IC5NQ05MaW5rQ2FyZCwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Qb3N0LWNvbnRlbnQgLkxpbmtDYXJkLWNvbnRlbnQsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuUG9zdC1jb250ZW50IC5aVmlkZW9MaW5rQ2FyZC1pbmZvIHtiYWNrZ3JvdW5kLWNvbG9yOiAjMkQzMzNCICFpbXBvcnRhbnQ7fQpodG1sW2RhdGEtdGhlbWU9ZGFya10gLkxpbmtDYXJkLWJhY2tkcm9wIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoKSAhaW1wb3J0YW50O30KLyog6YCa55+l5L+h5oGv5Lit54K56K+E6K666ZO+5o6l5pe277yM5Zyo5by55Ye655qE6K+E6K665qGG5LitICLpq5jkuq4iIOebruagh+ivhOiuuiAqLwpodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNvbW1lbnRJdGVtVjJbdGFiaW5kZXg9Jy0xJ10ge2JhY2tncm91bmQtY29sb3I6ICMzNDNhNDQgIWltcG9ydGFudDt9Ci8qIOaQnOe0ouahhiAqLwpodG1sW2RhdGEtdGhlbWU9ZGFya10gLklucHV0LXdyYXBwZXIuSW5wdXQtd3JhcHBlci0tZ3JleSwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5DaGF0U2lkZUJhci1TZWFyY2gtSW5wdXQgaW5wdXQge2JhY2tncm91bmQ6ICMzMzNhNDQgIWltcG9ydGFudDt9Ci8qIOWKoOi9veWKqOeUuyAqLwpodG1sW2RhdGEtdGhlbWU9ZGFya10gLlBsYWNlSG9sZGVyLWJnIHtiYWNrZ3JvdW5kOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxyaWdodCB0b3AsZnJvbSgjMjIyNzJlKSxjb2xvci1zdG9wKDIwJSwjMmQzMzNiKSxjb2xvci1zdG9wKDQwJSwjMjIyNzJlKSx0bygjMjIyNzJlKSkgIWltcG9ydGFudDtiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIzIyMjcyZSAwLCMyZDMzM2IgMjAlLCMyMjI3MmUgNDAlLCMyMjI3MmUpICFpbXBvcnRhbnQ7fQpodG1sW2RhdGEtdGhlbWU9ZGFya10gLlBsYWNlSG9sZGVyLWlubmVyIHtiYWNrZ3JvdW5kOiAjMjIyNzJlICFpbXBvcnRhbnQ7Y29sb3I6ICMyZDMzM2IgIWltcG9ydGFudDt9Ci8qIOengeS/oSAqLwpodG1sW2RhdGEtdGhlbWU9ZGFya10gLklucHV0LXdyYXBwZXIge2JhY2tncm91bmQtY29sb3I6ICMzMDM2M2YgIWltcG9ydGFudDt9Cmh0bWxbZGF0YS10aGVtZT1kYXJrXSAuVGV4dE1lc3NhZ2Utc2VuZGVyLCBodG1sW2RhdGEtdGhlbWU9ImRhcmsiXSAuVGV4dE1lc3NhZ2Utc2VuZGVyOjphZnRlciB7YmFja2dyb3VuZC1jb2xvcjogIzU3NjE2ZiAhaW1wb3J0YW50O30KaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5UZXh0TWVzc2FnZS1yZWNlaXZlciwgaHRtbFtkYXRhLXRoZW1lPSJkYXJrIl0gLlRleHRNZXNzYWdlLXJlY2VpdmVyOjphZnRlciB7YmFja2dyb3VuZC1jb2xvcjogIzFlNWZiZiAhaW1wb3J0YW50O30KaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5UZXh0TWVzc2FnZS1zZW5kZXIsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuVGV4dE1lc3NhZ2UtcmVjZWl2ZXIge2NvbG9yOiAjZGNkY2RjICFpbXBvcnRhbnQ7fQovKmh0bWxbZGF0YS10aGVtZT1kYXJrXSAuTWVzc2FnZXNCb3g6Oi13ZWJraXQtc2Nyb2xsYmFyIHt3aWR0aDogMHB4ICFpbXBvcnRhbnQ7aGVpZ2h0OiAwcHggIWltcG9ydGFudDt9Ki8KaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Ub29sQmFyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLklucHV0LXdyYXBwZXIsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuQ2x1YlRvcFBvc3RzLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNoYXRTaWRlQmFyLVNlYXJjaC1JbnB1dCBpbnB1dCB7Ym9yZGVyOiBub25lICFpbXBvcnRhbnQ7fQpodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNoYXRCb3hNb2RhbC1jbG9zZUljb24ge2ZpbGw6ICM4NTkwYTYgIWltcG9ydGFudDt9Ci8qIOengeS/oee9kemhtSAqLwpodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNoYXRVc2VyTGlzdEl0ZW0gLkNoYXQtQWN0aW9uTWVudVBvcG92ZXItQnV0dG9uIHtiYWNrZ3JvdW5kOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxyaWdodCB0b3AsZnJvbShyZ2JhKDE4LDE4LDE4LDApKSxjb2xvci1zdG9wKDIwJSwjMjIyNzJlKSkgIWltcG9ydGFudDtiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcscmdiYSgxOCwxOCwxOCwwKSwjMjIyNzJlIDIwJSkgIWltcG9ydGFudDt9Cmh0bWxbZGF0YS10aGVtZT1kYXJrXSAuY3NzLTFqNnRtcnoge2JvcmRlcjogMnB4IHNvbGlkICMyZDMzM2IgIWltcG9ydGFudDt9Ci8qIOmAiemhuem8oOagh+aMh+WQkeaXtuiDjOaZr+minOiJsiAqLwpodG1sW2RhdGEtdGhlbWU9ZGFya10gLk1lc3NhZ2VzLWl0ZW06aG92ZXIsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuR2xvYmFsU2lkZUJhci1uYXZMaW5rOmhvdmVyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLk1lbnUtaXRlbS5pcy1hY3RpdmUsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuQWN0aW9uTWVudS1pdGVtOmhvdmVyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNoYXRVc2VyTGlzdEl0ZW0tLWFjdGl2ZSwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5NZXNzYWdlcy1uZXdJdGVtIHtiYWNrZ3JvdW5kLWNvbG9yOiAjMjcyYzMzICFpbXBvcnRhbnQ7fQovKiDpgJrnn6UgKi8KaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5QdXNoTm90aWZpY2F0aW9ucy1pdGVtIGEge2NvbG9yOiAjOGFiNWUwICFpbXBvcnRhbnQ7fQovKiDlsIHpnaLlpKflm74v5paH56ug5aS06YOo5aSn5Zu+ICovCmh0bWxbZGF0YS10aGVtZT1kYXJrXSBpbWcuVXNlckNvdmVyLWltYWdlLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gaW1nLlRpdGxlSW1hZ2Uge29wYWNpdHk6IDAuNyAhaW1wb3J0YW50O30KLyog5YW25LuW5Zu+54mHICovCmh0bWxbZGF0YS10aGVtZT1kYXJrXSBpbWcge29wYWNpdHk6IDAuOCAhaW1wb3J0YW50O30KLyogR0lGIOWKqOWbvuOAgeaUvuWkp+WbvumZpOWkliAqLwpodG1sW2RhdGEtdGhlbWU9ZGFya10gLkdpZlBsYXllciBpbWcsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuSW1hZ2VWaWV3LWltZyB7b3BhY2l0eTogMSAhaW1wb3J0YW50O30KLyog6L655qGGICovCmh0bWxbZGF0YS10aGVtZT1kYXJrXSAuVG9wYmFyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNvbW1lbnRzVjItZm9vdGVyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLlRvcHN0b3J5LW1haW5Db2x1bW5DYXJkIC5DYXJkOm5vdCguVG9wc3RvcnktdGFiQ2FyZCksIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuTmVzdENvbW1lbnQ6bm90KDpsYXN0LWNoaWxkKTphZnRlciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5OZXN0Q29tbWVudC0tcm9vdENvbW1lbnQ6YWZ0ZXIsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuTmVzdENvbW1lbnQgLk5lc3RDb21tZW50LS1jaGlsZDphZnRlciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5OZXN0Q29tbWVudCAuTmVzdENvbW1lbnQtLWNoaWxkOmFmdGVyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNvbW1lbnRzVjItcmVwbHlOdW0sIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuQ29tbWVudEl0ZW1WMjpub3QoOmZpcnN0LWNoaWxkKTphZnRlciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5UYWJzLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLlBvcG92ZXItYXJyb3c6YWZ0ZXIge2JvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMjgyZDM1ICFpbXBvcnRhbnQ7fQpodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNvbW1lbnRFZGl0b3JWMi1pbnB1dFdyYXAtLWFjdGl2ZSwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Db21tZW50RWRpdG9yVjItaW5wdXRXcmFwLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLlBvc3RJdGVtIHtib3JkZXI6IG5vbmUgIWltcG9ydGFudDt9Cmh0bWxbZGF0YS10aGVtZT1kYXJrXSAuSW5wdXRMaWtlIHtib3JkZXI6IDFweCBzb2xpZCAjNDI0YjU2ICFpbXBvcnRhbnQ7fQpodG1sW2RhdGEtdGhlbWU9ZGFya10gLlBvcG92ZXIgLklucHV0TGlrZSB7Ym9yZGVyOiAxcHggc29saWQgIzJkMzMzYiAhaW1wb3J0YW50O30KaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Qb3BvdmVyLWNvbnRlbnQsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuUG9wb3Zlci1hcnJvdzphZnRlciB7Ym9yZGVyOiAxcHggc29saWQgIzIyMjcyZSAhaW1wb3J0YW50O30KLyog5rua5Yqo5p2hICovCmh0bWxbZGF0YS10aGVtZT1kYXJrXSBib2R5Ojotd2Via2l0LXNjcm9sbGJhciwgaHRtbFtkYXRhLXRoZW1lPSJkYXJrIl0gLk1lc3NhZ2VzQm94Ojotd2Via2l0LXNjcm9sbGJhciwgaHRtbFtkYXRhLXRoZW1lPSJkYXJrIl0gLk1lc3NhZ2VzLWxpc3Q6Oi13ZWJraXQtc2Nyb2xsYmFyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLlB1c2hOb3RpZmljYXRpb25zLWxpc3Q6Oi13ZWJraXQtc2Nyb2xsYmFyLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNvbW1lbnRMaXN0VjI6Oi13ZWJraXQtc2Nyb2xsYmFyLCAuQ2hhdExpc3RHcm91cC1TZWN0aW9uQ29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXIsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuQ2hhdFNpZGVCYXItU2VhcmNoLVJlc3VsdExpc3RXcmFwOjotd2Via2l0LXNjcm9sbGJhciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5DaGF0Qm94IHRleHRhcmVhLklucHV0Ojotd2Via2l0LXNjcm9sbGJhciB7d2lkdGg6IDZweCAhaW1wb3J0YW50O2hlaWdodDogMXB4ICFpbXBvcnRhbnQ7fQpodG1sW2RhdGEtdGhlbWU9ZGFya10gYm9keTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIsIGh0bWxbZGF0YS10aGVtZT0iZGFyayJdIC5NZXNzYWdlc0JveDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIsIGh0bWxbZGF0YS10aGVtZT0iZGFyayJdIC5NZXNzYWdlcy1saXN0Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYiwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5QdXNoTm90aWZpY2F0aW9ucy1saXN0Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYiwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Db21tZW50TGlzdFYyOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiwgLkNoYXRMaXN0R3JvdXAtU2VjdGlvbkNvbnRlbnQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNoYXRTaWRlQmFyLVNlYXJjaC1SZXN1bHRMaXN0V3JhcDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuQ2hhdEJveCB0ZXh0YXJlYS5JbnB1dDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge2JhY2tncm91bmQ6ICMzZjQ3NTIgIWltcG9ydGFudDt9Cmh0bWxbZGF0YS10aGVtZT1kYXJrXSBib2R5Ojotd2Via2l0LXNjcm9sbGJhci10cmFjayB7YmFja2dyb3VuZDogIzIyMjcyZSAhaW1wb3J0YW50O30KaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5NZXNzYWdlc0JveDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2ssIGh0bWxbZGF0YS10aGVtZT0iZGFyayJdIC5NZXNzYWdlcy1saXN0Ojotd2Via2l0LXNjcm9sbGJhci10cmFjaywgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5QdXNoTm90aWZpY2F0aW9ucy1saXN0Ojotd2Via2l0LXNjcm9sbGJhci10cmFjaywgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Db21tZW50TGlzdFYyOjotd2Via2l0LXNjcm9sbGJhci10cmFjaywgLkNoYXRMaXN0R3JvdXAtU2VjdGlvbkNvbnRlbnQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrLCBodG1sW2RhdGEtdGhlbWU9ZGFya10gLkNoYXRTaWRlQmFyLVNlYXJjaC1SZXN1bHRMaXN0V3JhcDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2ssIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuQ2hhdEJveCB0ZXh0YXJlYS5JbnB1dDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge2JhY2tncm91bmQ6ICMyZDMzM2IgIWltcG9ydGFudDt9Cmh0bWwge3Njcm9sbGJhci13aWR0aDogdGhpbjsgc2Nyb2xsYmFyLWNvbG9yOiAjM2Y0NzUyICMyMjI3MmU7fQouTWVzc2FnZXNCb3gsIC5NZXNzYWdlcy1saXN0LCAuUHVzaE5vdGlmaWNhdGlvbnMtbGlzdCwgLkNvbW1lbnRMaXN0VjIsIC5DaGF0TGlzdEdyb3VwLVNlY3Rpb25Db250ZW50LCAuQ2hhdFNpZGVCYXItU2VhcmNoLVJlc3VsdExpc3RXcmFwIHtzY3JvbGxiYXItd2lkdGg6IHRoaW47IHNjcm9sbGJhci1jb2xvcjogIzNmNDc1MiAjMkQzMzNCO30KLyog6IOM5pmv6aKc6ImyIC0g5LiT5qCPL+aWh+eroCAqLwpodG1sW2RhdGEtdGhlbWU9ZGFya10gLldoaXRlQmctYm9keSwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Qb3N0LWNvbnRlbnQge2JhY2tncm91bmQ6ICMyMjI3MkUgIWltcG9ydGFudDt9Cmh0bWxbZGF0YS10aGVtZT1kYXJrXSAuQ29sdW1uUGFnZUhlYWRlciwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Cb3R0b21JbmZvIHtiYWNrZ3JvdW5kOiAjMWMyMTI5ICFpbXBvcnRhbnQ7fQovKiDmjInpkq7popzoibIgKi8KLlRvcHN0b3J5VGFicy1saW5rLmlzLWFjdGl2ZSwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Ub3BzdG9yeVRhYnMtbGluay5pcy1hY3RpdmUsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuVm90ZUJ1dHRvbiwgLlRhZywgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5UYWcsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuSG90TGlzdE5hdi1pdGVtLmlzLWFjdGl2ZSwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5SaWNoVGV4dCBhLlVzZXJMaW5rLWxpbmsge2NvbG9yOiAjM2ZhYWZmICFpbXBvcnRhbnQ7fQovKmh0bWxbZGF0YS10aGVtZT1kYXJrXSAuVGFicy1saW5rLmlzLWFjdGl2ZTphZnRlciB7YmFja2dyb3VuZDogIzIxOTZGMyAhaW1wb3J0YW50O30qLwpodG1sW2RhdGEtdGhlbWU9ZGFya10gLlJld2FyZC1yZXdhcmRCdG4sIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuU2VhcmNoQmFyLXNlYXJjaEljb24uaGFzVmFsdWUsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuQ2hhdC1VbnJlYWRDb3VudCwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5QYXltZW50LUNoZWNrZWRCdXR0b24ge2NvbG9yOiAjZmZmZmZmICFpbXBvcnRhbnQ7fQovKiDlhbPpl63mn6XnnIvlm57lpI3ml7bnmoTpq5jpl6ogKi8KaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5Db21tZW50SXRlbVYyLS1oaWdobGlnaHRlZCB7LXdlYmtpdC1hbmltYXRpb246IG5hbm8gIWltcG9ydGFudDthbmltYXRpb246IG5hbm8gIWltcG9ydGFudDt9Ci8qIOi1nui1jyAqLwpodG1sW2RhdGEtdGhlbWU9ZGFya10gLlJld2FyZC1UaXBqYXJEaWFsb2ctYW1vdW50TGlzdCAuQnV0dG9uLS1yZWQsIGh0bWxbZGF0YS10aGVtZT1kYXJrXSAuUmV3YXJkLVRpcGphckRpYWxvZy1hbW91bnRMaXN0IC5CdXR0b24tLXJlZCwgaHRtbFtkYXRhLXRoZW1lPWRhcmtdIC5SZXdhcmQtVGlwamFyRGlhbG9nLWFtb3VudElucHV0IC5TaW1wbGVJbnB1dCB7Y29sb3I6ICNkM2QzZDMgIWltcG9ydGFudDsgYmFja2dyb3VuZC1jb2xvcjogIzM1M2I0NCAhaW1wb3J0YW50OyBib3JkZXI6IG5vbmUgIWltcG9ydGFudDt9CmA7CiAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgaWYgKGRvY3VtZW50Lmxhc3RDaGlsZCkgewogICAgICAgIGRvY3VtZW50Lmxhc3RDaGlsZC5hcHBlbmRDaGlsZChzdHlsZSkudGV4dENvbnRlbnQgPSB0aGVtZTsKICAgIH0gZWxzZSB7IC8vIOmBv+WFjee9keermeWKoOi9vemAn+W6puWkquaFoueahOWkh+eUqOaOquaWvQogICAgICAgIGxldCB0aW1lcjEgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpeyAvLyDmr48gNSDmr6vnp5Lmo4Dmn6XkuIDkuIsgaHRtbCDmmK/lkKblt7LlrZjlnKgKICAgICAgICAgICAgaWYgKGRvY3VtZW50Lmxhc3RDaGlsZCkgewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcjEpOyAvLyDlj5bmtojlrprml7blmagKICAgICAgICAgICAgICAgIGRvY3VtZW50Lmxhc3RDaGlsZC5hcHBlbmRDaGlsZChzdHlsZSkudGV4dENvbnRlbnQgPSB0aGVtZTsKICAgICAgICAgICAgfQogICAgICAgIH0sIDUpOwogICAgfQogICAgLy/lvJXnlKjnu5PmnZ8gLy8KfQoKZnVuY3Rpb24gaWNvbihpY29uKXsKICAgIC8v5pel6Ze05qih5byP5Zu+5qCHKGJhc2U2NCkKICAgIHZhciBsaWdodCA9ICdkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQnpkR0Z1WkdGc2IyNWxQU0p1YnlJL1Bqd2hSRTlEVkZsUVJTQnpkbWNnVUZWQ1RFbERJQycgKwogICAgICAgICdJdEx5OVhNME12TDBSVVJDQlRWa2NnTVM0eEx5OUZUaUlnSW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTDBkeVlYQm9hV056TDFOV1J5OHhMakV2UkZSRUwzTjJaekV4TG1SMFpDSStQSE4yWnlCMFBTSXhOVGt4TmpBMk56STVNek00SWlCJyArCiAgICAgICAgJ2piR0Z6Y3owaWFXTnZiaUlnZG1sbGQwSnZlRDBpTUNBd0lERXdNalFnTVRBeU5DSWdkbVZ5YzJsdmJqMGlNUzR4SWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhBdGFXUTlJamt4TlNJZ2QybGsnICsKICAgICAgICAnZEdnOUlqTXlJaUJvWldsbmFIUTlJak15SWlCNGJXeHVjenA0YkdsdWF6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNVGs1T1M5NGJHbHVheUkrUEdSbFpuTStQSE4wZVd4bElIUjVjR1U5SW5SbGVIUXZZM056SWo1QVptOXVkQzFtWScgKwogICAgICAgICdXTmxJSHNnWm05dWRDMW1ZVzFwYkhrNklHVnNaVzFsYm5RdGFXTnZibk03SUhOeVl6b2dkWEpzS0NKamFISnZiV1V0WlhoMFpXNXphVzl1T2k4dlltSmhhMmh1YldacmFtVnVabUpvYW1Sa1pHbHdZMlZtYm1od2FXdHFZbW92Wm05dWRIJyArCiAgICAgICAgJ012Wld4bGJXVnVkQzFwWTI5dWN5NTNiMlptSWlrZ1ptOXliV0YwS0NKM2IyWm1JaWtzSUhWeWJDZ2lZMmh5YjIxbExXVjRkR1Z1YzJsdmJqb3ZMMkppWVd0b2JtMW1hMnBsYm1aaWFHcGtaR1JwY0dObFptNW9jR2xyYW1KcUwyWnZiblInICsKICAgICAgICAnekwyVnNaVzFsYm5RdGFXTnZibk11ZEhSbUlDSXBJR1p2Y20xaGRDZ2lkSEoxWlhSNWNHVWlLVHNnZlFvOEwzTjBlV3hsUGp3dlpHVm1jejQ4Y0dGMGFDQmtQU0pOTlRFeUxqRWdOelF6TGpWakxURXlOeTQySURBdE1qTXhMalF0TVRBeicgKwogICAgICAgICdMamd0TWpNeExqUXRNak14TGpSek1UQXpMamd0TWpNeExqUWdNak14TGpRdE1qTXhMalFnTWpNeExqUWdNVEF6TGpnZ01qTXhMalFnTWpNeExqUXRNVEF6TGpnZ01qTXhMalF0TWpNeExqUWdNak14TGpSNklHMHdMVE01TXk0MFl5MDRPJyArCiAgICAgICAgJ1M0eklEQXRNVFl5SURjeUxqY3RNVFl5SURFMk1uTTNNaTQzSURFMk1pQXhOaklnTVRZeUlERTJNaTAzTWk0M0lERTJNaTB4TmpJdE56SXVOeTB4TmpJdE1UWXlMVEUyTW5wTk5URXlMakVnTWpJM0xqRmpMVEU1TGpJZ01DMHpOQzQzTFQnICsKICAgICAgICAnRTFMalV0TXpRdU55MHpOQzQzVmprNExqZGpNQzB4T1M0eUlERTFMalV0TXpRdU55QXpOQzQzTFRNMExqY2dNVGt1TWlBd0lETTBMamNnTVRVdU5TQXpOQzQzSURNMExqZDJPVE11TjJNd0lERTVMakV0TVRVdU5TQXpOQzQzTFRNMExqYycgKwogICAgICAgICdnTXpRdU4zcE5NamcySURNeU1DNDNZeTA0TGprZ01DMHhOeTQ0TFRNdU5DMHlOQzQxTFRFd0xqSnNMVFkyTGpNdE5qWXVNMk10TVRNdU5pMHhNeTQyTFRFekxqWXRNelV1TlNBd0xUUTVMakVnTVRNdU5TMHhNeTQySURNMUxqVXRNVE11JyArCiAgICAgICAgJ05pQTBPUzR4SURCc05qWXVNeUEyTmk0ell6RXpMallnTVRNdU5pQXhNeTQySURNMUxqVWdNQ0EwT1M0eFlUTTBMalk0SURNMExqWTRJREFnTUNBeExUSTBMallnTVRBdU1ucE5NVGt5TGpRZ05UUTJMamhJT1RndU4yTXRNVGt1TWlBd0wnICsKICAgICAgICAnVE0wTGpjdE1UVXVOUzB6TkM0M0xUTTBMamNnTUMweE9TNHlJREUxTGpVdE16UXVOeUF6TkM0M0xUTTBMamRvT1RNdU4yTXhPUzR5SURBZ016UXVOeUF4TlM0MUlETTBMamNnTXpRdU55QXdJREU1TGpFdE1UVXVOU0F6TkM0M0xUTTBMaicgKwogICAgICAgICdjZ016UXVOM3BOTWpFNUxqZ2dPRE01TGpGakxUZ3VPU0F3TFRFM0xqZ3RNeTQwTFRJMExqVXRNVEF1TWkweE15NDJMVEV6TGpZdE1UTXVOaTB6TlM0MUlEQXRORGt1TVd3Mk5pNHpMVFkyTGpOak1UTXVOUzB4TXk0MklETTFMalV0TVRNJyArCiAgICAgICAgJ3VOaUEwT1M0eElEQWdNVE11TmlBeE15NDJJREV6TGpZZ016VXVOU0F3SURRNUxqRnNMVFkyTGpNZ05qWXVNMk10Tmk0NUlEWXVPQzB4TlM0M0lERXdMakl0TWpRdU5pQXhNQzR5ZWswMU1USXVNU0E1TmpBdU1tTXRNVGt1TWlBd0xUTTAnICsKICAgICAgICAnTGpjdE1UVXVOUzB6TkM0M0xUTTBMamQyTFRrekxqZGpNQzB4T1M0eUlERTFMalV0TXpRdU55QXpOQzQzTFRNMExqY2dNVGt1TWlBd0lETTBMamNnTVRVdU5TQXpOQzQzSURNMExqZDJPVE11TjJNd0lERTVMakl0TVRVdU5TQXpOQzQzTCcgKwogICAgICAgICdUTTBMamNnTXpRdU4zcE5PREEwTGpRZ09ETTVMakZqTFRndU9TQXdMVEUzTGpndE15NDBMVEkwTGpVdE1UQXVNbXd0TmpZdU15MDJOaTR6WXkweE15NDJMVEV6TGpZdE1UTXVOaTB6TlM0MUlEQXRORGt1TVNBeE15NDFMVEV6TGpZZ016JyArCiAgICAgICAgJ1V1TlMweE15NDJJRFE1TGpFZ01HdzJOaTR6SURZMkxqTmpNVE11TmlBeE15NDJJREV6TGpZZ016VXVOU0F3SURRNUxqRmhNelF1TmpnZ016UXVOamdnTUNBd0lERXRNalF1TmlBeE1DNHllazA1TWpVdU5TQTFORFl1T0dndE9UTXVOMk0nICsKICAgICAgICAndE1Ua3VNaUF3TFRNMExqY3RNVFV1TlMwek5DNDNMVE0wTGpjZ01DMHhPUzR5SURFMUxqVXRNelF1TnlBek5DNDNMVE0wTGpkb09UTXVOMk14T1M0eUlEQWdNelF1TnlBeE5TNDFJRE0wTGpjZ016UXVOeUF3SURFNUxqRXRNVFV1TlNBeicgKwogICAgICAgICdOQzQzTFRNMExqY2dNelF1TjNwTk56TTRMaklnTXpJd0xqZGpMVGd1T1NBd0xURTNMamd0TXk0MExUSTBMalV0TVRBdU1pMHhNeTQyTFRFekxqWXRNVE11Tmkwek5TNDFJREF0TkRrdU1XdzJOaTR6TFRZMkxqTmpNVE11TlMweE15NDJJJyArCiAgICAgICAgJ0RNMUxqVXRNVE11TmlBME9TNHhJREFnTVRNdU5pQXhNeTQySURFekxqWWdNelV1TlNBd0lEUTVMakZzTFRZMkxqTWdOall1TTJNdE5pNDVJRFl1T0MweE5TNDRJREV3TGpJdE1qUXVOaUF4TUM0eWVpSWdabWxzYkQwaUkyWTBaV0V5WVMnICsKICAgICAgICAnSWdjQzFwWkQwaU9URTJJajQ4TDNCaGRHZytQQzl6ZG1jKyc7CgogICAgLy/lpJzpl7TmqKHlvI/lm77moIcoYmFzZTY0KQogICAgdmFyIGRhcmsgPSAnZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJ6ZEdGdVpHRnNiMjVsUFNKdWJ5SS9QandoUkU5RFZGbFFSU0J6ZG1jZ1VGVkNURWxESScgKwogICAgICAgICdDSXRMeTlYTTBNdkwwUlVSQ0JUVmtjZ01TNHhMeTlGVGlJZ0ltaDBkSEE2THk5M2QzY3Vkek11YjNKbkwwZHlZWEJvYVdOekwxTldSeTh4TGpFdlJGUkVMM04yWnpFeExtUjBaQ0krUEhOMlp5QjBQU0l4TlRreE5qQXpPREUzT0RBd0knICsKICAgICAgICAnaUJqYkdGemN6MGlhV052YmlJZ2RtbGxkMEp2ZUQwaU1DQXdJREV3TWpRZ01UQXlOQ0lnZG1WeWMybHZiajBpTVM0eElpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIQXRhV1E5SWpFeE1ERWlJJyArCiAgICAgICAgJ0hodGJHNXpPbmhzYVc1clBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1TDNoc2FXNXJJaUIzYVdSMGFEMGlNVFlpSUdobGFXZG9kRDBpTVRZaVBqeGtaV1p6UGp4emRIbHNaU0IwZVhCbFBTSjBaWGgwTDJOemN5SStRR1p2YicgKwogICAgICAgICduUXRabUZqWlNCN0lHWnZiblF0Wm1GdGFXeDVPaUJsYkdWdFpXNTBMV2xqYjI1ek95QnpjbU02SUhWeWJDZ2lZMmh5YjIxbExXVjRkR1Z1YzJsdmJqb3ZMMkppWVd0b2JtMW1hMnBsYm1aaWFHcGtaR1JwY0dObFptNW9jR2xyYW1KcUwnICsKICAgICAgICAnMlp2Ym5SekwyVnNaVzFsYm5RdGFXTnZibk11ZDI5bVppSXBJR1p2Y20xaGRDZ2lkMjltWmlJcExDQjFjbXdvSW1Ob2NtOXRaUzFsZUhSbGJuTnBiMjQ2THk5aVltRnJhRzV0Wm10cVpXNW1ZbWhxWkdSa2FYQmpaV1p1YUhCcGEycGlhJyArCiAgICAgICAgJ2k5bWIyNTBjeTlsYkdWdFpXNTBMV2xqYjI1ekxuUjBaaUFpS1NCbWIzSnRZWFFvSW5SeWRXVjBlWEJsSWlrN0lIMEtQQzl6ZEhsc1pUNDhMMlJsWm5NK1BIQmhkR2dnWkQwaVRUVXdNeTQwSURrMU9TNHlZeTB4TlRZdU1TQXdMVE13TScgKwogICAgICAgICd5NHhMVGd6TGpJdE16Z3pMalV0TWpFM0xqTnNMVFExTGpndE56WXVNeUE0Tnk0eUlERTNMak5qTkRRZ09DNDRJRGc0TGprZ09DNDJJREV6TXk0eUxUQXVOa016T0RJdU5pQTJOalF1TkNBME5UZ3VNeUEyTVRNZ05UQTNMamdnTlRNNFknICsKICAgICAgICAnelE1TGpVdE56VXVNU0EyTmk0NExURTJOQzQ1SURRNExqY3RNalV6TFRFeExqZ3ROVGN1TXkwek9DNDBMVEV4TUM0M0xUYzJMamt0TVRVMExqUnNMVFU0TGpjdE5qWXVOeUE0T0M0NElERXVNbU15TkRNdU1TQXpMalFnTkRRd0xqZ2dNJyArCiAgICAgICAgJ2pBekxqa2dORFF3TGpnZ05EUTNJREFnTWpRMkxqVXRNakF3TGpZZ05EUTNMakV0TkRRM0xqRWdORFEzTGpGNlRUSXpPQzR6SURjMk9DNHhZelk0TGpVZ056RXVOQ0F4TmpNZ01URXlMak1nTWpZMUxqRWdNVEV5TGpNZ01qQXpMakVnTScgKwogICAgICAgICdDQXpOamd1TXkweE5qVXVNaUF6TmpndU15MHpOamd1TXlBd0xURTNNUzQyTFRFeE9TNDJMVE14Tnk0MExUSTNPUzQ0TFRNMU55NDBJREU1TGpRZ016VXVOeUF6TXk0MUlEYzBMak1nTkRFdU9DQXhNVFF1TkNBME5pNHhJREl5TkM0MEwnICsKICAgICAgICAnVGs0TGprZ05EUTBMalF0TXpJekxqTWdORGt3TGpVdE1qUWdOUzAwT0NBM0xqZ3ROekl1TVNBNExqVjZJaUJtYVd4c1BTSWpNREF3TURBd0lpQndMV2xrUFNJeE1UQXlJajQ4TDNCaGRHZytQQzl6ZG1jKyc7CgogICAgaWYoaWNvbiA9PSAnbGlnaHQnKXsKICAgICAgICByZXR1cm4gbGlnaHQ7CiAgICB9ZWxzZSBpZihpY29uID09ICdkYXJrJyl7CiAgICAgICAgcmV0dXJuIGRhcms7CiAgICB9Cn0KCmZ1bmN0aW9uIFNldFVBKHBob25lKXsKICAgIGNvbnNvbGUubG9nKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTsKICAgIHZhciBVQTsKICAgIGlmKHBob25lID09ICJpcGhvbmUiKXsKICAgICAgICBVQSA9ICJNb3ppbGxhLzUuMCAoaVBob25lOyBDUFUgaVBob25lIE9TIDEyXzFfNCBsaWtlIE1hYyBPUyBYKSBBcHBsZVdlYktpdC82MDUuMS4xNSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vMTIuMCBNb2JpbGUvMTVFMTQ4IFNhZmFyaS82MDQuMSI7CiAgICB9CiAgICBpZihwaG9uZSA9PSAiaVBhZCIpewogICAgICAgIFVBID0gIk1vemlsbGEvNS4wIChpUGFkOyBDUFUgT1MgMTFfMCBsaWtlIE1hYyBPUyBYKSBBcHBsZVdlYktpdC82MDQuMS4zNCAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vMTEuMCBNb2JpbGUvMTVBNTM0MWYgU2FmYXJpLzYwNC4xIjsKICAgIH0KCiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuYXZpZ2F0b3IsewogICAgICAgIHVzZXJBZ2VudDp7dmFsdWU6VUF9LAogICAgICAgIHBsYXRmb3JtOnt2YWx1ZTonTWFjJ30KICAgIH0pOwogICAgY29uc29sZS5sb2cod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpOwp9CgoKZnVuY3Rpb24gU2NyaXB0X3NldHRpbmcoKXsKICAgIHZhciBtZW51X0FMTCA9IFsKICAgICAgICBbJ21lbnVfR0FFRVNjcmlwdF90Y19DU0ROJywgJ0NTRE4nLCAnQ1NETuWuveWxjy/nroDljJYnLCB0cnVlXSwKICAgICAgICBbJ21lbnVfR0FFRVNjcmlwdF90Y19aaGlodScsICdaaGlodScsICfnn6XkuY7lrr3lsY8v566A5YyWJywgdHJ1ZV0sCiAgICAgICAgWydtZW51X0dBRUVTY3JpcHRfdGNfSmlhbnNodScsICdKaWFuc2h1JywgJ+eugOS5puWuveWxjy/nroDljJYnLCB0cnVlXSwKICAgIF0sIG1lbnVfSUQgPSBbXTsKICAgIGZvciAobGV0IGk9MDtpPG1lbnVfQUxMLmxlbmd0aDtpKyspeyAvLyDlpoLmnpzor7vlj5bliLDnmoTlgLzkuLogbnVsbCDlsLHlhpnlhaXpu5jorqTlgLwKICAgICAgICBpZiAoR01fZ2V0VmFsdWUobWVudV9BTExbaV1bMF0pID09IG51bGwpe0dNX3NldFZhbHVlKG1lbnVfQUxMW2ldWzBdLCBtZW51X0FMTFtpXVszXSl9OwogICAgICAgIC8vY29uc29sZS5sb2cobWVudV9BTExbaV1bM10pOwogICAgfQogICAgcmVnaXN0ZXJNZW51Q29tbWFuZCgpOwoKICAgIC8vIOazqOWGjOiEmuacrOiPnOWNlQogICAgZnVuY3Rpb24gcmVnaXN0ZXJNZW51Q29tbWFuZCgpIHsKICAgICAgICBpZiAobWVudV9JRC5sZW5ndGggPiBtZW51X0FMTC5sZW5ndGgpeyAvLyDlpoLmnpzoj5zljZVJROaVsOe7hOWkmuS6juiPnOWNleaVsOe7hO+8jOivtOaYjuS4jeaYr+mmluasoea3u+WKoOiPnOWNle+8jOmcgOimgeWNuOi9veaJgOacieiEmuacrOiPnOWNlQogICAgICAgICAgICBmb3IgKGxldCBpPTA7aTxtZW51X0lELmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgR01fdW5yZWdpc3Rlck1lbnVDb21tYW5kKG1lbnVfSURbaV0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZvciAobGV0IGk9MDtpPG1lbnVfQUxMLmxlbmd0aDtpKyspeyAvLyDlvqrnjq/ms6jlhozohJrmnKzoj5zljZUKICAgICAgICAgICAgbWVudV9BTExbaV1bM10gPSBHTV9nZXRWYWx1ZShtZW51X0FMTFtpXVswXSk7CiAgICAgICAgICAgIG1lbnVfSURbaV0gPSBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKGAke21lbnVfQUxMW2ldWzNdPyfinIUnOifinY4nfSAke21lbnVfQUxMW2ldWzJdfWAsIGZ1bmN0aW9uKCl7bWVudV9zd2l0Y2goYCR7bWVudV9BTExbaV1bMF19YCxgJHttZW51X0FMTFtpXVsxXX1gLGAke21lbnVfQUxMW2ldWzJdfWAsYCR7bWVudV9BTExbaV1bM119YCl9KTsKICAgICAgICB9CiAgICAgICAgbWVudV9JRFttZW51X0lELmxlbmd0aF0gPSBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKGDwn4+BIOW9k+WJjeeJiOacrCAke3ZlcnNpb259YCwgZnVuY3Rpb24gKCkge3dpbmRvdy5HTV9vcGVuSW5UYWIoJ2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy80Mjg5NjAnLCB7YWN0aXZlOiB0cnVlLGluc2VydDogdHJ1ZSxzZXRQYXJlbnQ6IHRydWV9KTt9KTsKICAgICAgICAvL21lbnVfSURbbWVudV9JRC5sZW5ndGhdID0gR01fcmVnaXN0ZXJNZW51Q29tbWFuZCgn8J+SrCDlj43ppoggJiDlu7rorq4nLCBmdW5jdGlvbiAoKSB7d2luZG93LkdNX29wZW5JblRhYignJywge2FjdGl2ZTogdHJ1ZSxpbnNlcnQ6IHRydWUsc2V0UGFyZW50OiB0cnVlfSk7fSk7CiAgICB9CgogICAgLy/liIfmjaLpgInpobkKICAgIGZ1bmN0aW9uIG1lbnVfc3dpdGNoKG5hbWUsZW5hbWUsY25hbWUsdmFsdWUpewogICAgICAgIGlmKHZhbHVlID09ICdmYWxzZScpewogICAgICAgICAgICBjb25zb2xlLmxvZyhuYW1lKTsKICAgICAgICAgICAgR01fc2V0VmFsdWUoYCR7bmFtZX1gLCB0cnVlKTsKICAgICAgICAgICAgcmVnaXN0ZXJNZW51Q29tbWFuZCgpOyAvLyDph43mlrDms6jlhozohJrmnKzoj5zljZUKICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7IC8vIOWIt+aWsOe9kemhtQogICAgICAgICAgICBHTV9ub3RpZmljYXRpb24oe3RleHQ6IGDjgIwke2NuYW1lfeOAjeW3suW8gOWQr1xuYCwgdGltZW91dDogMzUwMH0pOyAvLyDmj5DnpLrmtojmga8KICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgY29uc29sZS5sb2cobmFtZSk7CiAgICAgICAgICAgIEdNX3NldFZhbHVlKGAke25hbWV9YCwgZmFsc2UpOwogICAgICAgICAgICByZWdpc3Rlck1lbnVDb21tYW5kKCk7IC8vIOmHjeaWsOazqOWGjOiEmuacrOiPnOWNlQogICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsgLy8g5Yi35paw572R6aG1CiAgICAgICAgICAgIEdNX25vdGlmaWNhdGlvbih7dGV4dDogYOOAjCR7Y25hbWV944CN5bey5YWz6ZetXG5gLCB0aW1lb3V0OiAzNTAwfSk7IC8vIOaPkOekuua2iOaBrwogICAgICAgIH0KICAgICAgICByZWdpc3Rlck1lbnVDb21tYW5kKCk7IC8vIOmHjeaWsOazqOWGjOiEmuacrOiPnOWNlQogICAgfQp9Cg==","requires":[{"meta":{"name":"jquery.min.js","url":"https://cdn.staticfile.org/jquery/3.6.0/jquery.min.js","ts":1657118213697,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KGUpfTp0KGUpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihDLGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1bXSxyPU9iamVjdC5nZXRQcm90b3R5cGVPZixzPXQuc2xpY2UsZz10LmZsYXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gdC5jb25jYXQuYXBwbHkoW10sZSl9LHU9dC5wdXNoLGk9dC5pbmRleE9mLG49e30sbz1uLnRvU3RyaW5nLHY9bi5oYXNPd25Qcm9wZXJ0eSxhPXYudG9TdHJpbmcsbD1hLmNhbGwoT2JqZWN0KSx5PXt9LG09ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZS5ub2RlVHlwZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuaXRlbX0seD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxFPUMuZG9jdW1lbnQsYz17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByLGksbz0obj1ufHxFKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihyIGluIGMpKGk9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmby5zZXRBdHRyaWJ1dGUocixpKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9uW28uY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBmPSIzLjYuMCIsUz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUy5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIHAoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hbShlKSYmIXgoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9Uy5mbj1TLnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6UyxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3MuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Uy5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxldmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQrMSklMn0pKX0sb2RkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PW4mJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6dSxzb3J0OnQuc29ydCxzcGxpY2U6dC5zcGxpY2V9LFMuZXh0ZW5kPVMuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLGE9YXJndW1lbnRzWzBdfHx7fSxzPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksIm9iamVjdCI9PXR5cGVvZiBhfHxtKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSlyPWVbdF0sIl9fcHJvdG9fXyIhPT10JiZhIT09ciYmKGwmJnImJihTLmlzUGxhaW5PYmplY3Qocil8fChpPUFycmF5LmlzQXJyYXkocikpKT8obj1hW3RdLG89aSYmIUFycmF5LmlzQXJyYXkobik/W106aXx8Uy5pc1BsYWluT2JqZWN0KG4pP246e30saT0hMSxhW3RdPVMuZXh0ZW5kKGwsbyxyKSk6dm9pZCAwIT09ciYmKGFbdF09cikpO3JldHVybiBhfSxTLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoZitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiEoIWV8fCJbb2JqZWN0IE9iamVjdF0iIT09by5jYWxsKGUpKSYmKCEodD1yKGUpKXx8ImZ1bmN0aW9uIj09dHlwZW9mKG49di5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZhLmNhbGwobik9PT1sKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUsdCxuKXtiKGUse25vbmNlOnQmJnQubm9uY2V9LG4pfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2lmKHAoZSkpe2ZvcihuPWUubGVuZ3RoO3I8bjtyKyspaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrfWVsc2UgZm9yKHIgaW4gZSlpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWs7cmV0dXJuIGV9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYocChPYmplY3QoZSkpP1MubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOnUuY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTppLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgscj0wLGk9ZS5sZW5ndGg7cjxuO3IrKyllW2krK109dFtyXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLG89ZS5sZW5ndGgsYT0hbjtpPG87aSsrKSF0KGVbaV0saSkhPT1hJiZyLnB1c2goZVtpXSk7cmV0dXJuIHJ9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPTAsYT1bXTtpZihwKGUpKWZvcihyPWUubGVuZ3RoO288cjtvKyspbnVsbCE9KGk9dChlW29dLG8sbikpJiZhLnB1c2goaSk7ZWxzZSBmb3IobyBpbiBlKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO3JldHVybiBnKGEpfSxndWlkOjEsc3VwcG9ydDp5fSksImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKFMuZm5bU3ltYm9sLml0ZXJhdG9yXT10W1N5bWJvbC5pdGVyYXRvcl0pLFMuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXtuWyJbb2JqZWN0ICIrdCsiXSJdPXQudG9Mb3dlckNhc2UoKX0pO3ZhciBkPWZ1bmN0aW9uKG4pe3ZhciBlLGQsYixvLGksaCxmLGcsdyx1LGwsVCxDLGEsRSx2LHMsYyx5LFM9InNpenpsZSIrMSpuZXcgRGF0ZSxwPW4uZG9jdW1lbnQsaz0wLHI9MCxtPXVlKCkseD11ZSgpLEE9dWUoKSxOPXVlKCksaj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGw9ITApLDB9LEQ9e30uaGFzT3duUHJvcGVydHksdD1bXSxxPXQucG9wLEw9dC5wdXNoLEg9dC5wdXNoLE89dC5zbGljZSxQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxSPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTT0iW1xceDIwXFx0XFxyXFxuXFxmXSIsST0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsVz0iXFxbIitNKyIqKCIrSSsiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK0krIikpfCkiK00rIipcXF0iLEY9IjooIitJKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitXKyIpKil8LiopXFwpfCkiLEI9bmV3IFJlZ0V4cChNKyIrIiwiZyIpLCQ9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxfPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksej1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLFU9bmV3IFJlZ0V4cChNKyJ8PiIpLFg9bmV3IFJlZ0V4cChGKSxWPW5ldyBSZWdFeHAoIl4iK0krIiQiKSxHPXtJRDpuZXcgUmVnRXhwKCJeIygiK0krIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrSSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrSSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK1cpLFBTRVVETzpuZXcgUmVnRXhwKCJeIitGKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK00rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK00rIiooPzooWystXXwpIitNKyIqKFxcZCspfCkpIitNKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitSKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitNKyIqKCg/Oi1cXGQpP1xcZCopIitNKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxZPS9IVE1MJC9pLFE9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxKPS9eaFxkJC9pLEs9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLFo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxlZT0vWyt+XS8sdGU9bmV3IFJlZ0V4cCgiXFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXChbXlxcclxcblxcZl0pIiwiZyIpLG5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49IjB4IitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0scmU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csaWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe1QoKX0sYWU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYiZmllbGRzZXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0guYXBwbHkodD1PLmNhbGwocC5jaGlsZE5vZGVzKSxwLmNoaWxkTm9kZXMpLHRbcC5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7SD17YXBwbHk6dC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtMLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoVChlKSxlPWV8fEMsRSkpe2lmKDExIT09cCYmKHU9Wi5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYoZiYmKGE9Zi5nZXRFbGVtZW50QnlJZChpKSkmJnkoZSxhKSYmYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpKSxufWlmKGQucXNhJiYhTlt0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigxIT09cHx8Im9iamVjdCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihjPXQsZj1lLDE9PT1wJiYoVS50ZXN0KHQpfHx6LnRlc3QodCkpKXsoZj1lZS50ZXN0KHQpJiZ5ZShlLnBhcmVudE5vZGUpfHxlKT09PWUmJmQuc2NvcGV8fCgocz1lLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1zLnJlcGxhY2UocmUsaWUpOmUuc2V0QXR0cmlidXRlKCJpZCIscz1TKSksbz0obD1oKHQpKS5sZW5ndGg7d2hpbGUoby0tKWxbb109KHM/IiMiK3M6IjpzY29wZSIpKyIgIit4ZShsW29dKTtjPWwuam9pbigiLCIpfXRyeXtyZXR1cm4gSC5hcHBseShuLGYucXVlcnlTZWxlY3RvckFsbChjKSksbn1jYXRjaChlKXtOKHQsITApfWZpbmFsbHl7cz09PVMmJmUucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGcodC5yZXBsYWNlKCQsIiQxIiksZSxuLHIpfWZ1bmN0aW9uIHVlKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT5iLmNhY2hlTGVuZ3RoJiZkZWxldGUgZVtyLnNoaWZ0KCldLGVbdCsiICJdPW59fWZ1bmN0aW9uIGxlKGUpe3JldHVybiBlW1NdPSEwLGV9ZnVuY3Rpb24gY2UoZSl7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGZlKGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9bi5sZW5ndGg7d2hpbGUoci0tKWIuYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIHBlKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmZS5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19ZnVuY3Rpb24gaGUobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fWZ1bmN0aW9uIGdlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iZm9ybSJpbiBlP2UucGFyZW50Tm9kZSYmITE9PT1lLmRpc2FibGVkPyJsYWJlbCJpbiBlPyJsYWJlbCJpbiBlLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmRpc2FibGVkPT09dDplLmRpc2FibGVkPT09dDplLmlzRGlzYWJsZWQ9PT10fHxlLmlzRGlzYWJsZWQhPT0hdCYmYWUoZSk9PT10OmUuZGlzYWJsZWQ9PT10OiJsYWJlbCJpbiBlJiZlLmRpc2FibGVkPT09dH19ZnVuY3Rpb24gdmUoYSl7cmV0dXJuIGxlKGZ1bmN0aW9uKG8pe3JldHVybiBvPStvLGxlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKFtdLGUubGVuZ3RoLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1yW2ldXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1mb3IoZSBpbiBkPXNlLnN1cHBvcnQ9e30saT1zZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hWS50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fCJIVE1MIil9LFQ9c2Uuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU/ZS5vd25lckRvY3VtZW50fHxlOnA7cmV0dXJuIHIhPUMmJjk9PT1yLm5vZGVUeXBlJiZyLmRvY3VtZW50RWxlbWVudCYmKGE9KEM9cikuZG9jdW1lbnRFbGVtZW50LEU9IWkoQykscCE9QyYmKG49Qy5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLGQuc2NvcGU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoQy5jcmVhdGVFbGVtZW50KCJkaXYiKSksInVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwmJiFlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpzY29wZSBmaWVsZHNldCBkaXYiKS5sZW5ndGh9KSxkLmF0dHJpYnV0ZXM9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZC5nZXRFbGVtZW50c0J5VGFnTmFtZT1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChDLmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1LLnRlc3QoQy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxkLmdldEJ5SWQ9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuaWQ9UywhQy5nZXRFbGVtZW50c0J5TmFtZXx8IUMuZ2V0RWxlbWVudHNCeU5hbWUoUykubGVuZ3RofSksZC5nZXRCeUlkPyhiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sYi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZFKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19KTooYi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXBsYWNlKHRlLG5lKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gdCYmdC52YWx1ZT09PW59fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuLHIsaSxvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2k9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxyPTA7d2hpbGUobz1pW3IrK10paWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLGIuZmluZC5UQUc9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOmQucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LGIuZmluZC5DTEFTUz1kLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJkUpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0scz1bXSx2PVtdLChkLnFzYT1LLnRlc3QoQy5xdWVyeVNlbGVjdG9yQWxsKSkmJihjZShmdW5jdGlvbihlKXt2YXIgdDthLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIrUysiJz48L2E+PHNlbGVjdCBpZD0nIitTKyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnYucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitSKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrUysiLV0iKS5sZW5ndGh8fHYucHVzaCgifj0iKSwodD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgibmFtZSIsIiIpLGUuYXBwZW5kQ2hpbGQodCksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT0nJ10iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqbmFtZSIrTSsiKj0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHYucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitTKyIrKiIpLmxlbmd0aHx8di5wdXNoKCIuIy4rWyt+XSIpLGUucXVlcnlTZWxlY3RvckFsbCgiXFxcZiIpLHYucHVzaCgiW1xcclxcblxcZl0iKX0pLGNlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnYucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmdi5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEuYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iiksdi5wdXNoKCIsLio6Iil9KSksKGQubWF0Y2hlc1NlbGVjdG9yPUsudGVzdChjPWEubWF0Y2hlc3x8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLm9NYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3IpKSYmY2UoZnVuY3Rpb24oZSl7ZC5kaXNjb25uZWN0ZWRNYXRjaD1jLmNhbGwoZSwiKiIpLGMuY2FsbChlLCJbcyE9JyddOngiKSxzLnB1c2goIiE9IixGKX0pLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKCJ8IikpLHM9cy5sZW5ndGgmJm5ldyBSZWdFeHAocy5qb2luKCJ8IikpLHQ9Sy50ZXN0KGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHk9dHx8Sy50ZXN0KGEuY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0saj10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09Q3x8ZS5vd25lckRvY3VtZW50PT1wJiZ5KHAsZSk/LTE6dD09Q3x8dC5vd25lckRvY3VtZW50PT1wJiZ5KHAsdCk/MTp1P1AodSxlKS1QKHUsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbixyPTAsaT1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUsYT1bZV0scz1bdF07aWYoIWl8fCFvKXJldHVybiBlPT1DPy0xOnQ9PUM/MTppPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihpPT09bylyZXR1cm4gcGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP3BlKGFbcl0sc1tyXSk6YVtyXT09cD8tMTpzW3JdPT1wPzE6MH0pLEN9LHNlLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2UoZSxudWxsLG51bGwsdCl9LHNlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKFQoZSksZC5tYXRjaGVzU2VsZWN0b3ImJkUmJiFOW3QrIiAiXSYmKCFzfHwhcy50ZXN0KHQpKSYmKCF2fHwhdi50ZXN0KHQpKSl0cnl7dmFyIG49Yy5jYWxsKGUsdCk7aWYobnx8ZC5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGUpe04odCwhMCl9cmV0dXJuIDA8c2UodCxDLG51bGwsW2VdKS5sZW5ndGh9LHNlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSkseShlLHQpfSxzZS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSk7dmFyIG49Yi5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZELmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmQuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IWQuZGV0ZWN0RHVwbGljYXRlcyx1PSFkLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KGopLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LChiPXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOkcsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gRy5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1tW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitNKyIpIitlKyIoIitNKyJ8JCkiKSkmJm0oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoQiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLHg9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPXgmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwPSFuJiYheCxkPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmcCl7ZD0ocz0ocj0oaT0obz0oYT1jKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09ayYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrZCYmYT09PWUpe2lbaF09W2sscyxkXTticmVha319ZWxzZSBpZihwJiYoZD1zPShyPShpPShvPShhPWUpW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1rJiZyWzFdKSwhMT09PWQpd2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrZCYmKHAmJigoaT0obz1hW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtrLGRdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKGQtPXYpPT09Z3x8ZCVnPT0wJiYwPD1kL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT1iLnBzZXVkb3NbZV18fGIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW1NdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLGIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPVAoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoJCwiJDEiKSk7cmV0dXJuIHNbU10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBWLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUMuYWN0aXZlRWxlbWVudCYmKCFDLmhhc0ZvY3VzfHxDLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBKLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBRLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWIucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pYi5wc2V1ZG9zW2VdPWRlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gYmUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMscD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bayxwXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW1NdfHwoZVtTXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PWsmJnJbMV09PT1wKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2UoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltTXSYmKHY9Q2UodikpLHkmJiF5W1NdJiYoeT1DZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IWR8fCFlJiZoP2M6VGUoYyxzLGQsbixyKSxwPWc/eXx8KGU/ZDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLHAsbixyKSx2KXtpPVRlKHAsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihwW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8ZCl7aWYoeSl7aT1bXSxvPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLHA9W10saSxyKX1vPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmLTE8KGk9eT9QKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgcD1UZShwPT09dD9wLnNwbGljZShsLHAubGVuZ3RoKTpwKSx5P3kobnVsbCx0LHAscik6SC5hcHBseSh0LHApfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1iZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9YmUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8UChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtiZSh3ZShjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlbU10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gQ2UoMTxzJiZ3ZShjKSwxPHMmJnhlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoJCwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZ4ZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD14W2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj1fLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKCQsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGIuZmlsdGVyKSEocj1HW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6eChlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9QVtlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtTXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPUEoZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPWsrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT1DfHx0fHxpKTtsIT09ZyYmbnVsbCE9KG89ZFtsXSk7bCsrKXtpZih4JiZvKXthPTAsdHx8by5vd25lckRvY3VtZW50PT1DfHwoVChvKSxuPSFFKTt3aGlsZShzPXZbYSsrXSlpZihzKG8sdHx8QyxuKSl7ci5wdXNoKG8pO2JyZWFrfWkmJihrPWgpfW0mJigobz0hcyYmbykmJnUtLSxlJiZjLnB1c2gobykpfWlmKHUrPWwsbSYmbCE9PXUpe2E9MDt3aGlsZShzPXlbYSsrXSlzKGMsZix0LG4pO2lmKGUpe2lmKDA8dSl3aGlsZShsLS0pY1tsXXx8ZltsXXx8KGZbbF09cS5jYWxsKHIpKTtmPVRlKGYpfUguYXBwbHkocixmKSxpJiYhZSYmMDxmLmxlbmd0aCYmMTx1K3kubGVuZ3RoJiZzZS51bmlxdWVTb3J0KHIpfXJldHVybiBpJiYoaz1oLHc9cCksY30sbT9sZShyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9LGc9c2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxjPSFyJiZoKGU9bC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Yy5sZW5ndGgpe2lmKDI8KG89Y1swXT1jWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmRSYmYi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KGIuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksdCl8fFtdKVswXSkpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1HLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7d2hpbGUoaS0tKXtpZihhPW9baV0sYi5yZWxhdGl2ZVtzPWEudHlwZV0pYnJlYWs7aWYoKHU9Yi5maW5kW3NdKSYmKHI9dShhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksZWUudGVzdChvWzBdLnR5cGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZ4ZShvKSkpcmV0dXJuIEguYXBwbHkobixyKSxuO2JyZWFrfX19cmV0dXJuKGx8fGYoZSxjKSkocix0LCFFLG4sIXR8fGVlLnRlc3QoZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpLG59LGQuc29ydFN0YWJsZT1TLnNwbGl0KCIiKS5zb3J0KGopLmpvaW4oIiIpPT09UyxkLmRldGVjdER1cGxpY2F0ZXM9ISFsLFQoKSxkLnNvcnREZXRhY2hlZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxmZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuKXJldHVybiBlLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZC5hdHRyaWJ1dGVzJiZjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxpbnB1dC8+IixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxmZSgidmFsdWUiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8ZmUoUixmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoIW4pcmV0dXJuITA9PT1lW3RdP3QudG9Mb3dlckNhc2UoKToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9KSxzZX0oQyk7Uy5maW5kPWQsUy5leHByPWQuc2VsZWN0b3JzLFMuZXhwclsiOiJdPVMuZXhwci5wc2V1ZG9zLFMudW5pcXVlU29ydD1TLnVuaXF1ZT1kLnVuaXF1ZVNvcnQsUy50ZXh0PWQuZ2V0VGV4dCxTLmlzWE1MRG9jPWQuaXNYTUwsUy5jb250YWlucz1kLmNvbnRhaW5zLFMuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJlMoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxUPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxrPVMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gQShlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIE49L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7ZnVuY3Rpb24gaihlLG4scil7cmV0dXJuIG0obik/Uy5ncmVwKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hIW4uY2FsbChlLHQsZSkhPT1yfSk6bi5ub2RlVHlwZT9TLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PW4hPT1yfSk6InN0cmluZyIhPXR5cGVvZiBuP1MuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPGkuY2FsbChuLGUpIT09cn0pOlMuZmlsdGVyKG4sZSxyKX1TLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT9TLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOlMuZmluZC5tYXRjaGVzKGUsUy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxTLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soUyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYoUy5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKylTLmZpbmQoZSxpW3RdLG4pO3JldHVybiAxPHI/Uy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmay50ZXN0KGUpP1MoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgRCxxPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KFMuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fEQsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKHI9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTpxLmV4ZWMoZSkpfHwhclsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKHJbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIFM/dFswXTp0LFMubWVyZ2UodGhpcyxTLnBhcnNlSFRNTChyWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OkUsITApKSxOLnRlc3QoclsxXSkmJlMuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KW0odGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4oaT1FLmdldEVsZW1lbnRCeUlkKHJbMl0pKSYmKHRoaXNbMF09aSx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTptKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKFMpOlMubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9Uy5mbixEPVMoRSk7dmFyIEw9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sSD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBPKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PVMoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYoUy5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZTKGUpO2lmKCFrLnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/LTE8YS5pbmRleChuKToxPT09bi5ub2RlVHlwZSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPG8ubGVuZ3RoP1MudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP2kuY2FsbChTKGUpLHRoaXNbMF0pOmkuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy51bmlxdWVTb3J0KFMubWVyZ2UodGhpcy5nZXQoKSxTKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLFMuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gVCgoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuY29udGVudERvY3VtZW50JiZyKGUuY29udGVudERvY3VtZW50KT9lLmNvbnRlbnREb2N1bWVudDooQShlLCJ0ZW1wbGF0ZSIpJiYoZT1lLmNvbnRlbnR8fGUpLFMubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihyLGkpe1MuZm5bcl09ZnVuY3Rpb24oZSx0KXt2YXIgbj1TLm1hcCh0aGlzLGksZSk7cmV0dXJuIlVudGlsIiE9PXIuc2xpY2UoLTUpJiYodD1lKSx0JiYic3RyaW5nIj09dHlwZW9mIHQmJihuPVMuZmlsdGVyKHQsbikpLDE8dGhpcy5sZW5ndGgmJihIW3JdfHxTLnVuaXF1ZVNvcnQobiksTC50ZXN0KHIpJiZuLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFA9L1teXHgyMFx0XHJcblxmXSsvZztmdW5jdGlvbiBSKGUpe3JldHVybiBlfWZ1bmN0aW9uIE0oZSl7dGhyb3cgZX1mdW5jdGlvbiBJKGUsdCxuLHIpe3ZhciBpO3RyeXtlJiZtKGk9ZS5wcm9taXNlKT9pLmNhbGwoZSkuZG9uZSh0KS5mYWlsKG4pOmUmJm0oaT1lLnRoZW4pP2kuY2FsbChlLHQsbik6dC5hcHBseSh2b2lkIDAsW2VdLnNsaWNlKHIpKX1jYXRjaChlKXtuLmFwcGx5KHZvaWQgMCxbZV0pfX1TLkNhbGxiYWNrcz1mdW5jdGlvbihyKXt2YXIgZSxuO3I9InN0cmluZyI9PXR5cGVvZiByPyhlPXIsbj17fSxTLmVhY2goZS5tYXRjaChQKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6Uy5leHRlbmQoe30scik7dmFyIGksdCxvLGEscz1bXSx1PVtdLGw9LTEsYz1mdW5jdGlvbigpe2ZvcihhPWF8fHIub25jZSxvPWk9ITA7dS5sZW5ndGg7bD0tMSl7dD11LnNoaWZ0KCk7d2hpbGUoKytsPHMubGVuZ3RoKSExPT09c1tsXS5hcHBseSh0WzBdLHRbMV0pJiZyLnN0b3BPbkZhbHNlJiYobD1zLmxlbmd0aCx0PSExKX1yLm1lbW9yeXx8KHQ9ITEpLGk9ITEsYSYmKHM9dD9bXToiIil9LGY9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYodCYmIWkmJihsPXMubGVuZ3RoLTEsdS5wdXNoKHQpKSxmdW5jdGlvbiBuKGUpe1MuZWFjaChlLGZ1bmN0aW9uKGUsdCl7bSh0KT9yLnVuaXF1ZSYmZi5oYXModCl8fHMucHVzaCh0KTp0JiZ0Lmxlbmd0aCYmInN0cmluZyIhPT13KHQpJiZuKHQpfSl9KGFyZ3VtZW50cyksdCYmIWkmJmMoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIFMuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgtMTwobj1TLmluQXJyYXkodCxzLG4pKSlzLnNwbGljZShuLDEpLG48PWwmJmwtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT8tMTxTLmluQXJyYXkoZSxzKTowPHMubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBhPXU9W10scz10PSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXN9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHR8fGl8fChzPXQ9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhYX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXx8KHQ9W2UsKHQ9dHx8W10pLnNsaWNlP3Quc2xpY2UoKTp0XSx1LnB1c2godCksaXx8YygpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFvfX07cmV0dXJuIGZ9LFMuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgbz1bWyJub3RpZnkiLCJwcm9ncmVzcyIsUy5DYWxsYmFja3MoIm1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0saT0icGVuZGluZyIsYT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihyKXtTLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPW0oaVt0WzRdXSkmJmlbdFs0XV07c1t0WzFdXShmdW5jdGlvbigpe3ZhciBlPW4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJm0oZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhyLm5vdGlmeSkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpOnJbdFswXSsiV2l0aCJdKHRoaXMsbj9bZV06YXJndW1lbnRzKX0pfSksaT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQsbixyKXt2YXIgdT0wO2Z1bmN0aW9uIGwoaSxvLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cyxlPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZighKGk8dSkpe2lmKChlPWEuYXBwbHkobixyKSk9PT1vLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTt0PWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSYmZS50aGVuLG0odCk/cz90LmNhbGwoZSxsKHUsbyxSLHMpLGwodSxvLE0scykpOih1KyssdC5jYWxsKGUsbCh1LG8sUixzKSxsKHUsbyxNLHMpLGwodSxvLFIsby5ub3RpZnlXaXRoKSkpOihhIT09UiYmKG49dm9pZCAwLHI9W2VdKSwoc3x8by5yZXNvbHZlV2l0aCkobixyKSl9fSx0PXM/ZTpmdW5jdGlvbigpe3RyeXtlKCl9Y2F0Y2goZSl7Uy5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soZSx0LnN0YWNrVHJhY2UpLHU8PWkrMSYmKGEhPT1NJiYobj12b2lkIDAscj1bZV0pLG8ucmVqZWN0V2l0aChuLHIpKX19O2k/dCgpOihTLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuc3RhY2tUcmFjZT1TLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxDLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihlKXtvWzBdWzNdLmFkZChsKDAsZSxtKHIpP3I6UixlLm5vdGlmeVdpdGgpKSxvWzFdWzNdLmFkZChsKDAsZSxtKHQpP3Q6UikpLG9bMl1bM10uYWRkKGwoMCxlLG0obik/bjpNKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/Uy5leHRlbmQoZSxhKTphfX0scz17fTtyZXR1cm4gUy5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdKyJXaXRoIl0odGhpcz09PXM/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxzW3RbMF0rIldpdGgiXT1uLmZpcmVXaXRofSksYS5wcm9taXNlKHMpLGUmJmUuY2FsbChzLHMpLHN9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCx0PW4scj1BcnJheSh0KSxpPXMuY2FsbChhcmd1bWVudHMpLG89Uy5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbdF09dGhpcyxpW3RdPTE8YXJndW1lbnRzLmxlbmd0aD9zLmNhbGwoYXJndW1lbnRzKTplLC0tbnx8by5yZXNvbHZlV2l0aChyLGkpfX07aWYobjw9MSYmKEkoZSxvLmRvbmUoYSh0KSkucmVzb2x2ZSxvLnJlamVjdCwhbiksInBlbmRpbmciPT09by5zdGF0ZSgpfHxtKGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pSShpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgVz0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtDLmNvbnNvbGUmJkMuY29uc29sZS53YXJuJiZlJiZXLnRlc3QoZS5uYW1lKSYmQy5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LFMucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oZSl7Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfTt2YXIgRj1TLkRlZmVycmVkKCk7ZnVuY3Rpb24gQigpe0UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixCKSxTLnJlYWR5KCl9Uy5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gRi50aGVuKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe1MucmVhZHlFeGNlcHRpb24oZSl9KSx0aGlzfSxTLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tUy5yZWFkeVdhaXQ6Uy5pc1JlYWR5KXx8KFMuaXNSZWFkeT0hMCkhPT1lJiYwPC0tUy5yZWFkeVdhaXR8fEYucmVzb2x2ZVdpdGgoRSxbU10pfX0pLFMucmVhZHkudGhlbj1GLnRoZW4sImNvbXBsZXRlIj09PUUucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09RS5yZWFkeVN0YXRlJiYhRS5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/Qy5zZXRUaW1lb3V0KFMucmVhZHkpOihFLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIpLEMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsQikpO3ZhciAkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe3ZhciBzPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoIm9iamVjdCI9PT13KG4pKWZvcihzIGluIGk9ITAsbikkKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLG0ocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoUyhlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxfPS9eLW1zLS8sej0vLShbYS16XSkvZztmdW5jdGlvbiBVKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBYKGUpe3JldHVybiBlLnJlcGxhY2UoXywibXMtIikucmVwbGFjZSh6LFUpfXZhciBWPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gRygpe3RoaXMuZXhwYW5kbz1TLmV4cGFuZG8rRy51aWQrK31HLnVpZD0xLEcucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFYoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW1godCldPW47ZWxzZSBmb3IociBpbiB0KWlbWChyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtYKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChYKToodD1YKHQpKWluIHI/W3RdOnQubWF0Y2goUCl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHxTLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFTLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgWT1uZXcgRyxRPW5ldyBHLEo9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxLPS9bQS1aXS9nO2Z1bmN0aW9uIFooZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShLLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Si50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fVEuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufVMuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBRLmhhc0RhdGEoZSl8fFkuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFEuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1EucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1kucmVtb3ZlKGUsdCl9fSksUy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1RLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVkuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9WChyLnNsaWNlKDUpKSxaKG8scixpW3JdKSk7WS5zZXQobywiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGl9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbil9KTokKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9US5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1aKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtRLnJlbW92ZSh0aGlzLGUpfSl9fSksUy5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihlKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLHI9WS5nZXQoZSx0KSxuJiYoIXJ8fEFycmF5LmlzQXJyYXkobik/cj1ZLmFjY2VzcyhlLHQsUy5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49Uy5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1TLl9xdWV1ZUhvb2tzKGUsdCk7ImlucHJvZ3Jlc3MiPT09aSYmKGk9bi5zaGlmdCgpLHItLSksaSYmKCJmeCI9PT10JiZuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLGZ1bmN0aW9uKCl7Uy5kZXF1ZXVlKGUsdCl9LG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIFkuZ2V0KGUsbil8fFkuYWNjZXNzKGUsbix7ZW1wdHk6Uy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7WS5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksUy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKHQsbil7dmFyIGU9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iZngiLGUtLSksYXJndW1lbnRzLmxlbmd0aDxlP1MucXVldWUodGhpc1swXSx0KTp2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Uy5xdWV1ZSh0aGlzLHQsbik7Uy5fcXVldWVIb29rcyh0aGlzLHQpLCJmeCI9PT10JiYiaW5wcm9ncmVzcyIhPT1lWzBdJiZTLmRlcXVldWUodGhpcyx0KX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9Uy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49WS5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgZWU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsdGU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK2VlKyIpKFthLXolXSopJCIsImkiKSxuZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHJlPUUuZG9jdW1lbnRFbGVtZW50LGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sb2U9e2NvbXBvc2VkOiEwfTtyZS5nZXRSb290Tm9kZSYmKGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8ZS5nZXRSb290Tm9kZShvZSk9PT1lLm93bmVyRG9jdW1lbnR9KTt2YXIgYWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibm9uZSI9PT0oZT10fHxlKS5zdHlsZS5kaXNwbGF5fHwiIj09PWUuc3R5bGUuZGlzcGxheSYmaWUoZSkmJiJub25lIj09PVMuY3NzKGUsImRpc3BsYXkiKX07ZnVuY3Rpb24gc2UoZSx0LG4scil7dmFyIGksbyxhPTIwLHM9cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBTLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChTLmNzc051bWJlclt0XT8iIjoicHgiKSxjPWUubm9kZVR5cGUmJihTLmNzc051bWJlclt0XXx8InB4IiE9PWwmJit1KSYmdGUuZXhlYyhTLmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pUy5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLFMuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgdWU9e307ZnVuY3Rpb24gbGUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKGxbY109WS5nZXQociwiZGlzcGxheSIpfHxudWxsLGxbY118fChyLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmYWUocikmJihsW2NdPSh1PWE9bz12b2lkIDAsYT0oaT1yKS5vd25lckRvY3VtZW50LHM9aS5ub2RlTmFtZSwodT11ZVtzXSl8fChvPWEuYm9keS5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQocykpLHU9Uy5jc3MobywiZGlzcGxheSIpLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSwibm9uZSI9PT11JiYodT0iYmxvY2siKSx1ZVtzXT11KSkpKToibm9uZSIhPT1uJiYobFtjXT0ibm9uZSIsWS5zZXQociwiZGlzcGxheSIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthZSh0aGlzKT9TKHRoaXMpLnNob3coKTpTKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBjZSxmZSxwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2k7Y2U9RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoRS5jcmVhdGVFbGVtZW50KCJkaXYiKSksKGZlPUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxmZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksZmUuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGNlLmFwcGVuZENoaWxkKGZlKSx5LmNoZWNrQ2xvbmU9Y2UuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGNlLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIseS5ub0Nsb25lQ2hlY2tlZD0hIWNlLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSxjZS5pbm5lckhUTUw9IjxvcHRpb24+PC9vcHRpb24+Iix5Lm9wdGlvbj0hIWNlLmxhc3RDaGlsZDt2YXIgZ2U9e3RoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB2ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmQShlLHQpP1MubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspWS5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fFkuZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9Z2UudGJvZHk9Z2UudGZvb3Q9Z2UuY29sZ3JvdXA9Z2UuY2FwdGlvbj1nZS50aGVhZCxnZS50aD1nZS50ZCx5Lm9wdGlvbnx8KGdlLm9wdGdyb3VwPWdlLm9wdGlvbj1bMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdKTt2YXIgbWU9Lzx8JiM/XHcrOy87ZnVuY3Rpb24geGUoZSx0LG4scixpKXtmb3IodmFyIG8sYSxzLHUsbCxjLGY9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1bXSxkPTAsaD1lLmxlbmd0aDtkPGg7ZCsrKWlmKChvPWVbZF0pfHwwPT09bylpZigib2JqZWN0Ij09PXcobykpUy5tZXJnZShwLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYobWUudGVzdChvKSl7YT1hfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KGRlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksdT1nZVtzXXx8Z2UuX2RlZmF1bHQsYS5pbm5lckhUTUw9dVsxXStTLmh0bWxQcmVmaWx0ZXIobykrdVsyXSxjPXVbMF07d2hpbGUoYy0tKWE9YS5sYXN0Q2hpbGQ7Uy5tZXJnZShwLGEuY2hpbGROb2RlcyksKGE9Zi5maXJzdENoaWxkKS50ZXh0Q29udGVudD0iIn1lbHNlIHAucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTtmLnRleHRDb250ZW50PSIiLGQ9MDt3aGlsZShvPXBbZCsrXSlpZihyJiYtMTxTLmluQXJyYXkobyxyKSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPWllKG8pLGE9dmUoZi5hcHBlbmRDaGlsZChvKSwic2NyaXB0IiksbCYmeWUoYSksbil7Yz0wO3doaWxlKG89YVtjKytdKWhlLnRlc3Qoby50eXBlfHwiIikmJm4ucHVzaChvKX1yZXR1cm4gZn12YXIgYmU9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHdlKCl7cmV0dXJuITB9ZnVuY3Rpb24gVGUoKXtyZXR1cm4hMX1mdW5jdGlvbiBDZShlLHQpe3JldHVybiBlPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEUuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fSgpPT0oImZvY3VzIj09PXQpfWZ1bmN0aW9uIEVlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApLHQpRWUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9VGU7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIFMoKS5vZmYoZSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPWEuZ3VpZHx8KGEuZ3VpZD1TLmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX1mdW5jdGlvbiBTZShlLGksbyl7bz8oWS5zZXQoZSxpLCExKSxTLmV2ZW50LmFkZChlLGkse25hbWVzcGFjZTohMSxoYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1ZLmdldCh0aGlzLGkpO2lmKDEmZS5pc1RyaWdnZXImJnRoaXNbaV0pe2lmKHIubGVuZ3RoKShTLmV2ZW50LnNwZWNpYWxbaV18fHt9KS5kZWxlZ2F0ZVR5cGUmJmUuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihyPXMuY2FsbChhcmd1bWVudHMpLFkuc2V0KHRoaXMsaSxyKSx0PW8odGhpcyxpKSx0aGlzW2ldKCksciE9PShuPVkuZ2V0KHRoaXMsaSkpfHx0P1kuc2V0KHRoaXMsaSwhMSk6bj17fSxyIT09bilyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksbiYmbi52YWx1ZX1lbHNlIHIubGVuZ3RoJiYoWS5zZXQodGhpcyxpLHt2YWx1ZTpTLmV2ZW50LnRyaWdnZXIoUy5leHRlbmQoclswXSxTLkV2ZW50LnByb3RvdHlwZSksci5zbGljZSgxKSx0aGlzKX0pLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX0pKTp2b2lkIDA9PT1ZLmdldChlLGkpJiZTLmV2ZW50LmFkZChlLGksd2UpfVMuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5nZXQodCk7aWYoVih0KSl7bi5oYW5kbGVyJiYobj0obz1uKS5oYW5kbGVyLGk9by5zZWxlY3RvciksaSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihyZSxpKSxuLmd1aWR8fChuLmd1aWQ9Uy5ndWlkKyspLCh1PXYuZXZlbnRzKXx8KHU9di5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFMmJlMuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP1MuZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9YmUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9Uy5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmUy5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwodCxyLGgsYSl8fHQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbCh0LGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxTLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5oYXNEYXRhKGUpJiZZLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlpZihkPWc9KHM9YmUuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtmPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fFMucmVtb3ZlRXZlbnQoZSxkLHYuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KVMuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7Uy5pc0VtcHR5T2JqZWN0KHUpJiZZLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdT1TLmV2ZW50LmZpeChlKSxsPShZLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdS50eXBlXXx8W10sYz1TLmV2ZW50LnNwZWNpYWxbdS50eXBlXXx8e307Zm9yKHNbMF09dSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylzW3RdPWFyZ3VtZW50c1t0XTtpZih1LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fCExIT09Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdSkpe2E9Uy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdSxsKSx0PTA7d2hpbGUoKGk9YVt0KytdKSYmIXUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7d2hpbGUoKG89aS5oYW5kbGVyc1tuKytdKSYmIXUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl1LnJuYW1lc3BhY2UmJiExIT09by5uYW1lc3BhY2UmJiF1LnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fCh1LmhhbmRsZU9iaj1vLHUuZGF0YT1vLmRhdGEsdm9pZCAwIT09KHI9KChTLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLHMpKSYmITE9PT0odS5yZXN1bHQ9cikmJih1LnByZXZlbnREZWZhdWx0KCksdS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHUpLHUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJjE8PWUuYnV0dG9uKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/LTE8UyhpLHRoaXMpLmluZGV4KGwpOlMuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShTLkV2ZW50LnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6bShlKT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gZSh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W3RdfSxzZXQ6ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbUy5leHBhbmRvXT9lOm5ldyBTLkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIsd2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtyZXR1cm4gcGUudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZBKHQsImlucHV0IikmJlkuZ2V0KHQsImNsaWNrIil8fEEodCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LFMucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LFMuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBTLkV2ZW50KSlyZXR1cm4gbmV3IFMuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT93ZTpUZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZTLmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbUy5leHBhbmRvXT0hMH0sUy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlMuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOlRlLGlzUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sUy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjb2RlOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOiEwfSxTLmV2ZW50LmFkZFByb3ApLFMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtTLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIFNlKHRoaXMsZSxDZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gU2UodGhpcyxlKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGVsZWdhdGVUeXBlOnR9fSksUy5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe1MuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxTLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxTLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEVlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRWUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosUyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49VGUpLHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLEFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLE5lPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBqZShlLHQpe3JldHVybiBBKGUsInRhYmxlIikmJkEoMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpJiZTKGUpLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxlfWZ1bmN0aW9uIERlKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gcWUoZSl7cmV0dXJuInRydWUvIj09PShlLnR5cGV8fCIiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIExlKGUsdCl7dmFyIG4scixpLG8sYSxzO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihZLmhhc0RhdGEoZSkmJihzPVkuZ2V0KGUpLmV2ZW50cykpZm9yKGkgaW4gWS5yZW1vdmUodCwiaGFuZGxlIGV2ZW50cyIpLHMpZm9yKG49MCxyPXNbaV0ubGVuZ3RoO248cjtuKyspUy5ldmVudC5hZGQodCxpLHNbaV1bbl0pO1EuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1TLmV4dGVuZCh7fSxvKSxRLnNldCh0LGEpKX19ZnVuY3Rpb24gSGUobixyLGksbyl7cj1nKHIpO3ZhciBlLHQsYSxzLHUsbCxjPTAsZj1uLmxlbmd0aCxwPWYtMSxkPXJbMF0saD1tKGQpO2lmKGh8fDE8ZiYmInN0cmluZyI9PXR5cGVvZiBkJiYheS5jaGVja0Nsb25lJiZBZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksSGUodCxyLGksbyl9KTtpZihmJiYodD0oZT14ZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Uy5tYXAodmUoZSwic2NyaXB0IiksRGUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PVMuY2xvbmUodSwhMCwhMCkscyYmUy5tZXJnZShhLHZlKHUsInNjcmlwdCIpKSksaS5jYWxsKG5bY10sdSxjKTtpZihzKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxTLm1hcChhLHFlKSxjPTA7YzxzO2MrKyl1PWFbY10saGUudGVzdCh1LnR5cGV8fCIiKSYmIVkuYWNjZXNzKHUsImdsb2JhbEV2YWwiKSYmUy5jb250YWlucyhsLHUpJiYodS5zcmMmJiJtb2R1bGUiIT09KHUudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/Uy5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJlMuX2V2YWxVcmwodS5zcmMse25vbmNlOnUubm9uY2V8fHUuZ2V0QXR0cmlidXRlKCJub25jZSIpfSxsKTpiKHUudGV4dENvbnRlbnQucmVwbGFjZShOZSwiIiksdSxsKSl9cmV0dXJuIG59ZnVuY3Rpb24gT2UoZSx0LG4pe2Zvcih2YXIgcixpPXQ/Uy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fFMuY2xlYW5EYXRhKHZlKHIpKSxyLnBhcmVudE5vZGUmJihuJiZpZShyKSYmeWUodmUociwic2NyaXB0IikpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSk7cmV0dXJuIGV9Uy5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPWllKGUpO2lmKCEoeS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Uy5pc1hNTERvYyhlKSkpZm9yKGE9dmUoYykscj0wLGk9KG89dmUoZSkpLmxlbmd0aDtyPGk7cisrKXM9b1tyXSx1PWFbcl0sdm9pZCAwLCJpbnB1dCI9PT0obD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZwZS50ZXN0KHMudHlwZSk/dS5jaGVja2VkPXMuY2hlY2tlZDoiaW5wdXQiIT09bCYmInRleHRhcmVhIiE9PWx8fCh1LmRlZmF1bHRWYWx1ZT1zLmRlZmF1bHRWYWx1ZSk7aWYodClpZihuKWZvcihvPW98fHZlKGUpLGE9YXx8dmUoYykscj0wLGk9by5sZW5ndGg7cjxpO3IrKylMZShvW3JdLGFbcl0pO2Vsc2UgTGUoZSxjKTtyZXR1cm4gMDwoYT12ZShjLCJzY3JpcHQiKSkubGVuZ3RoJiZ5ZShhLCFmJiZ2ZShlLCJzY3JpcHQiKSksY30sY2xlYW5EYXRhOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT1TLmV2ZW50LnNwZWNpYWwsbz0wO3ZvaWQgMCE9PShuPWVbb10pO28rKylpZihWKG4pKXtpZih0PW5bWS5leHBhbmRvXSl7aWYodC5ldmVudHMpZm9yKHIgaW4gdC5ldmVudHMpaVtyXT9TLmV2ZW50LnJlbW92ZShuLHIpOlMucmVtb3ZlRXZlbnQobixyLHQuaGFuZGxlKTtuW1kuZXhwYW5kb109dm9pZCAwfW5bUS5leHBhbmRvXSYmKG5bUS5leHBhbmRvXT12b2lkIDApfX19KSxTLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9lKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9TLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fGplKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9amUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoUy5jbGVhbkRhdGEodmUoZSwhMSkpLGUudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBTLmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIWtlLnRlc3QoZSkmJiFnZVsoZGUuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9Uy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50Tm9kZTtTLmluQXJyYXkodGhpcyxuKTwwJiYoUy5jbGVhbkRhdGEodmUodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxTLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLGEpe1MuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10scj1TKGUpLGk9ci5sZW5ndGgtMSxvPTA7bzw9aTtvKyspdD1vPT09aT90aGlzOnRoaXMuY2xvbmUoITApLFMocltvXSlbYV0odCksdS5hcHBseShuLHQuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUGU9bmV3IFJlZ0V4cCgiXigiK2VlKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksUmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9QyksdC5nZXRDb21wdXRlZFN0eWxlKGUpfSxNZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9O2ZvcihpIGluIHQpb1tpXT1lLnN0eWxlW2ldLGUuc3R5bGVbaV09dFtpXTtmb3IoaSBpbiByPW4uY2FsbChlKSx0KWUuc3R5bGVbaV09b1tpXTtyZXR1cm4gcn0sSWU9bmV3IFJlZ0V4cChuZS5qb2luKCJ8IiksImkiKTtmdW5jdGlvbiBXZShlLHQsbil7dmFyIHIsaSxvLGEscz1lLnN0eWxlO3JldHVybihuPW58fFJlKGUpKSYmKCIiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8aWUoZSl8fChhPVMuc3R5bGUoZSx0KSksIXkucGl4ZWxCb3hTdHlsZXMoKSYmUGUudGVzdChhKSYmSWUudGVzdCh0KSYmKHI9cy53aWR0aCxpPXMubWluV2lkdGgsbz1zLm1heFdpZHRoLHMubWluV2lkdGg9cy5tYXhXaWR0aD1zLndpZHRoPWEsYT1uLndpZHRoLHMud2lkdGg9cixzLm1pbldpZHRoPWkscy5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hKyIiOmF9ZnVuY3Rpb24gRmUoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIWUoKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fSFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihsKXt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSIscmUuYXBwZW5kQ2hpbGQodSkuYXBwZW5kQ2hpbGQobCk7dmFyIGU9Qy5nZXRDb21wdXRlZFN0eWxlKGwpO249IjElIiE9PWUudG9wLHM9MTI9PT10KGUubWFyZ2luTGVmdCksbC5zdHlsZS5yaWdodD0iNjAlIixvPTM2PT09dChlLnJpZ2h0KSxyPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxyZS5yZW1vdmVDaGlsZCh1KSxsPW51bGx9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIG4scixpLG8sYSxzLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKSxsPUUuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZSYmKGwuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixsLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIseS5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWwuc3R5bGUuYmFja2dyb3VuZENsaXAsUy5leHRlbmQoeSx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHJ9LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxvfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxufSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGl9LHJlbGlhYmxlVHJEaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7cmV0dXJuIG51bGw9PWEmJihlPUUuY3JlYXRlRWxlbWVudCgidGFibGUiKSx0PUUuY3JlYXRlRWxlbWVudCgidHIiKSxuPUUuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZSIsdC5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MXB4IHNvbGlkIix0LnN0eWxlLmhlaWdodD0iMXB4IixuLnN0eWxlLmhlaWdodD0iOXB4IixuLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixyZS5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPUMuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxhPXBhcnNlSW50KHIuaGVpZ2h0LDEwKStwYXJzZUludChyLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChyLmJvcmRlckJvdHRvbVdpZHRoLDEwKT09PXQub2Zmc2V0SGVpZ2h0LHJlLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgQmU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLCRlPUUuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsX2U9e307ZnVuY3Rpb24gemUoZSl7dmFyIHQ9Uy5jc3NQcm9wc1tlXXx8X2VbZV07cmV0dXJuIHR8fChlIGluICRlP2U6X2VbZV09ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1CZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUJlW25dK3QpaW4gJGUpcmV0dXJuIGV9KGUpfHxlKX12YXIgVWU9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFhlPS9eLS0vLFZlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxHZT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07ZnVuY3Rpb24gWWUoZSx0LG4pe3ZhciByPXRlLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gUWUoZSx0LG4scixpLG8pe3ZhciBhPSJ3aWR0aCI9PT10PzE6MCxzPTAsdT0wO2lmKG49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpIm1hcmdpbiI9PT1uJiYodSs9Uy5jc3MoZSxuK25lW2FdLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYodS09Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSkpLCJtYXJnaW4iIT09biYmKHUtPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKSkpOih1Kz1TLmNzcyhlLCJwYWRkaW5nIituZVthXSwhMCxpKSwicGFkZGluZyIhPT1uP3UrPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKTpzKz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpO3JldHVybiFyJiYwPD1vJiYodSs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVsib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tby11LXMtLjUpKXx8MCksdX1mdW5jdGlvbiBKZShlLHQsbil7dmFyIHI9UmUoZSksaT0oIXkuYm94U2l6aW5nUmVsaWFibGUoKXx8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsciksbz1pLGE9V2UoZSx0LHIpLHM9Im9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYoUGUudGVzdChhKSl7aWYoIW4pcmV0dXJuIGE7YT0iYXV0byJ9cmV0dXJuKCF5LmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCF5LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkmJkEoZSwidHIiKXx8ImF1dG8iPT09YXx8IXBhcnNlRmxvYXQoYSkmJiJpbmxpbmUiPT09Uy5jc3MoZSwiZGlzcGxheSIsITEscikpJiZlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoaT0iYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLChvPXMgaW4gZSkmJihhPWVbc10pKSwoYT1wYXJzZUZsb2F0KGEpfHwwKStRZShlLHQsbnx8KGk/ImJvcmRlciI6ImNvbnRlbnQiKSxvLHIsYSkrInB4In1mdW5jdGlvbiBLZShlLHQsbixyLGkpe3JldHVybiBuZXcgS2UucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1TLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPVdlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9WCh0KSx1PVhlLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PXplKHMpKSxhPVMuY3NzSG9va3NbdF18fFMuY3NzSG9va3Nbc10sdm9pZCAwPT09bilyZXR1cm4gYSYmImdldCJpbiBhJiZ2b2lkIDAhPT0oaT1hLmdldChlLCExLHIpKT9pOmxbdF07InN0cmluZyI9PT0obz10eXBlb2YgbikmJihpPXRlLmV4ZWMobikpJiZpWzFdJiYobj1zZShlLHQsaSksbz0ibnVtYmVyIiksbnVsbCE9biYmbj09biYmKCJudW1iZXIiIT09b3x8dXx8KG4rPWkmJmlbM118fChTLmNzc051bWJlcltzXT8iIjoicHgiKSkseS5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobFt0XT0iaW5oZXJpdCIpLGEmJiJzZXQiaW4gYSYmdm9pZCAwPT09KG49YS5zZXQoZSxuLHIpKXx8KHU/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPVgodCk7cmV0dXJuIFhlLnRlc3QodCl8fCh0PXplKHMpKSwoYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdKSYmImdldCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1XZShlLHQscikpLCJub3JtYWwiPT09aSYmdCBpbiBHZSYmKGk9R2VbdF0pLCIiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLCEwPT09bnx8aXNGaW5pdGUobyk/b3x8MDppKTppfX0pLFMuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx1KXtTLmNzc0hvb2tzW3VdPXtnZXQ6ZnVuY3Rpb24oZSx0LG4pe2lmKHQpcmV0dXJuIVVlLnRlc3QoUy5jc3MoZSwiZGlzcGxheSIpKXx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9KZShlLHUsbik6TWUoZSxWZSxmdW5jdGlvbigpe3JldHVybiBKZShlLHUsbil9KX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPVJlKGUpLG89IXkuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09aS5wb3NpdGlvbixhPShvfHxuKSYmImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSxzPW4/UWUoZSx1LG4sYSxpKTowO3JldHVybiBhJiZvJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdVswXS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSldLXBhcnNlRmxvYXQoaVt1XSktUWUoZSx1LCJib3JkZXIiLCExLGkpLS41KSkscyYmKHI9dGUuZXhlYyh0KSkmJiJweCIhPT0oclszXXx8InB4IikmJihlLnN0eWxlW3VdPXQsdD1TLmNzcyhlLHUpKSxZZSgwLHQscyl9fX0pLFMuY3NzSG9va3MubWFyZ2luTGVmdD1GZSh5LnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoV2UoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LU1lKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSxTLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihpLG8pe1MuY3NzSG9va3NbaStvXT17ZXhwYW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49e30scj0ic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiICIpOltlXTt0PDQ7dCsrKW5baStuZVt0XStvXT1yW3RdfHxyW3QtMl18fHJbMF07cmV0dXJuIG59fSwibWFyZ2luIiE9PWkmJihTLmNzc0hvb2tzW2krb10uc2V0PVllKX0pLFMuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPVJlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPVMuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9TLnN0eWxlKGUsdCxuKTpTLmNzcyhlLHQpfSxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KSwoKFMuVHdlZW49S2UpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2UsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8Uy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fChTLmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9S2UucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOktlLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPUtlLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1TLmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6S2UucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPUtlLnByb3RvdHlwZSwoS2UucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9Uy5jc3MoZS5lbGVtLGUucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe1MuZnguc3RlcFtlLnByb3BdP1MuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fCFTLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVt6ZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpTLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSkuc2Nyb2xsVG9wPUtlLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LFMuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn0sUy5meD1LZS5wcm90b3R5cGUuaW5pdCxTLmZ4LnN0ZXA9e307dmFyIFplLGV0LHR0LG50LHJ0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxpdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIG90KCl7ZXQmJighMT09PUUuaGlkZGVuJiZDLnJlcXVlc3RBbmltYXRpb25GcmFtZT9DLnJlcXVlc3RBbmltYXRpb25GcmFtZShvdCk6Qy5zZXRUaW1lb3V0KG90LFMuZnguaW50ZXJ2YWwpLFMuZngudGljaygpKX1mdW5jdGlvbiBhdCgpe3JldHVybiBDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtaZT12b2lkIDB9KSxaZT1EYXRlLm5vdygpfWZ1bmN0aW9uIHN0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbIm1hcmdpbiIrKG49bmVbcl0pXT1pWyJwYWRkaW5nIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiB1dChlLHQsbil7Zm9yKHZhciByLGk9KGx0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KGx0LnR3ZWVuZXJzWyIqIl0pLG89MCxhPWkubGVuZ3RoO288YTtvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGx0KG8sZSx0KXt2YXIgbixhLHI9MCxpPWx0LnByZWZpbHRlcnMubGVuZ3RoLHM9Uy5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9WmV8fGF0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpTLmV4dGVuZCh7fSxlKSxvcHRzOlMuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpTLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOlplfHxhdCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5Ud2VlbihvLGwub3B0cyxlLHQsbC5vcHRzLnNwZWNpYWxFYXNpbmdbZV18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKG4pLG59LHN0b3A6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWU/bC50d2VlbnMubGVuZ3RoOjA7aWYoYSlyZXR1cm4gdGhpcztmb3IoYT0hMDt0PG47dCsrKWwudHdlZW5zW3RdLnJ1bigxKTtyZXR1cm4gZT8ocy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsLGVdKSk6cy5yZWplY3RXaXRoKG8sW2wsZV0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcighZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhO2ZvcihuIGluIGUpaWYoaT10W3I9WChuKV0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT1TLmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKWZvcihuIGluIG89YS5leHBhbmQobyksZGVsZXRlIGVbcl0sbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cjxpO3IrKylpZihuPWx0LnByZWZpbHRlcnNbcl0uY2FsbChsLG8sYyxsLm9wdHMpKXJldHVybiBtKG4uc3RvcCkmJihTLl9xdWV1ZUhvb2tzKGwuZWxlbSxsLm9wdHMucXVldWUpLnN0b3A9bi5zdG9wLmJpbmQobikpLG47cmV0dXJuIFMubWFwKGMsdXQsbCksbShsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChvLGwpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpLFMuZngudGltZXIoUy5leHRlbmQodSx7ZWxlbTpvLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbH1TLkFuaW1hdGlvbj1TLmV4dGVuZChsdCx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHNlKG4uZWxlbSxlLHRlLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7bShlKT8odD1lLGU9WyIqIl0pOmU9ZS5tYXRjaChQKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWVbcl0sbHQudHdlZW5lcnNbbl09bHQudHdlZW5lcnNbbl18fFtdLGx0LnR3ZWVuZXJzW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjLGY9IndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCxwPXRoaXMsZD17fSxoPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZhZShlKSx2PVkuZ2V0KGUsImZ4c2hvdyIpO2ZvcihyIGluIG4ucXVldWV8fChudWxsPT0oYT1TLl9xdWV1ZUhvb2tzKGUsImZ4IikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHM9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHMoKX0pLGEudW5xdWV1ZWQrKyxwLmFsd2F5cyhmdW5jdGlvbigpe3AuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLFMucXVldWUoZSwiZngiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihpPXRbcl0scnQudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShnPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Uy5zdHlsZShlLHIpfWlmKCh1PSFTLmlzRW1wdHlPYmplY3QodCkpfHwhUy5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9WS5nZXQoZSwiZGlzcGxheSIpKSwibm9uZSI9PT0oYz1TLmNzcyhlLCJkaXNwbGF5IikpJiYobD9jPWw6KGxlKFtlXSwhMCksbD1lLnN0eWxlLmRpc3BsYXl8fGwsYz1TLmNzcyhlLCJkaXNwbGF5IiksbGUoW2VdKSkpLCgiaW5saW5lIj09PWN8fCJpbmxpbmUtYmxvY2siPT09YyYmbnVsbCE9bCkmJiJub25lIj09PVMuY3NzKGUsImZsb2F0IikmJih1fHwocC5kb25lKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1oLmRpc3BsYXksbD0ibm9uZSI9PT1jPyIiOmMpKSxoLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYoaC5vdmVyZmxvdz0iaGlkZGVuIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2PyJoaWRkZW4iaW4gdiYmKGc9di5oaWRkZW4pOnY9WS5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpsfSksbyYmKHYuaGlkZGVuPSFnKSxnJiZsZShbZV0sITApLHAuZG9uZShmdW5jdGlvbigpe2ZvcihyIGluIGd8fGxlKFtlXSksWS5yZW1vdmUoZSwiZnhzaG93IiksZClTLnN0eWxlKGUscixkW3JdKX0pKSx1PXV0KGc/dltyXTowLHIscCksciBpbiB2fHwodltyXT11LnN0YXJ0LGcmJih1LmVuZD11LnN0YXJ0LHUuc3RhcnQ9MCkpfV0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9sdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6bHQucHJlZmlsdGVycy5wdXNoKGUpfX0pLFMuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT9TLmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fG0oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIW0odCkmJnR9O3JldHVybiBTLmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiBTLmZ4LnNwZWVkcz9yLmR1cmF0aW9uPVMuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249Uy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bShyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmUy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LFMuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1TLmlzRW1wdHlPYmplY3QodCksbz1TLnNwZWVkKGUsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIGU9bHQodGhpcyxTLmV4dGVuZCh7fSx0KSxvKTsoaXx8WS5nZXQodGhpcywiZmluaXNoIikpJiZlLnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihpLGUsbyl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChvKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0hMCx0PW51bGwhPWkmJmkrInF1ZXVlSG9va3MiLG49Uy50aW1lcnMscj1ZLmdldCh0aGlzKTtpZih0KXJbdF0mJnJbdF0uc3RvcCYmYShyW3RdKTtlbHNlIGZvcih0IGluIHIpclt0XSYmclt0XS5zdG9wJiZpdC50ZXN0KHQpJiZhKHJbdF0pO2Zvcih0PW4ubGVuZ3RoO3QtLTspblt0XS5lbGVtIT09dGhpc3x8bnVsbCE9aSYmblt0XS5xdWV1ZSE9PWl8fChuW3RdLmFuaW0uc3RvcChvKSxlPSExLG4uc3BsaWNlKHQsMSkpOyFlJiZvfHxTLmRlcXVldWUodGhpcyxpKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuITEhPT1hJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0PVkuZ2V0KHRoaXMpLG49dFthKyJxdWV1ZSJdLHI9dFthKyJxdWV1ZUhvb2tzIl0saT1TLnRpbWVycyxvPW4/bi5sZW5ndGg6MDtmb3IodC5maW5pc2g9ITAsUy5xdWV1ZSh0aGlzLGEsW10pLHImJnIuc3RvcCYmci5zdG9wLmNhbGwodGhpcywhMCksZT1pLmxlbmd0aDtlLS07KWlbZV0uZWxlbT09PXRoaXMmJmlbZV0ucXVldWU9PT1hJiYoaVtlXS5hbmltLnN0b3AoITApLGkuc3BsaWNlKGUsMSkpO2ZvcihlPTA7ZTxvO2UrKyluW2VdJiZuW2VdLmZpbmlzaCYmbltlXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgdC5maW5pc2h9KX19KSxTLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUscil7dmFyIGk9Uy5mbltyXTtTLmZuW3JdPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoc3QociwhMCksZSx0LG4pfX0pLFMuZWFjaCh7c2xpZGVEb3duOnN0KCJzaG93Iiksc2xpZGVVcDpzdCgiaGlkZSIpLHNsaWRlVG9nZ2xlOnN0KCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUscil7Uy5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxTLnRpbWVycz1bXSxTLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj1TLnRpbWVycztmb3IoWmU9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxTLmZ4LnN0b3AoKSxaZT12b2lkIDB9LFMuZngudGltZXI9ZnVuY3Rpb24oZSl7Uy50aW1lcnMucHVzaChlKSxTLmZ4LnN0YXJ0KCl9LFMuZnguaW50ZXJ2YWw9MTMsUy5meC5zdGFydD1mdW5jdGlvbigpe2V0fHwoZXQ9ITAsb3QoKSl9LFMuZnguc3RvcD1mdW5jdGlvbigpe2V0PW51bGx9LFMuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LFMuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1TLmZ4JiZTLmZ4LnNwZWVkc1tyXXx8cixlPWV8fCJmeCIsdGhpcy5xdWV1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49Qy5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7Qy5jbGVhclRpbWVvdXQobil9fSl9LHR0PUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxudD1FLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLHR0LnR5cGU9ImNoZWNrYm94Iix5LmNoZWNrT249IiIhPT10dC52YWx1ZSx5Lm9wdFNlbGVjdGVkPW50LnNlbGVjdGVkLCh0dD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0Iix0dC50eXBlPSJyYWRpbyIseS5yYWRpb1ZhbHVlPSJ0Ij09PXR0LnZhbHVlO3ZhciBjdCxmdD1TLmV4cHIuYXR0ckhhbmRsZTtTLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsUy5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/Uy5wcm9wKGUsdCxuKTooMT09PW8mJlMuaXNYTUxEb2MoZSl8fChpPVMuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChTLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP2N0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCBTLnJlbW92ZUF0dHIoZSx0KTppJiYic2V0ImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPVMuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmQShlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goUCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksY3Q9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P1MucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LFMuZWFjaChTLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBhPWZ0W3RdfHxTLmZpbmQuYXR0cjtmdFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9ZnRbb10sZnRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCxmdFtvXT1pKSxyfX0pO3ZhciBwdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGR0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBodChlKXtyZXR1cm4oZS5tYXRjaChQKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBndChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiB2dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChQKXx8W119Uy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbUy5wcm9wRml4W2VdfHxlXX0pfX0pLFMuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmUy5pc1hNTERvYyhlKXx8KHQ9Uy5wcm9wRml4W3RdfHx0LGk9Uy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6cHQudGVzdChlLm5vZGVOYW1lKXx8ZHQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSkseS5vcHRTZWxlY3RlZHx8KFMucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxTLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe1MucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxTLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLmFkZENsYXNzKHQuY2FsbCh0aGlzLGUsZ3QodGhpcykpKX0pO2lmKChlPXZ0KHQpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1ndChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIraHQoaSkrIiAiKXthPTA7d2hpbGUobz1lW2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9aHQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1PTA7aWYobSh0KSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1ModGhpcykucmVtb3ZlQ2xhc3ModC5jYWxsKHRoaXMsZSxndCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigoZT12dCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9Z3Qobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK2h0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXdoaWxlKC0xPHIuaW5kZXhPZigiICIrbysiICIpKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz1odChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGksdCl7dmFyIG89dHlwZW9mIGksYT0ic3RyaW5nIj09PW98fEFycmF5LmlzQXJyYXkoaSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmYT90P3RoaXMuYWRkQ2xhc3MoaSk6dGhpcy5yZW1vdmVDbGFzcyhpKTptKGkpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnRvZ2dsZUNsYXNzKGkuY2FsbCh0aGlzLGUsZ3QodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtpZihhKXt0PTAsbj1TKHRoaXMpLHI9dnQoaSk7d2hpbGUoZT1yW3QrK10pbi5oYXNDbGFzcyhlKT9uLnJlbW92ZUNsYXNzKGUpOm4uYWRkQ2xhc3MoZSl9ZWxzZSB2b2lkIDAhPT1pJiYiYm9vbGVhbiIhPT1vfHwoKGU9Z3QodGhpcykpJiZZLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlfHwhMT09PWk/IiI6WS5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoIiAiK2h0KGd0KG4pKSsiICIpLmluZGV4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHl0PS9cci9nO1MuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHIsZSxpLHQ9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1tKG4pLHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgdDsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh0PWk/bi5jYWxsKHRoaXMsZSxTKHRoaXMpLnZhbCgpKTpuKT90PSIiOiJudW1iZXIiPT10eXBlb2YgdD90Kz0iIjpBcnJheS5pc0FycmF5KHQpJiYodD1TLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHI9Uy52YWxIb29rc1t0aGlzLnR5cGVdfHxTLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHImJnZvaWQgMCE9PXIuc2V0KHRoaXMsdCwidmFsdWUiKXx8KHRoaXMudmFsdWU9dCkpfSkpOnQ/KHI9Uy52YWxIb29rc1t0LnR5cGVdfHxTLnZhbEhvb2tzW3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHImJnZvaWQgMCE9PShlPXIuZ2V0KHQsInZhbHVlIikpP2U6InN0cmluZyI9PXR5cGVvZihlPXQudmFsdWUpP2UucmVwbGFjZSh5dCwiIik6bnVsbD09ZT8iIjplOnZvaWQgMH19KSxTLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpodChTLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9ZS5vcHRpb25zLG89ZS5zZWxlY3RlZEluZGV4LGE9InNlbGVjdC1vbmUiPT09ZS50eXBlLHM9YT9udWxsOltdLHU9YT9vKzE6aS5sZW5ndGg7Zm9yKHI9bzwwP3U6YT9vOjA7cjx1O3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhQShuLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih0PVMobikudmFsKCksYSlyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLm9wdGlvbnMsbz1TLm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO3doaWxlKGEtLSkoKHI9aVthXSkuc2VsZWN0ZWQ9LTE8Uy5pbkFycmF5KFMudmFsSG9va3Mub3B0aW9uLmdldChyKSxvKSkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLFMuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe1MudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD0tMTxTLmluQXJyYXkoUyhlKS52YWwoKSx0KX19LHkuY2hlY2tPbnx8KFMudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KSx5LmZvY3VzaW49Im9uZm9jdXNpbiJpbiBDO3ZhciBtdD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8seHQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07Uy5leHRlbmQoUy5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmLHA9W258fEVdLGQ9di5jYWxsKGUsInR5cGUiKT9lLnR5cGU6ZSxoPXYuY2FsbChlLCJuYW1lc3BhY2UiKT9lLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKG89Zj1hPW49bnx8RSwzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJiFtdC50ZXN0KGQrUy5ldmVudC50cmlnZ2VyZWQpJiYoLTE8ZC5pbmRleE9mKCIuIikmJihkPShoPWQuc3BsaXQoIi4iKSkuc2hpZnQoKSxoLnNvcnQoKSksdT1kLmluZGV4T2YoIjoiKTwwJiYib24iK2QsKGU9ZVtTLmV4cGFuZG9dP2U6bmV3IFMuRXZlbnQoZCwib2JqZWN0Ij09dHlwZW9mIGUmJmUpKS5pc1RyaWdnZXI9cj8yOjMsZS5uYW1lc3BhY2U9aC5qb2luKCIuIiksZS5ybmFtZXNwYWNlPWUubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxlLnJlc3VsdD12b2lkIDAsZS50YXJnZXR8fChlLnRhcmdldD1uKSx0PW51bGw9PXQ/W2VdOlMubWFrZUFycmF5KHQsW2VdKSxjPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXgobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLG10LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEUpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fEMpfWk9MDt3aGlsZSgobz1wW2krK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWY9byxlLnR5cGU9MTxpP3M6Yy5iaW5kVHlwZXx8ZCwobD0oWS5nZXQobywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJlkuZ2V0KG8sImhhbmRsZSIpKSYmbC5hcHBseShvLHQpLChsPXUmJm9bdV0pJiZsLmFwcGx5JiZWKG8pJiYoZS5yZXN1bHQ9bC5hcHBseShvLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1kLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMuX2RlZmF1bHQmJiExIT09Yy5fZGVmYXVsdC5hcHBseShwLnBvcCgpLHQpfHwhVihuKXx8dSYmbShuW2RdKSYmIXgobikmJigoYT1uW3VdKSYmKG5bdV09bnVsbCksUy5ldmVudC50cmlnZ2VyZWQ9ZCxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYuYWRkRXZlbnRMaXN0ZW5lcihkLHh0KSxuW2RdKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCx4dCksUy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW3VdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TLmV4dGVuZChuZXcgUy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtTLmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLFMuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIFMuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSkseS5mb2N1c2lufHxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7Uy5ldmVudC5zaW11bGF0ZShyLGUudGFyZ2V0LFMuZXZlbnQuZml4KGUpKX07Uy5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyx0PVkuYWNjZXNzKGUscik7dHx8ZS5hZGRFdmVudExpc3RlbmVyKG4saSwhMCksWS5hY2Nlc3MoZSxyLCh0fHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpLTE7dD9ZLmFjY2VzcyhlLHIsdCk6KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksITApLFkucmVtb3ZlKGUscikpfX19KTt2YXIgYnQ9Qy5sb2NhdGlvbix3dD17Z3VpZDpEYXRlLm5vdygpfSxUdD0vXD8vO1MucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXt0PShuZXcgQy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe31yZXR1cm4gbj10JiZ0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdLHQmJiFufHxTLmVycm9yKCJJbnZhbGlkIFhNTDogIisobj9TLm1hcChuLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dENvbnRlbnR9KS5qb2luKCJcbiIpOmUpKSx0fTt2YXIgQ3Q9L1xbXF0kLyxFdD0vXHI/XG4vZyxTdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksa3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEF0KG4sZSxyLGkpe3ZhciB0O2lmKEFycmF5LmlzQXJyYXkoZSkpUy5lYWNoKGUsZnVuY3Rpb24oZSx0KXtyfHxDdC50ZXN0KG4pP2kobix0KTpBdChuKyJbIisoIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10P2U6IiIpKyJdIix0LHIsaSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dyhlKSlpKG4sZSk7ZWxzZSBmb3IodCBpbiBlKUF0KG4rIlsiK3QrIl0iLGVbdF0scixpKX1TLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49bSh0KT90KCk6dDtyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uPyIiOm4pfTtpZihudWxsPT1lKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhUy5pc1BsYWluT2JqZWN0KGUpKVMuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpQXQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSxTLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIFMucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1TLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT9TLm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFTKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYma3QudGVzdCh0aGlzLm5vZGVOYW1lKSYmIVN0LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPVModGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP1MubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShFdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoRXQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgTnQ9LyUyMC9nLGp0PS8jLiokLyxEdD0vKFs/Jl0pXz1bXiZdKi8scXQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxMdD0vXig/OkdFVHxIRUFEKSQvLEh0PS9eXC9cLy8sT3Q9e30sUHQ9e30sUnQ9IiovIi5jb25jYXQoIioiKSxNdD1FLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBJdChvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iKiIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8W107aWYobSh0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIFd0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PVB0O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsUy5lYWNoKHRbZV18fFtdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dChpLG8sYSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBufHx1fHxzW25dP3U/IShyPW4pOnZvaWQgMDooaS5kYXRhVHlwZXMudW5zaGlmdChuKSxsKG4pLCExKX0pLHJ9cmV0dXJuIGwoaS5kYXRhVHlwZXNbMF0pfHwhc1siKiJdJiZsKCIqIil9ZnVuY3Rpb24gRnQoZSx0KXt2YXIgbixyLGk9Uy5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmUy5leHRlbmQoITAsZSxyKSxlfU10LmhyZWY9YnQuaHJlZixTLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6YnQuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChidC5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpSdCx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6Uy5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/RnQoRnQoZSxTLmFqYXhTZXR0aW5ncyksdCk6RnQoUy5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6SXQoT3QpLGFqYXhUcmFuc3BvcnQ6SXQoUHQpLGFqYXg6ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIGMsZixwLG4sZCxyLGgsZyxpLG8sdj1TLmFqYXhTZXR1cCh7fSx0KSx5PXYuY29udGV4dHx8dixtPXYuY29udGV4dCYmKHkubm9kZVR5cGV8fHkuanF1ZXJ5KT9TKHkpOlMuZXZlbnQseD1TLkRlZmVycmVkKCksYj1TLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1xdC5leGVjKHApKW5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSl9dD1uW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxidC5ocmVmKSsiIikucmVwbGFjZShIdCxidC5wcm90b2NvbCsiLy8iKSx2LnR5cGU9dC5tZXRob2R8fHQudHlwZXx8di5tZXRob2R8fHYudHlwZSx2LmRhdGFUeXBlcz0odi5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKFApfHxbIiJdLG51bGw9PXYuY3Jvc3NEb21haW4pe3I9RS5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e3IuaHJlZj12LnVybCxyLmhyZWY9ci5ocmVmLHYuY3Jvc3NEb21haW49TXQucHJvdG9jb2wrIi8vIitNdC5ob3N0IT1yLnByb3RvY29sKyIvLyIrci5ob3N0fWNhdGNoKGUpe3YuY3Jvc3NEb21haW49ITB9fWlmKHYuZGF0YSYmdi5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB2LmRhdGEmJih2LmRhdGE9Uy5wYXJhbSh2LmRhdGEsdi50cmFkaXRpb25hbCkpLFd0KE90LHYsdCxUKSxoKXJldHVybiBUO2ZvcihpIGluKGc9Uy5ldmVudCYmdi5nbG9iYWwpJiYwPT1TLmFjdGl2ZSsrJiZTLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHYudHlwZT12LnR5cGUudG9VcHBlckNhc2UoKSx2Lmhhc0NvbnRlbnQ9IUx0LnRlc3Qodi50eXBlKSxmPXYudXJsLnJlcGxhY2UoanQsIiIpLHYuaGFzQ29udGVudD92LmRhdGEmJnYucHJvY2Vzc0RhdGEmJjA9PT0odi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodi5kYXRhPXYuZGF0YS5yZXBsYWNlKE50LCIrIikpOihvPXYudXJsLnNsaWNlKGYubGVuZ3RoKSx2LmRhdGEmJih2LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHYuZGF0YSkmJihmKz0oVHQudGVzdChmKT8iJiI6Ij8iKSt2LmRhdGEsZGVsZXRlIHYuZGF0YSksITE9PT12LmNhY2hlJiYoZj1mLnJlcGxhY2UoRHQsIiQxIiksbz0oVHQudGVzdChmKT8iJiI6Ij8iKSsiXz0iK3d0Lmd1aWQrKytvKSx2LnVybD1mK28pLHYuaWZNb2RpZmllZCYmKFMubGFzdE1vZGlmaWVkW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixTLmxhc3RNb2RpZmllZFtmXSksUy5ldGFnW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLFMuZXRhZ1tmXSkpLCh2LmRhdGEmJnYuaGFzQ29udGVudCYmITEhPT12LmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHYuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix2LmRhdGFUeXBlc1swXSYmdi5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXT92LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dKygiKiIhPT12LmRhdGFUeXBlc1swXT8iLCAiK1J0KyI7IHE9MC4wMSI6IiIpOnYuYWNjZXB0c1siKiJdKSx2LmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGksdi5oZWFkZXJzW2ldKTtpZih2LmJlZm9yZVNlbmQmJighMT09PXYuYmVmb3JlU2VuZC5jYWxsKHksVCx2KXx8aCkpcmV0dXJuIFQuYWJvcnQoKTtpZih1PSJhYm9ydCIsYi5hZGQodi5jb21wbGV0ZSksVC5kb25lKHYuc3VjY2VzcyksVC5mYWlsKHYuZXJyb3IpLGM9V3QoUHQsdix0LFQpKXtpZihULnJlYWR5U3RhdGU9MSxnJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbVCx2XSksaClyZXR1cm4gVDt2LmFzeW5jJiYwPHYudGltZW91dCYmKGQ9Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5hYm9ydCgidGltZW91dCIpfSx2LnRpbWVvdXQpKTt0cnl7aD0hMSxjLnNlbmQoYSxsKX1jYXRjaChlKXtpZihoKXRocm93IGU7bCgtMSxlKX19ZWxzZSBsKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJkMuY2xlYXJUaW1lb3V0KGQpLGM9dm9pZCAwLHA9cnx8IiIsVC5yZWFkeVN0YXRlPTA8ZT80OjAsaT0yMDA8PWUmJmU8MzAwfHwzMDQ9PT1lLG4mJihzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYocilmb3IoaSBpbiBzKWlmKHNbaV0mJnNbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaSsiICIrdVswXV0pe289aTticmVha31hfHwoYT1pKX1vPW98fGF9aWYobylyZXR1cm4gbyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dfSh2LFQsbikpLCFpJiYtMTxTLmluQXJyYXkoInNjcmlwdCIsdi5kYXRhVHlwZXMpJiZTLmluQXJyYXkoImpzb24iLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoUy5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKFMuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLVMuYWN0aXZlfHxTLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFMuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBTLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxTLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtTW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksUy5hamF4KFMuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxTLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxTLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pLFMuX2V2YWxVcmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmFqYXgoe3VybDplLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKGUpe1MuZ2xvYmFsRXZhbChlLHQsbil9fSl9LFMuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PVMoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1TKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLFMuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hUy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sUy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LFMuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIEJ0PXswOjIwMCwxMjIzOjIwNH0sJHQ9Uy5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhJHQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gJHQseS5hamF4PSR0PSEhJHQsUy5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHwkdCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChCdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxTLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gUy5nbG9iYWxFdmFsKGUpLGV9fX0pLFMuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxTLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1TKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgX3QsenQ9W10sVXQ9Lyg9KVw/KD89JnwkKXxcP1w/LztTLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9enQucG9wKCl8fFMuZXhwYW5kbysiXyIrd3QuZ3VpZCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksUy5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ITEhPT1lLmpzb25wJiYoVXQudGVzdChlLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBlLmRhdGEmJjA9PT0oZS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZVdC50ZXN0KGUuZGF0YSkmJiJkYXRhIik7aWYoYXx8Impzb25wIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz1tKGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoVXQsIiQxIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KFR0LnRlc3QoZS51cmwpPyImIjoiPyIpK2UuanNvbnArIj0iK3IpLGUuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBvfHxTLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLG9bMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixpPUNbcl0sQ1tyXT1mdW5jdGlvbigpe289YXJndW1lbnRzfSxuLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWk/UyhDKS5yZW1vdmVQcm9wKHIpOkNbcl09aSxlW3JdJiYoZS5qc29ucENhbGxiYWNrPXQuanNvbnBDYWxsYmFjayx6dC5wdXNoKHIpKSxvJiZtKGkpJiZpKG9bMF0pLG89aT12b2lkIDB9KSwic2NyaXB0In0pLHkuY3JlYXRlSFRNTERvY3VtZW50PSgoX3Q9RS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1fdC5jaGlsZE5vZGVzLmxlbmd0aCksUy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwoeS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPUUubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocikpOnQ9RSksbz0hbiYmW10sKGk9Ti5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KGlbMV0pXTooaT14ZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmUyhvKS5yZW1vdmUoKSxTLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LFMuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9dGhpcyxzPWUuaW5kZXhPZigiICIpO3JldHVybi0xPHMmJihyPWh0KGUuc2xpY2UocykpLGU9ZS5zbGljZSgwLHMpKSxtKHQpPyhuPXQsdD12b2lkIDApOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmKGk9IlBPU1QiKSwwPGEubGVuZ3RoJiZTLmFqYXgoe3VybDplLHR5cGU6aXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/UygiPGRpdj4iKS5hcHBlbmQoUy5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXthLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSxTLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gUy5ncmVwKFMudGltZXJzLGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZS5lbGVtfSkubGVuZ3RofSxTLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD1TLmNzcyhlLCJwb3NpdGlvbiIpLGM9UyhlKSxmPXt9OyJzdGF0aWMiPT09bCYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIikscz1jLm9mZnNldCgpLG89Uy5jc3MoZSwidG9wIiksdT1TLmNzcyhlLCJsZWZ0IiksKCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJi0xPChvK3UpLmluZGV4T2YoImF1dG8iKT8oYT0ocj1jLnBvc2l0aW9uKCkpLnRvcCxpPXIubGVmdCk6KGE9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLG0odCkmJih0PXQuY2FsbChlLG4sUy5leHRlbmQoe30scykpKSxudWxsIT10LnRvcCYmKGYudG9wPXQudG9wLXMudG9wK2EpLG51bGwhPXQubGVmdCYmKGYubGVmdD10LmxlZnQtcy5sZWZ0K2kpLCJ1c2luZyJpbiB0P3QudXNpbmcuY2FsbChlLGYpOmMuY3NzKGYpfX0sUy5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1Mub2Zmc2V0LnNldE9mZnNldCh0aGlzLHQsZSl9KTt2YXIgZSxuLHI9dGhpc1swXTtyZXR1cm4gcj9yLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhlPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDplLnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6ZS5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLHI9dGhpc1swXSxpPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1TLmNzcyhyLCJwb3NpdGlvbiIpKXQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle3Q9dGhpcy5vZmZzZXQoKSxuPXIub3duZXJEb2N1bWVudCxlPXIub2Zmc2V0UGFyZW50fHxuLmRvY3VtZW50RWxlbWVudDt3aGlsZShlJiYoZT09PW4uYm9keXx8ZT09PW4uZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5wYXJlbnROb2RlO2UmJmUhPT1yJiYxPT09ZS5ub2RlVHlwZSYmKChpPVMoZSkub2Zmc2V0KCkpLnRvcCs9Uy5jc3MoZSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxpLmxlZnQrPVMuY3NzKGUsImJvcmRlckxlZnRXaWR0aCIsITApKX1yZXR1cm57dG9wOnQudG9wLWkudG9wLVMuY3NzKHIsIm1hcmdpblRvcCIsITApLGxlZnQ6dC5sZWZ0LWkubGVmdC1TLmNzcyhyLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoZSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHJlfSl9fSksUy5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKHQsaSl7dmFyIG89InBhZ2VZT2Zmc2V0Ij09PWk7Uy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZih4KGUpP3I9ZTo5PT09ZS5ub2RlVHlwZSYmKHI9ZS5kZWZhdWx0Vmlldyksdm9pZCAwPT09bilyZXR1cm4gcj9yW2ldOmVbdF07cj9yLnNjcm9sbFRvKG8/ci5wYWdlWE9mZnNldDpuLG8/bjpyLnBhZ2VZT2Zmc2V0KTplW3RdPW59LHQsZSxhcmd1bWVudHMubGVuZ3RoKX19KSxTLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSxuKXtTLmNzc0hvb2tzW25dPUZlKHkucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIHQ9V2UoZSxuKSxQZS50ZXN0KHQpP1MoZSkucG9zaXRpb24oKVtuXSsicHgiOnR9KX0pLFMuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEscyl7Uy5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OnMsIiI6Im91dGVyIithfSxmdW5jdGlvbihyLG8pe1MuZm5bb109ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZSksaT1yfHwoITA9PT1lfHwhMD09PXQ/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB4KGUpPzA9PT1vLmluZGV4T2YoIm91dGVyIik/ZVsiaW5uZXIiK2FdOmUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1lLm5vZGVUeXBlPyhyPWUuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGUuYm9keVsic2Nyb2xsIithXSxyWyJzY3JvbGwiK2FdLGUuYm9keVsib2Zmc2V0IithXSxyWyJvZmZzZXQiK2FdLHJbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1uP1MuY3NzKGUsdCxpKTpTLnN0eWxlKGUsdCxuLGkpfSxzLG4/ZTp2b2lkIDAsbil9fSl9KSxTLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihlLHQpe1MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxTLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9LGhvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLFMuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLG4pe1MuZm5bbl09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP3RoaXMub24obixudWxsLGUsdCk6dGhpcy50cmlnZ2VyKG4pfX0pO3ZhciBYdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Uy5wcm94eT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihuPWVbdF0sdD1lLGU9biksbShlKSlyZXR1cm4gcj1zLmNhbGwoYXJndW1lbnRzLDIpLChpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodHx8dGhpcyxyLmNvbmNhdChzLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxTLmd1aWQrKyxpfSxTLmhvbGRSZWFkeT1mdW5jdGlvbihlKXtlP1MucmVhZHlXYWl0Kys6Uy5yZWFkeSghMCl9LFMuaXNBcnJheT1BcnJheS5pc0FycmF5LFMucGFyc2VKU09OPUpTT04ucGFyc2UsUy5ub2RlTmFtZT1BLFMuaXNGdW5jdGlvbj1tLFMuaXNXaW5kb3c9eCxTLmNhbWVsQ2FzZT1YLFMudHlwZT13LFMubm93PURhdGUubm93LFMuaXNOdW1lcmljPWZ1bmN0aW9uKGUpe3ZhciB0PVMudHlwZShlKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sUy50cmltPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKFh0LCIiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIFN9KTt2YXIgVnQ9Qy5qUXVlcnksR3Q9Qy4kO3JldHVybiBTLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIEMuJD09PVMmJihDLiQ9R3QpLGUmJkMualF1ZXJ5PT09UyYmKEMualF1ZXJ5PVZ0KSxTfSwidW5kZWZpbmVkIj09dHlwZW9mIGUmJihDLmpRdWVyeT1DLiQ9UyksU30pOwo="},{"meta":{"name":"jquery.cookie.js","url":"https://cdn.bootcdn.net/ajax/libs/jquery-cookie/1.4.0/jquery.cookie.js","ts":1657118213697,"mimetype":"text/javascript"},"source":"LyohCiAqIGpRdWVyeSBDb29raWUgUGx1Z2luIHYxLjQuMAogKiBodHRwczovL2dpdGh1Yi5jb20vY2FyaGFydGwvanF1ZXJ5LWNvb2tpZQogKgogKiBDb3B5cmlnaHQgMjAxMyBLbGF1cyBIYXJ0bAogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UKICovCihmdW5jdGlvbiAoZmFjdG9yeSkgewoJaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewoJCS8vIEFNRC4gUmVnaXN0ZXIgYXMgYW5vbnltb3VzIG1vZHVsZS4KCQlkZWZpbmUoWydqcXVlcnknXSwgZmFjdG9yeSk7Cgl9IGVsc2UgewoJCS8vIEJyb3dzZXIgZ2xvYmFscy4KCQlmYWN0b3J5KGpRdWVyeSk7Cgl9Cn0oZnVuY3Rpb24gKCQpIHsKCgl2YXIgcGx1c2VzID0gL1wrL2c7CgoJZnVuY3Rpb24gZW5jb2RlKHMpIHsKCQlyZXR1cm4gY29uZmlnLnJhdyA/IHMgOiBlbmNvZGVVUklDb21wb25lbnQocyk7Cgl9CgoJZnVuY3Rpb24gZGVjb2RlKHMpIHsKCQlyZXR1cm4gY29uZmlnLnJhdyA/IHMgOiBkZWNvZGVVUklDb21wb25lbnQocyk7Cgl9CgoJZnVuY3Rpb24gc3RyaW5naWZ5Q29va2llVmFsdWUodmFsdWUpIHsKCQlyZXR1cm4gZW5jb2RlKGNvbmZpZy5qc29uID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogU3RyaW5nKHZhbHVlKSk7Cgl9CgoJZnVuY3Rpb24gcGFyc2VDb29raWVWYWx1ZShzKSB7CgkJaWYgKHMuaW5kZXhPZignIicpID09PSAwKSB7CgkJCS8vIFRoaXMgaXMgYSBxdW90ZWQgY29va2llIGFzIGFjY29yZGluZyB0byBSRkMyMDY4LCB1bmVzY2FwZS4uLgoJCQlzID0gcy5zbGljZSgxLCAtMSkucmVwbGFjZSgvXFwiL2csICciJykucmVwbGFjZSgvXFxcXC9nLCAnXFwnKTsKCQl9CgoJCXRyeSB7CgkJCS8vIFJlcGxhY2Ugc2VydmVyLXNpZGUgd3JpdHRlbiBwbHVzZXMgd2l0aCBzcGFjZXMuCgkJCS8vIElmIHdlIGNhbid0IGRlY29kZSB0aGUgY29va2llLCBpZ25vcmUgaXQsIGl0J3MgdW51c2FibGUuCgkJCXMgPSBkZWNvZGVVUklDb21wb25lbnQocy5yZXBsYWNlKHBsdXNlcywgJyAnKSk7CgkJfSBjYXRjaChlKSB7CgkJCXJldHVybjsKCQl9CgoJCXRyeSB7CgkJCS8vIElmIHdlIGNhbid0IHBhcnNlIHRoZSBjb29raWUsIGlnbm9yZSBpdCwgaXQncyB1bnVzYWJsZS4KCQkJcmV0dXJuIGNvbmZpZy5qc29uID8gSlNPTi5wYXJzZShzKSA6IHM7CgkJfSBjYXRjaChlKSB7fQoJfQoKCWZ1bmN0aW9uIHJlYWQocywgY29udmVydGVyKSB7CgkJdmFyIHZhbHVlID0gY29uZmlnLnJhdyA/IHMgOiBwYXJzZUNvb2tpZVZhbHVlKHMpOwoJCXJldHVybiAkLmlzRnVuY3Rpb24oY29udmVydGVyKSA/IGNvbnZlcnRlcih2YWx1ZSkgOiB2YWx1ZTsKCX0KCgl2YXIgY29uZmlnID0gJC5jb29raWUgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgb3B0aW9ucykgewoKCQkvLyBXcml0ZQoJCWlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICEkLmlzRnVuY3Rpb24odmFsdWUpKSB7CgkJCW9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgY29uZmlnLmRlZmF1bHRzLCBvcHRpb25zKTsKCgkJCWlmICh0eXBlb2Ygb3B0aW9ucy5leHBpcmVzID09PSAnbnVtYmVyJykgewoJCQkJdmFyIGRheXMgPSBvcHRpb25zLmV4cGlyZXMsIHQgPSBvcHRpb25zLmV4cGlyZXMgPSBuZXcgRGF0ZSgpOwoJCQkJdC5zZXREYXRlKHQuZ2V0RGF0ZSgpICsgZGF5cyk7CgkJCX0KCgkJCXJldHVybiAoZG9jdW1lbnQuY29va2llID0gWwoJCQkJZW5jb2RlKGtleSksICc9Jywgc3RyaW5naWZ5Q29va2llVmFsdWUodmFsdWUpLAoJCQkJb3B0aW9ucy5leHBpcmVzID8gJzsgZXhwaXJlcz0nICsgb3B0aW9ucy5leHBpcmVzLnRvVVRDU3RyaW5nKCkgOiAnJywgLy8gdXNlIGV4cGlyZXMgYXR0cmlidXRlLCBtYXgtYWdlIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSUUKCQkJCW9wdGlvbnMucGF0aCAgICA/ICc7IHBhdGg9JyArIG9wdGlvbnMucGF0aCA6ICcnLAoJCQkJb3B0aW9ucy5kb21haW4gID8gJzsgZG9tYWluPScgKyBvcHRpb25zLmRvbWFpbiA6ICcnLAoJCQkJb3B0aW9ucy5zZWN1cmUgID8gJzsgc2VjdXJlJyA6ICcnCgkJCV0uam9pbignJykpOwoJCX0KCgkJLy8gUmVhZAoKCQl2YXIgcmVzdWx0ID0ga2V5ID8gdW5kZWZpbmVkIDoge307CgoJCS8vIFRvIHByZXZlbnQgdGhlIGZvciBsb29wIGluIHRoZSBmaXJzdCBwbGFjZSBhc3NpZ24gYW4gZW1wdHkgYXJyYXkKCQkvLyBpbiBjYXNlIHRoZXJlIGFyZSBubyBjb29raWVzIGF0IGFsbC4gQWxzbyBwcmV2ZW50cyBvZGQgcmVzdWx0IHdoZW4KCQkvLyBjYWxsaW5nICQuY29va2llKCkuCgkJdmFyIGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUgPyBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsgJykgOiBbXTsKCgkJZm9yICh2YXIgaSA9IDAsIGwgPSBjb29raWVzLmxlbmd0aDsgaSA8IGw7IGkrKykgewoJCQl2YXIgcGFydHMgPSBjb29raWVzW2ldLnNwbGl0KCc9Jyk7CgkJCXZhciBuYW1lID0gZGVjb2RlKHBhcnRzLnNoaWZ0KCkpOwoJCQl2YXIgY29va2llID0gcGFydHMuam9pbignPScpOwoKCQkJaWYgKGtleSAmJiBrZXkgPT09IG5hbWUpIHsKCQkJCS8vIElmIHNlY29uZCBhcmd1bWVudCAodmFsdWUpIGlzIGEgZnVuY3Rpb24gaXQncyBhIGNvbnZlcnRlci4uLgoJCQkJcmVzdWx0ID0gcmVhZChjb29raWUsIHZhbHVlKTsKCQkJCWJyZWFrOwoJCQl9CgoJCQkvLyBQcmV2ZW50IHN0b3JpbmcgYSBjb29raWUgdGhhdCB3ZSBjb3VsZG4ndCBkZWNvZGUuCgkJCWlmICgha2V5ICYmIChjb29raWUgPSByZWFkKGNvb2tpZSkpICE9PSB1bmRlZmluZWQpIHsKCQkJCXJlc3VsdFtuYW1lXSA9IGNvb2tpZTsKCQkJfQoJCX0KCgkJcmV0dXJuIHJlc3VsdDsKCX07CgoJY29uZmlnLmRlZmF1bHRzID0ge307CgoJJC5yZW1vdmVDb29raWUgPSBmdW5jdGlvbiAoa2V5LCBvcHRpb25zKSB7CgkJaWYgKCQuY29va2llKGtleSkgIT09IHVuZGVmaW5lZCkgewoJCQkvLyBNdXN0IG5vdCBhbHRlciBvcHRpb25zLCB0aHVzIGV4dGVuZGluZyBhIGZyZXNoIG9iamVjdC4uLgoJCQkkLmNvb2tpZShrZXksICcnLCAkLmV4dGVuZCh7fSwgb3B0aW9ucywgeyBleHBpcmVzOiAtMSB9KSk7CgkJCXJldHVybiB0cnVlOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9OwoKfSkpOwo="}]},{"name":"ÁΩëÊòì‰∫ëÈü≥‰πêÁõ¥Êé•‰∏ãËΩΩ","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["126.net","163.com","172.*"],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://music.163.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1656858703188,"data":{}},"enabled":true,"position":2,"file_url":"https://greasyfork.org/scripts/33046-%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD/code/%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD.user.js","uuid":"a2a627fa-a87f-4601-825b-d2d038a1865b","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgIOe9keaYk+S6kemfs+S5kOebtOaOpeS4i+i9vQovLyBAbmFtZXNwYWNlICAgICAgICAgaHR0cHM6Ly93d3cub2Nyb3NvZnQuY29tLwovLyBAZGVzY3JpcHRpb24gICAgICAg5Zyo5Y2V5puy6aG16Z2i5pi+56S65q2M6K+N44CB57+76K+R44CB5bCB6Z2i44CBTVbjgIHmrYzmm7LkuIvovb3pk77mjqXlubbku6Xpq5jpn7PotKjor5XlkKzjgILlkIzml7bmlK/mjIHmrYzljZXjgIHkuJPovpHnrYnpobXpnaLnm7TmjqXkuIvovb3ljZXmm7LjgIHlsIHpnaLjgIHmrYzor40o5Y6L57yp5YyFKeOAguWmgumBh+WIsOmUmeivr++8jOivt+mYheivu+mZhOWKoOS/oeaBr+WQjui/m+ihjOWPjemmiOOAggovLyBAbWF0Y2ggICAgICAgICAgICAgKjovL211c2ljLjE2My5jb20vKgovLyBAZ3JhbnQgICAgICAgICAgICAgR00ueG1sSHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEB2ZXJzaW9uICAgICAgICAgICA0LjEuNAovLyBAYXV0aG9yICAgICAgICAgICAgb2Nyb3NvZnQKLy8gQGNvbm5lY3QgICAgICAgICAgIDEyNi5uZXQKLy8gQGNvbm5lY3QgICAgICAgICAgIDE2My5jb20KLy8gQGNvbm5lY3QgICAgICAgICAgIDE3Mi4qCi8vIEBsaWNlbnNlICAgICAgICAgICBHUExWMgovLyBAY29tcGF0aWJsZSAgICAgICAgQ2hyb21lCi8vIEBjb21wYXRpYmxlICAgICAgICBGaXJlRm94Ci8vIEByZXF1aXJlICAgICAgICAgICBodHRwczovL2Nkbi5ib290Y2RuLm5ldC9hamF4L2xpYnMvY3J5cHRvLWpzLzMuMS45L2NvcmUubWluLmpzCi8vIEByZXF1aXJlICAgICAgICAgICBodHRwczovL2Nkbi5ib290Y2RuLm5ldC9hamF4L2xpYnMvY3J5cHRvLWpzLzMuMS45L2NyeXB0by1qcy5taW4uanMKLy8gQHJlcXVpcmUgICAgICAgICAgIGh0dHBzOi8vY2RuLmJvb3RjZG4ubmV0L2FqYXgvbGlicy9jcnlwdG8tanMvMy4xLjkvYWVzLm1pbi5qcwovLyBAcmVxdWlyZSAgICAgICAgICAgaHR0cHM6Ly9jZG4uYm9vdGNkbi5uZXQvYWpheC9saWJzL2NyeXB0by1qcy8zLjEuOS9lbmMtdXRmOC5taW4uanMKLy8gQHJlcXVpcmUgICAgICAgICAgIGh0dHBzOi8vY2RuLmJvb3RjZG4ubmV0L2FqYXgvbGlicy9jcnlwdG8tanMvMy4xLjkvZW5jLWJhc2U2NC5taW4uanMKLy8gQHJlcXVpcmUgICAgICAgICAgIGh0dHBzOi8vY2RuLmJvb3RjZG4ubmV0L2FqYXgvbGlicy9qc3ppcC8zLjEuNS9qc3ppcC5taW4uanMKLy8gQHJlcXVpcmUgICAgICAgICAgIGh0dHBzOi8vY2RuLmJvb3RjZG4ubmV0L2FqYXgvbGlicy9GaWxlU2F2ZXIuanMvMS4zLjgvRmlsZVNhdmVyLm1pbi5qcwovLyA9PS9Vc2VyU2NyaXB0PT0KdmFyIEdNX194bWxIdHRwUmVxdWVzdDsKaWYoInVuZGVmaW5lZCIgIT0gdHlwZW9mKEdNX3htbGh0dHBSZXF1ZXN0KSl7CiAgICBHTV9feG1sSHR0cFJlcXVlc3QgPSBHTV94bWxodHRwUmVxdWVzdDsKfSBlbHNlIHsKICAgIEdNX194bWxIdHRwUmVxdWVzdCA9IEdNLnhtbEh0dHBSZXF1ZXN0Owp9CgpsZXQgQ09PS0lFID0gewogICAgc2V0OiBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgd2lsbF9leHBpcmVfbXMpIHsKICAgICAgICBsZXQgZXhwaXJlID0gbmV3IERhdGUoKTsKICAgICAgICBpZiAod2lsbF9leHBpcmVfbXMpIHsKICAgICAgICAgICAgZXhwaXJlLnNldFRpbWUoZXhwaXJlLmdldFRpbWUoKSArIHdpbGxfZXhwaXJlX21zKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBleHBpcmUuc2V0VGltZShleHBpcmUuZ2V0VGltZSgpICsgMTgwICogMjQgKiA2MCAqIDYwICogMTAwMCk7CiAgICAgICAgfQogICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAiPSIgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgKyAiO2V4cGlyZXM9IiArIGV4cGlyZS50b0dNVFN0cmluZygpICsgJztwYXRoPVwvJzsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uKG5hbWUpIHsKICAgICAgICBsZXQgYXJyLCByZWcgPSBuZXcgUmVnRXhwKCIoXnwgKSIgKyBuYW1lICsgIj0oW147XSopKDt8JCkiKTsKICAgICAgICBpZiAoYXJyID0gZG9jdW1lbnQuY29va2llLm1hdGNoKHJlZykpIHsKICAgICAgICAgICAgcmV0dXJuIHVuZXNjYXBlKGFyclsyXSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBudWxsOwogICAgfSwKfTsKCi8qCiAqIOivt+axguaSreaUvuWcsOWdgOaXtueahOavlOeJueeOh++8jOWFt+S9k+WQq+S5ieWmguS4iwogKiA5OTkwMDA6IOivt+axguaXoOaNn2ZsYWPmoLzlvI8KICogMzIwMDAwOiAzMjBLCiAqIDE5MjAwMDogMTkySwogKiAxMjgwMDA6IDEyOEsKICog5rKh5pyJ5a+55bqU5qC85byP5pe25LiL5Y+R5L2O5LiA57qn5qC85byPCiAqLwpsZXQgQklUUkFURSA9IHsKICAgIEZMQUM6IDk5OTAwMCwKICAgIEIzMjA6IDMyMDAwMCwKICAgIEIxOTI6IDE5MjAwMCwKICAgIEIxMjg6IDEyODAwMCwKfTsKbGV0IGdfYml0cmF0ZSA9IEJJVFJBVEUuQjMyMDsKCmZ1bmN0aW9uIHNldEJpdHJhdGUoYml0cmF0ZSkgewogICAgZ19iaXRyYXRlID0gYml0cmF0ZTsKICAgIENPT0tJRS5zZXQoJ2JpdHJhdGUnLCBnX2JpdHJhdGUpOwp9CgppZiAoQ09PS0lFLmdldCgnYml0cmF0ZScpKSB7CiAgICBnX2JpdHJhdGUgPSBwYXJzZUludChDT09LSUUuZ2V0KCdiaXRyYXRlJykpOwogICAgQ09PS0lFLnNldCgnYml0cmF0ZScsIGdfYml0cmF0ZSk7Cn0KCi8vIOWPguiAgyBodHRwczovL2dpdGh1Yi5jb20vZGFya25lc3NvbWkvbXVzaWNib3gvYmxvYi9tYXN0ZXIvTkVNYm94L2FwaS5weQpmdW5jdGlvbiBfV0VBUEkoKSB7CiAgICBmdW5jdGlvbiBfUkVRVUVTVCgpIHsKICAgICAgICBsZXQgX2Jhc2VfdXJsID0gJ2h0dHBzOi8vbXVzaWMuMTYzLmNvbSc7CiAgICAgICAgbGV0IF9zZW5kX3JlcXVlc3QgPSBmdW5jdGlvbih1cmwsIG1ldGhvZCwgaGVhZGVycywgZGF0YSkgewogICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgICAgICBHTV9feG1sSHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLAogICAgICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsCiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgICAgICAgICBvbnJlYWR5c3RhdGVjaGFuZ2U6IGZ1bmN0aW9uKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnJlYWR5U3RhdGUgPT0gNCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMucmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXMuc3RhdHVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIGxldCBfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0FjY2VwdCc6JyovKicsCiAgICAgICAgICAgICdBY2NlcHQtRW5jb2RpbmcnOidnemlwLGRlZmxhdGUsc2RjaCcsCiAgICAgICAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOid6aC1DTix6aDtxPTAuOCxnbDtxPTAuNix6aC1UVztxPTAuNCcsCiAgICAgICAgICAgICdDb25uZWN0aW9uJzona2VlcC1hbGl2ZScsCiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLAogICAgICAgICAgICAnSG9zdCc6J211c2ljLjE2My5jb20nLAogICAgICAgICAgICAnT3JpZ2luJzonaHR0cDovL211c2ljLjE2My5jb20nLAogICAgICAgICAgICAnUmVmZXJlcic6J2h0dHA6Ly9tdXNpYy4xNjMuY29tLycsCiAgICAgICAgICAgICdVc2VyLUFnZW50JzonTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTJfNSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzU5LjAuMzA3MS4xMTUgU2FmYXJpLzUzNy4zNicsCiAgICAgICAgICAgIC8vJ0Nvb2tpZSc6IGRvY3VtZW50LmNvb2tpZSArICc7b3M9b3N4JwogICAgICAgICAgICAnQ29va2llJzogJ29zPW9zeCcKICAgICAgICB9OwoKICAgICAgICB0aGlzLnNlbmRSZXF1ZXN0ID0gZnVuY3Rpb24ocGF0aCwgZGF0YSkgewogICAgICAgICAgICByZXR1cm4gX3NlbmRfcmVxdWVzdChfYmFzZV91cmwgKyBwYXRoLCAnUE9TVCcsIF9oZWFkZXJzLCBkYXRhKTsKICAgICAgICB9OwogICAgICAgIHRoaXMuc2VuZFJlcXVlc3RXcmFwcGVkID0gZnVuY3Rpb24ocGF0aCwgZGF0YSwgcmVzcG9uc2VfcHJvY2VzcykgewogICAgICAgICAgICBsZXQgc2VuZFJlcXVlc3QgPSB0aGlzLnNlbmRSZXF1ZXN0OwogICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgc2VuZFJlcXVlc3QocGF0aCwgZGF0YSkKICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlX3Byb2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHJlc3BvbnNlX3Byb2Nlc3MoZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihzdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFtdKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHRoaXMuc2VuZFJlcXVlc3RXaXRoTWV0aG9kID0gZnVuY3Rpb24ocGF0aCwgbWV0aG9kLCBkYXRhKSB7CiAgICAgICAgICAgIHJldHVybiBfc2VuZF9yZXF1ZXN0KF9iYXNlX3VybCArIHBhdGgsIG1ldGhvZCwgX2hlYWRlcnMsIGRhdGEpOwogICAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIF9FTkNSWVBUKCkgewogICAgICAgIGxldCBfTU9EVUxVUyA9ICcwMGUwYjUwOWY2MjU5ZGY4NjQyZGJjMzU2NjI5MDE0NzdkZjIyNjc3ZWMxNTJiNWZmNjhhY2U2MTViYjcnICsKICAgICAgICAgICAgJ2I3MjUxNTJiM2FiMTdhODc2YWVhOGE1YWE3NmQyZTQxNzYyOWVjNGVlMzQxZjU2MTM1ZmNjZjY5NTI4MCcgKwogICAgICAgICAgICAnMTA0ZTAzMTJlY2JkYTkyNTU3YzkzODcwMTE0YWY2YzlkMDVjNGY3ZjBjMzY4NWI3YTQ2YmVlMjU1OTMyJyArCiAgICAgICAgICAgICc1NzVjY2UxMGI0MjRkODEzY2ZlNDg3NWQzZTgyMDQ3Yjk3ZGRlZjUyNzQxZDU0NmI4ZTI4OWRjNjkzNWInICsKICAgICAgICAgICAgJzNlY2UwNDYyZGIwYTIyYjhlNyc7CiAgICAgICAgbGV0IF9OT05DRSA9ICcwQ29KVW02UXl3OFc4anVkJzsKICAgICAgICBsZXQgX1BVQktFWSA9ICcwMTAwMDEnOwogICAgICAgIGxldCBfY3JlYXRlX2tleSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gKE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygyKSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygyKSkuc3Vic3RyaW5nKDAsMTYpOwogICAgICAgIH07CiAgICAgICAgbGV0IF9yc2FFbmNyeXB0ID0gZnVuY3Rpb24odGV4dCwgcHViS2V5LCBtb2R1bHVzKSB7CiAgICAgICAgICAgIHNldE1heERpZ2l0cygyNTYpOwogICAgICAgICAgICB2YXIga2V5cyA9IG5ldyBSU0FLZXlQYWlyKHB1YktleSwgJycsIG1vZHVsdXMpOwogICAgICAgICAgICB2YXIgZW5jVGV4dCA9IGVuY3J5cHRlZFN0cmluZyhrZXlzLCB0ZXh0KTsKICAgICAgICAgICAgcmV0dXJuIGVuY1RleHQ7CiAgICAgICAgfQogICAgICAgIGxldCBfYWVzRW5jcnlwdCA9IGZ1bmN0aW9uICh0ZXh0LCBzZWNLZXkpewogICAgICAgICAgICBzZWNLZXkgPSBDcnlwdG9KUy5lbmMuVXRmOC5wYXJzZShzZWNLZXkpOwogICAgICAgICAgICB0ZXh0ID0gQ3J5cHRvSlMuZW5jLlV0ZjgucGFyc2UodGV4dCk7CiAgICAgICAgICAgIHZhciBlbmNyeXB0ZWQgPSBDcnlwdG9KUy5BRVMuZW5jcnlwdCh0ZXh0LCBzZWNLZXksIHsKICAgICAgICAgICAgICAgIGl2OiBDcnlwdG9KUy5lbmMuVXRmOC5wYXJzZSgnMDEwMjAzMDQwNTA2MDcwOCcpLAogICAgICAgICAgICAgICAgbW9kZTogQ3J5cHRvSlMubW9kZS5DQkMKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGVuY3J5cHRlZCA9IGVuY3J5cHRlZC50b1N0cmluZygpOwogICAgICAgICAgICByZXR1cm4gZW5jcnlwdGVkOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5lbmNyeXB0ZWRJZCA9IGZ1bmN0aW9uKGlkKSB7CiAgICAgICAgICAgIHRocm93KCdub3QgaW1wbCEnKTsKICAgICAgICB9OwogICAgICAgIHRoaXMuZW5jcnlwdGVkUmVxdWVzdCA9IGZ1bmN0aW9uKG1hcCkgewogICAgICAgICAgICBsZXQgdGV4dCA9IEpTT04uc3RyaW5naWZ5KG1hcCk7CiAgICAgICAgICAgIGxldCBzZWNyZXQgPSBfY3JlYXRlX2tleSgpOwogICAgICAgICAgICBsZXQgcGFyYW1zID0gX2Flc0VuY3J5cHQoX2Flc0VuY3J5cHQodGV4dCwgX05PTkNFKSwgc2VjcmV0KTsKICAgICAgICAgICAgbGV0IGVuY3NlY2tleSA9IF9yc2FFbmNyeXB0KHNlY3JldCwgX1BVQktFWSwgX01PRFVMVVMpOwogICAgICAgICAgICByZXR1cm4gJ3BhcmFtcz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtcykgKyAnJmVuY1NlY0tleT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGVuY3NlY2tleSk7CiAgICAgICAgfTsKICAgIH07CgogICAgbGV0IFJFUVVFU1QgPSBuZXcgX1JFUVVFU1QoKTsKICAgIGxldCBFTkNSRVlQVCA9IG5ldyBfRU5DUllQVCgpOwoKICAgIGxldCBRRU5DID0gZnVuY3Rpb24obWFwKSB7CiAgICAgICAgcmV0dXJuIEVOQ1JFWVBULmVuY3J5cHRlZFJlcXVlc3QobWFwKTsKICAgIH0KICAgIGxldCBRUkVRID0gZnVuY3Rpb24ocGF0aCwgZGF0YSwgcmVzcG9uc2VfcHJvY2VzcykgewogICAgICAgIHJldHVybiBSRVFVRVNULnNlbmRSZXF1ZXN0V3JhcHBlZChwYXRoLCBkYXRhLCByZXNwb25zZV9wcm9jZXNzKTsKICAgIH0KCiAgICB0aGlzLnNvbmdzRGV0YWlsID0gZnVuY3Rpb24oaWRzKSB7CiAgICAgICAgbGV0IHBhdGggPSAnL3dlYXBpL3YzL3NvbmcvZGV0YWlsJzsKICAgICAgICBsZXQgYyA9IFtdOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgIGMucHVzaCh7J2lkJzogaWRzW2ldfSk7CiAgICAgICAgfQogICAgICAgIGxldCBtYXAgPSB7CiAgICAgICAgICAgICdpZHMnOiBpZHMsCiAgICAgICAgICAgICdjJzogSlNPTi5zdHJpbmdpZnkoYykKICAgICAgICB9CiAgICAgICAgbGV0IGRhdGEgPSBRRU5DKG1hcCk7CiAgICAgICAgcmV0dXJuIFFSRVEocGF0aCwgZGF0YSwgZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuc29uZ3M7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQogICAgdGhpcy5zb25nc1VybCA9IGZ1bmN0aW9uKGlkcykgewogICAgICAgIGxldCBwYXRoID0gJy93ZWFwaS9zb25nL2VuaGFuY2UvcGxheWVyL3VybCc7CiAgICAgICAgbGV0IGRhdGEgPSBRRU5DKHsnaWRzJzogaWRzLCAnYnInOiBnX2JpdHJhdGV9KTsKICAgICAgICByZXR1cm4gUVJFUShwYXRoLCBkYXRhLCBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5kYXRhOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH07CiAgICB0aGlzLnNvbmdMeXJpYyA9IGZ1bmN0aW9uKG11c2ljX2lkKSB7CiAgICAgICAgbGV0IHBhdGggPSAnL3dlYXBpL3NvbmcvbHlyaWMnOwogICAgICAgIGxldCBkYXRhID0gUUVOQyh7J29zJzogJ29zeCcsICdpZCc6IG11c2ljX2lkLCAnbHYnOiAnLTEnLCAna3YnOiAnLTEnLCAndHYnOiAnLTEnfSk7CiAgICAgICAgcmV0dXJuIFFSRVEocGF0aCwgZGF0YSk7CiAgICB9CiAgICB0aGlzLm12VXJsID0gZnVuY3Rpb24obXZfaWQpIHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgIGxldCBwYXRoID0gJy9hcGkvbXYvZGV0YWlsP2lkPScgKyBtdl9pZCArICcmdHlwZT1tcDQnOwogICAgICAgICAgICBSRVFVRVNULnNlbmRSZXF1ZXN0V2l0aE1ldGhvZChwYXRoLCAnR0VUJywgbnVsbCkudGhlbihmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaCAoZnVuY3Rpb24gKHN0YXR1cykgewogICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9OwogICAgdGhpcy5wbGF5bGlzdERldGFpbCA9IGZ1bmN0aW9uKHBsYXlsaXN0X2lkKSB7CiAgICAgICAgbGV0IHBhdGggPSAnL3dlYXBpL3YzL3BsYXlsaXN0L2RldGFpbCc7CiAgICAgICAgbGV0IGRhdGEgPSBRRU5DKHsnaWQnOiBwbGF5bGlzdF9pZCwgJ3RvdGFsJzogJ3RydWUnLCAnbGltaXQnOiAxMDAwLCAnbic6IDEwMDAsICdvZmZlc3QnOiAwfSk7CiAgICAgICAgcmV0dXJuIFFSRVEocGF0aCwgZGF0YSwgZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEucGxheWxpc3Q7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9OwogICAgdGhpcy5hbGJ1bSA9IGZ1bmN0aW9uKGFsYnVtX2lkKSB7CiAgICAgICAgbGV0IHBhdGggPSAnL3dlYXBpL3YxL2FsYnVtLycgKyBhbGJ1bV9pZDsKICAgICAgICByZXR1cm4gUVJFUShwYXRoLCBRRU5DKHt9KSwgZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAnYWxidW0nOiBkYXRhLmFsYnVtLAogICAgICAgICAgICAgICAgICAgICdzb25ncyc6IGRhdGEuc29uZ3MKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9OwoKICAgIHRoaXMubG9naW4gPSBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHsKICAgICAgICB0aHJvdygnbm90IGltcGwhJyk7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICBsZXQgcGF0aCA9ICcnOwogICAgICAgICAgICBsZXQgZGF0YSA9ICcnOwogICAgICAgICAgICBpZiAodXNlcm5hbWUubWF0Y2goL15bMC05XSskLykpIHsKICAgICAgICAgICAgICAgIHBhdGggPSAnL3dlYXBpL2xvZ2luL2NlbGxwaG9uZSc7CiAgICAgICAgICAgICAgICBkYXRhID0gZW5jcnlwdGVkX3JlcXVlc3QoeydwaG9uZSc6IHVzZXJuYW1lLCAncGFzc3dvcmQnOiBwYXNzd29yZCwgJ3JlbWVtYmVyTG9naW4nOiAndHJ1ZSd9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBhdGggPSAnL3dlYXBpL2xvZ2luJzsKICAgICAgICAgICAgICAgIGxldCBjbGllbnRfdG9rZW4gPSAnMV9qVlVNcVdFUGtlMC8xL1Z1NTZ4Q21KcG81dlAxZ3Jqbl9TT1ZWRHpPYzc4dzhPS0xWWjJKSDdJZmtqU1hxZ2ZtaCc7CiAgICAgICAgICAgICAgICBkYXRhID0gZW5jcnlwdGVkX3JlcXVlc3QoeydwaG9uZSc6IHVzZXJuYW1lLCAncGFzc3dvcmQnOiBwYXNzd29yZCwgJ3JlbWVtYmVyTG9naW4nOiAndHJ1ZScsICdjbGllbnRUb2tlbic6IGNsaWVudF90b2tlbn0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIFdFQVBJLl9zZW5kX3JlcXVlc3QocGF0aCwgZGF0YSkKICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKHN0YXR1cykgewogICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfTsKCiAgICB0aGlzLnRlc3QgPSBmdW5jdGlvbigpIHsKICAgICAgICBmdW5jdGlvbiBmdW5jTG9nKGRhdGEpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgfQogICAgICAgIHRoaXMuc29uZ3NVcmwoWzEzMzMzNDA1MTIsIDEzMDgzNjMwNjZdKS50aGVuKGZ1bmNMb2cpOwogICAgICAgIHRoaXMucGxheWxpc3REZXRhaWwoNDk0NTUyMTUwNSkudGhlbihmdW5jTG9nKTsKICAgICAgICB0aGlzLnBsYXlsaXN0RGV0YWlsKDI2NTk3MTk1MTkpLnRoZW4oZnVuY0xvZyk7CiAgICAgICAgdGhpcy5zb25nTHlyaWMoMTMzMzM0MDUxMikudGhlbihmdW5jTG9nKTsKICAgICAgICB0aGlzLnNvbmdzRGV0YWlsKFsxMzQxNTMyNjk5XSkudGhlbihmdW5jTG9nKTsKICAgICAgICB0aGlzLm12VXJsKDEwODQ3NjMxKS50aGVuKGZ1bmNMb2cpOwogICAgICAgIHRoaXMuYWxidW0oNzUyOTI3NTQpLnRoZW4oZnVuY0xvZyk7CiAgICB9Cn0KbGV0IFdFQVBJID0gbmV3IF9XRUFQSSgpOwovL1dFQVBJLnRlc3QoKTsKCihmdW5jdGlvbiAocm9vdCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgLyoKICAgICAqIEBvcGVudGRvb3Ig55qE6Leo5Z+f5LiL6L295o6l5Y+jCiAgICAgKi8KICAgIGZ1bmN0aW9uIERvd25sb2FkZXIoKSB7CiAgICAgICAgLy8gcmVxdWVzdAogICAgICAgIGZ1bmN0aW9uIEZpbGVSZXF1ZXN0KHVybCwgcHJvZ3Jlc3MsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHZhciByZXEgPSBHTV9feG1sSHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgb25wcm9ncmVzczogZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcykgcHJvZ3Jlc3MocmVzKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvdmVycmlkZU1pbWVUeXBlOiAndGV4dC9wbGFpbjtjaGFyc2V0PXgtdXNlci1kZWZpbmVkJywKICAgICAgICAgICAgICAgIG9ucmVhZHlzdGF0ZWNoYW5nZTogZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMucmVhZHlTdGF0ZSA9PSA0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0ciA9IHJlcy5yZXNwb25zZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YTEgPSBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YTFbaV0gPSBzdHIuY2hhckNvZGVBdChpKSAmIDI1NTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1YTggPSBuZXcgVWludDhBcnJheSh0YTEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbdWE4XSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhibG9iLCByZXMuc3RhdHVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcy5zdGF0dXMpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9IC8vc2F2ZSBmaWxlCgogICAgICAgIGZ1bmN0aW9uIFNhdmVGaWxlKGJsb2IsIGZpbGVuYW1lKSB7CiAgICAgICAgICAgIGlmIChyb290Lm5hdmlnYXRvci5tc1NhdmVCbG9iKSB7CiAgICAgICAgICAgICAgICByb290Lm5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsIGZpbGVuYW1lKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciBhbmNob3IgPSByb290LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICAgICAgICAgIHZhciB1cmwgPSByb290LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgICAgICAgICBhbmNob3IuZG93bmxvYWQgPSBmaWxlbmFtZTsKICAgICAgICAgICAgICAgIGFuY2hvci5ocmVmID0gdXJsOwogICAgICAgICAgICAgICAgdmFyIGV2dCA9IHJvb3QuZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7CiAgICAgICAgICAgICAgICBldnQuaW5pdEV2ZW50KCdjbGljaycsIHRydWUsIHRydWUpOwogICAgICAgICAgICAgICAgYW5jaG9yLmRpc3BhdGNoRXZlbnQoZXZ0KTsKICAgICAgICAgICAgICAgIHJvb3QuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogICAgICAgICAgICB9CiAgICAgICAgfSAvL2ludGVyZmFjZQoKICAgICAgICBmdW5jdGlvbiBGaWxlRG93bmxvYWQodXJsLCBmaWxlbmFtZSwgZG93bmxvYWRpbmcsIHN1Y2Nlc3MsIGVycm9yKSB7CiAgICAgICAgICAgIEZpbGVSZXF1ZXN0KHVybCwgZG93bmxvYWRpbmcsIGZ1bmN0aW9uIChibG9iLCBzdGF0dXMpIHsKICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgU2F2ZUZpbGUoYmxvYiwgZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3VjY2VzcyA9PSAnZnVuY3Rpb24nKSBzdWNjZXNzKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXJyb3IgPT0gJ2Z1bmN0aW9uJykgZXJyb3Ioc3RhdHVzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHRoaXMuRmlsZURvd25sb2FkID0gRmlsZURvd25sb2FkOwogICAgICAgIHRoaXMuRmlsZVJlcXVlc3QgPSBGaWxlUmVxdWVzdDsKICAgICAgICB2YXIgYW50aG9yRXZlbnRzID0gewogICAgICAgICAgICBvbnByb2dyZXNzOiBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmNob3IuZ2V0QXR0cmlidXRlKCdkYXRhLXJlcy1hY3Rpb24nKSA9PSAnZG93bmxvYWREaXJlY3QnKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5sZW5ndGhDb21wdXRhYmxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5jaG9yLnF1ZXJ5U2VsZWN0b3IoJ2knKS5pbm5lclRleHQgPSAn5LiL6L29OicgKyAocmVzLmxvYWRlZCAqIDEwMCAvIHJlcy50b3RhbCkudG9GaXhlZCgyKSArICclJzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuY2hvci5xdWVyeVNlbGVjdG9yKCdpJykuaW5uZXJUZXh0ID0gJ+S4i+i9vTonICsgYW50aG9yRXZlbnRzLmNhbGNMZW5ndGgocmVzLmxvYWRlZCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmxlbmd0aENvbXB1dGFibGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmNob3IuaW5uZXJUZXh0ID0gJ+S4i+i9vTonICsgKHJlcy5sb2FkZWQgKiAxMDAgLyByZXMudG90YWwpLnRvRml4ZWQoMikgKyAnJSc7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmNob3IuaW5uZXJUZXh0ID0gJ+S4i+i9vTonICsgYW50aG9yRXZlbnRzLmNhbGNMZW5ndGgocmVzLmxvYWRlZCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBjYWxjTGVuZ3RoOiBmdW5jdGlvbiAoYikgewogICAgICAgICAgICAgICAgYiA9IE51bWJlcihiKSAvIDEwMjQ7CiAgICAgICAgICAgICAgICBpZiAoYiA8IDEwMjQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYi50b0ZpeGVkKDEpICsgJ0tCJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGIgPSBiIC8gMTAyNDsKICAgICAgICAgICAgICAgIGlmIChiIDwgMTAyNCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBiLnRvRml4ZWQoMikgKyAnTUInOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYiA9IGIgLyAxMDI0OwogICAgICAgICAgICAgICAgcmV0dXJuIGIudG9GaXhlZCgzKSArICdHQic7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9uc3VjY2VzczogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdGhpcy5hbmNob3IuaW5uZXJIVE1MID0gdGhpcy5IdG1sOwogICAgICAgICAgICAgICAgdGhpcy5kb2luZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5jaG9yLmlkID09ICd0bXAnKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmNob3IucHJldmlvdXNFbGVtZW50U2libGluZy5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmFuY2hvci5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdGhpcy5hbmNob3IuaW5uZXJIVE1MID0gJ+S4i+i9veWksei0pSc7CiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgICAgICAgICAgdC5hbmNob3IuaW5uZXJIVE1MID0gdC5IdG1sOwogICAgICAgICAgICAgICAgICAgIHQuZG9pbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0sIDIwMDAsIHRoaXMpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBvbkFudGhvckNsaWNrOiBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgZSA9IGUgfHwgZXZlbnQ7CiAgICAgICAgICAgICAgICB2YXIgYSA9IHRoaXMuYW5jaG9yOwogICAgICAgICAgICAgICAgdmFyIGV4ID0gLyhbXHdcc10rKShcLlx3KShcPy4qKT8kL2kuZXhlYyhhLmhyZWYgfHwgJycpOwogICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBhLmRvd25sb2FkIHx8IGEudGl0bGU7CiAgICAgICAgICAgICAgICBpZiAoZXgpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIW5hbWUgJiYgZXgubGVuZ3RoID4gMSkgbmFtZSA9IGV4WzFdOwogICAgICAgICAgICAgICAgICAgIGlmIChuYW1lICYmIG5hbWUuaW5kZXhPZignLicpID09IC0gMSAmJiBleC5sZW5ndGggPiAyKSBuYW1lICs9IGV4WzJdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCFuYW1lIHx8ICFhLmhyZWYpIHJldHVybjsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmRvaW5nKSByZXR1cm47CiAgICAgICAgICAgICAgICB0aGlzLmRvaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIEZpbGVEb3dubG9hZChhLmhyZWYsIG5hbWUsIGFudGhvckV2ZW50cy5vbnByb2dyZXNzLmJpbmQodGhpcyksIGFudGhvckV2ZW50cy5vbnN1Y2Nlc3MuYmluZCh0aGlzKSwgYW50aG9yRXZlbnRzLm9uZXJyb3IuYmluZCh0aGlzKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIC8vaW50ZXJmYWNlCiAgICAgICAgZnVuY3Rpb24gQmluZEFudGhvcihhKSB7CiAgICAgICAgICAgIHZhciBlbnYgPSB7CiAgICAgICAgICAgICAgICBIdG1sOiBhLmlubmVySFRNTCwKICAgICAgICAgICAgICAgIGFuY2hvcjogYQogICAgICAgICAgICB9OwogICAgICAgICAgICBhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYW50aG9yRXZlbnRzLm9uQW50aG9yQ2xpY2suYmluZChlbnYpLCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5CaW5kQW50aG9yID0gQmluZEFudGhvcjsKICAgIH0KICAgIHZhciBkb3dubG9hZGVyID0gbmV3IERvd25sb2FkZXIoKTsKCiAgICB2YXIgaW5uZXJGcmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZScpOwogICAgdmFyIHRpdCwgLy8g5qCH6aKYCiAgICAgICAgY292LCAvLyDlsIHpnaIKICAgICAgICBkbCwgLy8g5LiL6L295oyJ6ZKuCiAgICAgICAgZmlsZU5hbWUsIC8vIOaWh+S7tuWQjQogICAgICAgIG12SWQgPSAnJywgLy8gbXZJRAogICAgICAgIGFsbERvd25sb2FkQnV0dG9uLCAvLyDmrYzljZUv5LiT6L6R6aG155qE5LiL6L295oyJ6ZKuCiAgICAgICAgZG93bmxvYWRQaWNzOyAvLyDmrYzljZUv5LiT6L6R6aG155qE5q2M5puy5bCB6Z2i5LiL6L295oyJ6ZKuCgogICAgLy8gYXBp6L+Z5Liq5Lic6KW/55qE6LCD55So5pa55YWI5LiN5pS577yM5pyJ56m65YaN6K+044CC5YaF6YOo5a6e546w5pu/5o2i5oiQV0VBUEnjgIIKICAgIHZhciBhcGkgPSB7CiAgICAgICAgZGV0YWlsOiBmdW5jdGlvbihzb25nSWRzLCBjYWxsYmFjaykgewogICAgICAgICAgICBXRUFQSS5zb25nc1VybChzb25nSWRzKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGJyID0gZGF0YVswXS5icjsKICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gZGF0YVswXS51cmw7CiAgICAgICAgICAgICAgICAgICAgaW5uZXJGcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3eXl5eWRkYScpLnNldEF0dHJpYnV0ZSgnZGF0YS1icicsIGJyKTsKICAgICAgICAgICAgICAgICAgICBpbm5lckZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3d5eXl5ZGRhJykuc3JjID0gdXJsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIG1lZGlhOiBmdW5jdGlvbiAoc29uZ0lkLCBjYWxsYmFjaywgaW5kZXgpIHsKICAgICAgICAgICAgV0VBUEkuc29uZ0x5cmljKHNvbmdJZCkudGhlbihmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEsIGluZGV4KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBtdjogZnVuY3Rpb24gKG12SWQsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIFdFQVBJLm12VXJsKG12SWQpLnRoZW4oZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICAgICAgdmFyIGJycyA9IFsyNDAsIDQ4MCwgNzIwLCAxMDgwXTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBicnMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5icnNbYnJzW2ldXSkgewogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhLmJyc1ticnNbaV1dLCBicnNbaV0pOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICB9OwogICAgdmFyIHBhZ2VzID0gWwogICAgICAgIHsKICAgICAgICAgICAgdXJsOiAnaHR0cDovL211c2ljLjE2My5jb20vIy9zb25nP2lkPScsCiAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBpbm5lckZyYW1lRG9jID0gaW5uZXJGcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50OwogICAgICAgICAgICAgICAgdmFyIGFsYnVtTm9kZSA9IGlubmVyRnJhbWVEb2MucXVlcnlTZWxlY3RvckFsbCgncC5kZXMucy1mYzQnKSBbMV07CiAgICAgICAgICAgICAgICB0aXQgPSBpbm5lckZyYW1lRG9jLnF1ZXJ5U2VsZWN0b3IoJy50aXQnKTsKICAgICAgICAgICAgICAgIGNvdiA9IGlubmVyRnJhbWVEb2MucXVlcnlTZWxlY3RvcignLnUtY292ZXIgPiBpbWcnKTsKICAgICAgICAgICAgICAgIGRsID0gaW5uZXJGcmFtZURvYy5xdWVyeVNlbGVjdG9yKCcudS1idG5pLWRsJyk7CiAgICAgICAgICAgICAgICBsZXQgc2ZjID0gdGl0LnBhcmVudE5vZGUubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zLWZjNycpOwogICAgICAgICAgICAgICAgbGV0IGF1dGhvciA9ICcnOwogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZmMubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoYXV0aG9yICE9ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvciArPSAnLCc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGF1dGhvciArPSBzZmNbaV0uaW5uZXJUZXh0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZmlsZU5hbWUgPSBhdXRob3IgKyAnIC0gJyArIHRpdC5xdWVyeVNlbGVjdG9yKCcuZi1mZjInKS5pbm5lclRleHQgKyAnLic7CiAgICAgICAgICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IGFsYnVtTm9kZS5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgdmFyIHNvbmdJZCA9IGxvY2F0aW9uLmhyZWYubWF0Y2goL2lkPShbMC05XSspLykgWzFdOwogICAgICAgICAgICAgICAgdmFyIG12SHJlZiA9IGlubmVyRnJhbWVEb2MucXVlcnlTZWxlY3RvcignYVt0aXRsZT0i5pKt5pS+bXYiXScpOwogICAgICAgICAgICAgICAgaWYobXZIcmVmKSB7CiAgICAgICAgICAgICAgICAgICAgbXZJZCA9IG12SHJlZi5ocmVmLnNwbGl0KCc9JylbMV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgZG93bmxvYWRMaW5lID0gdGhpcy5jcmVhdGVEb3dubG9hZExpbmUoc29uZ0lkKTsKICAgICAgICAgICAgICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRvd25sb2FkTGluZSwgYWxidW1Ob2RlLm5leHRFbGVtZW50U2libGluZyk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNyZWF0ZURvd25sb2FkTGluZTogZnVuY3Rpb24gKHNvbmdJZCkgewogICAgICAgICAgICAgICAgdmFyIGRpc2FibGVTdHlsZSA9IGZ1bmN0aW9uIChsaW5rKSB7CiAgICAgICAgICAgICAgICAgICAgbGluay50ZXh0ICs9ICco5pegKSc7CiAgICAgICAgICAgICAgICAgICAgbGluay5zdHlsZS5jb2xvciA9ICdncmF5JzsKICAgICAgICAgICAgICAgICAgICBsaW5rLnN0eWxlLnRleHREZWNvcmF0aW9uID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgIGxpbmsuc3R5bGUuY3Vyc29yID0gJ2F1dG8nOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHZhciBtcDNMaW5rID0gdGhpcy5jcmVhdGVNUDNMaW5rKCk7CiAgICAgICAgICAgICAgICB2YXIgbHlyaWNMaW5rID0gdGhpcy5jcmVhdGVMaW5rKCfmrYzor40nKTsKICAgICAgICAgICAgICAgIHZhciB0bHlyaWNMaW5rID0gdGhpcy5jcmVhdGVMaW5rKCfnv7vor5EnKTsKICAgICAgICAgICAgICAgIHZhciBjb3ZlckxpbmsgPSB0aGlzLmNyZWF0ZUxpbmsoJ+WwgemdoicpOwogICAgICAgICAgICAgICAgdmFyIG1wM0hlbHAgPSB0aGlzLmNyZWF0ZUxpbmsoJ+WmguS9leS4i+i9veatjOabsj8nKTsKICAgICAgICAgICAgICAgIHZhciBzaG93UGxheWVyID0gdGhpcy5jcmVhdGVMaW5rKCfmrYzmm7Lor5XlkKwnKTsKICAgICAgICAgICAgICAgIGxldCBzd2l0Y2hEb3dubG9hZEJpdHJhdGUgPSB0aGlzLmNyZWF0ZUxpbmsoZ19iaXRyYXRlID4gMzIwMDAwID8gJ+WIh+aNouWIsE1QM+S4i+i9veaooeW8jycgOiAn5YiH5o2i5Yiw5peg5o2f5LiL6L295qih5byPKOmcgOm7keiDtlZJUCknKTsKICAgICAgICAgICAgICAgIG1wM0hlbHAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+eCueWHu+S4i+aWueeahOS4i+i9veaMiemSruS5i+WQjuetieW+heWNs+WPr+OAgicpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzaG93UGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHZhciBwbGF5ZXIgPSBpbm5lckZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3d5eXl5ZGRhJyk7CiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNldEF0dHJpYnV0ZSgnY29udHJvbHMnLCAndHJ1ZScpOwogICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGF5KCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHNob3dQbGF5ZXIuaWQgPSAnd3l5eXlzcCc7CiAgICAgICAgICAgICAgICBzd2l0Y2hEb3dubG9hZEJpdHJhdGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZ19iaXRyYXRlID4gMzIwMDAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldEJpdHJhdGUoQklUUkFURS5CMzIwKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBzZXRCaXRyYXRlKEJJVFJBVEUuRkxBQyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfor7fms6jmhI/vvIzml6DmjZ/kuIvovb3mlofku7bkuLouZmxhY+agvOW8j++8jOmDqOWIhuatjOabsuayoeacieaXoOaNn+agvOW8j++8jOS4lOmdnum7keiDtlZJUOaXoOazleS4i+i9veaXoOaNn+OAgicpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGx5cmljTGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgZmlsZU5hbWUgKyAnbHJjJyk7CiAgICAgICAgICAgICAgICB0bHlyaWNMaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBmaWxlTmFtZSArICdscmMnKTsKICAgICAgICAgICAgICAgIGNvdmVyTGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgZmlsZU5hbWUgKyAnanBnJyk7CiAgICAgICAgICAgICAgICBjb3ZlckxpbmsuaHJlZiA9IGNvdi5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJyk7CiAgICAgICAgICAgICAgICBkb3dubG9hZGVyLkJpbmRBbnRob3IoY292ZXJMaW5rKTsKICAgICAgICAgICAgICAgIGRvd25sb2FkZXIuQmluZEFudGhvcihkbCk7CiAgICAgICAgICAgICAgICBkbC5ocmVmID0gJ2phdmFzY3JpcHQ6Oyc7CiAgICAgICAgICAgICAgICBkbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcmVzLWFjdGlvbicsICdkb3dubG9hZERpcmVjdCcpOwogICAgICAgICAgICAgICAgZGwucXVlcnlTZWxlY3RvcignaScpLmlubmVyVGV4dCA9ICfkuIvovb0o56iN5YCZKSc7CiAgICAgICAgICAgICAgICBhcGkuZGV0YWlsKFtzb25nSWRdKTsKICAgICAgICAgICAgICAgIGFwaS5tZWRpYShzb25nSWQsIGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmxyYyAmJiByZXN1bHQubHJjLmx5cmljKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGx5cmljTGluay5ocmVmID0gJ2RhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LCcgKyBlbmNvZGVVUklDb21wb25lbnQocmVzdWx0LmxyYy5seXJpYyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVN0eWxlKGx5cmljTGluayk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudGx5cmljICYmIHJlc3VsdC50bHlyaWMubHlyaWMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGx5cmljTGluay5ocmVmID0gJ2RhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LCcgKyBlbmNvZGVVUklDb21wb25lbnQocmVzdWx0LnRseXJpYy5seXJpYyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVN0eWxlKHRseXJpY0xpbmspOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY3JlYXRlTGluZUNvbnRhaW5lcign5LiL6L29Jyk7CiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobHlyaWNMaW5rKTsgLy8g5Y6f5paHbHJjCiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGx5cmljTGluayk7IC8vIOe/u+ivkWxyYwogICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvdmVyTGluayk7IC8vIOWwgemdogogICAgICAgICAgICAgICAgaWYgKG12SWQgIT0gJycpIHsgLy8gTVbkuIvovb3vvIzmsqHmnInkuI3mmL7npLoKICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSB0aGlzLmNyZWF0ZUxpbmsoJ01WJyk7CiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIGZpbGVOYW1lICsgJ21wNCcpOwogICAgICAgICAgICAgICAgICAgIGFwaS5tdihtdklkLCBmdW5jdGlvbihyZXN1bHQsIGJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsLmlubmVySFRNTCArPSAnKCcgKyBiciArICdQKSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsLmhyZWYgPSByZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRlci5CaW5kQW50aG9yKGVsKTsKICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG1wM0hlbHApOyAvLyDluK7liqkKICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzaG93UGxheWVyKTsgLy8g6K+V5ZCsCiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKSk7CiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3dpdGNoRG93bmxvYWRCaXRyYXRlKTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpKTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChtcDNMaW5rKTsgLy8gYXVkaW/moIfnrb4KICAgICAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNyZWF0ZUxpbms6IGZ1bmN0aW9uIChsYWJlbCkgewogICAgICAgICAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICAgICAgICBsaW5rLmlubmVySFRNTCA9IGxhYmVsOwogICAgICAgICAgICAgICAgbGluay5jbGFzc05hbWUgPSAncy1mYzcnOwogICAgICAgICAgICAgICAgbGluay5zdHlsZS5tYXJnaW5SaWdodCA9ICcxMHB4JzsKICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9ICdqYXZhc2NyaXB0OjsnOwogICAgICAgICAgICAgICAgcmV0dXJuIGxpbms7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNyZWF0ZU1QM0xpbms6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTsKICAgICAgICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdpZCcsICd3eXl5eWRkYScpOwogICAgICAgICAgICAgICAgbGluay5zdHlsZS5tYXJnaW5Ub3AgPSAnMTBweCc7CiAgICAgICAgICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgZGwuaHJlZiA9IHRoaXMuc3JjOwogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNyYy5tYXRjaCgnXC5mbGFjJCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRsLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBmaWxlTmFtZSArICdmbGFjJyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGwuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIGZpbGVOYW1lICsgJ21wMycpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBsZXQgYnJfZGlnaXQgPSBwYXJzZUludChwYXJzZUludChpbm5lckZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3d5eXl5ZGRhJykuZ2V0QXR0cmlidXRlKCdkYXRhLWJyJykpIC8gMTAwMCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGJyID0gJygnICsgYnJfZGlnaXQgKyAnSyknOwogICAgICAgICAgICAgICAgICAgIGlmIChicl9kaWdpdCA+IDMyMCkgewogICAgICAgICAgICAgICAgICAgICAgICBiciA9ICco5peg5o2fKSc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGRsLnF1ZXJ5U2VsZWN0b3IoJ2knKS5pbm5lclRleHQgPSAn5LiL6L29JyArIGJyOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoJ+aXoOazleWKoOi9veatpOatjOabsuOAguWPr+iDveatpOatjOabsumcgOimgeS7mOi0ueaIlueJiOadg+WPl+mZkOOAgicpOwogICAgICAgICAgICAgICAgICAgIGRsLnF1ZXJ5U2VsZWN0b3IoJ2knKS5pbm5lclRleHQgPSAn5peg5rOV5LiL6L29JzsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIGxpbms7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNyZWF0ZUxpbmVDb250YWluZXI6IGZ1bmN0aW9uIChsYWJlbCkgewogICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAnZGVzYyBzLWZjNCc7CiAgICAgICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gbGFiZWwgKyAn77yaJzsKICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXJnaW4gPSAnMTBweCAwJzsKICAgICAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7CiAgICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgIHVybDogWwogICAgICAgICAgICAgICAgJ2h0dHA6Ly9tdXNpYy4xNjMuY29tLyMvcGxheWxpc3Q/aWQ9JywgLy8g5q2M5Y2VCiAgICAgICAgICAgICAgICAnaHR0cDovL211c2ljLjE2My5jb20vIy9hcnRpc3Q/aWQ9JywgLy8g5q2M5omLCiAgICAgICAgICAgICAgICAnaHR0cDovL211c2ljLjE2My5jb20vIy9kaXNjb3Zlci90b3BsaXN0JywgLy8g5qac5Y2VCiAgICAgICAgICAgICAgICAnaHR0cDovL211c2ljLjE2My5jb20vIy9hbGJ1bT9pZD0nLCAvLyDkuJPovpEKICAgICAgICAgICAgICAgICdodHRwOi8vbXVzaWMuMTYzLmNvbS8jL2Rpc2NvdmVyL3JlY29tbWVuZC90YXN0ZScgLy8g5q+P5pel5o6o6I2QCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBpbm5lckZyYW1lRG9jID0gaW5uZXJGcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50OwogICAgICAgICAgICAgICAgYWxsRG93bmxvYWRCdXR0b24gPSBpbm5lckZyYW1lRG9jLnF1ZXJ5U2VsZWN0b3IoJy51LWJ0bmktZGwnKTsKCiAgICAgICAgICAgICAgICB2YXIgY292ZXIgPSBpbm5lckZyYW1lRG9jLnF1ZXJ5U2VsZWN0b3IoJy5jb3Zlcj5pbWcnKTsgLy8g5bCB6Z2i5Zu+54mHPGltZz4KICAgICAgICAgICAgICAgIHZhciBtYXNrID0gaW5uZXJGcmFtZURvYy5xdWVyeVNlbGVjdG9yKCcuY292ZXI+c3BhbicpOyAvLyDlsIHpnaLlm77niYflkI7kuIDkuKrlhYPntKDvvIznlKjmnaXliqA8YT48L2E+CiAgICAgICAgICAgICAgICBpZiAoY292ZXIgJiYgKGxvY2F0aW9uLmhyZWYuaW5kZXhPZignIy9wbGF5bGlzdCcpICE9IC0xIHx8IGxvY2F0aW9uLmhyZWYuaW5kZXhPZignIy9hbGJ1bScpICE9IC0xKSkgewogICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IGlubmVyRnJhbWVEb2MucXVlcnlTZWxlY3RvcignLnRpdD5oMicpLmlubmVyVGV4dDsgLy8g5LiT6L6R5ZCN56ewL+atjOWNleWQjeensAogICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBjb3Zlci5zcmMuc3BsaXQoJz8nKVswXTsgLy8g5bCB6Z2i55qE6ZO+5o6lCiAgICAgICAgICAgICAgICAgICAgbWFzay5vdXRlckhUTUwgPSAnPGEgZG93bmxvYWQ9IicgKyB0aXRsZSArICcuanBnIiBocmVmPSIgJyArIHVybCArICciPicgKyBtYXNrLm91dGVySFRNTCArICc8L2E+JzsKICAgICAgICAgICAgICAgICAgICBtYXNrID0gaW5uZXJGcmFtZURvYy5xdWVyeVNlbGVjdG9yKCcuY292ZXI+YScpOwogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkZXIuQmluZEFudGhvcihtYXNrKTsKCiAgICAgICAgICAgICAgICAgICAgbGV0IF90aGlzID0gdGhpczsKICAgICAgICAgICAgICAgICAgICBhbGxEb3dubG9hZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRvd25sb2FkTXVzaWNaaXAoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRvd25sb2FkTHlyaWNzWmlwKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBhbGxEb3dubG9hZEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcmVzLWFjdGlvbicsICdkb3dubG9hZEx5cmljcycpOwogICAgICAgICAgICAgICAgICAgIGFsbERvd25sb2FkQnV0dG9uLmNoaWxkTm9kZXNbMF0uaW5uZXJUZXh0ID0gJ+atjOivjeS4i+i9vSc7CgogICAgICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbi5ocmVmLmluZGV4T2YoJyMvcGxheWxpc3QnKSAhPSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFBpY3MgPSBhbGxEb3dubG9hZEJ1dHRvbi5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkUGljcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZG93bmxvYWRBbGJ1bUltYWdlWmlwKTsKICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRQaWNzLnNldEF0dHJpYnV0ZSgnZGF0YS1yZXMtYWN0aW9uJywgJ2Rvd25sb2FkTHlyaWNzJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkUGljcy5jaGlsZE5vZGVzWzBdLmlubmVyVGV4dCA9ICfmrYzljZXkuK3mrYzmm7LlsIHpnaLkuIvovb0nOwogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFBpY3MudGl0bGUgPSAn54K55Ye75bem5L6n5Zu+54mH5LiL6L295q2M5Y2V5bCB6Z2iJzsKICAgICAgICAgICAgICAgICAgICAgICAgYWxsRG93bmxvYWRCdXR0b24ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZG93bmxvYWRQaWNzLCBhbGxEb3dubG9hZEJ1dHRvbi5uZXh0U2libGluZyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZhciBhdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7CiAgICAgICAgICAgICAgICBhdWRpby5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3d5eXl5ZGRhJyk7CiAgICAgICAgICAgICAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgICAgICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCdocmVmJywgdGhpcy5zcmMpOwogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNyYy5tYXRjaCgnXC5mbGFjJCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWZpbGVOYW1lJykgKyAnLmZsYWMnKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBhLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1maWxlTmFtZScpICsgJy5tcDMnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3RtcCcpOwogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkZXIuQmluZEFudGhvcihhKTsKICAgICAgICAgICAgICAgICAgICB2YXIgX2NlbGUgPSBpbm5lckZyYW1lRG9jLnF1ZXJ5U2VsZWN0b3IoJ1tkb3dubG9hZGluZ10nKTsKICAgICAgICAgICAgICAgICAgICBfY2VsZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJykpOwogICAgICAgICAgICAgICAgICAgIF9jZWxlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgICAgICAgICAgICAgX2NlbGUucmVtb3ZlQXR0cmlidXRlKCdkb3dubG9hZGluZycpOwogICAgICAgICAgICAgICAgICAgIGEuY2xpY2soKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+aXoOazleWKoOi9veatpOatjOabsuOAguWPr+iDveatpOatjOabsumcgOimgeS7mOi0ueaIlueJiOadg+WPl+mZkOOAgicpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpbm5lckZyYW1lRG9jLnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5hcHBlbmRDaGlsZChhdWRpbyk7CgogICAgICAgICAgICAgICAgLy8g572R6aG154mI5Y+q6IO95Yqg6L29MTDpppbmrYzmm7LvvIzlpITnkIbkuIDkuIvorqnlroPmmL7npLrlhajpg6jvvIjkvYbmmK/lsI/kuo4xMDAw77yJCiAgICAgICAgICAgICAgICBsZXQgcmVwID0gdGhpcy5yZXBsYWNlQWN0aW9uOwogICAgICAgICAgICAgICAgdGhpcy5zaG93QWxsUGxheWxpc3RJdGVtcyhpbm5lckZyYW1lRG9jKS50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGxldCBkb3dubG9hZEJ1dHRvbnMgPSBpbm5lckZyYW1lRG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uaWNuLWRsJyk7CiAgICAgICAgICAgICAgICAgICAgcmVwKGlubmVyRnJhbWVEb2MsIGRvd25sb2FkQnV0dG9ucyk7CgogICAgICAgICAgICAgICAgICAgIC8vIOS9v+S4i+i9veaMiemSruS4jeaNouihjAogICAgICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbi5ocmVmLmluZGV4T2YoJy8jL2FydGlzdD9pZD0nKSAhPSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFibGUgPSBpbm5lckZyYW1lRG9jLnF1ZXJ5U2VsZWN0b3IoJy5tLXRhYmxlLTEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhYmxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZS5jbGFzc05hbWUgPSB0YWJsZS5jbGFzc05hbWUucmVwbGFjZSgvID9tLXRhYmxlLTEvLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2hvd0FsbFBsYXlsaXN0SXRlbXM6IGZ1bmN0aW9uKGRvYywgc29uZywgaW5kZXgpIHsKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGR0VG9TdHJpbmcoZHQpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgaCA9IHBhcnNlSW50KGR0IC8gMTAwMCAvIDYwIC8gNjApOwogICAgICAgICAgICAgICAgICAgIGxldCBtID0gcGFyc2VJbnQoZHQgLyAxMDAwIC8gNjAgLSBoICogNjApOwogICAgICAgICAgICAgICAgICAgIGxldCBzID0gcGFyc2VJbnQoZHQgLyAxMDAwIC0gaCAqIDYwICogNjAgLSBtICogNjApOwoKICAgICAgICAgICAgICAgICAgICBsZXQgc3RyID0gJyc7CiAgICAgICAgICAgICAgICAgICAgaWYgKGggPiAxMCkgc3RyICs9IGggKyAnOic7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaCA+IDApIHN0ciArPSAnMCcgKyBoICsgJzonOwogICAgICAgICAgICAgICAgICAgIGlmIChtID4gMTApIHN0ciArPSBtICsgJzonOwogICAgICAgICAgICAgICAgICAgIGVsc2Ugc3RyICs9ICcwJyArIG0gKyAnOic7CiAgICAgICAgICAgICAgICAgICAgaWYgKHMgPiAxMCkgc3RyICs9IHM7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBzdHIgKz0gJzAnICsgczsKCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZpbGxUZW1wbGF0ZSh0ZW1wbGF0ZSwgc29uZywgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgdHAgPSB0ZW1wbGF0ZTsKICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTsKCiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gdGVtcGxhdGUuaW5uZXJIVE1MLnJlcGxhY2UoLyA/ZGF0YS1yZXMtZGF0YT0iXGQrIi8sICcnKTsKICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2ggPSB0ZW1wbGF0ZS5pbm5lckhUTUwubWF0Y2goL2RhdGEtcmVzLWlkPSIoXGQrKSIvKTsKICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxldCBpZCA9IG1hdGNoWzFdOwogICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHRlbXBsYXRlLmlubmVySFRNTC5yZXBsYWNlKG5ldyBSZWdFeHAoaWQsICdnJyksIHNvbmcuaWQpOwogICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5udW0nKS5pbm5lclRleHQgPSBpbmRleCArIDE7CiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUuY2xhc3NOYW1lID0gKGluZGV4ICUgMiA9PSAwKSA/ICdldmVuJyA6ICcnOwogICAgICAgICAgICAgICAgICAgIGxldCBiID0gdGVtcGxhdGUucXVlcnlTZWxlY3RvcignLnR4dD5hPmInKTsKICAgICAgICAgICAgICAgICAgICBiLnRpdGxlID0gYi5pbm5lclRleHQgPSBzb25nLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUucXVlcnlTZWxlY3RvcignLnUtZHVyJykuaW5uZXJUZXh0ID0gZHRUb1N0cmluZyhzb25nLmR0KTsKCiAgICAgICAgICAgICAgICAgICAgbGV0IHRleHRzID0gdGVtcGxhdGUucXVlcnlTZWxlY3RvckFsbCgnLnRleHQnKTsKICAgICAgICAgICAgICAgICAgICBsZXQgYXJfbmFtZSA9IChzb25nLmFyICYmIHNvbmcuYXIubGVuZ3RoID4gMCkgPyBzb25nLmFyWzBdLm5hbWUgOiAnJzsKICAgICAgICAgICAgICAgICAgICBsZXQgYXJfaWQgPSAoc29uZy5hciAmJiBzb25nLmFyLmxlbmd0aCA+IDApID8gc29uZy5hclswXS5pZCA6ICcwJzsKICAgICAgICAgICAgICAgICAgICB0ZXh0c1swXS5xdWVyeVNlbGVjdG9yKCdzcGFuJykudGl0bGUgPSBhcl9uYW1lOwogICAgICAgICAgICAgICAgICAgIHRleHRzWzBdLnF1ZXJ5U2VsZWN0b3IoJy50ZXh0PnNwYW4nKS50aXRsZSA9IGFyX25hbWU7CiAgICAgICAgICAgICAgICAgICAgdGV4dHNbMF0ucXVlcnlTZWxlY3RvcignLnRleHQ+c3Bhbj5hJykuaW5uZXJUZXh0ID0gYXJfbmFtZTsKICAgICAgICAgICAgICAgICAgICBsZXQgYTEgPSB0ZXh0c1swXS5xdWVyeVNlbGVjdG9yKCcudGV4dD5zcGFuPmEnKTsKICAgICAgICAgICAgICAgICAgICBhMS5ocmVmID0gYTEuaHJlZi5yZXBsYWNlKC9cP2lkPVxkKy8sICc/aWQ9JyArIGFyX2lkKTsKICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1yZXMtYWN0aW9uPSJzaGFyZSJdJykuc2V0QXR0cmlidXRlKCdkYXRhLXJlcy1uYW1lJywgc29uZy5uYW1lKTsKICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1yZXMtYWN0aW9uPSJzaGFyZSJdJykuc2V0QXR0cmlidXRlKCdkYXRhLXJlcy1hdXRob3InLCBhcl9uYW1lKTsKCiAgICAgICAgICAgICAgICAgICAgbGV0IGEyID0gdGV4dHNbMV0ucXVlcnlTZWxlY3RvcignYScpOwogICAgICAgICAgICAgICAgICAgIGEyLmhyZWYgPSBhMi5ocmVmLnJlcGxhY2UoL1w/aWQ9XGQrLywgJz9pZD0nICsgc29uZy5hbC5pZCk7CiAgICAgICAgICAgICAgICAgICAgYTIudGl0bGUgPSBzb25nLmFsLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgYTIuaW5uZXJUZXh0ID0gc29uZy5hbC5uYW1lOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIC8qbGV0IG1hdGNoID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvI1wvcGxheWxpc3RcP2lkPShcZCspLyk7CiAgICAgICAgICAgICAgICAgICAgbGV0IHBsYXlsaXN0X2lkID0gJyc7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlsaXN0X2lkID0gbWF0Y2hbMV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJyNwbGF5bGlzdC10cmFjay1jb3VudCcpLmlubmVyVGV4dDsKICAgICAgICAgICAgICAgICAgICBsZXQgbnVtID0gcGFyc2VJbnQodGV4dCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKG51bSA+IDEwICYmIHBsYXlsaXN0X2lkICE9ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdFQVBJLnBsYXlsaXN0RGV0YWlsKHBsYXlsaXN0X2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0cmFja3MgPSBkYXRhLnRyYWNrczsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wbGF0ZSA9IGRvYy5xdWVyeVNlbGVjdG9yKCcubS10YWJsZT50Ym9keT50cicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRib2R5ID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJy5tLXRhYmxlPnRib2R5Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTA7IGkgPCAyNTsgKytpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRwID0gZmlsbFRlbXBsYXRlKHRlbXBsYXRlLCB0cmFja3NbaV0sIGkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRib2R5LmFwcGVuZCh0cCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MucXVlcnlTZWxlY3RvcignLm0tcGxheWxpc3Qtc2VlLW1vcmU+LnRleHQnKS5pbm5lclRleHQgPSAn5p+l55yL5pu05aSa5YaF5a6577yM6K+36ICQ5b+D562J5b6F6ISa5pys5pu05pawKOm+n+mAnyknOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgICAgICAgfSovCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVwbGFjZUFjdGlvbjogZnVuY3Rpb24gKGlubmVyRnJhbWVEb2MsIGRvd25sb2FkQnV0dG9ucykgewogICAgICAgICAgICAgICAgaW5uZXJGcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1kaXMnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZSl7CiAgICAgICAgICAgICAgICAgICAgZWxlLmNsYXNzTmFtZSA9IGVsZS5jbGFzc05hbWUucmVwbGFjZSgnanMtZGlzJywnJyk7CiAgICAgICAgICAgICAgICAgICAgZWxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2JbdGl0bGVdJykuZm9yRWFjaChmdW5jdGlvbihiKXsKICAgICAgICAgICAgICAgICAgICAgICAgYi5zdHlsZS5jb2xvcj0nI2FlYWVhZSc7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG93bmxvYWRCdXR0b25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRvd25sb2FkQnV0dG9uc1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVzLWFjdGlvbicpID09ICdkb3dubG9hZCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRCdXR0b25zW2ldLnNldEF0dHJpYnV0ZSgnZGF0YS1yZXMtYWN0aW9uJywgJ2Rvd25sb2FkRGlyZWN0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkQnV0dG9uc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXJlcy1pZCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJGcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3eXl5eWRkYScpLnNldEF0dHJpYnV0ZSgnZGF0YS1maWxlTmFtZScsdGhpcy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmdldEF0dHJpYnV0ZSgnZGF0YS1yZXMtbmFtZScpICsgJyAtICcgKyB0aGlzLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuZ2V0QXR0cmlidXRlKCdkYXRhLXJlcy1hdXRob3InKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lckZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3d5eXl5ZGRhJykuc2V0QXR0cmlidXRlKCdkYXRhLXJlcy1pZCcsIGlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdkb3dubG9hZGluZycsJ3RydWUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5kZXRhaWwoW2lkXSwgbnVsbCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZG93bmxvYWRMeXJpY3NaaXA6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBmdW5jdGlvbiBhcnRpc3RMaXN0VG9TdHJpbmcoYXIpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgc3RyID0gJyc7CiAgICAgICAgICAgICAgICAgICAgaWYgKGFyID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhci5sZW5ndGg7ICsraSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RyICE9ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gJyAmICc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IGFyW2ldLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ci50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbi5ocmVmLmluZGV4T2YoJyMvcGxheWxpc3QnKSAhPSAtMSB8fCBsb2NhdGlvbi5ocmVmLmluZGV4T2YoJyMvYWxidW0nKSAhPSAtMSkgewogICAgICAgICAgICAgICAgICAgIGxldCBwbGF5TGlzdElkID0gbG9jYXRpb24uaHJlZi5zcGxpdCgnaWQ9JylbMV07CiAgICAgICAgICAgICAgICAgICAgbGV0IGlzUGxheUxpc3QgPSBsb2NhdGlvbi5ocmVmLmluZGV4T2YoJyMvcGxheWxpc3QnKSAhPSAtMTsKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkNvbXBsZXRlKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5pdGlhbFRleHQgPSBhbGxEb3dubG9hZEJ1dHRvbi5jaGlsZE5vZGVzWzBdLmlubmVyVGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZhaWxlZFRleHQgPSAn5q2M6K+N5LiL6L295aSx6LSlLi4uJzsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHppcCA9IG5ldyBKU1ppcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYWNrcyA9IGlzUGxheUxpc3QgPyByZXN1bHQudHJhY2tzIDogcmVzdWx0LnNvbmdzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHppcEZpbGVOYW1lID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNQbGF5TGlzdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHppcEZpbGVOYW1lID0gcmVzdWx0LmNyZWF0b3Iubmlja25hbWUgKyAnIC0gJyArIHJlc3VsdC5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aXBGaWxlTmFtZSA9IGFydGlzdExpc3RUb1N0cmluZyhyZXN1bHQuYWxidW0uYXJ0aXN0cyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHppcEZpbGVOYW1lICE9ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHppcEZpbGVOYW1lICs9ICcgLSAnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aXBGaWxlTmFtZSArPSByZXN1bHQuYWxidW0ubmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHppcEZpbGVOYW1lICs9ICcgLSDmrYzor40nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgemlwRmlsZU5hbWUgPSB6aXBGaWxlTmFtZS5yZXBsYWNlKC9bXC86Kj8iPD58XSovZywgJycpLnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1BsYXlMaXN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kZXNjcmlwdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aXAuZmlsZSgi5q2M5Y2V566A5LuLLnR4dCIsIHJlc3VsdC5kZXNjcmlwdGlvbi5yZXBsYWNlKC9cbi9nLCAnXHJcbicpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuYWxidW0uZGVzY3JpcHRpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgemlwLmZpbGUoIuS4k+i+keeugOS7iy50eHQiLCByZXN1bHQuYWxidW0uZGVzY3JpcHRpb24ucmVwbGFjZSgvXG4vZywgJ1xyXG4nKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgemlwLmZpbGUoIuivtOaYji50eHQiLCAibHlyaWNz77yaLmxyY+agvOW8j+eahOa7muWKqOatjOivjVxyXG5ubHlyaWNz77yaLnR4dOagvOW8j+eahOatjOivjVxyXG50bHlyaWNz77yaLmxyY+agvOW8j+eahOe/u+ivkeWQjueahOa7muWKqOatjOivjVxyXG5cclxu6K6w5LqL5pys5omT5byA5Y+v6IO95LiN5o2i6KGM77yM6K+35bCd6K+Vbm90ZXBhZCsr562J6L2v5Lu2XHJcblxyXG7nlLFcIue9keaYk+S6kemfs+S5kOebtOaOpeS4i+i9vVwi6ISa5pys5LiL6L2944CCXHJcbuiEmuacrOmTvuaOpe+8mmh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy8zMzA0NiIpOyAvLyDkuI3opoHliKDpmaTlpb3kuI3lpb0o4py6z4ninLopCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNQbGF5TGlzdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHppcC5maWxlKCLmrYzljZXpk77mjqUudXJsIiwgIlt7MDAwMjE0QTAtMDAwMC0wMDAwLUMwMDAtMDAwMDAwMDAwMDQ2fV1cblByb3AzPTE5LDJcbltJbnRlcm5ldFNob3J0Y3V0XVxuSURMaXN0PVxuVVJMPWh0dHA6Ly9tdXNpYy4xNjMuY29tLyMvcGxheWxpc3Q/aWQ9IiArIHBsYXlMaXN0SWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aXAuZmlsZSgi5LiT6L6R6ZO+5o6lLnVybCIsICJbezAwMDIxNEEwLTAwMDAtMDAwMC1DMDAwLTAwMDAwMDAwMDA0Nn1dXG5Qcm9wMz0xOSwyXG5bSW50ZXJuZXRTaG9ydGN1dF1cbklETGlzdD1cblVSTD1odHRwOi8vbXVzaWMuMTYzLmNvbS8jL2FsYnVtP2lkPSIgKyBwbGF5TGlzdElkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBkb3dubG9hZEx5cmljQXN5bmMoaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZU5hbWUgPSBhcnRpc3RMaXN0VG9TdHJpbmcodHJhY2tzW2luZGV4XS5hcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVOYW1lICE9ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lICs9ICcgLSAnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZSArPSB0cmFja3NbaW5kZXhdLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Yig6Zmk5paH5Lu25Lit5LiN5YWB6K6455qE5a2X56ymCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgPSBmaWxlTmFtZS5yZXBsYWNlKC9bXC86Kj8iPD58XSovZywgJycpLnRyaW0oKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRG93bmxvYWRCdXR0b24uY2hpbGROb2Rlc1swXS5pbm5lclRleHQgPSAn5q2j5Zyo5LiL6L2977yaJyArIGluZGV4ICsgJy8nICsgdHJhY2tzLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkNvbXBsZXRlKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubHJjICYmIGRhdGEubHJjLmx5cmljKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDov5nlj6Xkv53nlZnkuKTkvY3lsI/mlbAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHppcC5maWxlKCdseXJpY3NcXCcgKyBmaWxlTmFtZSArICIubHJjIiwgZGF0YS5scmMubHlyaWMucmVwbGFjZSgvXFsoXGRcZC5cZFxkLlxkXGQpXGRcXS9nLCAnWyQxXScpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOi/meWPpeS/neeVmeWOn+adpeeahOagvOW8j++8iOWOn+adpeWHoOS9jeWwseWHoOS9je+8iQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy96aXAuZmlsZSgnbHlyaWNzXFwnICsgZmlsZU5hbWUgKyAiLmxyYyIsIHJlc3VsdC5scmMubHlyaWMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgemlwLmZpbGUoJ25seXJpY3NcXCcgKyBmaWxlTmFtZSArICIudHh0IiwgZGF0YS5scmMubHlyaWMucmVwbGFjZSgvXFsuKl0vZywgJycpKTsgLy8gOjogL1xbXGRcZDpcZFxkLlxkezIsM31dL2cKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS50bHlyaWMgJiYgZGF0YS50bHlyaWMubHlyaWMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHppcC5maWxlKCd0bHlyaWNzXFwnICsgZmlsZU5hbWUgKyAiLmxyYyIsIGRhdGEudGx5cmljLmx5cmljLnJlcGxhY2UoL1xbKFxkXGQuXGRcZC5cZFxkKVxkXF0vZywgJ1skMV0nKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRG93bmxvYWRCdXR0b24uY2hpbGROb2Rlc1swXS5pbm5lclRleHQgPSBpbmRleCArICcvJyArIHRyYWNrcy5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSB0cmFja3MubGVuZ3RoIC0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgemlwLmdlbmVyYXRlQXN5bmMoe3R5cGU6ImJsb2IifSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihjb250ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUFzKGNvbnRlbnQsIHppcEZpbGVOYW1lICsgIi56aXAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEb3dubG9hZEJ1dHRvbi5jaGlsZE5vZGVzWzBdLmlubmVyVGV4dCA9IGluaXRpYWxUZXh0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZEx5cmljQXN5bmMoaW5kZXggKyAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpLm1lZGlhKHRyYWNrc1tpbmRleF0uaWQsIG9uQ29tcGxldGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTHlyaWNBc3luYygwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChmYWlsZWRUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbERvd25sb2FkQnV0dG9uLmNoaWxkTm9kZXNbMF0uaW5uZXJUZXh0ID0gaW5pdGlhbFRleHQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUGxheUxpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgV0VBUEkucGxheWxpc3REZXRhaWwocGxheUxpc3RJZCkudGhlbihvbkNvbXBsZXRlKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBXRUFQSS5hbGJ1bShwbGF5TGlzdElkKS50aGVuKG9uQ29tcGxldGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZG93bmxvYWRBbGJ1bUltYWdlWmlwOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGFydGlzdExpc3RUb1N0cmluZyhhcikgewogICAgICAgICAgICAgICAgICAgIGxldCBzdHIgPSAnJzsKICAgICAgICAgICAgICAgICAgICBpZiAoYXIgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHIgIT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSAnICYgJzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gYXJbaV0ubmFtZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24uaHJlZi5pbmRleE9mKCcjL3BsYXlsaXN0JykgIT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBsYXlMaXN0SWQgPSBsb2NhdGlvbi5ocmVmLnNwbGl0KCdpZD0nKVsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluaXRpYWxUZXh0ID0gZG93bmxvYWRQaWNzLmNoaWxkTm9kZXNbMF0uaW5uZXJUZXh0OwogICAgICAgICAgICAgICAgICAgICAgICBXRUFQSS5wbGF5bGlzdERldGFpbChwbGF5TGlzdElkKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3coIuWwgemdouS4i+i9veWksei0pS4uLiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgemlwID0gbmV3IEpTWmlwKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kZXNjcmlwdGlvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgemlwLmZpbGUoIuatjOWNleS7i+e7jS50eHQiLCByZXN1bHQuZGVzY3JpcHRpb24ucmVwbGFjZSgvXG4vZywgJ1xyXG4nKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgemlwLmZpbGUoIuivtOaYji50eHQiLCAi55SxXCLnvZHmmJPkupHpn7PkuZDnm7TmjqXkuIvovb1cIuiEmuacrOS4i+i9veOAglxyXG7ohJrmnKzpk77mjqXvvJpodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3NjcmlwdHMvMzMwNDYiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aXAuZmlsZSgi5q2M5Y2V6ZO+5o6lLnVybCIsICJbezAwMDIxNEEwLTAwMDAtMDAwMC1DMDAwLTAwMDAwMDAwMDA0Nn1dXG5Qcm9wMz0xOSwyXG5bSW50ZXJuZXRTaG9ydGN1dF1cbklETGlzdD1cblVSTD1odHRwOi8vbXVzaWMuMTYzLmNvbS8jL3BsYXlsaXN0P2lkPSIgKyBwbGF5TGlzdElkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhY2tzID0gcmVzdWx0LnRyYWNrczsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgemlwRmlsZU5hbWUgPSByZXN1bHQuY3JlYXRvci5uaWNrbmFtZSArICcgLSAnICsgcmVzdWx0Lm5hbWUgKyAnIC0g5bCB6Z2iJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aXBGaWxlTmFtZSA9IHppcEZpbGVOYW1lLnJlcGxhY2UoL1tcLzoqPyI8PnxdKi9nLCAnJykudHJpbSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBkb3dubG9hZEFsYnVtSW1hZ2VBc3luYyhpbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZU5hbWUgPSBhcnRpc3RMaXN0VG9TdHJpbmcodHJhY2tzW2luZGV4XS5hcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlTmFtZSAhPSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgKz0gJyAtICc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgKz0gdHJhY2tzW2luZGV4XS5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDliKDpmaTmlofku7bkuK3kuI3lhYHorrjnmoTlrZfnrKYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgPSBmaWxlTmFtZS5yZXBsYWNlKC9bXC86Kj8iPD58XSovZywgJycpLnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IHRyYWNrc1tpbmRleF0uYWwucGljVXJsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvblByb2dyZXNzKHByb2dyZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFBpY3MuY2hpbGROb2Rlc1swXS5pbm5lclRleHQgPSAn5q2j5Zyo5LiL6L2977yaJyArIGluZGV4ICsgJy8nICsgdHJhY2tzLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gb25Db21wbGV0ZShibG9iLCBzdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgemlwLmZpbGUoJ3BpY3NcXCcgKyBmaWxlTmFtZSArIHVybC5tYXRjaCgnXC5bYS16QS1aXSskJylbMF0sIGJsb2IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09IHRyYWNrcy5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgemlwLmdlbmVyYXRlQXN5bmMoe3R5cGU6ImJsb2IifSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oY29udGVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlQXMoY29udGVudCwgemlwRmlsZU5hbWUgKyAiLnppcCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFBpY3MuY2hpbGROb2Rlc1swXS5pbm5lclRleHQgPSBpbml0aWFsVGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRBbGJ1bUltYWdlQXN5bmMoaW5kZXggKyAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrc1tpbmRleF0uYWwgJiYgdXJsICYmIHVybCAhPSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRlci5GaWxlUmVxdWVzdCh1cmwsIG9uUHJvZ3Jlc3MsIG9uQ29tcGxldGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZShudWxsLCA0MDQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZGVyLkZpbGVSZXF1ZXN0KHJlc3VsdC5jb3ZlckltZ1VybCwgbnVsbCwgZnVuY3Rpb24oYmxvYiwgc3RhdHVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aXAuZmlsZShyZXN1bHQubmFtZSArICcgLSAnICsgcmVzdWx0LmNyZWF0b3Iubmlja25hbWUgKyByZXN1bHQuY292ZXJJbWdVcmwubWF0Y2goJ1wuW2EtekEtWl0rJCcpWzBdLCBibG9iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZEFsYnVtSW1hZ2VBc3luYygwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn5bCB6Z2i5LiL6L295aSx6LSlLi4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRQaWNzLmNoaWxkTm9kZXNbMF0uaW5uZXJUZXh0ID0gaW5pdGlhbFRleHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn5bCB6Z2i5LiL6L295aSx6LSlLi4uJyk7CiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRQaWNzLmNoaWxkTm9kZXNbMF0uaW5uZXJUZXh0ID0gaW5pdGlhbFRleHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRvd25sb2FkTXVzaWNaaXA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgZnVuY3Rpb24gYXJ0aXN0TGlzdFRvU3RyaW5nKGFyKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHN0ciA9ICcnOwogICAgICAgICAgICAgICAgICAgIGlmIChhciA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXIubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0ciAhPSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9ICcgJiAnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBhcltpXS5uYW1lOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIudHJpbSgpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbi5ocmVmLmluZGV4T2YoJyMvYWxidW0nKSAhPSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWxidW1JZCA9IGxvY2F0aW9uLmhyZWYuc3BsaXQoJ2lkPScpWzFdOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5pdGlhbFRleHQgPSBhbGxEb3dubG9hZEJ1dHRvbi5jaGlsZE5vZGVzWzBdLmlubmVyVGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgV0VBUEkuYWxidW0oYWxidW1JZCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93KCLmrYzmm7LkuIvovb3lpLHotKUuLi4iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHppcCA9IG5ldyBKU1ppcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuYWxidW0uZGVzY3JpcHRpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgemlwLmZpbGUoIuS4k+i+keS7i+e7jS50eHQiLCByZXN1bHQuYWxidW0uZGVzY3JpcHRpb24ucmVwbGFjZSgvXG4vZywgJ1xyXG4nKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHppcC5maWxlKCLor7TmmI4udHh0IiwgIueUsVwi572R5piT5LqR6Z+z5LmQ55u05o6l5LiL6L29XCLohJrmnKzkuIvovb3jgIJcclxu6ISa5pys6ZO+5o6l77yaaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzMzMDQ2Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgemlwLmZpbGUoIuS4k+i+kemTvuaOpS51cmwiLCAiW3swMDAyMTRBMC0wMDAwLTAwMDAtQzAwMC0wMDAwMDAwMDAwNDZ9XVxuUHJvcDM9MTksMlxuW0ludGVybmV0U2hvcnRjdXRdXG5JRExpc3Q9XG5VUkw9aHR0cDovL211c2ljLjE2My5jb20vIy9hbGJ1bT9pZD0iICsgYWxidW1JZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvbmdzID0gcmVzdWx0LnNvbmdzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB6aXBGaWxlTmFtZSA9IHJlc3VsdC5hbGJ1bS5hcnRpc3QubmFtZSArICcgLSAnICsgcmVzdWx0LmFsYnVtLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgemlwRmlsZU5hbWUgPSB6aXBGaWxlTmFtZS5yZXBsYWNlKC9bXC86Kj8iPD58XSovZywgJycpLnRyaW0oKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZG93bmxvYWRTb25nQXN5bmMoaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGVOYW1lID0gYXJ0aXN0TGlzdFRvU3RyaW5nKHNvbmdzW2luZGV4XS5hcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlTmFtZSAhPSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgKz0gJyAtICc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgKz0gc29uZ3NbaW5kZXhdLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWIoOmZpOaWh+S7tuS4reS4jeWFgeiuuOeahOWtl+espgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZSA9IGZpbGVOYW1lLnJlcGxhY2UoL1tcLzoqPyI8PnxdKi9nLCAnJykudHJpbSgpICsgc29uZ3NbaW5kZXhdLnNvbmdFeHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSBzb25nc1tpbmRleF0uc29uZ1VybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gb25Qcm9ncmVzcyhwcm9ncmVzcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRG93bmxvYWRCdXR0b24uY2hpbGROb2Rlc1swXS5pbm5lclRleHQgPSAn5q2j5Zyo5LiL6L2977yaJyArIGluZGV4ICsgJy8nICsgc29uZ3MubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkNvbXBsZXRlKGJsb2IsIHN0YXR1cykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aXAuZmlsZSgnc29uZ3NcXCcgKyBmaWxlTmFtZSwgYmxvYik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gc29uZ3MubGVuZ3RoIC0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHppcC5nZW5lcmF0ZUFzeW5jKHt0eXBlOiJibG9iIn0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGNvbnRlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUFzKGNvbnRlbnQsIHppcEZpbGVOYW1lICsgIi56aXAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRG93bmxvYWRCdXR0b24uY2hpbGROb2Rlc1swXS5pbm5lclRleHQgPSBpbml0aWFsVGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRTb25nQXN5bmMoaW5kZXggKyAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVybCAmJiB1cmwgIT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkZXIuRmlsZVJlcXVlc3QodXJsLCBvblByb2dyZXNzLCBvbkNvbXBsZXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGUobnVsbCwgNDA0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFycmF5ID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb25ncy5sZW5ndGg7ICsraSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheS5wdXNoKHNvbmdzW2ldLmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV0VBUEkuc29uZ3NVcmwoYXJyYXkpLnRoZW4oZnVuY3Rpb24odXJscykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVybHMubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc29uZ3MubGVuZ3RoOyArK2opIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc29uZ3Nbal0uaWQgPT0gdXJsc1tpXS5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb25nc1tqXS5zb25nVXJsID0gdXJsc1tpXS51cmw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvbmdzW2pdLnNvbmdFeHQgPSAnLicgKyB1cmxzW2ldLnR5cGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFNvbmdBc3luYygwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn5q2M5puy5LiL6L295aSx6LSlLi4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRG93bmxvYWRCdXR0b24uY2hpbGROb2Rlc1swXS5pbm5lclRleHQgPSBpbml0aWFsVGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmrYzmm7LkuIvovb3lpLHotKUuLi4nKTsKICAgICAgICAgICAgICAgICAgICBhbGxEb3dubG9hZEJ1dHRvbi5jaGlsZE5vZGVzWzBdLmlubmVyVGV4dCA9IGluaXRpYWxUZXh0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgIF07CiAgICBmdW5jdGlvbiBtYXRjaFBhZ2VzVVJMKGhyZWYsIHVybHMpIHsKICAgICAgICB2YXIgcmV0ID0gZmFsc2U7CiAgICAgICAgdmFyIHQgPSBsb2NhdGlvbi5ocmVmLnNwbGl0KCc6Ly8nKSBbMV07CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodXJscykpIHsKICAgICAgICAgICAgdXJscy5mb3JFYWNoKGZ1bmN0aW9uIChlbGUpIHsKICAgICAgICAgICAgICAgIGlmICh0LmluZGV4T2YoZWxlLnNwbGl0KCc6Ly8nKSBbMV0pID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmICh0LmluZGV4T2YodXJscy5zcGxpdCgnOi8vJykgWzFdKSA9PT0gMCkgewogICAgICAgICAgICAgICAgcmV0ID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gcmV0OwogICAgfQogICAgaWYgKGlubmVyRnJhbWUpIHsKICAgICAgICBpbm5lckZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBpLAogICAgICAgICAgICAgICAgcGFnZTsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgICAgICBwYWdlID0gcGFnZXNbaV07CiAgICAgICAgICAgICAgICBpZiAobWF0Y2hQYWdlc1VSTChsb2NhdGlvbi5ocmVmLCBwYWdlLnVybCkpIHsKICAgICAgICAgICAgICAgICAgICBwYWdlLmhhbmRsZXIoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQp9KSAod2luZG93KTs=","requires":[{"meta":{"name":"core.min.js","url":"https://cdn.bootcdn.net/ajax/libs/crypto-js/3.1.9/core.min.js","ts":1657118213703,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKHQsbil7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWV4cG9ydHM9bigpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLG4pOnQuQ3J5cHRvSlM9bigpfSh0aGlzLGZ1bmN0aW9uKCl7dmFyIHQ9dHx8ZnVuY3Rpb24odCxuKXt2YXIgaT1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpO3JldHVybiB0LnByb3RvdHlwZT1uLGk9bmV3IHQsdC5wcm90b3R5cGU9bnVsbCxpfX0oKSxlPXt9LHI9ZS5saWI9e30sbz1yLkJhc2U9ZnVuY3Rpb24oKXtyZXR1cm57ZXh0ZW5kOmZ1bmN0aW9uKHQpe3ZhciBuPWkodGhpcyk7cmV0dXJuIHQmJm4ubWl4SW4odCksbi5oYXNPd25Qcm9wZXJ0eSgiaW5pdCIpJiZ0aGlzLmluaXQhPT1uLmluaXR8fChuLmluaXQ9ZnVuY3Rpb24oKXtuLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLG4uaW5pdC5wcm90b3R5cGU9bixuLiRzdXBlcj10aGlzLG59LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZXh0ZW5kKCk7cmV0dXJuIHQuaW5pdC5hcHBseSh0LGFyZ3VtZW50cyksdH0saW5pdDpmdW5jdGlvbigpe30sbWl4SW46ZnVuY3Rpb24odCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKHRoaXNbbl09dFtuXSk7dC5oYXNPd25Qcm9wZXJ0eSgidG9TdHJpbmciKSYmKHRoaXMudG9TdHJpbmc9dC50b1N0cmluZyl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5pdC5wcm90b3R5cGUuZXh0ZW5kKHRoaXMpfX19KCkscz1yLldvcmRBcnJheT1vLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LGkpe3Q9dGhpcy53b3Jkcz10fHxbXSxpIT1uP3RoaXMuc2lnQnl0ZXM9aTp0aGlzLnNpZ0J5dGVzPTQqdC5sZW5ndGh9LHRvU3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVybih0fHxjKS5zdHJpbmdpZnkodGhpcyl9LGNvbmNhdDpmdW5jdGlvbih0KXt2YXIgbj10aGlzLndvcmRzLGk9dC53b3JkcyxlPXRoaXMuc2lnQnl0ZXMscj10LnNpZ0J5dGVzO2lmKHRoaXMuY2xhbXAoKSxlJTQpZm9yKHZhciBvPTA7bzxyO28rKyl7dmFyIHM9aVtvPj4+Ml0+Pj4yNC1vJTQqOCYyNTU7bltlK28+Pj4yXXw9czw8MjQtKGUrbyklNCo4fWVsc2UgZm9yKHZhciBvPTA7bzxyO28rPTQpbltlK28+Pj4yXT1pW28+Pj4yXTtyZXR1cm4gdGhpcy5zaWdCeXRlcys9cix0aGlzfSxjbGFtcDpmdW5jdGlvbigpe3ZhciBuPXRoaXMud29yZHMsaT10aGlzLnNpZ0J5dGVzO25baT4+PjJdJj00Mjk0OTY3Mjk1PDwzMi1pJTQqOCxuLmxlbmd0aD10LmNlaWwoaS80KX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1vLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQud29yZHM9dGhpcy53b3Jkcy5zbGljZSgwKSx0fSxyYW5kb206ZnVuY3Rpb24obil7Zm9yKHZhciBpLGU9W10scj1mdW5jdGlvbihuKXt2YXIgbj1uLGk9OTg3NjU0MzIxLGU9NDI5NDk2NzI5NTtyZXR1cm4gZnVuY3Rpb24oKXtpPTM2OTY5Kig2NTUzNSZpKSsoaT4+MTYpJmUsbj0xOGUzKig2NTUzNSZuKSsobj4+MTYpJmU7dmFyIHI9KGk8PDE2KStuJmU7cmV0dXJuIHIvPTQyOTQ5NjcyOTYscis9LjUscioodC5yYW5kb20oKT4uNT8xOi0xKX19LG89MDtvPG47bys9NCl7dmFyIGE9cig0Mjk0OTY3Mjk2KihpfHx0LnJhbmRvbSgpKSk7aT05ODc2NTQwNzEqYSgpLGUucHVzaCg0Mjk0OTY3Mjk2KmEoKXwwKX1yZXR1cm4gbmV3IHMuaW5pdChlLG4pfX0pLGE9ZS5lbmM9e30sYz1hLkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgbj10LndvcmRzLGk9dC5zaWdCeXRlcyxlPVtdLHI9MDtyPGk7cisrKXt2YXIgbz1uW3I+Pj4yXT4+PjI0LXIlNCo4JjI1NTtlLnB1c2goKG8+Pj40KS50b1N0cmluZygxNikpLGUucHVzaCgoMTUmbykudG9TdHJpbmcoMTYpKX1yZXR1cm4gZS5qb2luKCIiKX0scGFyc2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBuPXQubGVuZ3RoLGk9W10sZT0wO2U8bjtlKz0yKWlbZT4+PjNdfD1wYXJzZUludCh0LnN1YnN0cihlLDIpLDE2KTw8MjQtZSU4KjQ7cmV0dXJuIG5ldyBzLmluaXQoaSxuLzIpfX0sdT1hLkxhdGluMT17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgbj10LndvcmRzLGk9dC5zaWdCeXRlcyxlPVtdLHI9MDtyPGk7cisrKXt2YXIgbz1uW3I+Pj4yXT4+PjI0LXIlNCo4JjI1NTtlLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShvKSl9cmV0dXJuIGUuam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgbj10Lmxlbmd0aCxpPVtdLGU9MDtlPG47ZSsrKWlbZT4+PjJdfD0oMjU1JnQuY2hhckNvZGVBdChlKSk8PDI0LWUlNCo4O3JldHVybiBuZXcgcy5pbml0KGksbil9fSxmPWEuVXRmOD17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZSh1LnN0cmluZ2lmeSh0KSkpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcigiTWFsZm9ybWVkIFVURi04IGRhdGEiKX19LHBhcnNlOmZ1bmN0aW9uKHQpe3JldHVybiB1LnBhcnNlKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSkpfX0saD1yLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG09by5leHRlbmQoe3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGF0YT1uZXcgcy5pbml0LHRoaXMuX25EYXRhQnl0ZXM9MH0sX2FwcGVuZDpmdW5jdGlvbih0KXsic3RyaW5nIj09dHlwZW9mIHQmJih0PWYucGFyc2UodCkpLHRoaXMuX2RhdGEuY29uY2F0KHQpLHRoaXMuX25EYXRhQnl0ZXMrPXQuc2lnQnl0ZXN9LF9wcm9jZXNzOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMuX2RhdGEsZT1pLndvcmRzLHI9aS5zaWdCeXRlcyxvPXRoaXMuYmxvY2tTaXplLGE9NCpvLGM9ci9hO2M9bj90LmNlaWwoYyk6dC5tYXgoKDB8YyktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKTt2YXIgdT1jKm8sZj10Lm1pbig0KnUscik7aWYodSl7Zm9yKHZhciBoPTA7aDx1O2grPW8pdGhpcy5fZG9Qcm9jZXNzQmxvY2soZSxoKTt2YXIgcD1lLnNwbGljZSgwLHUpO2kuc2lnQnl0ZXMtPWZ9cmV0dXJuIG5ldyBzLmluaXQocCxmKX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1vLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpLHR9LF9taW5CdWZmZXJTaXplOjB9KSxwPShyLkhhc2hlcj1oLmV4dGVuZCh7Y2ZnOm8uZXh0ZW5kKCksaW5pdDpmdW5jdGlvbih0KXt0aGlzLmNmZz10aGlzLmNmZy5leHRlbmQodCksdGhpcy5yZXNldCgpfSxyZXNldDpmdW5jdGlvbigpe2gucmVzZXQuY2FsbCh0aGlzKSx0aGlzLl9kb1Jlc2V0KCl9LHVwZGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXBwZW5kKHQpLHRoaXMuX3Byb2Nlc3MoKSx0aGlzfSxmaW5hbGl6ZTpmdW5jdGlvbih0KXt0JiZ0aGlzLl9hcHBlbmQodCk7dmFyIG49dGhpcy5fZG9GaW5hbGl6ZSgpO3JldHVybiBufSxibG9ja1NpemU6MTYsX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24obixpKXtyZXR1cm4gbmV3IHQuaW5pdChpKS5maW5hbGl6ZShuKX19LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuLGkpe3JldHVybiBuZXcgcC5ITUFDLmluaXQodCxpKS5maW5hbGl6ZShuKX19fSksZS5hbGdvPXt9KTtyZXR1cm4gZX0oTWF0aCk7cmV0dXJuIHR9KTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29yZS5taW4uanMubWFw"},{"meta":{"name":"crypto-js.min.js","url":"https://cdn.bootcdn.net/ajax/libs/crypto-js/3.1.9/crypto-js.min.js","ts":1657118213704,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKHQscil7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWV4cG9ydHM9cigpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHIpOnQuQ3J5cHRvSlM9cigpfSh0aGlzLGZ1bmN0aW9uKCl7dmFyIHQ9dHx8ZnVuY3Rpb24odCxyKXt2YXIgZT1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBlO3JldHVybiB0LnByb3RvdHlwZT1yLGU9bmV3IHQsdC5wcm90b3R5cGU9bnVsbCxlfX0oKSxpPXt9LG49aS5saWI9e30sbz1uLkJhc2U9ZnVuY3Rpb24oKXtyZXR1cm57ZXh0ZW5kOmZ1bmN0aW9uKHQpe3ZhciByPWUodGhpcyk7cmV0dXJuIHQmJnIubWl4SW4odCksci5oYXNPd25Qcm9wZXJ0eSgiaW5pdCIpJiZ0aGlzLmluaXQhPT1yLmluaXR8fChyLmluaXQ9ZnVuY3Rpb24oKXtyLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLHIuaW5pdC5wcm90b3R5cGU9cixyLiRzdXBlcj10aGlzLHJ9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZXh0ZW5kKCk7cmV0dXJuIHQuaW5pdC5hcHBseSh0LGFyZ3VtZW50cyksdH0saW5pdDpmdW5jdGlvbigpe30sbWl4SW46ZnVuY3Rpb24odCl7Zm9yKHZhciByIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmKHRoaXNbcl09dFtyXSk7dC5oYXNPd25Qcm9wZXJ0eSgidG9TdHJpbmciKSYmKHRoaXMudG9TdHJpbmc9dC50b1N0cmluZyl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5pdC5wcm90b3R5cGUuZXh0ZW5kKHRoaXMpfX19KCkscz1uLldvcmRBcnJheT1vLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LGUpe3Q9dGhpcy53b3Jkcz10fHxbXSxlIT1yP3RoaXMuc2lnQnl0ZXM9ZTp0aGlzLnNpZ0J5dGVzPTQqdC5sZW5ndGh9LHRvU3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVybih0fHxjKS5zdHJpbmdpZnkodGhpcyl9LGNvbmNhdDpmdW5jdGlvbih0KXt2YXIgcj10aGlzLndvcmRzLGU9dC53b3JkcyxpPXRoaXMuc2lnQnl0ZXMsbj10LnNpZ0J5dGVzO2lmKHRoaXMuY2xhbXAoKSxpJTQpZm9yKHZhciBvPTA7bzxuO28rKyl7dmFyIHM9ZVtvPj4+Ml0+Pj4yNC1vJTQqOCYyNTU7cltpK28+Pj4yXXw9czw8MjQtKGkrbyklNCo4fWVsc2UgZm9yKHZhciBvPTA7bzxuO28rPTQpcltpK28+Pj4yXT1lW28+Pj4yXTtyZXR1cm4gdGhpcy5zaWdCeXRlcys9bix0aGlzfSxjbGFtcDpmdW5jdGlvbigpe3ZhciByPXRoaXMud29yZHMsZT10aGlzLnNpZ0J5dGVzO3JbZT4+PjJdJj00Mjk0OTY3Mjk1PDwzMi1lJTQqOCxyLmxlbmd0aD10LmNlaWwoZS80KX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1vLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQud29yZHM9dGhpcy53b3Jkcy5zbGljZSgwKSx0fSxyYW5kb206ZnVuY3Rpb24ocil7Zm9yKHZhciBlLGk9W10sbj1mdW5jdGlvbihyKXt2YXIgcj1yLGU9OTg3NjU0MzIxLGk9NDI5NDk2NzI5NTtyZXR1cm4gZnVuY3Rpb24oKXtlPTM2OTY5Kig2NTUzNSZlKSsoZT4+MTYpJmkscj0xOGUzKig2NTUzNSZyKSsocj4+MTYpJmk7dmFyIG49KGU8PDE2KStyJmk7cmV0dXJuIG4vPTQyOTQ5NjcyOTYsbis9LjUsbioodC5yYW5kb20oKT4uNT8xOi0xKX19LG89MDtvPHI7bys9NCl7dmFyIGE9big0Mjk0OTY3Mjk2KihlfHx0LnJhbmRvbSgpKSk7ZT05ODc2NTQwNzEqYSgpLGkucHVzaCg0Mjk0OTY3Mjk2KmEoKXwwKX1yZXR1cm4gbmV3IHMuaW5pdChpLHIpfX0pLGE9aS5lbmM9e30sYz1hLkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgcj10LndvcmRzLGU9dC5zaWdCeXRlcyxpPVtdLG49MDtuPGU7bisrKXt2YXIgbz1yW24+Pj4yXT4+PjI0LW4lNCo4JjI1NTtpLnB1c2goKG8+Pj40KS50b1N0cmluZygxNikpLGkucHVzaCgoMTUmbykudG9TdHJpbmcoMTYpKX1yZXR1cm4gaS5qb2luKCIiKX0scGFyc2U6ZnVuY3Rpb24odCl7Zm9yKHZhciByPXQubGVuZ3RoLGU9W10saT0wO2k8cjtpKz0yKWVbaT4+PjNdfD1wYXJzZUludCh0LnN1YnN0cihpLDIpLDE2KTw8MjQtaSU4KjQ7cmV0dXJuIG5ldyBzLmluaXQoZSxyLzIpfX0saD1hLkxhdGluMT17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgcj10LndvcmRzLGU9dC5zaWdCeXRlcyxpPVtdLG49MDtuPGU7bisrKXt2YXIgbz1yW24+Pj4yXT4+PjI0LW4lNCo4JjI1NTtpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShvKSl9cmV0dXJuIGkuam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgcj10Lmxlbmd0aCxlPVtdLGk9MDtpPHI7aSsrKWVbaT4+PjJdfD0oMjU1JnQuY2hhckNvZGVBdChpKSk8PDI0LWklNCo4O3JldHVybiBuZXcgcy5pbml0KGUscil9fSxsPWEuVXRmOD17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShoLnN0cmluZ2lmeSh0KSkpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcigiTWFsZm9ybWVkIFVURi04IGRhdGEiKX19LHBhcnNlOmZ1bmN0aW9uKHQpe3JldHVybiBoLnBhcnNlKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSkpfX0sZj1uLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG09by5leHRlbmQoe3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGF0YT1uZXcgcy5pbml0LHRoaXMuX25EYXRhQnl0ZXM9MH0sX2FwcGVuZDpmdW5jdGlvbih0KXsic3RyaW5nIj09dHlwZW9mIHQmJih0PWwucGFyc2UodCkpLHRoaXMuX2RhdGEuY29uY2F0KHQpLHRoaXMuX25EYXRhQnl0ZXMrPXQuc2lnQnl0ZXN9LF9wcm9jZXNzOmZ1bmN0aW9uKHIpe3ZhciBlPXRoaXMuX2RhdGEsaT1lLndvcmRzLG49ZS5zaWdCeXRlcyxvPXRoaXMuYmxvY2tTaXplLGE9NCpvLGM9bi9hO2M9cj90LmNlaWwoYyk6dC5tYXgoKDB8YyktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKTt2YXIgaD1jKm8sbD10Lm1pbig0Kmgsbik7aWYoaCl7Zm9yKHZhciBmPTA7ZjxoO2YrPW8pdGhpcy5fZG9Qcm9jZXNzQmxvY2soaSxmKTt2YXIgdT1pLnNwbGljZSgwLGgpO2Uuc2lnQnl0ZXMtPWx9cmV0dXJuIG5ldyBzLmluaXQodSxsKX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1vLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpLHR9LF9taW5CdWZmZXJTaXplOjB9KSx1PShuLkhhc2hlcj1mLmV4dGVuZCh7Y2ZnOm8uZXh0ZW5kKCksaW5pdDpmdW5jdGlvbih0KXt0aGlzLmNmZz10aGlzLmNmZy5leHRlbmQodCksdGhpcy5yZXNldCgpfSxyZXNldDpmdW5jdGlvbigpe2YucmVzZXQuY2FsbCh0aGlzKSx0aGlzLl9kb1Jlc2V0KCl9LHVwZGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXBwZW5kKHQpLHRoaXMuX3Byb2Nlc3MoKSx0aGlzfSxmaW5hbGl6ZTpmdW5jdGlvbih0KXt0JiZ0aGlzLl9hcHBlbmQodCk7dmFyIHI9dGhpcy5fZG9GaW5hbGl6ZSgpO3JldHVybiByfSxibG9ja1NpemU6MTYsX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24ocixlKXtyZXR1cm4gbmV3IHQuaW5pdChlKS5maW5hbGl6ZShyKX19LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihyLGUpe3JldHVybiBuZXcgdS5ITUFDLmluaXQodCxlKS5maW5hbGl6ZShyKX19fSksaS5hbGdvPXt9KTtyZXR1cm4gaX0oTWF0aCk7cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcih0LHIsZSl7Zm9yKHZhciBpPVtdLG89MCxzPTA7czxyO3MrKylpZihzJTQpe3ZhciBhPWVbdC5jaGFyQ29kZUF0KHMtMSldPDxzJTQqMixjPWVbdC5jaGFyQ29kZUF0KHMpXT4+PjYtcyU0KjI7aVtvPj4+Ml18PShhfGMpPDwyNC1vJTQqOCxvKyt9cmV0dXJuIG4uY3JlYXRlKGksbyl9dmFyIGU9dCxpPWUubGliLG49aS5Xb3JkQXJyYXksbz1lLmVuYztvLkJhc2U2ND17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe3ZhciByPXQud29yZHMsZT10LnNpZ0J5dGVzLGk9dGhpcy5fbWFwO3QuY2xhbXAoKTtmb3IodmFyIG49W10sbz0wO288ZTtvKz0zKWZvcih2YXIgcz1yW28+Pj4yXT4+PjI0LW8lNCo4JjI1NSxhPXJbbysxPj4+Ml0+Pj4yNC0obysxKSU0KjgmMjU1LGM9cltvKzI+Pj4yXT4+PjI0LShvKzIpJTQqOCYyNTUsaD1zPDwxNnxhPDw4fGMsbD0wO2w8NCYmbysuNzUqbDxlO2wrKyluLnB1c2goaS5jaGFyQXQoaD4+PjYqKDMtbCkmNjMpKTt2YXIgZj1pLmNoYXJBdCg2NCk7aWYoZilmb3IoO24ubGVuZ3RoJTQ7KW4ucHVzaChmKTtyZXR1cm4gbi5qb2luKCIiKX0scGFyc2U6ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGgsaT10aGlzLl9tYXAsbj10aGlzLl9yZXZlcnNlTWFwO2lmKCFuKXtuPXRoaXMuX3JldmVyc2VNYXA9W107Zm9yKHZhciBvPTA7bzxpLmxlbmd0aDtvKyspbltpLmNoYXJDb2RlQXQobyldPW99dmFyIHM9aS5jaGFyQXQoNjQpO2lmKHMpe3ZhciBhPXQuaW5kZXhPZihzKTthIT09LTEmJihlPWEpfXJldHVybiByKHQsZSxuKX0sX21hcDoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0ifX0oKSxmdW5jdGlvbihyKXtmdW5jdGlvbiBlKHQscixlLGksbixvLHMpe3ZhciBhPXQrKHImZXx+ciZpKStuK3M7cmV0dXJuKGE8PG98YT4+PjMyLW8pK3J9ZnVuY3Rpb24gaSh0LHIsZSxpLG4sbyxzKXt2YXIgYT10KyhyJml8ZSZ+aSkrbitzO3JldHVybihhPDxvfGE+Pj4zMi1vKStyfWZ1bmN0aW9uIG4odCxyLGUsaSxuLG8scyl7dmFyIGE9dCsocl5lXmkpK24rcztyZXR1cm4oYTw8b3xhPj4+MzItbykrcn1mdW5jdGlvbiBvKHQscixlLGksbixvLHMpe3ZhciBhPXQrKGVeKHJ8fmkpKStuK3M7cmV0dXJuKGE8PG98YT4+PjMyLW8pK3J9dmFyIHM9dCxhPXMubGliLGM9YS5Xb3JkQXJyYXksaD1hLkhhc2hlcixsPXMuYWxnbyxmPVtdOyFmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8NjQ7dCsrKWZbdF09NDI5NDk2NzI5NipyLmFicyhyLnNpbih0KzEpKXwwfSgpO3ZhciB1PWwuTUQ1PWguZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGMuaW5pdChbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4XSl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LHIpe2Zvcih2YXIgcz0wO3M8MTY7cysrKXt2YXIgYT1yK3MsYz10W2FdO3RbYV09MTY3MTE5MzUmKGM8PDh8Yz4+PjI0KXw0Mjc4MjU1MzYwJihjPDwyNHxjPj4+OCl9dmFyIGg9dGhpcy5faGFzaC53b3JkcyxsPXRbciswXSx1PXRbcisxXSxkPXRbcisyXSx2PXRbciszXSxwPXRbcis0XSxfPXRbcis1XSx5PXRbcis2XSxnPXRbcis3XSxCPXRbcis4XSx3PXRbcis5XSxrPXRbcisxMF0sUz10W3IrMTFdLG09dFtyKzEyXSx4PXRbcisxM10sYj10W3IrMTRdLEg9dFtyKzE1XSx6PWhbMF0sQT1oWzFdLEM9aFsyXSxEPWhbM107ej1lKHosQSxDLEQsbCw3LGZbMF0pLEQ9ZShELHosQSxDLHUsMTIsZlsxXSksQz1lKEMsRCx6LEEsZCwxNyxmWzJdKSxBPWUoQSxDLEQseix2LDIyLGZbM10pLHo9ZSh6LEEsQyxELHAsNyxmWzRdKSxEPWUoRCx6LEEsQyxfLDEyLGZbNV0pLEM9ZShDLEQseixBLHksMTcsZls2XSksQT1lKEEsQyxELHosZywyMixmWzddKSx6PWUoeixBLEMsRCxCLDcsZls4XSksRD1lKEQseixBLEMsdywxMixmWzldKSxDPWUoQyxELHosQSxrLDE3LGZbMTBdKSxBPWUoQSxDLEQseixTLDIyLGZbMTFdKSx6PWUoeixBLEMsRCxtLDcsZlsxMl0pLEQ9ZShELHosQSxDLHgsMTIsZlsxM10pLEM9ZShDLEQseixBLGIsMTcsZlsxNF0pLEE9ZShBLEMsRCx6LEgsMjIsZlsxNV0pLHo9aSh6LEEsQyxELHUsNSxmWzE2XSksRD1pKEQseixBLEMseSw5LGZbMTddKSxDPWkoQyxELHosQSxTLDE0LGZbMThdKSxBPWkoQSxDLEQseixsLDIwLGZbMTldKSx6PWkoeixBLEMsRCxfLDUsZlsyMF0pLEQ9aShELHosQSxDLGssOSxmWzIxXSksQz1pKEMsRCx6LEEsSCwxNCxmWzIyXSksQT1pKEEsQyxELHoscCwyMCxmWzIzXSksej1pKHosQSxDLEQsdyw1LGZbMjRdKSxEPWkoRCx6LEEsQyxiLDksZlsyNV0pLEM9aShDLEQseixBLHYsMTQsZlsyNl0pLEE9aShBLEMsRCx6LEIsMjAsZlsyN10pLHo9aSh6LEEsQyxELHgsNSxmWzI4XSksRD1pKEQseixBLEMsZCw5LGZbMjldKSxDPWkoQyxELHosQSxnLDE0LGZbMzBdKSxBPWkoQSxDLEQseixtLDIwLGZbMzFdKSx6PW4oeixBLEMsRCxfLDQsZlszMl0pLEQ9bihELHosQSxDLEIsMTEsZlszM10pLEM9bihDLEQseixBLFMsMTYsZlszNF0pLEE9bihBLEMsRCx6LGIsMjMsZlszNV0pLHo9bih6LEEsQyxELHUsNCxmWzM2XSksRD1uKEQseixBLEMscCwxMSxmWzM3XSksQz1uKEMsRCx6LEEsZywxNixmWzM4XSksQT1uKEEsQyxELHosaywyMyxmWzM5XSksej1uKHosQSxDLEQseCw0LGZbNDBdKSxEPW4oRCx6LEEsQyxsLDExLGZbNDFdKSxDPW4oQyxELHosQSx2LDE2LGZbNDJdKSxBPW4oQSxDLEQseix5LDIzLGZbNDNdKSx6PW4oeixBLEMsRCx3LDQsZls0NF0pLEQ9bihELHosQSxDLG0sMTEsZls0NV0pLEM9bihDLEQseixBLEgsMTYsZls0Nl0pLEE9bihBLEMsRCx6LGQsMjMsZls0N10pLHo9byh6LEEsQyxELGwsNixmWzQ4XSksRD1vKEQseixBLEMsZywxMCxmWzQ5XSksQz1vKEMsRCx6LEEsYiwxNSxmWzUwXSksQT1vKEEsQyxELHosXywyMSxmWzUxXSksej1vKHosQSxDLEQsbSw2LGZbNTJdKSxEPW8oRCx6LEEsQyx2LDEwLGZbNTNdKSxDPW8oQyxELHosQSxrLDE1LGZbNTRdKSxBPW8oQSxDLEQseix1LDIxLGZbNTVdKSx6PW8oeixBLEMsRCxCLDYsZls1Nl0pLEQ9byhELHosQSxDLEgsMTAsZls1N10pLEM9byhDLEQseixBLHksMTUsZls1OF0pLEE9byhBLEMsRCx6LHgsMjEsZls1OV0pLHo9byh6LEEsQyxELHAsNixmWzYwXSksRD1vKEQseixBLEMsUywxMCxmWzYxXSksQz1vKEMsRCx6LEEsZCwxNSxmWzYyXSksQT1vKEEsQyxELHosdywyMSxmWzYzXSksaFswXT1oWzBdK3p8MCxoWzFdPWhbMV0rQXwwLGhbMl09aFsyXStDfDAsaFszXT1oWzNdK0R8MH0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhLGU9dC53b3JkcyxpPTgqdGhpcy5fbkRhdGFCeXRlcyxuPTgqdC5zaWdCeXRlcztlW24+Pj41XXw9MTI4PDwyNC1uJTMyO3ZhciBvPXIuZmxvb3IoaS80Mjk0OTY3Mjk2KSxzPWk7ZVsobis2ND4+Pjk8PDQpKzE1XT0xNjcxMTkzNSYobzw8OHxvPj4+MjQpfDQyNzgyNTUzNjAmKG88PDI0fG8+Pj44KSxlWyhuKzY0Pj4+OTw8NCkrMTRdPTE2NzExOTM1JihzPDw4fHM+Pj4yNCl8NDI3ODI1NTM2MCYoczw8MjR8cz4+PjgpLHQuc2lnQnl0ZXM9NCooZS5sZW5ndGgrMSksdGhpcy5fcHJvY2VzcygpO2Zvcih2YXIgYT10aGlzLl9oYXNoLGM9YS53b3JkcyxoPTA7aDw0O2grKyl7dmFyIGw9Y1toXTtjW2hdPTE2NzExOTM1JihsPDw4fGw+Pj4yNCl8NDI3ODI1NTM2MCYobDw8MjR8bD4+PjgpfXJldHVybiBhfSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PWguY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gdC5faGFzaD10aGlzLl9oYXNoLmNsb25lKCksdH19KTtzLk1ENT1oLl9jcmVhdGVIZWxwZXIodSkscy5IbWFjTUQ1PWguX2NyZWF0ZUhtYWNIZWxwZXIodSl9KE1hdGgpLGZ1bmN0aW9uKCl7dmFyIHI9dCxlPXIubGliLGk9ZS5Xb3JkQXJyYXksbj1lLkhhc2hlcixvPXIuYWxnbyxzPVtdLGE9by5TSEExPW4uZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGkuaW5pdChbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdKX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKHQscil7Zm9yKHZhciBlPXRoaXMuX2hhc2gud29yZHMsaT1lWzBdLG49ZVsxXSxvPWVbMl0sYT1lWzNdLGM9ZVs0XSxoPTA7aDw4MDtoKyspe2lmKGg8MTYpc1toXT0wfHRbcitoXTtlbHNle3ZhciBsPXNbaC0zXV5zW2gtOF1ec1toLTE0XV5zW2gtMTZdO3NbaF09bDw8MXxsPj4+MzF9dmFyIGY9KGk8PDV8aT4+PjI3KStjK3NbaF07Zis9aDwyMD8obiZvfH5uJmEpKzE1MTg1MDAyNDk6aDw0MD8obl5vXmEpKzE4NTk3NzUzOTM6aDw2MD8obiZvfG4mYXxvJmEpLTE4OTQwMDc1ODg6KG5eb15hKS04OTk0OTc1MTQsYz1hLGE9byxvPW48PDMwfG4+Pj4yLG49aSxpPWZ9ZVswXT1lWzBdK2l8MCxlWzFdPWVbMV0rbnwwLGVbMl09ZVsyXStvfDAsZVszXT1lWzNdK2F8MCxlWzRdPWVbNF0rY3wwfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RhdGEscj10LndvcmRzLGU9OCp0aGlzLl9uRGF0YUJ5dGVzLGk9OCp0LnNpZ0J5dGVzO3JldHVybiByW2k+Pj41XXw9MTI4PDwyNC1pJTMyLHJbKGkrNjQ+Pj45PDw0KSsxNF09TWF0aC5mbG9vcihlLzQyOTQ5NjcyOTYpLHJbKGkrNjQ+Pj45PDw0KSsxNV09ZSx0LnNpZ0J5dGVzPTQqci5sZW5ndGgsdGhpcy5fcHJvY2VzcygpLHRoaXMuX2hhc2h9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIHQ9bi5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiB0Ll9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKSx0fX0pO3IuU0hBMT1uLl9jcmVhdGVIZWxwZXIoYSksci5IbWFjU0hBMT1uLl9jcmVhdGVIbWFjSGVscGVyKGEpfSgpLGZ1bmN0aW9uKHIpe3ZhciBlPXQsaT1lLmxpYixuPWkuV29yZEFycmF5LG89aS5IYXNoZXIscz1lLmFsZ28sYT1bXSxjPVtdOyFmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7Zm9yKHZhciBlPXIuc3FydCh0KSxpPTI7aTw9ZTtpKyspaWYoISh0JWkpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGUodCl7cmV0dXJuIDQyOTQ5NjcyOTYqKHQtKDB8dCkpfDB9Zm9yKHZhciBpPTIsbj0wO248NjQ7KXQoaSkmJihuPDgmJihhW25dPWUoci5wb3coaSwuNSkpKSxjW25dPWUoci5wb3coaSwxLzMpKSxuKyspLGkrK30oKTt2YXIgaD1bXSxsPXMuU0hBMjU2PW8uZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IG4uaW5pdChhLnNsaWNlKDApKX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKHQscil7Zm9yKHZhciBlPXRoaXMuX2hhc2gud29yZHMsaT1lWzBdLG49ZVsxXSxvPWVbMl0scz1lWzNdLGE9ZVs0XSxsPWVbNV0sZj1lWzZdLHU9ZVs3XSxkPTA7ZDw2NDtkKyspe2lmKGQ8MTYpaFtkXT0wfHRbcitkXTtlbHNle3ZhciB2PWhbZC0xNV0scD0odjw8MjV8dj4+PjcpXih2PDwxNHx2Pj4+MTgpXnY+Pj4zLF89aFtkLTJdLHk9KF88PDE1fF8+Pj4xNyleKF88PDEzfF8+Pj4xOSleXz4+PjEwO2hbZF09cCtoW2QtN10reStoW2QtMTZdfXZhciBnPWEmbF5+YSZmLEI9aSZuXmkmb15uJm8sdz0oaTw8MzB8aT4+PjIpXihpPDwxOXxpPj4+MTMpXihpPDwxMHxpPj4+MjIpLGs9KGE8PDI2fGE+Pj42KV4oYTw8MjF8YT4+PjExKV4oYTw8N3xhPj4+MjUpLFM9dStrK2crY1tkXStoW2RdLG09dytCO3U9ZixmPWwsbD1hLGE9cytTfDAscz1vLG89bixuPWksaT1TK218MH1lWzBdPWVbMF0raXwwLGVbMV09ZVsxXStufDAsZVsyXT1lWzJdK298MCxlWzNdPWVbM10rc3wwLGVbNF09ZVs0XSthfDAsZVs1XT1lWzVdK2x8MCxlWzZdPWVbNl0rZnwwLGVbN109ZVs3XSt1fDB9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YSxlPXQud29yZHMsaT04KnRoaXMuX25EYXRhQnl0ZXMsbj04KnQuc2lnQnl0ZXM7cmV0dXJuIGVbbj4+PjVdfD0xMjg8PDI0LW4lMzIsZVsobis2ND4+Pjk8PDQpKzE0XT1yLmZsb29yKGkvNDI5NDk2NzI5NiksZVsobis2ND4+Pjk8PDQpKzE1XT1pLHQuc2lnQnl0ZXM9NCplLmxlbmd0aCx0aGlzLl9wcm9jZXNzKCksdGhpcy5faGFzaH0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1vLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLHR9fSk7ZS5TSEEyNTY9by5fY3JlYXRlSGVscGVyKGwpLGUuSG1hY1NIQTI1Nj1vLl9jcmVhdGVIbWFjSGVscGVyKGwpfShNYXRoKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQ8PDgmNDI3ODI1NTM2MHx0Pj4+OCYxNjcxMTkzNX12YXIgZT10LGk9ZS5saWIsbj1pLldvcmRBcnJheSxvPWUuZW5jO28uVXRmMTY9by5VdGYxNkJFPXtzdHJpbmdpZnk6ZnVuY3Rpb24odCl7Zm9yKHZhciByPXQud29yZHMsZT10LnNpZ0J5dGVzLGk9W10sbj0wO248ZTtuKz0yKXt2YXIgbz1yW24+Pj4yXT4+PjE2LW4lNCo4JjY1NTM1O2kucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKG8pKX1yZXR1cm4gaS5qb2luKCIiKX0scGFyc2U6ZnVuY3Rpb24odCl7Zm9yKHZhciByPXQubGVuZ3RoLGU9W10saT0wO2k8cjtpKyspZVtpPj4+MV18PXQuY2hhckNvZGVBdChpKTw8MTYtaSUyKjE2O3JldHVybiBuLmNyZWF0ZShlLDIqcil9fTtvLlV0ZjE2TEU9e3N0cmluZ2lmeTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC53b3JkcyxpPXQuc2lnQnl0ZXMsbj1bXSxvPTA7bzxpO28rPTIpe3ZhciBzPXIoZVtvPj4+Ml0+Pj4xNi1vJTQqOCY2NTUzNSk7bi5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUocykpfXJldHVybiBuLmpvaW4oIiIpfSxwYXJzZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgsaT1bXSxvPTA7bzxlO28rKylpW28+Pj4xXXw9cih0LmNoYXJDb2RlQXQobyk8PDE2LW8lMioxNik7cmV0dXJuIG4uY3JlYXRlKGksMiplKX19fSgpLGZ1bmN0aW9uKCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIEFycmF5QnVmZmVyKXt2YXIgcj10LGU9ci5saWIsaT1lLldvcmRBcnJheSxuPWkuaW5pdCxvPWkuaW5pdD1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJih0PW5ldyBVaW50OEFycmF5KHQpKSwodCBpbnN0YW5jZW9mIEludDhBcnJheXx8InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OENsYW1wZWRBcnJheSYmdCBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5fHx0IGluc3RhbmNlb2YgSW50MTZBcnJheXx8dCBpbnN0YW5jZW9mIFVpbnQxNkFycmF5fHx0IGluc3RhbmNlb2YgSW50MzJBcnJheXx8dCBpbnN0YW5jZW9mIFVpbnQzMkFycmF5fHx0IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHx0IGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5KSYmKHQ9bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCkpLHQgaW5zdGFuY2VvZiBVaW50OEFycmF5KXtmb3IodmFyIHI9dC5ieXRlTGVuZ3RoLGU9W10saT0wO2k8cjtpKyspZVtpPj4+Ml18PXRbaV08PDI0LWklNCo4O24uY2FsbCh0aGlzLGUscil9ZWxzZSBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07by5wcm90b3R5cGU9aX19KCksZnVuY3Rpb24ocil7ZnVuY3Rpb24gZSh0LHIsZSl7cmV0dXJuIHRecl5lfWZ1bmN0aW9uIGkodCxyLGUpe3JldHVybiB0JnJ8fnQmZX1mdW5jdGlvbiBuKHQscixlKXtyZXR1cm4odHx+cileZX1mdW5jdGlvbiBvKHQscixlKXtyZXR1cm4gdCZlfHImfmV9ZnVuY3Rpb24gcyh0LHIsZSl7cmV0dXJuIHReKHJ8fmUpfWZ1bmN0aW9uIGEodCxyKXtyZXR1cm4gdDw8cnx0Pj4+MzItcn12YXIgYz10LGg9Yy5saWIsbD1oLldvcmRBcnJheSxmPWguSGFzaGVyLHU9Yy5hbGdvLGQ9bC5jcmVhdGUoWzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsNyw0LDEzLDEsMTAsNiwxNSwzLDEyLDAsOSw1LDIsMTQsMTEsOCwzLDEwLDE0LDQsOSwxNSw4LDEsMiw3LDAsNiwxMywxMSw1LDEyLDEsOSwxMSwxMCwwLDgsMTIsNCwxMywzLDcsMTUsMTQsNSw2LDIsNCwwLDUsOSw3LDEyLDIsMTAsMTQsMSwzLDgsMTEsNiwxNSwxM10pLHY9bC5jcmVhdGUoWzUsMTQsNywwLDksMiwxMSw0LDEzLDYsMTUsOCwxLDEwLDMsMTIsNiwxMSwzLDcsMCwxMyw1LDEwLDE0LDE1LDgsMTIsNCw5LDEsMiwxNSw1LDEsMyw3LDE0LDYsOSwxMSw4LDEyLDIsMTAsMCw0LDEzLDgsNiw0LDEsMywxMSwxNSwwLDUsMTIsMiwxMyw5LDcsMTAsMTQsMTIsMTUsMTAsNCwxLDUsOCw3LDYsMiwxMywxNCwwLDMsOSwxMV0pLHA9bC5jcmVhdGUoWzExLDE0LDE1LDEyLDUsOCw3LDksMTEsMTMsMTQsMTUsNiw3LDksOCw3LDYsOCwxMywxMSw5LDcsMTUsNywxMiwxNSw5LDExLDcsMTMsMTIsMTEsMTMsNiw3LDE0LDksMTMsMTUsMTQsOCwxMyw2LDUsMTIsNyw1LDExLDEyLDE0LDE1LDE0LDE1LDksOCw5LDE0LDUsNiw4LDYsNSwxMiw5LDE1LDUsMTEsNiw4LDEzLDEyLDUsMTIsMTMsMTQsMTEsOCw1LDZdKSxfPWwuY3JlYXRlKFs4LDksOSwxMSwxMywxNSwxNSw1LDcsNyw4LDExLDE0LDE0LDEyLDYsOSwxMywxNSw3LDEyLDgsOSwxMSw3LDcsMTIsNyw2LDE1LDEzLDExLDksNywxNSwxMSw4LDYsNiwxNCwxMiwxMyw1LDE0LDEzLDEzLDcsNSwxNSw1LDgsMTEsMTQsMTQsNiwxNCw2LDksMTIsOSwxMiw1LDE1LDgsOCw1LDEyLDksMTIsNSwxNCw2LDgsMTMsNiw1LDE1LDEzLDExLDExXSkseT1sLmNyZWF0ZShbMCwxNTE4NTAwMjQ5LDE4NTk3NzUzOTMsMjQwMDk1OTcwOCwyODQwODUzODM4XSksZz1sLmNyZWF0ZShbMTM1MjgyOTkyNiwxNTQ4NjAzNjg0LDE4MzYwNzI2OTEsMjA1Mzk5NDIxNywwXSksQj11LlJJUEVNRDE2MD1mLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPWwuY3JlYXRlKFsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF0pfSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxyKXtmb3IodmFyIGM9MDtjPDE2O2MrKyl7dmFyIGg9citjLGw9dFtoXTt0W2hdPTE2NzExOTM1JihsPDw4fGw+Pj4yNCl8NDI3ODI1NTM2MCYobDw8MjR8bD4+PjgpfXZhciBmLHUsQix3LGssUyxtLHgsYixILHo9dGhpcy5faGFzaC53b3JkcyxBPXkud29yZHMsQz1nLndvcmRzLEQ9ZC53b3JkcyxSPXYud29yZHMsRT1wLndvcmRzLE09Xy53b3JkcztTPWY9elswXSxtPXU9elsxXSx4PUI9elsyXSxiPXc9elszXSxIPWs9els0XTtmb3IodmFyIEYsYz0wO2M8ODA7Yys9MSlGPWYrdFtyK0RbY11dfDAsRis9YzwxNj9lKHUsQix3KStBWzBdOmM8MzI/aSh1LEIsdykrQVsxXTpjPDQ4P24odSxCLHcpK0FbMl06Yzw2ND9vKHUsQix3KStBWzNdOnModSxCLHcpK0FbNF0sRnw9MCxGPWEoRixFW2NdKSxGPUYra3wwLGY9ayxrPXcsdz1hKEIsMTApLEI9dSx1PUYsRj1TK3RbcitSW2NdXXwwLEYrPWM8MTY/cyhtLHgsYikrQ1swXTpjPDMyP28obSx4LGIpK0NbMV06Yzw0OD9uKG0seCxiKStDWzJdOmM8NjQ/aShtLHgsYikrQ1szXTplKG0seCxiKStDWzRdLEZ8PTAsRj1hKEYsTVtjXSksRj1GK0h8MCxTPUgsSD1iLGI9YSh4LDEwKSx4PW0sbT1GO0Y9elsxXStCK2J8MCx6WzFdPXpbMl0rdytIfDAselsyXT16WzNdK2srU3wwLHpbM109els0XStmK218MCx6WzRdPXpbMF0rdSt4fDAselswXT1GfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RhdGEscj10LndvcmRzLGU9OCp0aGlzLl9uRGF0YUJ5dGVzLGk9OCp0LnNpZ0J5dGVzO3JbaT4+PjVdfD0xMjg8PDI0LWklMzIsclsoaSs2ND4+Pjk8PDQpKzE0XT0xNjcxMTkzNSYoZTw8OHxlPj4+MjQpfDQyNzgyNTUzNjAmKGU8PDI0fGU+Pj44KSx0LnNpZ0J5dGVzPTQqKHIubGVuZ3RoKzEpLHRoaXMuX3Byb2Nlc3MoKTtmb3IodmFyIG49dGhpcy5faGFzaCxvPW4ud29yZHMscz0wO3M8NTtzKyspe3ZhciBhPW9bc107b1tzXT0xNjcxMTkzNSYoYTw8OHxhPj4+MjQpfDQyNzgyNTUzNjAmKGE8PDI0fGE+Pj44KX1yZXR1cm4gbn0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1mLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLHR9fSk7Yy5SSVBFTUQxNjA9Zi5fY3JlYXRlSGVscGVyKEIpLGMuSG1hY1JJUEVNRDE2MD1mLl9jcmVhdGVIbWFjSGVscGVyKEIpfShNYXRoKSxmdW5jdGlvbigpe3ZhciByPXQsZT1yLmxpYixpPWUuQmFzZSxuPXIuZW5jLG89bi5VdGY4LHM9ci5hbGdvO3MuSE1BQz1pLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LHIpe3Q9dGhpcy5faGFzaGVyPW5ldyB0LmluaXQsInN0cmluZyI9PXR5cGVvZiByJiYocj1vLnBhcnNlKHIpKTt2YXIgZT10LmJsb2NrU2l6ZSxpPTQqZTtyLnNpZ0J5dGVzPmkmJihyPXQuZmluYWxpemUocikpLHIuY2xhbXAoKTtmb3IodmFyIG49dGhpcy5fb0tleT1yLmNsb25lKCkscz10aGlzLl9pS2V5PXIuY2xvbmUoKSxhPW4ud29yZHMsYz1zLndvcmRzLGg9MDtoPGU7aCsrKWFbaF1ePTE1NDk1NTY4MjgsY1toXV49OTA5NTIyNDg2O24uc2lnQnl0ZXM9cy5zaWdCeXRlcz1pLHRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9oYXNoZXI7dC5yZXNldCgpLHQudXBkYXRlKHRoaXMuX2lLZXkpfSx1cGRhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2hhc2hlci51cGRhdGUodCksdGhpc30sZmluYWxpemU6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5faGFzaGVyLGU9ci5maW5hbGl6ZSh0KTtyLnJlc2V0KCk7dmFyIGk9ci5maW5hbGl6ZSh0aGlzLl9vS2V5LmNsb25lKCkuY29uY2F0KGUpKTtyZXR1cm4gaX19KX0oKSxmdW5jdGlvbigpe3ZhciByPXQsZT1yLmxpYixpPWUuQmFzZSxuPWUuV29yZEFycmF5LG89ci5hbGdvLHM9by5TSEExLGE9by5ITUFDLGM9by5QQktERjI9aS5leHRlbmQoe2NmZzppLmV4dGVuZCh7a2V5U2l6ZTo0LGhhc2hlcjpzLGl0ZXJhdGlvbnM6MX0pLGluaXQ6ZnVuY3Rpb24odCl7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKHQpfSxjb21wdXRlOmZ1bmN0aW9uKHQscil7Zm9yKHZhciBlPXRoaXMuY2ZnLGk9YS5jcmVhdGUoZS5oYXNoZXIsdCksbz1uLmNyZWF0ZSgpLHM9bi5jcmVhdGUoWzFdKSxjPW8ud29yZHMsaD1zLndvcmRzLGw9ZS5rZXlTaXplLGY9ZS5pdGVyYXRpb25zO2MubGVuZ3RoPGw7KXt2YXIgdT1pLnVwZGF0ZShyKS5maW5hbGl6ZShzKTtpLnJlc2V0KCk7Zm9yKHZhciBkPXUud29yZHMsdj1kLmxlbmd0aCxwPXUsXz0xO188ZjtfKyspe3A9aS5maW5hbGl6ZShwKSxpLnJlc2V0KCk7Zm9yKHZhciB5PXAud29yZHMsZz0wO2c8djtnKyspZFtnXV49eVtnXX1vLmNvbmNhdCh1KSxoWzBdKyt9cmV0dXJuIG8uc2lnQnl0ZXM9NCpsLG99fSk7ci5QQktERjI9ZnVuY3Rpb24odCxyLGUpe3JldHVybiBjLmNyZWF0ZShlKS5jb21wdXRlKHQscil9fSgpLGZ1bmN0aW9uKCl7dmFyIHI9dCxlPXIubGliLGk9ZS5CYXNlLG49ZS5Xb3JkQXJyYXksbz1yLmFsZ28scz1vLk1ENSxhPW8uRXZwS0RGPWkuZXh0ZW5kKHtjZmc6aS5leHRlbmQoe2tleVNpemU6NCxoYXNoZXI6cyxpdGVyYXRpb25zOjF9KSxpbml0OmZ1bmN0aW9uKHQpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZCh0KX0sY29tcHV0ZTpmdW5jdGlvbih0LHIpe2Zvcih2YXIgZT10aGlzLmNmZyxpPWUuaGFzaGVyLmNyZWF0ZSgpLG89bi5jcmVhdGUoKSxzPW8ud29yZHMsYT1lLmtleVNpemUsYz1lLml0ZXJhdGlvbnM7cy5sZW5ndGg8YTspe2gmJmkudXBkYXRlKGgpO3ZhciBoPWkudXBkYXRlKHQpLmZpbmFsaXplKHIpO2kucmVzZXQoKTtmb3IodmFyIGw9MTtsPGM7bCsrKWg9aS5maW5hbGl6ZShoKSxpLnJlc2V0KCk7by5jb25jYXQoaCl9cmV0dXJuIG8uc2lnQnl0ZXM9NCphLG99fSk7ci5FdnBLREY9ZnVuY3Rpb24odCxyLGUpe3JldHVybiBhLmNyZWF0ZShlKS5jb21wdXRlKHQscil9fSgpLGZ1bmN0aW9uKCl7dmFyIHI9dCxlPXIubGliLGk9ZS5Xb3JkQXJyYXksbj1yLmFsZ28sbz1uLlNIQTI1NixzPW4uU0hBMjI0PW8uZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGkuaW5pdChbMzIzODM3MTAzMiw5MTQxNTA2NjMsODEyNzAyOTk5LDQxNDQ5MTI2OTcsNDI5MDc3NTg1NywxNzUwNjAzMDI1LDE2OTQwNzY4MzksMzIwNDA3NTQyOF0pfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciB0PW8uX2RvRmluYWxpemUuY2FsbCh0aGlzKTtyZXR1cm4gdC5zaWdCeXRlcy09NCx0fX0pO3IuU0hBMjI0PW8uX2NyZWF0ZUhlbHBlcihzKSxyLkhtYWNTSEEyMjQ9by5fY3JlYXRlSG1hY0hlbHBlcihzKX0oKSxmdW5jdGlvbihyKXt2YXIgZT10LGk9ZS5saWIsbj1pLkJhc2Usbz1pLldvcmRBcnJheSxzPWUueDY0PXt9O3MuV29yZD1uLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LHIpe3RoaXMuaGlnaD10LHRoaXMubG93PXJ9fSkscy5Xb3JkQXJyYXk9bi5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxlKXt0PXRoaXMud29yZHM9dHx8W10sZSE9cj90aGlzLnNpZ0J5dGVzPWU6dGhpcy5zaWdCeXRlcz04KnQubGVuZ3RofSx0b1gzMjpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLndvcmRzLHI9dC5sZW5ndGgsZT1bXSxpPTA7aTxyO2krKyl7dmFyIG49dFtpXTtlLnB1c2gobi5oaWdoKSxlLnB1c2gobi5sb3cpfXJldHVybiBvLmNyZWF0ZShlLHRoaXMuc2lnQnl0ZXMpfSxjbG9uZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1uLmNsb25lLmNhbGwodGhpcykscj10LndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCksZT1yLmxlbmd0aCxpPTA7aTxlO2krKylyW2ldPXJbaV0uY2xvbmUoKTtyZXR1cm4gdH19KX0oKSxmdW5jdGlvbihyKXt2YXIgZT10LGk9ZS5saWIsbj1pLldvcmRBcnJheSxvPWkuSGFzaGVyLHM9ZS54NjQsYT1zLldvcmQsYz1lLmFsZ28saD1bXSxsPVtdLGY9W107IWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTEscj0wLGU9MDtlPDI0O2UrKyl7aFt0KzUqcl09KGUrMSkqKGUrMikvMiU2NDt2YXIgaT1yJTUsbj0oMip0KzMqciklNTt0PWkscj1ufWZvcih2YXIgdD0wO3Q8NTt0KyspZm9yKHZhciByPTA7cjw1O3IrKylsW3QrNSpyXT1yKygyKnQrMypyKSU1KjU7Zm9yKHZhciBvPTEscz0wO3M8MjQ7cysrKXtmb3IodmFyIGM9MCx1PTAsZD0wO2Q8NztkKyspe2lmKDEmbyl7dmFyIHY9KDE8PGQpLTE7djwzMj91Xj0xPDx2OmNePTE8PHYtMzJ9MTI4Jm8/bz1vPDwxXjExMzpvPDw9MX1mW3NdPWEuY3JlYXRlKGMsdSl9fSgpO3ZhciB1PVtdOyFmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8MjU7dCsrKXVbdF09YS5jcmVhdGUoKX0oKTt2YXIgZD1jLlNIQTM9by5leHRlbmQoe2NmZzpvLmNmZy5leHRlbmQoe291dHB1dExlbmd0aDo1MTJ9KSxfZG9SZXNldDpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9zdGF0ZT1bXSxyPTA7cjwyNTtyKyspdFtyXT1uZXcgYS5pbml0O3RoaXMuYmxvY2tTaXplPSgxNjAwLTIqdGhpcy5jZmcub3V0cHV0TGVuZ3RoKS8zMn0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKHQscil7Zm9yKHZhciBlPXRoaXMuX3N0YXRlLGk9dGhpcy5ibG9ja1NpemUvMixuPTA7bjxpO24rKyl7dmFyIG89dFtyKzIqbl0scz10W3IrMipuKzFdO289MTY3MTE5MzUmKG88PDh8bz4+PjI0KXw0Mjc4MjU1MzYwJihvPDwyNHxvPj4+OCkscz0xNjcxMTkzNSYoczw8OHxzPj4+MjQpfDQyNzgyNTUzNjAmKHM8PDI0fHM+Pj44KTt2YXIgYT1lW25dO2EuaGlnaF49cyxhLmxvd149b31mb3IodmFyIGM9MDtjPDI0O2MrKyl7Zm9yKHZhciBkPTA7ZDw1O2QrKyl7Zm9yKHZhciB2PTAscD0wLF89MDtfPDU7XysrKXt2YXIgYT1lW2QrNSpfXTt2Xj1hLmhpZ2gscF49YS5sb3d9dmFyIHk9dVtkXTt5LmhpZ2g9dix5Lmxvdz1wfWZvcih2YXIgZD0wO2Q8NTtkKyspZm9yKHZhciBnPXVbKGQrNCklNV0sQj11WyhkKzEpJTVdLHc9Qi5oaWdoLGs9Qi5sb3csdj1nLmhpZ2heKHc8PDF8az4+PjMxKSxwPWcubG93XihrPDwxfHc+Pj4zMSksXz0wO188NTtfKyspe3ZhciBhPWVbZCs1Kl9dO2EuaGlnaF49dixhLmxvd149cH1mb3IodmFyIFM9MTtTPDI1O1MrKyl7dmFyIGE9ZVtTXSxtPWEuaGlnaCx4PWEubG93LGI9aFtTXTtpZihiPDMyKXZhciB2PW08PGJ8eD4+PjMyLWIscD14PDxifG0+Pj4zMi1iO2Vsc2UgdmFyIHY9eDw8Yi0zMnxtPj4+NjQtYixwPW08PGItMzJ8eD4+PjY0LWI7dmFyIEg9dVtsW1NdXTtILmhpZ2g9dixILmxvdz1wfXZhciB6PXVbMF0sQT1lWzBdO3ouaGlnaD1BLmhpZ2gsei5sb3c9QS5sb3c7Zm9yKHZhciBkPTA7ZDw1O2QrKylmb3IodmFyIF89MDtfPDU7XysrKXt2YXIgUz1kKzUqXyxhPWVbU10sQz11W1NdLEQ9dVsoZCsxKSU1KzUqX10sUj11WyhkKzIpJTUrNSpfXTthLmhpZ2g9Qy5oaWdoXn5ELmhpZ2gmUi5oaWdoLGEubG93PUMubG93Xn5ELmxvdyZSLmxvd312YXIgYT1lWzBdLEU9ZltjXTthLmhpZ2hePUUuaGlnaCxhLmxvd149RS5sb3d9fSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RhdGEsZT10LndvcmRzLGk9KDgqdGhpcy5fbkRhdGFCeXRlcyw4KnQuc2lnQnl0ZXMpLG89MzIqdGhpcy5ibG9ja1NpemU7ZVtpPj4+NV18PTE8PDI0LWklMzIsZVsoci5jZWlsKChpKzEpL28pKm8+Pj41KS0xXXw9MTI4LHQuc2lnQnl0ZXM9NCplLmxlbmd0aCx0aGlzLl9wcm9jZXNzKCk7Zm9yKHZhciBzPXRoaXMuX3N0YXRlLGE9dGhpcy5jZmcub3V0cHV0TGVuZ3RoLzgsYz1hLzgsaD1bXSxsPTA7bDxjO2wrKyl7dmFyIGY9c1tsXSx1PWYuaGlnaCxkPWYubG93O3U9MTY3MTE5MzUmKHU8PDh8dT4+PjI0KXw0Mjc4MjU1MzYwJih1PDwyNHx1Pj4+OCksZD0xNjcxMTkzNSYoZDw8OHxkPj4+MjQpfDQyNzgyNTUzNjAmKGQ8PDI0fGQ+Pj44KSxoLnB1c2goZCksaC5wdXNoKHUpfXJldHVybiBuZXcgbi5pbml0KGgsYSl9LGNsb25lOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PW8uY2xvbmUuY2FsbCh0aGlzKSxyPXQuX3N0YXRlPXRoaXMuX3N0YXRlLnNsaWNlKDApLGU9MDtlPDI1O2UrKylyW2VdPXJbZV0uY2xvbmUoKTtyZXR1cm4gdH19KTtlLlNIQTM9by5fY3JlYXRlSGVscGVyKGQpLGUuSG1hY1NIQTM9by5fY3JlYXRlSG1hY0hlbHBlcihkKX0oTWF0aCksZnVuY3Rpb24oKXtmdW5jdGlvbiByKCl7cmV0dXJuIHMuY3JlYXRlLmFwcGx5KHMsYXJndW1lbnRzKX12YXIgZT10LGk9ZS5saWIsbj1pLkhhc2hlcixvPWUueDY0LHM9by5Xb3JkLGE9by5Xb3JkQXJyYXksYz1lLmFsZ28saD1bcigxMTE2MzUyNDA4LDM2MDk3Njc0NTgpLHIoMTg5OTQ0NzQ0MSw2MDI4OTE3MjUpLHIoMzA0OTMyMzQ3MSwzOTY0NDg0Mzk5KSxyKDM5MjEwMDk1NzMsMjE3MzI5NTU0OCkscig5NjE5ODcxNjMsNDA4MTYyODQ3MikscigxNTA4OTcwOTkzLDMwNTM4MzQyNjUpLHIoMjQ1MzYzNTc0OCwyOTM3NjcxNTc5KSxyKDI4NzA3NjMyMjEsMzY2NDYwOTU2MCkscigzNjI0MzgxMDgwLDI3MzQ4ODMzOTQpLHIoMzEwNTk4NDAxLDExNjQ5OTY1NDIpLHIoNjA3MjI1Mjc4LDEzMjM2MTA3NjQpLHIoMTQyNjg4MTk4NywzNTkwMzA0OTk0KSxyKDE5MjUwNzgzODgsNDA2ODE4MjM4MykscigyMTYyMDc4MjA2LDk5MTMzNjExMykscigyNjE0ODg4MTAzLDYzMzgwMzMxNykscigzMjQ4MjIyNTgwLDM0Nzk3NzQ4NjgpLHIoMzgzNTM5MDQwMSwyNjY2NjEzNDU4KSxyKDQwMjIyMjQ3NzQsOTQ0NzExMTM5KSxyKDI2NDM0NzA3OCwyMzQxMjYyNzczKSxyKDYwNDgwNzYyOCwyMDA3ODAwOTMzKSxyKDc3MDI1NTk4MywxNDk1OTkwOTAxKSxyKDEyNDkxNTAxMjIsMTg1NjQzMTIzNSkscigxNTU1MDgxNjkyLDMxNzUyMTgxMzIpLHIoMTk5NjA2NDk4NiwyMTk4OTUwODM3KSxyKDI1NTQyMjA4ODIsMzk5OTcxOTMzOSkscigyODIxODM0MzQ5LDc2Njc4NDAxNikscigyOTUyOTk2ODA4LDI1NjY1OTQ4NzkpLHIoMzIxMDMxMzY3MSwzMjAzMzM3OTU2KSxyKDMzMzY1NzE4OTEsMTAzNDQ1NzAyNikscigzNTg0NTI4NzExLDI0NjY5NDg5MDEpLHIoMTEzOTI2OTkzLDM3NTgzMjYzODMpLHIoMzM4MjQxODk1LDE2ODcxNzkzNikscig2NjYzMDcyMDUsMTE4ODE3OTk2NCkscig3NzM1Mjk5MTIsMTU0NjA0NTczNCkscigxMjk0NzU3MzcyLDE1MjI4MDU0ODUpLHIoMTM5NjE4MjI5MSwyNjQzODMzODIzKSxyKDE2OTUxODM3MDAsMjM0MzUyNzM5MCkscigxOTg2NjYxMDUxLDEwMTQ0Nzc0ODApLHIoMjE3NzAyNjM1MCwxMjA2NzU5MTQyKSxyKDI0NTY5NTYwMzcsMzQ0MDc3NjI3KSxyKDI3MzA0ODU5MjEsMTI5MDg2MzQ2MCkscigyODIwMzAyNDExLDMxNTg0NTQyNzMpLHIoMzI1OTczMDgwMCwzNTA1OTUyNjU3KSxyKDMzNDU3NjQ3NzEsMTA2MjE3MDA4KSxyKDM1MTYwNjU4MTcsMzYwNjAwODM0NCkscigzNjAwMzUyODA0LDE0MzI3MjU3NzYpLHIoNDA5NDU3MTkwOSwxNDY3MDMxNTk0KSxyKDI3NTQyMzM0NCw4NTExNjk3MjApLHIoNDMwMjI3NzM0LDMxMDA4MjM3NTIpLHIoNTA2OTQ4NjE2LDEzNjMyNTgxOTUpLHIoNjU5MDYwNTU2LDM3NTA2ODU1OTMpLHIoODgzOTk3ODc3LDM3ODUwNTAyODApLHIoOTU4MTM5NTcxLDMzMTgzMDc0MjcpLHIoMTMyMjgyMjIxOCwzODEyNzIzNDAzKSxyKDE1MzcwMDIwNjMsMjAwMzAzNDk5NSkscigxNzQ3ODczNzc5LDM2MDIwMzY4OTkpLHIoMTk1NTU2MjIyMiwxNTc1OTkwMDEyKSxyKDIwMjQxMDQ4MTUsMTEyNTU5MjkyOCkscigyMjI3NzMwNDUyLDI3MTY5MDQzMDYpLHIoMjM2MTg1MjQyNCw0NDI3NzYwNDQpLHIoMjQyODQzNjQ3NCw1OTM2OTgzNDQpLHIoMjc1NjczNDE4NywzNzMzMTEwMjQ5KSxyKDMyMDQwMzE0NzksMjk5OTM1MTU3MykscigzMzI5MzI1Mjk4LDM4MTU5MjA0MjcpLHIoMzM5MTU2OTYxNCwzOTI4MzgzOTAwKSxyKDM1MTUyNjcyNzEsNTY2MjgwNzExKSxyKDM5NDAxODc2MDYsMzQ1NDA2OTUzNCkscig0MTE4NjMwMjcxLDQwMDAyMzk5OTIpLHIoMTE2NDE4NDc0LDE5MTQxMzg1NTQpLHIoMTc0MjkyNDIxLDI3MzEwNTUyNzApLHIoMjg5MzgwMzU2LDMyMDM5OTMwMDYpLHIoNDYwMzkzMjY5LDMyMDYyMDMxNSkscig2ODU0NzE3MzMsNTg3NDk2ODM2KSxyKDg1MjE0Mjk3MSwxMDg2NzkyODUxKSxyKDEwMTcwMzYyOTgsMzY1NTQzMTAwKSxyKDExMjYwMDA1ODAsMjYxODI5NzY3NikscigxMjg4MDMzNDcwLDM0MDk4NTUxNTgpLHIoMTUwMTUwNTk0OCw0MjM0NTA5ODY2KSxyKDE2MDcxNjc5MTUsOTg3MTY3NDY4KSxyKDE4MTY0MDIzMTYsMTI0NjE4OTU5MSldLGw9W107IWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDw4MDt0KyspbFt0XT1yKCl9KCk7dmFyIGY9Yy5TSEE1MTI9bi5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uZXcgYS5pbml0KFtuZXcgcy5pbml0KDE3NzkwMzM3MDMsNDA4OTIzNTcyMCksbmV3IHMuaW5pdCgzMTQ0MTM0Mjc3LDIyMjc4NzM1OTUpLG5ldyBzLmluaXQoMTAxMzkwNDI0Miw0MjcxMTc1NzIzKSxuZXcgcy5pbml0KDI3NzM0ODA3NjIsMTU5NTc1MDEyOSksbmV3IHMuaW5pdCgxMzU5ODkzMTE5LDI5MTc1NjUxMzcpLG5ldyBzLmluaXQoMjYwMDgyMjkyNCw3MjU1MTExOTkpLG5ldyBzLmluaXQoNTI4NzM0NjM1LDQyMTUzODk1NDcpLG5ldyBzLmluaXQoMTU0MTQ1OTIyNSwzMjcwMzMyMDkpXSl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LHIpe2Zvcih2YXIgZT10aGlzLl9oYXNoLndvcmRzLGk9ZVswXSxuPWVbMV0sbz1lWzJdLHM9ZVszXSxhPWVbNF0sYz1lWzVdLGY9ZVs2XSx1PWVbN10sZD1pLmhpZ2gsdj1pLmxvdyxwPW4uaGlnaCxfPW4ubG93LHk9by5oaWdoLGc9by5sb3csQj1zLmhpZ2gsdz1zLmxvdyxrPWEuaGlnaCxTPWEubG93LG09Yy5oaWdoLHg9Yy5sb3csYj1mLmhpZ2gsSD1mLmxvdyx6PXUuaGlnaCxBPXUubG93LEM9ZCxEPXYsUj1wLEU9XyxNPXksRj1nLFA9QixXPXcsTz1rLFU9UyxJPW0sSz14LFg9YixMPUgsaj16LE49QSxUPTA7VDw4MDtUKyspe3ZhciBaPWxbVF07aWYoVDwxNil2YXIgcT1aLmhpZ2g9MHx0W3IrMipUXSxHPVoubG93PTB8dFtyKzIqVCsxXTtlbHNle3ZhciBKPWxbVC0xNV0sJD1KLmhpZ2gsUT1KLmxvdyxWPSgkPj4+MXxRPDwzMSleKCQ+Pj44fFE8PDI0KV4kPj4+NyxZPShRPj4+MXwkPDwzMSleKFE+Pj44fCQ8PDI0KV4oUT4+Pjd8JDw8MjUpLHR0PWxbVC0yXSxydD10dC5oaWdoLGV0PXR0LmxvdyxpdD0ocnQ+Pj4xOXxldDw8MTMpXihydDw8M3xldD4+PjI5KV5ydD4+PjYsbnQ9KGV0Pj4+MTl8cnQ8PDEzKV4oZXQ8PDN8cnQ+Pj4yOSleKGV0Pj4+NnxydDw8MjYpLG90PWxbVC03XSxzdD1vdC5oaWdoLGF0PW90LmxvdyxjdD1sW1QtMTZdLGh0PWN0LmhpZ2gsbHQ9Y3QubG93LEc9WSthdCxxPVYrc3QrKEc+Pj4wPFk+Pj4wPzE6MCksRz1HK250LHE9cStpdCsoRz4+PjA8bnQ+Pj4wPzE6MCksRz1HK2x0LHE9cStodCsoRz4+PjA8bHQ+Pj4wPzE6MCk7Wi5oaWdoPXEsWi5sb3c9R312YXIgZnQ9TyZJXn5PJlgsdXQ9VSZLXn5VJkwsZHQ9QyZSXkMmTV5SJk0sdnQ9RCZFXkQmRl5FJkYscHQ9KEM+Pj4yOHxEPDw0KV4oQzw8MzB8RD4+PjIpXihDPDwyNXxEPj4+NyksX3Q9KEQ+Pj4yOHxDPDw0KV4oRDw8MzB8Qz4+PjIpXihEPDwyNXxDPj4+NykseXQ9KE8+Pj4xNHxVPDwxOCleKE8+Pj4xOHxVPDwxNCleKE88PDIzfFU+Pj45KSxndD0oVT4+PjE0fE88PDE4KV4oVT4+PjE4fE88PDE0KV4oVTw8MjN8Tz4+PjkpLEJ0PWhbVF0sd3Q9QnQuaGlnaCxrdD1CdC5sb3csU3Q9TitndCxtdD1qK3l0KyhTdD4+PjA8Tj4+PjA/MTowKSxTdD1TdCt1dCxtdD1tdCtmdCsoU3Q+Pj4wPHV0Pj4+MD8xOjApLFN0PVN0K2t0LG10PW10K3d0KyhTdD4+PjA8a3Q+Pj4wPzE6MCksU3Q9U3QrRyxtdD1tdCtxKyhTdD4+PjA8Rz4+PjA/MTowKSx4dD1fdCt2dCxidD1wdCtkdCsoeHQ+Pj4wPF90Pj4+MD8xOjApO2o9WCxOPUwsWD1JLEw9SyxJPU8sSz1VLFU9VytTdHwwLE89UCttdCsoVT4+PjA8Vz4+PjA/MTowKXwwLFA9TSxXPUYsTT1SLEY9RSxSPUMsRT1ELEQ9U3QreHR8MCxDPW10K2J0KyhEPj4+MDxTdD4+PjA/MTowKXwwfXY9aS5sb3c9ditELGkuaGlnaD1kK0MrKHY+Pj4wPEQ+Pj4wPzE6MCksXz1uLmxvdz1fK0Usbi5oaWdoPXArUisoXz4+PjA8RT4+PjA/MTowKSxnPW8ubG93PWcrRixvLmhpZ2g9eStNKyhnPj4+MDxGPj4+MD8xOjApLHc9cy5sb3c9dytXLHMuaGlnaD1CK1ArKHc+Pj4wPFc+Pj4wPzE6MCksUz1hLmxvdz1TK1UsYS5oaWdoPWsrTysoUz4+PjA8VT4+PjA/MTowKSx4PWMubG93PXgrSyxjLmhpZ2g9bStJKyh4Pj4+MDxLPj4+MD8xOjApLEg9Zi5sb3c9SCtMLGYuaGlnaD1iK1grKEg+Pj4wPEw+Pj4wPzE6MCksQT11Lmxvdz1BK04sdS5oaWdoPXoraisoQT4+PjA8Tj4+PjA/MTowKX0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhLHI9dC53b3JkcyxlPTgqdGhpcy5fbkRhdGFCeXRlcyxpPTgqdC5zaWdCeXRlcztyW2k+Pj41XXw9MTI4PDwyNC1pJTMyLHJbKGkrMTI4Pj4+MTA8PDUpKzMwXT1NYXRoLmZsb29yKGUvNDI5NDk2NzI5NiksclsoaSsxMjg+Pj4xMDw8NSkrMzFdPWUsdC5zaWdCeXRlcz00KnIubGVuZ3RoLHRoaXMuX3Byb2Nlc3MoKTt2YXIgbj10aGlzLl9oYXNoLnRvWDMyKCk7cmV0dXJuIG59LGNsb25lOmZ1bmN0aW9uKCl7dmFyIHQ9bi5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiB0Ll9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKSx0fSxibG9ja1NpemU6MzJ9KTtlLlNIQTUxMj1uLl9jcmVhdGVIZWxwZXIoZiksZS5IbWFjU0hBNTEyPW4uX2NyZWF0ZUhtYWNIZWxwZXIoZil9KCksZnVuY3Rpb24oKXt2YXIgcj10LGU9ci54NjQsaT1lLldvcmQsbj1lLldvcmRBcnJheSxvPXIuYWxnbyxzPW8uU0hBNTEyLGE9by5TSEEzODQ9cy5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uZXcgbi5pbml0KFtuZXcgaS5pbml0KDM0MTgwNzAzNjUsMzIzODM3MTAzMiksbmV3IGkuaW5pdCgxNjU0MjcwMjUwLDkxNDE1MDY2MyksbmV3IGkuaW5pdCgyNDM4NTI5MzcwLDgxMjcwMjk5OSksbmV3IGkuaW5pdCgzNTU0NjIzNjAsNDE0NDkxMjY5NyksbmV3IGkuaW5pdCgxNzMxNDA1NDE1LDQyOTA3NzU4NTcpLG5ldyBpLmluaXQoMjM5NDE4MDIzMSwxNzUwNjAzMDI1KSxuZXcgaS5pbml0KDM2NzUwMDg1MjUsMTY5NDA3NjgzOSksbmV3IGkuaW5pdCgxMjAzMDYyODEzLDMyMDQwNzU0MjgpXSl9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIHQ9cy5fZG9GaW5hbGl6ZS5jYWxsKHRoaXMpO3JldHVybiB0LnNpZ0J5dGVzLT0xNix0fX0pO3IuU0hBMzg0PXMuX2NyZWF0ZUhlbHBlcihhKSxyLkhtYWNTSEEzODQ9cy5fY3JlYXRlSG1hY0hlbHBlcihhKX0oKSx0LmxpYi5DaXBoZXJ8fGZ1bmN0aW9uKHIpe3ZhciBlPXQsaT1lLmxpYixuPWkuQmFzZSxvPWkuV29yZEFycmF5LHM9aS5CdWZmZXJlZEJsb2NrQWxnb3JpdGhtLGE9ZS5lbmMsYz0oYS5VdGY4LGEuQmFzZTY0KSxoPWUuYWxnbyxsPWguRXZwS0RGLGY9aS5DaXBoZXI9cy5leHRlbmQoe2NmZzpuLmV4dGVuZCgpLGNyZWF0ZUVuY3J5cHRvcjpmdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLmNyZWF0ZSh0aGlzLl9FTkNfWEZPUk1fTU9ERSx0LHIpfSxjcmVhdGVEZWNyeXB0b3I6ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5jcmVhdGUodGhpcy5fREVDX1hGT1JNX01PREUsdCxyKX0saW5pdDpmdW5jdGlvbih0LHIsZSl7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKGUpLHRoaXMuX3hmb3JtTW9kZT10LHRoaXMuX2tleT1yLHRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24oKXtzLnJlc2V0LmNhbGwodGhpcyksdGhpcy5fZG9SZXNldCgpfSxwcm9jZXNzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hcHBlbmQodCksdGhpcy5fcHJvY2VzcygpfSxmaW5hbGl6ZTpmdW5jdGlvbih0KXt0JiZ0aGlzLl9hcHBlbmQodCk7dmFyIHI9dGhpcy5fZG9GaW5hbGl6ZSgpO3JldHVybiByfSxrZXlTaXplOjQsaXZTaXplOjQsX0VOQ19YRk9STV9NT0RFOjEsX0RFQ19YRk9STV9NT0RFOjIsX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P206d31yZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJue2VuY3J5cHQ6ZnVuY3Rpb24oZSxpLG4pe3JldHVybiB0KGkpLmVuY3J5cHQocixlLGksbil9LGRlY3J5cHQ6ZnVuY3Rpb24oZSxpLG4pe3JldHVybiB0KGkpLmRlY3J5cHQocixlLGksbil9fX19KCl9KSx1PShpLlN0cmVhbUNpcGhlcj1mLmV4dGVuZCh7X2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wcm9jZXNzKCEwKTtyZXR1cm4gdH0sYmxvY2tTaXplOjF9KSxlLm1vZGU9e30pLGQ9aS5CbG9ja0NpcGhlck1vZGU9bi5leHRlbmQoe2NyZWF0ZUVuY3J5cHRvcjpmdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLkVuY3J5cHRvci5jcmVhdGUodCxyKX0sY3JlYXRlRGVjcnlwdG9yOmZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuRGVjcnlwdG9yLmNyZWF0ZSh0LHIpfSxpbml0OmZ1bmN0aW9uKHQscil7dGhpcy5fY2lwaGVyPXQsdGhpcy5faXY9cn19KSx2PXUuQ0JDPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSl7dmFyIG49dGhpcy5faXY7aWYobil7dmFyIG89bjt0aGlzLl9pdj1yfWVsc2UgdmFyIG89dGhpcy5fcHJldkJsb2NrO2Zvcih2YXIgcz0wO3M8aTtzKyspdFtlK3NdXj1vW3NdfXZhciBlPWQuZXh0ZW5kKCk7cmV0dXJuIGUuRW5jcnlwdG9yPWUuZXh0ZW5kKHtwcm9jZXNzQmxvY2s6ZnVuY3Rpb24ocixlKXt2YXIgaT10aGlzLl9jaXBoZXIsbj1pLmJsb2NrU2l6ZTt0LmNhbGwodGhpcyxyLGUsbiksaS5lbmNyeXB0QmxvY2socixlKSx0aGlzLl9wcmV2QmxvY2s9ci5zbGljZShlLGUrbil9fSksZS5EZWNyeXB0b3I9ZS5leHRlbmQoe3Byb2Nlc3NCbG9jazpmdW5jdGlvbihyLGUpe3ZhciBpPXRoaXMuX2NpcGhlcixuPWkuYmxvY2tTaXplLG89ci5zbGljZShlLGUrbik7aS5kZWNyeXB0QmxvY2socixlKSx0LmNhbGwodGhpcyxyLGUsbiksdGhpcy5fcHJldkJsb2NrPW99fSksZX0oKSxwPWUucGFkPXt9LF89cC5Qa2NzNz17cGFkOmZ1bmN0aW9uKHQscil7Zm9yKHZhciBlPTQqcixpPWUtdC5zaWdCeXRlcyVlLG49aTw8MjR8aTw8MTZ8aTw8OHxpLHM9W10sYT0wO2E8aTthKz00KXMucHVzaChuKTt2YXIgYz1vLmNyZWF0ZShzLGkpO3QuY29uY2F0KGMpfSx1bnBhZDpmdW5jdGlvbih0KXt2YXIgcj0yNTUmdC53b3Jkc1t0LnNpZ0J5dGVzLTE+Pj4yXTt0LnNpZ0J5dGVzLT1yfX0seT0oaS5CbG9ja0NpcGhlcj1mLmV4dGVuZCh7Y2ZnOmYuY2ZnLmV4dGVuZCh7bW9kZTp2LHBhZGRpbmc6X30pLHJlc2V0OmZ1bmN0aW9uKCl7Zi5yZXNldC5jYWxsKHRoaXMpO3ZhciB0PXRoaXMuY2ZnLHI9dC5pdixlPXQubW9kZTtpZih0aGlzLl94Zm9ybU1vZGU9PXRoaXMuX0VOQ19YRk9STV9NT0RFKXZhciBpPWUuY3JlYXRlRW5jcnlwdG9yO2Vsc2V7dmFyIGk9ZS5jcmVhdGVEZWNyeXB0b3I7dGhpcy5fbWluQnVmZmVyU2l6ZT0xfXRoaXMuX21vZGUmJnRoaXMuX21vZGUuX19jcmVhdG9yPT1pP3RoaXMuX21vZGUuaW5pdCh0aGlzLHImJnIud29yZHMpOih0aGlzLl9tb2RlPWkuY2FsbChlLHRoaXMsciYmci53b3JkcyksdGhpcy5fbW9kZS5fX2NyZWF0b3I9aSl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LHIpe3RoaXMuX21vZGUucHJvY2Vzc0Jsb2NrKHQscil9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jZmcucGFkZGluZztpZih0aGlzLl94Zm9ybU1vZGU9PXRoaXMuX0VOQ19YRk9STV9NT0RFKXt0LnBhZCh0aGlzLl9kYXRhLHRoaXMuYmxvY2tTaXplKTt2YXIgcj10aGlzLl9wcm9jZXNzKCEwKX1lbHNle3ZhciByPXRoaXMuX3Byb2Nlc3MoITApO3QudW5wYWQocil9cmV0dXJuIHJ9LGJsb2NrU2l6ZTo0fSksaS5DaXBoZXJQYXJhbXM9bi5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCl7dGhpcy5taXhJbih0KX0sdG9TdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuKHR8fHRoaXMuZm9ybWF0dGVyKS5zdHJpbmdpZnkodGhpcyl9fSkpLGc9ZS5mb3JtYXQ9e30sQj1nLk9wZW5TU0w9e3N0cmluZ2lmeTpmdW5jdGlvbih0KXt2YXIgcj10LmNpcGhlcnRleHQsZT10LnNhbHQ7aWYoZSl2YXIgaT1vLmNyZWF0ZShbMTM5ODg5MzY4NCwxNzAxMDc2ODMxXSkuY29uY2F0KGUpLmNvbmNhdChyKTtlbHNlIHZhciBpPXI7cmV0dXJuIGkudG9TdHJpbmcoYyl9LHBhcnNlOmZ1bmN0aW9uKHQpe3ZhciByPWMucGFyc2UodCksZT1yLndvcmRzO2lmKDEzOTg4OTM2ODQ9PWVbMF0mJjE3MDEwNzY4MzE9PWVbMV0pe3ZhciBpPW8uY3JlYXRlKGUuc2xpY2UoMiw0KSk7ZS5zcGxpY2UoMCw0KSxyLnNpZ0J5dGVzLT0xNn1yZXR1cm4geS5jcmVhdGUoe2NpcGhlcnRleHQ6cixzYWx0Oml9KX19LHc9aS5TZXJpYWxpemFibGVDaXBoZXI9bi5leHRlbmQoe2NmZzpuLmV4dGVuZCh7Zm9ybWF0OkJ9KSxlbmNyeXB0OmZ1bmN0aW9uKHQscixlLGkpe2k9dGhpcy5jZmcuZXh0ZW5kKGkpO3ZhciBuPXQuY3JlYXRlRW5jcnlwdG9yKGUsaSksbz1uLmZpbmFsaXplKHIpLHM9bi5jZmc7cmV0dXJuIHkuY3JlYXRlKHtjaXBoZXJ0ZXh0Om8sa2V5OmUsaXY6cy5pdixhbGdvcml0aG06dCxtb2RlOnMubW9kZSxwYWRkaW5nOnMucGFkZGluZyxibG9ja1NpemU6dC5ibG9ja1NpemUsZm9ybWF0dGVyOmkuZm9ybWF0fSl9LGRlY3J5cHQ6ZnVuY3Rpb24odCxyLGUsaSl7aT10aGlzLmNmZy5leHRlbmQoaSkscj10aGlzLl9wYXJzZShyLGkuZm9ybWF0KTt2YXIgbj10LmNyZWF0ZURlY3J5cHRvcihlLGkpLmZpbmFsaXplKHIuY2lwaGVydGV4dCk7cmV0dXJuIG59LF9wYXJzZTpmdW5jdGlvbih0LHIpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9yLnBhcnNlKHQsdGhpcyk6dH19KSxrPWUua2RmPXt9LFM9ay5PcGVuU1NMPXtleGVjdXRlOmZ1bmN0aW9uKHQscixlLGkpe2l8fChpPW8ucmFuZG9tKDgpKTt2YXIgbj1sLmNyZWF0ZSh7a2V5U2l6ZTpyK2V9KS5jb21wdXRlKHQsaSkscz1vLmNyZWF0ZShuLndvcmRzLnNsaWNlKHIpLDQqZSk7cmV0dXJuIG4uc2lnQnl0ZXM9NCpyLHkuY3JlYXRlKHtrZXk6bixpdjpzLHNhbHQ6aX0pfX0sbT1pLlBhc3N3b3JkQmFzZWRDaXBoZXI9dy5leHRlbmQoe2NmZzp3LmNmZy5leHRlbmQoe2tkZjpTfSksZW5jcnlwdDpmdW5jdGlvbih0LHIsZSxpKXtpPXRoaXMuY2ZnLmV4dGVuZChpKTt2YXIgbj1pLmtkZi5leGVjdXRlKGUsdC5rZXlTaXplLHQuaXZTaXplKTtpLml2PW4uaXY7dmFyIG89dy5lbmNyeXB0LmNhbGwodGhpcyx0LHIsbi5rZXksaSk7cmV0dXJuIG8ubWl4SW4obiksb30sZGVjcnlwdDpmdW5jdGlvbih0LHIsZSxpKXtpPXRoaXMuY2ZnLmV4dGVuZChpKSxyPXRoaXMuX3BhcnNlKHIsaS5mb3JtYXQpO3ZhciBuPWkua2RmLmV4ZWN1dGUoZSx0LmtleVNpemUsdC5pdlNpemUsci5zYWx0KTtpLml2PW4uaXY7dmFyIG89dy5kZWNyeXB0LmNhbGwodGhpcyx0LHIsbi5rZXksaSk7cmV0dXJuIG99fSl9KCksdC5tb2RlLkNGQj1mdW5jdGlvbigpe2Z1bmN0aW9uIHIodCxyLGUsaSl7dmFyIG49dGhpcy5faXY7aWYobil7dmFyIG89bi5zbGljZSgwKTt0aGlzLl9pdj12b2lkIDB9ZWxzZSB2YXIgbz10aGlzLl9wcmV2QmxvY2s7aS5lbmNyeXB0QmxvY2sobywwKTtmb3IodmFyIHM9MDtzPGU7cysrKXRbcitzXV49b1tzXX12YXIgZT10LmxpYi5CbG9ja0NpcGhlck1vZGUuZXh0ZW5kKCk7cmV0dXJuIGUuRW5jcnlwdG9yPWUuZXh0ZW5kKHtwcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9jaXBoZXIsbj1pLmJsb2NrU2l6ZTtyLmNhbGwodGhpcyx0LGUsbixpKSx0aGlzLl9wcmV2QmxvY2s9dC5zbGljZShlLGUrbil9fSksZS5EZWNyeXB0b3I9ZS5leHRlbmQoe3Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2NpcGhlcixuPWkuYmxvY2tTaXplLG89dC5zbGljZShlLGUrbik7ci5jYWxsKHRoaXMsdCxlLG4saSksdGhpcy5fcHJldkJsb2NrPW99fSksZX0oKSx0Lm1vZGUuRUNCPWZ1bmN0aW9uKCl7dmFyIHI9dC5saWIuQmxvY2tDaXBoZXJNb2RlLmV4dGVuZCgpO3JldHVybiByLkVuY3J5cHRvcj1yLmV4dGVuZCh7cHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKHQscil7dGhpcy5fY2lwaGVyLmVuY3J5cHRCbG9jayh0LHIpfX0pLHIuRGVjcnlwdG9yPXIuZXh0ZW5kKHtwcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxyKXt0aGlzLl9jaXBoZXIuZGVjcnlwdEJsb2NrKHQscil9fSkscn0oKSx0LnBhZC5BbnNpWDkyMz17cGFkOmZ1bmN0aW9uKHQscil7dmFyIGU9dC5zaWdCeXRlcyxpPTQqcixuPWktZSVpLG89ZStuLTE7dC5jbGFtcCgpLHQud29yZHNbbz4+PjJdfD1uPDwyNC1vJTQqOCx0LnNpZ0J5dGVzKz1ufSx1bnBhZDpmdW5jdGlvbih0KXt2YXIgcj0yNTUmdC53b3Jkc1t0LnNpZ0J5dGVzLTE+Pj4yXTt0LnNpZ0J5dGVzLT1yfX0sdC5wYWQuSXNvMTAxMjY9e3BhZDpmdW5jdGlvbihyLGUpe3ZhciBpPTQqZSxuPWktci5zaWdCeXRlcyVpO3IuY29uY2F0KHQubGliLldvcmRBcnJheS5yYW5kb20obi0xKSkuY29uY2F0KHQubGliLldvcmRBcnJheS5jcmVhdGUoW248PDI0XSwxKSl9LHVucGFkOmZ1bmN0aW9uKHQpe3ZhciByPTI1NSZ0LndvcmRzW3Quc2lnQnl0ZXMtMT4+PjJdO3Quc2lnQnl0ZXMtPXJ9fSx0LnBhZC5Jc285Nzk3MT17cGFkOmZ1bmN0aW9uKHIsZSl7ci5jb25jYXQodC5saWIuV29yZEFycmF5LmNyZWF0ZShbMjE0NzQ4MzY0OF0sMSkpLHQucGFkLlplcm9QYWRkaW5nLnBhZChyLGUpfSx1bnBhZDpmdW5jdGlvbihyKXt0LnBhZC5aZXJvUGFkZGluZy51bnBhZChyKSxyLnNpZ0J5dGVzLS19fSx0Lm1vZGUuT0ZCPWZ1bmN0aW9uKCl7dmFyIHI9dC5saWIuQmxvY2tDaXBoZXJNb2RlLmV4dGVuZCgpLGU9ci5FbmNyeXB0b3I9ci5leHRlbmQoe3Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LHIpe3ZhciBlPXRoaXMuX2NpcGhlcixpPWUuYmxvY2tTaXplLG49dGhpcy5faXYsbz10aGlzLl9rZXlzdHJlYW07biYmKG89dGhpcy5fa2V5c3RyZWFtPW4uc2xpY2UoMCksdGhpcy5faXY9dm9pZCAwKSxlLmVuY3J5cHRCbG9jayhvLDApO2Zvcih2YXIgcz0wO3M8aTtzKyspdFtyK3NdXj1vW3NdfX0pO3JldHVybiByLkRlY3J5cHRvcj1lLHJ9KCksdC5wYWQuTm9QYWRkaW5nPXtwYWQ6ZnVuY3Rpb24oKXt9LHVucGFkOmZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24ocil7dmFyIGU9dCxpPWUubGliLG49aS5DaXBoZXJQYXJhbXMsbz1lLmVuYyxzPW8uSGV4LGE9ZS5mb3JtYXQ7YS5IZXg9e3N0cmluZ2lmeTpmdW5jdGlvbih0KXtyZXR1cm4gdC5jaXBoZXJ0ZXh0LnRvU3RyaW5nKHMpfSxwYXJzZTpmdW5jdGlvbih0KXt2YXIgcj1zLnBhcnNlKHQpO3JldHVybiBuLmNyZWF0ZSh7Y2lwaGVydGV4dDpyfSl9fX0oKSxmdW5jdGlvbigpe3ZhciByPXQsZT1yLmxpYixpPWUuQmxvY2tDaXBoZXIsbj1yLmFsZ28sbz1bXSxzPVtdLGE9W10sYz1bXSxoPVtdLGw9W10sZj1bXSx1PVtdLGQ9W10sdj1bXTshZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10scj0wO3I8MjU2O3IrKylyPDEyOD90W3JdPXI8PDE6dFtyXT1yPDwxXjI4Mztmb3IodmFyIGU9MCxpPTAscj0wO3I8MjU2O3IrKyl7dmFyIG49aV5pPDwxXmk8PDJeaTw8M15pPDw0O249bj4+PjheMjU1Jm5eOTksb1tlXT1uLHNbbl09ZTt2YXIgcD10W2VdLF89dFtwXSx5PXRbX10sZz0yNTcqdFtuXV4xNjg0MzAwOCpuO2FbZV09Zzw8MjR8Zz4+PjgsY1tlXT1nPDwxNnxnPj4+MTYsaFtlXT1nPDw4fGc+Pj4yNCxsW2VdPWc7dmFyIGc9MTY4NDMwMDkqeV42NTUzNypfXjI1NypwXjE2ODQzMDA4KmU7ZltuXT1nPDwyNHxnPj4+OCx1W25dPWc8PDE2fGc+Pj4xNixkW25dPWc8PDh8Zz4+PjI0LHZbbl09ZyxlPyhlPXBedFt0W3RbeV5wXV1dLGlePXRbdFtpXV0pOmU9aT0xfX0oKTt2YXIgcD1bMCwxLDIsNCw4LDE2LDMyLDY0LDEyOCwyNyw1NF0sXz1uLkFFUz1pLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fblJvdW5kc3x8dGhpcy5fa2V5UHJpb3JSZXNldCE9PXRoaXMuX2tleSl7Zm9yKHZhciB0PXRoaXMuX2tleVByaW9yUmVzZXQ9dGhpcy5fa2V5LHI9dC53b3JkcyxlPXQuc2lnQnl0ZXMvNCxpPXRoaXMuX25Sb3VuZHM9ZSs2LG49NCooaSsxKSxzPXRoaXMuX2tleVNjaGVkdWxlPVtdLGE9MDthPG47YSsrKWlmKGE8ZSlzW2FdPXJbYV07ZWxzZXt2YXIgYz1zW2EtMV07YSVlP2U+NiYmYSVlPT00JiYoYz1vW2M+Pj4yNF08PDI0fG9bYz4+PjE2JjI1NV08PDE2fG9bYz4+PjgmMjU1XTw8OHxvWzI1NSZjXSk6KGM9Yzw8OHxjPj4+MjQsYz1vW2M+Pj4yNF08PDI0fG9bYz4+PjE2JjI1NV08PDE2fG9bYz4+PjgmMjU1XTw8OHxvWzI1NSZjXSxjXj1wW2EvZXwwXTw8MjQpLHNbYV09c1thLWVdXmN9Zm9yKHZhciBoPXRoaXMuX2ludktleVNjaGVkdWxlPVtdLGw9MDtsPG47bCsrKXt2YXIgYT1uLWw7aWYobCU0KXZhciBjPXNbYV07ZWxzZSB2YXIgYz1zW2EtNF07bDw0fHxhPD00P2hbbF09YzpoW2xdPWZbb1tjPj4+MjRdXV51W29bYz4+PjE2JjI1NV1dXmRbb1tjPj4+OCYyNTVdXV52W29bMjU1JmNdXX19fSxlbmNyeXB0QmxvY2s6ZnVuY3Rpb24odCxyKXt0aGlzLl9kb0NyeXB0QmxvY2sodCxyLHRoaXMuX2tleVNjaGVkdWxlLGEsYyxoLGwsbyl9LGRlY3J5cHRCbG9jazpmdW5jdGlvbih0LHIpe3ZhciBlPXRbcisxXTt0W3IrMV09dFtyKzNdLHRbciszXT1lLHRoaXMuX2RvQ3J5cHRCbG9jayh0LHIsdGhpcy5faW52S2V5U2NoZWR1bGUsZix1LGQsdixzKTt2YXIgZT10W3IrMV07dFtyKzFdPXRbciszXSx0W3IrM109ZX0sX2RvQ3J5cHRCbG9jazpmdW5jdGlvbih0LHIsZSxpLG4sbyxzLGEpe2Zvcih2YXIgYz10aGlzLl9uUm91bmRzLGg9dFtyXV5lWzBdLGw9dFtyKzFdXmVbMV0sZj10W3IrMl1eZVsyXSx1PXRbciszXV5lWzNdLGQ9NCx2PTE7djxjO3YrKyl7dmFyIHA9aVtoPj4+MjRdXm5bbD4+PjE2JjI1NV1eb1tmPj4+OCYyNTVdXnNbMjU1JnVdXmVbZCsrXSxfPWlbbD4+PjI0XV5uW2Y+Pj4xNiYyNTVdXm9bdT4+PjgmMjU1XV5zWzI1NSZoXV5lW2QrK10seT1pW2Y+Pj4yNF1eblt1Pj4+MTYmMjU1XV5vW2g+Pj44JjI1NV1ec1syNTUmbF1eZVtkKytdLGc9aVt1Pj4+MjRdXm5baD4+PjE2JjI1NV1eb1tsPj4+OCYyNTVdXnNbMjU1JmZdXmVbZCsrXTtoPXAsbD1fLGY9eSx1PWd9dmFyIHA9KGFbaD4+PjI0XTw8MjR8YVtsPj4+MTYmMjU1XTw8MTZ8YVtmPj4+OCYyNTVdPDw4fGFbMjU1JnVdKV5lW2QrK10sXz0oYVtsPj4+MjRdPDwyNHxhW2Y+Pj4xNiYyNTVdPDwxNnxhW3U+Pj44JjI1NV08PDh8YVsyNTUmaF0pXmVbZCsrXSx5PShhW2Y+Pj4yNF08PDI0fGFbdT4+PjE2JjI1NV08PDE2fGFbaD4+PjgmMjU1XTw8OHxhWzI1NSZsXSleZVtkKytdLGc9KGFbdT4+PjI0XTw8MjR8YVtoPj4+MTYmMjU1XTw8MTZ8YVtsPj4+OCYyNTVdPDw4fGFbMjU1JmZdKV5lW2QrK107dFtyXT1wLHRbcisxXT1fLHRbcisyXT15LHRbciszXT1nfSxrZXlTaXplOjh9KTtyLkFFUz1pLl9jcmVhdGVIZWxwZXIoXyl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiByKHQscil7dmFyIGU9KHRoaXMuX2xCbG9jaz4+PnRedGhpcy5fckJsb2NrKSZyO3RoaXMuX3JCbG9ja149ZSx0aGlzLl9sQmxvY2tePWU8PHR9ZnVuY3Rpb24gZSh0LHIpe3ZhciBlPSh0aGlzLl9yQmxvY2s+Pj50XnRoaXMuX2xCbG9jaykmcjt0aGlzLl9sQmxvY2tePWUsdGhpcy5fckJsb2NrXj1lPDx0Owp9dmFyIGk9dCxuPWkubGliLG89bi5Xb3JkQXJyYXkscz1uLkJsb2NrQ2lwaGVyLGE9aS5hbGdvLGM9WzU3LDQ5LDQxLDMzLDI1LDE3LDksMSw1OCw1MCw0MiwzNCwyNiwxOCwxMCwyLDU5LDUxLDQzLDM1LDI3LDE5LDExLDMsNjAsNTIsNDQsMzYsNjMsNTUsNDcsMzksMzEsMjMsMTUsNyw2Miw1NCw0NiwzOCwzMCwyMiwxNCw2LDYxLDUzLDQ1LDM3LDI5LDIxLDEzLDUsMjgsMjAsMTIsNF0saD1bMTQsMTcsMTEsMjQsMSw1LDMsMjgsMTUsNiwyMSwxMCwyMywxOSwxMiw0LDI2LDgsMTYsNywyNywyMCwxMywyLDQxLDUyLDMxLDM3LDQ3LDU1LDMwLDQwLDUxLDQ1LDMzLDQ4LDQ0LDQ5LDM5LDU2LDM0LDUzLDQ2LDQyLDUwLDM2LDI5LDMyXSxsPVsxLDIsNCw2LDgsMTAsMTIsMTQsMTUsMTcsMTksMjEsMjMsMjUsMjcsMjhdLGY9W3swOjg0MjE4ODgsMjY4NDM1NDU2OjMyNzY4LDUzNjg3MDkxMjo4NDIxMzc4LDgwNTMwNjM2ODoyLDEwNzM3NDE4MjQ6NTEyLDEzNDIxNzcyODA6ODQyMTg5MCwxNjEwNjEyNzM2OjgzODkxMjIsMTg3OTA0ODE5Mjo4Mzg4NjA4LDIxNDc0ODM2NDg6NTE0LDI0MTU5MTkxMDQ6ODM4OTEyMCwyNjg0MzU0NTYwOjMzMjgwLDI5NTI3OTAwMTY6ODQyMTM3NiwzMjIxMjI1NDcyOjMyNzcwLDM0ODk2NjA5Mjg6ODM4ODYxMCwzNzU4MDk2Mzg0OjAsNDAyNjUzMTg0MDozMzI4MiwxMzQyMTc3Mjg6MCw0MDI2NTMxODQ6ODQyMTg5MCw2NzEwODg2NDA6MzMyODIsOTM5NTI0MDk2OjMyNzY4LDEyMDc5NTk1NTI6ODQyMTg4OCwxNDc2Mzk1MDA4OjUxMiwxNzQ0ODMwNDY0Ojg0MjEzNzgsMjAxMzI2NTkyMDoyLDIyODE3MDEzNzY6ODM4OTEyMCwyNTUwMTM2ODMyOjMzMjgwLDI4MTg1NzIyODg6ODQyMTM3NiwzMDg3MDA3NzQ0OjgzODkxMjIsMzM1NTQ0MzIwMDo4Mzg4NjEwLDM2MjM4Nzg2NTY6MzI3NzAsMzg5MjMxNDExMjo1MTQsNDE2MDc0OTU2ODo4Mzg4NjA4LDE6MzI3NjgsMjY4NDM1NDU3OjIsNTM2ODcwOTEzOjg0MjE4ODgsODA1MzA2MzY5OjgzODg2MDgsMTA3Mzc0MTgyNTo4NDIxMzc4LDEzNDIxNzcyODE6MzMyODAsMTYxMDYxMjczNzo1MTIsMTg3OTA0ODE5Mzo4Mzg5MTIyLDIxNDc0ODM2NDk6ODQyMTg5MCwyNDE1OTE5MTA1Ojg0MjEzNzYsMjY4NDM1NDU2MTo4Mzg4NjEwLDI5NTI3OTAwMTc6MzMyODIsMzIyMTIyNTQ3Mzo1MTQsMzQ4OTY2MDkyOTo4Mzg5MTIwLDM3NTgwOTYzODU6MzI3NzAsNDAyNjUzMTg0MTowLDEzNDIxNzcyOTo4NDIxODkwLDQwMjY1MzE4NTo4NDIxMzc2LDY3MTA4ODY0MTo4Mzg4NjA4LDkzOTUyNDA5Nzo1MTIsMTIwNzk1OTU1MzozMjc2OCwxNDc2Mzk1MDA5OjgzODg2MTAsMTc0NDgzMDQ2NToyLDIwMTMyNjU5MjE6MzMyODIsMjI4MTcwMTM3NzozMjc3MCwyNTUwMTM2ODMzOjgzODkxMjIsMjgxODU3MjI4OTo1MTQsMzA4NzAwNzc0NTo4NDIxODg4LDMzNTU0NDMyMDE6ODM4OTEyMCwzNjIzODc4NjU3OjAsMzg5MjMxNDExMzozMzI4MCw0MTYwNzQ5NTY5Ojg0MjEzNzh9LHswOjEwNzQyODI1MTIsMTY3NzcyMTY6MTYzODQsMzM1NTQ0MzI6NTI0Mjg4LDUwMzMxNjQ4OjEwNzQyNjYxMjgsNjcxMDg4NjQ6MTA3Mzc0MTg0MCw4Mzg4NjA4MDoxMDc0MjgyNDk2LDEwMDY2MzI5NjoxMDczNzU4MjA4LDExNzQ0MDUxMjoxNiwxMzQyMTc3Mjg6NTQwNjcyLDE1MDk5NDk0NDoxMDczNzU4MjI0LDE2Nzc3MjE2MDoxMDczNzQxODI0LDE4NDU0OTM3Njo1NDA2ODgsMjAxMzI2NTkyOjUyNDMwNCwyMTgxMDM4MDg6MCwyMzQ4ODEwMjQ6MTY0MDAsMjUxNjU4MjQwOjEwNzQyNjYxMTIsODM4ODYwODoxMDczNzU4MjA4LDI1MTY1ODI0OjU0MDY4OCw0MTk0MzA0MDoxNiw1ODcyMDI1NjoxMDczNzU4MjI0LDc1NDk3NDcyOjEwNzQyODI1MTIsOTIyNzQ2ODg6MTA3Mzc0MTgyNCwxMDkwNTE5MDQ6NTI0Mjg4LDEyNTgyOTEyMDoxMDc0MjY2MTI4LDE0MjYwNjMzNjo1MjQzMDQsMTU5MzgzNTUyOjAsMTc2MTYwNzY4OjE2Mzg0LDE5MjkzNzk4NDoxMDc0MjY2MTEyLDIwOTcxNTIwMDoxMDczNzQxODQwLDIyNjQ5MjQxNjo1NDA2NzIsMjQzMjY5NjMyOjEwNzQyODI0OTYsMjYwMDQ2ODQ4OjE2NDAwLDI2ODQzNTQ1NjowLDI4NTIxMjY3MjoxMDc0MjY2MTI4LDMwMTk4OTg4ODoxMDczNzU4MjI0LDMxODc2NzEwNDoxMDc0MjgyNDk2LDMzNTU0NDMyMDoxMDc0MjY2MTEyLDM1MjMyMTUzNjoxNiwzNjkwOTg3NTI6NTQwNjg4LDM4NTg3NTk2ODoxNjM4NCw0MDI2NTMxODQ6MTY0MDAsNDE5NDMwNDAwOjUyNDI4OCw0MzYyMDc2MTY6NTI0MzA0LDQ1Mjk4NDgzMjoxMDczNzQxODQwLDQ2OTc2MjA0ODo1NDA2NzIsNDg2NTM5MjY0OjEwNzM3NTgyMDgsNTAzMzE2NDgwOjEwNzM3NDE4MjQsNTIwMDkzNjk2OjEwNzQyODI1MTIsMjc2ODI0MDY0OjU0MDY4OCwyOTM2MDEyODA6NTI0Mjg4LDMxMDM3ODQ5NjoxMDc0MjY2MTEyLDMyNzE1NTcxMjoxNjM4NCwzNDM5MzI5Mjg6MTA3Mzc1ODIwOCwzNjA3MTAxNDQ6MTA3NDI4MjUxMiwzNzc0ODczNjA6MTYsMzk0MjY0NTc2OjEwNzM3NDE4MjQsNDExMDQxNzkyOjEwNzQyODI0OTYsNDI3ODE5MDA4OjEwNzM3NDE4NDAsNDQ0NTk2MjI0OjEwNzM3NTgyMjQsNDYxMzczNDQwOjUyNDMwNCw0NzgxNTA2NTY6MCw0OTQ5Mjc4NzI6MTY0MDAsNTExNzA1MDg4OjEwNzQyNjYxMjgsNTI4NDgyMzA0OjU0MDY3Mn0sezA6MjYwLDEwNDg1NzY6MCwyMDk3MTUyOjY3MTA5MTIwLDMxNDU3Mjg6NjU3OTYsNDE5NDMwNDo2NTU0MCw1MjQyODgwOjY3MTA4ODY4LDYyOTE0NTY6NjcxNzQ2NjAsNzM0MDAzMjo2NzE3NDQwMCw4Mzg4NjA4OjY3MTA4ODY0LDk0MzcxODQ6NjcxNzQ2NTYsMTA0ODU3NjA6NjU3OTIsMTE1MzQzMzY6NjcxNzQ0MDQsMTI1ODI5MTI6NjcxMDkxMjQsMTM2MzE0ODg6NjU1MzYsMTQ2ODAwNjQ6NCwxNTcyODY0MDoyNTYsNTI0Mjg4OjY3MTc0NjU2LDE1NzI4NjQ6NjcxNzQ0MDQsMjYyMTQ0MDowLDM2NzAwMTY6NjcxMDkxMjAsNDcxODU5Mjo2NzEwODg2OCw1NzY3MTY4OjY1NTM2LDY4MTU3NDQ6NjU1NDAsNzg2NDMyMDoyNjAsODkxMjg5Njo0LDk5NjE0NzI6MjU2LDExMDEwMDQ4OjY3MTc0NDAwLDEyMDU4NjI0OjY1Nzk2LDEzMTA3MjAwOjY1NzkyLDE0MTU1Nzc2OjY3MTA5MTI0LDE1MjA0MzUyOjY3MTc0NjYwLDE2MjUyOTI4OjY3MTA4ODY0LDE2Nzc3MjE2OjY3MTc0NjU2LDE3ODI1NzkyOjY1NTQwLDE4ODc0MzY4OjY1NTM2LDE5OTIyOTQ0OjY3MTA5MTIwLDIwOTcxNTIwOjI1NiwyMjAyMDA5Njo2NzE3NDY2MCwyMzA2ODY3Mjo2NzEwODg2OCwyNDExNzI0ODowLDI1MTY1ODI0OjY3MTA5MTI0LDI2MjE0NDAwOjY3MTA4ODY0LDI3MjYyOTc2OjQsMjgzMTE1NTI6NjU3OTIsMjkzNjAxMjg6NjcxNzQ0MDAsMzA0MDg3MDQ6MjYwLDMxNDU3MjgwOjY1Nzk2LDMyNTA1ODU2OjY3MTc0NDA0LDE3MzAxNTA0OjY3MTA4ODY0LDE4MzUwMDgwOjI2MCwxOTM5ODY1Njo2NzE3NDY1NiwyMDQ0NzIzMjowLDIxNDk1ODA4OjY1NTQwLDIyNTQ0Mzg0OjY3MTA5MTIwLDIzNTkyOTYwOjI1NiwyNDY0MTUzNjo2NzE3NDQwNCwyNTY5MDExMjo2NTUzNiwyNjczODY4ODo2NzE3NDY2MCwyNzc4NzI2NDo2NTc5NiwyODgzNTg0MDo2NzEwODg2OCwyOTg4NDQxNjo2NzEwOTEyNCwzMDkzMjk5Mjo2NzE3NDQwMCwzMTk4MTU2ODo0LDMzMDMwMTQ0OjY1NzkyfSx7MDoyMTUxNjgyMDQ4LDY1NTM2OjIxNDc0ODc4MDgsMTMxMDcyOjQxOTg0NjQsMTk2NjA4OjIxNTE2Nzc5NTIsMjYyMTQ0OjAsMzI3NjgwOjQxOTg0MDAsMzkzMjE2OjIxNDc0ODM3MTIsNDU4NzUyOjQxOTQzNjgsNTI0Mjg4OjIxNDc0ODM2NDgsNTg5ODI0OjQxOTQzMDQsNjU1MzYwOjY0LDcyMDg5NjoyMTQ3NDg3NzQ0LDc4NjQzMjoyMTUxNjc4MDE2LDg1MTk2ODo0MTYwLDkxNzUwNDo0MDk2LDk4MzA0MDoyMTUxNjgyMTEyLDMyNzY4OjIxNDc0ODc4MDgsOTgzMDQ6NjQsMTYzODQwOjIxNTE2NzgwMTYsMjI5Mzc2OjIxNDc0ODc3NDQsMjk0OTEyOjQxOTg0MDAsMzYwNDQ4OjIxNTE2ODIxMTIsNDI1OTg0OjAsNDkxNTIwOjIxNTE2Nzc5NTIsNTU3MDU2OjQwOTYsNjIyNTkyOjIxNTE2ODIwNDgsNjg4MTI4OjQxOTQzMDQsNzUzNjY0OjQxNjAsODE5MjAwOjIxNDc0ODM2NDgsODg0NzM2OjQxOTQzNjgsOTUwMjcyOjQxOTg0NjQsMTAxNTgwODoyMTQ3NDgzNzEyLDEwNDg1NzY6NDE5NDM2OCwxMTE0MTEyOjQxOTg0MDAsMTE3OTY0ODoyMTQ3NDgzNzEyLDEyNDUxODQ6MCwxMzEwNzIwOjQxNjAsMTM3NjI1NjoyMTUxNjc4MDE2LDE0NDE3OTI6MjE1MTY4MjA0OCwxNTA3MzI4OjIxNDc0ODc4MDgsMTU3Mjg2NDoyMTUxNjgyMTEyLDE2Mzg0MDA6MjE0NzQ4MzY0OCwxNzAzOTM2OjIxNTE2Nzc5NTIsMTc2OTQ3Mjo0MTk4NDY0LDE4MzUwMDg6MjE0NzQ4Nzc0NCwxOTAwNTQ0OjQxOTQzMDQsMTk2NjA4MDo2NCwyMDMxNjE2OjQwOTYsMTA4MTM0NDoyMTUxNjc3OTUyLDExNDY4ODA6MjE1MTY4MjExMiwxMjEyNDE2OjAsMTI3Nzk1Mjo0MTk4NDAwLDEzNDM0ODg6NDE5NDM2OCwxNDA5MDI0OjIxNDc0ODM2NDgsMTQ3NDU2MDoyMTQ3NDg3ODA4LDE1NDAwOTY6NjQsMTYwNTYzMjoyMTQ3NDgzNzEyLDE2NzExNjg6NDA5NiwxNzM2NzA0OjIxNDc0ODc3NDQsMTgwMjI0MDoyMTUxNjc4MDE2LDE4Njc3NzY6NDE2MCwxOTMzMzEyOjIxNTE2ODIwNDgsMTk5ODg0ODo0MTk0MzA0LDIwNjQzODQ6NDE5ODQ2NH0sezA6MTI4LDQwOTY6MTcwMzkzNjAsODE5MjoyNjIxNDQsMTIyODg6NTM2ODcwOTEyLDE2Mzg0OjUzNzEzMzE4NCwyMDQ4MDoxNjc3NzM0NCwyNDU3Njo1NTM2NDgyNTYsMjg2NzI6MjYyMjcyLDMyNzY4OjE2Nzc3MjE2LDM2ODY0OjUzNzEzMzA1Niw0MDk2MDo1MzY4NzEwNDAsNDUwNTY6NTUzOTEwNDAwLDQ5MTUyOjU1MzkxMDI3Miw1MzI0ODowLDU3MzQ0OjE3MDM5NDg4LDYxNDQwOjU1MzY0ODEyOCwyMDQ4OjE3MDM5NDg4LDYxNDQ6NTUzNjQ4MjU2LDEwMjQwOjEyOCwxNDMzNjoxNzAzOTM2MCwxODQzMjoyNjIxNDQsMjI1Mjg6NTM3MTMzMTg0LDI2NjI0OjU1MzkxMDI3MiwzMDcyMDo1MzY4NzA5MTIsMzQ4MTY6NTM3MTMzMDU2LDM4OTEyOjAsNDMwMDg6NTUzOTEwNDAwLDQ3MTA0OjE2Nzc3MzQ0LDUxMjAwOjUzNjg3MTA0MCw1NTI5Njo1NTM2NDgxMjgsNTkzOTI6MTY3NzcyMTYsNjM0ODg6MjYyMjcyLDY1NTM2OjI2MjE0NCw2OTYzMjoxMjgsNzM3Mjg6NTM2ODcwOTEyLDc3ODI0OjU1MzY0ODI1Niw4MTkyMDoxNjc3NzM0NCw4NjAxNjo1NTM5MTAyNzIsOTAxMTI6NTM3MTMzMTg0LDk0MjA4OjE2Nzc3MjE2LDk4MzA0OjU1MzkxMDQwMCwxMDI0MDA6NTUzNjQ4MTI4LDEwNjQ5NjoxNzAzOTM2MCwxMTA1OTI6NTM3MTMzMDU2LDExNDY4ODoyNjIyNzIsMTE4Nzg0OjUzNjg3MTA0MCwxMjI4ODA6MCwxMjY5NzY6MTcwMzk0ODgsNjc1ODQ6NTUzNjQ4MjU2LDcxNjgwOjE2Nzc3MjE2LDc1Nzc2OjE3MDM5MzYwLDc5ODcyOjUzNzEzMzE4NCw4Mzk2ODo1MzY4NzA5MTIsODgwNjQ6MTcwMzk0ODgsOTIxNjA6MTI4LDk2MjU2OjU1MzkxMDI3MiwxMDAzNTI6MjYyMjcyLDEwNDQ0ODo1NTM5MTA0MDAsMTA4NTQ0OjAsMTEyNjQwOjU1MzY0ODEyOCwxMTY3MzY6MTY3NzczNDQsMTIwODMyOjI2MjE0NCwxMjQ5Mjg6NTM3MTMzMDU2LDEyOTAyNDo1MzY4NzEwNDB9LHswOjI2ODQzNTQ2NCwyNTY6ODE5Miw1MTI6MjcwNTMyNjA4LDc2ODoyNzA1NDA4MDgsMTAyNDoyNjg0NDM2NDgsMTI4MDoyMDk3MTUyLDE1MzY6MjA5NzE2MCwxNzkyOjI2ODQzNTQ1NiwyMDQ4OjAsMjMwNDoyNjg0NDM2NTYsMjU2MDoyMTA1MzQ0LDI4MTY6OCwzMDcyOjI3MDUzMjYxNiwzMzI4OjIxMDUzNTIsMzU4NDo4MjAwLDM4NDA6MjcwNTQwODAwLDEyODoyNzA1MzI2MDgsMzg0OjI3MDU0MDgwOCw2NDA6OCw4OTY6MjA5NzE1MiwxMTUyOjIxMDUzNTIsMTQwODoyNjg0MzU0NjQsMTY2NDoyNjg0NDM2NDgsMTkyMDo4MjAwLDIxNzY6MjA5NzE2MCwyNDMyOjgxOTIsMjY4ODoyNjg0NDM2NTYsMjk0NDoyNzA1MzI2MTYsMzIwMDowLDM0NTY6MjcwNTQwODAwLDM3MTI6MjEwNTM0NCwzOTY4OjI2ODQzNTQ1Niw0MDk2OjI2ODQ0MzY0OCw0MzUyOjI3MDUzMjYxNiw0NjA4OjI3MDU0MDgwOCw0ODY0OjgyMDAsNTEyMDoyMDk3MTUyLDUzNzY6MjY4NDM1NDU2LDU2MzI6MjY4NDM1NDY0LDU4ODg6MjEwNTM0NCw2MTQ0OjIxMDUzNTIsNjQwMDowLDY2NTY6OCw2OTEyOjI3MDUzMjYwOCw3MTY4OjgxOTIsNzQyNDoyNjg0NDM2NTYsNzY4MDoyNzA1NDA4MDAsNzkzNjoyMDk3MTYwLDQyMjQ6OCw0NDgwOjIxMDUzNDQsNDczNjoyMDk3MTUyLDQ5OTI6MjY4NDM1NDY0LDUyNDg6MjY4NDQzNjQ4LDU1MDQ6ODIwMCw1NzYwOjI3MDU0MDgwOCw2MDE2OjI3MDUzMjYwOCw2MjcyOjI3MDU0MDgwMCw2NTI4OjI3MDUzMjYxNiw2Nzg0OjgxOTIsNzA0MDoyMTA1MzUyLDcyOTY6MjA5NzE2MCw3NTUyOjAsNzgwODoyNjg0MzU0NTYsODA2NDoyNjg0NDM2NTZ9LHswOjEwNDg1NzYsMTY6MzM1NTU0NTcsMzI6MTAyNCw0ODoxMDQ5NjAxLDY0OjM0NjA0MDMzLDgwOjAsOTY6MSwxMTI6MzQ2MDMwMDksMTI4OjMzNTU1NDU2LDE0NDoxMDQ4NTc3LDE2MDozMzU1NDQzMywxNzY6MzQ2MDQwMzIsMTkyOjM0NjAzMDA4LDIwODoxMDI1LDIyNDoxMDQ5NjAwLDI0MDozMzU1NDQzMiw4OjM0NjAzMDA5LDI0OjAsNDA6MzM1NTU0NTcsNTY6MzQ2MDQwMzIsNzI6MTA0ODU3Niw4ODozMzU1NDQzMywxMDQ6MzM1NTQ0MzIsMTIwOjEwMjUsMTM2OjEwNDk2MDEsMTUyOjMzNTU1NDU2LDE2ODozNDYwMzAwOCwxODQ6MTA0ODU3NywyMDA6MTAyNCwyMTY6MzQ2MDQwMzMsMjMyOjEsMjQ4OjEwNDk2MDAsMjU2OjMzNTU0NDMyLDI3MjoxMDQ4NTc2LDI4ODozMzU1NTQ1NywzMDQ6MzQ2MDMwMDksMzIwOjEwNDg1NzcsMzM2OjMzNTU1NDU2LDM1MjozNDYwNDAzMiwzNjg6MTA0OTYwMSwzODQ6MTAyNSw0MDA6MzQ2MDQwMzMsNDE2OjEwNDk2MDAsNDMyOjEsNDQ4OjAsNDY0OjM0NjAzMDA4LDQ4MDozMzU1NDQzMyw0OTY6MTAyNCwyNjQ6MTA0OTYwMCwyODA6MzM1NTU0NTcsMjk2OjM0NjAzMDA5LDMxMjoxLDMyODozMzU1NDQzMiwzNDQ6MTA0ODU3NiwzNjA6MTAyNSwzNzY6MzQ2MDQwMzIsMzkyOjMzNTU0NDMzLDQwODozNDYwMzAwOCw0MjQ6MCw0NDA6MzQ2MDQwMzMsNDU2OjEwNDk2MDEsNDcyOjEwMjQsNDg4OjMzNTU1NDU2LDUwNDoxMDQ4NTc3fSx7MDoxMzQyMTk4MDgsMToxMzEwNzIsMjoxMzQyMTc3MjgsMzozMiw0OjEzMTEwNCw1OjEzNDM1MDg4MCw2OjEzNDM1MDg0OCw3OjIwNDgsODoxMzQzNDg4MDAsOToxMzQyMTk3NzYsMTA6MTMzMTIwLDExOjEzNDM0ODgzMiwxMjoyMDgwLDEzOjAsMTQ6MTM0MjE3NzYwLDE1OjEzMzE1MiwyMTQ3NDgzNjQ4OjIwNDgsMjE0NzQ4MzY0OToxMzQzNTA4ODAsMjE0NzQ4MzY1MDoxMzQyMTk4MDgsMjE0NzQ4MzY1MToxMzQyMTc3MjgsMjE0NzQ4MzY1MjoxMzQzNDg4MDAsMjE0NzQ4MzY1MzoxMzMxMjAsMjE0NzQ4MzY1NDoxMzMxNTIsMjE0NzQ4MzY1NTozMiwyMTQ3NDgzNjU2OjEzNDIxNzc2MCwyMTQ3NDgzNjU3OjIwODAsMjE0NzQ4MzY1ODoxMzExMDQsMjE0NzQ4MzY1OToxMzQzNTA4NDgsMjE0NzQ4MzY2MDowLDIxNDc0ODM2NjE6MTM0MzQ4ODMyLDIxNDc0ODM2NjI6MTM0MjE5Nzc2LDIxNDc0ODM2NjM6MTMxMDcyLDE2OjEzMzE1MiwxNzoxMzQzNTA4NDgsMTg6MzIsMTk6MjA0OCwyMDoxMzQyMTk3NzYsMjE6MTM0MjE3NzYwLDIyOjEzNDM0ODgzMiwyMzoxMzEwNzIsMjQ6MCwyNToxMzExMDQsMjY6MTM0MzQ4ODAwLDI3OjEzNDIxOTgwOCwyODoxMzQzNTA4ODAsMjk6MTMzMTIwLDMwOjIwODAsMzE6MTM0MjE3NzI4LDIxNDc0ODM2NjQ6MTMxMDcyLDIxNDc0ODM2NjU6MjA0OCwyMTQ3NDgzNjY2OjEzNDM0ODgzMiwyMTQ3NDgzNjY3OjEzMzE1MiwyMTQ3NDgzNjY4OjMyLDIxNDc0ODM2Njk6MTM0MzQ4ODAwLDIxNDc0ODM2NzA6MTM0MjE3NzI4LDIxNDc0ODM2NzE6MTM0MjE5ODA4LDIxNDc0ODM2NzI6MTM0MzUwODgwLDIxNDc0ODM2NzM6MTM0MjE3NzYwLDIxNDc0ODM2NzQ6MTM0MjE5Nzc2LDIxNDc0ODM2NzU6MCwyMTQ3NDgzNjc2OjEzMzEyMCwyMTQ3NDgzNjc3OjIwODAsMjE0NzQ4MzY3ODoxMzExMDQsMjE0NzQ4MzY3OToxMzQzNTA4NDh9XSx1PVs0MTYwNzQ5NTY5LDUyODQ4MjMwNCwzMzAzMDE0NCwyMDY0Mzg0LDEyOTAyNCw4MDY0LDUwNCwyMTQ3NDgzNjc5XSxkPWEuREVTPXMuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9rZXkscj10LndvcmRzLGU9W10saT0wO2k8NTY7aSsrKXt2YXIgbj1jW2ldLTE7ZVtpXT1yW24+Pj41XT4+PjMxLW4lMzImMX1mb3IodmFyIG89dGhpcy5fc3ViS2V5cz1bXSxzPTA7czwxNjtzKyspe2Zvcih2YXIgYT1vW3NdPVtdLGY9bFtzXSxpPTA7aTwyNDtpKyspYVtpLzZ8MF18PWVbKGhbaV0tMStmKSUyOF08PDMxLWklNixhWzQrKGkvNnwwKV18PWVbMjgrKGhbaSsyNF0tMStmKSUyOF08PDMxLWklNjthWzBdPWFbMF08PDF8YVswXT4+PjMxO2Zvcih2YXIgaT0xO2k8NztpKyspYVtpXT1hW2ldPj4+NCooaS0xKSszO2FbN109YVs3XTw8NXxhWzddPj4+Mjd9Zm9yKHZhciB1PXRoaXMuX2ludlN1YktleXM9W10saT0wO2k8MTY7aSsrKXVbaV09b1sxNS1pXX0sZW5jcnlwdEJsb2NrOmZ1bmN0aW9uKHQscil7dGhpcy5fZG9DcnlwdEJsb2NrKHQscix0aGlzLl9zdWJLZXlzKX0sZGVjcnlwdEJsb2NrOmZ1bmN0aW9uKHQscil7dGhpcy5fZG9DcnlwdEJsb2NrKHQscix0aGlzLl9pbnZTdWJLZXlzKX0sX2RvQ3J5cHRCbG9jazpmdW5jdGlvbih0LGksbil7dGhpcy5fbEJsb2NrPXRbaV0sdGhpcy5fckJsb2NrPXRbaSsxXSxyLmNhbGwodGhpcyw0LDI1MjY0NTEzNSksci5jYWxsKHRoaXMsMTYsNjU1MzUpLGUuY2FsbCh0aGlzLDIsODU4OTkzNDU5KSxlLmNhbGwodGhpcyw4LDE2NzExOTM1KSxyLmNhbGwodGhpcywxLDE0MzE2NTU3NjUpO2Zvcih2YXIgbz0wO288MTY7bysrKXtmb3IodmFyIHM9bltvXSxhPXRoaXMuX2xCbG9jayxjPXRoaXMuX3JCbG9jayxoPTAsbD0wO2w8ODtsKyspaHw9ZltsXVsoKGNec1tsXSkmdVtsXSk+Pj4wXTt0aGlzLl9sQmxvY2s9Yyx0aGlzLl9yQmxvY2s9YV5ofXZhciBkPXRoaXMuX2xCbG9jazt0aGlzLl9sQmxvY2s9dGhpcy5fckJsb2NrLHRoaXMuX3JCbG9jaz1kLHIuY2FsbCh0aGlzLDEsMTQzMTY1NTc2NSksZS5jYWxsKHRoaXMsOCwxNjcxMTkzNSksZS5jYWxsKHRoaXMsMiw4NTg5OTM0NTkpLHIuY2FsbCh0aGlzLDE2LDY1NTM1KSxyLmNhbGwodGhpcyw0LDI1MjY0NTEzNSksdFtpXT10aGlzLl9sQmxvY2ssdFtpKzFdPXRoaXMuX3JCbG9ja30sa2V5U2l6ZToyLGl2U2l6ZToyLGJsb2NrU2l6ZToyfSk7aS5ERVM9cy5fY3JlYXRlSGVscGVyKGQpO3ZhciB2PWEuVHJpcGxlREVTPXMuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2tleSxyPXQud29yZHM7dGhpcy5fZGVzMT1kLmNyZWF0ZUVuY3J5cHRvcihvLmNyZWF0ZShyLnNsaWNlKDAsMikpKSx0aGlzLl9kZXMyPWQuY3JlYXRlRW5jcnlwdG9yKG8uY3JlYXRlKHIuc2xpY2UoMiw0KSkpLHRoaXMuX2RlczM9ZC5jcmVhdGVFbmNyeXB0b3Ioby5jcmVhdGUoci5zbGljZSg0LDYpKSl9LGVuY3J5cHRCbG9jazpmdW5jdGlvbih0LHIpe3RoaXMuX2RlczEuZW5jcnlwdEJsb2NrKHQsciksdGhpcy5fZGVzMi5kZWNyeXB0QmxvY2sodCxyKSx0aGlzLl9kZXMzLmVuY3J5cHRCbG9jayh0LHIpfSxkZWNyeXB0QmxvY2s6ZnVuY3Rpb24odCxyKXt0aGlzLl9kZXMzLmRlY3J5cHRCbG9jayh0LHIpLHRoaXMuX2RlczIuZW5jcnlwdEJsb2NrKHQsciksdGhpcy5fZGVzMS5kZWNyeXB0QmxvY2sodCxyKX0sa2V5U2l6ZTo2LGl2U2l6ZToyLGJsb2NrU2l6ZToyfSk7aS5UcmlwbGVERVM9cy5fY3JlYXRlSGVscGVyKHYpfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcigpe2Zvcih2YXIgdD10aGlzLl9TLHI9dGhpcy5faSxlPXRoaXMuX2osaT0wLG49MDtuPDQ7bisrKXtyPShyKzEpJTI1NixlPShlK3Rbcl0pJTI1Njt2YXIgbz10W3JdO3Rbcl09dFtlXSx0W2VdPW8saXw9dFsodFtyXSt0W2VdKSUyNTZdPDwyNC04Km59cmV0dXJuIHRoaXMuX2k9cix0aGlzLl9qPWUsaX12YXIgZT10LGk9ZS5saWIsbj1pLlN0cmVhbUNpcGhlcixvPWUuYWxnbyxzPW8uUkM0PW4uZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9rZXkscj10LndvcmRzLGU9dC5zaWdCeXRlcyxpPXRoaXMuX1M9W10sbj0wO248MjU2O24rKylpW25dPW47Zm9yKHZhciBuPTAsbz0wO248MjU2O24rKyl7dmFyIHM9biVlLGE9cltzPj4+Ml0+Pj4yNC1zJTQqOCYyNTU7bz0obytpW25dK2EpJTI1Njt2YXIgYz1pW25dO2lbbl09aVtvXSxpW29dPWN9dGhpcy5faT10aGlzLl9qPTB9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LGUpe3RbZV1ePXIuY2FsbCh0aGlzKX0sa2V5U2l6ZTo4LGl2U2l6ZTowfSk7ZS5SQzQ9bi5fY3JlYXRlSGVscGVyKHMpO3ZhciBhPW8uUkM0RHJvcD1zLmV4dGVuZCh7Y2ZnOnMuY2ZnLmV4dGVuZCh7ZHJvcDoxOTJ9KSxfZG9SZXNldDpmdW5jdGlvbigpe3MuX2RvUmVzZXQuY2FsbCh0aGlzKTtmb3IodmFyIHQ9dGhpcy5jZmcuZHJvcDt0PjA7dC0tKXIuY2FsbCh0aGlzKX19KTtlLlJDNERyb3A9bi5fY3JlYXRlSGVscGVyKGEpfSgpLHQubW9kZS5DVFJHbGFkbWFuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcih0KXtpZigyNTU9PT0odD4+MjQmMjU1KSl7dmFyIHI9dD4+MTYmMjU1LGU9dD4+OCYyNTUsaT0yNTUmdDsyNTU9PT1yPyhyPTAsMjU1PT09ZT8oZT0wLDI1NT09PWk/aT0wOisraSk6KytlKTorK3IsdD0wLHQrPXI8PDE2LHQrPWU8PDgsdCs9aX1lbHNlIHQrPTE8PDI0O3JldHVybiB0fWZ1bmN0aW9uIGUodCl7cmV0dXJuIDA9PT0odFswXT1yKHRbMF0pKSYmKHRbMV09cih0WzFdKSksdH12YXIgaT10LmxpYi5CbG9ja0NpcGhlck1vZGUuZXh0ZW5kKCksbj1pLkVuY3J5cHRvcj1pLmV4dGVuZCh7cHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKHQscil7dmFyIGk9dGhpcy5fY2lwaGVyLG49aS5ibG9ja1NpemUsbz10aGlzLl9pdixzPXRoaXMuX2NvdW50ZXI7byYmKHM9dGhpcy5fY291bnRlcj1vLnNsaWNlKDApLHRoaXMuX2l2PXZvaWQgMCksZShzKTt2YXIgYT1zLnNsaWNlKDApO2kuZW5jcnlwdEJsb2NrKGEsMCk7Zm9yKHZhciBjPTA7YzxuO2MrKyl0W3IrY11ePWFbY119fSk7cmV0dXJuIGkuRGVjcnlwdG9yPW4saX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHIoKXtmb3IodmFyIHQ9dGhpcy5fWCxyPXRoaXMuX0MsZT0wO2U8ODtlKyspYVtlXT1yW2VdO3JbMF09clswXSsxMjk1MzA3NTk3K3RoaXMuX2J8MCxyWzFdPXJbMV0rMzU0NTA1MjM3MSsoclswXT4+PjA8YVswXT4+PjA/MTowKXwwLHJbMl09clsyXSs4ODYyNjMwOTIrKHJbMV0+Pj4wPGFbMV0+Pj4wPzE6MCl8MCxyWzNdPXJbM10rMTI5NTMwNzU5NysoclsyXT4+PjA8YVsyXT4+PjA/MTowKXwwLHJbNF09cls0XSszNTQ1MDUyMzcxKyhyWzNdPj4+MDxhWzNdPj4+MD8xOjApfDAscls1XT1yWzVdKzg4NjI2MzA5Misocls0XT4+PjA8YVs0XT4+PjA/MTowKXwwLHJbNl09cls2XSsxMjk1MzA3NTk3KyhyWzVdPj4+MDxhWzVdPj4+MD8xOjApfDAscls3XT1yWzddKzM1NDUwNTIzNzErKHJbNl0+Pj4wPGFbNl0+Pj4wPzE6MCl8MCx0aGlzLl9iPXJbN10+Pj4wPGFbN10+Pj4wPzE6MDtmb3IodmFyIGU9MDtlPDg7ZSsrKXt2YXIgaT10W2VdK3JbZV0sbj02NTUzNSZpLG89aT4+PjE2LHM9KChuKm4+Pj4xNykrbipvPj4+MTUpK28qbyxoPSgoNDI5NDkwMTc2MCZpKSppfDApKygoNjU1MzUmaSkqaXwwKTtjW2VdPXNeaH10WzBdPWNbMF0rKGNbN108PDE2fGNbN10+Pj4xNikrKGNbNl08PDE2fGNbNl0+Pj4xNil8MCx0WzFdPWNbMV0rKGNbMF08PDh8Y1swXT4+PjI0KStjWzddfDAsdFsyXT1jWzJdKyhjWzFdPDwxNnxjWzFdPj4+MTYpKyhjWzBdPDwxNnxjWzBdPj4+MTYpfDAsdFszXT1jWzNdKyhjWzJdPDw4fGNbMl0+Pj4yNCkrY1sxXXwwLHRbNF09Y1s0XSsoY1szXTw8MTZ8Y1szXT4+PjE2KSsoY1syXTw8MTZ8Y1syXT4+PjE2KXwwLHRbNV09Y1s1XSsoY1s0XTw8OHxjWzRdPj4+MjQpK2NbM118MCx0WzZdPWNbNl0rKGNbNV08PDE2fGNbNV0+Pj4xNikrKGNbNF08PDE2fGNbNF0+Pj4xNil8MCx0WzddPWNbN10rKGNbNl08PDh8Y1s2XT4+PjI0KStjWzVdfDB9dmFyIGU9dCxpPWUubGliLG49aS5TdHJlYW1DaXBoZXIsbz1lLmFsZ28scz1bXSxhPVtdLGM9W10saD1vLlJhYmJpdD1uLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fa2V5LndvcmRzLGU9dGhpcy5jZmcuaXYsaT0wO2k8NDtpKyspdFtpXT0xNjcxMTkzNSYodFtpXTw8OHx0W2ldPj4+MjQpfDQyNzgyNTUzNjAmKHRbaV08PDI0fHRbaV0+Pj44KTt2YXIgbj10aGlzLl9YPVt0WzBdLHRbM108PDE2fHRbMl0+Pj4xNix0WzFdLHRbMF08PDE2fHRbM10+Pj4xNix0WzJdLHRbMV08PDE2fHRbMF0+Pj4xNix0WzNdLHRbMl08PDE2fHRbMV0+Pj4xNl0sbz10aGlzLl9DPVt0WzJdPDwxNnx0WzJdPj4+MTYsNDI5NDkwMTc2MCZ0WzBdfDY1NTM1JnRbMV0sdFszXTw8MTZ8dFszXT4+PjE2LDQyOTQ5MDE3NjAmdFsxXXw2NTUzNSZ0WzJdLHRbMF08PDE2fHRbMF0+Pj4xNiw0Mjk0OTAxNzYwJnRbMl18NjU1MzUmdFszXSx0WzFdPDwxNnx0WzFdPj4+MTYsNDI5NDkwMTc2MCZ0WzNdfDY1NTM1JnRbMF1dO3RoaXMuX2I9MDtmb3IodmFyIGk9MDtpPDQ7aSsrKXIuY2FsbCh0aGlzKTtmb3IodmFyIGk9MDtpPDg7aSsrKW9baV1ePW5baSs0JjddO2lmKGUpe3ZhciBzPWUud29yZHMsYT1zWzBdLGM9c1sxXSxoPTE2NzExOTM1JihhPDw4fGE+Pj4yNCl8NDI3ODI1NTM2MCYoYTw8MjR8YT4+PjgpLGw9MTY3MTE5MzUmKGM8PDh8Yz4+PjI0KXw0Mjc4MjU1MzYwJihjPDwyNHxjPj4+OCksZj1oPj4+MTZ8NDI5NDkwMTc2MCZsLHU9bDw8MTZ8NjU1MzUmaDtvWzBdXj1oLG9bMV1ePWYsb1syXV49bCxvWzNdXj11LG9bNF1ePWgsb1s1XV49ZixvWzZdXj1sLG9bN11ePXU7Zm9yKHZhciBpPTA7aTw0O2krKylyLmNhbGwodGhpcyl9fSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9YO3IuY2FsbCh0aGlzKSxzWzBdPWlbMF1eaVs1XT4+PjE2XmlbM108PDE2LHNbMV09aVsyXV5pWzddPj4+MTZeaVs1XTw8MTYsc1syXT1pWzRdXmlbMV0+Pj4xNl5pWzddPDwxNixzWzNdPWlbNl1eaVszXT4+PjE2XmlbMV08PDE2O2Zvcih2YXIgbj0wO248NDtuKyspc1tuXT0xNjcxMTkzNSYoc1tuXTw8OHxzW25dPj4+MjQpfDQyNzgyNTUzNjAmKHNbbl08PDI0fHNbbl0+Pj44KSx0W2Urbl1ePXNbbl19LGJsb2NrU2l6ZTo0LGl2U2l6ZToyfSk7ZS5SYWJiaXQ9bi5fY3JlYXRlSGVscGVyKGgpfSgpLHQubW9kZS5DVFI9ZnVuY3Rpb24oKXt2YXIgcj10LmxpYi5CbG9ja0NpcGhlck1vZGUuZXh0ZW5kKCksZT1yLkVuY3J5cHRvcj1yLmV4dGVuZCh7cHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKHQscil7dmFyIGU9dGhpcy5fY2lwaGVyLGk9ZS5ibG9ja1NpemUsbj10aGlzLl9pdixvPXRoaXMuX2NvdW50ZXI7biYmKG89dGhpcy5fY291bnRlcj1uLnNsaWNlKDApLHRoaXMuX2l2PXZvaWQgMCk7dmFyIHM9by5zbGljZSgwKTtlLmVuY3J5cHRCbG9jayhzLDApLG9baS0xXT1vW2ktMV0rMXwwO2Zvcih2YXIgYT0wO2E8aTthKyspdFtyK2FdXj1zW2FdfX0pO3JldHVybiByLkRlY3J5cHRvcj1lLHJ9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiByKCl7Zm9yKHZhciB0PXRoaXMuX1gscj10aGlzLl9DLGU9MDtlPDg7ZSsrKWFbZV09cltlXTtyWzBdPXJbMF0rMTI5NTMwNzU5Nyt0aGlzLl9ifDAsclsxXT1yWzFdKzM1NDUwNTIzNzErKHJbMF0+Pj4wPGFbMF0+Pj4wPzE6MCl8MCxyWzJdPXJbMl0rODg2MjYzMDkyKyhyWzFdPj4+MDxhWzFdPj4+MD8xOjApfDAsclszXT1yWzNdKzEyOTUzMDc1OTcrKHJbMl0+Pj4wPGFbMl0+Pj4wPzE6MCl8MCxyWzRdPXJbNF0rMzU0NTA1MjM3MSsoclszXT4+PjA8YVszXT4+PjA/MTowKXwwLHJbNV09cls1XSs4ODYyNjMwOTIrKHJbNF0+Pj4wPGFbNF0+Pj4wPzE6MCl8MCxyWzZdPXJbNl0rMTI5NTMwNzU5Nysocls1XT4+PjA8YVs1XT4+PjA/MTowKXwwLHJbN109cls3XSszNTQ1MDUyMzcxKyhyWzZdPj4+MDxhWzZdPj4+MD8xOjApfDAsdGhpcy5fYj1yWzddPj4+MDxhWzddPj4+MD8xOjA7Zm9yKHZhciBlPTA7ZTw4O2UrKyl7dmFyIGk9dFtlXStyW2VdLG49NjU1MzUmaSxvPWk+Pj4xNixzPSgobipuPj4+MTcpK24qbz4+PjE1KStvKm8saD0oKDQyOTQ5MDE3NjAmaSkqaXwwKSsoKDY1NTM1JmkpKml8MCk7Y1tlXT1zXmh9dFswXT1jWzBdKyhjWzddPDwxNnxjWzddPj4+MTYpKyhjWzZdPDwxNnxjWzZdPj4+MTYpfDAsdFsxXT1jWzFdKyhjWzBdPDw4fGNbMF0+Pj4yNCkrY1s3XXwwLHRbMl09Y1syXSsoY1sxXTw8MTZ8Y1sxXT4+PjE2KSsoY1swXTw8MTZ8Y1swXT4+PjE2KXwwLHRbM109Y1szXSsoY1syXTw8OHxjWzJdPj4+MjQpK2NbMV18MCx0WzRdPWNbNF0rKGNbM108PDE2fGNbM10+Pj4xNikrKGNbMl08PDE2fGNbMl0+Pj4xNil8MCx0WzVdPWNbNV0rKGNbNF08PDh8Y1s0XT4+PjI0KStjWzNdfDAsdFs2XT1jWzZdKyhjWzVdPDwxNnxjWzVdPj4+MTYpKyhjWzRdPDwxNnxjWzRdPj4+MTYpfDAsdFs3XT1jWzddKyhjWzZdPDw4fGNbNl0+Pj4yNCkrY1s1XXwwfXZhciBlPXQsaT1lLmxpYixuPWkuU3RyZWFtQ2lwaGVyLG89ZS5hbGdvLHM9W10sYT1bXSxjPVtdLGg9by5SYWJiaXRMZWdhY3k9bi5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fa2V5LndvcmRzLGU9dGhpcy5jZmcuaXYsaT10aGlzLl9YPVt0WzBdLHRbM108PDE2fHRbMl0+Pj4xNix0WzFdLHRbMF08PDE2fHRbM10+Pj4xNix0WzJdLHRbMV08PDE2fHRbMF0+Pj4xNix0WzNdLHRbMl08PDE2fHRbMV0+Pj4xNl0sbj10aGlzLl9DPVt0WzJdPDwxNnx0WzJdPj4+MTYsNDI5NDkwMTc2MCZ0WzBdfDY1NTM1JnRbMV0sdFszXTw8MTZ8dFszXT4+PjE2LDQyOTQ5MDE3NjAmdFsxXXw2NTUzNSZ0WzJdLHRbMF08PDE2fHRbMF0+Pj4xNiw0Mjk0OTAxNzYwJnRbMl18NjU1MzUmdFszXSx0WzFdPDwxNnx0WzFdPj4+MTYsNDI5NDkwMTc2MCZ0WzNdfDY1NTM1JnRbMF1dO3RoaXMuX2I9MDtmb3IodmFyIG89MDtvPDQ7bysrKXIuY2FsbCh0aGlzKTtmb3IodmFyIG89MDtvPDg7bysrKW5bb11ePWlbbys0JjddO2lmKGUpe3ZhciBzPWUud29yZHMsYT1zWzBdLGM9c1sxXSxoPTE2NzExOTM1JihhPDw4fGE+Pj4yNCl8NDI3ODI1NTM2MCYoYTw8MjR8YT4+PjgpLGw9MTY3MTE5MzUmKGM8PDh8Yz4+PjI0KXw0Mjc4MjU1MzYwJihjPDwyNHxjPj4+OCksZj1oPj4+MTZ8NDI5NDkwMTc2MCZsLHU9bDw8MTZ8NjU1MzUmaDtuWzBdXj1oLG5bMV1ePWYsblsyXV49bCxuWzNdXj11LG5bNF1ePWgsbls1XV49ZixuWzZdXj1sLG5bN11ePXU7Zm9yKHZhciBvPTA7bzw0O28rKylyLmNhbGwodGhpcyl9fSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9YO3IuY2FsbCh0aGlzKSxzWzBdPWlbMF1eaVs1XT4+PjE2XmlbM108PDE2LHNbMV09aVsyXV5pWzddPj4+MTZeaVs1XTw8MTYsc1syXT1pWzRdXmlbMV0+Pj4xNl5pWzddPDwxNixzWzNdPWlbNl1eaVszXT4+PjE2XmlbMV08PDE2O2Zvcih2YXIgbj0wO248NDtuKyspc1tuXT0xNjcxMTkzNSYoc1tuXTw8OHxzW25dPj4+MjQpfDQyNzgyNTUzNjAmKHNbbl08PDI0fHNbbl0+Pj44KSx0W2Urbl1ePXNbbl19LGJsb2NrU2l6ZTo0LGl2U2l6ZToyfSk7ZS5SYWJiaXRMZWdhY3k9bi5fY3JlYXRlSGVscGVyKGgpfSgpLHQucGFkLlplcm9QYWRkaW5nPXtwYWQ6ZnVuY3Rpb24odCxyKXt2YXIgZT00KnI7dC5jbGFtcCgpLHQuc2lnQnl0ZXMrPWUtKHQuc2lnQnl0ZXMlZXx8ZSl9LHVucGFkOmZ1bmN0aW9uKHQpe2Zvcih2YXIgcj10LndvcmRzLGU9dC5zaWdCeXRlcy0xOyEocltlPj4+Ml0+Pj4yNC1lJTQqOCYyNTUpOyllLS07dC5zaWdCeXRlcz1lKzF9fSx0fSk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyeXB0by1qcy5taW4uanMubWFw"},{"meta":{"name":"aes.min.js","url":"https://cdn.bootcdn.net/ajax/libs/crypto-js/3.1.9/aes.min.js","ts":1657118213704,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKGUscixpKXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZXhwb3J0cz1yKHJlcXVpcmUoIi4vY29yZS5taW4iKSxyZXF1aXJlKCIuL2VuYy1iYXNlNjQubWluIikscmVxdWlyZSgiLi9tZDUubWluIikscmVxdWlyZSgiLi9ldnBrZGYubWluIikscmVxdWlyZSgiLi9jaXBoZXItY29yZS5taW4iKSk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyIuL2NvcmUubWluIiwiLi9lbmMtYmFzZTY0Lm1pbiIsIi4vbWQ1Lm1pbiIsIi4vZXZwa2RmLm1pbiIsIi4vY2lwaGVyLWNvcmUubWluIl0scik6cihlLkNyeXB0b0pTKX0odGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcj1lLGk9ci5saWIsbj1pLkJsb2NrQ2lwaGVyLG89ci5hbGdvLHQ9W10sYz1bXSxzPVtdLGY9W10sYT1bXSxkPVtdLHU9W10sdj1bXSxoPVtdLHk9W107IWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHI9MDtyPDI1NjtyKyspcjwxMjg/ZVtyXT1yPDwxOmVbcl09cjw8MV4yODM7Zm9yKHZhciBpPTAsbj0wLHI9MDtyPDI1NjtyKyspe3ZhciBvPW5ebjw8MV5uPDwyXm48PDNebjw8NDtvPW8+Pj44XjI1NSZvXjk5LHRbaV09byxjW29dPWk7dmFyIHA9ZVtpXSxsPWVbcF0sXz1lW2xdLGs9MjU3KmVbb11eMTY4NDMwMDgqbztzW2ldPWs8PDI0fGs+Pj44LGZbaV09azw8MTZ8az4+PjE2LGFbaV09azw8OHxrPj4+MjQsZFtpXT1rO3ZhciBrPTE2ODQzMDA5Kl9eNjU1MzcqbF4yNTcqcF4xNjg0MzAwOCppO3Vbb109azw8MjR8az4+PjgsdltvXT1rPDwxNnxrPj4+MTYsaFtvXT1rPDw4fGs+Pj4yNCx5W29dPWssaT8oaT1wXmVbZVtlW19ecF1dXSxuXj1lW2Vbbl1dKTppPW49MX19KCk7dmFyIHA9WzAsMSwyLDQsOCwxNiwzMiw2NCwxMjgsMjcsNTRdLGw9by5BRVM9bi5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX25Sb3VuZHN8fHRoaXMuX2tleVByaW9yUmVzZXQhPT10aGlzLl9rZXkpe2Zvcih2YXIgZT10aGlzLl9rZXlQcmlvclJlc2V0PXRoaXMuX2tleSxyPWUud29yZHMsaT1lLnNpZ0J5dGVzLzQsbj10aGlzLl9uUm91bmRzPWkrNixvPTQqKG4rMSksYz10aGlzLl9rZXlTY2hlZHVsZT1bXSxzPTA7czxvO3MrKylpZihzPGkpY1tzXT1yW3NdO2Vsc2V7dmFyIGY9Y1tzLTFdO3MlaT9pPjYmJnMlaT09NCYmKGY9dFtmPj4+MjRdPDwyNHx0W2Y+Pj4xNiYyNTVdPDwxNnx0W2Y+Pj44JjI1NV08PDh8dFsyNTUmZl0pOihmPWY8PDh8Zj4+PjI0LGY9dFtmPj4+MjRdPDwyNHx0W2Y+Pj4xNiYyNTVdPDwxNnx0W2Y+Pj44JjI1NV08PDh8dFsyNTUmZl0sZl49cFtzL2l8MF08PDI0KSxjW3NdPWNbcy1pXV5mfWZvcih2YXIgYT10aGlzLl9pbnZLZXlTY2hlZHVsZT1bXSxkPTA7ZDxvO2QrKyl7dmFyIHM9by1kO2lmKGQlNCl2YXIgZj1jW3NdO2Vsc2UgdmFyIGY9Y1tzLTRdO2Q8NHx8czw9ND9hW2RdPWY6YVtkXT11W3RbZj4+PjI0XV1edlt0W2Y+Pj4xNiYyNTVdXV5oW3RbZj4+PjgmMjU1XV1eeVt0WzI1NSZmXV19fX0sZW5jcnlwdEJsb2NrOmZ1bmN0aW9uKGUscil7dGhpcy5fZG9DcnlwdEJsb2NrKGUscix0aGlzLl9rZXlTY2hlZHVsZSxzLGYsYSxkLHQpfSxkZWNyeXB0QmxvY2s6ZnVuY3Rpb24oZSxyKXt2YXIgaT1lW3IrMV07ZVtyKzFdPWVbciszXSxlW3IrM109aSx0aGlzLl9kb0NyeXB0QmxvY2soZSxyLHRoaXMuX2ludktleVNjaGVkdWxlLHUsdixoLHksYyk7dmFyIGk9ZVtyKzFdO2VbcisxXT1lW3IrM10sZVtyKzNdPWl9LF9kb0NyeXB0QmxvY2s6ZnVuY3Rpb24oZSxyLGksbixvLHQsYyxzKXtmb3IodmFyIGY9dGhpcy5fblJvdW5kcyxhPWVbcl1eaVswXSxkPWVbcisxXV5pWzFdLHU9ZVtyKzJdXmlbMl0sdj1lW3IrM11eaVszXSxoPTQseT0xO3k8Zjt5Kyspe3ZhciBwPW5bYT4+PjI0XV5vW2Q+Pj4xNiYyNTVdXnRbdT4+PjgmMjU1XV5jWzI1NSZ2XV5pW2grK10sbD1uW2Q+Pj4yNF1eb1t1Pj4+MTYmMjU1XV50W3Y+Pj44JjI1NV1eY1syNTUmYV1eaVtoKytdLF89blt1Pj4+MjRdXm9bdj4+PjE2JjI1NV1edFthPj4+OCYyNTVdXmNbMjU1JmRdXmlbaCsrXSxrPW5bdj4+PjI0XV5vW2E+Pj4xNiYyNTVdXnRbZD4+PjgmMjU1XV5jWzI1NSZ1XV5pW2grK107YT1wLGQ9bCx1PV8sdj1rfXZhciBwPShzW2E+Pj4yNF08PDI0fHNbZD4+PjE2JjI1NV08PDE2fHNbdT4+PjgmMjU1XTw8OHxzWzI1NSZ2XSleaVtoKytdLGw9KHNbZD4+PjI0XTw8MjR8c1t1Pj4+MTYmMjU1XTw8MTZ8c1t2Pj4+OCYyNTVdPDw4fHNbMjU1JmFdKV5pW2grK10sXz0oc1t1Pj4+MjRdPDwyNHxzW3Y+Pj4xNiYyNTVdPDwxNnxzW2E+Pj44JjI1NV08PDh8c1syNTUmZF0pXmlbaCsrXSxrPShzW3Y+Pj4yNF08PDI0fHNbYT4+PjE2JjI1NV08PDE2fHNbZD4+PjgmMjU1XTw8OHxzWzI1NSZ1XSleaVtoKytdO2Vbcl09cCxlW3IrMV09bCxlW3IrMl09XyxlW3IrM109a30sa2V5U2l6ZTo4fSk7ci5BRVM9bi5fY3JlYXRlSGVscGVyKGwpfSgpLGUuQUVTfSk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWFlcy5taW4uanMubWFw"},{"meta":{"name":"enc-utf8.min.js","url":"https://cdn.bootcdn.net/ajax/libs/crypto-js/3.1.9/enc-utf8.min.js","ts":1657118213704,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKGUsbil7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWV4cG9ydHM9bihyZXF1aXJlKCIuL2NvcmUubWluIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiLi9jb3JlLm1pbiJdLG4pOm4oZS5DcnlwdG9KUyl9KHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5jLlV0Zjh9KTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5jLXV0ZjgubWluLmpzLm1hcA=="},{"meta":{"name":"enc-base64.min.js","url":"https://cdn.bootcdn.net/ajax/libs/crypto-js/3.1.9/enc-base64.min.js","ts":1657118213705,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKHIsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWV4cG9ydHM9ZShyZXF1aXJlKCIuL2NvcmUubWluIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiLi9jb3JlLm1pbiJdLGUpOmUoci5DcnlwdG9KUyl9KHRoaXMsZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShyLGUsdCl7Zm9yKHZhciBuPVtdLGk9MCxvPTA7bzxlO28rKylpZihvJTQpe3ZhciBmPXRbci5jaGFyQ29kZUF0KG8tMSldPDxvJTQqMixjPXRbci5jaGFyQ29kZUF0KG8pXT4+PjYtbyU0KjI7bltpPj4+Ml18PShmfGMpPDwyNC1pJTQqOCxpKyt9cmV0dXJuIGEuY3JlYXRlKG4saSl9dmFyIHQ9cixuPXQubGliLGE9bi5Xb3JkQXJyYXksaT10LmVuYztpLkJhc2U2ND17c3RyaW5naWZ5OmZ1bmN0aW9uKHIpe3ZhciBlPXIud29yZHMsdD1yLnNpZ0J5dGVzLG49dGhpcy5fbWFwO3IuY2xhbXAoKTtmb3IodmFyIGE9W10saT0wO2k8dDtpKz0zKWZvcih2YXIgbz1lW2k+Pj4yXT4+PjI0LWklNCo4JjI1NSxmPWVbaSsxPj4+Ml0+Pj4yNC0oaSsxKSU0KjgmMjU1LGM9ZVtpKzI+Pj4yXT4+PjI0LShpKzIpJTQqOCYyNTUscz1vPDwxNnxmPDw4fGMsaD0wO2g8NCYmaSsuNzUqaDx0O2grKylhLnB1c2gobi5jaGFyQXQocz4+PjYqKDMtaCkmNjMpKTt2YXIgcD1uLmNoYXJBdCg2NCk7aWYocClmb3IoO2EubGVuZ3RoJTQ7KWEucHVzaChwKTtyZXR1cm4gYS5qb2luKCIiKX0scGFyc2U6ZnVuY3Rpb24ocil7dmFyIHQ9ci5sZW5ndGgsbj10aGlzLl9tYXAsYT10aGlzLl9yZXZlcnNlTWFwO2lmKCFhKXthPXRoaXMuX3JldmVyc2VNYXA9W107Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspYVtuLmNoYXJDb2RlQXQoaSldPWl9dmFyIG89bi5jaGFyQXQoNjQpO2lmKG8pe3ZhciBmPXIuaW5kZXhPZihvKTtmIT09LTEmJih0PWYpfXJldHVybiBlKHIsdCxhKX0sX21hcDoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0ifX0oKSxyLmVuYy5CYXNlNjR9KTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5jLWJhc2U2NC5taW4uanMubWFw"},{"meta":{"name":"jszip.min.js","url":"https://cdn.bootcdn.net/ajax/libs/jszip/3.1.5/jszip.min.js","ts":1657118213706,"mimetype":"text/javascript"},"source":"LyohCgpKU1ppcCB2My4xLjUgLSBBIEphdmFTY3JpcHQgY2xhc3MgZm9yIGdlbmVyYXRpbmcgYW5kIHJlYWRpbmcgemlwIGZpbGVzCjxodHRwOi8vc3R1YXJ0ay5jb20vanN6aXA+CgooYykgMjAwOS0yMDE2IFN0dWFydCBLbmlnaHRsZXkgPHN0dWFydCBbYXRdIHN0dWFydGsuY29tPgpEdWFsIGxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBvciBHUEx2My4gU2VlIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vU3R1ay9qc3ppcC9tYXN0ZXIvTElDRU5TRS5tYXJrZG93bi4KCkpTWmlwIHVzZXMgdGhlIGxpYnJhcnkgcGFrbyByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgOgpodHRwczovL2dpdGh1Yi5jb20vbm9kZWNhL3Bha28vYmxvYi9tYXN0ZXIvTElDRU5TRQoqLwohZnVuY3Rpb24oYSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1hKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxhKTtlbHNle3ZhciBiO2I9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLGIuSlNaaXA9YSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gYShiLGMsZCl7ZnVuY3Rpb24gZShnLGgpe2lmKCFjW2ddKXtpZighYltnXSl7dmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWgmJmkpcmV0dXJuIGkoZywhMCk7aWYoZilyZXR1cm4gZihnLCEwKTt2YXIgaj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitnKyInIik7dGhyb3cgai5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixqfXZhciBrPWNbZ109e2V4cG9ydHM6e319O2JbZ11bMF0uY2FsbChrLmV4cG9ydHMsZnVuY3Rpb24oYSl7dmFyIGM9YltnXVsxXVthXTtyZXR1cm4gZShjP2M6YSl9LGssay5leHBvcnRzLGEsYixjLGQpfXJldHVybiBjW2ddLmV4cG9ydHN9Zm9yKHZhciBmPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGc9MDtnPGQubGVuZ3RoO2crKyllKGRbZ10pO3JldHVybiBlfSh7MTpbZnVuY3Rpb24oYSxiLGMpeyJ1c2Ugc3RyaWN0Ijt2YXIgZD1hKCIuL3V0aWxzIiksZT1hKCIuL3N1cHBvcnQiKSxmPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSI7Yy5lbmNvZGU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGMsZSxnLGgsaSxqLGs9W10sbD0wLG09YS5sZW5ndGgsbj1tLG89InN0cmluZyIhPT1kLmdldFR5cGVPZihhKTtsPGEubGVuZ3RoOyluPW0tbCxvPyhiPWFbbCsrXSxjPWw8bT9hW2wrK106MCxlPWw8bT9hW2wrK106MCk6KGI9YS5jaGFyQ29kZUF0KGwrKyksYz1sPG0/YS5jaGFyQ29kZUF0KGwrKyk6MCxlPWw8bT9hLmNoYXJDb2RlQXQobCsrKTowKSxnPWI+PjIsaD0oMyZiKTw8NHxjPj40LGk9bj4xPygxNSZjKTw8MnxlPj42OjY0LGo9bj4yPzYzJmU6NjQsay5wdXNoKGYuY2hhckF0KGcpK2YuY2hhckF0KGgpK2YuY2hhckF0KGkpK2YuY2hhckF0KGopKTtyZXR1cm4gay5qb2luKCIiKX0sYy5kZWNvZGU9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGcsaCxpLGosaz0wLGw9MCxtPSJkYXRhOiI7aWYoYS5zdWJzdHIoMCxtLmxlbmd0aCk9PT1tKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBiYXNlNjQgaW5wdXQsIGl0IGxvb2tzIGxpa2UgYSBkYXRhIHVybC4iKTthPWEucmVwbGFjZSgvW15BLVphLXowLTlcK1wvXD1dL2csIiIpO3ZhciBuPTMqYS5sZW5ndGgvNDtpZihhLmNoYXJBdChhLmxlbmd0aC0xKT09PWYuY2hhckF0KDY0KSYmbi0tLGEuY2hhckF0KGEubGVuZ3RoLTIpPT09Zi5jaGFyQXQoNjQpJiZuLS0sbiUxIT09MCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgYmFzZTY0IGlucHV0LCBiYWQgY29udGVudCBsZW5ndGguIik7dmFyIG87Zm9yKG89ZS51aW50OGFycmF5P25ldyBVaW50OEFycmF5KDB8bik6bmV3IEFycmF5KDB8bik7azxhLmxlbmd0aDspZz1mLmluZGV4T2YoYS5jaGFyQXQoaysrKSksaD1mLmluZGV4T2YoYS5jaGFyQXQoaysrKSksaT1mLmluZGV4T2YoYS5jaGFyQXQoaysrKSksaj1mLmluZGV4T2YoYS5jaGFyQXQoaysrKSksYj1nPDwyfGg+PjQsYz0oMTUmaCk8PDR8aT4+MixkPSgzJmkpPDw2fGosb1tsKytdPWIsNjQhPT1pJiYob1tsKytdPWMpLDY0IT09aiYmKG9bbCsrXT1kKTtyZXR1cm4gb319LHsiLi9zdXBwb3J0IjozMCwiLi91dGlscyI6MzJ9XSwyOltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoYSxiLGMsZCxlKXt0aGlzLmNvbXByZXNzZWRTaXplPWEsdGhpcy51bmNvbXByZXNzZWRTaXplPWIsdGhpcy5jcmMzMj1jLHRoaXMuY29tcHJlc3Npb249ZCx0aGlzLmNvbXByZXNzZWRDb250ZW50PWV9dmFyIGU9YSgiLi9leHRlcm5hbCIpLGY9YSgiLi9zdHJlYW0vRGF0YVdvcmtlciIpLGc9YSgiLi9zdHJlYW0vRGF0YUxlbmd0aFByb2JlIiksaD1hKCIuL3N0cmVhbS9DcmMzMlByb2JlIiksZz1hKCIuL3N0cmVhbS9EYXRhTGVuZ3RoUHJvYmUiKTtkLnByb3RvdHlwZT17Z2V0Q29udGVudFdvcmtlcjpmdW5jdGlvbigpe3ZhciBhPW5ldyBmKGUuUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcHJlc3NlZENvbnRlbnQpKS5waXBlKHRoaXMuY29tcHJlc3Npb24udW5jb21wcmVzc1dvcmtlcigpKS5waXBlKG5ldyBnKCJkYXRhX2xlbmd0aCIpKSxiPXRoaXM7cmV0dXJuIGEub24oImVuZCIsZnVuY3Rpb24oKXtpZih0aGlzLnN0cmVhbUluZm8uZGF0YV9sZW5ndGghPT1iLnVuY29tcHJlc3NlZFNpemUpdGhyb3cgbmV3IEVycm9yKCJCdWcgOiB1bmNvbXByZXNzZWQgZGF0YSBzaXplIG1pc21hdGNoIil9KSxhfSxnZXRDb21wcmVzc2VkV29ya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBmKGUuUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcHJlc3NlZENvbnRlbnQpKS53aXRoU3RyZWFtSW5mbygiY29tcHJlc3NlZFNpemUiLHRoaXMuY29tcHJlc3NlZFNpemUpLndpdGhTdHJlYW1JbmZvKCJ1bmNvbXByZXNzZWRTaXplIix0aGlzLnVuY29tcHJlc3NlZFNpemUpLndpdGhTdHJlYW1JbmZvKCJjcmMzMiIsdGhpcy5jcmMzMikud2l0aFN0cmVhbUluZm8oImNvbXByZXNzaW9uIix0aGlzLmNvbXByZXNzaW9uKX19LGQuY3JlYXRlV29ya2VyRnJvbT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEucGlwZShuZXcgaCkucGlwZShuZXcgZygidW5jb21wcmVzc2VkU2l6ZSIpKS5waXBlKGIuY29tcHJlc3NXb3JrZXIoYykpLnBpcGUobmV3IGcoImNvbXByZXNzZWRTaXplIikpLndpdGhTdHJlYW1JbmZvKCJjb21wcmVzc2lvbiIsYil9LGIuZXhwb3J0cz1kfSx7Ii4vZXh0ZXJuYWwiOjYsIi4vc3RyZWFtL0NyYzMyUHJvYmUiOjI1LCIuL3N0cmVhbS9EYXRhTGVuZ3RoUHJvYmUiOjI2LCIuL3N0cmVhbS9EYXRhV29ya2VyIjoyN31dLDM6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7dmFyIGQ9YSgiLi9zdHJlYW0vR2VuZXJpY1dvcmtlciIpO2MuU1RPUkU9e21hZ2ljOiJcMFwwIixjb21wcmVzc1dvcmtlcjpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IGQoIlNUT1JFIGNvbXByZXNzaW9uIil9LHVuY29tcHJlc3NXb3JrZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGQoIlNUT1JFIGRlY29tcHJlc3Npb24iKX19LGMuREVGTEFURT1hKCIuL2ZsYXRlIil9LHsiLi9mbGF0ZSI6NywiLi9zdHJlYW0vR2VuZXJpY1dvcmtlciI6Mjh9XSw0OltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoKXtmb3IodmFyIGEsYj1bXSxjPTA7YzwyNTY7YysrKXthPWM7Zm9yKHZhciBkPTA7ZDw4O2QrKylhPTEmYT8zOTg4MjkyMzg0XmE+Pj4xOmE+Pj4xO2JbY109YX1yZXR1cm4gYn1mdW5jdGlvbiBlKGEsYixjLGQpe3ZhciBlPWgsZj1kK2M7YV49LTE7Zm9yKHZhciBnPWQ7ZzxmO2crKylhPWE+Pj44XmVbMjU1JihhXmJbZ10pXTtyZXR1cm4gYV4tMX1mdW5jdGlvbiBmKGEsYixjLGQpe3ZhciBlPWgsZj1kK2M7YV49LTE7Zm9yKHZhciBnPWQ7ZzxmO2crKylhPWE+Pj44XmVbMjU1JihhXmIuY2hhckNvZGVBdChnKSldO3JldHVybiBhXi0xfXZhciBnPWEoIi4vdXRpbHMiKSxoPWQoKTtiLmV4cG9ydHM9ZnVuY3Rpb24oYSxiKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIGF8fCFhLmxlbmd0aClyZXR1cm4gMDt2YXIgYz0ic3RyaW5nIiE9PWcuZ2V0VHlwZU9mKGEpO3JldHVybiBjP2UoMHxiLGEsYS5sZW5ndGgsMCk6ZigwfGIsYSxhLmxlbmd0aCwwKX19LHsiLi91dGlscyI6MzJ9XSw1OltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2MuYmFzZTY0PSExLGMuYmluYXJ5PSExLGMuZGlyPSExLGMuY3JlYXRlRm9sZGVycz0hMCxjLmRhdGU9bnVsbCxjLmNvbXByZXNzaW9uPW51bGwsYy5jb21wcmVzc2lvbk9wdGlvbnM9bnVsbCxjLmNvbW1lbnQ9bnVsbCxjLnVuaXhQZXJtaXNzaW9ucz1udWxsLGMuZG9zUGVybWlzc2lvbnM9bnVsbH0se31dLDY6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7dmFyIGQ9bnVsbDtkPSJ1bmRlZmluZWQiIT10eXBlb2YgUHJvbWlzZT9Qcm9taXNlOmEoImxpZSIpLGIuZXhwb3J0cz17UHJvbWlzZTpkfX0se2xpZTo1OH1dLDc6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZChhLGIpe2guY2FsbCh0aGlzLCJGbGF0ZVdvcmtlci8iK2EpLHRoaXMuX3Bha289bnVsbCx0aGlzLl9wYWtvQWN0aW9uPWEsdGhpcy5fcGFrb09wdGlvbnM9Yix0aGlzLm1ldGE9e319dmFyIGU9InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OEFycmF5JiYidW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQxNkFycmF5JiYidW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQzMkFycmF5LGY9YSgicGFrbyIpLGc9YSgiLi91dGlscyIpLGg9YSgiLi9zdHJlYW0vR2VuZXJpY1dvcmtlciIpLGk9ZT8idWludDhhcnJheSI6ImFycmF5IjtjLm1hZ2ljPSJcYlwwIixnLmluaGVyaXRzKGQsaCksZC5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGEpe3RoaXMubWV0YT1hLm1ldGEsbnVsbD09PXRoaXMuX3Bha28mJnRoaXMuX2NyZWF0ZVBha28oKSx0aGlzLl9wYWtvLnB1c2goZy50cmFuc2Zvcm1UbyhpLGEuZGF0YSksITEpfSxkLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe2gucHJvdG90eXBlLmZsdXNoLmNhbGwodGhpcyksbnVsbD09PXRoaXMuX3Bha28mJnRoaXMuX2NyZWF0ZVBha28oKSx0aGlzLl9wYWtvLnB1c2goW10sITApfSxkLnByb3RvdHlwZS5jbGVhblVwPWZ1bmN0aW9uKCl7aC5wcm90b3R5cGUuY2xlYW5VcC5jYWxsKHRoaXMpLHRoaXMuX3Bha289bnVsbH0sZC5wcm90b3R5cGUuX2NyZWF0ZVBha289ZnVuY3Rpb24oKXt0aGlzLl9wYWtvPW5ldyBmW3RoaXMuX3Bha29BY3Rpb25dKHtyYXc6ITAsbGV2ZWw6dGhpcy5fcGFrb09wdGlvbnMubGV2ZWx8fC0xfSk7dmFyIGE9dGhpczt0aGlzLl9wYWtvLm9uRGF0YT1mdW5jdGlvbihiKXthLnB1c2goe2RhdGE6YixtZXRhOmEubWV0YX0pfX0sYy5jb21wcmVzc1dvcmtlcj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IGQoIkRlZmxhdGUiLGEpfSxjLnVuY29tcHJlc3NXb3JrZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGQoIkluZmxhdGUiLHt9KX19LHsiLi9zdHJlYW0vR2VuZXJpY1dvcmtlciI6MjgsIi4vdXRpbHMiOjMyLHBha286NTl9XSw4OltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoYSxiLGMsZCl7Zi5jYWxsKHRoaXMsIlppcEZpbGVXb3JrZXIiKSx0aGlzLmJ5dGVzV3JpdHRlbj0wLHRoaXMuemlwQ29tbWVudD1iLHRoaXMuemlwUGxhdGZvcm09Yyx0aGlzLmVuY29kZUZpbGVOYW1lPWQsdGhpcy5zdHJlYW1GaWxlcz1hLHRoaXMuYWNjdW11bGF0ZT0hMSx0aGlzLmNvbnRlbnRCdWZmZXI9W10sdGhpcy5kaXJSZWNvcmRzPVtdLHRoaXMuY3VycmVudFNvdXJjZU9mZnNldD0wLHRoaXMuZW50cmllc0NvdW50PTAsdGhpcy5jdXJyZW50RmlsZT1udWxsLHRoaXMuX3NvdXJjZXM9W119dmFyIGU9YSgiLi4vdXRpbHMiKSxmPWEoIi4uL3N0cmVhbS9HZW5lcmljV29ya2VyIiksZz1hKCIuLi91dGY4IiksaD1hKCIuLi9jcmMzMiIpLGk9YSgiLi4vc2lnbmF0dXJlIiksaj1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9IiI7Zm9yKGM9MDtjPGI7YysrKWQrPVN0cmluZy5mcm9tQ2hhckNvZGUoMjU1JmEpLGE+Pj49ODtyZXR1cm4gZH0saz1mdW5jdGlvbihhLGIpe3ZhciBjPWE7cmV0dXJuIGF8fChjPWI/MTY4OTM6MzMyMDQpLCg2NTUzNSZjKTw8MTZ9LGw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gNjMmKGF8fDApfSxtPWZ1bmN0aW9uKGEsYixjLGQsZixtKXt2YXIgbixvLHA9YS5maWxlLHE9YS5jb21wcmVzc2lvbixyPW0hPT1nLnV0ZjhlbmNvZGUscz1lLnRyYW5zZm9ybVRvKCJzdHJpbmciLG0ocC5uYW1lKSksdD1lLnRyYW5zZm9ybVRvKCJzdHJpbmciLGcudXRmOGVuY29kZShwLm5hbWUpKSx1PXAuY29tbWVudCx2PWUudHJhbnNmb3JtVG8oInN0cmluZyIsbSh1KSksdz1lLnRyYW5zZm9ybVRvKCJzdHJpbmciLGcudXRmOGVuY29kZSh1KSkseD10Lmxlbmd0aCE9PXAubmFtZS5sZW5ndGgseT13Lmxlbmd0aCE9PXUubGVuZ3RoLHo9IiIsQT0iIixCPSIiLEM9cC5kaXIsRD1wLmRhdGUsRT17Y3JjMzI6MCxjb21wcmVzc2VkU2l6ZTowLHVuY29tcHJlc3NlZFNpemU6MH07YiYmIWN8fChFLmNyYzMyPWEuY3JjMzIsRS5jb21wcmVzc2VkU2l6ZT1hLmNvbXByZXNzZWRTaXplLEUudW5jb21wcmVzc2VkU2l6ZT1hLnVuY29tcHJlc3NlZFNpemUpO3ZhciBGPTA7YiYmKEZ8PTgpLHJ8fCF4JiYheXx8KEZ8PTIwNDgpO3ZhciBHPTAsSD0wO0MmJihHfD0xNiksIlVOSVgiPT09Zj8oSD03OTgsR3w9ayhwLnVuaXhQZXJtaXNzaW9ucyxDKSk6KEg9MjAsR3w9bChwLmRvc1Blcm1pc3Npb25zLEMpKSxuPUQuZ2V0VVRDSG91cnMoKSxuPDw9NixufD1ELmdldFVUQ01pbnV0ZXMoKSxuPDw9NSxufD1ELmdldFVUQ1NlY29uZHMoKS8yLG89RC5nZXRVVENGdWxsWWVhcigpLTE5ODAsbzw8PTQsb3w9RC5nZXRVVENNb250aCgpKzEsbzw8PTUsb3w9RC5nZXRVVENEYXRlKCkseCYmKEE9aigxLDEpK2ooaChzKSw0KSt0LHorPSJ1cCIraihBLmxlbmd0aCwyKStBKSx5JiYoQj1qKDEsMSkraihoKHYpLDQpK3cseis9InVjIitqKEIubGVuZ3RoLDIpK0IpO3ZhciBJPSIiO0krPSJcblwwIixJKz1qKEYsMiksSSs9cS5tYWdpYyxJKz1qKG4sMiksSSs9aihvLDIpLEkrPWooRS5jcmMzMiw0KSxJKz1qKEUuY29tcHJlc3NlZFNpemUsNCksSSs9aihFLnVuY29tcHJlc3NlZFNpemUsNCksSSs9aihzLmxlbmd0aCwyKSxJKz1qKHoubGVuZ3RoLDIpO3ZhciBKPWkuTE9DQUxfRklMRV9IRUFERVIrSStzK3osSz1pLkNFTlRSQUxfRklMRV9IRUFERVIraihILDIpK0kraih2Lmxlbmd0aCwyKSsiXDBcMFwwXDAiK2ooRyw0KStqKGQsNCkrcyt6K3Y7cmV0dXJue2ZpbGVSZWNvcmQ6SixkaXJSZWNvcmQ6S319LG49ZnVuY3Rpb24oYSxiLGMsZCxmKXt2YXIgZz0iIixoPWUudHJhbnNmb3JtVG8oInN0cmluZyIsZihkKSk7cmV0dXJuIGc9aS5DRU5UUkFMX0RJUkVDVE9SWV9FTkQrIlwwXDBcMFwwIitqKGEsMikraihhLDIpK2ooYiw0KStqKGMsNCkraihoLmxlbmd0aCwyKStofSxvPWZ1bmN0aW9uKGEpe3ZhciBiPSIiO3JldHVybiBiPWkuREFUQV9ERVNDUklQVE9SK2ooYS5jcmMzMiw0KStqKGEuY29tcHJlc3NlZFNpemUsNCkraihhLnVuY29tcHJlc3NlZFNpemUsNCl9O2UuaW5oZXJpdHMoZCxmKSxkLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEpe3ZhciBiPWEubWV0YS5wZXJjZW50fHwwLGM9dGhpcy5lbnRyaWVzQ291bnQsZD10aGlzLl9zb3VyY2VzLmxlbmd0aDt0aGlzLmFjY3VtdWxhdGU/dGhpcy5jb250ZW50QnVmZmVyLnB1c2goYSk6KHRoaXMuYnl0ZXNXcml0dGVuKz1hLmRhdGEubGVuZ3RoLGYucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLHtkYXRhOmEuZGF0YSxtZXRhOntjdXJyZW50RmlsZTp0aGlzLmN1cnJlbnRGaWxlLHBlcmNlbnQ6Yz8oYisxMDAqKGMtZC0xKSkvYzoxMDB9fSkpfSxkLnByb3RvdHlwZS5vcGVuZWRTb3VyY2U9ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50U291cmNlT2Zmc2V0PXRoaXMuYnl0ZXNXcml0dGVuLHRoaXMuY3VycmVudEZpbGU9YS5maWxlLm5hbWU7dmFyIGI9dGhpcy5zdHJlYW1GaWxlcyYmIWEuZmlsZS5kaXI7aWYoYil7dmFyIGM9bShhLGIsITEsdGhpcy5jdXJyZW50U291cmNlT2Zmc2V0LHRoaXMuemlwUGxhdGZvcm0sdGhpcy5lbmNvZGVGaWxlTmFtZSk7dGhpcy5wdXNoKHtkYXRhOmMuZmlsZVJlY29yZCxtZXRhOntwZXJjZW50OjB9fSl9ZWxzZSB0aGlzLmFjY3VtdWxhdGU9ITB9LGQucHJvdG90eXBlLmNsb3NlZFNvdXJjZT1mdW5jdGlvbihhKXt0aGlzLmFjY3VtdWxhdGU9ITE7dmFyIGI9dGhpcy5zdHJlYW1GaWxlcyYmIWEuZmlsZS5kaXIsYz1tKGEsYiwhMCx0aGlzLmN1cnJlbnRTb3VyY2VPZmZzZXQsdGhpcy56aXBQbGF0Zm9ybSx0aGlzLmVuY29kZUZpbGVOYW1lKTtpZih0aGlzLmRpclJlY29yZHMucHVzaChjLmRpclJlY29yZCksYil0aGlzLnB1c2goe2RhdGE6byhhKSxtZXRhOntwZXJjZW50OjEwMH19KTtlbHNlIGZvcih0aGlzLnB1c2goe2RhdGE6Yy5maWxlUmVjb3JkLG1ldGE6e3BlcmNlbnQ6MH19KTt0aGlzLmNvbnRlbnRCdWZmZXIubGVuZ3RoOyl0aGlzLnB1c2godGhpcy5jb250ZW50QnVmZmVyLnNoaWZ0KCkpO3RoaXMuY3VycmVudEZpbGU9bnVsbH0sZC5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5ieXRlc1dyaXR0ZW4sYj0wO2I8dGhpcy5kaXJSZWNvcmRzLmxlbmd0aDtiKyspdGhpcy5wdXNoKHtkYXRhOnRoaXMuZGlyUmVjb3Jkc1tiXSxtZXRhOntwZXJjZW50OjEwMH19KTt2YXIgYz10aGlzLmJ5dGVzV3JpdHRlbi1hLGQ9bih0aGlzLmRpclJlY29yZHMubGVuZ3RoLGMsYSx0aGlzLnppcENvbW1lbnQsdGhpcy5lbmNvZGVGaWxlTmFtZSk7dGhpcy5wdXNoKHtkYXRhOmQsbWV0YTp7cGVyY2VudDoxMDB9fSl9LGQucHJvdG90eXBlLnByZXBhcmVOZXh0U291cmNlPWZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91cz10aGlzLl9zb3VyY2VzLnNoaWZ0KCksdGhpcy5vcGVuZWRTb3VyY2UodGhpcy5wcmV2aW91cy5zdHJlYW1JbmZvKSx0aGlzLmlzUGF1c2VkP3RoaXMucHJldmlvdXMucGF1c2UoKTp0aGlzLnByZXZpb3VzLnJlc3VtZSgpfSxkLnByb3RvdHlwZS5yZWdpc3RlclByZXZpb3VzPWZ1bmN0aW9uKGEpe3RoaXMuX3NvdXJjZXMucHVzaChhKTt2YXIgYj10aGlzO3JldHVybiBhLm9uKCJkYXRhIixmdW5jdGlvbihhKXtiLnByb2Nlc3NDaHVuayhhKX0pLGEub24oImVuZCIsZnVuY3Rpb24oKXtiLmNsb3NlZFNvdXJjZShiLnByZXZpb3VzLnN0cmVhbUluZm8pLGIuX3NvdXJjZXMubGVuZ3RoP2IucHJlcGFyZU5leHRTb3VyY2UoKTpiLmVuZCgpfSksYS5vbigiZXJyb3IiLGZ1bmN0aW9uKGEpe2IuZXJyb3IoYSl9KSx0aGlzfSxkLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtyZXR1cm4hIWYucHJvdG90eXBlLnJlc3VtZS5jYWxsKHRoaXMpJiYoIXRoaXMucHJldmlvdXMmJnRoaXMuX3NvdXJjZXMubGVuZ3RoPyh0aGlzLnByZXBhcmVOZXh0U291cmNlKCksITApOnRoaXMucHJldmlvdXN8fHRoaXMuX3NvdXJjZXMubGVuZ3RofHx0aGlzLmdlbmVyYXRlZEVycm9yP3ZvaWQgMDoodGhpcy5lbmQoKSwhMCkpfSxkLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl9zb3VyY2VzO2lmKCFmLnByb3RvdHlwZS5lcnJvci5jYWxsKHRoaXMsYSkpcmV0dXJuITE7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspdHJ5e2JbY10uZXJyb3IoYSl9Y2F0Y2goYSl7fXJldHVybiEwfSxkLnByb3RvdHlwZS5sb2NrPWZ1bmN0aW9uKCl7Zi5wcm90b3R5cGUubG9jay5jYWxsKHRoaXMpO2Zvcih2YXIgYT10aGlzLl9zb3VyY2VzLGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdLmxvY2soKX0sYi5leHBvcnRzPWR9LHsiLi4vY3JjMzIiOjQsIi4uL3NpZ25hdHVyZSI6MjMsIi4uL3N0cmVhbS9HZW5lcmljV29ya2VyIjoyOCwiLi4vdXRmOCI6MzEsIi4uL3V0aWxzIjozMn1dLDk6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7dmFyIGQ9YSgiLi4vY29tcHJlc3Npb25zIiksZT1hKCIuL1ppcEZpbGVXb3JrZXIiKSxmPWZ1bmN0aW9uKGEsYil7dmFyIGM9YXx8YixlPWRbY107aWYoIWUpdGhyb3cgbmV3IEVycm9yKGMrIiBpcyBub3QgYSB2YWxpZCBjb21wcmVzc2lvbiBtZXRob2QgISIpO3JldHVybiBlfTtjLmdlbmVyYXRlV29ya2VyPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgZShiLnN0cmVhbUZpbGVzLGMsYi5wbGF0Zm9ybSxiLmVuY29kZUZpbGVOYW1lKSxnPTA7dHJ5e2EuZm9yRWFjaChmdW5jdGlvbihhLGMpe2crKzt2YXIgZT1mKGMub3B0aW9ucy5jb21wcmVzc2lvbixiLmNvbXByZXNzaW9uKSxoPWMub3B0aW9ucy5jb21wcmVzc2lvbk9wdGlvbnN8fGIuY29tcHJlc3Npb25PcHRpb25zfHx7fSxpPWMuZGlyLGo9Yy5kYXRlO2MuX2NvbXByZXNzV29ya2VyKGUsaCkud2l0aFN0cmVhbUluZm8oImZpbGUiLHtuYW1lOmEsZGlyOmksZGF0ZTpqLGNvbW1lbnQ6Yy5jb21tZW50fHwiIix1bml4UGVybWlzc2lvbnM6Yy51bml4UGVybWlzc2lvbnMsZG9zUGVybWlzc2lvbnM6Yy5kb3NQZXJtaXNzaW9uc30pLnBpcGUoZCl9KSxkLmVudHJpZXNDb3VudD1nfWNhdGNoKGgpe2QuZXJyb3IoaCl9cmV0dXJuIGR9fSx7Ii4uL2NvbXByZXNzaW9ucyI6MywiLi9aaXBGaWxlV29ya2VyIjo4fV0sMTA6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZCgpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGQpKXJldHVybiBuZXcgZDtpZihhcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiVGhlIGNvbnN0cnVjdG9yIHdpdGggcGFyYW1ldGVycyBoYXMgYmVlbiByZW1vdmVkIGluIEpTWmlwIDMuMCwgcGxlYXNlIGNoZWNrIHRoZSB1cGdyYWRlIGd1aWRlLiIpO3RoaXMuZmlsZXM9e30sdGhpcy5jb21tZW50PW51bGwsdGhpcy5yb290PSIiLHRoaXMuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgZDtmb3IodmFyIGIgaW4gdGhpcykiZnVuY3Rpb24iIT10eXBlb2YgdGhpc1tiXSYmKGFbYl09dGhpc1tiXSk7cmV0dXJuIGF9fWQucHJvdG90eXBlPWEoIi4vb2JqZWN0IiksZC5wcm90b3R5cGUubG9hZEFzeW5jPWEoIi4vbG9hZCIpLGQuc3VwcG9ydD1hKCIuL3N1cHBvcnQiKSxkLmRlZmF1bHRzPWEoIi4vZGVmYXVsdHMiKSxkLnZlcnNpb249IjMuMS41IixkLmxvYWRBc3luYz1mdW5jdGlvbihhLGIpe3JldHVybihuZXcgZCkubG9hZEFzeW5jKGEsYil9LGQuZXh0ZXJuYWw9YSgiLi9leHRlcm5hbCIpLGIuZXhwb3J0cz1kfSx7Ii4vZGVmYXVsdHMiOjUsIi4vZXh0ZXJuYWwiOjYsIi4vbG9hZCI6MTEsIi4vb2JqZWN0IjoxNSwiLi9zdXBwb3J0IjozMH1dLDExOltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoYSl7cmV0dXJuIG5ldyBmLlByb21pc2UoZnVuY3Rpb24oYixjKXt2YXIgZD1hLmRlY29tcHJlc3NlZC5nZXRDb250ZW50V29ya2VyKCkucGlwZShuZXcgaSk7ZC5vbigiZXJyb3IiLGZ1bmN0aW9uKGEpe2MoYSl9KS5vbigiZW5kIixmdW5jdGlvbigpe2Quc3RyZWFtSW5mby5jcmMzMiE9PWEuZGVjb21wcmVzc2VkLmNyYzMyP2MobmV3IEVycm9yKCJDb3JydXB0ZWQgemlwIDogQ1JDMzIgbWlzbWF0Y2giKSk6YigpfSkucmVzdW1lKCl9KX12YXIgZT1hKCIuL3V0aWxzIiksZj1hKCIuL2V4dGVybmFsIiksZz1hKCIuL3V0ZjgiKSxlPWEoIi4vdXRpbHMiKSxoPWEoIi4vemlwRW50cmllcyIpLGk9YSgiLi9zdHJlYW0vQ3JjMzJQcm9iZSIpLGo9YSgiLi9ub2RlanNVdGlscyIpO2IuZXhwb3J0cz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuIGI9ZS5leHRlbmQoYnx8e30se2Jhc2U2NDohMSxjaGVja0NSQzMyOiExLG9wdGltaXplZEJpbmFyeVN0cmluZzohMSxjcmVhdGVGb2xkZXJzOiExLGRlY29kZUZpbGVOYW1lOmcudXRmOGRlY29kZX0pLGouaXNOb2RlJiZqLmlzU3RyZWFtKGEpP2YuUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCJKU1ppcCBjYW4ndCBhY2NlcHQgYSBzdHJlYW0gd2hlbiBsb2FkaW5nIGEgemlwIGZpbGUuIikpOmUucHJlcGFyZUNvbnRlbnQoInRoZSBsb2FkZWQgemlwIGZpbGUiLGEsITAsYi5vcHRpbWl6ZWRCaW5hcnlTdHJpbmcsYi5iYXNlNjQpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGM9bmV3IGgoYik7cmV0dXJuIGMubG9hZChhKSxjfSkudGhlbihmdW5jdGlvbihhKXt2YXIgYz1bZi5Qcm9taXNlLnJlc29sdmUoYSldLGU9YS5maWxlcztpZihiLmNoZWNrQ1JDMzIpZm9yKHZhciBnPTA7ZzxlLmxlbmd0aDtnKyspYy5wdXNoKGQoZVtnXSkpO3JldHVybiBmLlByb21pc2UuYWxsKGMpfSkudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGQ9YS5zaGlmdCgpLGU9ZC5maWxlcyxmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl07Yy5maWxlKGcuZmlsZU5hbWVTdHIsZy5kZWNvbXByZXNzZWQse2JpbmFyeTohMCxvcHRpbWl6ZWRCaW5hcnlTdHJpbmc6ITAsZGF0ZTpnLmRhdGUsZGlyOmcuZGlyLGNvbW1lbnQ6Zy5maWxlQ29tbWVudFN0ci5sZW5ndGg/Zy5maWxlQ29tbWVudFN0cjpudWxsLHVuaXhQZXJtaXNzaW9uczpnLnVuaXhQZXJtaXNzaW9ucyxkb3NQZXJtaXNzaW9uczpnLmRvc1Blcm1pc3Npb25zLGNyZWF0ZUZvbGRlcnM6Yi5jcmVhdGVGb2xkZXJzfSl9cmV0dXJuIGQuemlwQ29tbWVudC5sZW5ndGgmJihjLmNvbW1lbnQ9ZC56aXBDb21tZW50KSxjfSl9fSx7Ii4vZXh0ZXJuYWwiOjYsIi4vbm9kZWpzVXRpbHMiOjE0LCIuL3N0cmVhbS9DcmMzMlByb2JlIjoyNSwiLi91dGY4IjozMSwiLi91dGlscyI6MzIsIi4vemlwRW50cmllcyI6MzN9XSwxMjpbZnVuY3Rpb24oYSxiLGMpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBkKGEsYil7Zi5jYWxsKHRoaXMsIk5vZGVqcyBzdHJlYW0gaW5wdXQgYWRhcHRlciBmb3IgIithKSx0aGlzLl91cHN0cmVhbUVuZGVkPSExLHRoaXMuX2JpbmRTdHJlYW0oYil9dmFyIGU9YSgiLi4vdXRpbHMiKSxmPWEoIi4uL3N0cmVhbS9HZW5lcmljV29ya2VyIik7ZS5pbmhlcml0cyhkLGYpLGQucHJvdG90eXBlLl9iaW5kU3RyZWFtPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dGhpcy5fc3RyZWFtPWEsYS5wYXVzZSgpLGEub24oImRhdGEiLGZ1bmN0aW9uKGEpe2IucHVzaCh7ZGF0YTphLG1ldGE6e3BlcmNlbnQ6MH19KX0pLm9uKCJlcnJvciIsZnVuY3Rpb24oYSl7Yi5pc1BhdXNlZD90aGlzLmdlbmVyYXRlZEVycm9yPWE6Yi5lcnJvcihhKX0pLm9uKCJlbmQiLGZ1bmN0aW9uKCl7Yi5pc1BhdXNlZD9iLl91cHN0cmVhbUVuZGVkPSEwOmIuZW5kKCl9KX0sZC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4hIWYucHJvdG90eXBlLnBhdXNlLmNhbGwodGhpcykmJih0aGlzLl9zdHJlYW0ucGF1c2UoKSwhMCl9LGQucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiEhZi5wcm90b3R5cGUucmVzdW1lLmNhbGwodGhpcykmJih0aGlzLl91cHN0cmVhbUVuZGVkP3RoaXMuZW5kKCk6dGhpcy5fc3RyZWFtLnJlc3VtZSgpLCEwKX0sYi5leHBvcnRzPWR9LHsiLi4vc3RyZWFtL0dlbmVyaWNXb3JrZXIiOjI4LCIuLi91dGlscyI6MzJ9XSwxMzpbZnVuY3Rpb24oYSxiLGMpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBkKGEsYixjKXtlLmNhbGwodGhpcyxiKSx0aGlzLl9oZWxwZXI9YTt2YXIgZD10aGlzO2Eub24oImRhdGEiLGZ1bmN0aW9uKGEsYil7ZC5wdXNoKGEpfHxkLl9oZWxwZXIucGF1c2UoKSxjJiZjKGIpfSkub24oImVycm9yIixmdW5jdGlvbihhKXtkLmVtaXQoImVycm9yIixhKX0pLm9uKCJlbmQiLGZ1bmN0aW9uKCl7ZC5wdXNoKG51bGwpfSl9dmFyIGU9YSgicmVhZGFibGUtc3RyZWFtIikuUmVhZGFibGUsZj1hKCIuLi91dGlscyIpO2YuaW5oZXJpdHMoZCxlKSxkLnByb3RvdHlwZS5fcmVhZD1mdW5jdGlvbigpe3RoaXMuX2hlbHBlci5yZXN1bWUoKX0sYi5leHBvcnRzPWR9LHsiLi4vdXRpbHMiOjMyLCJyZWFkYWJsZS1zdHJlYW0iOjE2fV0sMTQ6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7Yi5leHBvcnRzPXtpc05vZGU6InVuZGVmaW5lZCIhPXR5cGVvZiBCdWZmZXIsbmV3QnVmZmVyRnJvbTpmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgQnVmZmVyKGEsYil9LGFsbG9jQnVmZmVyOmZ1bmN0aW9uKGEpe3JldHVybiBCdWZmZXIuYWxsb2M/QnVmZmVyLmFsbG9jKGEpOm5ldyBCdWZmZXIoYSl9LGlzQnVmZmVyOmZ1bmN0aW9uKGEpe3JldHVybiBCdWZmZXIuaXNCdWZmZXIoYSl9LGlzU3RyZWFtOmZ1bmN0aW9uKGEpe3JldHVybiBhJiYiZnVuY3Rpb24iPT10eXBlb2YgYS5vbiYmImZ1bmN0aW9uIj09dHlwZW9mIGEucGF1c2UmJiJmdW5jdGlvbiI9PXR5cGVvZiBhLnJlc3VtZX19fSx7fV0sMTU6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZChhKXtyZXR1cm4iW29iamVjdCBSZWdFeHBdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX12YXIgZT1hKCIuL3V0ZjgiKSxmPWEoIi4vdXRpbHMiKSxnPWEoIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXIiKSxoPWEoIi4vc3RyZWFtL1N0cmVhbUhlbHBlciIpLGk9YSgiLi9kZWZhdWx0cyIpLGo9YSgiLi9jb21wcmVzc2VkT2JqZWN0Iiksaz1hKCIuL3ppcE9iamVjdCIpLGw9YSgiLi9nZW5lcmF0ZSIpLG09YSgiLi9ub2RlanNVdGlscyIpLG49YSgiLi9ub2RlanMvTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyIiksbz1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZT1mLmdldFR5cGVPZihiKSxoPWYuZXh0ZW5kKGN8fHt9LGkpO2guZGF0ZT1oLmRhdGV8fG5ldyBEYXRlLG51bGwhPT1oLmNvbXByZXNzaW9uJiYoaC5jb21wcmVzc2lvbj1oLmNvbXByZXNzaW9uLnRvVXBwZXJDYXNlKCkpLCJzdHJpbmciPT10eXBlb2YgaC51bml4UGVybWlzc2lvbnMmJihoLnVuaXhQZXJtaXNzaW9ucz1wYXJzZUludChoLnVuaXhQZXJtaXNzaW9ucyw4KSksaC51bml4UGVybWlzc2lvbnMmJjE2Mzg0JmgudW5peFBlcm1pc3Npb25zJiYoaC5kaXI9ITApLGguZG9zUGVybWlzc2lvbnMmJjE2JmguZG9zUGVybWlzc2lvbnMmJihoLmRpcj0hMCksaC5kaXImJihhPXEoYSkpLGguY3JlYXRlRm9sZGVycyYmKGQ9cChhKSkmJnIuY2FsbCh0aGlzLGQsITApO3ZhciBsPSJzdHJpbmciPT09ZSYmaC5iaW5hcnk9PT0hMSYmaC5iYXNlNjQ9PT0hMTtjJiYidW5kZWZpbmVkIiE9dHlwZW9mIGMuYmluYXJ5fHwoaC5iaW5hcnk9IWwpO3ZhciBvPWIgaW5zdGFuY2VvZiBqJiYwPT09Yi51bmNvbXByZXNzZWRTaXplOyhvfHxoLmRpcnx8IWJ8fDA9PT1iLmxlbmd0aCkmJihoLmJhc2U2ND0hMSxoLmJpbmFyeT0hMCxiPSIiLGguY29tcHJlc3Npb249IlNUT1JFIixlPSJzdHJpbmciKTt2YXIgcz1udWxsO3M9YiBpbnN0YW5jZW9mIGp8fGIgaW5zdGFuY2VvZiBnP2I6bS5pc05vZGUmJm0uaXNTdHJlYW0oYik/bmV3IG4oYSxiKTpmLnByZXBhcmVDb250ZW50KGEsYixoLmJpbmFyeSxoLm9wdGltaXplZEJpbmFyeVN0cmluZyxoLmJhc2U2NCk7dmFyIHQ9bmV3IGsoYSxzLGgpO3RoaXMuZmlsZXNbYV09dH0scD1mdW5jdGlvbihhKXsiLyI9PT1hLnNsaWNlKC0xKSYmKGE9YS5zdWJzdHJpbmcoMCxhLmxlbmd0aC0xKSk7dmFyIGI9YS5sYXN0SW5kZXhPZigiLyIpO3JldHVybiBiPjA/YS5zdWJzdHJpbmcoMCxiKToiIn0scT1mdW5jdGlvbihhKXtyZXR1cm4iLyIhPT1hLnNsaWNlKC0xKSYmKGErPSIvIiksYX0scj1mdW5jdGlvbihhLGIpe3JldHVybiBiPSJ1bmRlZmluZWQiIT10eXBlb2YgYj9iOmkuY3JlYXRlRm9sZGVycyxhPXEoYSksdGhpcy5maWxlc1thXXx8by5jYWxsKHRoaXMsYSxudWxsLHtkaXI6ITAsY3JlYXRlRm9sZGVyczpifSksdGhpcy5maWxlc1thXX0scz17bG9hZDpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiVGhpcyBtZXRob2QgaGFzIGJlZW4gcmVtb3ZlZCBpbiBKU1ppcCAzLjAsIHBsZWFzZSBjaGVjayB0aGUgdXBncmFkZSBndWlkZS4iKX0sZm9yRWFjaDpmdW5jdGlvbihhKXt2YXIgYixjLGQ7Zm9yKGIgaW4gdGhpcy5maWxlcyl0aGlzLmZpbGVzLmhhc093blByb3BlcnR5KGIpJiYoZD10aGlzLmZpbGVzW2JdLGM9Yi5zbGljZSh0aGlzLnJvb3QubGVuZ3RoLGIubGVuZ3RoKSxjJiZiLnNsaWNlKDAsdGhpcy5yb290Lmxlbmd0aCk9PT10aGlzLnJvb3QmJmEoYyxkKSl9LGZpbHRlcjpmdW5jdGlvbihhKXt2YXIgYj1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGMsZCl7YShjLGQpJiZiLnB1c2goZCl9KSxifSxmaWxlOmZ1bmN0aW9uKGEsYixjKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7aWYoZChhKSl7dmFyIGU9YTtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oYSxiKXtyZXR1cm4hYi5kaXImJmUudGVzdChhKX0pfXZhciBmPXRoaXMuZmlsZXNbdGhpcy5yb290K2FdO3JldHVybiBmJiYhZi5kaXI/ZjpudWxsfXJldHVybiBhPXRoaXMucm9vdCthLG8uY2FsbCh0aGlzLGEsYixjKSx0aGlzfSxmb2xkZXI6ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIHRoaXM7aWYoZChhKSlyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oYixjKXtyZXR1cm4gYy5kaXImJmEudGVzdChiKX0pO3ZhciBiPXRoaXMucm9vdCthLGM9ci5jYWxsKHRoaXMsYiksZT10aGlzLmNsb25lKCk7cmV0dXJuIGUucm9vdD1jLm5hbWUsZX0scmVtb3ZlOmZ1bmN0aW9uKGEpe2E9dGhpcy5yb290K2E7dmFyIGI9dGhpcy5maWxlc1thXTtpZihifHwoIi8iIT09YS5zbGljZSgtMSkmJihhKz0iLyIpLGI9dGhpcy5maWxlc1thXSksYiYmIWIuZGlyKWRlbGV0ZSB0aGlzLmZpbGVzW2FdO2Vsc2UgZm9yKHZhciBjPXRoaXMuZmlsdGVyKGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGMubmFtZS5zbGljZSgwLGEubGVuZ3RoKT09PWF9KSxkPTA7ZDxjLmxlbmd0aDtkKyspZGVsZXRlIHRoaXMuZmlsZXNbY1tkXS5uYW1lXTtyZXR1cm4gdGhpc30sZ2VuZXJhdGU6ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKCJUaGlzIG1ldGhvZCBoYXMgYmVlbiByZW1vdmVkIGluIEpTWmlwIDMuMCwgcGxlYXNlIGNoZWNrIHRoZSB1cGdyYWRlIGd1aWRlLiIpfSxnZW5lcmF0ZUludGVybmFsU3RyZWFtOmZ1bmN0aW9uKGEpe3ZhciBiLGM9e307dHJ5e2lmKGM9Zi5leHRlbmQoYXx8e30se3N0cmVhbUZpbGVzOiExLGNvbXByZXNzaW9uOiJTVE9SRSIsY29tcHJlc3Npb25PcHRpb25zOm51bGwsdHlwZToiIixwbGF0Zm9ybToiRE9TIixjb21tZW50Om51bGwsbWltZVR5cGU6ImFwcGxpY2F0aW9uL3ppcCIsZW5jb2RlRmlsZU5hbWU6ZS51dGY4ZW5jb2RlfSksYy50eXBlPWMudHlwZS50b0xvd2VyQ2FzZSgpLGMuY29tcHJlc3Npb249Yy5jb21wcmVzc2lvbi50b1VwcGVyQ2FzZSgpLCJiaW5hcnlzdHJpbmciPT09Yy50eXBlJiYoYy50eXBlPSJzdHJpbmciKSwhYy50eXBlKXRocm93IG5ldyBFcnJvcigiTm8gb3V0cHV0IHR5cGUgc3BlY2lmaWVkLiIpO2YuY2hlY2tTdXBwb3J0KGMudHlwZSksImRhcndpbiIhPT1jLnBsYXRmb3JtJiYiZnJlZWJzZCIhPT1jLnBsYXRmb3JtJiYibGludXgiIT09Yy5wbGF0Zm9ybSYmInN1bm9zIiE9PWMucGxhdGZvcm18fChjLnBsYXRmb3JtPSJVTklYIiksIndpbjMyIj09PWMucGxhdGZvcm0mJihjLnBsYXRmb3JtPSJET1MiKTt2YXIgZD1jLmNvbW1lbnR8fHRoaXMuY29tbWVudHx8IiI7Yj1sLmdlbmVyYXRlV29ya2VyKHRoaXMsYyxkKX1jYXRjaChpKXtiPW5ldyBnKCJlcnJvciIpLGIuZXJyb3IoaSl9cmV0dXJuIG5ldyBoKGIsYy50eXBlfHwic3RyaW5nIixjLm1pbWVUeXBlKX0sZ2VuZXJhdGVBc3luYzpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdlbmVyYXRlSW50ZXJuYWxTdHJlYW0oYSkuYWNjdW11bGF0ZShiKX0sZ2VuZXJhdGVOb2RlU3RyZWFtOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9YXx8e30sYS50eXBlfHwoYS50eXBlPSJub2RlYnVmZmVyIiksdGhpcy5nZW5lcmF0ZUludGVybmFsU3RyZWFtKGEpLnRvTm9kZWpzU3RyZWFtKGIpfX07Yi5leHBvcnRzPXN9LHsiLi9jb21wcmVzc2VkT2JqZWN0IjoyLCIuL2RlZmF1bHRzIjo1LCIuL2dlbmVyYXRlIjo5LCIuL25vZGVqcy9Ob2RlanNTdHJlYW1JbnB1dEFkYXB0ZXIiOjEyLCIuL25vZGVqc1V0aWxzIjoxNCwiLi9zdHJlYW0vR2VuZXJpY1dvcmtlciI6MjgsIi4vc3RyZWFtL1N0cmVhbUhlbHBlciI6MjksIi4vdXRmOCI6MzEsIi4vdXRpbHMiOjMyLCIuL3ppcE9iamVjdCI6MzV9XSwxNjpbZnVuY3Rpb24oYSxiLGMpe2IuZXhwb3J0cz1hKCJzdHJlYW0iKX0se3N0cmVhbTp2b2lkIDB9XSwxNzpbZnVuY3Rpb24oYSxiLGMpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBkKGEpe2UuY2FsbCh0aGlzLGEpO2Zvcih2YXIgYj0wO2I8dGhpcy5kYXRhLmxlbmd0aDtiKyspYVtiXT0yNTUmYVtiXX12YXIgZT1hKCIuL0RhdGFSZWFkZXIiKSxmPWEoIi4uL3V0aWxzIik7Zi5pbmhlcml0cyhkLGUpLGQucHJvdG90eXBlLmJ5dGVBdD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kYXRhW3RoaXMuemVybythXX0sZC5wcm90b3R5cGUubGFzdEluZGV4T2ZTaWduYXR1cmU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEuY2hhckNvZGVBdCgwKSxjPWEuY2hhckNvZGVBdCgxKSxkPWEuY2hhckNvZGVBdCgyKSxlPWEuY2hhckNvZGVBdCgzKSxmPXRoaXMubGVuZ3RoLTQ7Zj49MDstLWYpaWYodGhpcy5kYXRhW2ZdPT09YiYmdGhpcy5kYXRhW2YrMV09PT1jJiZ0aGlzLmRhdGFbZisyXT09PWQmJnRoaXMuZGF0YVtmKzNdPT09ZSlyZXR1cm4gZi10aGlzLnplcm87cmV0dXJuLTF9LGQucHJvdG90eXBlLnJlYWRBbmRDaGVja1NpZ25hdHVyZT1mdW5jdGlvbihhKXt2YXIgYj1hLmNoYXJDb2RlQXQoMCksYz1hLmNoYXJDb2RlQXQoMSksZD1hLmNoYXJDb2RlQXQoMiksZT1hLmNoYXJDb2RlQXQoMyksZj10aGlzLnJlYWREYXRhKDQpO3JldHVybiBiPT09ZlswXSYmYz09PWZbMV0mJmQ9PT1mWzJdJiZlPT09ZlszXX0sZC5wcm90b3R5cGUucmVhZERhdGE9ZnVuY3Rpb24oYSl7aWYodGhpcy5jaGVja09mZnNldChhKSwwPT09YSlyZXR1cm5bXTt2YXIgYj10aGlzLmRhdGEuc2xpY2UodGhpcy56ZXJvK3RoaXMuaW5kZXgsdGhpcy56ZXJvK3RoaXMuaW5kZXgrYSk7cmV0dXJuIHRoaXMuaW5kZXgrPWEsYn0sYi5leHBvcnRzPWR9LHsiLi4vdXRpbHMiOjMyLCIuL0RhdGFSZWFkZXIiOjE4fV0sMTg6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZChhKXt0aGlzLmRhdGE9YSx0aGlzLmxlbmd0aD1hLmxlbmd0aCx0aGlzLmluZGV4PTAsdGhpcy56ZXJvPTB9dmFyIGU9YSgiLi4vdXRpbHMiKTtkLnByb3RvdHlwZT17Y2hlY2tPZmZzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5jaGVja0luZGV4KHRoaXMuaW5kZXgrYSl9LGNoZWNrSW5kZXg6ZnVuY3Rpb24oYSl7aWYodGhpcy5sZW5ndGg8dGhpcy56ZXJvK2F8fGE8MCl0aHJvdyBuZXcgRXJyb3IoIkVuZCBvZiBkYXRhIHJlYWNoZWQgKGRhdGEgbGVuZ3RoID0gIit0aGlzLmxlbmd0aCsiLCBhc2tlZCBpbmRleCA9ICIrYSsiKS4gQ29ycnVwdGVkIHppcCA/Iil9LHNldEluZGV4OmZ1bmN0aW9uKGEpe3RoaXMuY2hlY2tJbmRleChhKSx0aGlzLmluZGV4PWF9LHNraXA6ZnVuY3Rpb24oYSl7dGhpcy5zZXRJbmRleCh0aGlzLmluZGV4K2EpfSxieXRlQXQ6ZnVuY3Rpb24oYSl7fSxyZWFkSW50OmZ1bmN0aW9uKGEpe3ZhciBiLGM9MDtmb3IodGhpcy5jaGVja09mZnNldChhKSxiPXRoaXMuaW5kZXgrYS0xO2I+PXRoaXMuaW5kZXg7Yi0tKWM9KGM8PDgpK3RoaXMuYnl0ZUF0KGIpO3JldHVybiB0aGlzLmluZGV4Kz1hLGN9LHJlYWRTdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuIGUudHJhbnNmb3JtVG8oInN0cmluZyIsdGhpcy5yZWFkRGF0YShhKSl9LHJlYWREYXRhOmZ1bmN0aW9uKGEpe30sbGFzdEluZGV4T2ZTaWduYXR1cmU6ZnVuY3Rpb24oYSl7fSxyZWFkQW5kQ2hlY2tTaWduYXR1cmU6ZnVuY3Rpb24oYSl7fSxyZWFkRGF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVhZEludCg0KTtyZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoKGE+PjI1JjEyNykrMTk4MCwoYT4+MjEmMTUpLTEsYT4+MTYmMzEsYT4+MTEmMzEsYT4+NSY2MywoMzEmYSk8PDEpKX19LGIuZXhwb3J0cz1kfSx7Ii4uL3V0aWxzIjozMn1dLDE5OltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoYSl7ZS5jYWxsKHRoaXMsYSl9dmFyIGU9YSgiLi9VaW50OEFycmF5UmVhZGVyIiksZj1hKCIuLi91dGlscyIpO2YuaW5oZXJpdHMoZCxlKSxkLnByb3RvdHlwZS5yZWFkRGF0YT1mdW5jdGlvbihhKXt0aGlzLmNoZWNrT2Zmc2V0KGEpO3ZhciBiPXRoaXMuZGF0YS5zbGljZSh0aGlzLnplcm8rdGhpcy5pbmRleCx0aGlzLnplcm8rdGhpcy5pbmRleCthKTtyZXR1cm4gdGhpcy5pbmRleCs9YSxifSxiLmV4cG9ydHM9ZH0seyIuLi91dGlscyI6MzIsIi4vVWludDhBcnJheVJlYWRlciI6MjF9XSwyMDpbZnVuY3Rpb24oYSxiLGMpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBkKGEpe2UuY2FsbCh0aGlzLGEpfXZhciBlPWEoIi4vRGF0YVJlYWRlciIpLGY9YSgiLi4vdXRpbHMiKTtmLmluaGVyaXRzKGQsZSksZC5wcm90b3R5cGUuYnl0ZUF0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmRhdGEuY2hhckNvZGVBdCh0aGlzLnplcm8rYSl9LGQucHJvdG90eXBlLmxhc3RJbmRleE9mU2lnbmF0dXJlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmRhdGEubGFzdEluZGV4T2YoYSktdGhpcy56ZXJvfSxkLnByb3RvdHlwZS5yZWFkQW5kQ2hlY2tTaWduYXR1cmU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yZWFkRGF0YSg0KTtyZXR1cm4gYT09PWJ9LGQucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKGEpe3RoaXMuY2hlY2tPZmZzZXQoYSk7dmFyIGI9dGhpcy5kYXRhLnNsaWNlKHRoaXMuemVybyt0aGlzLmluZGV4LHRoaXMuemVybyt0aGlzLmluZGV4K2EpO3JldHVybiB0aGlzLmluZGV4Kz1hLGJ9LGIuZXhwb3J0cz1kfSx7Ii4uL3V0aWxzIjozMiwiLi9EYXRhUmVhZGVyIjoxOH1dLDIxOltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoYSl7ZS5jYWxsKHRoaXMsYSl9dmFyIGU9YSgiLi9BcnJheVJlYWRlciIpLGY9YSgiLi4vdXRpbHMiKTtmLmluaGVyaXRzKGQsZSksZC5wcm90b3R5cGUucmVhZERhdGE9ZnVuY3Rpb24oYSl7aWYodGhpcy5jaGVja09mZnNldChhKSwwPT09YSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7dmFyIGI9dGhpcy5kYXRhLnN1YmFycmF5KHRoaXMuemVybyt0aGlzLmluZGV4LHRoaXMuemVybyt0aGlzLmluZGV4K2EpO3JldHVybiB0aGlzLmluZGV4Kz1hLGJ9LGIuZXhwb3J0cz1kfSx7Ii4uL3V0aWxzIjozMiwiLi9BcnJheVJlYWRlciI6MTd9XSwyMjpbZnVuY3Rpb24oYSxiLGMpeyJ1c2Ugc3RyaWN0Ijt2YXIgZD1hKCIuLi91dGlscyIpLGU9YSgiLi4vc3VwcG9ydCIpLGY9YSgiLi9BcnJheVJlYWRlciIpLGc9YSgiLi9TdHJpbmdSZWFkZXIiKSxoPWEoIi4vTm9kZUJ1ZmZlclJlYWRlciIpLGk9YSgiLi9VaW50OEFycmF5UmVhZGVyIik7Yi5leHBvcnRzPWZ1bmN0aW9uKGEpe3ZhciBiPWQuZ2V0VHlwZU9mKGEpO3JldHVybiBkLmNoZWNrU3VwcG9ydChiKSwic3RyaW5nIiE9PWJ8fGUudWludDhhcnJheT8ibm9kZWJ1ZmZlciI9PT1iP25ldyBoKGEpOmUudWludDhhcnJheT9uZXcgaShkLnRyYW5zZm9ybVRvKCJ1aW50OGFycmF5IixhKSk6bmV3IGYoZC50cmFuc2Zvcm1UbygiYXJyYXkiLGEpKTpuZXcgZyhhKX19LHsiLi4vc3VwcG9ydCI6MzAsIi4uL3V0aWxzIjozMiwiLi9BcnJheVJlYWRlciI6MTcsIi4vTm9kZUJ1ZmZlclJlYWRlciI6MTksIi4vU3RyaW5nUmVhZGVyIjoyMCwiLi9VaW50OEFycmF5UmVhZGVyIjoyMX1dLDIzOltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2MuTE9DQUxfRklMRV9IRUFERVI9IlBLAwQiLGMuQ0VOVFJBTF9GSUxFX0hFQURFUj0iUEsBAiIsYy5DRU5UUkFMX0RJUkVDVE9SWV9FTkQ9IlBLBQYiLGMuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfTE9DQVRPUj0iUEsGByIsYy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9FTkQ9IlBLBgYiLGMuREFUQV9ERVNDUklQVE9SPSJQSwdcYiJ9LHt9XSwyNDpbZnVuY3Rpb24oYSxiLGMpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBkKGEpe2UuY2FsbCh0aGlzLCJDb252ZXJ0V29ya2VyIHRvICIrYSksdGhpcy5kZXN0VHlwZT1hfXZhciBlPWEoIi4vR2VuZXJpY1dvcmtlciIpLGY9YSgiLi4vdXRpbHMiKTtmLmluaGVyaXRzKGQsZSksZC5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGEpe3RoaXMucHVzaCh7ZGF0YTpmLnRyYW5zZm9ybVRvKHRoaXMuZGVzdFR5cGUsYS5kYXRhKSxtZXRhOmEubWV0YX0pfSxiLmV4cG9ydHM9ZH0seyIuLi91dGlscyI6MzIsIi4vR2VuZXJpY1dvcmtlciI6Mjh9XSwyNTpbZnVuY3Rpb24oYSxiLGMpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBkKCl7ZS5jYWxsKHRoaXMsIkNyYzMyUHJvYmUiKSx0aGlzLndpdGhTdHJlYW1JbmZvKCJjcmMzMiIsMCl9dmFyIGU9YSgiLi9HZW5lcmljV29ya2VyIiksZj1hKCIuLi9jcmMzMiIpLGc9YSgiLi4vdXRpbHMiKTtnLmluaGVyaXRzKGQsZSksZC5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGEpe3RoaXMuc3RyZWFtSW5mby5jcmMzMj1mKGEuZGF0YSx0aGlzLnN0cmVhbUluZm8uY3JjMzJ8fDApLHRoaXMucHVzaChhKX0sYi5leHBvcnRzPWR9LHsiLi4vY3JjMzIiOjQsIi4uL3V0aWxzIjozMiwiLi9HZW5lcmljV29ya2VyIjoyOH1dLDI2OltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoYSl7Zi5jYWxsKHRoaXMsIkRhdGFMZW5ndGhQcm9iZSBmb3IgIithKSx0aGlzLnByb3BOYW1lPWEsdGhpcy53aXRoU3RyZWFtSW5mbyhhLDApfXZhciBlPWEoIi4uL3V0aWxzIiksZj1hKCIuL0dlbmVyaWNXb3JrZXIiKTtlLmluaGVyaXRzKGQsZiksZC5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiPXRoaXMuc3RyZWFtSW5mb1t0aGlzLnByb3BOYW1lXXx8MDt0aGlzLnN0cmVhbUluZm9bdGhpcy5wcm9wTmFtZV09YithLmRhdGEubGVuZ3RofWYucHJvdG90eXBlLnByb2Nlc3NDaHVuay5jYWxsKHRoaXMsYSl9LGIuZXhwb3J0cz1kfSx7Ii4uL3V0aWxzIjozMiwiLi9HZW5lcmljV29ya2VyIjoyOH1dLDI3OltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoYSl7Zi5jYWxsKHRoaXMsIkRhdGFXb3JrZXIiKTt2YXIgYj10aGlzO3RoaXMuZGF0YUlzUmVhZHk9ITEsdGhpcy5pbmRleD0wLHRoaXMubWF4PTAsdGhpcy5kYXRhPW51bGwsdGhpcy50eXBlPSIiLHRoaXMuX3RpY2tTY2hlZHVsZWQ9ITEsYS50aGVuKGZ1bmN0aW9uKGEpe2IuZGF0YUlzUmVhZHk9ITAsYi5kYXRhPWEsYi5tYXg9YSYmYS5sZW5ndGh8fDAsYi50eXBlPWUuZ2V0VHlwZU9mKGEpLGIuaXNQYXVzZWR8fGIuX3RpY2tBbmRSZXBlYXQoKX0sZnVuY3Rpb24oYSl7Yi5lcnJvcihhKX0pfXZhciBlPWEoIi4uL3V0aWxzIiksZj1hKCIuL0dlbmVyaWNXb3JrZXIiKSxnPTE2Mzg0O2UuaW5oZXJpdHMoZCxmKSxkLnByb3RvdHlwZS5jbGVhblVwPWZ1bmN0aW9uKCl7Zi5wcm90b3R5cGUuY2xlYW5VcC5jYWxsKHRoaXMpLHRoaXMuZGF0YT1udWxsfSxkLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtyZXR1cm4hIWYucHJvdG90eXBlLnJlc3VtZS5jYWxsKHRoaXMpJiYoIXRoaXMuX3RpY2tTY2hlZHVsZWQmJnRoaXMuZGF0YUlzUmVhZHkmJih0aGlzLl90aWNrU2NoZWR1bGVkPSEwLGUuZGVsYXkodGhpcy5fdGlja0FuZFJlcGVhdCxbXSx0aGlzKSksITApfSxkLnByb3RvdHlwZS5fdGlja0FuZFJlcGVhdD1mdW5jdGlvbigpe3RoaXMuX3RpY2tTY2hlZHVsZWQ9ITEsdGhpcy5pc1BhdXNlZHx8dGhpcy5pc0ZpbmlzaGVkfHwodGhpcy5fdGljaygpLHRoaXMuaXNGaW5pc2hlZHx8KGUuZGVsYXkodGhpcy5fdGlja0FuZFJlcGVhdCxbXSx0aGlzKSx0aGlzLl90aWNrU2NoZWR1bGVkPSEwKSl9LGQucHJvdG90eXBlLl90aWNrPWZ1bmN0aW9uKCl7aWYodGhpcy5pc1BhdXNlZHx8dGhpcy5pc0ZpbmlzaGVkKXJldHVybiExO3ZhciBhPWcsYj1udWxsLGM9TWF0aC5taW4odGhpcy5tYXgsdGhpcy5pbmRleCthKTtpZih0aGlzLmluZGV4Pj10aGlzLm1heClyZXR1cm4gdGhpcy5lbmQoKTtzd2l0Y2godGhpcy50eXBlKXtjYXNlInN0cmluZyI6Yj10aGlzLmRhdGEuc3Vic3RyaW5nKHRoaXMuaW5kZXgsYyk7YnJlYWs7Y2FzZSJ1aW50OGFycmF5IjpiPXRoaXMuZGF0YS5zdWJhcnJheSh0aGlzLmluZGV4LGMpO2JyZWFrO2Nhc2UiYXJyYXkiOmNhc2Uibm9kZWJ1ZmZlciI6Yj10aGlzLmRhdGEuc2xpY2UodGhpcy5pbmRleCxjKX1yZXR1cm4gdGhpcy5pbmRleD1jLHRoaXMucHVzaCh7ZGF0YTpiLG1ldGE6e3BlcmNlbnQ6dGhpcy5tYXg/dGhpcy5pbmRleC90aGlzLm1heCoxMDA6MH19KX0sYi5leHBvcnRzPWR9LHsiLi4vdXRpbHMiOjMyLCIuL0dlbmVyaWNXb3JrZXIiOjI4fV0sMjg6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZChhKXt0aGlzLm5hbWU9YXx8ImRlZmF1bHQiLHRoaXMuc3RyZWFtSW5mbz17fSx0aGlzLmdlbmVyYXRlZEVycm9yPW51bGwsdGhpcy5leHRyYVN0cmVhbUluZm89e30sdGhpcy5pc1BhdXNlZD0hMCx0aGlzLmlzRmluaXNoZWQ9ITEsdGhpcy5pc0xvY2tlZD0hMSx0aGlzLl9saXN0ZW5lcnM9e2RhdGE6W10sZW5kOltdLGVycm9yOltdfSx0aGlzLnByZXZpb3VzPW51bGx9ZC5wcm90b3R5cGU9e3B1c2g6ZnVuY3Rpb24oYSl7dGhpcy5lbWl0KCJkYXRhIixhKX0sZW5kOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0ZpbmlzaGVkKXJldHVybiExO3RoaXMuZmx1c2goKTt0cnl7dGhpcy5lbWl0KCJlbmQiKSx0aGlzLmNsZWFuVXAoKSx0aGlzLmlzRmluaXNoZWQ9ITB9Y2F0Y2goYSl7dGhpcy5lbWl0KCJlcnJvciIsYSl9cmV0dXJuITB9LGVycm9yOmZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmlzRmluaXNoZWQmJih0aGlzLmlzUGF1c2VkP3RoaXMuZ2VuZXJhdGVkRXJyb3I9YToodGhpcy5pc0ZpbmlzaGVkPSEwLHRoaXMuZW1pdCgiZXJyb3IiLGEpLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMuZXJyb3IoYSksdGhpcy5jbGVhblVwKCkpLCEwKX0sb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fbGlzdGVuZXJzW2FdLnB1c2goYiksdGhpc30sY2xlYW5VcDpmdW5jdGlvbigpe3RoaXMuc3RyZWFtSW5mbz10aGlzLmdlbmVyYXRlZEVycm9yPXRoaXMuZXh0cmFTdHJlYW1JbmZvPW51bGwsdGhpcy5fbGlzdGVuZXJzPVtdfSxlbWl0OmZ1bmN0aW9uKGEsYil7aWYodGhpcy5fbGlzdGVuZXJzW2FdKWZvcih2YXIgYz0wO2M8dGhpcy5fbGlzdGVuZXJzW2FdLmxlbmd0aDtjKyspdGhpcy5fbGlzdGVuZXJzW2FdW2NdLmNhbGwodGhpcyxiKX0scGlwZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZWdpc3RlclByZXZpb3VzKHRoaXMpfSxyZWdpc3RlclByZXZpb3VzOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNMb2NrZWQpdGhyb3cgbmV3IEVycm9yKCJUaGUgc3RyZWFtICciK3RoaXMrIicgaGFzIGFscmVhZHkgYmVlbiB1c2VkLiIpO3RoaXMuc3RyZWFtSW5mbz1hLnN0cmVhbUluZm8sdGhpcy5tZXJnZVN0cmVhbUluZm8oKSx0aGlzLnByZXZpb3VzPWE7dmFyIGI9dGhpcztyZXR1cm4gYS5vbigiZGF0YSIsZnVuY3Rpb24oYSl7Yi5wcm9jZXNzQ2h1bmsoYSl9KSxhLm9uKCJlbmQiLGZ1bmN0aW9uKCl7Yi5lbmQoKX0pLGEub24oImVycm9yIixmdW5jdGlvbihhKXtiLmVycm9yKGEpfSksdGhpc30scGF1c2U6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc1BhdXNlZCYmIXRoaXMuaXNGaW5pc2hlZCYmKHRoaXMuaXNQYXVzZWQ9ITAsdGhpcy5wcmV2aW91cyYmdGhpcy5wcmV2aW91cy5wYXVzZSgpLCEwKX0scmVzdW1lOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNQYXVzZWR8fHRoaXMuaXNGaW5pc2hlZClyZXR1cm4hMTt0aGlzLmlzUGF1c2VkPSExO3ZhciBhPSExO3JldHVybiB0aGlzLmdlbmVyYXRlZEVycm9yJiYodGhpcy5lcnJvcih0aGlzLmdlbmVyYXRlZEVycm9yKSxhPSEwKSx0aGlzLnByZXZpb3VzJiZ0aGlzLnByZXZpb3VzLnJlc3VtZSgpLCFhfSxmbHVzaDpmdW5jdGlvbigpe30scHJvY2Vzc0NodW5rOmZ1bmN0aW9uKGEpe3RoaXMucHVzaChhKX0sd2l0aFN0cmVhbUluZm86ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5leHRyYVN0cmVhbUluZm9bYV09Yix0aGlzLm1lcmdlU3RyZWFtSW5mbygpLHRoaXN9LG1lcmdlU3RyZWFtSW5mbzpmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLmV4dHJhU3RyZWFtSW5mbyl0aGlzLmV4dHJhU3RyZWFtSW5mby5oYXNPd25Qcm9wZXJ0eShhKSYmKHRoaXMuc3RyZWFtSW5mb1thXT10aGlzLmV4dHJhU3RyZWFtSW5mb1thXSl9LGxvY2s6ZnVuY3Rpb24oKXtpZih0aGlzLmlzTG9ja2VkKXRocm93IG5ldyBFcnJvcigiVGhlIHN0cmVhbSAnIit0aGlzKyInIGhhcyBhbHJlYWR5IGJlZW4gdXNlZC4iKTt0aGlzLmlzTG9ja2VkPSEwLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMubG9jaygpfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBhPSJXb3JrZXIgIit0aGlzLm5hbWU7cmV0dXJuIHRoaXMucHJldmlvdXM/dGhpcy5wcmV2aW91cysiIC0+ICIrYTphfX0sYi5leHBvcnRzPWR9LHt9XSwyOTpbZnVuY3Rpb24oYSxiLGMpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBkKGEsYixjKXtzd2l0Y2goYSl7Y2FzZSJibG9iIjpyZXR1cm4gaC5uZXdCbG9iKGgudHJhbnNmb3JtVG8oImFycmF5YnVmZmVyIixiKSxjKTtjYXNlImJhc2U2NCI6cmV0dXJuIGsuZW5jb2RlKGIpO2RlZmF1bHQ6cmV0dXJuIGgudHJhbnNmb3JtVG8oYSxiKX19ZnVuY3Rpb24gZShhLGIpe3ZhciBjLGQ9MCxlPW51bGwsZj0wO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspZis9YltjXS5sZW5ndGg7c3dpdGNoKGEpe2Nhc2Uic3RyaW5nIjpyZXR1cm4gYi5qb2luKCIiKTtjYXNlImFycmF5IjpyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSxiKTtjYXNlInVpbnQ4YXJyYXkiOmZvcihlPW5ldyBVaW50OEFycmF5KGYpLGM9MDtjPGIubGVuZ3RoO2MrKyllLnNldChiW2NdLGQpLGQrPWJbY10ubGVuZ3RoO3JldHVybiBlO2Nhc2Uibm9kZWJ1ZmZlciI6cmV0dXJuIEJ1ZmZlci5jb25jYXQoYik7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImNvbmNhdCA6IHVuc3VwcG9ydGVkIHR5cGUgJyIrYSsiJyIpfX1mdW5jdGlvbiBmKGEsYil7cmV0dXJuIG5ldyBtLlByb21pc2UoZnVuY3Rpb24oYyxmKXt2YXIgZz1bXSxoPWEuX2ludGVybmFsVHlwZSxpPWEuX291dHB1dFR5cGUsaj1hLl9taW1lVHlwZTthLm9uKCJkYXRhIixmdW5jdGlvbihhLGMpe2cucHVzaChhKSxiJiZiKGMpfSkub24oImVycm9yIixmdW5jdGlvbihhKXtnPVtdLGYoYSl9KS5vbigiZW5kIixmdW5jdGlvbigpe3RyeXt2YXIgYT1kKGksZShoLGcpLGopO2MoYSl9Y2F0Y2goYil7ZihiKX1nPVtdfSkucmVzdW1lKCl9KX1mdW5jdGlvbiBnKGEsYixjKXt2YXIgZD1iO3N3aXRjaChiKXtjYXNlImJsb2IiOmNhc2UiYXJyYXlidWZmZXIiOmQ9InVpbnQ4YXJyYXkiO2JyZWFrO2Nhc2UiYmFzZTY0IjpkPSJzdHJpbmcifXRyeXt0aGlzLl9pbnRlcm5hbFR5cGU9ZCx0aGlzLl9vdXRwdXRUeXBlPWIsdGhpcy5fbWltZVR5cGU9YyxoLmNoZWNrU3VwcG9ydChkKSx0aGlzLl93b3JrZXI9YS5waXBlKG5ldyBpKGQpKSxhLmxvY2soKX1jYXRjaChlKXt0aGlzLl93b3JrZXI9bmV3IGooImVycm9yIiksdGhpcy5fd29ya2VyLmVycm9yKGUpfX12YXIgaD1hKCIuLi91dGlscyIpLGk9YSgiLi9Db252ZXJ0V29ya2VyIiksaj1hKCIuL0dlbmVyaWNXb3JrZXIiKSxrPWEoIi4uL2Jhc2U2NCIpLGw9YSgiLi4vc3VwcG9ydCIpLG09YSgiLi4vZXh0ZXJuYWwiKSxuPW51bGw7aWYobC5ub2Rlc3RyZWFtKXRyeXtuPWEoIi4uL25vZGVqcy9Ob2RlanNTdHJlYW1PdXRwdXRBZGFwdGVyIil9Y2F0Y2gobyl7fWcucHJvdG90eXBlPXthY2N1bXVsYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBmKHRoaXMsYSl9LG9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4iZGF0YSI9PT1hP3RoaXMuX3dvcmtlci5vbihhLGZ1bmN0aW9uKGEpe2IuY2FsbChjLGEuZGF0YSxhLm1ldGEpfSk6dGhpcy5fd29ya2VyLm9uKGEsZnVuY3Rpb24oKXtoLmRlbGF5KGIsYXJndW1lbnRzLGMpfSksdGhpc30scmVzdW1lOmZ1bmN0aW9uKCl7cmV0dXJuIGguZGVsYXkodGhpcy5fd29ya2VyLnJlc3VtZSxbXSx0aGlzLl93b3JrZXIpLHRoaXN9LHBhdXNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dvcmtlci5wYXVzZSgpLHRoaXN9LHRvTm9kZWpzU3RyZWFtOmZ1bmN0aW9uKGEpe2lmKGguY2hlY2tTdXBwb3J0KCJub2Rlc3RyZWFtIiksIm5vZGVidWZmZXIiIT09dGhpcy5fb3V0cHV0VHlwZSl0aHJvdyBuZXcgRXJyb3IodGhpcy5fb3V0cHV0VHlwZSsiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBtZXRob2QiKTtyZXR1cm4gbmV3IG4odGhpcyx7b2JqZWN0TW9kZToibm9kZWJ1ZmZlciIhPT10aGlzLl9vdXRwdXRUeXBlfSxhKX19LGIuZXhwb3J0cz1nfSx7Ii4uL2Jhc2U2NCI6MSwiLi4vZXh0ZXJuYWwiOjYsIi4uL25vZGVqcy9Ob2RlanNTdHJlYW1PdXRwdXRBZGFwdGVyIjoxMywiLi4vc3VwcG9ydCI6MzAsIi4uL3V0aWxzIjozMiwiLi9Db252ZXJ0V29ya2VyIjoyNCwiLi9HZW5lcmljV29ya2VyIjoyOH1dLDMwOltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2lmKGMuYmFzZTY0PSEwLGMuYXJyYXk9ITAsYy5zdHJpbmc9ITAsYy5hcnJheWJ1ZmZlcj0idW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiYidW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQ4QXJyYXksYy5ub2RlYnVmZmVyPSJ1bmRlZmluZWQiIT10eXBlb2YgQnVmZmVyLGMudWludDhhcnJheT0idW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQ4QXJyYXksInVuZGVmaW5lZCI9PXR5cGVvZiBBcnJheUJ1ZmZlciljLmJsb2I9ITE7ZWxzZXt2YXIgZD1uZXcgQXJyYXlCdWZmZXIoMCk7dHJ5e2MuYmxvYj0wPT09bmV3IEJsb2IoW2RdLHt0eXBlOiJhcHBsaWNhdGlvbi96aXAifSkuc2l6ZX1jYXRjaChlKXt0cnl7dmFyIGY9c2VsZi5CbG9iQnVpbGRlcnx8c2VsZi5XZWJLaXRCbG9iQnVpbGRlcnx8c2VsZi5Nb3pCbG9iQnVpbGRlcnx8c2VsZi5NU0Jsb2JCdWlsZGVyLGc9bmV3IGY7Zy5hcHBlbmQoZCksYy5ibG9iPTA9PT1nLmdldEJsb2IoImFwcGxpY2F0aW9uL3ppcCIpLnNpemV9Y2F0Y2goZSl7Yy5ibG9iPSExfX19dHJ5e2Mubm9kZXN0cmVhbT0hIWEoInJlYWRhYmxlLXN0cmVhbSIpLlJlYWRhYmxlfWNhdGNoKGUpe2Mubm9kZXN0cmVhbT0hMX19LHsicmVhZGFibGUtc3RyZWFtIjoxNn1dLDMxOltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoKXtpLmNhbGwodGhpcywidXRmLTggZGVjb2RlIiksdGhpcy5sZWZ0T3Zlcj1udWxsfWZ1bmN0aW9uIGUoKXtpLmNhbGwodGhpcywidXRmLTggZW5jb2RlIil9Zm9yKHZhciBmPWEoIi4vdXRpbHMiKSxnPWEoIi4vc3VwcG9ydCIpLGg9YSgiLi9ub2RlanNVdGlscyIpLGk9YSgiLi9zdHJlYW0vR2VuZXJpY1dvcmtlciIpLGo9bmV3IEFycmF5KDI1Niksaz0wO2s8MjU2O2srKylqW2tdPWs+PTI1Mj82Oms+PTI0OD81Oms+PTI0MD80Oms+PTIyND8zOms+PTE5Mj8yOjE7alsyNTRdPWpbMjU0XT0xO3ZhciBsPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsaD1hLmxlbmd0aCxpPTA7Zm9yKGU9MDtlPGg7ZSsrKWM9YS5jaGFyQ29kZUF0KGUpLDU1Mjk2PT09KDY0NTEyJmMpJiZlKzE8aCYmKGQ9YS5jaGFyQ29kZUF0KGUrMSksNTYzMjA9PT0oNjQ1MTImZCkmJihjPTY1NTM2KyhjLTU1Mjk2PDwxMCkrKGQtNTYzMjApLGUrKykpLGkrPWM8MTI4PzE6YzwyMDQ4PzI6Yzw2NTUzNj8zOjQ7Zm9yKGI9Zy51aW50OGFycmF5P25ldyBVaW50OEFycmF5KGkpOm5ldyBBcnJheShpKSxmPTAsZT0wO2Y8aTtlKyspYz1hLmNoYXJDb2RlQXQoZSksNTUyOTY9PT0oNjQ1MTImYykmJmUrMTxoJiYoZD1hLmNoYXJDb2RlQXQoZSsxKSw1NjMyMD09PSg2NDUxMiZkKSYmKGM9NjU1MzYrKGMtNTUyOTY8PDEwKSsoZC01NjMyMCksZSsrKSksYzwxMjg/YltmKytdPWM6YzwyMDQ4PyhiW2YrK109MTkyfGM+Pj42LGJbZisrXT0xMjh8NjMmYyk6Yzw2NTUzNj8oYltmKytdPTIyNHxjPj4+MTIsYltmKytdPTEyOHxjPj4+NiY2MyxiW2YrK109MTI4fDYzJmMpOihiW2YrK109MjQwfGM+Pj4xOCxiW2YrK109MTI4fGM+Pj4xMiY2MyxiW2YrK109MTI4fGM+Pj42JjYzLGJbZisrXT0xMjh8NjMmYyk7cmV0dXJuIGJ9LG09ZnVuY3Rpb24oYSxiKXt2YXIgYztmb3IoYj1ifHxhLmxlbmd0aCxiPmEubGVuZ3RoJiYoYj1hLmxlbmd0aCksYz1iLTE7Yz49MCYmMTI4PT09KDE5MiZhW2NdKTspYy0tO3JldHVybiBjPDA/YjowPT09Yz9iOmMralthW2NdXT5iP2M6Yn0sbj1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxnPWEubGVuZ3RoLGg9bmV3IEFycmF5KDIqZyk7Zm9yKGM9MCxiPTA7YjxnOylpZihkPWFbYisrXSxkPDEyOCloW2MrK109ZDtlbHNlIGlmKGU9altkXSxlPjQpaFtjKytdPTY1NTMzLGIrPWUtMTtlbHNle2ZvcihkJj0yPT09ZT8zMTozPT09ZT8xNTo3O2U+MSYmYjxnOylkPWQ8PDZ8NjMmYVtiKytdLGUtLTtlPjE/aFtjKytdPTY1NTMzOmQ8NjU1MzY/aFtjKytdPWQ6KGQtPTY1NTM2LGhbYysrXT01NTI5NnxkPj4xMCYxMDIzLGhbYysrXT01NjMyMHwxMDIzJmQpfXJldHVybiBoLmxlbmd0aCE9PWMmJihoLnN1YmFycmF5P2g9aC5zdWJhcnJheSgwLGMpOmgubGVuZ3RoPWMpLGYuYXBwbHlGcm9tQ2hhckNvZGUoaCl9O2MudXRmOGVuY29kZT1mdW5jdGlvbihhKXtyZXR1cm4gZy5ub2RlYnVmZmVyP2gubmV3QnVmZmVyRnJvbShhLCJ1dGYtOCIpOmwoYSl9LGMudXRmOGRlY29kZT1mdW5jdGlvbihhKXtyZXR1cm4gZy5ub2RlYnVmZmVyP2YudHJhbnNmb3JtVG8oIm5vZGVidWZmZXIiLGEpLnRvU3RyaW5nKCJ1dGYtOCIpOihhPWYudHJhbnNmb3JtVG8oZy51aW50OGFycmF5PyJ1aW50OGFycmF5IjoiYXJyYXkiLGEpLG4oYSkpfSxmLmluaGVyaXRzKGQsaSksZC5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGEpe3ZhciBiPWYudHJhbnNmb3JtVG8oZy51aW50OGFycmF5PyJ1aW50OGFycmF5IjoiYXJyYXkiLGEuZGF0YSk7aWYodGhpcy5sZWZ0T3ZlciYmdGhpcy5sZWZ0T3Zlci5sZW5ndGgpe2lmKGcudWludDhhcnJheSl7dmFyIGQ9YjtiPW5ldyBVaW50OEFycmF5KGQubGVuZ3RoK3RoaXMubGVmdE92ZXIubGVuZ3RoKSxiLnNldCh0aGlzLmxlZnRPdmVyLDApLGIuc2V0KGQsdGhpcy5sZWZ0T3Zlci5sZW5ndGgpfWVsc2UgYj10aGlzLmxlZnRPdmVyLmNvbmNhdChiKTt0aGlzLmxlZnRPdmVyPW51bGx9dmFyIGU9bShiKSxoPWI7ZSE9PWIubGVuZ3RoJiYoZy51aW50OGFycmF5PyhoPWIuc3ViYXJyYXkoMCxlKSx0aGlzLmxlZnRPdmVyPWIuc3ViYXJyYXkoZSxiLmxlbmd0aCkpOihoPWIuc2xpY2UoMCxlKSx0aGlzLmxlZnRPdmVyPWIuc2xpY2UoZSxiLmxlbmd0aCkpKSx0aGlzLnB1c2goe2RhdGE6Yy51dGY4ZGVjb2RlKGgpLG1ldGE6YS5tZXRhfSl9LGQucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7dGhpcy5sZWZ0T3ZlciYmdGhpcy5sZWZ0T3Zlci5sZW5ndGgmJih0aGlzLnB1c2goe2RhdGE6Yy51dGY4ZGVjb2RlKHRoaXMubGVmdE92ZXIpLG1ldGE6e319KSx0aGlzLmxlZnRPdmVyPW51bGwpfSxjLlV0ZjhEZWNvZGVXb3JrZXI9ZCxmLmluaGVyaXRzKGUsaSksZS5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGEpe3RoaXMucHVzaCh7ZGF0YTpjLnV0ZjhlbmNvZGUoYS5kYXRhKSxtZXRhOmEubWV0YX0pfSxjLlV0ZjhFbmNvZGVXb3JrZXI9ZX0seyIuL25vZGVqc1V0aWxzIjoxNCwiLi9zdHJlYW0vR2VuZXJpY1dvcmtlciI6MjgsIi4vc3VwcG9ydCI6MzAsIi4vdXRpbHMiOjMyfV0sMzI6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZChhKXt2YXIgYj1udWxsO3JldHVybiBiPWkudWludDhhcnJheT9uZXcgVWludDhBcnJheShhLmxlbmd0aCk6bmV3IEFycmF5KGEubGVuZ3RoKSxmKGEsYil9ZnVuY3Rpb24gZShhKXtyZXR1cm4gYX1mdW5jdGlvbiBmKGEsYil7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT0yNTUmYS5jaGFyQ29kZUF0KGMpO3JldHVybiBifWZ1bmN0aW9uIGcoYSl7dmFyIGI9NjU1MzYsZD1jLmdldFR5cGVPZihhKSxlPSEwO2lmKCJ1aW50OGFycmF5Ij09PWQ/ZT1uLmFwcGx5Q2FuQmVVc2VkLnVpbnQ4YXJyYXk6Im5vZGVidWZmZXIiPT09ZCYmKGU9bi5hcHBseUNhbkJlVXNlZC5ub2RlYnVmZmVyKSxlKWZvcig7Yj4xOyl0cnl7cmV0dXJuIG4uc3RyaW5naWZ5QnlDaHVuayhhLGQsYil9Y2F0Y2goZil7Yj1NYXRoLmZsb29yKGIvMil9cmV0dXJuIG4uc3RyaW5naWZ5QnlDaGFyKGEpfWZ1bmN0aW9uIGgoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliW2NdPWFbY107CnJldHVybiBifXZhciBpPWEoIi4vc3VwcG9ydCIpLGo9YSgiLi9iYXNlNjQiKSxrPWEoIi4vbm9kZWpzVXRpbHMiKSxsPWEoImNvcmUtanMvbGlicmFyeS9mbi9zZXQtaW1tZWRpYXRlIiksbT1hKCIuL2V4dGVybmFsIik7Yy5uZXdCbG9iPWZ1bmN0aW9uKGEsYil7Yy5jaGVja1N1cHBvcnQoImJsb2IiKTt0cnl7cmV0dXJuIG5ldyBCbG9iKFthXSx7dHlwZTpifSl9Y2F0Y2goZCl7dHJ5e3ZhciBlPXNlbGYuQmxvYkJ1aWxkZXJ8fHNlbGYuV2ViS2l0QmxvYkJ1aWxkZXJ8fHNlbGYuTW96QmxvYkJ1aWxkZXJ8fHNlbGYuTVNCbG9iQnVpbGRlcixmPW5ldyBlO3JldHVybiBmLmFwcGVuZChhKSxmLmdldEJsb2IoYil9Y2F0Y2goZCl7dGhyb3cgbmV3IEVycm9yKCJCdWcgOiBjYW4ndCBjb25zdHJ1Y3QgdGhlIEJsb2IuIil9fX07dmFyIG49e3N0cmluZ2lmeUJ5Q2h1bms6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU9MCxmPWEubGVuZ3RoO2lmKGY8PWMpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxhKTtmb3IoO2U8ZjspImFycmF5Ij09PWJ8fCJub2RlYnVmZmVyIj09PWI/ZC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxhLnNsaWNlKGUsTWF0aC5taW4oZStjLGYpKSkpOmQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYS5zdWJhcnJheShlLE1hdGgubWluKGUrYyxmKSkpKSxlKz1jO3JldHVybiBkLmpvaW4oIiIpfSxzdHJpbmdpZnlCeUNoYXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPSIiLGM9MDtjPGEubGVuZ3RoO2MrKyliKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGFbY10pO3JldHVybiBifSxhcHBseUNhbkJlVXNlZDp7dWludDhhcnJheTpmdW5jdGlvbigpe3RyeXtyZXR1cm4gaS51aW50OGFycmF5JiYxPT09U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KDEpKS5sZW5ndGh9Y2F0Y2goYSl7cmV0dXJuITF9fSgpLG5vZGVidWZmZXI6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGkubm9kZWJ1ZmZlciYmMT09PVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxrLmFsbG9jQnVmZmVyKDEpKS5sZW5ndGh9Y2F0Y2goYSl7cmV0dXJuITF9fSgpfX07Yy5hcHBseUZyb21DaGFyQ29kZT1nO3ZhciBvPXt9O28uc3RyaW5nPXtzdHJpbmc6ZSxhcnJheTpmdW5jdGlvbihhKXtyZXR1cm4gZihhLG5ldyBBcnJheShhLmxlbmd0aCkpfSxhcnJheWJ1ZmZlcjpmdW5jdGlvbihhKXtyZXR1cm4gby5zdHJpbmcudWludDhhcnJheShhKS5idWZmZXJ9LHVpbnQ4YXJyYXk6ZnVuY3Rpb24oYSl7cmV0dXJuIGYoYSxuZXcgVWludDhBcnJheShhLmxlbmd0aCkpfSxub2RlYnVmZmVyOmZ1bmN0aW9uKGEpe3JldHVybiBmKGEsay5hbGxvY0J1ZmZlcihhLmxlbmd0aCkpfX0sby5hcnJheT17c3RyaW5nOmcsYXJyYXk6ZSxhcnJheWJ1ZmZlcjpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYSkuYnVmZmVyfSx1aW50OGFycmF5OmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgVWludDhBcnJheShhKX0sbm9kZWJ1ZmZlcjpmdW5jdGlvbihhKXtyZXR1cm4gay5uZXdCdWZmZXJGcm9tKGEpfX0sby5hcnJheWJ1ZmZlcj17c3RyaW5nOmZ1bmN0aW9uKGEpe3JldHVybiBnKG5ldyBVaW50OEFycmF5KGEpKX0sYXJyYXk6ZnVuY3Rpb24oYSl7cmV0dXJuIGgobmV3IFVpbnQ4QXJyYXkoYSksbmV3IEFycmF5KGEuYnl0ZUxlbmd0aCkpfSxhcnJheWJ1ZmZlcjplLHVpbnQ4YXJyYXk6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBVaW50OEFycmF5KGEpfSxub2RlYnVmZmVyOmZ1bmN0aW9uKGEpe3JldHVybiBrLm5ld0J1ZmZlckZyb20obmV3IFVpbnQ4QXJyYXkoYSkpfX0sby51aW50OGFycmF5PXtzdHJpbmc6ZyxhcnJheTpmdW5jdGlvbihhKXtyZXR1cm4gaChhLG5ldyBBcnJheShhLmxlbmd0aCkpfSxhcnJheWJ1ZmZlcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5idWZmZXJ9LHVpbnQ4YXJyYXk6ZSxub2RlYnVmZmVyOmZ1bmN0aW9uKGEpe3JldHVybiBrLm5ld0J1ZmZlckZyb20oYSl9fSxvLm5vZGVidWZmZXI9e3N0cmluZzpnLGFycmF5OmZ1bmN0aW9uKGEpe3JldHVybiBoKGEsbmV3IEFycmF5KGEubGVuZ3RoKSl9LGFycmF5YnVmZmVyOmZ1bmN0aW9uKGEpe3JldHVybiBvLm5vZGVidWZmZXIudWludDhhcnJheShhKS5idWZmZXJ9LHVpbnQ4YXJyYXk6ZnVuY3Rpb24oYSl7cmV0dXJuIGgoYSxuZXcgVWludDhBcnJheShhLmxlbmd0aCkpfSxub2RlYnVmZmVyOmV9LGMudHJhbnNmb3JtVG89ZnVuY3Rpb24oYSxiKXtpZihifHwoYj0iIiksIWEpcmV0dXJuIGI7Yy5jaGVja1N1cHBvcnQoYSk7dmFyIGQ9Yy5nZXRUeXBlT2YoYiksZT1vW2RdW2FdKGIpO3JldHVybiBlfSxjLmdldFR5cGVPZj1mdW5jdGlvbihhKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGE/InN0cmluZyI6IltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKT8iYXJyYXkiOmkubm9kZWJ1ZmZlciYmay5pc0J1ZmZlcihhKT8ibm9kZWJ1ZmZlciI6aS51aW50OGFycmF5JiZhIGluc3RhbmNlb2YgVWludDhBcnJheT8idWludDhhcnJheSI6aS5hcnJheWJ1ZmZlciYmYSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyPyJhcnJheWJ1ZmZlciI6dm9pZCAwfSxjLmNoZWNrU3VwcG9ydD1mdW5jdGlvbihhKXt2YXIgYj1pW2EudG9Mb3dlckNhc2UoKV07aWYoIWIpdGhyb3cgbmV3IEVycm9yKGErIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgcGxhdGZvcm0iKX0sYy5NQVhfVkFMVUVfMTZCSVRTPTY1NTM1LGMuTUFYX1ZBTFVFXzMyQklUUz0tMSxjLnByZXR0eT1mdW5jdGlvbihhKXt2YXIgYixjLGQ9IiI7Zm9yKGM9MDtjPChhfHwiIikubGVuZ3RoO2MrKyliPWEuY2hhckNvZGVBdChjKSxkKz0iXFx4IisoYjwxNj8iMCI6IiIpK2IudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7cmV0dXJuIGR9LGMuZGVsYXk9ZnVuY3Rpb24oYSxiLGMpe2woZnVuY3Rpb24oKXthLmFwcGx5KGN8fG51bGwsYnx8W10pfSl9LGMuaW5oZXJpdHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbigpe307Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGUsYS5wcm90b3R5cGU9bmV3IGN9LGMuZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYixjPXt9O2ZvcihhPTA7YTxhcmd1bWVudHMubGVuZ3RoO2ErKylmb3IoYiBpbiBhcmd1bWVudHNbYV0pYXJndW1lbnRzW2FdLmhhc093blByb3BlcnR5KGIpJiYidW5kZWZpbmVkIj09dHlwZW9mIGNbYl0mJihjW2JdPWFyZ3VtZW50c1thXVtiXSk7cmV0dXJuIGN9LGMucHJlcGFyZUNvbnRlbnQ9ZnVuY3Rpb24oYSxiLGUsZixnKXt2YXIgaD1tLlByb21pc2UucmVzb2x2ZShiKS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBiPWkuYmxvYiYmKGEgaW5zdGFuY2VvZiBCbG9ifHxbIltvYmplY3QgRmlsZV0iLCJbb2JqZWN0IEJsb2JdIl0uaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkpIT09LTEpO3JldHVybiBiJiYidW5kZWZpbmVkIiE9dHlwZW9mIEZpbGVSZWFkZXI/bmV3IG0uUHJvbWlzZShmdW5jdGlvbihiLGMpe3ZhciBkPW5ldyBGaWxlUmVhZGVyO2Qub25sb2FkPWZ1bmN0aW9uKGEpe2IoYS50YXJnZXQucmVzdWx0KX0sZC5vbmVycm9yPWZ1bmN0aW9uKGEpe2MoYS50YXJnZXQuZXJyb3IpfSxkLnJlYWRBc0FycmF5QnVmZmVyKGEpfSk6YX0pO3JldHVybiBoLnRoZW4oZnVuY3Rpb24oYil7dmFyIGg9Yy5nZXRUeXBlT2YoYik7cmV0dXJuIGg/KCJhcnJheWJ1ZmZlciI9PT1oP2I9Yy50cmFuc2Zvcm1UbygidWludDhhcnJheSIsYik6InN0cmluZyI9PT1oJiYoZz9iPWouZGVjb2RlKGIpOmUmJmYhPT0hMCYmKGI9ZChiKSkpLGIpOm0uUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCJDYW4ndCByZWFkIHRoZSBkYXRhIG9mICciK2ErIicuIElzIGl0IGluIGEgc3VwcG9ydGVkIEphdmFTY3JpcHQgdHlwZSAoU3RyaW5nLCBCbG9iLCBBcnJheUJ1ZmZlciwgZXRjKSA/IikpfSl9fSx7Ii4vYmFzZTY0IjoxLCIuL2V4dGVybmFsIjo2LCIuL25vZGVqc1V0aWxzIjoxNCwiLi9zdXBwb3J0IjozMCwiY29yZS1qcy9saWJyYXJ5L2ZuL3NldC1pbW1lZGlhdGUiOjM2fV0sMzM6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZChhKXt0aGlzLmZpbGVzPVtdLHRoaXMubG9hZE9wdGlvbnM9YX12YXIgZT1hKCIuL3JlYWRlci9yZWFkZXJGb3IiKSxmPWEoIi4vdXRpbHMiKSxnPWEoIi4vc2lnbmF0dXJlIiksaD1hKCIuL3ppcEVudHJ5IiksaT0oYSgiLi91dGY4IiksYSgiLi9zdXBwb3J0IikpO2QucHJvdG90eXBlPXtjaGVja1NpZ25hdHVyZTpmdW5jdGlvbihhKXtpZighdGhpcy5yZWFkZXIucmVhZEFuZENoZWNrU2lnbmF0dXJlKGEpKXt0aGlzLnJlYWRlci5pbmRleC09NDt2YXIgYj10aGlzLnJlYWRlci5yZWFkU3RyaW5nKDQpO3Rocm93IG5ldyBFcnJvcigiQ29ycnVwdGVkIHppcCBvciBidWc6IHVuZXhwZWN0ZWQgc2lnbmF0dXJlICgiK2YucHJldHR5KGIpKyIsIGV4cGVjdGVkICIrZi5wcmV0dHkoYSkrIikiKX19LGlzU2lnbmF0dXJlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5yZWFkZXIuaW5kZXg7dGhpcy5yZWFkZXIuc2V0SW5kZXgoYSk7dmFyIGQ9dGhpcy5yZWFkZXIucmVhZFN0cmluZyg0KSxlPWQ9PT1iO3JldHVybiB0aGlzLnJlYWRlci5zZXRJbmRleChjKSxlfSxyZWFkQmxvY2tFbmRPZkNlbnRyYWw6ZnVuY3Rpb24oKXt0aGlzLmRpc2tOdW1iZXI9dGhpcy5yZWFkZXIucmVhZEludCgyKSx0aGlzLmRpc2tXaXRoQ2VudHJhbERpclN0YXJ0PXRoaXMucmVhZGVyLnJlYWRJbnQoMiksdGhpcy5jZW50cmFsRGlyUmVjb3Jkc09uVGhpc0Rpc2s9dGhpcy5yZWFkZXIucmVhZEludCgyKSx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzPXRoaXMucmVhZGVyLnJlYWRJbnQoMiksdGhpcy5jZW50cmFsRGlyU2l6ZT10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuY2VudHJhbERpck9mZnNldD10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuemlwQ29tbWVudExlbmd0aD10aGlzLnJlYWRlci5yZWFkSW50KDIpO3ZhciBhPXRoaXMucmVhZGVyLnJlYWREYXRhKHRoaXMuemlwQ29tbWVudExlbmd0aCksYj1pLnVpbnQ4YXJyYXk/InVpbnQ4YXJyYXkiOiJhcnJheSIsYz1mLnRyYW5zZm9ybVRvKGIsYSk7dGhpcy56aXBDb21tZW50PXRoaXMubG9hZE9wdGlvbnMuZGVjb2RlRmlsZU5hbWUoYyl9LHJlYWRCbG9ja1ppcDY0RW5kT2ZDZW50cmFsOmZ1bmN0aW9uKCl7dGhpcy56aXA2NEVuZE9mQ2VudHJhbFNpemU9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLnJlYWRlci5za2lwKDQpLHRoaXMuZGlza051bWJlcj10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuZGlza1dpdGhDZW50cmFsRGlyU3RhcnQ9dGhpcy5yZWFkZXIucmVhZEludCg0KSx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzT25UaGlzRGlzaz10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMuY2VudHJhbERpclJlY29yZHM9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLmNlbnRyYWxEaXJTaXplPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5jZW50cmFsRGlyT2Zmc2V0PXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy56aXA2NEV4dGVuc2libGVEYXRhPXt9O2Zvcih2YXIgYSxiLGMsZD10aGlzLnppcDY0RW5kT2ZDZW50cmFsU2l6ZS00NCxlPTA7ZTxkOylhPXRoaXMucmVhZGVyLnJlYWRJbnQoMiksYj10aGlzLnJlYWRlci5yZWFkSW50KDQpLGM9dGhpcy5yZWFkZXIucmVhZERhdGEoYiksdGhpcy56aXA2NEV4dGVuc2libGVEYXRhW2FdPXtpZDphLGxlbmd0aDpiLHZhbHVlOmN9fSxyZWFkQmxvY2taaXA2NEVuZE9mQ2VudHJhbExvY2F0b3I6ZnVuY3Rpb24oKXtpZih0aGlzLmRpc2tXaXRoWmlwNjRDZW50cmFsRGlyU3RhcnQ9dGhpcy5yZWFkZXIucmVhZEludCg0KSx0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXI9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLmRpc2tzQ291bnQ9dGhpcy5yZWFkZXIucmVhZEludCg0KSx0aGlzLmRpc2tzQ291bnQ+MSl0aHJvdyBuZXcgRXJyb3IoIk11bHRpLXZvbHVtZXMgemlwIGFyZSBub3Qgc3VwcG9ydGVkIil9LHJlYWRMb2NhbEZpbGVzOmZ1bmN0aW9uKCl7dmFyIGEsYjtmb3IoYT0wO2E8dGhpcy5maWxlcy5sZW5ndGg7YSsrKWI9dGhpcy5maWxlc1thXSx0aGlzLnJlYWRlci5zZXRJbmRleChiLmxvY2FsSGVhZGVyT2Zmc2V0KSx0aGlzLmNoZWNrU2lnbmF0dXJlKGcuTE9DQUxfRklMRV9IRUFERVIpLGIucmVhZExvY2FsUGFydCh0aGlzLnJlYWRlciksYi5oYW5kbGVVVEY4KCksYi5wcm9jZXNzQXR0cmlidXRlcygpfSxyZWFkQ2VudHJhbERpcjpmdW5jdGlvbigpe3ZhciBhO2Zvcih0aGlzLnJlYWRlci5zZXRJbmRleCh0aGlzLmNlbnRyYWxEaXJPZmZzZXQpO3RoaXMucmVhZGVyLnJlYWRBbmRDaGVja1NpZ25hdHVyZShnLkNFTlRSQUxfRklMRV9IRUFERVIpOylhPW5ldyBoKHt6aXA2NDp0aGlzLnppcDY0fSx0aGlzLmxvYWRPcHRpb25zKSxhLnJlYWRDZW50cmFsUGFydCh0aGlzLnJlYWRlciksdGhpcy5maWxlcy5wdXNoKGEpO2lmKHRoaXMuY2VudHJhbERpclJlY29yZHMhPT10aGlzLmZpbGVzLmxlbmd0aCYmMCE9PXRoaXMuY2VudHJhbERpclJlY29yZHMmJjA9PT10aGlzLmZpbGVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkNvcnJ1cHRlZCB6aXAgb3IgYnVnOiBleHBlY3RlZCAiK3RoaXMuY2VudHJhbERpclJlY29yZHMrIiByZWNvcmRzIGluIGNlbnRyYWwgZGlyLCBnb3QgIit0aGlzLmZpbGVzLmxlbmd0aCl9LHJlYWRFbmRPZkNlbnRyYWw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJlYWRlci5sYXN0SW5kZXhPZlNpZ25hdHVyZShnLkNFTlRSQUxfRElSRUNUT1JZX0VORCk7aWYoYTwwKXt2YXIgYj0hdGhpcy5pc1NpZ25hdHVyZSgwLGcuTE9DQUxfRklMRV9IRUFERVIpO3Rocm93IGI/bmV3IEVycm9yKCJDYW4ndCBmaW5kIGVuZCBvZiBjZW50cmFsIGRpcmVjdG9yeSA6IGlzIHRoaXMgYSB6aXAgZmlsZSA/IElmIGl0IGlzLCBzZWUgaHR0cHM6Ly9zdHVrLmdpdGh1Yi5pby9qc3ppcC9kb2N1bWVudGF0aW9uL2hvd3RvL3JlYWRfemlwLmh0bWwiKTpuZXcgRXJyb3IoIkNvcnJ1cHRlZCB6aXA6IGNhbid0IGZpbmQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5Iil9dGhpcy5yZWFkZXIuc2V0SW5kZXgoYSk7dmFyIGM9YTtpZih0aGlzLmNoZWNrU2lnbmF0dXJlKGcuQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKSx0aGlzLnJlYWRCbG9ja0VuZE9mQ2VudHJhbCgpLHRoaXMuZGlza051bWJlcj09PWYuTUFYX1ZBTFVFXzE2QklUU3x8dGhpcy5kaXNrV2l0aENlbnRyYWxEaXJTdGFydD09PWYuTUFYX1ZBTFVFXzE2QklUU3x8dGhpcy5jZW50cmFsRGlyUmVjb3Jkc09uVGhpc0Rpc2s9PT1mLk1BWF9WQUxVRV8xNkJJVFN8fHRoaXMuY2VudHJhbERpclJlY29yZHM9PT1mLk1BWF9WQUxVRV8xNkJJVFN8fHRoaXMuY2VudHJhbERpclNpemU9PT1mLk1BWF9WQUxVRV8zMkJJVFN8fHRoaXMuY2VudHJhbERpck9mZnNldD09PWYuTUFYX1ZBTFVFXzMyQklUUyl7aWYodGhpcy56aXA2ND0hMCxhPXRoaXMucmVhZGVyLmxhc3RJbmRleE9mU2lnbmF0dXJlKGcuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfTE9DQVRPUiksYTwwKXRocm93IG5ldyBFcnJvcigiQ29ycnVwdGVkIHppcDogY2FuJ3QgZmluZCB0aGUgWklQNjQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5IGxvY2F0b3IiKTtpZih0aGlzLnJlYWRlci5zZXRJbmRleChhKSx0aGlzLmNoZWNrU2lnbmF0dXJlKGcuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfTE9DQVRPUiksdGhpcy5yZWFkQmxvY2taaXA2NEVuZE9mQ2VudHJhbExvY2F0b3IoKSwhdGhpcy5pc1NpZ25hdHVyZSh0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXIsZy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9FTkQpJiYodGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyPXRoaXMucmVhZGVyLmxhc3RJbmRleE9mU2lnbmF0dXJlKGcuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKSx0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXI8MCkpdGhyb3cgbmV3IEVycm9yKCJDb3JydXB0ZWQgemlwOiBjYW4ndCBmaW5kIHRoZSBaSVA2NCBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkiKTt0aGlzLnJlYWRlci5zZXRJbmRleCh0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXIpLHRoaXMuY2hlY2tTaWduYXR1cmUoZy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9FTkQpLHRoaXMucmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWwoKX12YXIgZD10aGlzLmNlbnRyYWxEaXJPZmZzZXQrdGhpcy5jZW50cmFsRGlyU2l6ZTt0aGlzLnppcDY0JiYoZCs9MjAsZCs9MTIrdGhpcy56aXA2NEVuZE9mQ2VudHJhbFNpemUpO3ZhciBlPWMtZDtpZihlPjApdGhpcy5pc1NpZ25hdHVyZShjLGcuQ0VOVFJBTF9GSUxFX0hFQURFUil8fCh0aGlzLnJlYWRlci56ZXJvPWUpO2Vsc2UgaWYoZTwwKXRocm93IG5ldyBFcnJvcigiQ29ycnVwdGVkIHppcDogbWlzc2luZyAiK01hdGguYWJzKGUpKyIgYnl0ZXMuIil9LHByZXBhcmVSZWFkZXI6ZnVuY3Rpb24oYSl7dGhpcy5yZWFkZXI9ZShhKX0sbG9hZDpmdW5jdGlvbihhKXt0aGlzLnByZXBhcmVSZWFkZXIoYSksdGhpcy5yZWFkRW5kT2ZDZW50cmFsKCksdGhpcy5yZWFkQ2VudHJhbERpcigpLHRoaXMucmVhZExvY2FsRmlsZXMoKX19LGIuZXhwb3J0cz1kfSx7Ii4vcmVhZGVyL3JlYWRlckZvciI6MjIsIi4vc2lnbmF0dXJlIjoyMywiLi9zdXBwb3J0IjozMCwiLi91dGY4IjozMSwiLi91dGlscyI6MzIsIi4vemlwRW50cnkiOjM0fV0sMzQ6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZChhLGIpe3RoaXMub3B0aW9ucz1hLHRoaXMubG9hZE9wdGlvbnM9Yn12YXIgZT1hKCIuL3JlYWRlci9yZWFkZXJGb3IiKSxmPWEoIi4vdXRpbHMiKSxnPWEoIi4vY29tcHJlc3NlZE9iamVjdCIpLGg9YSgiLi9jcmMzMiIpLGk9YSgiLi91dGY4Iiksaj1hKCIuL2NvbXByZXNzaW9ucyIpLGs9YSgiLi9zdXBwb3J0IiksbD0wLG09MyxuPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBqKWlmKGouaGFzT3duUHJvcGVydHkoYikmJmpbYl0ubWFnaWM9PT1hKXJldHVybiBqW2JdO3JldHVybiBudWxsfTtkLnByb3RvdHlwZT17aXNFbmNyeXB0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gMT09PSgxJnRoaXMuYml0RmxhZyl9LHVzZVVURjg6ZnVuY3Rpb24oKXtyZXR1cm4gMjA0OD09PSgyMDQ4JnRoaXMuYml0RmxhZyl9LHJlYWRMb2NhbFBhcnQ6ZnVuY3Rpb24oYSl7dmFyIGIsYztpZihhLnNraXAoMjIpLHRoaXMuZmlsZU5hbWVMZW5ndGg9YS5yZWFkSW50KDIpLGM9YS5yZWFkSW50KDIpLHRoaXMuZmlsZU5hbWU9YS5yZWFkRGF0YSh0aGlzLmZpbGVOYW1lTGVuZ3RoKSxhLnNraXAoYyksdGhpcy5jb21wcmVzc2VkU2l6ZT09PS0xfHx0aGlzLnVuY29tcHJlc3NlZFNpemU9PT0tMSl0aHJvdyBuZXcgRXJyb3IoIkJ1ZyBvciBjb3JydXB0ZWQgemlwIDogZGlkbid0IGdldCBlbm91Z2ggaW5mb3JtYXRpb25zIGZyb20gdGhlIGNlbnRyYWwgZGlyZWN0b3J5IChjb21wcmVzc2VkU2l6ZSA9PT0gLTEgfHwgdW5jb21wcmVzc2VkU2l6ZSA9PT0gLTEpIik7aWYoYj1uKHRoaXMuY29tcHJlc3Npb25NZXRob2QpLG51bGw9PT1iKXRocm93IG5ldyBFcnJvcigiQ29ycnVwdGVkIHppcCA6IGNvbXByZXNzaW9uICIrZi5wcmV0dHkodGhpcy5jb21wcmVzc2lvbk1ldGhvZCkrIiB1bmtub3duIChpbm5lciBmaWxlIDogIitmLnRyYW5zZm9ybVRvKCJzdHJpbmciLHRoaXMuZmlsZU5hbWUpKyIpIik7dGhpcy5kZWNvbXByZXNzZWQ9bmV3IGcodGhpcy5jb21wcmVzc2VkU2l6ZSx0aGlzLnVuY29tcHJlc3NlZFNpemUsdGhpcy5jcmMzMixiLGEucmVhZERhdGEodGhpcy5jb21wcmVzc2VkU2l6ZSkpfSxyZWFkQ2VudHJhbFBhcnQ6ZnVuY3Rpb24oYSl7dGhpcy52ZXJzaW9uTWFkZUJ5PWEucmVhZEludCgyKSxhLnNraXAoMiksdGhpcy5iaXRGbGFnPWEucmVhZEludCgyKSx0aGlzLmNvbXByZXNzaW9uTWV0aG9kPWEucmVhZFN0cmluZygyKSx0aGlzLmRhdGU9YS5yZWFkRGF0ZSgpLHRoaXMuY3JjMzI9YS5yZWFkSW50KDQpLHRoaXMuY29tcHJlc3NlZFNpemU9YS5yZWFkSW50KDQpLHRoaXMudW5jb21wcmVzc2VkU2l6ZT1hLnJlYWRJbnQoNCk7dmFyIGI9YS5yZWFkSW50KDIpO2lmKHRoaXMuZXh0cmFGaWVsZHNMZW5ndGg9YS5yZWFkSW50KDIpLHRoaXMuZmlsZUNvbW1lbnRMZW5ndGg9YS5yZWFkSW50KDIpLHRoaXMuZGlza051bWJlclN0YXJ0PWEucmVhZEludCgyKSx0aGlzLmludGVybmFsRmlsZUF0dHJpYnV0ZXM9YS5yZWFkSW50KDIpLHRoaXMuZXh0ZXJuYWxGaWxlQXR0cmlidXRlcz1hLnJlYWRJbnQoNCksdGhpcy5sb2NhbEhlYWRlck9mZnNldD1hLnJlYWRJbnQoNCksdGhpcy5pc0VuY3J5cHRlZCgpKXRocm93IG5ldyBFcnJvcigiRW5jcnlwdGVkIHppcCBhcmUgbm90IHN1cHBvcnRlZCIpO2Euc2tpcChiKSx0aGlzLnJlYWRFeHRyYUZpZWxkcyhhKSx0aGlzLnBhcnNlWklQNjRFeHRyYUZpZWxkKGEpLHRoaXMuZmlsZUNvbW1lbnQ9YS5yZWFkRGF0YSh0aGlzLmZpbGVDb21tZW50TGVuZ3RoKX0scHJvY2Vzc0F0dHJpYnV0ZXM6ZnVuY3Rpb24oKXt0aGlzLnVuaXhQZXJtaXNzaW9ucz1udWxsLHRoaXMuZG9zUGVybWlzc2lvbnM9bnVsbDt2YXIgYT10aGlzLnZlcnNpb25NYWRlQnk+Pjg7dGhpcy5kaXI9ISEoMTYmdGhpcy5leHRlcm5hbEZpbGVBdHRyaWJ1dGVzKSxhPT09bCYmKHRoaXMuZG9zUGVybWlzc2lvbnM9NjMmdGhpcy5leHRlcm5hbEZpbGVBdHRyaWJ1dGVzKSxhPT09bSYmKHRoaXMudW5peFBlcm1pc3Npb25zPXRoaXMuZXh0ZXJuYWxGaWxlQXR0cmlidXRlcz4+MTYmNjU1MzUpLHRoaXMuZGlyfHwiLyIhPT10aGlzLmZpbGVOYW1lU3RyLnNsaWNlKC0xKXx8KHRoaXMuZGlyPSEwKX0scGFyc2VaSVA2NEV4dHJhRmllbGQ6ZnVuY3Rpb24oYSl7aWYodGhpcy5leHRyYUZpZWxkc1sxXSl7dmFyIGI9ZSh0aGlzLmV4dHJhRmllbGRzWzFdLnZhbHVlKTt0aGlzLnVuY29tcHJlc3NlZFNpemU9PT1mLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLnVuY29tcHJlc3NlZFNpemU9Yi5yZWFkSW50KDgpKSx0aGlzLmNvbXByZXNzZWRTaXplPT09Zi5NQVhfVkFMVUVfMzJCSVRTJiYodGhpcy5jb21wcmVzc2VkU2l6ZT1iLnJlYWRJbnQoOCkpLHRoaXMubG9jYWxIZWFkZXJPZmZzZXQ9PT1mLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLmxvY2FsSGVhZGVyT2Zmc2V0PWIucmVhZEludCg4KSksdGhpcy5kaXNrTnVtYmVyU3RhcnQ9PT1mLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLmRpc2tOdW1iZXJTdGFydD1iLnJlYWRJbnQoNCkpfX0scmVhZEV4dHJhRmllbGRzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPWEuaW5kZXgrdGhpcy5leHRyYUZpZWxkc0xlbmd0aDtmb3IodGhpcy5leHRyYUZpZWxkc3x8KHRoaXMuZXh0cmFGaWVsZHM9e30pO2EuaW5kZXg8ZTspYj1hLnJlYWRJbnQoMiksYz1hLnJlYWRJbnQoMiksZD1hLnJlYWREYXRhKGMpLHRoaXMuZXh0cmFGaWVsZHNbYl09e2lkOmIsbGVuZ3RoOmMsdmFsdWU6ZH19LGhhbmRsZVVURjg6ZnVuY3Rpb24oKXt2YXIgYT1rLnVpbnQ4YXJyYXk/InVpbnQ4YXJyYXkiOiJhcnJheSI7aWYodGhpcy51c2VVVEY4KCkpdGhpcy5maWxlTmFtZVN0cj1pLnV0ZjhkZWNvZGUodGhpcy5maWxlTmFtZSksdGhpcy5maWxlQ29tbWVudFN0cj1pLnV0ZjhkZWNvZGUodGhpcy5maWxlQ29tbWVudCk7ZWxzZXt2YXIgYj10aGlzLmZpbmRFeHRyYUZpZWxkVW5pY29kZVBhdGgoKTtpZihudWxsIT09Yil0aGlzLmZpbGVOYW1lU3RyPWI7ZWxzZXt2YXIgYz1mLnRyYW5zZm9ybVRvKGEsdGhpcy5maWxlTmFtZSk7dGhpcy5maWxlTmFtZVN0cj10aGlzLmxvYWRPcHRpb25zLmRlY29kZUZpbGVOYW1lKGMpfXZhciBkPXRoaXMuZmluZEV4dHJhRmllbGRVbmljb2RlQ29tbWVudCgpO2lmKG51bGwhPT1kKXRoaXMuZmlsZUNvbW1lbnRTdHI9ZDtlbHNle3ZhciBlPWYudHJhbnNmb3JtVG8oYSx0aGlzLmZpbGVDb21tZW50KTt0aGlzLmZpbGVDb21tZW50U3RyPXRoaXMubG9hZE9wdGlvbnMuZGVjb2RlRmlsZU5hbWUoZSl9fX0sZmluZEV4dHJhRmllbGRVbmljb2RlUGF0aDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZXh0cmFGaWVsZHNbMjg3ODldO2lmKGEpe3ZhciBiPWUoYS52YWx1ZSk7cmV0dXJuIDEhPT1iLnJlYWRJbnQoMSk/bnVsbDpoKHRoaXMuZmlsZU5hbWUpIT09Yi5yZWFkSW50KDQpP251bGw6aS51dGY4ZGVjb2RlKGIucmVhZERhdGEoYS5sZW5ndGgtNSkpfXJldHVybiBudWxsfSxmaW5kRXh0cmFGaWVsZFVuaWNvZGVDb21tZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5leHRyYUZpZWxkc1syNTQ2MV07aWYoYSl7dmFyIGI9ZShhLnZhbHVlKTtyZXR1cm4gMSE9PWIucmVhZEludCgxKT9udWxsOmgodGhpcy5maWxlQ29tbWVudCkhPT1iLnJlYWRJbnQoNCk/bnVsbDppLnV0ZjhkZWNvZGUoYi5yZWFkRGF0YShhLmxlbmd0aC01KSl9cmV0dXJuIG51bGx9fSxiLmV4cG9ydHM9ZH0seyIuL2NvbXByZXNzZWRPYmplY3QiOjIsIi4vY29tcHJlc3Npb25zIjozLCIuL2NyYzMyIjo0LCIuL3JlYWRlci9yZWFkZXJGb3IiOjIyLCIuL3N1cHBvcnQiOjMwLCIuL3V0ZjgiOjMxLCIuL3V0aWxzIjozMn1dLDM1OltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO3ZhciBkPWEoIi4vc3RyZWFtL1N0cmVhbUhlbHBlciIpLGU9YSgiLi9zdHJlYW0vRGF0YVdvcmtlciIpLGY9YSgiLi91dGY4IiksZz1hKCIuL2NvbXByZXNzZWRPYmplY3QiKSxoPWEoIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXIiKSxpPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm5hbWU9YSx0aGlzLmRpcj1jLmRpcix0aGlzLmRhdGU9Yy5kYXRlLHRoaXMuY29tbWVudD1jLmNvbW1lbnQsdGhpcy51bml4UGVybWlzc2lvbnM9Yy51bml4UGVybWlzc2lvbnMsdGhpcy5kb3NQZXJtaXNzaW9ucz1jLmRvc1Blcm1pc3Npb25zLHRoaXMuX2RhdGE9Yix0aGlzLl9kYXRhQmluYXJ5PWMuYmluYXJ5LHRoaXMub3B0aW9ucz17Y29tcHJlc3Npb246Yy5jb21wcmVzc2lvbixjb21wcmVzc2lvbk9wdGlvbnM6Yy5jb21wcmVzc2lvbk9wdGlvbnN9fTtpLnByb3RvdHlwZT17aW50ZXJuYWxTdHJlYW06ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbCxjPSJzdHJpbmciO3RyeXtpZighYSl0aHJvdyBuZXcgRXJyb3IoIk5vIG91dHB1dCB0eXBlIHNwZWNpZmllZC4iKTtjPWEudG9Mb3dlckNhc2UoKTt2YXIgZT0ic3RyaW5nIj09PWN8fCJ0ZXh0Ij09PWM7ImJpbmFyeXN0cmluZyIhPT1jJiYidGV4dCIhPT1jfHwoYz0ic3RyaW5nIiksYj10aGlzLl9kZWNvbXByZXNzV29ya2VyKCk7dmFyIGc9IXRoaXMuX2RhdGFCaW5hcnk7ZyYmIWUmJihiPWIucGlwZShuZXcgZi5VdGY4RW5jb2RlV29ya2VyKSksIWcmJmUmJihiPWIucGlwZShuZXcgZi5VdGY4RGVjb2RlV29ya2VyKSl9Y2F0Y2goaSl7Yj1uZXcgaCgiZXJyb3IiKSxiLmVycm9yKGkpfXJldHVybiBuZXcgZChiLGMsIiIpfSxhc3luYzpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmludGVybmFsU3RyZWFtKGEpLmFjY3VtdWxhdGUoYil9LG5vZGVTdHJlYW06ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFN0cmVhbShhfHwibm9kZWJ1ZmZlciIpLnRvTm9kZWpzU3RyZWFtKGIpfSxfY29tcHJlc3NXb3JrZXI6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLl9kYXRhIGluc3RhbmNlb2YgZyYmdGhpcy5fZGF0YS5jb21wcmVzc2lvbi5tYWdpYz09PWEubWFnaWMpcmV0dXJuIHRoaXMuX2RhdGEuZ2V0Q29tcHJlc3NlZFdvcmtlcigpO3ZhciBjPXRoaXMuX2RlY29tcHJlc3NXb3JrZXIoKTtyZXR1cm4gdGhpcy5fZGF0YUJpbmFyeXx8KGM9Yy5waXBlKG5ldyBmLlV0ZjhFbmNvZGVXb3JrZXIpKSxnLmNyZWF0ZVdvcmtlckZyb20oYyxhLGIpfSxfZGVjb21wcmVzc1dvcmtlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhIGluc3RhbmNlb2YgZz90aGlzLl9kYXRhLmdldENvbnRlbnRXb3JrZXIoKTp0aGlzLl9kYXRhIGluc3RhbmNlb2YgaD90aGlzLl9kYXRhOm5ldyBlKHRoaXMuX2RhdGEpfX07Zm9yKHZhciBqPVsiYXNUZXh0IiwiYXNCaW5hcnkiLCJhc05vZGVCdWZmZXIiLCJhc1VpbnQ4QXJyYXkiLCJhc0FycmF5QnVmZmVyIl0saz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiVGhpcyBtZXRob2QgaGFzIGJlZW4gcmVtb3ZlZCBpbiBKU1ppcCAzLjAsIHBsZWFzZSBjaGVjayB0aGUgdXBncmFkZSBndWlkZS4iKX0sbD0wO2w8ai5sZW5ndGg7bCsrKWkucHJvdG90eXBlW2pbbF1dPWs7Yi5leHBvcnRzPWl9LHsiLi9jb21wcmVzc2VkT2JqZWN0IjoyLCIuL3N0cmVhbS9EYXRhV29ya2VyIjoyNywiLi9zdHJlYW0vR2VuZXJpY1dvcmtlciI6MjgsIi4vc3RyZWFtL1N0cmVhbUhlbHBlciI6MjksIi4vdXRmOCI6MzF9XSwzNjpbZnVuY3Rpb24oYSxiLGMpe2EoIi4uL21vZHVsZXMvd2ViLmltbWVkaWF0ZSIpLGIuZXhwb3J0cz1hKCIuLi9tb2R1bGVzL19jb3JlIikuc2V0SW1tZWRpYXRlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjQwLCIuLi9tb2R1bGVzL3dlYi5pbW1lZGlhdGUiOjU2fV0sMzc6W2Z1bmN0aW9uKGEsYixjKXtiLmV4cG9ydHM9ZnVuY3Rpb24oYSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGEpdGhyb3cgVHlwZUVycm9yKGErIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gYX19LHt9XSwzODpbZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEoIi4vX2lzLW9iamVjdCIpO2IuZXhwb3J0cz1mdW5jdGlvbihhKXtpZighZChhKSl0aHJvdyBUeXBlRXJyb3IoYSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGF9fSx7Ii4vX2lzLW9iamVjdCI6NTF9XSwzOTpbZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXt9LnRvU3RyaW5nO2IuZXhwb3J0cz1mdW5jdGlvbihhKXtyZXR1cm4gZC5jYWxsKGEpLnNsaWNlKDgsLTEpfX0se31dLDQwOltmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yi5leHBvcnRzPXt2ZXJzaW9uOiIyLjMuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPWQpfSx7fV0sNDE6W2Z1bmN0aW9uKGEsYixjKXt2YXIgZD1hKCIuL19hLWZ1bmN0aW9uIik7Yi5leHBvcnRzPWZ1bmN0aW9uKGEsYixjKXtpZihkKGEpLHZvaWQgMD09PWIpcmV0dXJuIGE7c3dpdGNoKGMpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGEuY2FsbChiLGMpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGEuY2FsbChiLGMsZCl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24oYyxkLGUpe3JldHVybiBhLmNhbGwoYixjLGQsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjM3fV0sNDI6W2Z1bmN0aW9uKGEsYixjKXtiLmV4cG9ydHM9IWEoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjo0NX1dLDQzOltmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSgiLi9faXMtb2JqZWN0IiksZT1hKCIuL19nbG9iYWwiKS5kb2N1bWVudCxmPWQoZSkmJmQoZS5jcmVhdGVFbGVtZW50KTtiLmV4cG9ydHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGY/ZS5jcmVhdGVFbGVtZW50KGEpOnt9fX0seyIuL19nbG9iYWwiOjQ2LCIuL19pcy1vYmplY3QiOjUxfV0sNDQ6W2Z1bmN0aW9uKGEsYixjKXt2YXIgZD1hKCIuL19nbG9iYWwiKSxlPWEoIi4vX2NvcmUiKSxmPWEoIi4vX2N0eCIpLGc9YSgiLi9faGlkZSIpLGg9InByb3RvdHlwZSIsaT1mdW5jdGlvbihhLGIsYyl7dmFyIGosayxsLG09YSZpLkYsbj1hJmkuRyxvPWEmaS5TLHA9YSZpLlAscT1hJmkuQixyPWEmaS5XLHM9bj9lOmVbYl18fChlW2JdPXt9KSx0PXNbaF0sdT1uP2Q6bz9kW2JdOihkW2JdfHx7fSlbaF07biYmKGM9Yik7Zm9yKGogaW4gYylrPSFtJiZ1JiZ2b2lkIDAhPT11W2pdLGsmJmogaW4gc3x8KGw9az91W2pdOmNbal0sc1tqXT1uJiYiZnVuY3Rpb24iIT10eXBlb2YgdVtqXT9jW2pdOnEmJms/ZihsLGQpOnImJnVbal09PWw/ZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oYixjLGQpe2lmKHRoaXMgaW5zdGFuY2VvZiBhKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgYTtjYXNlIDE6cmV0dXJuIG5ldyBhKGIpO2Nhc2UgMjpyZXR1cm4gbmV3IGEoYixjKX1yZXR1cm4gbmV3IGEoYixjLGQpfXJldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIGJbaF09YVtoXSxifShsKTpwJiYiZnVuY3Rpb24iPT10eXBlb2YgbD9mKEZ1bmN0aW9uLmNhbGwsbCk6bCxwJiYoKHMudmlydHVhbHx8KHMudmlydHVhbD17fSkpW2pdPWwsYSZpLlImJnQmJiF0W2pdJiZnKHQsaixsKSkpfTtpLkY9MSxpLkc9MixpLlM9NCxpLlA9OCxpLkI9MTYsaS5XPTMyLGkuVT02NCxpLlI9MTI4LGIuZXhwb3J0cz1pfSx7Ii4vX2NvcmUiOjQwLCIuL19jdHgiOjQxLCIuL19nbG9iYWwiOjQ2LCIuL19oaWRlIjo0N31dLDQ1OltmdW5jdGlvbihhLGIsYyl7Yi5leHBvcnRzPWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4hIWEoKX1jYXRjaChiKXtyZXR1cm4hMH19fSx7fV0sNDY6W2Z1bmN0aW9uKGEsYixjKXt2YXIgZD1iLmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9ZCl9LHt9XSw0NzpbZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEoIi4vX29iamVjdC1kcCIpLGU9YSgiLi9fcHJvcGVydHktZGVzYyIpO2IuZXhwb3J0cz1hKCIuL19kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGEsYixjKXtyZXR1cm4gZC5mKGEsYixlKDEsYykpfTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGFbYl09YyxhfX0seyIuL19kZXNjcmlwdG9ycyI6NDIsIi4vX29iamVjdC1kcCI6NTIsIi4vX3Byb3BlcnR5LWRlc2MiOjUzfV0sNDg6W2Z1bmN0aW9uKGEsYixjKXtiLmV4cG9ydHM9YSgiLi9fZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuL19nbG9iYWwiOjQ2fV0sNDk6W2Z1bmN0aW9uKGEsYixjKXtiLmV4cG9ydHM9IWEoIi4vX2Rlc2NyaXB0b3JzIikmJiFhKCIuL19mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhKCIuL19kb20tY3JlYXRlIikoImRpdiIpLCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjo0MiwiLi9fZG9tLWNyZWF0ZSI6NDMsIi4vX2ZhaWxzIjo0NX1dLDUwOltmdW5jdGlvbihhLGIsYyl7Yi5leHBvcnRzPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD12b2lkIDA9PT1jO3N3aXRjaChiLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBkP2EoKTphLmNhbGwoYyk7Y2FzZSAxOnJldHVybiBkP2EoYlswXSk6YS5jYWxsKGMsYlswXSk7Y2FzZSAyOnJldHVybiBkP2EoYlswXSxiWzFdKTphLmNhbGwoYyxiWzBdLGJbMV0pO2Nhc2UgMzpyZXR1cm4gZD9hKGJbMF0sYlsxXSxiWzJdKTphLmNhbGwoYyxiWzBdLGJbMV0sYlsyXSk7Y2FzZSA0OnJldHVybiBkP2EoYlswXSxiWzFdLGJbMl0sYlszXSk6YS5jYWxsKGMsYlswXSxiWzFdLGJbMl0sYlszXSl9cmV0dXJuIGEuYXBwbHkoYyxiKX19LHt9XSw1MTpbZnVuY3Rpb24oYSxiLGMpe2IuZXhwb3J0cz1mdW5jdGlvbihhKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGE/bnVsbCE9PWE6ImZ1bmN0aW9uIj09dHlwZW9mIGF9fSx7fV0sNTI6W2Z1bmN0aW9uKGEsYixjKXt2YXIgZD1hKCIuL19hbi1vYmplY3QiKSxlPWEoIi4vX2llOC1kb20tZGVmaW5lIiksZj1hKCIuL190by1wcmltaXRpdmUiKSxnPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtjLmY9YSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGMpe2lmKGQoYSksYj1mKGIsITApLGQoYyksZSl0cnl7cmV0dXJuIGcoYSxiLGMpfWNhdGNoKGgpe31pZigiZ2V0ImluIGN8fCJzZXQiaW4gYyl0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiBjJiYoYVtiXT1jLnZhbHVlKSxhfX0seyIuL19hbi1vYmplY3QiOjM4LCIuL19kZXNjcmlwdG9ycyI6NDIsIi4vX2llOC1kb20tZGVmaW5lIjo0OSwiLi9fdG8tcHJpbWl0aXZlIjo1NX1dLDUzOltmdW5jdGlvbihhLGIsYyl7Yi5leHBvcnRzPWZ1bmN0aW9uKGEsYil7cmV0dXJue2VudW1lcmFibGU6ISgxJmEpLGNvbmZpZ3VyYWJsZTohKDImYSksd3JpdGFibGU6ISg0JmEpLHZhbHVlOmJ9fX0se31dLDU0OltmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGc9YSgiLi9fY3R4IiksaD1hKCIuL19pbnZva2UiKSxpPWEoIi4vX2h0bWwiKSxqPWEoIi4vX2RvbS1jcmVhdGUiKSxrPWEoIi4vX2dsb2JhbCIpLGw9ay5wcm9jZXNzLG09ay5zZXRJbW1lZGlhdGUsbj1rLmNsZWFySW1tZWRpYXRlLG89ay5NZXNzYWdlQ2hhbm5lbCxwPTAscT17fSxyPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLHM9ZnVuY3Rpb24oKXt2YXIgYT0rdGhpcztpZihxLmhhc093blByb3BlcnR5KGEpKXt2YXIgYj1xW2FdO2RlbGV0ZSBxW2FdLGIoKX19LHQ9ZnVuY3Rpb24oYSl7cy5jYWxsKGEuZGF0YSl9O20mJm58fChtPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTE7YXJndW1lbnRzLmxlbmd0aD5jOyliLnB1c2goYXJndW1lbnRzW2MrK10pO3JldHVybiBxWysrcF09ZnVuY3Rpb24oKXtoKCJmdW5jdGlvbiI9PXR5cGVvZiBhP2E6RnVuY3Rpb24oYSksYil9LGQocCkscH0sbj1mdW5jdGlvbihhKXtkZWxldGUgcVthXX0sInByb2Nlc3MiPT1hKCIuL19jb2YiKShsKT9kPWZ1bmN0aW9uKGEpe2wubmV4dFRpY2soZyhzLGEsMSkpfTpvPyhlPW5ldyBvLGY9ZS5wb3J0MixlLnBvcnQxLm9ubWVzc2FnZT10LGQ9ZyhmLnBvc3RNZXNzYWdlLGYsMSkpOmsuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhay5pbXBvcnRTY3JpcHRzPyhkPWZ1bmN0aW9uKGEpe2sucG9zdE1lc3NhZ2UoYSsiIiwiKiIpfSxrLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLHQsITEpKTpkPXIgaW4gaigic2NyaXB0Iik/ZnVuY3Rpb24oYSl7aS5hcHBlbmRDaGlsZChqKCJzY3JpcHQiKSlbcl09ZnVuY3Rpb24oKXtpLnJlbW92ZUNoaWxkKHRoaXMpLHMuY2FsbChhKX19OmZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoZyhzLGEsMSksMCl9KSxiLmV4cG9ydHM9e3NldDptLGNsZWFyOm59fSx7Ii4vX2NvZiI6MzksIi4vX2N0eCI6NDEsIi4vX2RvbS1jcmVhdGUiOjQzLCIuL19nbG9iYWwiOjQ2LCIuL19odG1sIjo0OCwiLi9faW52b2tlIjo1MH1dLDU1OltmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSgiLi9faXMtb2JqZWN0Iik7Yi5leHBvcnRzPWZ1bmN0aW9uKGEsYil7aWYoIWQoYSkpcmV0dXJuIGE7dmFyIGMsZTtpZihiJiYiZnVuY3Rpb24iPT10eXBlb2YoYz1hLnRvU3RyaW5nKSYmIWQoZT1jLmNhbGwoYSkpKXJldHVybiBlO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihjPWEudmFsdWVPZikmJiFkKGU9Yy5jYWxsKGEpKSlyZXR1cm4gZTtpZighYiYmImZ1bmN0aW9uIj09dHlwZW9mKGM9YS50b1N0cmluZykmJiFkKGU9Yy5jYWxsKGEpKSlyZXR1cm4gZTt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0seyIuL19pcy1vYmplY3QiOjUxfV0sNTY6W2Z1bmN0aW9uKGEsYixjKXt2YXIgZD1hKCIuL19leHBvcnQiKSxlPWEoIi4vX3Rhc2siKTtkKGQuRytkLkIse3NldEltbWVkaWF0ZTplLnNldCxjbGVhckltbWVkaWF0ZTplLmNsZWFyfSl9LHsiLi9fZXhwb3J0Ijo0NCwiLi9fdGFzayI6NTR9XSw1NzpbZnVuY3Rpb24oYSxiLGMpeyhmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYygpe2s9ITA7Zm9yKHZhciBhLGIsYz1sLmxlbmd0aDtjOyl7Zm9yKGI9bCxsPVtdLGE9LTE7KythPGM7KWJbYV0oKTtjPWwubGVuZ3RofWs9ITF9ZnVuY3Rpb24gZChhKXsxIT09bC5wdXNoKGEpfHxrfHxlKCl9dmFyIGUsZj1hLk11dGF0aW9uT2JzZXJ2ZXJ8fGEuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtpZihmKXt2YXIgZz0wLGg9bmV3IGYoYyksaT1hLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtoLm9ic2VydmUoaSx7Y2hhcmFjdGVyRGF0YTohMH0pLGU9ZnVuY3Rpb24oKXtpLmRhdGE9Zz0rK2clMn19ZWxzZSBpZihhLnNldEltbWVkaWF0ZXx8InVuZGVmaW5lZCI9PXR5cGVvZiBhLk1lc3NhZ2VDaGFubmVsKWU9ImRvY3VtZW50ImluIGEmJiJvbnJlYWR5c3RhdGVjaGFuZ2UiaW4gYS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKT9mdW5jdGlvbigpe3ZhciBiPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtjKCksYi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsfSxhLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChiKX06ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGMsMCl9O2Vsc2V7dmFyIGo9bmV3IGEuTWVzc2FnZUNoYW5uZWw7ai5wb3J0MS5vbm1lc3NhZ2U9YyxlPWZ1bmN0aW9uKCl7ai5wb3J0Mi5wb3N0TWVzc2FnZSgwKX19dmFyIGssbD1bXTtiLmV4cG9ydHM9ZH0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDU4OltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoKXt9ZnVuY3Rpb24gZShhKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgYSl0aHJvdyBuZXcgVHlwZUVycm9yKCJyZXNvbHZlciBtdXN0IGJlIGEgZnVuY3Rpb24iKTt0aGlzLnN0YXRlPXMsdGhpcy5xdWV1ZT1bXSx0aGlzLm91dGNvbWU9dm9pZCAwLGEhPT1kJiZpKHRoaXMsYSl9ZnVuY3Rpb24gZihhLGIsYyl7dGhpcy5wcm9taXNlPWEsImZ1bmN0aW9uIj09dHlwZW9mIGImJih0aGlzLm9uRnVsZmlsbGVkPWIsdGhpcy5jYWxsRnVsZmlsbGVkPXRoaXMub3RoZXJDYWxsRnVsZmlsbGVkKSwiZnVuY3Rpb24iPT10eXBlb2YgYyYmKHRoaXMub25SZWplY3RlZD1jLHRoaXMuY2FsbFJlamVjdGVkPXRoaXMub3RoZXJDYWxsUmVqZWN0ZWQpfWZ1bmN0aW9uIGcoYSxiLGMpe28oZnVuY3Rpb24oKXt2YXIgZDt0cnl7ZD1iKGMpfWNhdGNoKGUpe3JldHVybiBwLnJlamVjdChhLGUpfWQ9PT1hP3AucmVqZWN0KGEsbmV3IFR5cGVFcnJvcigiQ2Fubm90IHJlc29sdmUgcHJvbWlzZSB3aXRoIGl0c2VsZiIpKTpwLnJlc29sdmUoYSxkKX0pfWZ1bmN0aW9uIGgoYSl7dmFyIGI9YSYmYS50aGVuO2lmKGEmJigib2JqZWN0Ij09dHlwZW9mIGF8fCJmdW5jdGlvbiI9PXR5cGVvZiBhKSYmImZ1bmN0aW9uIj09dHlwZW9mIGIpcmV0dXJuIGZ1bmN0aW9uKCl7Yi5hcHBseShhLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIGkoYSxiKXtmdW5jdGlvbiBjKGIpe2Z8fChmPSEwLHAucmVqZWN0KGEsYikpfWZ1bmN0aW9uIGQoYil7Znx8KGY9ITAscC5yZXNvbHZlKGEsYikpfWZ1bmN0aW9uIGUoKXtiKGQsYyl9dmFyIGY9ITEsZz1qKGUpOyJlcnJvciI9PT1nLnN0YXR1cyYmYyhnLnZhbHVlKX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9e307dHJ5e2MudmFsdWU9YShiKSxjLnN0YXR1cz0ic3VjY2VzcyJ9Y2F0Y2goZCl7Yy5zdGF0dXM9ImVycm9yIixjLnZhbHVlPWR9cmV0dXJuIGN9ZnVuY3Rpb24gayhhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIHRoaXM/YTpwLnJlc29sdmUobmV3IHRoaXMoZCksYSl9ZnVuY3Rpb24gbChhKXt2YXIgYj1uZXcgdGhpcyhkKTtyZXR1cm4gcC5yZWplY3QoYixhKX1mdW5jdGlvbiBtKGEpe2Z1bmN0aW9uIGIoYSxiKXtmdW5jdGlvbiBkKGEpe2dbYl09YSwrK2ghPT1lfHxmfHwoZj0hMCxwLnJlc29sdmUoaixnKSl9Yy5yZXNvbHZlKGEpLnRoZW4oZCxmdW5jdGlvbihhKXtmfHwoZj0hMCxwLnJlamVjdChqLGEpKX0pfXZhciBjPXRoaXM7aWYoIltvYmplY3QgQXJyYXldIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKSlyZXR1cm4gdGhpcy5yZWplY3QobmV3IFR5cGVFcnJvcigibXVzdCBiZSBhbiBhcnJheSIpKTt2YXIgZT1hLmxlbmd0aCxmPSExO2lmKCFlKXJldHVybiB0aGlzLnJlc29sdmUoW10pO2Zvcih2YXIgZz1uZXcgQXJyYXkoZSksaD0wLGk9LTEsaj1uZXcgdGhpcyhkKTsrK2k8ZTspYihhW2ldLGkpO3JldHVybiBqfWZ1bmN0aW9uIG4oYSl7ZnVuY3Rpb24gYihhKXtjLnJlc29sdmUoYSkudGhlbihmdW5jdGlvbihhKXtmfHwoZj0hMCxwLnJlc29sdmUoaCxhKSl9LGZ1bmN0aW9uKGEpe2Z8fChmPSEwLHAucmVqZWN0KGgsYSkpfSl9dmFyIGM9dGhpcztpZigiW29iamVjdCBBcnJheV0iIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpKXJldHVybiB0aGlzLnJlamVjdChuZXcgVHlwZUVycm9yKCJtdXN0IGJlIGFuIGFycmF5IikpO3ZhciBlPWEubGVuZ3RoLGY9ITE7aWYoIWUpcmV0dXJuIHRoaXMucmVzb2x2ZShbXSk7Zm9yKHZhciBnPS0xLGg9bmV3IHRoaXMoZCk7KytnPGU7KWIoYVtnXSk7cmV0dXJuIGh9dmFyIG89YSgiaW1tZWRpYXRlIikscD17fSxxPVsiUkVKRUNURUQiXSxyPVsiRlVMRklMTEVEIl0scz1bIlBFTkRJTkciXTtiLmV4cG9ydHM9ZSxlLnByb3RvdHlwZVsiY2F0Y2giXT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsYSl9LGUucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oYSxiKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgYSYmdGhpcy5zdGF0ZT09PXJ8fCJmdW5jdGlvbiIhPXR5cGVvZiBiJiZ0aGlzLnN0YXRlPT09cSlyZXR1cm4gdGhpczt2YXIgYz1uZXcgdGhpcy5jb25zdHJ1Y3RvcihkKTtpZih0aGlzLnN0YXRlIT09cyl7dmFyIGU9dGhpcy5zdGF0ZT09PXI/YTpiO2coYyxlLHRoaXMub3V0Y29tZSl9ZWxzZSB0aGlzLnF1ZXVlLnB1c2gobmV3IGYoYyxhLGIpKTtyZXR1cm4gY30sZi5wcm90b3R5cGUuY2FsbEZ1bGZpbGxlZD1mdW5jdGlvbihhKXtwLnJlc29sdmUodGhpcy5wcm9taXNlLGEpfSxmLnByb3RvdHlwZS5vdGhlckNhbGxGdWxmaWxsZWQ9ZnVuY3Rpb24oYSl7Zyh0aGlzLnByb21pc2UsdGhpcy5vbkZ1bGZpbGxlZCxhKX0sZi5wcm90b3R5cGUuY2FsbFJlamVjdGVkPWZ1bmN0aW9uKGEpe3AucmVqZWN0KHRoaXMucHJvbWlzZSxhKX0sZi5wcm90b3R5cGUub3RoZXJDYWxsUmVqZWN0ZWQ9ZnVuY3Rpb24oYSl7Zyh0aGlzLnByb21pc2UsdGhpcy5vblJlamVjdGVkLGEpfSxwLnJlc29sdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1qKGgsYik7aWYoImVycm9yIj09PWMuc3RhdHVzKXJldHVybiBwLnJlamVjdChhLGMudmFsdWUpO3ZhciBkPWMudmFsdWU7aWYoZClpKGEsZCk7ZWxzZXthLnN0YXRlPXIsYS5vdXRjb21lPWI7Zm9yKHZhciBlPS0xLGY9YS5xdWV1ZS5sZW5ndGg7KytlPGY7KWEucXVldWVbZV0uY2FsbEZ1bGZpbGxlZChiKX1yZXR1cm4gYX0scC5yZWplY3Q9ZnVuY3Rpb24oYSxiKXthLnN0YXRlPXEsYS5vdXRjb21lPWI7Zm9yKHZhciBjPS0xLGQ9YS5xdWV1ZS5sZW5ndGg7KytjPGQ7KWEucXVldWVbY10uY2FsbFJlamVjdGVkKGIpO3JldHVybiBhfSxlLnJlc29sdmU9ayxlLnJlamVjdD1sLGUuYWxsPW0sZS5yYWNlPW59LHtpbW1lZGlhdGU6NTd9XSw1OTpbZnVuY3Rpb24oYSxiLGMpeyJ1c2Ugc3RyaWN0Ijt2YXIgZD1hKCIuL2xpYi91dGlscy9jb21tb24iKS5hc3NpZ24sZT1hKCIuL2xpYi9kZWZsYXRlIiksZj1hKCIuL2xpYi9pbmZsYXRlIiksZz1hKCIuL2xpYi96bGliL2NvbnN0YW50cyIpLGg9e307ZChoLGUsZixnKSxiLmV4cG9ydHM9aH0seyIuL2xpYi9kZWZsYXRlIjo2MCwiLi9saWIvaW5mbGF0ZSI6NjEsIi4vbGliL3V0aWxzL2NvbW1vbiI6NjIsIi4vbGliL3psaWIvY29uc3RhbnRzIjo2NX1dLDYwOltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoYSl7aWYoISh0aGlzIGluc3RhbmNlb2YgZCkpcmV0dXJuIG5ldyBkKGEpO3RoaXMub3B0aW9ucz1pLmFzc2lnbih7bGV2ZWw6cyxtZXRob2Q6dSxjaHVua1NpemU6MTYzODQsd2luZG93Qml0czoxNSxtZW1MZXZlbDo4LHN0cmF0ZWd5OnQsdG86IiJ9LGF8fHt9KTt2YXIgYj10aGlzLm9wdGlvbnM7Yi5yYXcmJmIud2luZG93Qml0cz4wP2Iud2luZG93Qml0cz0tYi53aW5kb3dCaXRzOmIuZ3ppcCYmYi53aW5kb3dCaXRzPjAmJmIud2luZG93Qml0czwxNiYmKGIud2luZG93Qml0cys9MTYpLHRoaXMuZXJyPTAsdGhpcy5tc2c9IiIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3IGwsdGhpcy5zdHJtLmF2YWlsX291dD0wO3ZhciBjPWguZGVmbGF0ZUluaXQyKHRoaXMuc3RybSxiLmxldmVsLGIubWV0aG9kLGIud2luZG93Qml0cyxiLm1lbUxldmVsLGIuc3RyYXRlZ3kpO2lmKGMhPT1wKXRocm93IG5ldyBFcnJvcihrW2NdKTtpZihiLmhlYWRlciYmaC5kZWZsYXRlU2V0SGVhZGVyKHRoaXMuc3RybSxiLmhlYWRlciksYi5kaWN0aW9uYXJ5KXt2YXIgZTtpZihlPSJzdHJpbmciPT10eXBlb2YgYi5kaWN0aW9uYXJ5P2ouc3RyaW5nMmJ1ZihiLmRpY3Rpb25hcnkpOiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT1tLmNhbGwoYi5kaWN0aW9uYXJ5KT9uZXcgVWludDhBcnJheShiLmRpY3Rpb25hcnkpOmIuZGljdGlvbmFyeSxjPWguZGVmbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGUpLGMhPT1wKXRocm93IG5ldyBFcnJvcihrW2NdKTt0aGlzLl9kaWN0X3NldD0hMH19ZnVuY3Rpb24gZShhLGIpe3ZhciBjPW5ldyBkKGIpO2lmKGMucHVzaChhLCEwKSxjLmVycil0aHJvdyBjLm1zZ3x8a1tjLmVycl07cmV0dXJuIGMucmVzdWx0fWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gYj1ifHx7fSxiLnJhdz0hMCxlKGEsYil9ZnVuY3Rpb24gZyhhLGIpe3JldHVybiBiPWJ8fHt9LGIuZ3ppcD0hMCxlKGEsYil9dmFyIGg9YSgiLi96bGliL2RlZmxhdGUiKSxpPWEoIi4vdXRpbHMvY29tbW9uIiksaj1hKCIuL3V0aWxzL3N0cmluZ3MiKSxrPWEoIi4vemxpYi9tZXNzYWdlcyIpLGw9YSgiLi96bGliL3pzdHJlYW0iKSxtPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsbj0wLG89NCxwPTAscT0xLHI9MixzPS0xLHQ9MCx1PTg7ZC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZT10aGlzLnN0cm0sZj10aGlzLm9wdGlvbnMuY2h1bmtTaXplO2lmKHRoaXMuZW5kZWQpcmV0dXJuITE7ZD1iPT09fn5iP2I6Yj09PSEwP286biwic3RyaW5nIj09dHlwZW9mIGE/ZS5pbnB1dD1qLnN0cmluZzJidWYoYSk6IltvYmplY3QgQXJyYXlCdWZmZXJdIj09PW0uY2FsbChhKT9lLmlucHV0PW5ldyBVaW50OEFycmF5KGEpOmUuaW5wdXQ9YSxlLm5leHRfaW49MCxlLmF2YWlsX2luPWUuaW5wdXQubGVuZ3RoO2Rve2lmKDA9PT1lLmF2YWlsX291dCYmKGUub3V0cHV0PW5ldyBpLkJ1ZjgoZiksZS5uZXh0X291dD0wLGUuYXZhaWxfb3V0PWYpLGM9aC5kZWZsYXRlKGUsZCksYyE9PXEmJmMhPT1wKXJldHVybiB0aGlzLm9uRW5kKGMpLHRoaXMuZW5kZWQ9ITAsITE7MCE9PWUuYXZhaWxfb3V0JiYoMCE9PWUuYXZhaWxfaW58fGQhPT1vJiZkIT09cil8fCgic3RyaW5nIj09PXRoaXMub3B0aW9ucy50bz90aGlzLm9uRGF0YShqLmJ1ZjJiaW5zdHJpbmcoaS5zaHJpbmtCdWYoZS5vdXRwdXQsZS5uZXh0X291dCkpKTp0aGlzLm9uRGF0YShpLnNocmlua0J1ZihlLm91dHB1dCxlLm5leHRfb3V0KSkpfXdoaWxlKChlLmF2YWlsX2luPjB8fDA9PT1lLmF2YWlsX291dCkmJmMhPT1xKTtyZXR1cm4gZD09PW8/KGM9aC5kZWZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5vbkVuZChjKSx0aGlzLmVuZGVkPSEwLGM9PT1wKTpkIT09cnx8KHRoaXMub25FbmQocCksZS5hdmFpbF9vdXQ9MCwhMCl9LGQucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbihhKXt0aGlzLmNodW5rcy5wdXNoKGEpfSxkLnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbihhKXthPT09cCYmKCJzdHJpbmciPT09dGhpcy5vcHRpb25zLnRvP3RoaXMucmVzdWx0PXRoaXMuY2h1bmtzLmpvaW4oIiIpOnRoaXMucmVzdWx0PWkuZmxhdHRlbkNodW5rcyh0aGlzLmNodW5rcykpLHRoaXMuY2h1bmtzPVtdLHRoaXMuZXJyPWEsdGhpcy5tc2c9dGhpcy5zdHJtLm1zZ30sYy5EZWZsYXRlPWQsYy5kZWZsYXRlPWUsYy5kZWZsYXRlUmF3PWYsYy5nemlwPWd9LHsiLi91dGlscy9jb21tb24iOjYyLCIuL3V0aWxzL3N0cmluZ3MiOjYzLCIuL3psaWIvZGVmbGF0ZSI6NjcsIi4vemxpYi9tZXNzYWdlcyI6NzIsIi4vemxpYi96c3RyZWFtIjo3NH1dLDYxOltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoYSl7aWYoISh0aGlzIGluc3RhbmNlb2YgZCkpcmV0dXJuIG5ldyBkKGEpO3RoaXMub3B0aW9ucz1oLmFzc2lnbih7Y2h1bmtTaXplOjE2Mzg0LHdpbmRvd0JpdHM6MCx0bzoiIn0sYXx8e30pO3ZhciBiPXRoaXMub3B0aW9ucztiLnJhdyYmYi53aW5kb3dCaXRzPj0wJiZiLndpbmRvd0JpdHM8MTYmJihiLndpbmRvd0JpdHM9LWIud2luZG93Qml0cywwPT09Yi53aW5kb3dCaXRzJiYoYi53aW5kb3dCaXRzPS0xNSkpLCEoYi53aW5kb3dCaXRzPj0wJiZiLndpbmRvd0JpdHM8MTYpfHxhJiZhLndpbmRvd0JpdHN8fChiLndpbmRvd0JpdHMrPTMyKSxiLndpbmRvd0JpdHM+MTUmJmIud2luZG93Qml0czw0OCYmMD09PSgxNSZiLndpbmRvd0JpdHMpJiYoYi53aW5kb3dCaXRzfD0xNSksdGhpcy5lcnI9MCx0aGlzLm1zZz0iIix0aGlzLmVuZGVkPSExLHRoaXMuY2h1bmtzPVtdLHRoaXMuc3RybT1uZXcgbCx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7dmFyIGM9Zy5pbmZsYXRlSW5pdDIodGhpcy5zdHJtLGIud2luZG93Qml0cyk7aWYoYyE9PWouWl9PSyl0aHJvdyBuZXcgRXJyb3Ioa1tjXSk7dGhpcy5oZWFkZXI9bmV3IG0sZy5pbmZsYXRlR2V0SGVhZGVyKHRoaXMuc3RybSx0aGlzLmhlYWRlcil9ZnVuY3Rpb24gZShhLGIpe3ZhciBjPW5ldyBkKGIpO2lmKGMucHVzaChhLCEwKSxjLmVycil0aHJvdyBjLm1zZ3x8a1tjLmVycl07cmV0dXJuIGMucmVzdWx0fWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gYj1ifHx7fSxiLnJhdz0hMCxlKGEsYil9dmFyIGc9YSgiLi96bGliL2luZmxhdGUiKSxoPWEoIi4vdXRpbHMvY29tbW9uIiksaT1hKCIuL3V0aWxzL3N0cmluZ3MiKSxqPWEoIi4vemxpYi9jb25zdGFudHMiKSxrPWEoIi4vemxpYi9tZXNzYWdlcyIpLGw9YSgiLi96bGliL3pzdHJlYW0iKSxtPWEoIi4vemxpYi9nemhlYWRlciIpLG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztkLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsayxsLG09dGhpcy5zdHJtLG89dGhpcy5vcHRpb25zLmNodW5rU2l6ZSxwPXRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5LHE9ITE7aWYodGhpcy5lbmRlZClyZXR1cm4hMTtkPWI9PT1+fmI/YjpiPT09ITA/ai5aX0ZJTklTSDpqLlpfTk9fRkxVU0gsInN0cmluZyI9PXR5cGVvZiBhP20uaW5wdXQ9aS5iaW5zdHJpbmcyYnVmKGEpOiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT1uLmNhbGwoYSk/bS5pbnB1dD1uZXcgVWludDhBcnJheShhKTptLmlucHV0PWEsbS5uZXh0X2luPTAsbS5hdmFpbF9pbj1tLmlucHV0Lmxlbmd0aDtkb3tpZigwPT09bS5hdmFpbF9vdXQmJihtLm91dHB1dD1uZXcgaC5CdWY4KG8pLG0ubmV4dF9vdXQ9MCxtLmF2YWlsX291dD1vKSxjPWcuaW5mbGF0ZShtLGouWl9OT19GTFVTSCksYz09PWouWl9ORUVEX0RJQ1QmJnAmJihsPSJzdHJpbmciPT10eXBlb2YgcD9pLnN0cmluZzJidWYocCk6IltvYmplY3QgQXJyYXlCdWZmZXJdIj09PW4uY2FsbChwKT9uZXcgVWludDhBcnJheShwKTpwLGM9Zy5pbmZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sbCkpLGM9PT1qLlpfQlVGX0VSUk9SJiZxPT09ITAmJihjPWouWl9PSyxxPSExKSxjIT09ai5aX1NUUkVBTV9FTkQmJmMhPT1qLlpfT0spcmV0dXJuIHRoaXMub25FbmQoYyksdGhpcy5lbmRlZD0hMCwhMTttLm5leHRfb3V0JiYoMCE9PW0uYXZhaWxfb3V0JiZjIT09ai5aX1NUUkVBTV9FTkQmJigwIT09bS5hdmFpbF9pbnx8ZCE9PWouWl9GSU5JU0gmJmQhPT1qLlpfU1lOQ19GTFVTSCl8fCgic3RyaW5nIj09PXRoaXMub3B0aW9ucy50bz8oZT1pLnV0Zjhib3JkZXIobS5vdXRwdXQsbS5uZXh0X291dCksZj1tLm5leHRfb3V0LWUsaz1pLmJ1ZjJzdHJpbmcobS5vdXRwdXQsZSksbS5uZXh0X291dD1mLG0uYXZhaWxfb3V0PW8tZixmJiZoLmFycmF5U2V0KG0ub3V0cHV0LG0ub3V0cHV0LGUsZiwwKSx0aGlzLm9uRGF0YShrKSk6dGhpcy5vbkRhdGEoaC5zaHJpbmtCdWYobS5vdXRwdXQsbS5uZXh0X291dCkpKSksMD09PW0uYXZhaWxfaW4mJjA9PT1tLmF2YWlsX291dCYmKHE9ITApfXdoaWxlKChtLmF2YWlsX2luPjB8fDA9PT1tLmF2YWlsX291dCkmJmMhPT1qLlpfU1RSRUFNX0VORCk7cmV0dXJuIGM9PT1qLlpfU1RSRUFNX0VORCYmKGQ9ai5aX0ZJTklTSCksZD09PWouWl9GSU5JU0g/KGM9Zy5pbmZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5vbkVuZChjKSx0aGlzLmVuZGVkPSEwLGM9PT1qLlpfT0spOmQhPT1qLlpfU1lOQ19GTFVTSHx8KHRoaXMub25FbmQoai5aX09LKSxtLmF2YWlsX291dD0wLCEwKX0sZC5wcm90b3R5cGUub25EYXRhPWZ1bmN0aW9uKGEpe3RoaXMuY2h1bmtzLnB1c2goYSl9LGQucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKGEpe2E9PT1qLlpfT0smJigic3RyaW5nIj09PXRoaXMub3B0aW9ucy50bz90aGlzLnJlc3VsdD10aGlzLmNodW5rcy5qb2luKCIiKTp0aGlzLnJlc3VsdD1oLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpKSx0aGlzLmNodW5rcz1bXSx0aGlzLmVycj1hLHRoaXMubXNnPXRoaXMuc3RybS5tc2d9LGMuSW5mbGF0ZT1kLGMuaW5mbGF0ZT1lLGMuaW5mbGF0ZVJhdz1mLGMudW5nemlwPWV9LHsiLi91dGlscy9jb21tb24iOjYyLCIuL3V0aWxzL3N0cmluZ3MiOjYzLCIuL3psaWIvY29uc3RhbnRzIjo2NSwiLi96bGliL2d6aGVhZGVyIjo2OCwiLi96bGliL2luZmxhdGUiOjcwLCIuL3psaWIvbWVzc2FnZXMiOjcyLCIuL3psaWIvenN0cmVhbSI6NzR9XSw2MjpbZnVuY3Rpb24oYSxiLGMpeyJ1c2Ugc3RyaWN0Ijt2YXIgZD0idW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJiJ1bmRlZmluZWQiIT10eXBlb2YgVWludDE2QXJyYXkmJiJ1bmRlZmluZWQiIT10eXBlb2YgSW50MzJBcnJheTtjLmFzc2lnbj1mdW5jdGlvbihhKXtmb3IodmFyIGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2IubGVuZ3RoOyl7dmFyIGM9Yi5zaGlmdCgpO2lmKGMpe2lmKCJvYmplY3QiIT10eXBlb2YgYyl0aHJvdyBuZXcgVHlwZUVycm9yKGMrIm11c3QgYmUgbm9uLW9iamVjdCIpO2Zvcih2YXIgZCBpbiBjKWMuaGFzT3duUHJvcGVydHkoZCkmJihhW2RdPWNbZF0pfX1yZXR1cm4gYX0sYy5zaHJpbmtCdWY9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5sZW5ndGg9PT1iP2E6YS5zdWJhcnJheT9hLnN1YmFycmF5KDAsYik6KGEubGVuZ3RoPWIsYSl9O3ZhciBlPXthcnJheVNldDpmdW5jdGlvbihhLGIsYyxkLGUpe2lmKGIuc3ViYXJyYXkmJmEuc3ViYXJyYXkpcmV0dXJuIHZvaWQgYS5zZXQoYi5zdWJhcnJheShjLGMrZCksZSk7Zm9yKHZhciBmPTA7ZjxkO2YrKylhW2UrZl09YltjK2ZdfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZztmb3IoZD0wLGI9MCxjPWEubGVuZ3RoO2I8YztiKyspZCs9YVtiXS5sZW5ndGg7Zm9yKGc9bmV3IFVpbnQ4QXJyYXkoZCksZT0wLGI9MCxjPWEubGVuZ3RoO2I8YztiKyspZj1hW2JdLGcuc2V0KGYsZSksZSs9Zi5sZW5ndGg7cmV0dXJuIGd9fSxmPXthcnJheVNldDpmdW5jdGlvbihhLGIsYyxkLGUpe2Zvcih2YXIgZj0wO2Y8ZDtmKyspYVtlK2ZdPWJbYytmXX0sZmxhdHRlbkNodW5rczpmdW5jdGlvbihhKXtyZXR1cm5bXS5jb25jYXQuYXBwbHkoW10sYSl9fTtjLnNldFR5cGVkPWZ1bmN0aW9uKGEpe2E/KGMuQnVmOD1VaW50OEFycmF5LGMuQnVmMTY9VWludDE2QXJyYXksYy5CdWYzMj1JbnQzMkFycmF5LGMuYXNzaWduKGMsZSkpOihjLkJ1Zjg9QXJyYXksYy5CdWYxNj1BcnJheSxjLkJ1ZjMyPUFycmF5LGMuYXNzaWduKGMsZikpfSxjLnNldFR5cGVkKGQpfSx7fV0sNjM6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZChhLGIpe2lmKGI8NjU1MzcmJihhLnN1YmFycmF5JiZnfHwhYS5zdWJhcnJheSYmZikpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxlLnNocmlua0J1ZihhLGIpKTtmb3IodmFyIGM9IiIsZD0wO2Q8YjtkKyspYys9U3RyaW5nLmZyb21DaGFyQ29kZShhW2RdKTtyZXR1cm4gY312YXIgZT1hKCIuL2NvbW1vbiIpLGY9ITAsZz0hMDt0cnl7U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLFswXSl9Y2F0Y2goaCl7Zj0hMX10cnl7U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KDEpKX1jYXRjaChoKXtnPSExfWZvcih2YXIgaT1uZXcgZS5CdWY4KDI1Niksaj0wO2o8MjU2O2orKylpW2pdPWo+PTI1Mj82Omo+PTI0OD81Omo+PTI0MD80Omo+PTIyND8zOmo+PTE5Mj8yOjE7aVsyNTRdPWlbMjU0XT0xLGMuc3RyaW5nMmJ1Zj1mdW5jdGlvbihhKXt2YXIgYixjLGQsZixnLGg9YS5sZW5ndGgsaT0wO2ZvcihmPTA7ZjxoO2YrKyljPWEuY2hhckNvZGVBdChmKSw1NTI5Nj09PSg2NDUxMiZjKSYmZisxPGgmJihkPWEuY2hhckNvZGVBdChmKzEpLDU2MzIwPT09KDY0NTEyJmQpJiYoYz02NTUzNisoYy01NTI5Njw8MTApKyhkLTU2MzIwKSxmKyspKSxpKz1jPDEyOD8xOmM8MjA0OD8yOmM8NjU1MzY/Mzo0O2ZvcihiPW5ldyBlLkJ1ZjgoaSksZz0wLGY9MDtnPGk7ZisrKWM9YS5jaGFyQ29kZUF0KGYpLDU1Mjk2PT09KDY0NTEyJmMpJiZmKzE8aCYmKGQ9YS5jaGFyQ29kZUF0KGYrMSksNTYzMjA9PT0oNjQ1MTImZCkmJihjPTY1NTM2KyhjLTU1Mjk2PDwxMCkrKGQtNTYzMjApLGYrKykpLGM8MTI4P2JbZysrXT1jOmM8MjA0OD8oYltnKytdPTE5MnxjPj4+NixiW2crK109MTI4fDYzJmMpOmM8NjU1MzY/KGJbZysrXT0yMjR8Yz4+PjEyLGJbZysrXT0xMjh8Yz4+PjYmNjMsYltnKytdPTEyOHw2MyZjKTooYltnKytdPTI0MHxjPj4+MTgsYltnKytdPTEyOHxjPj4+MTImNjMsYltnKytdPTEyOHxjPj4+NiY2MyxiW2crK109MTI4fDYzJmMpO3JldHVybiBifSxjLmJ1ZjJiaW5zdHJpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSxhLmxlbmd0aCl9LGMuYmluc3RyaW5nMmJ1Zj1mdW5jdGlvbihhKXtmb3IodmFyIGI9bmV3IGUuQnVmOChhLmxlbmd0aCksYz0wLGQ9Yi5sZW5ndGg7YzxkO2MrKyliW2NdPWEuY2hhckNvZGVBdChjKTtyZXR1cm4gYn0sYy5idWYyc3RyaW5nPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaD1ifHxhLmxlbmd0aCxqPW5ldyBBcnJheSgyKmgpO2ZvcihlPTAsYz0wO2M8aDspaWYoZj1hW2MrK10sZjwxMjgpaltlKytdPWY7ZWxzZSBpZihnPWlbZl0sZz40KWpbZSsrXT02NTUzMyxjKz1nLTE7ZWxzZXtmb3IoZiY9Mj09PWc/MzE6Mz09PWc/MTU6NztnPjEmJmM8aDspZj1mPDw2fDYzJmFbYysrXSxnLS07Zz4xP2pbZSsrXT02NTUzMzpmPDY1NTM2P2pbZSsrXT1mOihmLT02NTUzNixqW2UrK109NTUyOTZ8Zj4+MTAmMTAyMyxqW2UrK109NTYzMjB8MTAyMyZmKX1yZXR1cm4gZChqLGUpfSxjLnV0Zjhib3JkZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYztmb3IoYj1ifHxhLmxlbmd0aCxiPmEubGVuZ3RoJiYoYj1hLmxlbmd0aCksYz1iLTE7Yz49MCYmMTI4PT09KDE5MiZhW2NdKTspYy0tO3JldHVybiBjPDA/YjowPT09Yz9iOmMraVthW2NdXT5iP2M6Yn19LHsiLi9jb21tb24iOjYyfV0sNjQ6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZChhLGIsYyxkKXtmb3IodmFyIGU9NjU1MzUmYXwwLGY9YT4+PjE2JjY1NTM1fDAsZz0wOzAhPT1jOyl7Zz1jPjJlMz8yZTM6YyxjLT1nO2RvIGU9ZStiW2QrK118MCxmPWYrZXwwO3doaWxlKC0tZyk7ZSU9NjU1MjEsZiU9NjU1MjF9cmV0dXJuIGV8Zjw8MTZ8MDsKfWIuZXhwb3J0cz1kfSx7fV0sNjU6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7Yi5leHBvcnRzPXtaX05PX0ZMVVNIOjAsWl9QQVJUSUFMX0ZMVVNIOjEsWl9TWU5DX0ZMVVNIOjIsWl9GVUxMX0ZMVVNIOjMsWl9GSU5JU0g6NCxaX0JMT0NLOjUsWl9UUkVFUzo2LFpfT0s6MCxaX1NUUkVBTV9FTkQ6MSxaX05FRURfRElDVDoyLFpfRVJSTk86LTEsWl9TVFJFQU1fRVJST1I6LTIsWl9EQVRBX0VSUk9SOi0zLFpfQlVGX0VSUk9SOi01LFpfTk9fQ09NUFJFU1NJT046MCxaX0JFU1RfU1BFRUQ6MSxaX0JFU1RfQ09NUFJFU1NJT046OSxaX0RFRkFVTFRfQ09NUFJFU1NJT046LTEsWl9GSUxURVJFRDoxLFpfSFVGRk1BTl9PTkxZOjIsWl9STEU6MyxaX0ZJWEVEOjQsWl9ERUZBVUxUX1NUUkFURUdZOjAsWl9CSU5BUlk6MCxaX1RFWFQ6MSxaX1VOS05PV046MixaX0RFRkxBVEVEOjh9fSx7fV0sNjY6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZCgpe2Zvcih2YXIgYSxiPVtdLGM9MDtjPDI1NjtjKyspe2E9Yztmb3IodmFyIGQ9MDtkPDg7ZCsrKWE9MSZhPzM5ODgyOTIzODReYT4+PjE6YT4+PjE7YltjXT1hfXJldHVybiBifWZ1bmN0aW9uIGUoYSxiLGMsZCl7dmFyIGU9ZixnPWQrYzthXj0tMTtmb3IodmFyIGg9ZDtoPGc7aCsrKWE9YT4+PjheZVsyNTUmKGFeYltoXSldO3JldHVybiBhXi0xfXZhciBmPWQoKTtiLmV4cG9ydHM9ZX0se31dLDY3OltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoYSxiKXtyZXR1cm4gYS5tc2c9SVtiXSxifWZ1bmN0aW9uIGUoYSl7cmV0dXJuKGE8PDEpLShhPjQ/OTowKX1mdW5jdGlvbiBmKGEpe2Zvcih2YXIgYj1hLmxlbmd0aDstLWI+PTA7KWFbYl09MH1mdW5jdGlvbiBnKGEpe3ZhciBiPWEuc3RhdGUsYz1iLnBlbmRpbmc7Yz5hLmF2YWlsX291dCYmKGM9YS5hdmFpbF9vdXQpLDAhPT1jJiYoRS5hcnJheVNldChhLm91dHB1dCxiLnBlbmRpbmdfYnVmLGIucGVuZGluZ19vdXQsYyxhLm5leHRfb3V0KSxhLm5leHRfb3V0Kz1jLGIucGVuZGluZ19vdXQrPWMsYS50b3RhbF9vdXQrPWMsYS5hdmFpbF9vdXQtPWMsYi5wZW5kaW5nLT1jLDA9PT1iLnBlbmRpbmcmJihiLnBlbmRpbmdfb3V0PTApKX1mdW5jdGlvbiBoKGEsYil7Ri5fdHJfZmx1c2hfYmxvY2soYSxhLmJsb2NrX3N0YXJ0Pj0wP2EuYmxvY2tfc3RhcnQ6LTEsYS5zdHJzdGFydC1hLmJsb2NrX3N0YXJ0LGIpLGEuYmxvY2tfc3RhcnQ9YS5zdHJzdGFydCxnKGEuc3RybSl9ZnVuY3Rpb24gaShhLGIpe2EucGVuZGluZ19idWZbYS5wZW5kaW5nKytdPWJ9ZnVuY3Rpb24gaihhLGIpe2EucGVuZGluZ19idWZbYS5wZW5kaW5nKytdPWI+Pj44JjI1NSxhLnBlbmRpbmdfYnVmW2EucGVuZGluZysrXT0yNTUmYn1mdW5jdGlvbiBrKGEsYixjLGQpe3ZhciBlPWEuYXZhaWxfaW47cmV0dXJuIGU+ZCYmKGU9ZCksMD09PWU/MDooYS5hdmFpbF9pbi09ZSxFLmFycmF5U2V0KGIsYS5pbnB1dCxhLm5leHRfaW4sZSxjKSwxPT09YS5zdGF0ZS53cmFwP2EuYWRsZXI9RyhhLmFkbGVyLGIsZSxjKToyPT09YS5zdGF0ZS53cmFwJiYoYS5hZGxlcj1IKGEuYWRsZXIsYixlLGMpKSxhLm5leHRfaW4rPWUsYS50b3RhbF9pbis9ZSxlKX1mdW5jdGlvbiBsKGEsYil7dmFyIGMsZCxlPWEubWF4X2NoYWluX2xlbmd0aCxmPWEuc3Ryc3RhcnQsZz1hLnByZXZfbGVuZ3RoLGg9YS5uaWNlX21hdGNoLGk9YS5zdHJzdGFydD5hLndfc2l6ZS1sYT9hLnN0cnN0YXJ0LShhLndfc2l6ZS1sYSk6MCxqPWEud2luZG93LGs9YS53X21hc2ssbD1hLnByZXYsbT1hLnN0cnN0YXJ0K2thLG49altmK2ctMV0sbz1qW2YrZ107YS5wcmV2X2xlbmd0aD49YS5nb29kX21hdGNoJiYoZT4+PTIpLGg+YS5sb29rYWhlYWQmJihoPWEubG9va2FoZWFkKTtkbyBpZihjPWIsaltjK2ddPT09byYmaltjK2ctMV09PT1uJiZqW2NdPT09altmXSYmalsrK2NdPT09altmKzFdKXtmKz0yLGMrKztkbzt3aGlsZShqWysrZl09PT1qWysrY10mJmpbKytmXT09PWpbKytjXSYmalsrK2ZdPT09alsrK2NdJiZqWysrZl09PT1qWysrY10mJmpbKytmXT09PWpbKytjXSYmalsrK2ZdPT09alsrK2NdJiZqWysrZl09PT1qWysrY10mJmpbKytmXT09PWpbKytjXSYmZjxtKTtpZihkPWthLShtLWYpLGY9bS1rYSxkPmcpe2lmKGEubWF0Y2hfc3RhcnQ9YixnPWQsZD49aClicmVhaztuPWpbZitnLTFdLG89altmK2ddfX13aGlsZSgoYj1sW2Ima10pPmkmJjAhPT0tLWUpO3JldHVybiBnPD1hLmxvb2thaGVhZD9nOmEubG9va2FoZWFkfWZ1bmN0aW9uIG0oYSl7dmFyIGIsYyxkLGUsZixnPWEud19zaXplO2Rve2lmKGU9YS53aW5kb3dfc2l6ZS1hLmxvb2thaGVhZC1hLnN0cnN0YXJ0LGEuc3Ryc3RhcnQ+PWcrKGctbGEpKXtFLmFycmF5U2V0KGEud2luZG93LGEud2luZG93LGcsZywwKSxhLm1hdGNoX3N0YXJ0LT1nLGEuc3Ryc3RhcnQtPWcsYS5ibG9ja19zdGFydC09ZyxjPWEuaGFzaF9zaXplLGI9YztkbyBkPWEuaGVhZFstLWJdLGEuaGVhZFtiXT1kPj1nP2QtZzowO3doaWxlKC0tYyk7Yz1nLGI9YztkbyBkPWEucHJldlstLWJdLGEucHJldltiXT1kPj1nP2QtZzowO3doaWxlKC0tYyk7ZSs9Z31pZigwPT09YS5zdHJtLmF2YWlsX2luKWJyZWFrO2lmKGM9ayhhLnN0cm0sYS53aW5kb3csYS5zdHJzdGFydCthLmxvb2thaGVhZCxlKSxhLmxvb2thaGVhZCs9YyxhLmxvb2thaGVhZCthLmluc2VydD49amEpZm9yKGY9YS5zdHJzdGFydC1hLmluc2VydCxhLmluc19oPWEud2luZG93W2ZdLGEuaW5zX2g9KGEuaW5zX2g8PGEuaGFzaF9zaGlmdF5hLndpbmRvd1tmKzFdKSZhLmhhc2hfbWFzazthLmluc2VydCYmKGEuaW5zX2g9KGEuaW5zX2g8PGEuaGFzaF9zaGlmdF5hLndpbmRvd1tmK2phLTFdKSZhLmhhc2hfbWFzayxhLnByZXZbZiZhLndfbWFza109YS5oZWFkW2EuaW5zX2hdLGEuaGVhZFthLmluc19oXT1mLGYrKyxhLmluc2VydC0tLCEoYS5sb29rYWhlYWQrYS5pbnNlcnQ8amEpKTspO313aGlsZShhLmxvb2thaGVhZDxsYSYmMCE9PWEuc3RybS5hdmFpbF9pbil9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPTY1NTM1O2ZvcihjPmEucGVuZGluZ19idWZfc2l6ZS01JiYoYz1hLnBlbmRpbmdfYnVmX3NpemUtNSk7Oyl7aWYoYS5sb29rYWhlYWQ8PTEpe2lmKG0oYSksMD09PWEubG9va2FoZWFkJiZiPT09SilyZXR1cm4gdWE7aWYoMD09PWEubG9va2FoZWFkKWJyZWFrfWEuc3Ryc3RhcnQrPWEubG9va2FoZWFkLGEubG9va2FoZWFkPTA7dmFyIGQ9YS5ibG9ja19zdGFydCtjO2lmKCgwPT09YS5zdHJzdGFydHx8YS5zdHJzdGFydD49ZCkmJihhLmxvb2thaGVhZD1hLnN0cnN0YXJ0LWQsYS5zdHJzdGFydD1kLGgoYSwhMSksMD09PWEuc3RybS5hdmFpbF9vdXQpKXJldHVybiB1YTtpZihhLnN0cnN0YXJ0LWEuYmxvY2tfc3RhcnQ+PWEud19zaXplLWxhJiYoaChhLCExKSwwPT09YS5zdHJtLmF2YWlsX291dCkpcmV0dXJuIHVhfXJldHVybiBhLmluc2VydD0wLGI9PT1NPyhoKGEsITApLDA9PT1hLnN0cm0uYXZhaWxfb3V0P3dhOnhhKTphLnN0cnN0YXJ0PmEuYmxvY2tfc3RhcnQmJihoKGEsITEpLDA9PT1hLnN0cm0uYXZhaWxfb3V0KT91YTp1YX1mdW5jdGlvbiBvKGEsYil7Zm9yKHZhciBjLGQ7Oyl7aWYoYS5sb29rYWhlYWQ8bGEpe2lmKG0oYSksYS5sb29rYWhlYWQ8bGEmJmI9PT1KKXJldHVybiB1YTtpZigwPT09YS5sb29rYWhlYWQpYnJlYWt9aWYoYz0wLGEubG9va2FoZWFkPj1qYSYmKGEuaW5zX2g9KGEuaW5zX2g8PGEuaGFzaF9zaGlmdF5hLndpbmRvd1thLnN0cnN0YXJ0K2phLTFdKSZhLmhhc2hfbWFzayxjPWEucHJldlthLnN0cnN0YXJ0JmEud19tYXNrXT1hLmhlYWRbYS5pbnNfaF0sYS5oZWFkW2EuaW5zX2hdPWEuc3Ryc3RhcnQpLDAhPT1jJiZhLnN0cnN0YXJ0LWM8PWEud19zaXplLWxhJiYoYS5tYXRjaF9sZW5ndGg9bChhLGMpKSxhLm1hdGNoX2xlbmd0aD49amEpaWYoZD1GLl90cl90YWxseShhLGEuc3Ryc3RhcnQtYS5tYXRjaF9zdGFydCxhLm1hdGNoX2xlbmd0aC1qYSksYS5sb29rYWhlYWQtPWEubWF0Y2hfbGVuZ3RoLGEubWF0Y2hfbGVuZ3RoPD1hLm1heF9sYXp5X21hdGNoJiZhLmxvb2thaGVhZD49amEpe2EubWF0Y2hfbGVuZ3RoLS07ZG8gYS5zdHJzdGFydCsrLGEuaW5zX2g9KGEuaW5zX2g8PGEuaGFzaF9zaGlmdF5hLndpbmRvd1thLnN0cnN0YXJ0K2phLTFdKSZhLmhhc2hfbWFzayxjPWEucHJldlthLnN0cnN0YXJ0JmEud19tYXNrXT1hLmhlYWRbYS5pbnNfaF0sYS5oZWFkW2EuaW5zX2hdPWEuc3Ryc3RhcnQ7d2hpbGUoMCE9PS0tYS5tYXRjaF9sZW5ndGgpO2Euc3Ryc3RhcnQrK31lbHNlIGEuc3Ryc3RhcnQrPWEubWF0Y2hfbGVuZ3RoLGEubWF0Y2hfbGVuZ3RoPTAsYS5pbnNfaD1hLndpbmRvd1thLnN0cnN0YXJ0XSxhLmluc19oPShhLmluc19oPDxhLmhhc2hfc2hpZnReYS53aW5kb3dbYS5zdHJzdGFydCsxXSkmYS5oYXNoX21hc2s7ZWxzZSBkPUYuX3RyX3RhbGx5KGEsMCxhLndpbmRvd1thLnN0cnN0YXJ0XSksYS5sb29rYWhlYWQtLSxhLnN0cnN0YXJ0Kys7aWYoZCYmKGgoYSwhMSksMD09PWEuc3RybS5hdmFpbF9vdXQpKXJldHVybiB1YX1yZXR1cm4gYS5pbnNlcnQ9YS5zdHJzdGFydDxqYS0xP2Euc3Ryc3RhcnQ6amEtMSxiPT09TT8oaChhLCEwKSwwPT09YS5zdHJtLmF2YWlsX291dD93YTp4YSk6YS5sYXN0X2xpdCYmKGgoYSwhMSksMD09PWEuc3RybS5hdmFpbF9vdXQpP3VhOnZhfWZ1bmN0aW9uIHAoYSxiKXtmb3IodmFyIGMsZCxlOzspe2lmKGEubG9va2FoZWFkPGxhKXtpZihtKGEpLGEubG9va2FoZWFkPGxhJiZiPT09SilyZXR1cm4gdWE7aWYoMD09PWEubG9va2FoZWFkKWJyZWFrfWlmKGM9MCxhLmxvb2thaGVhZD49amEmJihhLmluc19oPShhLmluc19oPDxhLmhhc2hfc2hpZnReYS53aW5kb3dbYS5zdHJzdGFydCtqYS0xXSkmYS5oYXNoX21hc2ssYz1hLnByZXZbYS5zdHJzdGFydCZhLndfbWFza109YS5oZWFkW2EuaW5zX2hdLGEuaGVhZFthLmluc19oXT1hLnN0cnN0YXJ0KSxhLnByZXZfbGVuZ3RoPWEubWF0Y2hfbGVuZ3RoLGEucHJldl9tYXRjaD1hLm1hdGNoX3N0YXJ0LGEubWF0Y2hfbGVuZ3RoPWphLTEsMCE9PWMmJmEucHJldl9sZW5ndGg8YS5tYXhfbGF6eV9tYXRjaCYmYS5zdHJzdGFydC1jPD1hLndfc2l6ZS1sYSYmKGEubWF0Y2hfbGVuZ3RoPWwoYSxjKSxhLm1hdGNoX2xlbmd0aDw9NSYmKGEuc3RyYXRlZ3k9PT1VfHxhLm1hdGNoX2xlbmd0aD09PWphJiZhLnN0cnN0YXJ0LWEubWF0Y2hfc3RhcnQ+NDA5NikmJihhLm1hdGNoX2xlbmd0aD1qYS0xKSksYS5wcmV2X2xlbmd0aD49amEmJmEubWF0Y2hfbGVuZ3RoPD1hLnByZXZfbGVuZ3RoKXtlPWEuc3Ryc3RhcnQrYS5sb29rYWhlYWQtamEsZD1GLl90cl90YWxseShhLGEuc3Ryc3RhcnQtMS1hLnByZXZfbWF0Y2gsYS5wcmV2X2xlbmd0aC1qYSksYS5sb29rYWhlYWQtPWEucHJldl9sZW5ndGgtMSxhLnByZXZfbGVuZ3RoLT0yO2RvKythLnN0cnN0YXJ0PD1lJiYoYS5pbnNfaD0oYS5pbnNfaDw8YS5oYXNoX3NoaWZ0XmEud2luZG93W2Euc3Ryc3RhcnQramEtMV0pJmEuaGFzaF9tYXNrLGM9YS5wcmV2W2Euc3Ryc3RhcnQmYS53X21hc2tdPWEuaGVhZFthLmluc19oXSxhLmhlYWRbYS5pbnNfaF09YS5zdHJzdGFydCk7d2hpbGUoMCE9PS0tYS5wcmV2X2xlbmd0aCk7aWYoYS5tYXRjaF9hdmFpbGFibGU9MCxhLm1hdGNoX2xlbmd0aD1qYS0xLGEuc3Ryc3RhcnQrKyxkJiYoaChhLCExKSwwPT09YS5zdHJtLmF2YWlsX291dCkpcmV0dXJuIHVhfWVsc2UgaWYoYS5tYXRjaF9hdmFpbGFibGUpe2lmKGQ9Ri5fdHJfdGFsbHkoYSwwLGEud2luZG93W2Euc3Ryc3RhcnQtMV0pLGQmJmgoYSwhMSksYS5zdHJzdGFydCsrLGEubG9va2FoZWFkLS0sMD09PWEuc3RybS5hdmFpbF9vdXQpcmV0dXJuIHVhfWVsc2UgYS5tYXRjaF9hdmFpbGFibGU9MSxhLnN0cnN0YXJ0KyssYS5sb29rYWhlYWQtLX1yZXR1cm4gYS5tYXRjaF9hdmFpbGFibGUmJihkPUYuX3RyX3RhbGx5KGEsMCxhLndpbmRvd1thLnN0cnN0YXJ0LTFdKSxhLm1hdGNoX2F2YWlsYWJsZT0wKSxhLmluc2VydD1hLnN0cnN0YXJ0PGphLTE/YS5zdHJzdGFydDpqYS0xLGI9PT1NPyhoKGEsITApLDA9PT1hLnN0cm0uYXZhaWxfb3V0P3dhOnhhKTphLmxhc3RfbGl0JiYoaChhLCExKSwwPT09YS5zdHJtLmF2YWlsX291dCk/dWE6dmF9ZnVuY3Rpb24gcShhLGIpe2Zvcih2YXIgYyxkLGUsZixnPWEud2luZG93Ozspe2lmKGEubG9va2FoZWFkPD1rYSl7aWYobShhKSxhLmxvb2thaGVhZDw9a2EmJmI9PT1KKXJldHVybiB1YTtpZigwPT09YS5sb29rYWhlYWQpYnJlYWt9aWYoYS5tYXRjaF9sZW5ndGg9MCxhLmxvb2thaGVhZD49amEmJmEuc3Ryc3RhcnQ+MCYmKGU9YS5zdHJzdGFydC0xLGQ9Z1tlXSxkPT09Z1srK2VdJiZkPT09Z1srK2VdJiZkPT09Z1srK2VdKSl7Zj1hLnN0cnN0YXJ0K2thO2RvO3doaWxlKGQ9PT1nWysrZV0mJmQ9PT1nWysrZV0mJmQ9PT1nWysrZV0mJmQ9PT1nWysrZV0mJmQ9PT1nWysrZV0mJmQ9PT1nWysrZV0mJmQ9PT1nWysrZV0mJmQ9PT1nWysrZV0mJmU8Zik7YS5tYXRjaF9sZW5ndGg9a2EtKGYtZSksYS5tYXRjaF9sZW5ndGg+YS5sb29rYWhlYWQmJihhLm1hdGNoX2xlbmd0aD1hLmxvb2thaGVhZCl9aWYoYS5tYXRjaF9sZW5ndGg+PWphPyhjPUYuX3RyX3RhbGx5KGEsMSxhLm1hdGNoX2xlbmd0aC1qYSksYS5sb29rYWhlYWQtPWEubWF0Y2hfbGVuZ3RoLGEuc3Ryc3RhcnQrPWEubWF0Y2hfbGVuZ3RoLGEubWF0Y2hfbGVuZ3RoPTApOihjPUYuX3RyX3RhbGx5KGEsMCxhLndpbmRvd1thLnN0cnN0YXJ0XSksYS5sb29rYWhlYWQtLSxhLnN0cnN0YXJ0KyspLGMmJihoKGEsITEpLDA9PT1hLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gdWF9cmV0dXJuIGEuaW5zZXJ0PTAsYj09PU0/KGgoYSwhMCksMD09PWEuc3RybS5hdmFpbF9vdXQ/d2E6eGEpOmEubGFzdF9saXQmJihoKGEsITEpLDA9PT1hLnN0cm0uYXZhaWxfb3V0KT91YTp2YX1mdW5jdGlvbiByKGEsYil7Zm9yKHZhciBjOzspe2lmKDA9PT1hLmxvb2thaGVhZCYmKG0oYSksMD09PWEubG9va2FoZWFkKSl7aWYoYj09PUopcmV0dXJuIHVhO2JyZWFrfWlmKGEubWF0Y2hfbGVuZ3RoPTAsYz1GLl90cl90YWxseShhLDAsYS53aW5kb3dbYS5zdHJzdGFydF0pLGEubG9va2FoZWFkLS0sYS5zdHJzdGFydCsrLGMmJihoKGEsITEpLDA9PT1hLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gdWF9cmV0dXJuIGEuaW5zZXJ0PTAsYj09PU0/KGgoYSwhMCksMD09PWEuc3RybS5hdmFpbF9vdXQ/d2E6eGEpOmEubGFzdF9saXQmJihoKGEsITEpLDA9PT1hLnN0cm0uYXZhaWxfb3V0KT91YTp2YX1mdW5jdGlvbiBzKGEsYixjLGQsZSl7dGhpcy5nb29kX2xlbmd0aD1hLHRoaXMubWF4X2xhenk9Yix0aGlzLm5pY2VfbGVuZ3RoPWMsdGhpcy5tYXhfY2hhaW49ZCx0aGlzLmZ1bmM9ZX1mdW5jdGlvbiB0KGEpe2Eud2luZG93X3NpemU9MiphLndfc2l6ZSxmKGEuaGVhZCksYS5tYXhfbGF6eV9tYXRjaD1EW2EubGV2ZWxdLm1heF9sYXp5LGEuZ29vZF9tYXRjaD1EW2EubGV2ZWxdLmdvb2RfbGVuZ3RoLGEubmljZV9tYXRjaD1EW2EubGV2ZWxdLm5pY2VfbGVuZ3RoLGEubWF4X2NoYWluX2xlbmd0aD1EW2EubGV2ZWxdLm1heF9jaGFpbixhLnN0cnN0YXJ0PTAsYS5ibG9ja19zdGFydD0wLGEubG9va2FoZWFkPTAsYS5pbnNlcnQ9MCxhLm1hdGNoX2xlbmd0aD1hLnByZXZfbGVuZ3RoPWphLTEsYS5tYXRjaF9hdmFpbGFibGU9MCxhLmluc19oPTB9ZnVuY3Rpb24gdSgpe3RoaXMuc3RybT1udWxsLHRoaXMuc3RhdHVzPTAsdGhpcy5wZW5kaW5nX2J1Zj1udWxsLHRoaXMucGVuZGluZ19idWZfc2l6ZT0wLHRoaXMucGVuZGluZ19vdXQ9MCx0aGlzLnBlbmRpbmc9MCx0aGlzLndyYXA9MCx0aGlzLmd6aGVhZD1udWxsLHRoaXMuZ3ppbmRleD0wLHRoaXMubWV0aG9kPSQsdGhpcy5sYXN0X2ZsdXNoPS0xLHRoaXMud19zaXplPTAsdGhpcy53X2JpdHM9MCx0aGlzLndfbWFzaz0wLHRoaXMud2luZG93PW51bGwsdGhpcy53aW5kb3dfc2l6ZT0wLHRoaXMucHJldj1udWxsLHRoaXMuaGVhZD1udWxsLHRoaXMuaW5zX2g9MCx0aGlzLmhhc2hfc2l6ZT0wLHRoaXMuaGFzaF9iaXRzPTAsdGhpcy5oYXNoX21hc2s9MCx0aGlzLmhhc2hfc2hpZnQ9MCx0aGlzLmJsb2NrX3N0YXJ0PTAsdGhpcy5tYXRjaF9sZW5ndGg9MCx0aGlzLnByZXZfbWF0Y2g9MCx0aGlzLm1hdGNoX2F2YWlsYWJsZT0wLHRoaXMuc3Ryc3RhcnQ9MCx0aGlzLm1hdGNoX3N0YXJ0PTAsdGhpcy5sb29rYWhlYWQ9MCx0aGlzLnByZXZfbGVuZ3RoPTAsdGhpcy5tYXhfY2hhaW5fbGVuZ3RoPTAsdGhpcy5tYXhfbGF6eV9tYXRjaD0wLHRoaXMubGV2ZWw9MCx0aGlzLnN0cmF0ZWd5PTAsdGhpcy5nb29kX21hdGNoPTAsdGhpcy5uaWNlX21hdGNoPTAsdGhpcy5keW5fbHRyZWU9bmV3IEUuQnVmMTYoMipoYSksdGhpcy5keW5fZHRyZWU9bmV3IEUuQnVmMTYoMiooMipmYSsxKSksdGhpcy5ibF90cmVlPW5ldyBFLkJ1ZjE2KDIqKDIqZ2ErMSkpLGYodGhpcy5keW5fbHRyZWUpLGYodGhpcy5keW5fZHRyZWUpLGYodGhpcy5ibF90cmVlKSx0aGlzLmxfZGVzYz1udWxsLHRoaXMuZF9kZXNjPW51bGwsdGhpcy5ibF9kZXNjPW51bGwsdGhpcy5ibF9jb3VudD1uZXcgRS5CdWYxNihpYSsxKSx0aGlzLmhlYXA9bmV3IEUuQnVmMTYoMiplYSsxKSxmKHRoaXMuaGVhcCksdGhpcy5oZWFwX2xlbj0wLHRoaXMuaGVhcF9tYXg9MCx0aGlzLmRlcHRoPW5ldyBFLkJ1ZjE2KDIqZWErMSksZih0aGlzLmRlcHRoKSx0aGlzLmxfYnVmPTAsdGhpcy5saXRfYnVmc2l6ZT0wLHRoaXMubGFzdF9saXQ9MCx0aGlzLmRfYnVmPTAsdGhpcy5vcHRfbGVuPTAsdGhpcy5zdGF0aWNfbGVuPTAsdGhpcy5tYXRjaGVzPTAsdGhpcy5pbnNlcnQ9MCx0aGlzLmJpX2J1Zj0wLHRoaXMuYmlfdmFsaWQ9MH1mdW5jdGlvbiB2KGEpe3ZhciBiO3JldHVybiBhJiZhLnN0YXRlPyhhLnRvdGFsX2luPWEudG90YWxfb3V0PTAsYS5kYXRhX3R5cGU9WixiPWEuc3RhdGUsYi5wZW5kaW5nPTAsYi5wZW5kaW5nX291dD0wLGIud3JhcDwwJiYoYi53cmFwPS1iLndyYXApLGIuc3RhdHVzPWIud3JhcD9uYTpzYSxhLmFkbGVyPTI9PT1iLndyYXA/MDoxLGIubGFzdF9mbHVzaD1KLEYuX3RyX2luaXQoYiksTyk6ZChhLFEpfWZ1bmN0aW9uIHcoYSl7dmFyIGI9dihhKTtyZXR1cm4gYj09PU8mJnQoYS5zdGF0ZSksYn1mdW5jdGlvbiB4KGEsYil7cmV0dXJuIGEmJmEuc3RhdGU/MiE9PWEuc3RhdGUud3JhcD9ROihhLnN0YXRlLmd6aGVhZD1iLE8pOlF9ZnVuY3Rpb24geShhLGIsYyxlLGYsZyl7aWYoIWEpcmV0dXJuIFE7dmFyIGg9MTtpZihiPT09VCYmKGI9NiksZTwwPyhoPTAsZT0tZSk6ZT4xNSYmKGg9MixlLT0xNiksZjwxfHxmPl98fGMhPT0kfHxlPDh8fGU+MTV8fGI8MHx8Yj45fHxnPDB8fGc+WClyZXR1cm4gZChhLFEpOzg9PT1lJiYoZT05KTt2YXIgaT1uZXcgdTtyZXR1cm4gYS5zdGF0ZT1pLGkuc3RybT1hLGkud3JhcD1oLGkuZ3poZWFkPW51bGwsaS53X2JpdHM9ZSxpLndfc2l6ZT0xPDxpLndfYml0cyxpLndfbWFzaz1pLndfc2l6ZS0xLGkuaGFzaF9iaXRzPWYrNyxpLmhhc2hfc2l6ZT0xPDxpLmhhc2hfYml0cyxpLmhhc2hfbWFzaz1pLmhhc2hfc2l6ZS0xLGkuaGFzaF9zaGlmdD1+figoaS5oYXNoX2JpdHMramEtMSkvamEpLGkud2luZG93PW5ldyBFLkJ1ZjgoMippLndfc2l6ZSksaS5oZWFkPW5ldyBFLkJ1ZjE2KGkuaGFzaF9zaXplKSxpLnByZXY9bmV3IEUuQnVmMTYoaS53X3NpemUpLGkubGl0X2J1ZnNpemU9MTw8Zis2LGkucGVuZGluZ19idWZfc2l6ZT00KmkubGl0X2J1ZnNpemUsaS5wZW5kaW5nX2J1Zj1uZXcgRS5CdWY4KGkucGVuZGluZ19idWZfc2l6ZSksaS5kX2J1Zj0xKmkubGl0X2J1ZnNpemUsaS5sX2J1Zj0zKmkubGl0X2J1ZnNpemUsaS5sZXZlbD1iLGkuc3RyYXRlZ3k9ZyxpLm1ldGhvZD1jLHcoYSl9ZnVuY3Rpb24geihhLGIpe3JldHVybiB5KGEsYiwkLGFhLGJhLFkpfWZ1bmN0aW9uIEEoYSxiKXt2YXIgYyxoLGssbDtpZighYXx8IWEuc3RhdGV8fGI+Tnx8YjwwKXJldHVybiBhP2QoYSxRKTpRO2lmKGg9YS5zdGF0ZSwhYS5vdXRwdXR8fCFhLmlucHV0JiYwIT09YS5hdmFpbF9pbnx8aC5zdGF0dXM9PT10YSYmYiE9PU0pcmV0dXJuIGQoYSwwPT09YS5hdmFpbF9vdXQ/UzpRKTtpZihoLnN0cm09YSxjPWgubGFzdF9mbHVzaCxoLmxhc3RfZmx1c2g9YixoLnN0YXR1cz09PW5hKWlmKDI9PT1oLndyYXApYS5hZGxlcj0wLGkoaCwzMSksaShoLDEzOSksaShoLDgpLGguZ3poZWFkPyhpKGgsKGguZ3poZWFkLnRleHQ/MTowKSsoaC5nemhlYWQuaGNyYz8yOjApKyhoLmd6aGVhZC5leHRyYT80OjApKyhoLmd6aGVhZC5uYW1lPzg6MCkrKGguZ3poZWFkLmNvbW1lbnQ/MTY6MCkpLGkoaCwyNTUmaC5nemhlYWQudGltZSksaShoLGguZ3poZWFkLnRpbWU+PjgmMjU1KSxpKGgsaC5nemhlYWQudGltZT4+MTYmMjU1KSxpKGgsaC5nemhlYWQudGltZT4+MjQmMjU1KSxpKGgsOT09PWgubGV2ZWw/MjpoLnN0cmF0ZWd5Pj1WfHxoLmxldmVsPDI/NDowKSxpKGgsMjU1JmguZ3poZWFkLm9zKSxoLmd6aGVhZC5leHRyYSYmaC5nemhlYWQuZXh0cmEubGVuZ3RoJiYoaShoLDI1NSZoLmd6aGVhZC5leHRyYS5sZW5ndGgpLGkoaCxoLmd6aGVhZC5leHRyYS5sZW5ndGg+PjgmMjU1KSksaC5nemhlYWQuaGNyYyYmKGEuYWRsZXI9SChhLmFkbGVyLGgucGVuZGluZ19idWYsaC5wZW5kaW5nLDApKSxoLmd6aW5kZXg9MCxoLnN0YXR1cz1vYSk6KGkoaCwwKSxpKGgsMCksaShoLDApLGkoaCwwKSxpKGgsMCksaShoLDk9PT1oLmxldmVsPzI6aC5zdHJhdGVneT49Vnx8aC5sZXZlbDwyPzQ6MCksaShoLHlhKSxoLnN0YXR1cz1zYSk7ZWxzZXt2YXIgbT0kKyhoLndfYml0cy04PDw0KTw8OCxuPS0xO249aC5zdHJhdGVneT49Vnx8aC5sZXZlbDwyPzA6aC5sZXZlbDw2PzE6Nj09PWgubGV2ZWw/MjozLG18PW48PDYsMCE9PWguc3Ryc3RhcnQmJihtfD1tYSksbSs9MzEtbSUzMSxoLnN0YXR1cz1zYSxqKGgsbSksMCE9PWguc3Ryc3RhcnQmJihqKGgsYS5hZGxlcj4+PjE2KSxqKGgsNjU1MzUmYS5hZGxlcikpLGEuYWRsZXI9MX1pZihoLnN0YXR1cz09PW9hKWlmKGguZ3poZWFkLmV4dHJhKXtmb3Ioaz1oLnBlbmRpbmc7aC5nemluZGV4PCg2NTUzNSZoLmd6aGVhZC5leHRyYS5sZW5ndGgpJiYoaC5wZW5kaW5nIT09aC5wZW5kaW5nX2J1Zl9zaXplfHwoaC5nemhlYWQuaGNyYyYmaC5wZW5kaW5nPmsmJihhLmFkbGVyPUgoYS5hZGxlcixoLnBlbmRpbmdfYnVmLGgucGVuZGluZy1rLGspKSxnKGEpLGs9aC5wZW5kaW5nLGgucGVuZGluZyE9PWgucGVuZGluZ19idWZfc2l6ZSkpOylpKGgsMjU1JmguZ3poZWFkLmV4dHJhW2guZ3ppbmRleF0pLGguZ3ppbmRleCsrO2guZ3poZWFkLmhjcmMmJmgucGVuZGluZz5rJiYoYS5hZGxlcj1IKGEuYWRsZXIsaC5wZW5kaW5nX2J1ZixoLnBlbmRpbmctayxrKSksaC5nemluZGV4PT09aC5nemhlYWQuZXh0cmEubGVuZ3RoJiYoaC5nemluZGV4PTAsaC5zdGF0dXM9cGEpfWVsc2UgaC5zdGF0dXM9cGE7aWYoaC5zdGF0dXM9PT1wYSlpZihoLmd6aGVhZC5uYW1lKXtrPWgucGVuZGluZztkb3tpZihoLnBlbmRpbmc9PT1oLnBlbmRpbmdfYnVmX3NpemUmJihoLmd6aGVhZC5oY3JjJiZoLnBlbmRpbmc+ayYmKGEuYWRsZXI9SChhLmFkbGVyLGgucGVuZGluZ19idWYsaC5wZW5kaW5nLWssaykpLGcoYSksaz1oLnBlbmRpbmcsaC5wZW5kaW5nPT09aC5wZW5kaW5nX2J1Zl9zaXplKSl7bD0xO2JyZWFrfWw9aC5nemluZGV4PGguZ3poZWFkLm5hbWUubGVuZ3RoPzI1NSZoLmd6aGVhZC5uYW1lLmNoYXJDb2RlQXQoaC5nemluZGV4KyspOjAsaShoLGwpfXdoaWxlKDAhPT1sKTtoLmd6aGVhZC5oY3JjJiZoLnBlbmRpbmc+ayYmKGEuYWRsZXI9SChhLmFkbGVyLGgucGVuZGluZ19idWYsaC5wZW5kaW5nLWssaykpLDA9PT1sJiYoaC5nemluZGV4PTAsaC5zdGF0dXM9cWEpfWVsc2UgaC5zdGF0dXM9cWE7aWYoaC5zdGF0dXM9PT1xYSlpZihoLmd6aGVhZC5jb21tZW50KXtrPWgucGVuZGluZztkb3tpZihoLnBlbmRpbmc9PT1oLnBlbmRpbmdfYnVmX3NpemUmJihoLmd6aGVhZC5oY3JjJiZoLnBlbmRpbmc+ayYmKGEuYWRsZXI9SChhLmFkbGVyLGgucGVuZGluZ19idWYsaC5wZW5kaW5nLWssaykpLGcoYSksaz1oLnBlbmRpbmcsaC5wZW5kaW5nPT09aC5wZW5kaW5nX2J1Zl9zaXplKSl7bD0xO2JyZWFrfWw9aC5nemluZGV4PGguZ3poZWFkLmNvbW1lbnQubGVuZ3RoPzI1NSZoLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQoaC5nemluZGV4KyspOjAsaShoLGwpfXdoaWxlKDAhPT1sKTtoLmd6aGVhZC5oY3JjJiZoLnBlbmRpbmc+ayYmKGEuYWRsZXI9SChhLmFkbGVyLGgucGVuZGluZ19idWYsaC5wZW5kaW5nLWssaykpLDA9PT1sJiYoaC5zdGF0dXM9cmEpfWVsc2UgaC5zdGF0dXM9cmE7aWYoaC5zdGF0dXM9PT1yYSYmKGguZ3poZWFkLmhjcmM/KGgucGVuZGluZysyPmgucGVuZGluZ19idWZfc2l6ZSYmZyhhKSxoLnBlbmRpbmcrMjw9aC5wZW5kaW5nX2J1Zl9zaXplJiYoaShoLDI1NSZhLmFkbGVyKSxpKGgsYS5hZGxlcj4+OCYyNTUpLGEuYWRsZXI9MCxoLnN0YXR1cz1zYSkpOmguc3RhdHVzPXNhKSwwIT09aC5wZW5kaW5nKXtpZihnKGEpLDA9PT1hLmF2YWlsX291dClyZXR1cm4gaC5sYXN0X2ZsdXNoPS0xLE99ZWxzZSBpZigwPT09YS5hdmFpbF9pbiYmZShiKTw9ZShjKSYmYiE9PU0pcmV0dXJuIGQoYSxTKTtpZihoLnN0YXR1cz09PXRhJiYwIT09YS5hdmFpbF9pbilyZXR1cm4gZChhLFMpO2lmKDAhPT1hLmF2YWlsX2lufHwwIT09aC5sb29rYWhlYWR8fGIhPT1KJiZoLnN0YXR1cyE9PXRhKXt2YXIgbz1oLnN0cmF0ZWd5PT09Vj9yKGgsYik6aC5zdHJhdGVneT09PVc/cShoLGIpOkRbaC5sZXZlbF0uZnVuYyhoLGIpO2lmKG8hPT13YSYmbyE9PXhhfHwoaC5zdGF0dXM9dGEpLG89PT11YXx8bz09PXdhKXJldHVybiAwPT09YS5hdmFpbF9vdXQmJihoLmxhc3RfZmx1c2g9LTEpLE87aWYobz09PXZhJiYoYj09PUs/Ri5fdHJfYWxpZ24oaCk6YiE9PU4mJihGLl90cl9zdG9yZWRfYmxvY2soaCwwLDAsITEpLGI9PT1MJiYoZihoLmhlYWQpLDA9PT1oLmxvb2thaGVhZCYmKGguc3Ryc3RhcnQ9MCxoLmJsb2NrX3N0YXJ0PTAsaC5pbnNlcnQ9MCkpKSxnKGEpLDA9PT1hLmF2YWlsX291dCkpcmV0dXJuIGgubGFzdF9mbHVzaD0tMSxPfXJldHVybiBiIT09TT9POmgud3JhcDw9MD9QOigyPT09aC53cmFwPyhpKGgsMjU1JmEuYWRsZXIpLGkoaCxhLmFkbGVyPj44JjI1NSksaShoLGEuYWRsZXI+PjE2JjI1NSksaShoLGEuYWRsZXI+PjI0JjI1NSksaShoLDI1NSZhLnRvdGFsX2luKSxpKGgsYS50b3RhbF9pbj4+OCYyNTUpLGkoaCxhLnRvdGFsX2luPj4xNiYyNTUpLGkoaCxhLnRvdGFsX2luPj4yNCYyNTUpKTooaihoLGEuYWRsZXI+Pj4xNiksaihoLDY1NTM1JmEuYWRsZXIpKSxnKGEpLGgud3JhcD4wJiYoaC53cmFwPS1oLndyYXApLDAhPT1oLnBlbmRpbmc/TzpQKX1mdW5jdGlvbiBCKGEpe3ZhciBiO3JldHVybiBhJiZhLnN0YXRlPyhiPWEuc3RhdGUuc3RhdHVzLGIhPT1uYSYmYiE9PW9hJiZiIT09cGEmJmIhPT1xYSYmYiE9PXJhJiZiIT09c2EmJmIhPT10YT9kKGEsUSk6KGEuc3RhdGU9bnVsbCxiPT09c2E/ZChhLFIpOk8pKTpRfWZ1bmN0aW9uIEMoYSxiKXt2YXIgYyxkLGUsZyxoLGksaixrLGw9Yi5sZW5ndGg7aWYoIWF8fCFhLnN0YXRlKXJldHVybiBRO2lmKGM9YS5zdGF0ZSxnPWMud3JhcCwyPT09Z3x8MT09PWcmJmMuc3RhdHVzIT09bmF8fGMubG9va2FoZWFkKXJldHVybiBRO2ZvcigxPT09ZyYmKGEuYWRsZXI9RyhhLmFkbGVyLGIsbCwwKSksYy53cmFwPTAsbD49Yy53X3NpemUmJigwPT09ZyYmKGYoYy5oZWFkKSxjLnN0cnN0YXJ0PTAsYy5ibG9ja19zdGFydD0wLGMuaW5zZXJ0PTApLGs9bmV3IEUuQnVmOChjLndfc2l6ZSksRS5hcnJheVNldChrLGIsbC1jLndfc2l6ZSxjLndfc2l6ZSwwKSxiPWssbD1jLndfc2l6ZSksaD1hLmF2YWlsX2luLGk9YS5uZXh0X2luLGo9YS5pbnB1dCxhLmF2YWlsX2luPWwsYS5uZXh0X2luPTAsYS5pbnB1dD1iLG0oYyk7Yy5sb29rYWhlYWQ+PWphOyl7ZD1jLnN0cnN0YXJ0LGU9Yy5sb29rYWhlYWQtKGphLTEpO2RvIGMuaW5zX2g9KGMuaW5zX2g8PGMuaGFzaF9zaGlmdF5jLndpbmRvd1tkK2phLTFdKSZjLmhhc2hfbWFzayxjLnByZXZbZCZjLndfbWFza109Yy5oZWFkW2MuaW5zX2hdLGMuaGVhZFtjLmluc19oXT1kLGQrKzt3aGlsZSgtLWUpO2Muc3Ryc3RhcnQ9ZCxjLmxvb2thaGVhZD1qYS0xLG0oYyl9cmV0dXJuIGMuc3Ryc3RhcnQrPWMubG9va2FoZWFkLGMuYmxvY2tfc3RhcnQ9Yy5zdHJzdGFydCxjLmluc2VydD1jLmxvb2thaGVhZCxjLmxvb2thaGVhZD0wLGMubWF0Y2hfbGVuZ3RoPWMucHJldl9sZW5ndGg9amEtMSxjLm1hdGNoX2F2YWlsYWJsZT0wLGEubmV4dF9pbj1pLGEuaW5wdXQ9aixhLmF2YWlsX2luPWgsYy53cmFwPWcsT312YXIgRCxFPWEoIi4uL3V0aWxzL2NvbW1vbiIpLEY9YSgiLi90cmVlcyIpLEc9YSgiLi9hZGxlcjMyIiksSD1hKCIuL2NyYzMyIiksST1hKCIuL21lc3NhZ2VzIiksSj0wLEs9MSxMPTMsTT00LE49NSxPPTAsUD0xLFE9LTIsUj0tMyxTPS01LFQ9LTEsVT0xLFY9MixXPTMsWD00LFk9MCxaPTIsJD04LF89OSxhYT0xNSxiYT04LGNhPTI5LGRhPTI1NixlYT1kYSsxK2NhLGZhPTMwLGdhPTE5LGhhPTIqZWErMSxpYT0xNSxqYT0zLGthPTI1OCxsYT1rYStqYSsxLG1hPTMyLG5hPTQyLG9hPTY5LHBhPTczLHFhPTkxLHJhPTEwMyxzYT0xMTMsdGE9NjY2LHVhPTEsdmE9Mix3YT0zLHhhPTQseWE9MztEPVtuZXcgcygwLDAsMCwwLG4pLG5ldyBzKDQsNCw4LDQsbyksbmV3IHMoNCw1LDE2LDgsbyksbmV3IHMoNCw2LDMyLDMyLG8pLG5ldyBzKDQsNCwxNiwxNixwKSxuZXcgcyg4LDE2LDMyLDMyLHApLG5ldyBzKDgsMTYsMTI4LDEyOCxwKSxuZXcgcyg4LDMyLDEyOCwyNTYscCksbmV3IHMoMzIsMTI4LDI1OCwxMDI0LHApLG5ldyBzKDMyLDI1OCwyNTgsNDA5NixwKV0sYy5kZWZsYXRlSW5pdD16LGMuZGVmbGF0ZUluaXQyPXksYy5kZWZsYXRlUmVzZXQ9dyxjLmRlZmxhdGVSZXNldEtlZXA9dixjLmRlZmxhdGVTZXRIZWFkZXI9eCxjLmRlZmxhdGU9QSxjLmRlZmxhdGVFbmQ9QixjLmRlZmxhdGVTZXREaWN0aW9uYXJ5PUMsYy5kZWZsYXRlSW5mbz0icGFrbyBkZWZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSJ9LHsiLi4vdXRpbHMvY29tbW9uIjo2MiwiLi9hZGxlcjMyIjo2NCwiLi9jcmMzMiI6NjYsIi4vbWVzc2FnZXMiOjcyLCIuL3RyZWVzIjo3M31dLDY4OltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoKXt0aGlzLnRleHQ9MCx0aGlzLnRpbWU9MCx0aGlzLnhmbGFncz0wLHRoaXMub3M9MCx0aGlzLmV4dHJhPW51bGwsdGhpcy5leHRyYV9sZW49MCx0aGlzLm5hbWU9IiIsdGhpcy5jb21tZW50PSIiLHRoaXMuaGNyYz0wLHRoaXMuZG9uZT0hMX1iLmV4cG9ydHM9ZH0se31dLDY5OltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO3ZhciBkPTMwLGU9MTI7Yi5leHBvcnRzPWZ1bmN0aW9uKGEsYil7dmFyIGMsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseCx5LHosQSxCLEM7Yz1hLnN0YXRlLGY9YS5uZXh0X2luLEI9YS5pbnB1dCxnPWYrKGEuYXZhaWxfaW4tNSksaD1hLm5leHRfb3V0LEM9YS5vdXRwdXQsaT1oLShiLWEuYXZhaWxfb3V0KSxqPWgrKGEuYXZhaWxfb3V0LTI1Nyksaz1jLmRtYXgsbD1jLndzaXplLG09Yy53aGF2ZSxuPWMud25leHQsbz1jLndpbmRvdyxwPWMuaG9sZCxxPWMuYml0cyxyPWMubGVuY29kZSxzPWMuZGlzdGNvZGUsdD0oMTw8Yy5sZW5iaXRzKS0xLHU9KDE8PGMuZGlzdGJpdHMpLTE7YTpkb3txPDE1JiYocCs9QltmKytdPDxxLHErPTgscCs9QltmKytdPDxxLHErPTgpLHY9cltwJnRdO2I6Zm9yKDs7KXtpZih3PXY+Pj4yNCxwPj4+PXcscS09dyx3PXY+Pj4xNiYyNTUsMD09PXcpQ1toKytdPTY1NTM1JnY7ZWxzZXtpZighKDE2JncpKXtpZigwPT09KDY0JncpKXt2PXJbKDY1NTM1JnYpKyhwJigxPDx3KS0xKV07Y29udGludWUgYn1pZigzMiZ3KXtjLm1vZGU9ZTticmVhayBhfWEubXNnPSJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGUiLGMubW9kZT1kO2JyZWFrIGF9eD02NTUzNSZ2LHcmPTE1LHcmJihxPHcmJihwKz1CW2YrK108PHEscSs9OCkseCs9cCYoMTw8dyktMSxwPj4+PXcscS09dykscTwxNSYmKHArPUJbZisrXTw8cSxxKz04LHArPUJbZisrXTw8cSxxKz04KSx2PXNbcCZ1XTtjOmZvcig7Oyl7aWYodz12Pj4+MjQscD4+Pj13LHEtPXcsdz12Pj4+MTYmMjU1LCEoMTYmdykpe2lmKDA9PT0oNjQmdykpe3Y9c1soNjU1MzUmdikrKHAmKDE8PHcpLTEpXTtjb250aW51ZSBjfWEubXNnPSJpbnZhbGlkIGRpc3RhbmNlIGNvZGUiLGMubW9kZT1kO2JyZWFrIGF9aWYoeT02NTUzNSZ2LHcmPTE1LHE8dyYmKHArPUJbZisrXTw8cSxxKz04LHE8dyYmKHArPUJbZisrXTw8cSxxKz04KSkseSs9cCYoMTw8dyktMSx5Pmspe2EubXNnPSJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsYy5tb2RlPWQ7YnJlYWsgYX1pZihwPj4+PXcscS09dyx3PWgtaSx5Pncpe2lmKHc9eS13LHc+bSYmYy5zYW5lKXthLm1zZz0iaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2siLGMubW9kZT1kO2JyZWFrIGF9aWYoej0wLEE9bywwPT09bil7aWYoeis9bC13LHc8eCl7eC09dztkbyBDW2grK109b1t6KytdO3doaWxlKC0tdyk7ej1oLXksQT1DfX1lbHNlIGlmKG48dyl7aWYoeis9bCtuLXcsdy09bix3PHgpe3gtPXc7ZG8gQ1toKytdPW9beisrXTt3aGlsZSgtLXcpO2lmKHo9MCxuPHgpe3c9bix4LT13O2RvIENbaCsrXT1vW3orK107d2hpbGUoLS13KTt6PWgteSxBPUN9fX1lbHNlIGlmKHorPW4tdyx3PHgpe3gtPXc7ZG8gQ1toKytdPW9beisrXTt3aGlsZSgtLXcpO3o9aC15LEE9Q31mb3IoO3g+MjspQ1toKytdPUFbeisrXSxDW2grK109QVt6KytdLENbaCsrXT1BW3orK10seC09Mzt4JiYoQ1toKytdPUFbeisrXSx4PjEmJihDW2grK109QVt6KytdKSl9ZWxzZXt6PWgteTtkbyBDW2grK109Q1t6KytdLENbaCsrXT1DW3orK10sQ1toKytdPUNbeisrXSx4LT0zO3doaWxlKHg+Mik7eCYmKENbaCsrXT1DW3orK10seD4xJiYoQ1toKytdPUNbeisrXSkpfWJyZWFrfX1icmVha319d2hpbGUoZjxnJiZoPGopO3g9cT4+MyxmLT14LHEtPXg8PDMscCY9KDE8PHEpLTEsYS5uZXh0X2luPWYsYS5uZXh0X291dD1oLGEuYXZhaWxfaW49ZjxnPzUrKGctZik6NS0oZi1nKSxhLmF2YWlsX291dD1oPGo/MjU3KyhqLWgpOjI1Ny0oaC1qKSxjLmhvbGQ9cCxjLmJpdHM9cX19LHt9XSw3MDpbZnVuY3Rpb24oYSxiLGMpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBkKGEpe3JldHVybihhPj4+MjQmMjU1KSsoYT4+PjgmNjUyODApKygoNjUyODAmYSk8PDgpKygoMjU1JmEpPDwyNCl9ZnVuY3Rpb24gZSgpe3RoaXMubW9kZT0wLHRoaXMubGFzdD0hMSx0aGlzLndyYXA9MCx0aGlzLmhhdmVkaWN0PSExLHRoaXMuZmxhZ3M9MCx0aGlzLmRtYXg9MCx0aGlzLmNoZWNrPTAsdGhpcy50b3RhbD0wLHRoaXMuaGVhZD1udWxsLHRoaXMud2JpdHM9MCx0aGlzLndzaXplPTAsdGhpcy53aGF2ZT0wLHRoaXMud25leHQ9MCx0aGlzLndpbmRvdz1udWxsLHRoaXMuaG9sZD0wLHRoaXMuYml0cz0wLHRoaXMubGVuZ3RoPTAsdGhpcy5vZmZzZXQ9MCx0aGlzLmV4dHJhPTAsdGhpcy5sZW5jb2RlPW51bGwsdGhpcy5kaXN0Y29kZT1udWxsLHRoaXMubGVuYml0cz0wLHRoaXMuZGlzdGJpdHM9MCx0aGlzLm5jb2RlPTAsdGhpcy5ubGVuPTAsdGhpcy5uZGlzdD0wLHRoaXMuaGF2ZT0wLHRoaXMubmV4dD1udWxsLHRoaXMubGVucz1uZXcgcy5CdWYxNigzMjApLHRoaXMud29yaz1uZXcgcy5CdWYxNigyODgpLHRoaXMubGVuZHluPW51bGwsdGhpcy5kaXN0ZHluPW51bGwsdGhpcy5zYW5lPTAsdGhpcy5iYWNrPTAsdGhpcy53YXM9MH1mdW5jdGlvbiBmKGEpe3ZhciBiO3JldHVybiBhJiZhLnN0YXRlPyhiPWEuc3RhdGUsYS50b3RhbF9pbj1hLnRvdGFsX291dD1iLnRvdGFsPTAsYS5tc2c9IiIsYi53cmFwJiYoYS5hZGxlcj0xJmIud3JhcCksYi5tb2RlPUwsYi5sYXN0PTAsYi5oYXZlZGljdD0wLGIuZG1heD0zMjc2OCxiLmhlYWQ9bnVsbCxiLmhvbGQ9MCxiLmJpdHM9MCxiLmxlbmNvZGU9Yi5sZW5keW49bmV3IHMuQnVmMzIocGEpLGIuZGlzdGNvZGU9Yi5kaXN0ZHluPW5ldyBzLkJ1ZjMyKHFhKSxiLnNhbmU9MSxiLmJhY2s9LTEsRCk6R31mdW5jdGlvbiBnKGEpe3ZhciBiO3JldHVybiBhJiZhLnN0YXRlPyhiPWEuc3RhdGUsYi53c2l6ZT0wLGIud2hhdmU9MCxiLnduZXh0PTAsZihhKSk6R31mdW5jdGlvbiBoKGEsYil7dmFyIGMsZDtyZXR1cm4gYSYmYS5zdGF0ZT8oZD1hLnN0YXRlLGI8MD8oYz0wLGI9LWIpOihjPShiPj40KSsxLGI8NDgmJihiJj0xNSkpLGImJihiPDh8fGI+MTUpP0c6KG51bGwhPT1kLndpbmRvdyYmZC53Yml0cyE9PWImJihkLndpbmRvdz1udWxsKSxkLndyYXA9YyxkLndiaXRzPWIsZyhhKSkpOkd9ZnVuY3Rpb24gaShhLGIpe3ZhciBjLGQ7cmV0dXJuIGE/KGQ9bmV3IGUsYS5zdGF0ZT1kLGQud2luZG93PW51bGwsYz1oKGEsYiksYyE9PUQmJihhLnN0YXRlPW51bGwpLGMpOkd9ZnVuY3Rpb24gaihhKXtyZXR1cm4gaShhLHNhKX1mdW5jdGlvbiBrKGEpe2lmKHRhKXt2YXIgYjtmb3IocT1uZXcgcy5CdWYzMig1MTIpLHI9bmV3IHMuQnVmMzIoMzIpLGI9MDtiPDE0NDspYS5sZW5zW2IrK109ODtmb3IoO2I8MjU2OylhLmxlbnNbYisrXT05O2Zvcig7YjwyODA7KWEubGVuc1tiKytdPTc7Zm9yKDtiPDI4ODspYS5sZW5zW2IrK109ODtmb3Iodyh5LGEubGVucywwLDI4OCxxLDAsYS53b3JrLHtiaXRzOjl9KSxiPTA7YjwzMjspYS5sZW5zW2IrK109NTt3KHosYS5sZW5zLDAsMzIsciwwLGEud29yayx7Yml0czo1fSksdGE9ITF9YS5sZW5jb2RlPXEsYS5sZW5iaXRzPTksYS5kaXN0Y29kZT1yLGEuZGlzdGJpdHM9NX1mdW5jdGlvbiBsKGEsYixjLGQpe3ZhciBlLGY9YS5zdGF0ZTtyZXR1cm4gbnVsbD09PWYud2luZG93JiYoZi53c2l6ZT0xPDxmLndiaXRzLGYud25leHQ9MCxmLndoYXZlPTAsZi53aW5kb3c9bmV3IHMuQnVmOChmLndzaXplKSksZD49Zi53c2l6ZT8ocy5hcnJheVNldChmLndpbmRvdyxiLGMtZi53c2l6ZSxmLndzaXplLDApLGYud25leHQ9MCxmLndoYXZlPWYud3NpemUpOihlPWYud3NpemUtZi53bmV4dCxlPmQmJihlPWQpLHMuYXJyYXlTZXQoZi53aW5kb3csYixjLWQsZSxmLnduZXh0KSxkLT1lLGQ/KHMuYXJyYXlTZXQoZi53aW5kb3csYixjLWQsZCwwKSxmLnduZXh0PWQsZi53aGF2ZT1mLndzaXplKTooZi53bmV4dCs9ZSxmLnduZXh0PT09Zi53c2l6ZSYmKGYud25leHQ9MCksZi53aGF2ZTxmLndzaXplJiYoZi53aGF2ZSs9ZSkpKSwwfWZ1bmN0aW9uIG0oYSxiKXt2YXIgYyxlLGYsZyxoLGksaixtLG4sbyxwLHEscixwYSxxYSxyYSxzYSx0YSx1YSx2YSx3YSx4YSx5YSx6YSxBYT0wLEJhPW5ldyBzLkJ1ZjgoNCksQ2E9WzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdO2lmKCFhfHwhYS5zdGF0ZXx8IWEub3V0cHV0fHwhYS5pbnB1dCYmMCE9PWEuYXZhaWxfaW4pcmV0dXJuIEc7Yz1hLnN0YXRlLGMubW9kZT09PVcmJihjLm1vZGU9WCksaD1hLm5leHRfb3V0LGY9YS5vdXRwdXQsaj1hLmF2YWlsX291dCxnPWEubmV4dF9pbixlPWEuaW5wdXQsaT1hLmF2YWlsX2luLG09Yy5ob2xkLG49Yy5iaXRzLG89aSxwPWoseGE9RDthOmZvcig7Oylzd2l0Y2goYy5tb2RlKXtjYXNlIEw6aWYoMD09PWMud3JhcCl7Yy5tb2RlPVg7YnJlYWt9Zm9yKDtuPDE2Oyl7aWYoMD09PWkpYnJlYWsgYTtpLS0sbSs9ZVtnKytdPDxuLG4rPTh9aWYoMiZjLndyYXAmJjM1NjE1PT09bSl7Yy5jaGVjaz0wLEJhWzBdPTI1NSZtLEJhWzFdPW0+Pj44JjI1NSxjLmNoZWNrPXUoYy5jaGVjayxCYSwyLDApLG09MCxuPTAsYy5tb2RlPU07YnJlYWt9aWYoYy5mbGFncz0wLGMuaGVhZCYmKGMuaGVhZC5kb25lPSExKSwhKDEmYy53cmFwKXx8KCgoMjU1Jm0pPDw4KSsobT4+OCkpJTMxKXthLm1zZz0iaW5jb3JyZWN0IGhlYWRlciBjaGVjayIsYy5tb2RlPW1hO2JyZWFrfWlmKCgxNSZtKSE9PUspe2EubXNnPSJ1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZCIsYy5tb2RlPW1hO2JyZWFrfWlmKG0+Pj49NCxuLT00LHdhPSgxNSZtKSs4LDA9PT1jLndiaXRzKWMud2JpdHM9d2E7ZWxzZSBpZih3YT5jLndiaXRzKXthLm1zZz0iaW52YWxpZCB3aW5kb3cgc2l6ZSIsYy5tb2RlPW1hO2JyZWFrfWMuZG1heD0xPDx3YSxhLmFkbGVyPWMuY2hlY2s9MSxjLm1vZGU9NTEyJm0/VTpXLG09MCxuPTA7YnJlYWs7Y2FzZSBNOmZvcig7bjwxNjspe2lmKDA9PT1pKWJyZWFrIGE7aS0tLG0rPWVbZysrXTw8bixuKz04fWlmKGMuZmxhZ3M9bSwoMjU1JmMuZmxhZ3MpIT09Syl7YS5tc2c9InVua25vd24gY29tcHJlc3Npb24gbWV0aG9kIixjLm1vZGU9bWE7YnJlYWt9aWYoNTczNDQmYy5mbGFncyl7YS5tc2c9InVua25vd24gaGVhZGVyIGZsYWdzIHNldCIsYy5tb2RlPW1hO2JyZWFrfWMuaGVhZCYmKGMuaGVhZC50ZXh0PW0+PjgmMSksNTEyJmMuZmxhZ3MmJihCYVswXT0yNTUmbSxCYVsxXT1tPj4+OCYyNTUsYy5jaGVjaz11KGMuY2hlY2ssQmEsMiwwKSksbT0wLG49MCxjLm1vZGU9TjtjYXNlIE46Zm9yKDtuPDMyOyl7aWYoMD09PWkpYnJlYWsgYTtpLS0sbSs9ZVtnKytdPDxuLG4rPTh9Yy5oZWFkJiYoYy5oZWFkLnRpbWU9bSksNTEyJmMuZmxhZ3MmJihCYVswXT0yNTUmbSxCYVsxXT1tPj4+OCYyNTUsQmFbMl09bT4+PjE2JjI1NSxCYVszXT1tPj4+MjQmMjU1LGMuY2hlY2s9dShjLmNoZWNrLEJhLDQsMCkpLG09MCxuPTAsYy5tb2RlPU87Y2FzZSBPOmZvcig7bjwxNjspe2lmKDA9PT1pKWJyZWFrIGE7aS0tLG0rPWVbZysrXTw8bixuKz04fWMuaGVhZCYmKGMuaGVhZC54ZmxhZ3M9MjU1Jm0sYy5oZWFkLm9zPW0+PjgpLDUxMiZjLmZsYWdzJiYoQmFbMF09MjU1Jm0sQmFbMV09bT4+PjgmMjU1LGMuY2hlY2s9dShjLmNoZWNrLEJhLDIsMCkpLG09MCxuPTAsYy5tb2RlPVA7Y2FzZSBQOmlmKDEwMjQmYy5mbGFncyl7Zm9yKDtuPDE2Oyl7aWYoMD09PWkpYnJlYWsgYTtpLS0sbSs9ZVtnKytdPDxuLG4rPTh9Yy5sZW5ndGg9bSxjLmhlYWQmJihjLmhlYWQuZXh0cmFfbGVuPW0pLDUxMiZjLmZsYWdzJiYoQmFbMF09MjU1Jm0sQmFbMV09bT4+PjgmMjU1LGMuY2hlY2s9dShjLmNoZWNrLEJhLDIsMCkpLG09MCxuPTB9ZWxzZSBjLmhlYWQmJihjLmhlYWQuZXh0cmE9bnVsbCk7Yy5tb2RlPVE7Y2FzZSBROmlmKDEwMjQmYy5mbGFncyYmKHE9Yy5sZW5ndGgscT5pJiYocT1pKSxxJiYoYy5oZWFkJiYod2E9Yy5oZWFkLmV4dHJhX2xlbi1jLmxlbmd0aCxjLmhlYWQuZXh0cmF8fChjLmhlYWQuZXh0cmE9bmV3IEFycmF5KGMuaGVhZC5leHRyYV9sZW4pKSxzLmFycmF5U2V0KGMuaGVhZC5leHRyYSxlLGcscSx3YSkpLDUxMiZjLmZsYWdzJiYoYy5jaGVjaz11KGMuY2hlY2ssZSxxLGcpKSxpLT1xLGcrPXEsYy5sZW5ndGgtPXEpLGMubGVuZ3RoKSlicmVhayBhO2MubGVuZ3RoPTAsYy5tb2RlPVI7Y2FzZSBSOmlmKDIwNDgmYy5mbGFncyl7aWYoMD09PWkpYnJlYWsgYTtxPTA7ZG8gd2E9ZVtnK3ErK10sYy5oZWFkJiZ3YSYmYy5sZW5ndGg8NjU1MzYmJihjLmhlYWQubmFtZSs9U3RyaW5nLmZyb21DaGFyQ29kZSh3YSkpO3doaWxlKHdhJiZxPGkpO2lmKDUxMiZjLmZsYWdzJiYoYy5jaGVjaz11KGMuY2hlY2ssZSxxLGcpKSxpLT1xLGcrPXEsd2EpYnJlYWsgYX1lbHNlIGMuaGVhZCYmKGMuaGVhZC5uYW1lPW51bGwpO2MubGVuZ3RoPTAsYy5tb2RlPVM7Y2FzZSBTOmlmKDQwOTYmYy5mbGFncyl7aWYoMD09PWkpYnJlYWsgYTtxPTA7ZG8gd2E9ZVtnK3ErK10sYy5oZWFkJiZ3YSYmYy5sZW5ndGg8NjU1MzYmJihjLmhlYWQuY29tbWVudCs9U3RyaW5nLmZyb21DaGFyQ29kZSh3YSkpO3doaWxlKHdhJiZxPGkpO2lmKDUxMiZjLmZsYWdzJiYoYy5jaGVjaz11KGMuY2hlY2ssZSxxLGcpKSxpLT1xLGcrPXEsd2EpYnJlYWsgYX1lbHNlIGMuaGVhZCYmKGMuaGVhZC5jb21tZW50PW51bGwpO2MubW9kZT1UO2Nhc2UgVDppZig1MTImYy5mbGFncyl7Zm9yKDtuPDE2Oyl7aWYoMD09PWkpYnJlYWsgYTtpLS0sbSs9ZVtnKytdPDxuLG4rPTh9aWYobSE9PSg2NTUzNSZjLmNoZWNrKSl7YS5tc2c9ImhlYWRlciBjcmMgbWlzbWF0Y2giLGMubW9kZT1tYTticmVha31tPTAsbj0wfWMuaGVhZCYmKGMuaGVhZC5oY3JjPWMuZmxhZ3M+PjkmMSxjLmhlYWQuZG9uZT0hMCksYS5hZGxlcj1jLmNoZWNrPTAsYy5tb2RlPVc7YnJlYWs7Y2FzZSBVOmZvcig7bjwzMjspe2lmKDA9PT1pKWJyZWFrIGE7aS0tLG0rPWVbZysrXTw8bixuKz04fWEuYWRsZXI9Yy5jaGVjaz1kKG0pLG09MCxuPTAsYy5tb2RlPVY7Y2FzZSBWOmlmKDA9PT1jLmhhdmVkaWN0KXJldHVybiBhLm5leHRfb3V0PWgsYS5hdmFpbF9vdXQ9aixhLm5leHRfaW49ZyxhLmF2YWlsX2luPWksYy5ob2xkPW0sYy5iaXRzPW4sRjthLmFkbGVyPWMuY2hlY2s9MSxjLm1vZGU9VztjYXNlIFc6aWYoYj09PUJ8fGI9PT1DKWJyZWFrIGE7Y2FzZSBYOmlmKGMubGFzdCl7bT4+Pj03Jm4sbi09NyZuLGMubW9kZT1qYTticmVha31mb3IoO248Mzspe2lmKDA9PT1pKWJyZWFrIGE7aS0tLG0rPWVbZysrXTw8bixuKz04fXN3aXRjaChjLmxhc3Q9MSZtLG0+Pj49MSxuLT0xLDMmbSl7Y2FzZSAwOmMubW9kZT1ZO2JyZWFrO2Nhc2UgMTppZihrKGMpLGMubW9kZT1jYSxiPT09Qyl7bT4+Pj0yLG4tPTI7YnJlYWsgYX1icmVhaztjYXNlIDI6Yy5tb2RlPV87YnJlYWs7Y2FzZSAzOmEubXNnPSJpbnZhbGlkIGJsb2NrIHR5cGUiLGMubW9kZT1tYX1tPj4+PTIsbi09MjticmVhaztjYXNlIFk6Zm9yKG0+Pj49NyZuLG4tPTcmbjtuPDMyOyl7aWYoMD09PWkpYnJlYWsgYTtpLS0sbSs9ZVtnKytdPDxuLG4rPTh9aWYoKDY1NTM1Jm0pIT09KG0+Pj4xNl42NTUzNSkpe2EubXNnPSJpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzIixjLm1vZGU9bWE7YnJlYWt9aWYoYy5sZW5ndGg9NjU1MzUmbSxtPTAsbj0wLGMubW9kZT1aLGI9PT1DKWJyZWFrIGE7Y2FzZSBaOmMubW9kZT0kO2Nhc2UgJDppZihxPWMubGVuZ3RoKXtpZihxPmkmJihxPWkpLHE+aiYmKHE9aiksMD09PXEpYnJlYWsgYTtzLmFycmF5U2V0KGYsZSxnLHEsaCksaS09cSxnKz1xLGotPXEsaCs9cSxjLmxlbmd0aC09cTticmVha31jLm1vZGU9VzticmVhaztjYXNlIF86Zm9yKDtuPDE0Oyl7aWYoMD09PWkpYnJlYWsgYTtpLS0sbSs9ZVtnKytdPDxuLG4rPTh9aWYoYy5ubGVuPSgzMSZtKSsyNTcsbT4+Pj01LG4tPTUsYy5uZGlzdD0oMzEmbSkrMSxtPj4+PTUsbi09NSxjLm5jb2RlPSgxNSZtKSs0LG0+Pj49NCxuLT00LGMubmxlbj4yODZ8fGMubmRpc3Q+MzApe2EubXNnPSJ0b28gbWFueSBsZW5ndGggb3IgZGlzdGFuY2Ugc3ltYm9scyIsYy5tb2RlPW1hO2JyZWFrfWMuaGF2ZT0wLGMubW9kZT1hYTtjYXNlIGFhOmZvcig7Yy5oYXZlPGMubmNvZGU7KXtmb3IoO248Mzspe2lmKDA9PT1pKWJyZWFrIGE7aS0tLG0rPWVbZysrXTw8bixuKz04fWMubGVuc1tDYVtjLmhhdmUrK11dPTcmbSxtPj4+PTMsbi09M31mb3IoO2MuaGF2ZTwxOTspYy5sZW5zW0NhW2MuaGF2ZSsrXV09MDtpZihjLmxlbmNvZGU9Yy5sZW5keW4sYy5sZW5iaXRzPTcseWE9e2JpdHM6Yy5sZW5iaXRzfSx4YT13KHgsYy5sZW5zLDAsMTksYy5sZW5jb2RlLDAsYy53b3JrLHlhKSxjLmxlbmJpdHM9eWEuYml0cyx4YSl7YS5tc2c9ImludmFsaWQgY29kZSBsZW5ndGhzIHNldCIsYy5tb2RlPW1hO2JyZWFrfWMuaGF2ZT0wLGMubW9kZT1iYTtjYXNlIGJhOmZvcig7Yy5oYXZlPGMubmxlbitjLm5kaXN0Oyl7Zm9yKDtBYT1jLmxlbmNvZGVbbSYoMTw8Yy5sZW5iaXRzKS0xXSxxYT1BYT4+PjI0LHJhPUFhPj4+MTYmMjU1LHNhPTY1NTM1JkFhLCEocWE8PW4pOyl7aWYoMD09PWkpYnJlYWsgYTtpLS0sbSs9ZVtnKytdPDxuLG4rPTh9aWYoc2E8MTYpbT4+Pj1xYSxuLT1xYSxjLmxlbnNbYy5oYXZlKytdPXNhO2Vsc2V7aWYoMTY9PT1zYSl7Zm9yKHphPXFhKzI7bjx6YTspe2lmKDA9PT1pKWJyZWFrIGE7aS0tLG0rPWVbZysrXTw8bixuKz04fWlmKG0+Pj49cWEsbi09cWEsMD09PWMuaGF2ZSl7YS5tc2c9ImludmFsaWQgYml0IGxlbmd0aCByZXBlYXQiLGMubW9kZT1tYTticmVha313YT1jLmxlbnNbYy5oYXZlLTFdLHE9MysoMyZtKSxtPj4+PTIsbi09Mn1lbHNlIGlmKDE3PT09c2Epe2Zvcih6YT1xYSszO248emE7KXtpZigwPT09aSlicmVhayBhO2ktLSxtKz1lW2crK108PG4sbis9OH1tPj4+PXFhLG4tPXFhLHdhPTAscT0zKyg3Jm0pLG0+Pj49MyxuLT0zfWVsc2V7Zm9yKHphPXFhKzc7bjx6YTspe2lmKDA9PT1pKWJyZWFrIGE7aS0tLG0rPWVbZysrXTw8bixuKz04fW0+Pj49cWEsbi09cWEsd2E9MCxxPTExKygxMjcmbSksbT4+Pj03LG4tPTd9aWYoYy5oYXZlK3E+Yy5ubGVuK2MubmRpc3Qpe2EubXNnPSJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0IixjLm1vZGU9bWE7YnJlYWt9Zm9yKDtxLS07KWMubGVuc1tjLmhhdmUrK109d2F9fWlmKGMubW9kZT09PW1hKWJyZWFrO2lmKDA9PT1jLmxlbnNbMjU2XSl7YS5tc2c9ImludmFsaWQgY29kZSAtLSBtaXNzaW5nIGVuZC1vZi1ibG9jayIsYy5tb2RlPW1hO2JyZWFrfWlmKGMubGVuYml0cz05LHlhPXtiaXRzOmMubGVuYml0c30seGE9dyh5LGMubGVucywwLGMubmxlbixjLmxlbmNvZGUsMCxjLndvcmsseWEpLGMubGVuYml0cz15YS5iaXRzLHhhKXthLm1zZz0iaW52YWxpZCBsaXRlcmFsL2xlbmd0aHMgc2V0IixjLm1vZGU9bWE7YnJlYWt9aWYoYy5kaXN0Yml0cz02LGMuZGlzdGNvZGU9Yy5kaXN0ZHluLHlhPXtiaXRzOmMuZGlzdGJpdHN9LHhhPXcoeixjLmxlbnMsYy5ubGVuLGMubmRpc3QsYy5kaXN0Y29kZSwwLGMud29yayx5YSksYy5kaXN0Yml0cz15YS5iaXRzLHhhKXthLm1zZz0iaW52YWxpZCBkaXN0YW5jZXMgc2V0IixjLm1vZGU9bWE7YnJlYWt9aWYoYy5tb2RlPWNhLGI9PT1DKWJyZWFrIGE7Y2FzZSBjYTpjLm1vZGU9ZGE7Y2FzZSBkYTppZihpPj02JiZqPj0yNTgpe2EubmV4dF9vdXQ9aCxhLmF2YWlsX291dD1qLGEubmV4dF9pbj1nLGEuYXZhaWxfaW49aSxjLmhvbGQ9bSxjLmJpdHM9bix2KGEscCksaD1hLm5leHRfb3V0LGY9YS5vdXRwdXQsaj1hLmF2YWlsX291dCxnPWEubmV4dF9pbixlPWEuaW5wdXQsaT1hLmF2YWlsX2luLG09Yy5ob2xkLG49Yy5iaXRzLGMubW9kZT09PVcmJihjLmJhY2s9LTEpO2JyZWFrfWZvcihjLmJhY2s9MDtBYT1jLmxlbmNvZGVbbSYoMTw8Yy5sZW5iaXRzKS0xXSxxYT1BYT4+PjI0LHJhPUFhPj4+MTYmMjU1LHNhPTY1NTM1JkFhLCEocWE8PW4pOyl7aWYoMD09PWkpYnJlYWsgYTtpLS0sbSs9ZVtnKytdPDxuLG4rPTh9aWYocmEmJjA9PT0oMjQwJnJhKSl7Zm9yKHRhPXFhLHVhPXJhLHZhPXNhO0FhPWMubGVuY29kZVt2YSsoKG0mKDE8PHRhK3VhKS0xKT4+dGEpXSxxYT1BYT4+PjI0LHJhPUFhPj4+MTYmMjU1LHNhPTY1NTM1JkFhLCEodGErcWE8PW4pOyl7aWYoMD09PWkpYnJlYWsgYTtpLS0sbSs9ZVtnKytdPDxuLG4rPTh9bT4+Pj10YSxuLT10YSxjLmJhY2srPXRhfWlmKG0+Pj49cWEsbi09cWEsYy5iYWNrKz1xYSxjLmxlbmd0aD1zYSwwPT09cmEpe2MubW9kZT1pYTticmVha31pZigzMiZyYSl7Yy5iYWNrPS0xLGMubW9kZT1XO2JyZWFrfWlmKDY0JnJhKXthLm1zZz0iaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlIixjLm1vZGU9bWE7YnJlYWt9Yy5leHRyYT0xNSZyYSxjLm1vZGU9ZWE7Y2FzZSBlYTppZihjLmV4dHJhKXtmb3IoemE9Yy5leHRyYTtuPHphOyl7aWYoMD09PWkpYnJlYWsgYTtpLS0sbSs9ZVtnKytdPDxuLG4rPTh9Yy5sZW5ndGgrPW0mKDE8PGMuZXh0cmEpLTEsbT4+Pj1jLmV4dHJhLG4tPWMuZXh0cmEsYy5iYWNrKz1jLmV4dHJhfWMud2FzPWMubGVuZ3RoLGMubW9kZT1mYTtjYXNlIGZhOmZvcig7QWE9Yy5kaXN0Y29kZVttJigxPDxjLmRpc3RiaXRzKS0xXSxxYT1BYT4+PjI0LHJhPUFhPj4+MTYmMjU1LHNhPTY1NTM1JkFhLCEocWE8PW4pOyl7aWYoMD09PWkpYnJlYWsgYTtpLS0sbSs9ZVtnKytdPDxuLG4rPTh9aWYoMD09PSgyNDAmcmEpKXtmb3IodGE9cWEsdWE9cmEsdmE9c2E7QWE9Yy5kaXN0Y29kZVt2YSsoKG0mKDE8PHRhK3VhKS0xKT4+dGEpXSxxYT1BYT4+PjI0LHJhPUFhPj4+MTYmMjU1LHNhPTY1NTM1JkFhLCEodGErcWE8PW4pOyl7aWYoMD09PWkpYnJlYWsgYTtpLS0sbSs9ZVtnKytdPDxuLG4rPTh9bT4+Pj10YSxuLT10YSxjLmJhY2srPXRhfWlmKG0+Pj49cWEsbi09cWEsYy5iYWNrKz1xYSw2NCZyYSl7YS5tc2c9ImludmFsaWQgZGlzdGFuY2UgY29kZSIsYy5tb2RlPW1hO2JyZWFrfWMub2Zmc2V0PXNhLGMuZXh0cmE9MTUmcmEsYy5tb2RlPWdhO2Nhc2UgZ2E6aWYoYy5leHRyYSl7Zm9yKHphPWMuZXh0cmE7bjx6YTspe2lmKDA9PT1pKWJyZWFrIGE7aS0tLG0rPWVbZysrXTw8bixuKz04fWMub2Zmc2V0Kz1tJigxPDxjLmV4dHJhKS0xLG0+Pj49Yy5leHRyYSxuLT1jLmV4dHJhLGMuYmFjays9Yy5leHRyYX1pZihjLm9mZnNldD5jLmRtYXgpe2EubXNnPSJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsYy5tb2RlPW1hO2JyZWFrfWMubW9kZT1oYTtjYXNlIGhhOmlmKDA9PT1qKWJyZWFrIGE7aWYocT1wLWosYy5vZmZzZXQ+cSl7aWYocT1jLm9mZnNldC1xLHE+Yy53aGF2ZSYmYy5zYW5lKXthLm1zZz0iaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2siLGMubW9kZT1tYTticmVha31xPmMud25leHQ/KHEtPWMud25leHQscj1jLndzaXplLXEpOnI9Yy53bmV4dC1xLHE+Yy5sZW5ndGgmJihxPWMubGVuZ3RoKSxwYT1jLndpbmRvd31lbHNlIHBhPWYscj1oLWMub2Zmc2V0LHE9Yy5sZW5ndGg7cT5qJiYocT1qKSxqLT1xLGMubGVuZ3RoLT1xO2RvIGZbaCsrXT1wYVtyKytdO3doaWxlKC0tcSk7MD09PWMubGVuZ3RoJiYoYy5tb2RlPWRhKTticmVhaztjYXNlIGlhOmlmKDA9PT1qKWJyZWFrIGE7ZltoKytdPWMubGVuZ3RoLGotLSxjLm1vZGU9ZGE7YnJlYWs7Y2FzZSBqYTppZihjLndyYXApe2Zvcig7bjwzMjspe2lmKDA9PT1pKWJyZWFrIGE7aS0tLG18PWVbZysrXTw8bixuKz04fWlmKHAtPWosYS50b3RhbF9vdXQrPXAsYy50b3RhbCs9cCxwJiYoYS5hZGxlcj1jLmNoZWNrPWMuZmxhZ3M/dShjLmNoZWNrLGYscCxoLXApOnQoYy5jaGVjayxmLHAsaC1wKSkscD1qLChjLmZsYWdzP206ZChtKSkhPT1jLmNoZWNrKXthLm1zZz0iaW5jb3JyZWN0IGRhdGEgY2hlY2siLGMubW9kZT1tYTticmVha31tPTAsbj0wfWMubW9kZT1rYTtjYXNlIGthOmlmKGMud3JhcCYmYy5mbGFncyl7Zm9yKDtuPDMyOyl7aWYoMD09PWkpYnJlYWsgYTtpLS0sbSs9ZVtnKytdPDxuLG4rPTh9aWYobSE9PSg0Mjk0OTY3Mjk1JmMudG90YWwpKXthLm1zZz0iaW5jb3JyZWN0IGxlbmd0aCBjaGVjayIsYy5tb2RlPW1hO2JyZWFrfW09MCxuPTB9Yy5tb2RlPWxhO2Nhc2UgbGE6eGE9RTticmVhayBhO2Nhc2UgbWE6eGE9SDticmVhayBhO2Nhc2UgbmE6cmV0dXJuIEk7Y2FzZSBvYTpkZWZhdWx0OnJldHVybiBHfXJldHVybiBhLm5leHRfb3V0PWgsYS5hdmFpbF9vdXQ9aixhLm5leHRfaW49ZyxhLmF2YWlsX2luPWksYy5ob2xkPW0sYy5iaXRzPW4sKGMud3NpemV8fHAhPT1hLmF2YWlsX291dCYmYy5tb2RlPG1hJiYoYy5tb2RlPGphfHxiIT09QSkpJiZsKGEsYS5vdXRwdXQsYS5uZXh0X291dCxwLWEuYXZhaWxfb3V0KT8oYy5tb2RlPW5hLEkpOihvLT1hLmF2YWlsX2luLHAtPWEuYXZhaWxfb3V0LGEudG90YWxfaW4rPW8sYS50b3RhbF9vdXQrPXAsYy50b3RhbCs9cCxjLndyYXAmJnAmJihhLmFkbGVyPWMuY2hlY2s9Yy5mbGFncz91KGMuY2hlY2ssZixwLGEubmV4dF9vdXQtcCk6dChjLmNoZWNrLGYscCxhLm5leHRfb3V0LXApKSxhLmRhdGFfdHlwZT1jLmJpdHMrKGMubGFzdD82NDowKSsoYy5tb2RlPT09Vz8xMjg6MCkrKGMubW9kZT09PWNhfHxjLm1vZGU9PT1aPzI1NjowKSwoMD09PW8mJjA9PT1wfHxiPT09QSkmJnhhPT09RCYmKHhhPUopLHhhKX1mdW5jdGlvbiBuKGEpe2lmKCFhfHwhYS5zdGF0ZSlyZXR1cm4gRzt2YXIgYj1hLnN0YXRlO3JldHVybiBiLndpbmRvdyYmKGIud2luZG93PW51bGwpLGEuc3RhdGU9bnVsbCxEfWZ1bmN0aW9uIG8oYSxiKXt2YXIgYztyZXR1cm4gYSYmYS5zdGF0ZT8oYz1hLnN0YXRlLDA9PT0oMiZjLndyYXApP0c6KGMuaGVhZD1iLGIuZG9uZT0hMSxEKSk6R31mdW5jdGlvbiBwKGEsYil7dmFyIGMsZCxlLGY9Yi5sZW5ndGg7cmV0dXJuIGEmJmEuc3RhdGU/KGM9YS5zdGF0ZSwwIT09Yy53cmFwJiZjLm1vZGUhPT1WP0c6Yy5tb2RlPT09ViYmKGQ9MSxkPXQoZCxiLGYsMCksZCE9PWMuY2hlY2spP0g6KGU9bChhLGIsZixmKSk/KGMubW9kZT1uYSxJKTooYy5oYXZlZGljdD0xLEQpKTpHfXZhciBxLHIscz1hKCIuLi91dGlscy9jb21tb24iKSx0PWEoIi4vYWRsZXIzMiIpLHU9YSgiLi9jcmMzMiIpLHY9YSgiLi9pbmZmYXN0Iiksdz1hKCIuL2luZnRyZWVzIikseD0wLHk9MSx6PTIsQT00LEI9NSxDPTYsRD0wLEU9MSxGPTIsRz0tMixIPS0zLEk9LTQsSj0tNSxLPTgsTD0xLE09MixOPTMsTz00LFA9NSxRPTYsUj03LFM9OCxUPTksVT0xMCxWPTExLFc9MTIsWD0xMyxZPTE0LFo9MTUsJD0xNixfPTE3LGFhPTE4LGJhPTE5LGNhPTIwLGRhPTIxLGVhPTIyLGZhPTIzLGdhPTI0LGhhPTI1LGlhPTI2LGphPTI3LGthPTI4LGxhPTI5LG1hPTMwLG5hPTMxLG9hPTMyLHBhPTg1MixxYT01OTIscmE9MTUsc2E9cmEsdGE9ITA7Yy5pbmZsYXRlUmVzZXQ9ZyxjLmluZmxhdGVSZXNldDI9aCxjLmluZmxhdGVSZXNldEtlZXA9ZixjLmluZmxhdGVJbml0PWosYy5pbmZsYXRlSW5pdDI9aSxjLmluZmxhdGU9bSxjLmluZmxhdGVFbmQ9bixjLmluZmxhdGVHZXRIZWFkZXI9byxjLmluZmxhdGVTZXREaWN0aW9uYXJ5PXAsYy5pbmZsYXRlSW5mbz0icGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSJ9LHsiLi4vdXRpbHMvY29tbW9uIjo2MiwiLi9hZGxlcjMyIjo2NCwiLi9jcmMzMiI6NjYsIi4vaW5mZmFzdCI6NjksIi4vaW5mdHJlZXMiOjcxfV0sNzE6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7dmFyIGQ9YSgiLi4vdXRpbHMvY29tbW9uIiksZT0xNSxmPTg1MixnPTU5MixoPTAsaT0xLGo9MixrPVszLDQsNSw2LDcsOCw5LDEwLDExLDEzLDE1LDE3LDE5LDIzLDI3LDMxLDM1LDQzLDUxLDU5LDY3LDgzLDk5LDExNSwxMzEsMTYzLDE5NSwyMjcsMjU4LDAsMF0sbD1bMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTcsMTcsMTcsMTcsMTgsMTgsMTgsMTgsMTksMTksMTksMTksMjAsMjAsMjAsMjAsMjEsMjEsMjEsMjEsMTYsNzIsNzhdLG09WzEsMiwzLDQsNSw3LDksMTMsMTcsMjUsMzMsNDksNjUsOTcsMTI5LDE5MywyNTcsMzg1LDUxMyw3NjksMTAyNSwxNTM3LDIwNDksMzA3Myw0MDk3LDYxNDUsODE5MywxMjI4OSwxNjM4NSwyNDU3NywwLDBdLG49WzE2LDE2LDE2LDE2LDE3LDE3LDE4LDE4LDE5LDE5LDIwLDIwLDIxLDIxLDIyLDIyLDIzLDIzLDI0LDI0LDI1LDI1LDI2LDI2LDI3LDI3LDI4LDI4LDI5LDI5LDY0LDY0XTtiLmV4cG9ydHM9ZnVuY3Rpb24oYSxiLGMsbyxwLHEscixzKXt2YXIgdCx1LHYsdyx4LHkseixBLEIsQz1zLmJpdHMsRD0wLEU9MCxGPTAsRz0wLEg9MCxJPTAsSj0wLEs9MCxMPTAsTT0wLE49bnVsbCxPPTAsUD1uZXcgZC5CdWYxNihlKzEpLFE9bmV3IGQuQnVmMTYoZSsxKSxSPW51bGwsUz0wO2ZvcihEPTA7RDw9ZTtEKyspUFtEXT0wO2ZvcihFPTA7RTxvO0UrKylQW2JbYytFXV0rKztmb3IoSD1DLEc9ZTtHPj0xJiYwPT09UFtHXTtHLS0pO2lmKEg+RyYmKEg9RyksMD09PUcpcmV0dXJuIHBbcSsrXT0yMDk3MTUyMCxwW3ErK109MjA5NzE1MjAscy5iaXRzPTEsMDtmb3IoRj0xO0Y8RyYmMD09PVBbRl07RisrKTtmb3IoSDxGJiYoSD1GKSxLPTEsRD0xO0Q8PWU7RCsrKWlmKEs8PD0xLEstPVBbRF0sSzwwKXJldHVybi0xO2lmKEs+MCYmKGE9PT1ofHwxIT09RykpcmV0dXJuLTE7Zm9yKFFbMV09MCxEPTE7RDxlO0QrKylRW0QrMV09UVtEXStQW0RdO2ZvcihFPTA7RTxvO0UrKykwIT09YltjK0VdJiYocltRW2JbYytFXV0rK109RSk7aWYoYT09PWg/KE49Uj1yLHk9MTkpOmE9PT1pPyhOPWssTy09MjU3LFI9bCxTLT0yNTcseT0yNTYpOihOPW0sUj1uLHk9LTEpLE09MCxFPTAsRD1GLHg9cSxJPUgsSj0wLHY9LTEsTD0xPDxILHc9TC0xLGE9PT1pJiZMPmZ8fGE9PT1qJiZMPmcpcmV0dXJuIDE7Zm9yKDs7KXt6PUQtSixyW0VdPHk/KEE9MCxCPXJbRV0pOnJbRV0+eT8oQT1SW1MrcltFXV0sQj1OW08rcltFXV0pOihBPTk2LEI9MCksdD0xPDxELUosdT0xPDxJLEY9dTtkbyB1LT10LHBbeCsoTT4+SikrdV09ejw8MjR8QTw8MTZ8QnwwO3doaWxlKDAhPT11KTtmb3IodD0xPDxELTE7TSZ0Oyl0Pj49MTtpZigwIT09dD8oTSY9dC0xLE0rPXQpOk09MCxFKyssMD09PS0tUFtEXSl7aWYoRD09PUcpYnJlYWs7RD1iW2MrcltFXV19aWYoRD5IJiYoTSZ3KSE9PXYpe2ZvcigwPT09SiYmKEo9SCkseCs9RixJPUQtSixLPTE8PEk7SStKPEcmJihLLT1QW0krSl0sIShLPD0wKSk7KUkrKyxLPDw9MTtpZihMKz0xPDxJLGE9PT1pJiZMPmZ8fGE9PT1qJiZMPmcpcmV0dXJuIDE7dj1NJncscFt2XT1IPDwyNHxJPDwxNnx4LXF8MH19cmV0dXJuIDAhPT1NJiYocFt4K01dPUQtSjw8MjR8NjQ8PDE2fDApLHMuYml0cz1ILDB9fSx7Ii4uL3V0aWxzL2NvbW1vbiI6NjJ9XSw3MjpbZnVuY3Rpb24oYSxiLGMpeyJ1c2Ugc3RyaWN0IjtiLmV4cG9ydHM9ezI6Im5lZWQgZGljdGlvbmFyeSIsMToic3RyZWFtIGVuZCIsMDoiIiwiLTEiOiJmaWxlIGVycm9yIiwiLTIiOiJzdHJlYW0gZXJyb3IiLCItMyI6ImRhdGEgZXJyb3IiLCItNCI6Imluc3VmZmljaWVudCBtZW1vcnkiLCItNSI6ImJ1ZmZlciBlcnJvciIsIi02IjoiaW5jb21wYXRpYmxlIHZlcnNpb24ifX0se31dLDczOltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoYSl7Zm9yKHZhciBiPWEubGVuZ3RoOy0tYj49MDspYVtiXT0wfWZ1bmN0aW9uIGUoYSxiLGMsZCxlKXt0aGlzLnN0YXRpY190cmVlPWEsdGhpcy5leHRyYV9iaXRzPWIsdGhpcy5leHRyYV9iYXNlPWMsdGhpcy5lbGVtcz1kLHRoaXMubWF4X2xlbmd0aD1lLHRoaXMuaGFzX3N0cmVlPWEmJmEubGVuZ3RofWZ1bmN0aW9uIGYoYSxiKXt0aGlzLmR5bl90cmVlPWEsdGhpcy5tYXhfY29kZT0wLHRoaXMuc3RhdF9kZXNjPWJ9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gYTwyNTY/aWFbYV06aWFbMjU2KyhhPj4+NyldfWZ1bmN0aW9uIGgoYSxiKXthLnBlbmRpbmdfYnVmW2EucGVuZGluZysrXT0yNTUmYixhLnBlbmRpbmdfYnVmW2EucGVuZGluZysrXT1iPj4+OCYyNTV9ZnVuY3Rpb24gaShhLGIsYyl7YS5iaV92YWxpZD5YLWM/KGEuYmlfYnVmfD1iPDxhLmJpX3ZhbGlkJjY1NTM1LGgoYSxhLmJpX2J1ZiksYS5iaV9idWY9Yj4+WC1hLmJpX3ZhbGlkLGEuYmlfdmFsaWQrPWMtWCk6KGEuYmlfYnVmfD1iPDxhLmJpX3ZhbGlkJjY1NTM1LGEuYmlfdmFsaWQrPWMpfWZ1bmN0aW9uIGooYSxiLGMpe2koYSxjWzIqYl0sY1syKmIrMV0pfWZ1bmN0aW9uIGsoYSxiKXt2YXIgYz0wO2RvIGN8PTEmYSxhPj4+PTEsYzw8PTE7d2hpbGUoLS1iPjApO3JldHVybiBjPj4+MX1mdW5jdGlvbiBsKGEpezE2PT09YS5iaV92YWxpZD8oaChhLGEuYmlfYnVmKSxhLmJpX2J1Zj0wLGEuYmlfdmFsaWQ9MCk6YS5iaV92YWxpZD49OCYmKGEucGVuZGluZ19idWZbYS5wZW5kaW5nKytdPTI1NSZhLmJpX2J1ZixhLmJpX2J1Zj4+PTgsYS5iaV92YWxpZC09OCl9ZnVuY3Rpb24gbShhLGIpe3ZhciBjLGQsZSxmLGcsaCxpPWIuZHluX3RyZWUsaj1iLm1heF9jb2RlLGs9Yi5zdGF0X2Rlc2Muc3RhdGljX3RyZWUsbD1iLnN0YXRfZGVzYy5oYXNfc3RyZWUsbT1iLnN0YXRfZGVzYy5leHRyYV9iaXRzLG49Yi5zdGF0X2Rlc2MuZXh0cmFfYmFzZSxvPWIuc3RhdF9kZXNjLm1heF9sZW5ndGgscD0wO2ZvcihmPTA7Zjw9VztmKyspYS5ibF9jb3VudFtmXT0wO2ZvcihpWzIqYS5oZWFwW2EuaGVhcF9tYXhdKzFdPTAsCmM9YS5oZWFwX21heCsxO2M8VjtjKyspZD1hLmhlYXBbY10sZj1pWzIqaVsyKmQrMV0rMV0rMSxmPm8mJihmPW8scCsrKSxpWzIqZCsxXT1mLGQ+anx8KGEuYmxfY291bnRbZl0rKyxnPTAsZD49biYmKGc9bVtkLW5dKSxoPWlbMipkXSxhLm9wdF9sZW4rPWgqKGYrZyksbCYmKGEuc3RhdGljX2xlbis9aCooa1syKmQrMV0rZykpKTtpZigwIT09cCl7ZG97Zm9yKGY9by0xOzA9PT1hLmJsX2NvdW50W2ZdOylmLS07YS5ibF9jb3VudFtmXS0tLGEuYmxfY291bnRbZisxXSs9MixhLmJsX2NvdW50W29dLS0scC09Mn13aGlsZShwPjApO2ZvcihmPW87MCE9PWY7Zi0tKWZvcihkPWEuYmxfY291bnRbZl07MCE9PWQ7KWU9YS5oZWFwWy0tY10sZT5qfHwoaVsyKmUrMV0hPT1mJiYoYS5vcHRfbGVuKz0oZi1pWzIqZSsxXSkqaVsyKmVdLGlbMiplKzFdPWYpLGQtLSl9fWZ1bmN0aW9uIG4oYSxiLGMpe3ZhciBkLGUsZj1uZXcgQXJyYXkoVysxKSxnPTA7Zm9yKGQ9MTtkPD1XO2QrKylmW2RdPWc9ZytjW2QtMV08PDE7Zm9yKGU9MDtlPD1iO2UrKyl7dmFyIGg9YVsyKmUrMV07MCE9PWgmJihhWzIqZV09ayhmW2hdKyssaCkpfX1mdW5jdGlvbiBvKCl7dmFyIGEsYixjLGQsZixnPW5ldyBBcnJheShXKzEpO2ZvcihjPTAsZD0wO2Q8US0xO2QrKylmb3Ioa2FbZF09YyxhPTA7YTwxPDxiYVtkXTthKyspamFbYysrXT1kO2ZvcihqYVtjLTFdPWQsZj0wLGQ9MDtkPDE2O2QrKylmb3IobGFbZF09ZixhPTA7YTwxPDxjYVtkXTthKyspaWFbZisrXT1kO2ZvcihmPj49NztkPFQ7ZCsrKWZvcihsYVtkXT1mPDw3LGE9MDthPDE8PGNhW2RdLTc7YSsrKWlhWzI1NitmKytdPWQ7Zm9yKGI9MDtiPD1XO2IrKylnW2JdPTA7Zm9yKGE9MDthPD0xNDM7KWdhWzIqYSsxXT04LGErKyxnWzhdKys7Zm9yKDthPD0yNTU7KWdhWzIqYSsxXT05LGErKyxnWzldKys7Zm9yKDthPD0yNzk7KWdhWzIqYSsxXT03LGErKyxnWzddKys7Zm9yKDthPD0yODc7KWdhWzIqYSsxXT04LGErKyxnWzhdKys7Zm9yKG4oZ2EsUysxLGcpLGE9MDthPFQ7YSsrKWhhWzIqYSsxXT01LGhhWzIqYV09ayhhLDUpO21hPW5ldyBlKGdhLGJhLFIrMSxTLFcpLG5hPW5ldyBlKGhhLGNhLDAsVCxXKSxvYT1uZXcgZShuZXcgQXJyYXkoMCksZGEsMCxVLFkpfWZ1bmN0aW9uIHAoYSl7dmFyIGI7Zm9yKGI9MDtiPFM7YisrKWEuZHluX2x0cmVlWzIqYl09MDtmb3IoYj0wO2I8VDtiKyspYS5keW5fZHRyZWVbMipiXT0wO2ZvcihiPTA7YjxVO2IrKylhLmJsX3RyZWVbMipiXT0wO2EuZHluX2x0cmVlWzIqWl09MSxhLm9wdF9sZW49YS5zdGF0aWNfbGVuPTAsYS5sYXN0X2xpdD1hLm1hdGNoZXM9MH1mdW5jdGlvbiBxKGEpe2EuYmlfdmFsaWQ+OD9oKGEsYS5iaV9idWYpOmEuYmlfdmFsaWQ+MCYmKGEucGVuZGluZ19idWZbYS5wZW5kaW5nKytdPWEuYmlfYnVmKSxhLmJpX2J1Zj0wLGEuYmlfdmFsaWQ9MH1mdW5jdGlvbiByKGEsYixjLGQpe3EoYSksZCYmKGgoYSxjKSxoKGEsfmMpKSxHLmFycmF5U2V0KGEucGVuZGluZ19idWYsYS53aW5kb3csYixjLGEucGVuZGluZyksYS5wZW5kaW5nKz1jfWZ1bmN0aW9uIHMoYSxiLGMsZCl7dmFyIGU9MipiLGY9MipjO3JldHVybiBhW2VdPGFbZl18fGFbZV09PT1hW2ZdJiZkW2JdPD1kW2NdfWZ1bmN0aW9uIHQoYSxiLGMpe2Zvcih2YXIgZD1hLmhlYXBbY10sZT1jPDwxO2U8PWEuaGVhcF9sZW4mJihlPGEuaGVhcF9sZW4mJnMoYixhLmhlYXBbZSsxXSxhLmhlYXBbZV0sYS5kZXB0aCkmJmUrKywhcyhiLGQsYS5oZWFwW2VdLGEuZGVwdGgpKTspYS5oZWFwW2NdPWEuaGVhcFtlXSxjPWUsZTw8PTE7YS5oZWFwW2NdPWR9ZnVuY3Rpb24gdShhLGIsYyl7dmFyIGQsZSxmLGgsaz0wO2lmKDAhPT1hLmxhc3RfbGl0KWRvIGQ9YS5wZW5kaW5nX2J1ZlthLmRfYnVmKzIqa108PDh8YS5wZW5kaW5nX2J1ZlthLmRfYnVmKzIqaysxXSxlPWEucGVuZGluZ19idWZbYS5sX2J1ZitrXSxrKyssMD09PWQ/aihhLGUsYik6KGY9amFbZV0saihhLGYrUisxLGIpLGg9YmFbZl0sMCE9PWgmJihlLT1rYVtmXSxpKGEsZSxoKSksZC0tLGY9ZyhkKSxqKGEsZixjKSxoPWNhW2ZdLDAhPT1oJiYoZC09bGFbZl0saShhLGQsaCkpKTt3aGlsZShrPGEubGFzdF9saXQpO2ooYSxaLGIpfWZ1bmN0aW9uIHYoYSxiKXt2YXIgYyxkLGUsZj1iLmR5bl90cmVlLGc9Yi5zdGF0X2Rlc2Muc3RhdGljX3RyZWUsaD1iLnN0YXRfZGVzYy5oYXNfc3RyZWUsaT1iLnN0YXRfZGVzYy5lbGVtcyxqPS0xO2ZvcihhLmhlYXBfbGVuPTAsYS5oZWFwX21heD1WLGM9MDtjPGk7YysrKTAhPT1mWzIqY10/KGEuaGVhcFsrK2EuaGVhcF9sZW5dPWo9YyxhLmRlcHRoW2NdPTApOmZbMipjKzFdPTA7Zm9yKDthLmhlYXBfbGVuPDI7KWU9YS5oZWFwWysrYS5oZWFwX2xlbl09ajwyPysrajowLGZbMiplXT0xLGEuZGVwdGhbZV09MCxhLm9wdF9sZW4tLSxoJiYoYS5zdGF0aWNfbGVuLT1nWzIqZSsxXSk7Zm9yKGIubWF4X2NvZGU9aixjPWEuaGVhcF9sZW4+PjE7Yz49MTtjLS0pdChhLGYsYyk7ZT1pO2RvIGM9YS5oZWFwWzFdLGEuaGVhcFsxXT1hLmhlYXBbYS5oZWFwX2xlbi0tXSx0KGEsZiwxKSxkPWEuaGVhcFsxXSxhLmhlYXBbLS1hLmhlYXBfbWF4XT1jLGEuaGVhcFstLWEuaGVhcF9tYXhdPWQsZlsyKmVdPWZbMipjXStmWzIqZF0sYS5kZXB0aFtlXT0oYS5kZXB0aFtjXT49YS5kZXB0aFtkXT9hLmRlcHRoW2NdOmEuZGVwdGhbZF0pKzEsZlsyKmMrMV09ZlsyKmQrMV09ZSxhLmhlYXBbMV09ZSsrLHQoYSxmLDEpO3doaWxlKGEuaGVhcF9sZW4+PTIpO2EuaGVhcFstLWEuaGVhcF9tYXhdPWEuaGVhcFsxXSxtKGEsYiksbihmLGosYS5ibF9jb3VudCl9ZnVuY3Rpb24gdyhhLGIsYyl7dmFyIGQsZSxmPS0xLGc9YlsxXSxoPTAsaT03LGo9NDtmb3IoMD09PWcmJihpPTEzOCxqPTMpLGJbMiooYysxKSsxXT02NTUzNSxkPTA7ZDw9YztkKyspZT1nLGc9YlsyKihkKzEpKzFdLCsraDxpJiZlPT09Z3x8KGg8aj9hLmJsX3RyZWVbMiplXSs9aDowIT09ZT8oZSE9PWYmJmEuYmxfdHJlZVsyKmVdKyssYS5ibF90cmVlWzIqJF0rKyk6aDw9MTA/YS5ibF90cmVlWzIqX10rKzphLmJsX3RyZWVbMiphYV0rKyxoPTAsZj1lLDA9PT1nPyhpPTEzOCxqPTMpOmU9PT1nPyhpPTYsaj0zKTooaT03LGo9NCkpfWZ1bmN0aW9uIHgoYSxiLGMpe3ZhciBkLGUsZj0tMSxnPWJbMV0saD0wLGs9NyxsPTQ7Zm9yKDA9PT1nJiYoaz0xMzgsbD0zKSxkPTA7ZDw9YztkKyspaWYoZT1nLGc9YlsyKihkKzEpKzFdLCEoKytoPGsmJmU9PT1nKSl7aWYoaDxsKXtkbyBqKGEsZSxhLmJsX3RyZWUpO3doaWxlKDAhPT0tLWgpfWVsc2UgMCE9PWU/KGUhPT1mJiYoaihhLGUsYS5ibF90cmVlKSxoLS0pLGooYSwkLGEuYmxfdHJlZSksaShhLGgtMywyKSk6aDw9MTA/KGooYSxfLGEuYmxfdHJlZSksaShhLGgtMywzKSk6KGooYSxhYSxhLmJsX3RyZWUpLGkoYSxoLTExLDcpKTtoPTAsZj1lLDA9PT1nPyhrPTEzOCxsPTMpOmU9PT1nPyhrPTYsbD0zKTooaz03LGw9NCl9fWZ1bmN0aW9uIHkoYSl7dmFyIGI7Zm9yKHcoYSxhLmR5bl9sdHJlZSxhLmxfZGVzYy5tYXhfY29kZSksdyhhLGEuZHluX2R0cmVlLGEuZF9kZXNjLm1heF9jb2RlKSx2KGEsYS5ibF9kZXNjKSxiPVUtMTtiPj0zJiYwPT09YS5ibF90cmVlWzIqZWFbYl0rMV07Yi0tKTtyZXR1cm4gYS5vcHRfbGVuKz0zKihiKzEpKzUrNSs0LGJ9ZnVuY3Rpb24geihhLGIsYyxkKXt2YXIgZTtmb3IoaShhLGItMjU3LDUpLGkoYSxjLTEsNSksaShhLGQtNCw0KSxlPTA7ZTxkO2UrKylpKGEsYS5ibF90cmVlWzIqZWFbZV0rMV0sMyk7eChhLGEuZHluX2x0cmVlLGItMSkseChhLGEuZHluX2R0cmVlLGMtMSl9ZnVuY3Rpb24gQShhKXt2YXIgYixjPTQwOTM2MjQ0NDc7Zm9yKGI9MDtiPD0zMTtiKyssYz4+Pj0xKWlmKDEmYyYmMCE9PWEuZHluX2x0cmVlWzIqYl0pcmV0dXJuIEk7aWYoMCE9PWEuZHluX2x0cmVlWzE4XXx8MCE9PWEuZHluX2x0cmVlWzIwXXx8MCE9PWEuZHluX2x0cmVlWzI2XSlyZXR1cm4gSjtmb3IoYj0zMjtiPFI7YisrKWlmKDAhPT1hLmR5bl9sdHJlZVsyKmJdKXJldHVybiBKO3JldHVybiBJfWZ1bmN0aW9uIEIoYSl7cGF8fChvKCkscGE9ITApLGEubF9kZXNjPW5ldyBmKGEuZHluX2x0cmVlLG1hKSxhLmRfZGVzYz1uZXcgZihhLmR5bl9kdHJlZSxuYSksYS5ibF9kZXNjPW5ldyBmKGEuYmxfdHJlZSxvYSksYS5iaV9idWY9MCxhLmJpX3ZhbGlkPTAscChhKX1mdW5jdGlvbiBDKGEsYixjLGQpe2koYSwoTDw8MSkrKGQ/MTowKSwzKSxyKGEsYixjLCEwKX1mdW5jdGlvbiBEKGEpe2koYSxNPDwxLDMpLGooYSxaLGdhKSxsKGEpfWZ1bmN0aW9uIEUoYSxiLGMsZCl7dmFyIGUsZixnPTA7YS5sZXZlbD4wPyhhLnN0cm0uZGF0YV90eXBlPT09SyYmKGEuc3RybS5kYXRhX3R5cGU9QShhKSksdihhLGEubF9kZXNjKSx2KGEsYS5kX2Rlc2MpLGc9eShhKSxlPWEub3B0X2xlbiszKzc+Pj4zLGY9YS5zdGF0aWNfbGVuKzMrNz4+PjMsZjw9ZSYmKGU9ZikpOmU9Zj1jKzUsYys0PD1lJiZiIT09LTE/QyhhLGIsYyxkKTphLnN0cmF0ZWd5PT09SHx8Zj09PWU/KGkoYSwoTTw8MSkrKGQ/MTowKSwzKSx1KGEsZ2EsaGEpKTooaShhLChOPDwxKSsoZD8xOjApLDMpLHooYSxhLmxfZGVzYy5tYXhfY29kZSsxLGEuZF9kZXNjLm1heF9jb2RlKzEsZysxKSx1KGEsYS5keW5fbHRyZWUsYS5keW5fZHRyZWUpKSxwKGEpLGQmJnEoYSl9ZnVuY3Rpb24gRihhLGIsYyl7cmV0dXJuIGEucGVuZGluZ19idWZbYS5kX2J1ZisyKmEubGFzdF9saXRdPWI+Pj44JjI1NSxhLnBlbmRpbmdfYnVmW2EuZF9idWYrMiphLmxhc3RfbGl0KzFdPTI1NSZiLGEucGVuZGluZ19idWZbYS5sX2J1ZithLmxhc3RfbGl0XT0yNTUmYyxhLmxhc3RfbGl0KyssMD09PWI/YS5keW5fbHRyZWVbMipjXSsrOihhLm1hdGNoZXMrKyxiLS0sYS5keW5fbHRyZWVbMiooamFbY10rUisxKV0rKyxhLmR5bl9kdHJlZVsyKmcoYildKyspLGEubGFzdF9saXQ9PT1hLmxpdF9idWZzaXplLTF9dmFyIEc9YSgiLi4vdXRpbHMvY29tbW9uIiksSD00LEk9MCxKPTEsSz0yLEw9MCxNPTEsTj0yLE89MyxQPTI1OCxRPTI5LFI9MjU2LFM9UisxK1EsVD0zMCxVPTE5LFY9MipTKzEsVz0xNSxYPTE2LFk9NyxaPTI1NiwkPTE2LF89MTcsYWE9MTgsYmE9WzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMF0sY2E9WzAsMCwwLDAsMSwxLDIsMiwzLDMsNCw0LDUsNSw2LDYsNyw3LDgsOCw5LDksMTAsMTAsMTEsMTEsMTIsMTIsMTMsMTNdLGRhPVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDIsMyw3XSxlYT1bMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0sZmE9NTEyLGdhPW5ldyBBcnJheSgyKihTKzIpKTtkKGdhKTt2YXIgaGE9bmV3IEFycmF5KDIqVCk7ZChoYSk7dmFyIGlhPW5ldyBBcnJheShmYSk7ZChpYSk7dmFyIGphPW5ldyBBcnJheShQLU8rMSk7ZChqYSk7dmFyIGthPW5ldyBBcnJheShRKTtkKGthKTt2YXIgbGE9bmV3IEFycmF5KFQpO2QobGEpO3ZhciBtYSxuYSxvYSxwYT0hMTtjLl90cl9pbml0PUIsYy5fdHJfc3RvcmVkX2Jsb2NrPUMsYy5fdHJfZmx1c2hfYmxvY2s9RSxjLl90cl90YWxseT1GLGMuX3RyX2FsaWduPUR9LHsiLi4vdXRpbHMvY29tbW9uIjo2Mn1dLDc0OltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoKXt0aGlzLmlucHV0PW51bGwsdGhpcy5uZXh0X2luPTAsdGhpcy5hdmFpbF9pbj0wLHRoaXMudG90YWxfaW49MCx0aGlzLm91dHB1dD1udWxsLHRoaXMubmV4dF9vdXQ9MCx0aGlzLmF2YWlsX291dD0wLHRoaXMudG90YWxfb3V0PTAsdGhpcy5tc2c9IiIsdGhpcy5zdGF0ZT1udWxsLHRoaXMuZGF0YV90eXBlPTIsdGhpcy5hZGxlcj0wfWIuZXhwb3J0cz1kfSx7fV19LHt9LFsxMF0pKDEwKX0pOw=="},{"meta":{"name":"FileSaver.min.js","url":"https://cdn.bootcdn.net/ajax/libs/FileSaver.js/1.3.8/FileSaver.min.js","ts":1657118213706,"mimetype":"text/javascript"},"source":"LyohIEBzb3VyY2UgaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9GaWxlU2F2ZXIuanMgKi8KdmFyIHNhdmVBcz1zYXZlQXN8fGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtpZih0eXBlb2YgZT09PSJ1bmRlZmluZWQifHx0eXBlb2YgbmF2aWdhdG9yIT09InVuZGVmaW5lZCImJi9NU0lFIFsxLTldXC4vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpe3JldHVybn12YXIgdD1lLmRvY3VtZW50LG49ZnVuY3Rpb24oKXtyZXR1cm4gZS5VUkx8fGUud2Via2l0VVJMfHxlfSxyPXQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwiYSIpLG89ImRvd25sb2FkImluIHIsYT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgTW91c2VFdmVudCgiY2xpY2siKTtlLmRpc3BhdGNoRXZlbnQodCl9LGk9L2NvbnN0cnVjdG9yL2kudGVzdChlLkhUTUxFbGVtZW50KXx8ZS5zYWZhcmksZj0vQ3JpT1NcL1tcZF0rLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHU9ZnVuY3Rpb24odCl7KGUuc2V0SW1tZWRpYXRlfHxlLnNldFRpbWVvdXQpKGZ1bmN0aW9uKCl7dGhyb3cgdH0sMCl9LHM9ImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSIsZD0xZTMqNDAsYz1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbigpe2lmKHR5cGVvZiBlPT09InN0cmluZyIpe24oKS5yZXZva2VPYmplY3RVUkwoZSl9ZWxzZXtlLnJlbW92ZSgpfX07c2V0VGltZW91dCh0LGQpfSxsPWZ1bmN0aW9uKGUsdCxuKXt0PVtdLmNvbmNhdCh0KTt2YXIgcj10Lmxlbmd0aDt3aGlsZShyLS0pe3ZhciBvPWVbIm9uIit0W3JdXTtpZih0eXBlb2Ygbz09PSJmdW5jdGlvbiIpe3RyeXtvLmNhbGwoZSxufHxlKX1jYXRjaChhKXt1KGEpfX19fSxwPWZ1bmN0aW9uKGUpe2lmKC9eXHMqKD86dGV4dFwvXFMqfGFwcGxpY2F0aW9uXC94bWx8XFMqXC9cUypcK3htbClccyo7LipjaGFyc2V0XHMqPVxzKnV0Zi04L2kudGVzdChlLnR5cGUpKXtyZXR1cm4gbmV3IEJsb2IoW1N0cmluZy5mcm9tQ2hhckNvZGUoNjUyNzkpLGVdLHt0eXBlOmUudHlwZX0pfXJldHVybiBlfSx2PWZ1bmN0aW9uKHQsdSxkKXtpZighZCl7dD1wKHQpfXZhciB2PXRoaXMsdz10LnR5cGUsbT13PT09cyx5LGg9ZnVuY3Rpb24oKXtsKHYsIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgd3JpdGVlbmQiLnNwbGl0KCIgIikpfSxTPWZ1bmN0aW9uKCl7aWYoKGZ8fG0mJmkpJiZlLkZpbGVSZWFkZXIpe3ZhciByPW5ldyBGaWxlUmVhZGVyO3Iub25sb2FkZW5kPWZ1bmN0aW9uKCl7dmFyIHQ9Zj9yLnJlc3VsdDpyLnJlc3VsdC5yZXBsYWNlKC9eZGF0YTpbXjtdKjsvLCJkYXRhOmF0dGFjaG1lbnQvZmlsZTsiKTt2YXIgbj1lLm9wZW4odCwiX2JsYW5rIik7aWYoIW4pZS5sb2NhdGlvbi5ocmVmPXQ7dD11bmRlZmluZWQ7di5yZWFkeVN0YXRlPXYuRE9ORTtoKCl9O3IucmVhZEFzRGF0YVVSTCh0KTt2LnJlYWR5U3RhdGU9di5JTklUO3JldHVybn1pZigheSl7eT1uKCkuY3JlYXRlT2JqZWN0VVJMKHQpfWlmKG0pe2UubG9jYXRpb24uaHJlZj15fWVsc2V7dmFyIG89ZS5vcGVuKHksIl9ibGFuayIpO2lmKCFvKXtlLmxvY2F0aW9uLmhyZWY9eX19di5yZWFkeVN0YXRlPXYuRE9ORTtoKCk7Yyh5KX07di5yZWFkeVN0YXRlPXYuSU5JVDtpZihvKXt5PW4oKS5jcmVhdGVPYmplY3RVUkwodCk7c2V0VGltZW91dChmdW5jdGlvbigpe3IuaHJlZj15O3IuZG93bmxvYWQ9dTthKHIpO2goKTtjKHkpO3YucmVhZHlTdGF0ZT12LkRPTkV9KTtyZXR1cm59UygpfSx3PXYucHJvdG90eXBlLG09ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuZXcgdihlLHR8fGUubmFtZXx8ImRvd25sb2FkIixuKX07aWYodHlwZW9mIG5hdmlnYXRvciE9PSJ1bmRlZmluZWQiJiZuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt0PXR8fGUubmFtZXx8ImRvd25sb2FkIjtpZighbil7ZT1wKGUpfXJldHVybiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihlLHQpfX13LmFib3J0PWZ1bmN0aW9uKCl7fTt3LnJlYWR5U3RhdGU9dy5JTklUPTA7dy5XUklUSU5HPTE7dy5ET05FPTI7dy5lcnJvcj13Lm9ud3JpdGVzdGFydD13Lm9ucHJvZ3Jlc3M9dy5vbndyaXRlPXcub25hYm9ydD13Lm9uZXJyb3I9dy5vbndyaXRlZW5kPW51bGw7cmV0dXJuIG19KHR5cGVvZiBzZWxmIT09InVuZGVmaW5lZCImJnNlbGZ8fHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIiYmd2luZG93fHx0aGlzLmNvbnRlbnQpO2lmKHR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIiYmbW9kdWxlLmV4cG9ydHMpe21vZHVsZS5leHBvcnRzLnNhdmVBcz1zYXZlQXN9ZWxzZSBpZih0eXBlb2YgZGVmaW5lIT09InVuZGVmaW5lZCImJmRlZmluZSE9PW51bGwmJmRlZmluZS5hbWQhPT1udWxsKXtkZWZpbmUoIkZpbGVTYXZlci5qcyIsZnVuY3Rpb24oKXtyZXR1cm4gc2F2ZUFzfSl9Cg=="}]},{"name":"ÂéªÁôæÂ∫¶ÊêúÁ¥¢ÁΩÆÈ°∂Êé®Âπø (ECMA6)","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["*www.baidu.com*","*zhidao.baidu.com/search*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1656858703188,"data":{}},"enabled":true,"position":3,"file_url":"https://greasyfork.org/scripts/10019-%E5%8E%BB%E7%99%BE%E5%BA%A6%E6%90%9C%E7%B4%A2%E7%BD%AE%E9%A1%B6%E6%8E%A8%E5%B9%BF-ecma6/code/%E5%8E%BB%E7%99%BE%E5%BA%A6%E6%90%9C%E7%B4%A2%E7%BD%AE%E9%A1%B6%E6%8E%A8%E5%B9%BF%20(ECMA6).user.js","uuid":"ce0c3226-14da-49c9-a088-11d1e409eca3","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgIOWOu+eZvuW6puaQnOe0oue9rumhtuaOqOW5vyAoRUNNQTYpCi8vIEBhdXRob3IgICAgICAgICAgICBheGV0cm95Ci8vIEBjb250cmlidXRvciAgICAgICBheGV0cm95Ci8vIEBkZXNjcmlwdGlvbiAgICAgICDljrvpmaTmj5LlhaXlnKjnmb7luqbmkJzntKLnu5PmnpzlpLTpg6jjgIHlsL7pg6jnmoTmjqjlub/pk77mjqXjgIIKLy8gQHZlcnNpb24gICAgICAgICAgIDIwMTYuNi40Ci8vIEBncmFudCAgICAgICAgICAgICBub25lCi8vIEBpbmNsdWRlICAgICAgICAgICAqd3d3LmJhaWR1LmNvbSoKLy8gQGluY2x1ZGUgICAgICAgICAgICp6aGlkYW8uYmFpZHUuY29tL3NlYXJjaCoKLy8gQGNvbm5lY3QgICAgICAgICAgICoKLy8gQHN1cHBvcnRVUkwgICAgICAgIGh0dHA6Ly93d3cuYnVybmluZ2FsbC5jb20KLy8gQGNvbXBhdGlibGUgICAgICAgIGNocm9tZSAg5a6M576O6L+Q6KGMCi8vIEBjb21wYXRpYmxlICAgICAgICBmaXJlZm94ICDlroznvo7ov5DooYwKLy8gQHJ1bi1hdCAgICAgICAgICAgIGRvY3VtZW50LXN0YXJ0Ci8vIEBjb250cmlidXRpb25VUkwgICB0cm95NDUwNDA5NDA1QGdtYWlsLmNvbXxhbGlwYXkuY29tCi8vIEBuYW1lc3BhY2UgICAgICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3VzZXJzLzM0MDAtYXhldHJveQovLyBAbGljZW5zZSAgICAgICAgICAgVGhlIE1JVCBMaWNlbnNlIChNSVQpOyBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUCi8vID09L1VzZXJTY3JpcHQ9PQoKLyoKCiBHaXRodWLmupDnoIE6aHR0cHM6Ly9naXRodWIuY29tL2F4ZXRyb3kvR01zY3JpcHQKCiAqLwovKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwCi8qKioqKiovIAkvLyBUaGUgbW9kdWxlIGNhY2hlCi8qKioqKiovIAl2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9OwoKLyoqKioqKi8gCS8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uCi8qKioqKiovIAlmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7CgovKioqKioqLyAJCS8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZQovKioqKioqLyAJCWlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKQovKioqKioqLyAJCQlyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0czsKCi8qKioqKiovIAkJLy8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSkKLyoqKioqKi8gCQl2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7Ci8qKioqKiovIAkJCWV4cG9ydHM6IHt9LAovKioqKioqLyAJCQlpZDogbW9kdWxlSWQsCi8qKioqKiovIAkJCWxvYWRlZDogZmFsc2UKLyoqKioqKi8gCQl9OwoKLyoqKioqKi8gCQkvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb24KLyoqKioqKi8gCQltb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTsKCi8qKioqKiovIAkJLy8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZAovKioqKioqLyAJCW1vZHVsZS5sb2FkZWQgPSB0cnVlOwoKLyoqKioqKi8gCQkvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZQovKioqKioqLyAJCXJldHVybiBtb2R1bGUuZXhwb3J0czsKLyoqKioqKi8gCX0KCgovKioqKioqLyAJLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXykKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7CgovKioqKioqLyAJLy8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGUKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7CgovKioqKioqLyAJLy8gX193ZWJwYWNrX3B1YmxpY19wYXRoX18KLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ucCA9ICIiOwoKLyoqKioqKi8gCS8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0cwovKioqKioqLyAJcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7Ci8qKioqKiovIH0pCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qKioqKiovIChbCi8qIDAgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJJ3VzZSBzdHJpY3QnOwoKCXZhciBfanFMaXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCgl2YXIgX2pxTGl0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qcUxpdGUpOwoKCXZhciBfJGludGVydmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7CgoJdmFyIF8kaW50ZXJ2YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfJGludGVydmFsKTsKCgl2YXIgX21haW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTsKCgl2YXIgX21haW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFpbik7CgoJZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCgl2YXIgbG9vcCA9ICgwLCBfJGludGVydmFsMi5kZWZhdWx0KShmdW5jdGlvbiAoKSB7CgkgIG5ldyBfbWFpbjIuZGVmYXVsdCgpLmZpbHRlcigpLnR1cm4oKTsKCX0sIDUwKTsKCgkvLyBpbml0CgkoMCwgX2pxTGl0ZTIuZGVmYXVsdCkoZnVuY3Rpb24gKCkgewoJICBuZXcgX21haW4yLmRlZmF1bHQoKS5maWx0ZXIoKS50dXJuKCk7CgkgIF8kaW50ZXJ2YWwyLmRlZmF1bHQuY2FuY2VsKGxvb3ApOwoJICAoMCwgX2pxTGl0ZTIuZGVmYXVsdCkoZG9jdW1lbnQpLm9ic2VydmUoZnVuY3Rpb24gKCkgewoJICAgIHJldHVybiBuZXcgX21haW4yLmRlZmF1bHQoKS5maWx0ZXIoKS50dXJuKCk7CgkgIH0pOwoJICBjb25zb2xlLmluZm8oJ+WOu+W5v+WRiuWQr+WKqC4uLicpOwoJfSk7CgovKioqLyB9LAovKiAxICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCSd1c2Ugc3RyaWN0JzsKCgkvLyBlczYgQXJyYXkuZnJvbQoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKCSAgdmFsdWU6IHRydWUKCX0pOwoKCXZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsKCgl2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCS8vIGVzNiBPYmplY3QuYXNzaWduCgoKCV9fd2VicGFja19yZXF1aXJlX18oMik7CgoJX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7CgoJZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgoJdmFyIG5vb3AgPSBmdW5jdGlvbiBub29wKHgpIHsKCSAgcmV0dXJuIHg7Cgl9OwoKCXZhciBqcUxpdGUgPSBmdW5jdGlvbiAoKSB7CgkgIGZ1bmN0aW9uIGpxTGl0ZSgpIHsKCSAgICB2YXIgX3RoaXMgPSB0aGlzOwoKCSAgICB2YXIgc2VsZWN0b3JzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMF07CgkgICAgdmFyIGNvbnRleHQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBkb2N1bWVudCA6IGFyZ3VtZW50c1sxXTsKCgkgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIGpxTGl0ZSk7CgoJICAgIHRoaXMuc2VsZWN0b3JzID0gc2VsZWN0b3JzOwoJICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7CgkgICAgdGhpcy5sZW5ndGggPSAwOwoKCSAgICBzd2l0Y2ggKHR5cGVvZiBzZWxlY3RvcnMgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHNlbGVjdG9ycykpIHsKCSAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6CgkgICAgICAgIGJyZWFrOwoJICAgICAgY2FzZSAnc3RyaW5nJzoKCSAgICAgICAgQXJyYXkuZnJvbShjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JzKSwgZnVuY3Rpb24gKGVsZSwgaSkgewoJICAgICAgICAgIF90aGlzW2ldID0gZWxlOwoJICAgICAgICAgIF90aGlzLmxlbmd0aCsrOwoJICAgICAgICB9LCB0aGlzKTsKCSAgICAgICAgYnJlYWs7CgkgICAgICBjYXNlICdvYmplY3QnOgoJICAgICAgICBpZiAoc2VsZWN0b3JzLmxlbmd0aCkgewoJICAgICAgICAgIEFycmF5LmZyb20oc2VsZWN0b3JzLCBmdW5jdGlvbiAoZWxlLCBpKSB7CgkgICAgICAgICAgICBfdGhpc1tpXSA9IGVsZTsKCSAgICAgICAgICAgIF90aGlzLmxlbmd0aCsrOwoJICAgICAgICAgIH0sIHRoaXMpOwoJICAgICAgICB9IGVsc2UgewoJICAgICAgICAgIHRoaXNbMF0gPSBzZWxlY3RvcnM7CgkgICAgICAgICAgdGhpcy5sZW5ndGggPSAxOwoJICAgICAgICB9CgkgICAgICAgIGJyZWFrOwoJICAgICAgY2FzZSAnZnVuY3Rpb24nOgoJICAgICAgICB0aGlzLnJlYWR5KHNlbGVjdG9ycyk7CgkgICAgICAgIGJyZWFrOwoJICAgICAgZGVmYXVsdDoKCgkgICAgfQoJICB9CgoJICBfY3JlYXRlQ2xhc3MoanFMaXRlLCBbewoJICAgIGtleTogJ2VxJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gZXEoKSB7CgkgICAgICB2YXIgbiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMF07CgoJICAgICAgcmV0dXJuIG5ldyBqcUxpdGUodGhpc1tuXSk7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAnZmluZCcsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmQoc2VsZWN0b3JzKSB7CgkgICAgICByZXR1cm4gbmV3IGpxTGl0ZShzZWxlY3RvcnMsIHRoaXNbMF0pOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ2VhY2gnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBlYWNoKCkgewoJICAgICAgdmFyIGZuID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gbm9vcCA6IGFyZ3VtZW50c1swXTsKCgkgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgZm4uY2FsbCh0aGlzLCB0aGlzW2ldLCBpKTsKCSAgICAgIH0KCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ2JpbmQnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBiaW5kKCkgewoJICAgICAgdmFyIHR5cGVzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMF07CgkgICAgICB2YXIgZm4gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBub29wIDogYXJndW1lbnRzWzFdOwoKCSAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIHR5cGVzLnRyaW0oKS5zcGxpdCgvXHN7MSx9LykuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkgewoJICAgICAgICAgIGVsZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmN0aW9uIChlKSB7CgkgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50OwoJICAgICAgICAgICAgaWYgKGZuLmNhbGwodGFyZ2V0LCBlKSA9PT0gZmFsc2UpIHsKCSAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IHRydWU7CgkgICAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTsKCSAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCAmJiBlLnByZXZlbnREZWZhdWx0KCk7CgkgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uICYmIGUuc3RvcFByb3BhZ2F0aW9uKCk7CgkgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICB9LCBmYWxzZSk7CgkgICAgICAgIH0pOwoJICAgICAgfSk7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAnY2xpY2snLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBjbGljaygpIHsKCSAgICAgIHZhciBmbiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IG5vb3AgOiBhcmd1bWVudHNbMF07CgoJICAgICAgdGhpcy5iaW5kKCdjbGljaycsIGZuKTsKCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ3JlYWR5JywKCSAgICB2YWx1ZTogZnVuY3Rpb24gcmVhZHkoKSB7CgkgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCgkgICAgICB2YXIgZm4gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBub29wIDogYXJndW1lbnRzWzBdOwoKCSAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKGUpIHsKCSAgICAgICAgZm4uY2FsbChfdGhpczIsIGUpOwoJICAgICAgfSwgZmFsc2UpOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ29ic2VydmUnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBvYnNlcnZlKCkgewoJICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgoJICAgICAgdmFyIGZuID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gbm9vcCA6IGFyZ3VtZW50c1swXTsKCSAgICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9IDogYXJndW1lbnRzWzFdOwoKCSAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIHZhciBNdXRhdGlvbk9ic2VydmVyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93Lk1vek11dGF0aW9uT2JzZXJ2ZXI7CgkgICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKCSAgICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHsKCSAgICAgICAgICAgIGZuLmNhbGwoX3RoaXMzLCBtdXRhdGlvbi50YXJnZXQsIG11dGF0aW9uLmFkZGVkTm9kZXMsIG11dGF0aW9uLnJlbW92ZWROb2Rlcyk7CgkgICAgICAgICAgfSk7CgkgICAgICAgIH0pOwoJICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGVsZSwgY29uZmlnKTsKCSAgICAgIH0pOwoJICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAnYXR0cicsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIChfYXR0cikgewoJICAgICAgZnVuY3Rpb24gYXR0cihfeCwgX3gyKSB7CgkgICAgICAgIHJldHVybiBfYXR0ci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwoJICAgICAgfQoKCSAgICAgIGF0dHIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBfYXR0ci50b1N0cmluZygpOwoJICAgICAgfTsKCgkgICAgICByZXR1cm4gYXR0cjsKCSAgICB9KGZ1bmN0aW9uIChhdHRyLCB2YWx1ZSkgewoJICAgICAgLy8gb25lIGFnbQoJICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHsKCSAgICAgICAgLy8gZ2V0IGF0dHIgdmFsdWUKCSAgICAgICAgaWYgKHR5cGVvZiBhdHRyID09PSAnc3RyaW5nJykgewoJICAgICAgICAgIHJldHVybiB0aGlzWzBdLmdldEF0dHJpYnV0ZShhdHRyKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBzZXQgYXR0ciB3aXRoIGEganNvbgoJICAgICAgICBlbHNlIGlmICgodHlwZW9mIGF0dHIgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGF0dHIpKSA9PT0gJ29iamVjdCcpIHsKCSAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgICAgICAgIGZvciAodmFyIGF0IGluIGF0dHIpIHsKCSAgICAgICAgICAgICAgICBpZiAoYXR0ci5oYXNPd25Qcm9wZXJ0eShhdCkpIHsKCSAgICAgICAgICAgICAgICAgIGVsZS5zZXRBdHRyaWJ1dGUoYXQsIHZhbHVlKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgICAgcmV0dXJuIHZhbHVlOwoJICAgICAgICAgIH0KCSAgICAgIH0KCSAgICAgIC8vIHNldAoJICAgICAgZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgewoJICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgICAgICBlbGUuc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTsKCSAgICAgICAgICB9KTsKCSAgICAgICAgICByZXR1cm4gdGhpczsKCSAgICAgICAgfSBlbHNlIHsKCSAgICAgICAgICByZXR1cm4gdGhpczsKCSAgICAgICAgfQoJICAgIH0pCgkgIH0sIHsKCSAgICBrZXk6ICdyZW1vdmVBdHRyJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQXR0cihhdHRyKSB7CgkgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkgewoJICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKGVsZSkgewoJICAgICAgICAgIGVsZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7CgkgICAgICAgIH0pOwoJICAgICAgfQoJICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAncmVtb3ZlJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKCkgewoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLnJlbW92ZSgpOwoJICAgICAgfSk7CgkgICAgICB0aGlzLmxlbmd0aCA9IDA7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgoJICAgIC8vIGdldCB0aGUgZWxlbWVudCBzdHlsZQoKCSAgfSwgewoJICAgIGtleTogJ3N0eWxlJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gc3R5bGUoYXR0cikgewoJICAgICAgcmV0dXJuIHRoaXNbMF0uY3VycmVudFN0eWxlID8gdGhpc1swXS5jdXJyZW50U3R5bGVbYXR0cl0gOiBnZXRDb21wdXRlZFN0eWxlKHRoaXNbMF0pW2F0dHJdOwoJICAgIH0KCgkgICAgLy8gKGF0dHIsdmFsdWUpIHx8ICdzdHJpbmcnIHx8IHt9CgoJICB9LCB7CgkgICAga2V5OiAnY3NzJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gY3NzKCkgewoJICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFnbSA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewoJICAgICAgICBhZ21bX2tleV0gPSBhcmd1bWVudHNbX2tleV07CgkgICAgICB9CgoJICAgICAgaWYgKGFnbS5sZW5ndGggPT09IDEpIHsKCSAgICAgICAgLy8gZ2V0IHN0eWxlCgkgICAgICAgIGlmICh0eXBlb2YgYWdtWzBdID09PSAnc3RyaW5nJykgewoJICAgICAgICAgIC8vIHNldCBzdHlsZSBhcyBhIGxvbmcgdGV4dAoJICAgICAgICAgIGlmICgvOi9pZy50ZXN0KGFnbVswXSkpIHsKCSAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgICAgICAgIGVsZS5zdHlsZS5jc3NUZXh0ID0gYXR0cjsKCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpc1swXS5jdXJyZW50U3R5bGUgPyB0aGlzWzBdLmN1cnJlbnRTdHlsZVthZ21bMF1dIDogZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzWzBdKVthZ21bMF1dOwoJICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBzZXQgc3R5bGUgYXMgYSBvYmplY3QKCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKGVsZSkgewoJICAgICAgICAgICAgICBmb3IgKHZhciBfYXR0cjIgaW4gYWdtWzBdKSB7CgkgICAgICAgICAgICAgICAgaWYgKGFnbVswXS5oYXNPd25Qcm9wZXJ0eShfYXR0cjIpKSB7CgkgICAgICAgICAgICAgICAgICBlbGUuc3R5bGVbX2F0dHIyXSA9IGFnbVswXVtfYXR0cjJdOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSk7CgkgICAgICAgICAgfQoJICAgICAgfQoJICAgICAgLy8gc2V0IGFzIChrZXksdmFsdWUpCgkgICAgICBlbHNlIGlmIChhZ20ubGVuZ3RoID09PSAyKSB7CgkgICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgICAgIGVsZS5zdHlsZVthZ21bMF1dID0gYWdtWzFdOwoJICAgICAgICAgIH0pOwoJICAgICAgICB9CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICd3aWR0aCcsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIHdpZHRoKHZhbHVlKSB7CgkgICAgICB2YXIgZWxlbWVudCA9IHRoaXNbMF07CgkgICAgICAvLyB3aW5kb3cgb3IgZG9jdW1lbnQKCSAgICAgIGlmIChlbGVtZW50LndpbmRvdyA9PT0gZWxlbWVudCB8fCBlbGVtZW50LmJvZHkpIHsKCSAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGggPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGggPyBkb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoOwoJICAgICAgfQoJICAgICAgLy8gc2V0IHdpZHRoCgkgICAgICBlbHNlIGlmICh2YWx1ZSkgewoJICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgICAgICBlbGUuc3R5bGUud2lkdGggPSB2YWx1ZSArICdweCc7CgkgICAgICAgICAgfSk7CgkgICAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgICAgIH0KCSAgICAgICAgLy8gZ2V0IHdpZHRoCgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0V2lkdGggfHwgcGFyc2VGbG9hdCh0aGlzLnN0eWxlKCd3aWR0aCcpKTsKCSAgICAgICAgICB9CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAnaGVpZ2h0JywKCSAgICB2YWx1ZTogZnVuY3Rpb24gaGVpZ2h0KHZhbHVlKSB7CgkgICAgICB2YXIgZWxlID0gdGhpc1swXTsKCSAgICAgIC8vIHdpbmRvdyBvciBkb2N1bWVudAoJICAgICAgaWYgKGVsZS53aW5kb3cgPT09IGVsZSB8fCBlbGUuYm9keSkgewoJICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0ID8gZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0OwoJICAgICAgfQoJICAgICAgLy8gc2V0IGhlaWdodAoJICAgICAgZWxzZSBpZiAodmFsdWUpIHsKCSAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKGVsZSkgewoJICAgICAgICAgICAgZWxlLnN0eWxlLmhlaWdodCA9IHZhbHVlICsgJ3B4JzsKCSAgICAgICAgICB9KTsKCSAgICAgICAgICByZXR1cm4gdGhpczsKCSAgICAgICAgfQoJICAgICAgICAvLyBnZXQgaGVpZ2h0CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0SGVpZ2h0IHx8IHBhcnNlRmxvYXQodGhpcy5zdHlsZSgnaGVpZ2h0JykpOwoJICAgICAgICAgIH0KCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICdodG1sJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gaHRtbCh2YWx1ZSkgewoJICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHsKCSAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgICBlbGUuaW5uZXJIVE1MID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gdmFsdWUoZWxlKSA6IHZhbHVlOwoJICAgICAgICB9KTsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIHJldHVybiB0aGlzWzBdLmlubmVySFRNTDsKCSAgICAgIH0KCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ3RleHQnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiB0ZXh0KHZhbHVlKSB7CgkgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXNbMF0uaW5uZXJUZXh0IHx8IHRoaXNbMF0udGV4dENvbnRlbnQ7CgoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLmlubmVyVGV4dCA9IGVsZS50ZXh0Q29udGVudCA9IHZhbHVlOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICd2YWwnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiB2YWwodmFsdWUpIHsKCSAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpc1swXS52YWx1ZTsKCSAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIGVsZS52YWx1ZSA9IHZhbHVlOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICdzaG93JywKCSAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdygpIHsKCSAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIGVsZS5zdHlsZS5kaXNwbGF5ID0gJyc7CgkgICAgICB9KTsKCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ2hpZGUnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKCkgewoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CgkgICAgICB9KTsKCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCgkgICAgLy8gY29udGVudCBzdHIgfHwganFMaXRlIE9iamVjdCB8fCBET00KCSAgICAvLyBoZXJlIGlzIGpxTGl0ZSBPYmplY3QKCgkgIH0sIHsKCSAgICBrZXk6ICdhcHBlbmQnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmQoY29udGVudCkgewoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLmFwcGVuZENoaWxkKGNvbnRlbnRbMF0pOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICdwcmVwZW5kJywKCgoJICAgIC8vIGNvbnRlbnQgc3RyIHx8IGpxTGl0ZSBPYmplY3QgfHwgRE9NCgkgICAgLy8gaGVyZSBpcyBqcUxpdGUgT2JqZWN0CgkgICAgdmFsdWU6IGZ1bmN0aW9uIHByZXBlbmQoY29udGVudCkgewoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLmluc2VydEJlZm9yZShjb250ZW50WzBdLCBlbGUuY2hpbGRyZW5bMF0pOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICdoYXNDbGFzcycsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIGhhc0NsYXNzKGNsYXNzTmFtZSkgewoJICAgICAgaWYgKCF0aGlzWzBdKSByZXR1cm4gZmFsc2U7CgkgICAgICByZXR1cm4gdGhpc1swXS5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICdhZGRDbGFzcycsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENsYXNzKGNsYXNzTmFtZSkgewoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTsKCSAgICAgIH0pOwoJICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAncmVtb3ZlQ2xhc3MnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVDbGFzcyhjbGFzc05hbWUpIHsKCSAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIGVsZS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7CgkgICAgICB9KTsKCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ2luZGV4JywKCSAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKCSAgICAgIHZhciBpbmRleCA9IDA7CgkgICAgICB2YXIgYnJvdGhlcnMgPSB0aGlzWzBdLnBhcmVudE5vZGUuY2hpbGRyZW47CgkgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJyb3RoZXJzLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgIGlmIChicm90aGVyc1tpXSA9PSB0aGlzWzBdKSB7CgkgICAgICAgICAgaW5kZXggPSBpOwoJICAgICAgICAgIGJyZWFrOwoJICAgICAgICB9CgkgICAgICB9CgkgICAgICByZXR1cm4gaW5kZXg7CgkgICAgfQoJICB9XSwgW3sKCSAgICBrZXk6ICdmbicsCgkgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CgkgICAgICB2YXIgdmlzaWJsZSA9IGZ1bmN0aW9uIHZpc2libGUoZWxlKSB7CgkgICAgICAgIHZhciBwb3MgPSBlbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgkgICAgICAgIHZhciB3ID0gdm9pZCAwOwoJICAgICAgICB2YXIgaCA9IHZvaWQgMDsKCSAgICAgICAgdmFyIGluVmlld1BvcnQgPSB2b2lkIDA7CgkgICAgICAgIHZhciBkb2NFbGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CgkgICAgICAgIHZhciBkb2NCb2R5ID0gZG9jdW1lbnQuYm9keTsKCSAgICAgICAgaWYgKGRvY0VsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHsKCSAgICAgICAgICB3ID0gZG9jRWxlLmNsaWVudFdpZHRoIHx8IGRvY0JvZHkuY2xpZW50V2lkdGg7CgkgICAgICAgICAgaCA9IGRvY0VsZS5jbGllbnRIZWlnaHQgfHwgZG9jQm9keS5jbGllbnRIZWlnaHQ7CgkgICAgICAgICAgaW5WaWV3UG9ydCA9IHBvcy50b3AgPiBoIHx8IHBvcy5ib3R0b20gPCAwIHx8IHBvcy5sZWZ0ID4gdyB8fCBwb3MucmlnaHQgPCAwOwoJICAgICAgICAgIHJldHVybiBpblZpZXdQb3J0ID8gZmFsc2UgOiB0cnVlOwoJICAgICAgICB9CgkgICAgICB9OwoJICAgICAgdmFyIG1lcmdlID0gZnVuY3Rpb24gbWVyZ2UoKSB7CgkgICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgc291cmNlcyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7CgkgICAgICAgICAgc291cmNlc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdOwoJICAgICAgICB9CgoJICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbi5hcHBseShPYmplY3QsIFt7fV0uY29uY2F0KHNvdXJjZXMpKTsKCSAgICAgIH07CgkgICAgICByZXR1cm4gewoJICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLAoJICAgICAgICBtZXJnZTogbWVyZ2UKCSAgICAgIH07CgkgICAgfQoJICB9XSk7CgoJICByZXR1cm4ganFMaXRlOwoJfSgpOwoKCXZhciAkID0gZnVuY3Rpb24gJCgpIHsKCSAgdmFyIHNlbGVjdG9ycyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/ICcnIDogYXJndW1lbnRzWzBdOwoJICB2YXIgY29udGV4dCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGRvY3VtZW50IDogYXJndW1lbnRzWzFdOwoKCSAgcmV0dXJuIG5ldyBqcUxpdGUoc2VsZWN0b3JzLCBjb250ZXh0KTsKCX07CgkkLmZuID0ganFMaXRlLmZuOwoKCWV4cG9ydHMuZGVmYXVsdCA9ICQ7CgovKioqLyB9LAovKiAyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCSd1c2Ugc3RyaWN0JzsKCXZhciBjdHggICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMykKCSAgLCAkZXhwb3J0ICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNSkKCSAgLCB0b09iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpCgkgICwgY2FsbCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KQoJICAsIGlzQXJyYXlJdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCkKCSAgLCB0b0xlbmd0aCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpCgkgICwgZ2V0SXRlckZuICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTsKCSRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIV9fd2VicGFja19yZXF1aXJlX18oMjkpKGZ1bmN0aW9uKGl0ZXIpeyBBcnJheS5mcm9tKGl0ZXIpOyB9KSwgJ0FycmF5JywgewoJICAvLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpCgkgIGZyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlLyosIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKi8pewoJICAgIHZhciBPICAgICAgID0gdG9PYmplY3QoYXJyYXlMaWtlKQoJICAgICAgLCBDICAgICAgID0gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheQoJICAgICAgLCAkJCAgICAgID0gYXJndW1lbnRzCgkgICAgICAsICQkbGVuICAgPSAkJC5sZW5ndGgKCSAgICAgICwgbWFwZm4gICA9ICQkbGVuID4gMSA/ICQkWzFdIDogdW5kZWZpbmVkCgkgICAgICAsIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkCgkgICAgICAsIGluZGV4ICAgPSAwCgkgICAgICAsIGl0ZXJGbiAgPSBnZXRJdGVyRm4oTykKCSAgICAgICwgbGVuZ3RoLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yOwoJICAgIGlmKG1hcHBpbmcpbWFwZm4gPSBjdHgobWFwZm4sICQkbGVuID4gMiA/ICQkWzJdIDogdW5kZWZpbmVkLCAyKTsKCSAgICAvLyBpZiBvYmplY3QgaXNuJ3QgaXRlcmFibGUgb3IgaXQncyBhcnJheSB3aXRoIGRlZmF1bHQgaXRlcmF0b3IgLSB1c2Ugc2ltcGxlIGNhc2UKCSAgICBpZihpdGVyRm4gIT0gdW5kZWZpbmVkICYmICEoQyA9PSBBcnJheSAmJiBpc0FycmF5SXRlcihpdGVyRm4pKSl7CgkgICAgICBmb3IoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChPKSwgcmVzdWx0ID0gbmV3IEM7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaW5kZXgrKyl7CgkgICAgICAgIHJlc3VsdFtpbmRleF0gPSBtYXBwaW5nID8gY2FsbChpdGVyYXRvciwgbWFwZm4sIFtzdGVwLnZhbHVlLCBpbmRleF0sIHRydWUpIDogc3RlcC52YWx1ZTsKCSAgICAgIH0KCSAgICB9IGVsc2UgewoJICAgICAgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpOwoJICAgICAgZm9yKHJlc3VsdCA9IG5ldyBDKGxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXsKCSAgICAgICAgcmVzdWx0W2luZGV4XSA9IG1hcHBpbmcgPyBtYXBmbihPW2luZGV4XSwgaW5kZXgpIDogT1tpbmRleF07CgkgICAgICB9CgkgICAgfQoJICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDsKCSAgICByZXR1cm4gcmVzdWx0OwoJICB9Cgl9KTsKCgovKioqLyB9LAovKiAzICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCS8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZwoJdmFyIGFGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7Cgltb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpewoJICBhRnVuY3Rpb24oZm4pOwoJICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuOwoJICBzd2l0Y2gobGVuZ3RoKXsKCSAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXsKCSAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpOwoJICAgIH07CgkgICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7CgkgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTsKCSAgICB9OwoJICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpewoJICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7CgkgICAgfTsKCSAgfQoJICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7CgkgICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7CgkgIH07Cgl9OwoKLyoqKi8gfSwKLyogNCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCgltb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXsKCSAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTsKCSAgcmV0dXJuIGl0OwoJfTsKCi8qKiovIH0sCi8qIDUgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJdmFyIGdsb2JhbCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNikKCSAgLCBjb3JlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpCgkgICwgaGlkZSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KQoJICAsIHJlZGVmaW5lICA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpCgkgICwgY3R4ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKQoJICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnOwoKCXZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXsKCSAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkYKCSAgICAsIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0LkcKCSAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlMKCSAgICAsIElTX1BST1RPICA9IHR5cGUgJiAkZXhwb3J0LlAKCSAgICAsIElTX0JJTkQgICA9IHR5cGUgJiAkZXhwb3J0LkIKCSAgICAsIHRhcmdldCAgICA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSB8fCAoZ2xvYmFsW25hbWVdID0ge30pIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXQoJICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSkKCSAgICAsIGV4cFByb3RvICA9IGV4cG9ydHNbUFJPVE9UWVBFXSB8fCAoZXhwb3J0c1tQUk9UT1RZUEVdID0ge30pCgkgICAgLCBrZXksIG93biwgb3V0LCBleHA7CgkgIGlmKElTX0dMT0JBTClzb3VyY2UgPSBuYW1lOwoJICBmb3Ioa2V5IGluIHNvdXJjZSl7CgkgICAgLy8gY29udGFpbnMgaW4gbmF0aXZlCgkgICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYga2V5IGluIHRhcmdldDsKCSAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZAoJICAgIG91dCA9IChvd24gPyB0YXJnZXQgOiBzb3VyY2UpW2tleV07CgkgICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHQKCSAgICBleHAgPSBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDsKCSAgICAvLyBleHRlbmQgZ2xvYmFsCgkgICAgaWYodGFyZ2V0ICYmICFvd24pcmVkZWZpbmUodGFyZ2V0LCBrZXksIG91dCk7CgkgICAgLy8gZXhwb3J0CgkgICAgaWYoZXhwb3J0c1trZXldICE9IG91dCloaWRlKGV4cG9ydHMsIGtleSwgZXhwKTsKCSAgICBpZihJU19QUk9UTyAmJiBleHBQcm90b1trZXldICE9IG91dClleHBQcm90b1trZXldID0gb3V0OwoJICB9Cgl9OwoJZ2xvYmFsLmNvcmUgPSBjb3JlOwoJLy8gdHlwZSBiaXRtYXAKCSRleHBvcnQuRiA9IDE7ICAvLyBmb3JjZWQKCSRleHBvcnQuRyA9IDI7ICAvLyBnbG9iYWwKCSRleHBvcnQuUyA9IDQ7ICAvLyBzdGF0aWMKCSRleHBvcnQuUCA9IDg7ICAvLyBwcm90bwoJJGV4cG9ydC5CID0gMTY7IC8vIGJpbmQKCSRleHBvcnQuVyA9IDMyOyAvLyB3cmFwCgltb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7CgovKioqLyB9LAovKiA2ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCS8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4Cgl2YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGgKCSAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpOwoJaWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYKCi8qKiovIH0sCi8qIDcgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJdmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt2ZXJzaW9uOiAnMS4yLjYnfTsKCWlmKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZgoKLyoqKi8gfSwKLyogOCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgl2YXIgJCAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOSkKCSAgLCBjcmVhdGVEZXNjID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7Cgltb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpID8gZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXsKCSAgcmV0dXJuICQuc2V0RGVzYyhvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpOwoJfSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7CgkgIG9iamVjdFtrZXldID0gdmFsdWU7CgkgIHJldHVybiBvYmplY3Q7Cgl9OwoKLyoqKi8gfSwKLyogOSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCgl2YXIgJE9iamVjdCA9IE9iamVjdDsKCW1vZHVsZS5leHBvcnRzID0gewoJICBjcmVhdGU6ICAgICAkT2JqZWN0LmNyZWF0ZSwKCSAgZ2V0UHJvdG86ICAgJE9iamVjdC5nZXRQcm90b3R5cGVPZiwKCSAgaXNFbnVtOiAgICAge30ucHJvcGVydHlJc0VudW1lcmFibGUsCgkgIGdldERlc2M6ICAgICRPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLAoJICBzZXREZXNjOiAgICAkT2JqZWN0LmRlZmluZVByb3BlcnR5LAoJICBzZXREZXNjczogICAkT2JqZWN0LmRlZmluZVByb3BlcnRpZXMsCgkgIGdldEtleXM6ICAgICRPYmplY3Qua2V5cywKCSAgZ2V0TmFtZXM6ICAgJE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLAoJICBnZXRTeW1ib2xzOiAkT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scywKCSAgZWFjaDogICAgICAgW10uZm9yRWFjaAoJfTsKCi8qKiovIH0sCi8qIDEwICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYml0bWFwLCB2YWx1ZSl7CgkgIHJldHVybiB7CgkgICAgZW51bWVyYWJsZSAgOiAhKGJpdG1hcCAmIDEpLAoJICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSwKCSAgICB3cml0YWJsZSAgICA6ICEoYml0bWFwICYgNCksCgkgICAgdmFsdWUgICAgICAgOiB2YWx1ZQoJICB9OwoJfTsKCi8qKiovIH0sCi8qIDExICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCS8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHkKCW1vZHVsZS5leHBvcnRzID0gIV9fd2VicGFja19yZXF1aXJlX18oMTIpKGZ1bmN0aW9uKCl7CgkgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7Cgl9KTsKCi8qKiovIH0sCi8qIDEyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7CgkgIHRyeSB7CgkgICAgcmV0dXJuICEhZXhlYygpOwoJICB9IGNhdGNoKGUpewoJICAgIHJldHVybiB0cnVlOwoJICB9Cgl9OwoKLyoqKi8gfSwKLyogMTMgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJLy8gYWRkIGZha2UgRnVuY3Rpb24jdG9TdHJpbmcKCS8vIGZvciBjb3JyZWN0IHdvcmsgd3JhcHBlZCBtZXRob2RzIC8gY29uc3RydWN0b3JzIHdpdGggbWV0aG9kcyBsaWtlIExvRGFzaCBpc05hdGl2ZQoJdmFyIGdsb2JhbCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNikKCSAgLCBoaWRlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpCgkgICwgU1JDICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCkoJ3NyYycpCgkgICwgVE9fU1RSSU5HID0gJ3RvU3RyaW5nJwoJICAsICR0b1N0cmluZyA9IEZ1bmN0aW9uW1RPX1NUUklOR10KCSAgLCBUUEwgICAgICAgPSAoJycgKyAkdG9TdHJpbmcpLnNwbGl0KFRPX1NUUklORyk7CgoJX193ZWJwYWNrX3JlcXVpcmVfXyg3KS5pbnNwZWN0U291cmNlID0gZnVuY3Rpb24oaXQpewoJICByZXR1cm4gJHRvU3RyaW5nLmNhbGwoaXQpOwoJfTsKCgkobW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihPLCBrZXksIHZhbCwgc2FmZSl7CgkgIGlmKHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJyl7CgkgICAgdmFsLmhhc093blByb3BlcnR5KFNSQykgfHwgaGlkZSh2YWwsIFNSQywgT1trZXldID8gJycgKyBPW2tleV0gOiBUUEwuam9pbihTdHJpbmcoa2V5KSkpOwoJICAgIHZhbC5oYXNPd25Qcm9wZXJ0eSgnbmFtZScpIHx8IGhpZGUodmFsLCAnbmFtZScsIGtleSk7CgkgIH0KCSAgaWYoTyA9PT0gZ2xvYmFsKXsKCSAgICBPW2tleV0gPSB2YWw7CgkgIH0gZWxzZSB7CgkgICAgaWYoIXNhZmUpZGVsZXRlIE9ba2V5XTsKCSAgICBoaWRlKE8sIGtleSwgdmFsKTsKCSAgfQoJfSkoRnVuY3Rpb24ucHJvdG90eXBlLCBUT19TVFJJTkcsIGZ1bmN0aW9uIHRvU3RyaW5nKCl7CgkgIHJldHVybiB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nICYmIHRoaXNbU1JDXSB8fCAkdG9TdHJpbmcuY2FsbCh0aGlzKTsKCX0pOwoKLyoqKi8gfSwKLyogMTQgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJdmFyIGlkID0gMAoJICAsIHB4ID0gTWF0aC5yYW5kb20oKTsKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXsKCSAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTsKCX07CgovKioqLyB9LAovKiAxNSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgkvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpCgl2YXIgZGVmaW5lZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpOwoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7CgkgIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpOwoJfTsKCi8qKiovIH0sCi8qIDE2ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCS8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpCgltb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXsKCSAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIgKyBpdCk7CgkgIHJldHVybiBpdDsKCX07CgovKioqLyB9LAovKiAxNyAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgkvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yCgl2YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTsKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcyl7CgkgIHRyeSB7CgkgICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTsKCSAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbikKCSAgfSBjYXRjaChlKXsKCSAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddOwoJICAgIGlmKHJldCAhPT0gdW5kZWZpbmVkKWFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7CgkgICAgdGhyb3cgZTsKCSAgfQoJfTsKCi8qKiovIH0sCi8qIDE4ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCXZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpOwoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7CgkgIGlmKCFpc09iamVjdChpdCkpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpOwoJICByZXR1cm4gaXQ7Cgl9OwoKLyoqKi8gfSwKLyogMTkgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7CgkgIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7Cgl9OwoKLyoqKi8gfSwKLyogMjAgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvcgoJdmFyIEl0ZXJhdG9ycyAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKQoJICAsIElURVJBVE9SICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSgnaXRlcmF0b3InKQoJICAsIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7CgoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7CgkgIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7Cgl9OwoKLyoqKi8gfSwKLyogMjEgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJbW9kdWxlLmV4cG9ydHMgPSB7fTsKCi8qKiovIH0sCi8qIDIyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCXZhciBzdG9yZSAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKSgnd2tzJykKCSAgLCB1aWQgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KQoJICAsIFN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNikuU3ltYm9sOwoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXsKCSAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9CgkgICAgU3ltYm9sICYmIFN5bWJvbFtuYW1lXSB8fCAoU3ltYm9sIHx8IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpOwoJfTsKCi8qKiovIH0sCi8qIDIzICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCXZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpCgkgICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXycKCSAgLCBzdG9yZSAgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7Cgltb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7CgkgIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pOwoJfTsKCi8qKiovIH0sCi8qIDI0ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCS8vIDcuMS4xNSBUb0xlbmd0aAoJdmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpCgkgICwgbWluICAgICAgID0gTWF0aC5taW47Cgltb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXsKCSAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTEKCX07CgovKioqLyB9LAovKiAyNSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCgkvLyA3LjEuNCBUb0ludGVnZXIKCXZhciBjZWlsICA9IE1hdGguY2VpbAoJICAsIGZsb29yID0gTWF0aC5mbG9vcjsKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpewoJICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTsKCX07CgovKioqLyB9LAovKiAyNiAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgl2YXIgY2xhc3NvZiAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNykKCSAgLCBJVEVSQVRPUiAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSgnaXRlcmF0b3InKQoJICAsIEl0ZXJhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpOwoJbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24oaXQpewoJICBpZihpdCAhPSB1bmRlZmluZWQpcmV0dXJuIGl0W0lURVJBVE9SXQoJICAgIHx8IGl0WydAQGl0ZXJhdG9yJ10KCSAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldOwoJfTsKCi8qKiovIH0sCi8qIDI3ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCS8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpCgl2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCkKCSAgLCBUQUcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSgndG9TdHJpbmdUYWcnKQoJICAvLyBFUzMgd3JvbmcgaGVyZQoJICAsIEFSRyA9IGNvZihmdW5jdGlvbigpeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnOwoKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpewoJICB2YXIgTywgVCwgQjsKCSAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnCgkgICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlCgkgICAgOiB0eXBlb2YgKFQgPSAoTyA9IE9iamVjdChpdCkpW1RBR10pID09ICdzdHJpbmcnID8gVAoJICAgIC8vIGJ1aWx0aW5UYWcgY2FzZQoJICAgIDogQVJHID8gY29mKE8pCgkgICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFjawoJICAgIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCOwoJfTsKCi8qKiovIH0sCi8qIDI4ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCXZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nOwoKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpewoJICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpOwoJfTsKCi8qKiovIH0sCi8qIDI5ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCXZhciBJVEVSQVRPUiAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSgnaXRlcmF0b3InKQoJICAsIFNBRkVfQ0xPU0lORyA9IGZhbHNlOwoKCXRyeSB7CgkgIHZhciByaXRlciA9IFs3XVtJVEVSQVRPUl0oKTsKCSAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24oKXsgU0FGRV9DTE9TSU5HID0gdHJ1ZTsgfTsKCSAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24oKXsgdGhyb3cgMjsgfSk7Cgl9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9CgoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjLCBza2lwQ2xvc2luZyl7CgkgIGlmKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTsKCSAgdmFyIHNhZmUgPSBmYWxzZTsKCSAgdHJ5IHsKCSAgICB2YXIgYXJyICA9IFs3XQoJICAgICAgLCBpdGVyID0gYXJyW0lURVJBVE9SXSgpOwoJICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCl7IHNhZmUgPSB0cnVlOyB9OwoJICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTsKCSAgICBleGVjKGFycik7CgkgIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH0KCSAgcmV0dXJuIHNhZmU7Cgl9OwoKLyoqKi8gfSwKLyogMzAgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJLy8gMTkuMS4zLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSkKCXZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTsKCgkkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiwgJ09iamVjdCcsIHthc3NpZ246IF9fd2VicGFja19yZXF1aXJlX18oMzEpfSk7CgovKioqLyB9LAovKiAzMSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgkvLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlLCAuLi4pCgl2YXIgJCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpCgkgICwgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KQoJICAsIElPYmplY3QgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7CgoJLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpCgltb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpKGZ1bmN0aW9uKCl7CgkgIHZhciBhID0gT2JqZWN0LmFzc2lnbgoJICAgICwgQSA9IHt9CgkgICAgLCBCID0ge30KCSAgICAsIFMgPSBTeW1ib2woKQoJICAgICwgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7CgkgIEFbU10gPSA3OwoJICBLLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uKGspeyBCW2tdID0gazsgfSk7CgkgIHJldHVybiBhKHt9LCBBKVtTXSAhPSA3IHx8IE9iamVjdC5rZXlzKGEoe30sIEIpKS5qb2luKCcnKSAhPSBLOwoJfSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCgkgIHZhciBUICAgICA9IHRvT2JqZWN0KHRhcmdldCkKCSAgICAsICQkICAgID0gYXJndW1lbnRzCgkgICAgLCAkJGxlbiA9ICQkLmxlbmd0aAoJICAgICwgaW5kZXggPSAxCgkgICAgLCBnZXRLZXlzICAgID0gJC5nZXRLZXlzCgkgICAgLCBnZXRTeW1ib2xzID0gJC5nZXRTeW1ib2xzCgkgICAgLCBpc0VudW0gICAgID0gJC5pc0VudW07CgkgIHdoaWxlKCQkbGVuID4gaW5kZXgpewoJICAgIHZhciBTICAgICAgPSBJT2JqZWN0KCQkW2luZGV4KytdKQoJICAgICAgLCBrZXlzICAgPSBnZXRTeW1ib2xzID8gZ2V0S2V5cyhTKS5jb25jYXQoZ2V0U3ltYm9scyhTKSkgOiBnZXRLZXlzKFMpCgkgICAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoCgkgICAgICAsIGogICAgICA9IDAKCSAgICAgICwga2V5OwoJICAgIHdoaWxlKGxlbmd0aCA+IGopaWYoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSlUW2tleV0gPSBTW2tleV07CgkgIH0KCSAgcmV0dXJuIFQ7Cgl9IDogT2JqZWN0LmFzc2lnbjsKCi8qKiovIH0sCi8qIDMyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCS8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzCgl2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7Cgltb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24oaXQpewoJICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7Cgl9OwoKLyoqKi8gfSwKLyogMzMgKi8sCi8qIDM0ICovLAovKiAzNSAqLywKLyogMzYgKi8sCi8qIDM3ICovLAovKiAzOCAqLywKLyogMzkgKi8sCi8qIDQwICovLAovKiA0MSAqLywKLyogNDIgKi8sCi8qIDQzICovLAovKiA0NCAqLywKLyogNDUgKi8sCi8qIDQ2ICovLAovKiA0NyAqLywKLyogNDggKi8sCi8qIDQ5ICovLAovKiA1MCAqLywKLyogNTEgKi8sCi8qIDUyICovLAovKiA1MyAqLywKLyogNTQgKi8sCi8qIDU1ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCSJ1c2Ugc3RyaWN0IjsKCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CgkgIHZhbHVlOiB0cnVlCgl9KTsKCXZhciAkaW50ZXJ2YWwgPSBmdW5jdGlvbiAkaW50ZXJ2YWwoZm4sIGRlbGF5KSB7CgkgIHZhciBpbnRlcnZhbCA9IGZ1bmN0aW9uIGludGVydmFsKCkgewoJICAgIGZuLmNhbGwodW5kZWZpbmVkKTsKCSAgICBpZCA9IHNldFRpbWVvdXQoaW50ZXJ2YWwsIGRlbGF5KTsKCSAgfTsKCgkgIHZhciBpZCA9IHNldFRpbWVvdXQoaW50ZXJ2YWwsIGRlbGF5KTsKCgkgIHJldHVybiBmdW5jdGlvbiAoKSB7CgkgICAgd2luZG93LmNsZWFyVGltZW91dChpZCk7CgkgIH07Cgl9OwoKCSRpbnRlcnZhbC5jYW5jZWwgPSBmdW5jdGlvbiAodGltZXJGdW5jKSB7CgkgIHRpbWVyRnVuYygpOwoJfTsKCglleHBvcnRzLmRlZmF1bHQgPSAkaW50ZXJ2YWw7CgovKioqLyB9LAovKiA1NiAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgkndXNlIHN0cmljdCc7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewoJICB2YWx1ZTogdHJ1ZQoJfSk7CgoJdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7CgoJdmFyIF9qcUxpdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwoKCXZhciBfanFMaXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2pxTGl0ZSk7CgoJdmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTsKCgl2YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpOwoKCWZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgoJZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgoJdmFyIE1haW4gPSBmdW5jdGlvbiAoKSB7CgkgIGZ1bmN0aW9uIE1haW4oKSB7CgkgICAgdmFyIHJ1bGVzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gX2NvbmZpZzIuZGVmYXVsdC5ydWxlcyA6IGFyZ3VtZW50c1swXTsKCgkgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1haW4pOwoKCSAgICB0aGlzLmFkcyA9ICgwLCBfanFMaXRlMi5kZWZhdWx0KShydWxlcyk7CgkgICAgdGhpcy5sZW5ndGggPSB0aGlzLmFkcy5sZW5ndGg7CgkgIH0KCgkgIF9jcmVhdGVDbGFzcyhNYWluLCBbewoJICAgIGtleTogJ2ZpbHRlcicsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlcigpIHsKCSAgICAgIHRoaXMuYWRzLmVhY2goZnVuY3Rpb24gKGVsZSwgaSkgewoJICAgICAgICBlbGUuc3R5bGUuY3NzVGV4dCA9ICdcbiAgICAgICAgICBkaXNwbGF5Om5vbmUgIWltcG9ydGFudDtcbiAgICAgICAgICB2aXNpYmlsaXR5OmhpZGRlbiAhaW1wb3J0YW50O1xuICAgICAgICAgIHdpZHRoOjAgIWltcG9ydGFudDtcbiAgICAgICAgICBoZWlnaHQ6MCAhaW1wb3J0YW50O1xuICAgICAgICAgIG92ZXJmbG93OmhpZGRlbiAhaW1wb3J0YW50O1xuICAgICAgICAgIC8vIGJhY2tncm91bmQtY29sb3I6cmVkICFpbXBvcnRhbnQ7XG4gICAgICAgICAgLy8gYm9yZGVyOjFweCBzb2xpZCByZWQ7XG4gICAgICAgICc7CgkgICAgICAgIGVsZS5zZXRBdHRyaWJ1dGUoJ2ZpbHRlcmVkJywgJycpOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICd0dXJuJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gdHVybigpIHsKCSAgICAgICgwLCBfanFMaXRlMi5kZWZhdWx0KSgnI2NvbnRlbnRfbGVmdCBpbnB1dFt0eXBlPWNoZWNrYm94XTpub3QoZmlsdGVyZWQpJykuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIGVsZS5jaGVja2VkID0gZmFsc2U7CgkgICAgICAgIGVsZS5zZXRBdHRyaWJ1dGUoJ2ZpbHRlcmVkJywgJycpOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH1dKTsKCgkgIHJldHVybiBNYWluOwoJfSgpOwoKCWV4cG9ydHMuZGVmYXVsdCA9IE1haW47CgovKioqLyB9LAovKiA1NyAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCgkndXNlIHN0cmljdCc7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewoJICB2YWx1ZTogdHJ1ZQoJfSk7Cgl2YXIgQ09ORklHID0gewoJICBydWxlczogJ1xuICAgICNjb250ZW50X2xlZnQ+ZGl2XG4gICAgOm5vdChbY2xhc3MqPXJlc3VsdF0pXG4gICAgOm5vdChbY2xhc3MqPWNvbnRhaW5lcl0pXG4gICAgOm5vdCgubGVmdEJsb2NrKVxuICAgIDpub3QoI3JzX3RvcF9uZXcpXG4gICAgOm5vdChbZmlsdGVyZWRdKVxuICAgICxcbiAgICAjY29udGVudF9sZWZ0PnRhYmxlXG4gICAgOm5vdCgucmVzdWx0KVxuICAgIDpub3QoW2ZpbHRlcmVkXSlcbiAgICAsXG4gICAgI2NvbnRlbnRfcmlnaHQ+dGFibGUgdGRcbiAgICBkaXYjZWNfaW1fY29udGFpbmVyXG4gICAgLFxuICAgIGRpdi5zLW5ld3MtbGlzdC13cmFwcGVyPmRpdlxuICAgIDpub3QoW2RhdGEtcmVsYXRld29yZHMqPSIxIl0pXG4gICAgLFxuICAgIGRpdi5saXN0LXdyYXBlciBkbFtkYXRhLW9hZF1cbiAgICA6bm90KFtkYXRhLWZiXSlcbiAgICA6bm90KFtmaWx0ZXJlZF0pXG4gICcudHJpbSgpLnJlcGxhY2UoL1xuL2ltZywgJycpLnJlcGxhY2UoL1xzezEsfShbXmEtekEtWl0pL2csICckMScpCgl9OwoKCWV4cG9ydHMuZGVmYXVsdCA9IENPTkZJRzsKCi8qKiovIH0KLyoqKioqKi8gXSk7"},{"name":"ÁΩëÊòì‰∫ëÈü≥‰πêÊòæÁ§∫ÂÆåÊï¥Ê≠åÂçï","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://music.163.com/*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1656858703189,"data":{}},"enabled":true,"position":4,"file_url":"https://greasyfork.org/scripts/406054-%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E6%98%BE%E7%A4%BA%E5%AE%8C%E6%95%B4%E6%AD%8C%E5%8D%95/code/%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E6%98%BE%E7%A4%BA%E5%AE%8C%E6%95%B4%E6%AD%8C%E5%8D%95.user.js","uuid":"c52f413b-d45e-4739-a46e-5cf400af9f2f","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnvZHmmJPkupHpn7PkuZDmmL7npLrlrozmlbTmrYzljZUKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2dpdGh1Yi5jb20vbm9uZGFuZWUKLy8gQHZlcnNpb24gICAgICAxLjQuMTMKLy8gQGRlc2NyaXB0aW9uICDop6PpmaTmrYzljZXmrYzmm7LlsZXnpLrmlbDph4/pmZDliLYgJiDmkq3mlL7liJfooaggMTAwMCDpppbkuIrpmZAKLy8gQGF1dGhvciAgICAgICBub25kYW5lZQovLyBAbWF0Y2ggICAgICAgICo6Ly9tdXNpYy4xNjMuY29tLyoKLy8gQGljb24gICAgICAgICBodHRwczovL3MxLm11c2ljLjEyNi5uZXQvc3R5bGUvZmF2aWNvbi5pY28KLy8gQGdyYW50ICAgICAgICBub25lCi8vIEBydW4tYXQgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gPT0vVXNlclNjcmlwdD09CgooKCkgPT4gewoJaWYgKHdpbmRvdy50b3AgPT09IHdpbmRvdy5zZWxmKSB7CgkJY29uc3Qgb2JzZXJ2ZSA9ICgpID0+IHsKCQkJdHJ5IHsKCQkJCWNvbnN0IGNhbGxiYWNrID0gKCkgPT4gZG9jdW1lbnQuY29udGVudEZyYW1lLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdzb25nY2hhbmdlJykpCgkJCQljb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKQoJCQkJb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubS1wbGF5YmFyIC53b3JkcycpLCB7IGNoaWxkTGlzdDogdHJ1ZSB9KQoJCQl9IGNhdGNoIChfKSB7fQoJCX0KCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9ic2VydmUsIGZhbHNlKQoJCXJldHVybgoJfQoKCWNvbnN0IGxvY2F0ZSA9IChvYmplY3QsIHBhdHRlcm4pID0+IHsKCQlmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHsKCQkJY29uc3QgdmFsdWUgPSBvYmplY3Rba2V5XQoJCQlpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgfHwgIXZhbHVlKSBjb250aW51ZQoJCQlzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkgewoJCQkJY2FzZSAnZnVuY3Rpb24nOiB7CgkJCQkJaWYgKFN0cmluZyh2YWx1ZSkubWF0Y2gocGF0dGVybikpIHJldHVybiBba2V5XQoJCQkJCWJyZWFrCgkJCQl9CgkJCQljYXNlICdvYmplY3QnOiB7CgkJCQkJY29uc3QgcGF0aCA9IGxvY2F0ZSh2YWx1ZSwgcGF0dGVybikKCQkJCQlpZiAocGF0aCkgcmV0dXJuIFtrZXldLmNvbmNhdChwYXRoKQoJCQkJCWJyZWFrCgkJCQl9CgkJCX0KCQl9Cgl9CgoJY29uc3QgZmluZE1ldGhvZCA9IChvYmplY3QsIHBhdHRlcm4pID0+IHsKCQljb25zdCBwYXRoID0gbG9jYXRlKG9iamVjdCwgcGF0dGVybikKCQlpZiAoIXBhdGgpIHRocm93IG5ldyBFcnJvcignTWV0aG9kTm90Rm91bmQnKQoJCWxldCBwb2luZXIgPSBvYmplY3QKCQljb25zdCBsYXN0ID0gcGF0aC5wb3AoKQoJCXBhdGguZm9yRWFjaChrZXkgPT4gcG9pbmVyID0gcG9pbmVyW2tleV0pCgkJY29uc3Qgb3JpZ2luID0gcG9pbmVyW2xhc3RdCgkJcmV0dXJuIHsKCQkJb3JpZ2luLAoJCQlvdmVycmlkZTogKHZhbHVlKSA9PiB7CgkJCQl2YWx1ZS50b1N0cmluZyA9ICgpID0+IG9yaWdpbi50b1N0cmluZygpCgkJCQlwb2luZXJbbGFzdF0gPSB2YWx1ZQoJCQl9CgkJfQoJfQoKCWNvbnN0IGNsb25lRXZlbnQgPSAoZXZlbnQpID0+IHsKCQljb25zdCBjb3B5ID0gbmV3IGV2ZW50LmNvbnN0cnVjdG9yKGV2ZW50LnR5cGUsIGV2ZW50KQoJCS8vIGNvcHkudGFyZ2V0ID0gZXZlbnQudGFyZ2V0IC8vIOaciemXrumimAoJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb3B5LCAndGFyZ2V0JywgeyB2YWx1ZTogZXZlbnQudGFyZ2V0IH0pCgkJcmV0dXJuIGNvcHkKCX0KCgljb25zdCBub3JtYWxpemUgPSBzb25nID0+IHsKCQlzb25nID0geyAuLi5zb25nLCAuLi5zb25nLnByaXZpbGVnZSB9CgkJcmV0dXJuIHsKCQkJLi4uc29uZywKCQkJYWxidW06IHNvbmcuYWwsCgkJCWFsaWFzOiBzb25nLmFsaWEgfHwgc29uZy5hbGEgfHwgW10sCgkJCWFydGlzdHM6IHNvbmcuYXIgfHwgW10sCgkJCWNvbW1lbnRUaHJlYWRJZDogYFJfU09fNF8ke3NvbmcuaWR9YCwKCQkJY29weXJpZ2h0SWQ6IHNvbmcuY3AsCgkJCWR1cmF0aW9uOiBzb25nLmR0LAoJCQltdmlkOiBzb25nLm12LAoJCQlwb3NpdGlvbjogc29uZy5ubywKCQkJcmluZ3RvbmU6IHNvbmcucnQsCgkJCXN0YXR1czogc29uZy5zdCwKCQkJcHN0YXR1czogc29uZy5wc3QsCgkJCXZlcnNpb246IHNvbmcudiwKCQkJc29uZ1R5cGU6IHNvbmcudCwKCQkJc2NvcmU6IHNvbmcucG9wLAoJCQl0cmFuc05hbWVzOiBzb25nLnRucyB8fCBbXSwKCQkJcHJpdmlsZWdlOiBzb25nLnByaXZpbGVnZSwKCQkJbHlyaWNzOiBzb25nLmx5cmljcwoJCX0KCX0KCgljb25zdCB6RmlsbCA9IChzdHJpbmcgPSAnJywgbGVuZ3RoID0gMikgPT4gewoJCXN0cmluZyA9IFN0cmluZyhzdHJpbmcpCgkJd2hpbGUgKHN0cmluZy5sZW5ndGggPCBsZW5ndGgpIHN0cmluZyA9ICcwJyArIHN0cmluZwoJCXJldHVybiBzdHJpbmcKCX0KCgljb25zdCBmb3JtYXREdXJhdGlvbiA9IGR1cmF0aW9uID0+IHsKCQljb25zdCBvbmVTZWNvbmQgPSAxZTMKCQljb25zdCBvbmVNaW51dGUgPSA2MCAqIG9uZVNlY29uZAoJCWNvbnN0IHJlc3VsdCA9IFtdCgoJCUFycmF5KG9uZU1pbnV0ZSwgb25lU2Vjb25kKQoJCQkucmVkdWNlKChyZW1haW4sIHVuaXQpID0+IHsKCQkJCWNvbnN0IHZhbHVlID0gTWF0aC5mbG9vcihyZW1haW4gLyB1bml0KQoJCQkJcmVzdWx0LnB1c2godmFsdWUpCgkJCQlyZXR1cm4gcmVtYWluIC0gdmFsdWUgKiB1bml0CgkJCX0sIGR1cmF0aW9uIHx8IDApCgoJCXJldHVybiByZXN1bHQKCQkJLm1hcCh2YWx1ZSA9PiB6RmlsbCh2YWx1ZSwgMikpCgkJCS5qb2luKCc6JykKCX0KCgljb25zdCBUWVBFID0gewoJCVNPTkc6ICcxOCcsCgkJUExBWUxJU1Q6ICcxMycsCgl9CgoJY29uc3QgQ0FDSEUgPSB3aW5kb3cuQ09NUExFVEVfUExBWUxJU1RfQ0FDSEUgPSB7CgkJW1RZUEUuU09OR106IHt9LAoJCVtUWVBFLlBMQVlMSVNUXToge30KCX0KCgljb25zdCBpbnRlcmNlcHRSZXF1ZXN0ID0gKCkgPT4gewoJCWlmICh3aW5kb3cuZ2V0UGxheWxpc3REZXRhaWwpIHJldHVybgoKCQljb25zdCByZXF1ZXN0ID0gZmluZE1ldGhvZCh3aW5kb3cubmVqLCAnXFwucmVwbGFjZVxcKCJhcGkiLCJ3ZWFwaScpCgoJCWNvbnN0IEZldGNoID0gKHVybCwgb3B0aW9ucykgPT4gKAoJCQluZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PgoJCQkJcmVxdWVzdC5vcmlnaW4odXJsLCB7CgkJCQkJLi4ub3B0aW9ucywKCQkJCQljb29raWU6IHRydWUsCgkJCQkJbWV0aG9kOiAnR0VUJywKCQkJCQlvbmVycm9yOiByZWplY3QsCgkJCQkJb25sb2FkOiByZXNvbHZlLAoJCQkJCXR5cGU6ICdqc29uJwoJCQkJfSkKCQkJKQoJCSkKCgkJd2luZG93LmdldFBsYXlsaXN0RGV0YWlsID0gYXN5bmMgKHVybCwgb3B0aW9ucykgPT4gewoJCQkvLyBjb25zdCBzZWFyY2ggPSBuZXcgVVJMU2VhcmNoUGFyYW1zKG9wdGlvbnMuZGF0YSkKCQkJLy8gc2VhcmNoLnNldCgnbicsIDApCgkJCS8vIG9wdGlvbnMuZGF0YSA9IHNlYXJjaC50b1N0cmluZygpCgoJCQljb25zdCBkYXRhID0gYXdhaXQgRmV0Y2godXJsLCBvcHRpb25zKQoJCQljb25zdCBzbGljZSA9IDEwMDAKCgkJCWNvbnN0IHRyYWNrSWRzID0gKGRhdGEucGxheWxpc3QgfHwge30pLnRyYWNrSWRzIHx8IFtdCgkJCWNvbnN0IHRyYWNrcyA9IChkYXRhLnBsYXlsaXN0IHx8IHt9KS50cmFja3MgfHwgW10KCgkJCWlmICghdHJhY2tJZHMubGVuZ3RoIHx8IHRyYWNrSWRzLmxlbmd0aCA9PT0gdHJhY2tzLmxlbmd0aCkgcmV0dXJuIGRhdGEKCgkJCWNvbnN0IG1pc3NpbmdUcmFja0lkcyA9IHRyYWNrSWRzLnNsaWNlKHRyYWNrcy5sZW5ndGgpCgkJCWNvbnN0IHJvdW5kID0gTWF0aC5jZWlsKG1pc3NpbmdUcmFja0lkcy5sZW5ndGggLyBzbGljZSkKCgkJCWNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb21pc2UuYWxsKAoJCQkJQXJyYXkocm91bmQpLmZpbGwoKS5tYXAoKF8sIGluZGV4KSA9PiB7CgkJCQkJY29uc3QgcGFydCA9IG1pc3NpbmdUcmFja0lkcy5zbGljZShpbmRleCAqIHNsaWNlKS5zbGljZSgwLCBzbGljZSkubWFwKCh7IGlkIH0pID0+ICh7IGlkIH0pKQoJCQkJCXJldHVybiBGZXRjaCgnL2FwaS92My9zb25nL2RldGFpbCcsIHsgZGF0YTogYGM9JHtKU09OLnN0cmluZ2lmeShwYXJ0KX1gIH0pCgkJCQl9KQoJCQkpCgoJCQljb25zdCBzb25nTWFwID0ge30KCQkJY29uc3QgcHJpdmlsZWdlTWFwID0ge30KCgkJCXJlc3VsdC5mb3JFYWNoKCh7IHNvbmdzLCBwcml2aWxlZ2VzIH0pID0+IHsKCQkJCXNvbmdzLmZvckVhY2goXyA9PiBzb25nTWFwW18uaWRdID0gXykKCQkJCXByaXZpbGVnZXMuZm9yRWFjaChfID0+IHByaXZpbGVnZU1hcFtfLmlkXSA9IF8pCgkJCX0pCgoJCQljb25zdCBtaXNzaW5nVHJhY2tzID0gbWlzc2luZ1RyYWNrSWRzCgkJCQkubWFwKCh7IGlkIH0pID0+ICh7IC4uLnNvbmdNYXBbaWRdLCBwcml2aWxlZ2U6IHByaXZpbGVnZU1hcFtpZF0gfSkpCgoJCQljb25zdCBtaXNzUHJpdmlsZWdlcyA9IG1pc3NpbmdUcmFja3MKCQkJCS5tYXAoKHsgaWQgfSkgPT4gcHJpdmlsZWdlTWFwW2lkXSkKCgkJCWRhdGEucGxheWxpc3QudHJhY2tzID0gdHJhY2tzLmNvbmNhdChtaXNzaW5nVHJhY2tzKQoJCQlkYXRhLnByaXZpbGVnZXMgPSAoZGF0YS5wcml2aWxlZ2VzIHx8IFtdKS5jb25jYXQobWlzc1ByaXZpbGVnZXMpCgoJCQlDQUNIRVtUWVBFLlBMQVlMSVNUXVtkYXRhLnBsYXlsaXN0LmlkXSA9IGRhdGEucGxheWxpc3QudHJhY2tzCgkJCQkubWFwKHNvbmcgPT4gQ0FDSEVbVFlQRS5TT05HXVtzb25nLmlkXSA9IG5vcm1hbGl6ZShzb25nKSkKCgkJCXJldHVybiBkYXRhCgkJfQoKCQljb25zdCBvdmVycmlkZVJlcXVlc3QgPSBhc3luYyAodXJsLCBvcHRpb25zKSA9PiB7CgkJCWlmICgvXC9wbGF5bGlzdFwvZGV0YWlsLy50ZXN0KHVybCkpIHsKCQkJCWNvbnN0IHsgb25sb2FkLCBvbmVycm9yIH0gPSBvcHRpb25zCgkJCQlyZXR1cm4gd2luZG93LmdldFBsYXlsaXN0RGV0YWlsKHVybCwgb3B0aW9ucykudGhlbihvbmxvYWQpLmNhdGNoKG9uZXJyb3IpCgkJCX0KCQkJcmV0dXJuIHJlcXVlc3Qub3JpZ2luKHVybCwgb3B0aW9ucykKCQl9CgoJCXJlcXVlc3Qub3ZlcnJpZGUob3ZlcnJpZGVSZXF1ZXN0KQoJfQoKCWNvbnN0IGhhbmRsZVNvbmdDaGFuZ2UgPSAoKSA9PiB7CgkJdHJ5IHsKCQkJY29uc3QgeyB0cmFjayB9ID0gd2luZG93LnRvcC5wbGF5ZXIuZ2V0UGxheWluZygpCgkJCWNvbnN0IHsgaWQsIHNvdXJjZSwgcHJvZ3JhbSB9ID0gdHJhY2sKCQkJaWYgKHByb2dyYW0pIHJldHVybgoKCQkJY29uc3QgYmFzZSA9ICdzcGFuLnBseScKCQkJY29uc3QgYXR0cnMgPSBgW2RhdGEtcmVzLWlkPSIke2lkfSJdW2RhdGEtcmVzLXR5cGU9IiR7VFlQRS5TT05HfSJdYAoKCQkJLy8gcGxheWVyLmFkZFRvKCkg55u45ZCMIGlkIOS4jeWQjCBzb3VyY2Ug5Lya6KKr6L+H5rukCgkJCS8vIGNvbnN0IHsgZmlkLCBmZGF0YSB9ID0gc291cmNlCgkJCS8vIGlmIChTdHJpbmcoZmlkKSAhPT0gVFlQRS5QTEFZTElTVCkgcmV0dXJuCgkJCS8vIGNvbnN0IGF0dHJzID0gYFtkYXRhLXJlcy1pZD0iJHtpZH0iXVtkYXRhLXJlcy1mcm9tPSIke2ZpZH0iXVtkYXRhLXJlcy1kYXRhPSIke2ZkYXRhfSJdYAoKCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChiYXNlKS5mb3JFYWNoKG5vZGUgPT4gewoJCQkJbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdwbHktei1zbHQnKQoJCQl9KQoKCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChiYXNlICsgYXR0cnMpLmZvckVhY2gobm9kZSA9PiB7CgkJCQlub2RlLmNsYXNzTGlzdC5hZGQoJ3BseS16LXNsdCcpCgkJCX0pCgkJfSBjYXRjaCAoXykge30KCX0KCgljb25zdCBlc2NhcGVIVE1MID0gc3RyaW5nID0+ICgKCQlzdHJpbmcucmVwbGFjZSgKCQkJL1smPD4nIl0vZywKCQkJd29yZCA9PgoJCQkoewoJCQkJJyYnOiAnJmFtcDsnLAoJCQkJJzwnOiAnJmx0OycsCgkJCQknPic6ICcmZ3Q7JywKCQkJCSInIjogJyYjMzk7JywKCQkJCSciJzogJyZxdW90OycsCgkJCX0pW3dvcmRdIHx8IHdvcmQKCQkpCgkpCgoJY29uc3QgYmluZEV2ZW50ID0gKCkgPT4gewoJCWNvbnN0IEFDVElPTlMgPSBuZXcgU2V0KFsncGxheScsICdhZGR0byddKQoKCQljb25zdCBvbkNsaWNrID0gKGV2ZW50KSA9PiB7CgkJCWNvbnN0IHsKCQkJCXJlc0FjdGlvbiwKCQkJCXJlc0lkLAoJCQkJcmVzVHlwZSwKCQkJCXJlc0RhdGEsCgkJCX0gPSBldmVudC50YXJnZXQuZGF0YXNldAoKCQkJY29uc3QgZGF0YSA9IChDQUNIRVtyZXNUeXBlXSB8fCB7fSlbcmVzSWRdCgkJCWlmICghZGF0YSkgcmV0dXJuCgoJCQlldmVudC5zdG9wUHJvcGFnYXRpb24oKQoKCQkJaWYgKCFBQ1RJT05TLmhhcyhyZXNBY3Rpb24pKSB7CgkJCQkvLyDmsqHmnIkgcHJpdmlsZWdlIOWGkuazoeWQjuS8muaKpemUmQoJCQkJZG9jdW1lbnQuYm9keS5kaXNwYXRjaEV2ZW50KGNsb25lRXZlbnQoZXZlbnQpKQoJCQkJcmV0dXJuCgkJCX0KCgkJCWNvbnN0IHBsYXlsaXN0SWQgPSBOdW1iZXIocmVzVHlwZSA9PT0gVFlQRS5QTEFZTElTVCA/IHJlc0lkIDogcmVzRGF0YSkKCgkJCWNvbnN0IGxpc3QgPSAoQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbZGF0YV0pCgkJCQkubWFwKHNvbmcgPT4gKHsKCQkJCQkuLi5zb25nLAoJCQkJCXNvdXJjZTogewoJCQkJCQlmZGF0YTogcGxheWxpc3RJZCwKCQkJCQkJZmlkOiBUWVBFLlBMQVlMSVNULAoJCQkJCQlsaW5rOiBgL3BsYXlsaXN0P2lkPSR7cGxheWxpc3RJZH0mX2hhc2g9c29uZ2xpc3QtJHtzb25nLmlkfWAsCgkJCQkJCXRpdGxlOiAn5q2M5Y2VJywKCQkJCQl9LAoJCQkJfSkpCgoJCQl3aW5kb3cudG9wLnBsYXllci5hZGRUbygKCQkJCWxpc3QsCgkJCQlyZXNBY3Rpb24gPT09ICdwbGF5JyAmJiByZXNUeXBlID09PSBUWVBFLlBMQVlMSVNULAoJCQkJcmVzQWN0aW9uID09PSAncGxheScKCQkJKQoJCX0KCgkJY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RhYmxlIHRib2R5JykKCQljb25zdCBwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnRlbnQtb3BlcmF0aW9uIC51LWJ0bmktYWRkcGx5JykKCQljb25zdCBhZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGVudC1vcGVyYXRpb24gLnUtYnRuaS1hZGQnKQoKCQlpZiAocGxheSkgcGxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spCgkJaWYgKGFkZCkgYWRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljaykKCQlpZiAoYm9keSkgYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spCgl9CgoJY29uc3QgY29tcGxldGVQbGF5bGlzdCA9IGFzeW5jIChpZCkgPT4gewoJCWNvbnN0IHJlbmRlciA9IChzb25nLCBpbmRleCwgcGxheWxpc3QpID0+IHsKCQkJY29uc3QgeyBhbGJ1bSwgYXJ0aXN0cywgc3RhdHVzLCBkdXJhdGlvbiB9ID0gc29uZwoJCQljb25zdCBkZWxldGFibGUgPSBwbGF5bGlzdC5jcmVhdG9yLnVzZXJJZCA9PT0gd2luZG93LkdVc2VyLnVzZXJJZAoJCQljb25zdCBkdXJhdGlvblRleHQgPSBmb3JtYXREdXJhdGlvbihkdXJhdGlvbikKCQkJY29uc3QgYXJ0aXN0VGV4dCA9IGFydGlzdHMubWFwKCh7IG5hbWUgfSkgPT4gZXNjYXBlSFRNTChuYW1lKSkuam9pbignLycpCgkJCWNvbnN0IGFubm90YXRpb24gPSBlc2NhcGVIVE1MKHNvbmcudHJhbnNOYW1lc1swXSB8fCBzb25nLmFsaWFzWzBdIHx8ICcnKQoJCQljb25zdCBhbGJ1bU5hbWUgPSBlc2NhcGVIVE1MKGFsYnVtLm5hbWUpCgkJCWNvbnN0IHNvbmdOYW1lID0gZXNjYXBlSFRNTChzb25nLm5hbWUpCgoJCQlyZXR1cm4gYAoJCQkJPHRyIGlkPSIke3NvbmcuaWR9JHtEYXRlLm5vdygpfSIgY2xhc3M9IiR7aW5kZXggJSAyID8gJycgOiAnZXZlbid9ICR7c3RhdHVzID8gJ2pzLWRpcycgOiAnJ30iPgoJCQkJCTx0ZCBjbGFzcz0ibGVmdCI+CgkJCQkJCTxkaXYgY2xhc3M9ImhkICI+PHNwYW4gZGF0YS1yZXMtaWQ9IiR7c29uZy5pZH0iIGRhdGEtcmVzLXR5cGU9IjE4IiBkYXRhLXJlcy1hY3Rpb249InBsYXkiIGRhdGEtcmVzLWZyb209IjEzIiBkYXRhLXJlcy1kYXRhPSIke3BsYXlsaXN0LmlkfSIgY2xhc3M9InBseSAiPiZuYnNwOzwvc3Bhbj48c3BhbiBjbGFzcz0ibnVtIj4ke2luZGV4ICsgMX08L3NwYW4+PC9kaXY+CgkJCQkJPC90ZD4KCQkJCQk8dGQ+CgkJCQkJCTxkaXYgY2xhc3M9ImYtY2IiPgoJCQkJCQkJPGRpdiBjbGFzcz0idHQiPgoJCQkJCQkJCTxkaXYgY2xhc3M9InR0YyI+CgkJCQkJCQkJCTxzcGFuIGNsYXNzPSJ0eHQiPgoJCQkJCQkJCQkJPGEgaHJlZj0iIy9zb25nP2lkPSR7c29uZy5pZH0iPjxiIHRpdGxlPSIke3NvbmdOYW1lfSR7YW5ub3RhdGlvbiA/IGAgLSAoJHthbm5vdGF0aW9ufSlgIDogJyd9Ij4ke3NvbmdOYW1lfTwvYj48L2E+CgkJCQkJCQkJCQkke2Fubm90YXRpb24gPyBgPHNwYW4gdGl0bGU9IiR7YW5ub3RhdGlvbn0iIGNsYXNzPSJzLWZjOCI+JHthbm5vdGF0aW9uID8gYCAtICgke2Fubm90YXRpb259KWAgOiAnJ308L3NwYW4+YCA6ICcnfQoJCQkJCQkJCQkJJHtzb25nLm12aWQgPyBgPGEgaHJlZj0iIy9tdj9pZD0ke3NvbmcubXZpZH0iIHRpdGxlPSLmkq3mlL5tdiIgY2xhc3M9Im12Ij5NVjwvYT5gIDogJyd9CgkJCQkJCQkJCTwvc3Bhbj4KCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCTwvZGl2PgoJCQkJCQk8L2Rpdj4KCQkJCQk8L3RkPgoJCQkJCTx0ZCBjbGFzcz0iIHMtZmMzIj4KCQkJCQkJPHNwYW4gY2xhc3M9InUtZHVyIGNhbmRlbCI+JHtkdXJhdGlvblRleHR9PC9zcGFuPgoJCQkJCQk8ZGl2IGNsYXNzPSJvcHQgaHNob3ciPgoJCQkJCQkJPGEgY2xhc3M9InUtaWNuIHUtaWNuLTgxIGljbi1hZGQiIGhyZWY9ImphdmFzY3JpcHQ6OyIgdGl0bGU9Iua3u+WKoOWIsOaSreaUvuWIl+ihqCIgaGlkZWZvY3VzPSJ0cnVlIiBkYXRhLXJlcy10eXBlPSIxOCIgZGF0YS1yZXMtaWQ9IiR7c29uZy5pZH0iIGRhdGEtcmVzLWFjdGlvbj0iYWRkdG8iIGRhdGEtcmVzLWZyb209IjEzIiBkYXRhLXJlcy1kYXRhPSIke3BsYXlsaXN0LmlkfSI+PC9hPgoJCQkJCQkJPHNwYW4gZGF0YS1yZXMtaWQ9IiR7c29uZy5pZH0iIGRhdGEtcmVzLXR5cGU9IjE4IiBkYXRhLXJlcy1hY3Rpb249ImZhdiIgY2xhc3M9ImljbiBpY24tZmF2IiB0aXRsZT0i5pS26JePIj48L3NwYW4+CgkJCQkJCQk8c3BhbiBkYXRhLXJlcy1pZD0iJHtzb25nLmlkfSIgZGF0YS1yZXMtdHlwZT0iMTgiIGRhdGEtcmVzLWFjdGlvbj0ic2hhcmUiIGRhdGEtcmVzLW5hbWU9IiR7YWxidW1OYW1lfSIgZGF0YS1yZXMtYXV0aG9yPSIke2FydGlzdFRleHR9IiBkYXRhLXJlcy1waWM9IiR7YWxidW0ucGljVXJsfSIgY2xhc3M9ImljbiBpY24tc2hhcmUiIHRpdGxlPSLliIbkuqsiPuWIhuS6qzwvc3Bhbj4KCQkJCQkJCTxzcGFuIGRhdGEtcmVzLWlkPSIke3NvbmcuaWR9IiBkYXRhLXJlcy10eXBlPSIxOCIgZGF0YS1yZXMtYWN0aW9uPSJkb3dubG9hZCIgY2xhc3M9ImljbiBpY24tZGwiIHRpdGxlPSLkuIvovb0iPjwvc3Bhbj4KCQkJCQkJCSR7ZGVsZXRhYmxlID8gYDxzcGFuIGRhdGEtcmVzLWlkPSIke3NvbmcuaWR9IiBkYXRhLXJlcy10eXBlPSIxOCIgZGF0YS1yZXMtZnJvbT0iMTMiIGRhdGEtcmVzLWRhdGE9IiR7cGxheWxpc3QuaWR9IiBkYXRhLXJlcy1hY3Rpb249ImRlbGV0ZSIgY2xhc3M9ImljbiBpY24tZGVsIiB0aXRsZT0i5Yig6ZmkIj7liKDpmaQ8L3NwYW4+YCA6ICcnfQoJCQkJCQk8L2Rpdj4KCQkJCQk8L3RkPgoJCQkJCTx0ZD4KCQkJCQkJPGRpdiBjbGFzcz0idGV4dCIgdGl0bGU9IiR7YXJ0aXN0VGV4dH0iPgoJCQkJCQkJPHNwYW4gdGl0bGU9IiR7YXJ0aXN0VGV4dH0iPgoJCQkJCQkJCSR7YXJ0aXN0cy5tYXAoKHsgaWQsIG5hbWUgfSkgPT4gYDxhIGhyZWY9IiMvYXJ0aXN0P2lkPSR7aWR9IiBoaWRlZm9jdXM9InRydWUiPiR7ZXNjYXBlSFRNTChuYW1lKX08L2E+YCkuam9pbignLycpfQoJCQkJCQkJPC9zcGFuPgoJCQkJCQk8L2Rpdj4KCQkJCQk8L3RkPgoJCQkJCTx0ZD4KCQkJCQkJPGRpdiBjbGFzcz0idGV4dCI+CgkJCQkJCQk8YSBocmVmPSIjL2FsYnVtP2lkPSR7YWxidW0uaWR9IiB0aXRsZT0iJHthbGJ1bU5hbWV9Ij4ke2FsYnVtTmFtZX08L2E+CgkJCQkJCTwvZGl2PgoJCQkJCTwvdGQ+CgkJCQk8L3RyPgoJCQlgCgkJfQoKCQljb25zdCBzZWVNb3JlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm0tcGxheWxpc3Qtc2VlLW1vcmUnKQoJCWlmIChzZWVNb3JlKSBzZWVNb3JlLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJ0ZXh0Ij7mm7TlpJrlhoXlrrnliqDovb3kuK0uLi48L2Rpdj4nCgoJCWNvbnN0IGRhdGEgPSBhd2FpdCB3aW5kb3cuZ2V0UGxheWxpc3REZXRhaWwoCgkJCScvYXBpL3Y2L3BsYXlsaXN0L2RldGFpbC8nLAoJCQl7IGRhdGE6IGBpZD0ke2lkfSZvZmZzZXQ9MCZ0b3RhbD10cnVlJmxpbWl0PTEwMDAmbj0xMDAwYCB9CgkJKQoJCWNvbnN0IHsgcGxheWxpc3QgfSA9IGRhdGEKCQljb25zdCBjb250ZW50ID0gcGxheWxpc3QudHJhY2tzCgkJCS5tYXAoKHNvbmcsIGluZGV4KSA9PiByZW5kZXIobm9ybWFsaXplKHNvbmcpLCBpbmRleCwgcGxheWxpc3QpKQoJCQkuam9pbignJykKCgkJY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RhYmxlIHRib2R5JykKCQlpZiAoYm9keSkgYm9keS5pbm5lckhUTUwgPSBjb250ZW50CgkJYmluZEV2ZW50KCkKCQloYW5kbGVTb25nQ2hhbmdlKCkKCgkJaWYgKHNlZU1vcmUpIHNlZU1vcmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzZWVNb3JlKQoJfQoKCWNvbnN0IGhhbmRsZVJvdXRlID0gKCkgPT4gewoJCWludGVyY2VwdFJlcXVlc3QoKQoJCWNvbnN0IHsgaHJlZiwgc2VhcmNoIH0gPSBsb2NhdGlvbgoJCWlmICgvXC9teVwvLy50ZXN0KGhyZWYpKSByZXR1cm4KCgkJY29uc3QgaWQgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHNlYXJjaCkuZ2V0KCdpZCcpCgkJaWYgKC9wbGF5bGlzdFsvP10vLnRlc3QoaHJlZikgJiYgaWQpIGNvbXBsZXRlUGxheWxpc3QoaWQpCgl9CgoJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3NvbmdjaGFuZ2UnLCBoYW5kbGVTb25nQ2hhbmdlKQoJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBoYW5kbGVSb3V0ZSwgZmFsc2UpCgl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIGhhbmRsZVJvdXRlLCBmYWxzZSkKfSkoKQ=="},{"name":"Ëß£ÈîÅBÁ´ôÂ§ß‰ºöÂëòÁï™Ââß„ÄÅBÁ´ôËßÜÈ¢ëËß£Êûê‰∏ãËΩΩÔºõÂÖ®ÁΩëVIPËßÜÈ¢ëÂÖçË¥πÁ†¥Ëß£ÂéªÂπøÂëäÔºõÂÖ®ÁΩëÈü≥‰πêÁõ¥Êé•‰∏ãËΩΩÔºõÊ≤πÁÆ°„ÄÅFacebookÁ≠âÂõΩÂ§ñËßÜÈ¢ëËß£Êûê‰∏ãËΩΩÔºõÁΩëÁõòÊêúÁ¥¢ÂºïÊìéÁ†¥Ëß£Êó†Èôê‰∏ãËΩΩÁ≠â","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["tt.shuqiandiqiu.com","api.bilibili.com","api.staticj.top","cdn.jsdelivr.net"],"orig_excludes":[],"orig_includes":["*://*.youku.com/v_*","*://*.iqiyi.com/v_*","*://*.iqiyi.com/w_*","*://*.iqiyi.com/a_*","*://*.le.com/ptv/vplay/*","*://v.qq.com/x/cover/*","*://v.qq.com/x/page/*","*://v.qq.com/tv/*","*://*.tudou.com/listplay/*","*://*.tudou.com/albumplay/*","*://*.tudou.com/programs/view/*","*://*.mgtv.com/b/*","*://film.sohu.com/album/*","*://tv.sohu.com/v/*","*://*.baofeng.com/play/*","*://vip.pptv.com/show/*","*://v.pptv.com/show/*","*://www.le.com/ptv/vplay/*","*://www.wasu.cn/Play/show/*","*://*.1905.com/video/*","*://*.1905.com/play/*","*://*.1905.com/*/play/*","*://www.miguvideo.com/mgs/*","*://m.v.qq.com/x/cover/*","*://m.v.qq.com/x/page/*","*://m.v.qq.com/*","*://m.iqiyi.com/v_*","*://m.iqiyi.com/w_*","*://m.iqiyi.com/a_*","*://m.youku.com/alipay_video/*","*://https://m.youku.com/video/id_*","*://m.mgtv.com/b/*","*://m.tv.sohu.com/v/*","*://m.film.sohu.com/album/*","*://m.le.com/ptv/vplay/*","*://m.pptv.com/show/*","*://m.acfun.cn/v/*","*://m.bilibili.com/video/*","*://m.bilibili.com/anime/*","*://m.bilibili.com/bangumi/play/*","*://m.wasu.cn/Play/show/*","*://www.youtube.com","*://www.youtube.com/","*://www.youtube.com/watch*","*://www.facebook.com/*","*://yt1s.com/facebook-downloader","*music.163.com*","*://y.qq.com*","*://www.kugou.com*","*://www.kuwo.cn*","*://www.lizhi.fm*","*://*.ximalaya.com*","*://music.migu.cn*","*://*.taobao.com/*","*://*detail.tmall.com/*","*://*detail.tmall.hk/*","*://*item.jd.com/*","*://item.yiyaojd.com/*","*://npcitem.jd.hk/*","*://www.laisoyixia.com/download/detail**","*://www.xiaozhukuaipan.com/download/**","*://www.baidu.com/*","*://www.so.com/s*","*://www.sogou.com/web*","*://cn.bing.com/search*","*://www.bing.com/search*","*://so.toutiao.com/search*","*://www.google.com/search*","*://www.bilibili.com/**","*://search.bilibili.com/**","*://space.bilibili.com/**","*://*.zhihu.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1658563848204,"data":{"copyright_video_remind":"strue","navigation_data_cache":"o[{\"name\": \"ËµÑÊ∫êÊêúÁ¥¢\",\"list\": [{\"name\": \"‰π¶Á≠æÊêúÁ¥¢\",\"url\": \"https://www.bookmarkearth.com/s/search?q=@@&currentPage=1\"},{\"name\": \"ÁΩëÁõòÊêúÁ¥¢\",\"url\": \"https://www.xiaozhukuaipan.com/s/search?q=@@&currentPage=1\"},{\"name\": \"Ë¥¢ÁªèÊêúÁ¥¢\",\"url\": \"https://www.shaduizi.com/s/search?q=@@&currentPage=1\"},{\"name\": \"ÁôæÂ∫¶ÁôæÁßë\",\"url\": \"https://baike.baidu.com/item/@@\"},{\"name\": \"Áü•‰πéÊêúÁ¥¢\",\"url\": \"https://www.zhihu.com/search?type=content&q=@@\"},{\"name\": \"BÁ´ôÊêúÁ¥¢\",\"url\": \"https://search.bilibili.com/all?keyword=@@&from_source=webtop_search&spm_id_from=333.851\"},{\"name\": \"ÊäñÈü≥ÊêúÁ¥¢\",\"url\": \"https://www.douyin.com/search/@@?aid=0a9fc74b-01e8-4fb0-9509-307c5c07fda1&publish_time=0&sort_type=0&source=normal_search&type=general\"},{\"name\": \"ÊêúÁãó|ÂÖ¨‰ºóÂè∑\",\"url\": \"https://weixin.sogou.com/weixin?type=2&query=@@\"},{\"name\": \"ÊêúÁãó|Áü•‰πé\",\"url\": \"https://www.sogou.com/sogou?pid=sogou-wsse-ff111e4a5406ed40&insite=zhihu.com&ie=utf8&p=73351201&query=@@&ie=utf8&p=73351201&query=@@\"},{\"name\": \"Ë±ÜÁì£ÊêúÁ¥¢\",\"url\": \"https://www.douban.com/search?q=@@\"},{\"name\": \"ÁîµÂΩ±ÊêúÁ¥¢\",\"url\": \"https://www.cupfox.com/search?key=@@\"},{\"name\": \"Áª¥Âü∫ÁôæÁßë\",\"url\": \"https://en.wikipedia.org/w/index.php?search=@@\"},{\"name\": \"Ê≥ïÂæãÊ≥ïËßÑ\",\"url\": \"https://www.pkulaw.com/law/chl?Keywords=@@\"},{\"name\": \"PPTÊêúÁ¥¢\",\"url\": \"https://www.chuliansheji.com/s/search?q=@@&currentPage=1&c=1\"},{\"name\": \"iconÊêúÁ¥¢\",\"url\": \"https://www.iconfont.cn/search/index?searchType=icon&q=@@\"},{\"name\": \"github\",\"url\": \"https://github.com/search?q=@@\"},{\"name\": \"csdn\",\"url\": \"https://so.csdn.net/so/search?q=@@&t=&u=\"},{\"name\": \"ÊâãÊú∫Áî®Ê≤πÁå¥\",\"url\": \"https://blog.csdn.net/haoning7788/article/details/125344294\"}]},{\"name\": \"ÊêúÁ¥¢ÂºïÊìé\",\"list\": [{\"name\": \"ÁôæÂ∫¶\",\"url\": \"https://www.baidu.com/s?wd=@@\"},{\"name\": \"ÂøÖÂ∫î\",\"url\": \"https://cn.bing.com/search?q=@@\"},{\"name\": \"Google\",\"url\": \"https://www.google.com/search?q=@@\"},{\"name\": \"360ÊêúÁ¥¢\",\"url\": \"https://www.so.com/s?ie=utf-8&fr=none&src=360sou_newhome&nlpv=basest&q=@@\"},{\"name\": \"ÊêúÁãó\",\"url\": \"https://www.sogou.com/web?query=@@\"},{\"name\": \"Â§¥Êù°ÊêúÁ¥¢\",\"url\": \"https://so.toutiao.com/search?dvpf=pc&source=input&keyword=@@\"}]}]"}},"enabled":true,"position":5,"file_url":"https://greasyfork.org/scripts/418804-%E8%A7%A3%E9%94%81b%E7%AB%99%E5%A4%A7%E4%BC%9A%E5%91%98%E7%95%AA%E5%89%A7-b%E7%AB%99%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90%E4%B8%8B%E8%BD%BD-%E5%85%A8%E7%BD%91vip%E8%A7%86%E9%A2%91%E5%85%8D%E8%B4%B9%E7%A0%B4%E8%A7%A3%E5%8E%BB%E5%B9%BF%E5%91%8A-%E5%85%A8%E7%BD%91%E9%9F%B3%E4%B9%90%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD-%E6%B2%B9%E7%AE%A1-facebook%E7%AD%89%E5%9B%BD%E5%A4%96%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90%E4%B8%8B%E8%BD%BD-%E7%BD%91%E7%9B%98%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E7%A0%B4%E8%A7%A3%E6%97%A0%E9%99%90%E4%B8%8B%E8%BD%BD%E7%AD%89/code/%E8%A7%A3%E9%94%81B%E7%AB%99%E5%A4%A7%E4%BC%9A%E5%91%98%E7%95%AA%E5%89%A7%E3%80%81B%E7%AB%99%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90%E4%B8%8B%E8%BD%BD%EF%BC%9B%E5%85%A8%E7%BD%91VIP%E8%A7%86%E9%A2%91%E5%85%8D%E8%B4%B9%E7%A0%B4%E8%A7%A3%E5%8E%BB%E5%B9%BF%E5%91%8A%EF%BC%9B%E5%85%A8%E7%BD%91%E9%9F%B3%E4%B9%90%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD%EF%BC%9B%E6%B2%B9%E7%AE%A1%E3%80%81Facebook%E7%AD%89%E5%9B%BD%E5%A4%96%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90%E4%B8%8B%E8%BD%BD%EF%BC%9B%E7%BD%91%E7%9B%98%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E7%A0%B4%E8%A7%A3%E6%97%A0%E9%99%90%E4%B8%8B%E8%BD%BD%E7%AD%89.user.js","uuid":"3dc897fb-1904-4bc1-a67d-4fba723996cc","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgIOino+mUgULnq5nlpKfkvJrlkZjnlarliafjgIFC56uZ6KeG6aKR6Kej5p6Q5LiL6L2977yb5YWo572RVklQ6KeG6aKR5YWN6LS556C06Kej5Y675bm/5ZGK77yb5YWo572R6Z+z5LmQ55u05o6l5LiL6L2977yb5rK5566h44CBRmFjZWJvb2vnrYnlm73lpJbop4bpopHop6PmnpDkuIvovb3vvJvnvZHnm5jmkJzntKLlvJXmk47noLTop6Pml6DpmZDkuIvovb3nrYkKLy8gQG5hbWVzcGFjZSAgICAgICAgIHN1cGVyX3ZpZGVvX2hlbHBlcl9jYXQKLy8gQHZlcnNpb24gICAgICAgICAgIDQuMC41Ci8vIEBkZXNjcmlwdGlvbiAgICAgICDjgJDinaTvuI8g6KeG6aKR6Kej5p6Q77yM5L2T5Lya5oul5pyJVklQ55qE5oSf6KeJ4p2k77iP77yM6YCC6YWNUEMr56e75YqoIOOAkeWKn+iDveaciSjlj6/pgInmi6nmgKfmiZPlvIAp77yaMeOAgULnq5nkvb/nlKjliqnmiYvvvJrop6PplIFC56uZ5aSn5Lya5ZGY55Wq5Ymn44CB6KeG6aKR6Kej5p6Q5LiL6L29KOWPr+WkmlDkuIvovb0p44CB5rWP6KeI6K6w5b2V562J77ybMuOAgeefpeS5juS9v+eUqOWKqeaJi++8muWGheWuueenjeexu+agh+ivhuOAgemXruetlOaYvuekuuS8mOWMluOAgeinhumikeS4i+i9veetie+8mzPjgIHlhajnvZFWSVDop4bpopHop6PmnpDvvJrniLHlpYfoibrjgIHohb7orq/jgIHkvJjphbfjgIHoipLmnpznrYnop4bpopHlhY3otLnnoLTop6Mo5pSv5oyB6Ieq5a6a5LmJ6Kej5p6Q5o6l5Y+jKe+8mzTjgIHlhajnvZFWSVDpn7PkuZDop6PmnpDvvJrnvZHmmJPkupHpn7PkuZDjgIFRUemfs+S5kOOAgemFt+eLl+OAgeiNlOaenUZN44CB5Zac6ams5ouJ6ZuF562J5YWN5a6i5oi356uv5LiL6L2977ybNeOAgeayueeuoeOAgUZhY2Vib29r562J5Zu95aSW6KeG6aKR6Kej5p6Q5LiL6L2977ybNuOAgee9keebmOaQnOe0ouW8leaTjijmnaXmkJzkuIDkuIs6bGFpc295aXhpYS5jb20sIOWwj+eMquW/q+ebmDp4aWFvemh1a3VhaXBhbi5jb20p56C06Kej5peg6ZmQ5LiL6L2977ybN+OAgeS8mOaDoOWIuOafpeivouetie+8mzjjgIHmkJzntKLlvJXmk47lr7zoiKrjgJDohJrmnKzplb/mnJ/nu7TmiqTmm7TmlrDvvIzlrozlhajlhY3otLnvvIzml6Dlub/lkYrjgJEKLy8gQGF1dGhvciAgICAgICAgICAgIOeIseeUu+eUu+eahOeMqyzlsI/oib7nibkKLy8gQGljb24gICAgICAgICAgICAgIGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBWUFBQUJ6ZW5yMEFBQUNTMGxFUVZSWVI4V1h6Mm9UVVJUR3YzTW5wcWhOS3kxVVdteFJUR2RhaUxTUVJLa0tJb0s0RlZyUlBvSHU3Qk1ZbjBCMytnUXF1dWl1aUM2a2FGVnNBaEdFWmtLcUcvK1ZydHAwWVdzeVIyN0tsRXd6MHhublQzTGd3akIzN3ZsKzk3dHp6OXdoZERpb3cvcHdCQ2pvZk4wQUpvaHdLUWdrTXhZRjhEbXQwYnhkbmhhQVFvV1RYTWN6RU5KQmhGdkdNZ3FrNEdZNlNaWG1QZ3ZBbXkvY25ZaWpHcXJ3dm1UVkhTUXVwMmpMdkcwQnlKZjVFWURiVVFJQWVKeFI2VTRMUUhHVjFWb2Rlc1RpamZReEJkcmthU3JMNnowSGxzdDhpNEFuN1FCZ1lEYXIwbE1yZ000NUl0eHJDd0RqZmxham5DK0F0UjhHdm44ekdwejl4d1ZPam9yL1ptYS9BTnQvR0lzTE5XeHQ4cDdvNElpQW1sTFFQK0M5cHZrRytGb3lVUHhZczUyeGhGRFBLSWgzdVJ2aUcyQ2xXSWRzVHBIb0pZeW1GTmRsaVF6QUJCc2FFWmc0cCtEd1VmdGxpUnhBZ2d3T0MweGRpZG1hMVJhQUk5MkVhOU9IT2djd1BxbEFOcnVJMUFFbGhzYTJkQktYUUpFQm5EZ2xHbHZ4V04vQk5jRTNnS3lDUzY5YjY0QVVsTUlTd0V2NEJwREozNzc4aS9YZnU1WFF0RnRhTHErOVJpQ0E2Z1pqL2RjdVFOOEF1ZG9kNmt2b2RZWnV6OWs3VU9LN0pQREFiWEFZL1d4Z0xqdEdEeTJmNDA4VlBpOE1MSVVoNEpiREVMaHdOa252TFFEeVFOb1RoODdBa0Z1Q0lQMEUvTnpjZ1dZZVRDMGJkcmtOcDZMbTliYzRZTTRxci9OekVHYUN6Tkp4TE9ORlJxTWJ6ZjIySlN1L3dsY3BoaHd6cHNJQUljSUhyaUdYR2FkWCsvTWRXRFBmbFRqUnhjSCtrTFlKaFl0ajVQaXo0LzBnRjRZVk5qazZEdkFQRGIwYU1FcjgvbkVBQUFBQVNVVk9SSzVDWUlJPQovLyBAaW5jbHVkZSAgICAgICAgICAgKjovLyoueW91a3UuY29tL3ZfKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovLyouaXFpeWkuY29tL3ZfKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovLyouaXFpeWkuY29tL3dfKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovLyouaXFpeWkuY29tL2FfKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovLyoubGUuY29tL3B0di92cGxheS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vdi5xcS5jb20veC9jb3Zlci8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vdi5xcS5jb20veC9wYWdlLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly92LnFxLmNvbS90di8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vKi50dWRvdS5jb20vbGlzdHBsYXkvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovLyoudHVkb3UuY29tL2FsYnVtcGxheS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vKi50dWRvdS5jb20vcHJvZ3JhbXMvdmlldy8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vKi5tZ3R2LmNvbS9iLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly9maWxtLnNvaHUuY29tL2FsYnVtLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly90di5zb2h1LmNvbS92LyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly8qLmJhb2ZlbmcuY29tL3BsYXkvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3ZpcC5wcHR2LmNvbS9zaG93LyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly92LnBwdHYuY29tL3Nob3cvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3d3dy5sZS5jb20vcHR2L3ZwbGF5LyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly93d3cud2FzdS5jbi9QbGF5L3Nob3cvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovLyouMTkwNS5jb20vdmlkZW8vKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovLyouMTkwNS5jb20vcGxheS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vKi4xOTA1LmNvbS8qL3BsYXkvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3d3dy5taWd1dmlkZW8uY29tL21ncy8qCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS52LnFxLmNvbS94L2NvdmVyLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly9tLnYucXEuY29tL3gvcGFnZS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS52LnFxLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS5pcWl5aS5jb20vdl8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS5pcWl5aS5jb20vd18qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS5pcWl5aS5jb20vYV8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS55b3VrdS5jb20vYWxpcGF5X3ZpZGVvLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly9odHRwczovL20ueW91a3UuY29tL3ZpZGVvL2lkXyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly9tLm1ndHYuY29tL2IvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL20udHYuc29odS5jb20vdi8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS5maWxtLnNvaHUuY29tL2FsYnVtLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly9tLmxlLmNvbS9wdHYvdnBsYXkvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL20ucHB0di5jb20vc2hvdy8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS5hY2Z1bi5jbi92LyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly9tLmJpbGliaWxpLmNvbS92aWRlby8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS5iaWxpYmlsaS5jb20vYW5pbWUvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL20uYmlsaWJpbGkuY29tL2Jhbmd1bWkvcGxheS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS53YXN1LmNuL1BsYXkvc2hvdy8qCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vd3d3LnlvdXR1YmUuY29tCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vd3d3LnlvdXR1YmUuY29tLwovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3d3dy55b3V0dWJlLmNvbS93YXRjaCoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly93d3cuZmFjZWJvb2suY29tLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly95dDFzLmNvbS9mYWNlYm9vay1kb3dubG9hZGVyCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIEBpbmNsdWRlICAgICAgCSAgKm11c2ljLjE2My5jb20qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8veS5xcS5jb20qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vd3d3Lmt1Z291LmNvbSoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly93d3cua3V3by5jbioKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly93d3cubGl6aGkuZm0qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vKi54aW1hbGF5YS5jb20qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbXVzaWMubWlndS5jbioKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly8qLnRhb2Jhby5jb20vKgovLyBAaW5jbHVkZSAgICAgIAkgICo6Ly8qZGV0YWlsLnRtYWxsLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgCSAgKjovLypkZXRhaWwudG1hbGwuaGsvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovLyppdGVtLmpkLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vaXRlbS55aXlhb2pkLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbnBjaXRlbS5qZC5oay8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vd3d3LmxhaXNveWl4aWEuY29tL2Rvd25sb2FkL2RldGFpbCoqCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vd3d3LnhpYW96aHVrdWFpcGFuLmNvbS9kb3dubG9hZC8qKgovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly93d3cuYmFpZHUuY29tLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly93d3cuc28uY29tL3MqCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vd3d3LnNvZ291LmNvbS93ZWIqCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vY24uYmluZy5jb20vc2VhcmNoKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3d3dy5iaW5nLmNvbS9zZWFyY2gqCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vc28udG91dGlhby5jb20vc2VhcmNoKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3d3dy5nb29nbGUuY29tL3NlYXJjaCoKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIEBpbmNsdWRlCSAgIAkgICAgICAqOi8vd3d3LmJpbGliaWxpLmNvbS8qKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3NlYXJjaC5iaWxpYmlsaS5jb20vKioKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly9zcGFjZS5iaWxpYmlsaS5jb20vKioKLy8gQGluY2x1ZGUgICAgICAJICAqOi8vKi56aGlodS5jb20vKgovLyBAcmVxdWlyZSAgICAgICAgICAgaHR0cHM6Ly9sZjI2LWNkbi10b3MuYnl0ZWNkbnRwLmNvbS9jZG4vZXhwaXJlLTEtTS9qcXVlcnkvMy4yLjEvanF1ZXJ5Lm1pbi5qcwovLyBAY29ubmVjdAkJCSAgdHQuc2h1cWlhbmRpcWl1LmNvbQovLyBAY29ubmVjdCAgICAgICAgICAgYXBpLmJpbGliaWxpLmNvbQovLyBAY29ubmVjdCAgICAgICAgICAgYXBpLnN0YXRpY2oudG9wCi8vIEBjb25uZWN0ICAgICAgICAgICBjZG4uanNkZWxpdnIubmV0Ci8vIEBncmFudCAgICAgICAgICAgICB1bnNhZmVXaW5kb3cKLy8gQGdyYW50ICAgICAgICAgICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgICAgICAgICAgR00ub3BlbkluVGFiCi8vIEBncmFudCAgICAgICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgICAgR00uZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgICAgICBHTS5zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICAgICAgIEdNLnhtbEh0dHBSZXF1ZXN0Ci8vIEBncmFudCAgICAgICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBsaWNlbnNlICAgICAgICAgICBBR1BMIExpY2Vuc2UKLy8gQGNoYXJzZXQJCSAgICAgIFVURi04Ci8vIEBhbnRpZmVhdHVyZSAgCSAgcmVmZXJyYWwtbGluayDjgJDmraTmj5DnpLrkuLpHcmVhc3lGb3Jr5Luj56CB6KeE6IyD6KaB5rGC5ZCr5pyJ5p+l5Yi45Yqf6IO955qE6ISa5pys5b+F6aG75re75Yqg77yM5a6e6ZmF5L2/55So5peg5Lu75L2V5by65Yi26Lez6L2s77yM5Luj56CB5Y+v5p+l77yM6K+355+l5oKJ44CRCi8vIEBvcmlnaW5hbC1hdXRob3IgICDmqZjlrZDniLHlk60KLy8gQG9yaWdpbmFsLWxpY2Vuc2UgIEFHUEwgTGljZW5zZQovLyBAb3JpZ2luYWwtc2NyaXB0ICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzM5MDk1MgovLyBAcnVuLWF0ICAgICAgICAgICAgZG9jdW1lbnQtaWRsZQovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbiAoKSB7CgkndXNlIHN0cmljdCc7CgkKCS8v5YWx5pyJ5pa55rOV77yM5YWo5bGA5YWx5LqrCglmdW5jdGlvbiBjb21tb25GdW5jdGlvbigpewoJCXRoaXMuR01nZXRWYWx1ZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZT1udWxsKSB7CgkJCWxldCBzdG9yYWdlVmFsdWUgPSB2YWx1ZTsKCQkJaWYgKHR5cGVvZiBHTV9nZXRWYWx1ZSA9PT0gImZ1bmN0aW9uIikgewoJCQkJc3RvcmFnZVZhbHVlID0gR01fZ2V0VmFsdWUobmFtZSwgdmFsdWUpOwoJCQl9IGVsc2UgaWYodHlwZW9mIEdNLnNldFZhbHVlID09PSAiZnVuY3Rpb24iKXsKCQkJCXN0b3JhZ2VWYWx1ZSA9IEdNLmdldFZhbHVlKG5hbWUsIHZhbHVlKTsKCQkJfWVsc2V7CgkJCQl2YXIgYXJyID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKG5hbWUpOwoJCQkJaWYoYXJyICE9IG51bGwpewoJCQkJCXN0b3JhZ2VWYWx1ZSA9IGFycgoJCQkJfQoJCQl9CgkJCXJldHVybiBzdG9yYWdlVmFsdWU7CgkJfTsKCQl0aGlzLkdNc2V0VmFsdWUgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSl7CgkJCWlmICh0eXBlb2YgR01fc2V0VmFsdWUgPT09ICJmdW5jdGlvbiIpIHsKCQkJCUdNX3NldFZhbHVlKG5hbWUsIHZhbHVlKTsKCQkJfSBlbHNlIGlmKHR5cGVvZiBHTS5zZXRWYWx1ZSA9PT0gImZ1bmN0aW9uIil7CgkJCQlHTS5zZXRWYWx1ZShuYW1lLCB2YWx1ZSk7CgkJCX1lbHNlewoJCQkJd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKG5hbWUsIHZhbHVlKQoJCQl9CgkJfTsKCQl0aGlzLkdNYWRkU3R5bGUgPSBmdW5jdGlvbihjc3MpewoJCQl2YXIgbXlTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CgkJCW15U3R5bGUudGV4dENvbnRlbnQgPSBjc3M7CgkJCXZhciBkb2MgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKCQkJZG9jLmFwcGVuZENoaWxkKG15U3R5bGUpOwoJCX07CgkJdGhpcy5HTW9wZW5JblRhYiA9IGZ1bmN0aW9uKHVybCwgb3Blbl9pbl9iYWNrZ3JvdW5kKXsKCQkJaWYgKHR5cGVvZiBHTV9vcGVuSW5UYWIgPT09ICJmdW5jdGlvbiIpIHsKCQkJCUdNX29wZW5JblRhYih1cmwsIG9wZW5faW5fYmFja2dyb3VuZCk7CgkJCX0gZWxzZSB7CgkJCQlHTS5vcGVuSW5UYWIodXJsLCBvcGVuX2luX2JhY2tncm91bmQpOwoJCQl9CgkJfTsKCQl0aGlzLmFkZFNjcmlwdCA9IGZ1bmN0aW9uKHVybCl7CgkJCXZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CgkJCXMuc2V0QXR0cmlidXRlKCdzcmMnLHVybCk7CgkJCWRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocyk7CgkJfTsKCQl0aGlzLnJhbmRvbU51bWJlciA9IGZ1bmN0aW9uKCl7CgkJCXJldHVybiBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSoxMDAwMDAwMDApOwoJCX07CgkJdGhpcy5yZXF1ZXN0ID0gZnVuY3Rpb24obW90aGVkLCB1cmwsIHBhcmFtKXsgICAvL+e9kee7nOivt+axggoJCQlyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXsKCQkJCUdNX3htbGh0dHBSZXF1ZXN0KHsKCQkJCQl1cmw6IHVybCwKCQkJCQltZXRob2Q6IG1vdGhlZCwKCQkJCQlkYXRhOnBhcmFtLAoJCQkJCW9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCQkJdmFyIHN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1czsKCQkJCQkJdmFyIHBsYXl1cmwgPSAiIjsKCQkJCQkJaWYoc3RhdHVzPT0yMDB8fHN0YXR1cz09JzIwMCcpewoJCQkJCQkJdmFyIHJlc3BvbnNlVGV4dCA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dDsKCQkJCQkJCXJlc29sdmUoeyJyZXN1bHQiOiJzdWNjZXNzIiwgImRhdGEiOnJlc3BvbnNlVGV4dH0pOwoJCQkJCQl9ZWxzZXsKCQkJCQkJCXJlamVjdCh7InJlc3VsdCI6ImVycm9yIiwgImRhdGEiOm51bGx9KTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0pOwoJCQl9KQoJCX07CgkJdGhpcy5hZGRDb21tb25IdG1sQ3NzID0gZnVuY3Rpb24oKXsKCQkJdmFyIGNzc1RleHQgPSAKCQkJCWAKCQkJCUBrZXlmcmFtZXMgZmFkZUluIHsKCQkJCSAgICAwJSAgICB7b3BhY2l0eTogMH0KCQkJCSAgICAxMDAlICB7b3BhY2l0eTogMX0KCQkJCX0KCQkJCUAtd2Via2l0LWtleWZyYW1lcyBmYWRlSW4gewoJCQkJICAgIDAlICAgIHtvcGFjaXR5OiAwfQoJCQkJICAgIDEwMCUgIHtvcGFjaXR5OiAxfQoJCQkJfQoJCQkJQC1tb3ota2V5ZnJhbWVzIGZhZGVJbiB7CgkJCQkgICAgMCUgICAge29wYWNpdHk6IDB9CgkJCQkgICAgMTAwJSAge29wYWNpdHk6IDF9CgkJCQl9CgkJCQlALW8ta2V5ZnJhbWVzIGZhZGVJbiB7CgkJCQkgICAgMCUgICAge29wYWNpdHk6IDB9CgkJCQkgICAgMTAwJSAge29wYWNpdHk6IDF9CgkJCQl9CgkJCQlALW1zLWtleWZyYW1lcyBmYWRlSW4gewoJCQkJICAgIDAlICAgIHtvcGFjaXR5OiAwfQoJCQkJICAgIDEwMCUgIHtvcGFjaXR5OiAxfQoJCQkJfQoJCQkJQGtleWZyYW1lcyBmYWRlT3V0IHsKCQkJCSAgICAwJSAgICB7b3BhY2l0eTogMX0KCQkJCSAgICAxMDAlICB7b3BhY2l0eTogMH0KCQkJCX0KCQkJCUAtd2Via2l0LWtleWZyYW1lcyBmYWRlT3V0IHsKCQkJCSAgICAwJSAgICB7b3BhY2l0eTogMX0KCQkJCSAgICAxMDAlICB7b3BhY2l0eTogMH0KCQkJCX0KCQkJCUAtbW96LWtleWZyYW1lcyBmYWRlT3V0IHsKCQkJCSAgICAwJSAgICB7b3BhY2l0eTogMX0KCQkJCSAgICAxMDAlICB7b3BhY2l0eTogMH0KCQkJCX0KCQkJCUAtby1rZXlmcmFtZXMgZmFkZU91dCB7CgkJCQkgICAgMCUgICAge29wYWNpdHk6IDF9CgkJCQkgICAgMTAwJSAge29wYWNpdHk6IDB9CgkJCQl9CgkJCQlALW1zLWtleWZyYW1lcyBmYWRlT3V0IHsKCQkJCSAgICAwJSAgICB7b3BhY2l0eTogMX0KCQkJCSAgICAxMDAlICB7b3BhY2l0eTogMH0KCQkJCX0KCQkJCS53ZWItdG9hc3Qta2tsaTl7CgkJCQkgICAgcG9zaXRpb246IGZpeGVkOwoJCQkJICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC43KTsKCQkJCSAgICBjb2xvcjogI2ZmZjsKCQkJCSAgICBmb250LXNpemU6IDE0cHg7CgkJCQkgICAgbGluZS1oZWlnaHQ6IDE7CgkJCQkgICAgcGFkZGluZzoxMHB4OwoJCQkJICAgIGJvcmRlci1yYWRpdXM6IDNweDsKCQkJCSAgICBsZWZ0OiA1MCU7CgkJCQkgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpOwoJCQkJICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpOwoJCQkJICAgIC1tb3otdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpOwoJCQkJICAgIC1vLXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKCQkJCSAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpOwoJCQkJICAgIHotaW5kZXg6IDk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTsKCQkJCSAgICB3aGl0ZS1zcGFjZTogbm93cmFwOwoJCQkJfQoJCQkJLmZhZGVPdXR7CgkJCQkgICAgYW5pbWF0aW9uOiBmYWRlT3V0IC41czsKCQkJCX0KCQkJCS5mYWRlSW57CgkJCQkgICAgYW5pbWF0aW9uOmZhZGVJbiAuNXM7CgkJCQl9CgkJCQlgOwoJCQl0aGlzLkdNYWRkU3R5bGUoY3NzVGV4dCk7CgkJfTsKCQl0aGlzLndlYlRvYXN0ID0gZnVuY3Rpb24ocGFyYW1zKSB7CS8v5bCP5o+Q56S65qGGCgkJICAgIHZhciB0aW1lID0gcGFyYW1zLnRpbWU7CgkJICAgIHZhciBiYWNrZ3JvdW5kID0gcGFyYW1zLmJhY2tncm91bmQ7CgkJICAgIHZhciBjb2xvciA9IHBhcmFtcy5jb2xvcjsKCQkgICAgdmFyIHBvc2l0aW9uID0gcGFyYW1zLnBvc2l0aW9uOyAgLy9jZW50ZXItdG9wLCBjZW50ZXItYm90dG9tCgkJICAgIHZhciBkZWZhdWx0TWFyZ2luVmFsdWUgPSA1MDsKCQkgICAgCgkJICAgIGlmKHRpbWUgPT0gdW5kZWZpbmVkIHx8IHRpbWUgPT0gJycpewoJCSAgICAgICAgdGltZSA9IDE1MDA7CgkJICAgIH0KCQkgICAgCgkJICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwoJCSAgICBlbC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgIndlYi10b2FzdC1ra2xpOSIpOwoJCSAgICBlbC5pbm5lckhUTUwgPSBwYXJhbXMubWVzc2FnZTsKCQkgICAgLy/og4zmma/popzoibIKCQkgICAgaWYoYmFja2dyb3VuZCE9dW5kZWZpbmVkICYmIGJhY2tncm91bmQhPScnKXsKCQkgICAgCWVsLnN0eWxlLmJhY2tncm91bmRDb2xvcj1iYWNrZ3JvdW5kOwoJCSAgICB9CgkJICAgIC8v5a2X5L2T6aKc6ImyCgkJICAgIGlmKGNvbG9yIT11bmRlZmluZWQgJiYgY29sb3IhPScnKXsKCQkgICAgCWVsLnN0eWxlLmNvbG9yPWNvbG9yOwoJCSAgICB9CgkJICAgIAoJCSAgICAvL+aYvuekuuS9jee9rgoJCSAgICBpZihwb3NpdGlvbj09dW5kZWZpbmVkIHx8IHBvc2l0aW9uPT0nJyl7CgkJICAgIAlwb3NpdGlvbiA9ICJjZW50ZXItYm90dG9tIjsKCQkgICAgfQoJCSAgICAKCQkgICAgLy/orr7nva7mmL7npLrkvY3nva7vvIzlvZPliY3mnInnp43kuKTnp43lvaLlvI8KCQkgICAgaWYocG9zaXRpb249PT0iY2VudGVyLWJvdHRvbSIpewoJCSAgICAJZWwuc3R5bGUuYm90dG9tID0gZGVmYXVsdE1hcmdpblZhbHVlKyJweCI7IAoJCSAgICB9ZWxzZXsKCQkgICAgCWVsLnN0eWxlLnRvcCA9IGRlZmF1bHRNYXJnaW5WYWx1ZSsicHgiOyAKCQkgICAgfQoJCQllbC5zdHlsZS56SW5kZXg9OTk5OTk5OwoJCSAgICAKCQkgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7CgkJICAgIGVsLmNsYXNzTGlzdC5hZGQoImZhZGVJbiIpOwoJCSAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKCQkgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoImZhZGVJbiIpOwoJCSAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgiZmFkZU91dCIpOwoJCSAgICAgICAgLyrnm5HlkKzliqjnlLvnu5PmnZ/vvIznp7vpmaTmj5DnpLrkv6Hmga/lhYPntKAqLwoJCSAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigiYW5pbWF0aW9uZW5kIiwgZnVuY3Rpb24gKCkgewoJCSAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWwpOwoJCSAgICAgICAgfSk7CgkJICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCJ3ZWJraXRBbmltYXRpb25FbmQiLCBmdW5jdGlvbiAoKSB7CgkJICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7CgkJICAgICAgICB9KTsKCQkgICAgfSwgdGltZSk7CgkJfSwKCQl0aGlzLnF1ZXJ5VXJsUGFyYW10ZXIgPSBmdW5jdGlvbih0ZXh0LCB0YWcpIHsgLy/mn6Xor6JHRVTor7fmsYJ1cmzkuK3nmoTlj4LmlbAKCQkJaWYodGV4dC5pbmRleE9mKCI/IikhPS0xKXsgLy/pgInlj5Y/5ZCO6Z2i55qE5a2X56ym5LiyLOWFvOWuuXdpbmRvdy5sb2NhdGlvbi5zZWFyY2jvvIzliY3pnaLnmoQ/5LiN6IO95Y675o6JCgkJCQl2YXIgdGV4dEFycmF5ID0gdGV4dC5zcGxpdCgiPyIpOwoJCQkJdGV4dCA9ICI/Iit0ZXh0QXJyYXlbdGV4dEFycmF5Lmxlbmd0aC0xXTsKCQkJfQoJCQl2YXIgdCA9IG5ldyBSZWdFeHAoIihefCYpIiArIHRhZyArICI9KFteJl0qKSgmfCQpIik7CgkJCXZhciBhID0gdGV4dC5zdWJzdHIoMSkubWF0Y2godCk7CgkJCWlmIChhICE9IG51bGwpewoJCQkJcmV0dXJuIGFbMl07CgkJCX0KCQkJcmV0dXJuICIiOwoJCX07CgkJdGhpcy5pc1BDID0gZnVuY3Rpb24oKXsKCQkJdmFyIHVzZXJBZ2VudEluZm8gPSBuYXZpZ2F0b3IudXNlckFnZW50OwoJCQl2YXIgQWdlbnRzID0gWyJBbmRyb2lkIiwgImlQaG9uZSIsIlN5bWJpYW5PUyIsICJXaW5kb3dzIFBob25lIiwgImlQYWQiLCAiaVBvZCJdOwoJCQl2YXIgZmxhZyA9IHRydWU7CgkJCWZvciAodmFyIHYgPSAwOyB2IDwgQWdlbnRzLmxlbmd0aDsgdisrKSB7CgkJCQlpZiAodXNlckFnZW50SW5mby5pbmRleE9mKEFnZW50c1t2XSkgPiAwKSB7CgkJCQkJZmxhZyA9IGZhbHNlOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQl9CgkJCXJldHVybiBmbGFnOwoJCX07CgkJdGhpcy5nZXRCaWxpYmlsaUJWPWZ1bmN0aW9uKCl7CgkJCXZhciBwYXRobmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTsKCQkJdmFyIGJ2ID0gcGF0aG5hbWUucmVwbGFjZSgiL3ZpZGVvLyIsIiIpLnJlcGxhY2UoIi8iLCIiKTsKCQkJcmV0dXJuIGJ2OwoJCX0KCX0KCQoJLy/lhajlsYDlvLnnqpflr7nosaEKCWNvbnN0IHBvcHVwID0gKGZ1bmN0aW9uKCl7CgkgICAgY2xhc3MgUG9wdXAgewoJICAgICAgICBjb25zdHJ1Y3RvcigpIHsKCSAgICAgICAgICAgIHRoaXMubWFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpCgkgICAgICAgICAgICB0aGlzLnNldFN0eWxlKHRoaXMubWFzaywgewoJICAgICAgICAgICAgICAgICJ3aWR0aCI6ICcxMDAlJywKCSAgICAgICAgICAgICAgICAiaGVpZ2h0IjogJzEwMCUnLAoJICAgICAgICAgICAgICAgICJiYWNrZ3JvdW5kQ29sb3IiOiAncmdiYSgwLCAwLCAwLCAuNiknLAoJICAgICAgICAgICAgICAgICJwb3NpdGlvbiI6ICdmaXhlZCcsCgkgICAgICAgICAgICAgICAgImxlZnQiOiAiMHB4IiwKCSAgICAgICAgICAgICAgICAidG9wIjogIjBweCIsCgkJCQkJImJvdHRvbSI6IjBweCIsCgkJCQkJInJpZ2h0IjoiMHB4IiwKCQkJCQkiei1pbmRleCI6Ijk5OTk5IgoJICAgICAgICAgICAgfSkKCSAgICAgICAgICAgIC8vIOWIm+W7uuS4remXtOaYvuekuuWGheWuueeahOawtOW5s+W5tuWeguebtOWxheS4reeahGRpdgoJICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykKCSAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUodGhpcy5jb250ZW50LCB7CgkgICAgICAgICAgICAgICAgIm1heC13aWR0aCI6ICc0MDBweCcsCgkJCQkJIndpZHRoIjoiMTAwJSIsCgkgICAgICAgICAgICAgICAgIm1heC1oZWlnaHQiOiAnNjAwcHgnLAoJICAgICAgICAgICAgICAgICJiYWNrZ3JvdW5kQ29sb3IiOiAnI2ZmZicsCgkgICAgICAgICAgICAgICAgImJveFNoYWRvdyI6ICcwIDAgMnB4ICM5OTknLAoJICAgICAgICAgICAgICAgICJwb3NpdGlvbiI6ICdhYnNvbHV0ZScsCgkgICAgICAgICAgICAgICAgImxlZnQiOiAnNTAlJywKCSAgICAgICAgICAgICAgICAidG9wIjogJzUwJScsCgkgICAgICAgICAgICAgICAgInRyYW5zZm9ybSI6ICd0cmFuc2xhdGUoLTUwJSwtNTAlKScsCgkgICAgICAgICAgICAgICAgImJvcmRlclJhZGl1cyI6ICczcHgnCgkgICAgICAgICAgICB9KQoJICAgICAgICAgICAgLy8g5bCG6L+Z5Liq5bCPZGl25pS+5Zyo6YGu572p5LitCgkgICAgICAgICAgICB0aGlzLm1hc2suYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50KQoJICAgICAgICB9CgkgICAgICAgIG1pZGRsZUJveChwYXJhbSkgewoJICAgICAgICAgICAgLy8g5YWI5riF56m65Lit6Ze05bCPZGl255qE5YaF5a65IC0g6Ziy5q2i6LCD55So5aSa5qyh77yM5Ye6546w5re35LmxCgkgICAgICAgICAgICB0aGlzLmNvbnRlbnQuaW5uZXJIVE1MID0gJycKCSAgICAgICAgICAgIGxldCB0aXRsZSA9ICfpu5jorqTmoIfpopjlhoXlrrknOwoJICAgICAgICAgICAgLy8g5qOA5rWL5Y+C5pWw57G75Z6LCgkgICAgICAgICAgICBpZih7fS50b1N0cmluZy5jYWxsKHBhcmFtKSA9PT0gJ1tvYmplY3QgU3RyaW5nXScpIHsKCSAgICAgICAgICAgICAgICB0aXRsZSA9IHBhcmFtCgkgICAgICAgICAgICB9IGVsc2UgaWYoe30udG9TdHJpbmcuY2FsbChwYXJhbSkgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7CgkgICAgICAgICAgICAgICAgdGl0bGUgPSBwYXJhbS50aXRsZQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8g5bCG6YGu572p5pS+5ZyoYm9keeS4reaYvuekugoJICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLm1hc2spCgkgICAgICAgICAgICAvLyDnu5nkuK3pl7TnmoTlsI9kaXborr7nva7pu5jorqTnmoTmjpLniYgKCSAgICAgICAgICAgIC8vIOS4iumdouagh+mimOmDqOWIhgoJICAgICAgICAgICAgdGhpcy50aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpCgkgICAgICAgICAgICAvLyDorr7nva7moLflvI8KCSAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUodGhpcy50aXRsZSwgewoJICAgICAgICAgICAgICAgICJ3aWR0aCI6ICcxMDAlJywKCSAgICAgICAgICAgICAgICAiaGVpZ2h0IjogJzQwcHgnLAoJICAgICAgICAgICAgICAgICJsaW5lSGVpZ2h0IjogJzQwcHgnLAoJICAgICAgICAgICAgICAgICJib3hTaXppbmciOiAnYm9yZGVyLWJveCcsCgkJCQkJImJhY2tncm91bmQtY29sb3IiOiIjRkY0RDQwIiwKCSAgICAgICAgICAgICAgICAiY29sb3IiOiAnI0ZGRicsCgkJCQkJInRleHQtYWxpZ24iOiAnY2VudGVyJywKCQkJCQkiZm9udC13ZWlnaHQiOiI3MDAiLAoJCQkJCSJmb250LXNpemUiOiIxNnB4IgoJCQkJCQoJICAgICAgICAgICAgfSkKCSAgICAgICAgICAgIC8vIOiuvue9rum7mOiupOagh+mimOWGheWuuQoJICAgICAgICAgICAgdGhpcy50aXRsZS5pbm5lclRleHQgPSB0aXRsZQoJICAgICAgICAgICAgLy8g5bCG5qCH6aKY6YOo5YiG5pS+5Zyo5Lit6Ze0ZGl25LitCgkgICAgICAgICAgICB0aGlzLmNvbnRlbnQuYXBwZW5kQ2hpbGQodGhpcy50aXRsZSkKCSAgICAgICAgICAgIC8vIOWFs+mXreaMiemSrgoJICAgICAgICAgICAgdGhpcy5jbG9zZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpCgkgICAgICAgICAgICAvLyDorr7nva7lhoXlrrkKCSAgICAgICAgICAgIHRoaXMuY2xvc2VCdG4uaW5uZXJUZXh0ID0gJ8OXJwoJICAgICAgICAgICAgLy8g6K6+572u5qC35byPCgkgICAgICAgICAgICB0aGlzLnNldFN0eWxlKHRoaXMuY2xvc2VCdG4sIHsKCSAgICAgICAgICAgICAgICAidGV4dERlY29yYXRpb24iOiAnbm9uZScsCgkgICAgICAgICAgICAgICAgImNvbG9yIjogJyM2NjYnLAoJICAgICAgICAgICAgICAgICJwb3NpdGlvbiI6ICdhYnNvbHV0ZScsCgkgICAgICAgICAgICAgICAgInJpZ2h0IjogJzEwcHgnLAoJICAgICAgICAgICAgICAgICJ0b3AiOiAnMHB4JywKCSAgICAgICAgICAgICAgICAiZm9udFNpemUiOiAnMjVweCcsCgkJCQkJImNvbG9yIjogJyNGRkYnLAoJCQkJCSJkaXNwbGF5IjoiaW5saW5lLWJsb2NrIiwKCQkJCQkiY3Vyc29yIjoicG9pbnRlciIKCSAgICAgICAgICAgIH0pCgkgICAgICAgICAgICAvLyDlsIblhbPpl63mjInpkq7mlL7lnKjkuK3pl7TlsI9kaXbkuK0KCSAgICAgICAgICAgIHRoaXMudGl0bGUuYXBwZW5kQ2hpbGQodGhpcy5jbG9zZUJ0bikKCQkJCXRoaXMuY2xvc2VCdG4ub25jbGljayA9ICgpID0+IHRoaXMuY2xvc2UoKQoJICAgICAgICB9CgkgICAgICAgIC8vIOW8ueWHuuaPkOekuuahhgoJICAgICAgICBkaWFsb2cocGFyYW0pIHsKCSAgICAgICAgICAgIHRoaXMubWlkZGxlQm94KHBhcmFtKTsKCQkJCXRoaXMuZGlhbG9nQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpCgkJCQl0aGlzLnNldFN0eWxlKHRoaXMuZGlhbG9nQ29udGVudCx7CgkJCQkJInBhZGRpbmciOiIxNXB4IiwKCQkJCQkibWF4LWhlaWdodCI6IjQwMHB4IgoJCQkJfSkKCQkJCXRoaXMuZGlhbG9nQ29udGVudC5pbm5lckhUTUwgPSBwYXJhbS5jb250ZW50OwoJCQkJdGhpcy5jb250ZW50LmFwcGVuZENoaWxkKHRoaXMuZGlhbG9nQ29udGVudCkKCQkJCXBhcmFtLm9uQ29udGVudFJlYWR5KHRoaXMpOwoJICAgICAgICB9CgkgICAgICAgIGNsb3NlKCkgewoJICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLm1hc2spCgkJCQl3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CgkgICAgICAgIH0KCSAgICAgICAgc2V0U3R5bGUoZWxlLCBzdHlsZU9iaikgeyAvLyDorr7nva7moLflvI/nmoTlh73mlbAKCSAgICAgICAgICAgIGZvcihsZXQgYXR0ciBpbiBzdHlsZU9iail7CgkgICAgICAgICAgICAgICAgZWxlLnN0eWxlW2F0dHJdID0gc3R5bGVPYmpbYXR0cl0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH0KCSAgICBsZXQgcG9wdXAgPSBudWxsOwoJICAgIHJldHVybiAoZnVuY3Rpb24oKSB7CgkgICAgICAgIGlmKCFwb3B1cCkgewoJICAgICAgICAgICAgcG9wdXAgPSBuZXcgUG9wdXAoKQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBwb3B1cDsKCSAgICB9KSgpCgl9KSgpOwoJCgkvL+ino+aekOaOpeWPo+mFjee9rgoJLy9zaG93VHlwZT0xKOS7hVBDKSwgc2hvd1R5cGU9Mijku4Vtb2JpbGUpLCBzaG93VHlwZT0zKOWQjOaXtuaYvuekuikKCWNvbnN0IG9yaWdpbmFsSW50ZXJmYWNlTGlzdCA9IFsKCQl7Im5hbWUiOiLnuq/lh4AvQuermSIsInVybCI6Imh0dHBzOi8vejEubTE5MDcuY24vP2p4PSIsICJzaG93VHlwZSI6M30sCgkJeyJuYW1lIjoi6auY6YCf5o6l5Y+jIiwidXJsIjoiaHR0cHM6Ly9qc2FwLmF0dGFraWRzLmNvbS8/dXJsPSIsICJzaG93VHlwZSI6M30sCgkJeyJuYW1lIjoi57u85ZCIL0Lnq5kiLCJ1cmwiOiJodHRwczovL2p4LmJvenJjLmNvbTo0NDMzL3BsYXllci8/dXJsPSIsICJzaG93VHlwZSI6M30sCgkJeyJuYW1lIjoiT0vop6PmnpAiLCJ1cmwiOiJodHRwczovL29ranguY2MvP3VybD0iLCAic2hvd1R5cGUiOjN9LAoJCXsibmFtZSI6IuWknOW5lSIsInVybCI6Imh0dHBzOi8vd3d3LnllbXUueHl6Lz91cmw9IiwgInNob3dUeXBlIjozfSwKCQl7Im5hbWUiOiLniLHosYYiLCJ1cmwiOiJodHRwczovL2p4LmFpZG91ZXIubmV0Lz91cmw9IiwgInNob3dUeXBlIjoxfSwKCQl7Im5hbWUiOiLomb7nsbMiLCJ1cmwiOiJodHRwczovL2p4LnhtZmx2LmNvbS8/dXJsPSIsICJzaG93VHlwZSI6MX0sCgkJeyJuYW1lIjoiTTNVOC5UViIsInVybCI6Imh0dHBzOi8vangubTN1OC50di9qaWV4aS8/dXJsPSIsICJzaG93VHlwZSI6M30sCgkJeyJuYW1lIjoi5Lq65Lq66L+3IiwidXJsIjoiaHR0cHM6Ly9qeC5ibGJvLmNjOjQ0MzMvP3VybD0iLCAic2hvd1R5cGUiOjN9LAoJCXsibmFtZSI6IuWFqOawkSIsInVybCI6Imh0dHBzOi8vanguYmxiby5jYzo0NDMzLz91cmw9IiwgInNob3dUeXBlIjozfSwKCQl7Im5hbWUiOiLkuIPlk6UiLCJ1cmwiOiJodHRwczovL2p4Lm1ta3YuY24vdHYucGhwP3VybD0iLCAic2hvd1R5cGUiOjN9LAoJCXsibmFtZSI6IuWGsOixhiIsInVybCI6Imh0dHBzOi8vYXBpLnFpYW5xaS5uZXQvdmlwLz91cmw9IiwgInNob3dUeXBlIjozfSwKCQl7Im5hbWUiOiLov6rlpaUiLCJ1cmwiOiJodHRwczovLzEyMy4xZGlvci5jbi8/dXJsPSIsICJzaG93VHlwZSI6MX0sCgkJeyJuYW1lIjoiQ0siLCJ1cmwiOiJodHRwczovL3d3dy5ja3BsYXllci52aXAvamlleGkvP3VybD0iLCAic2hvd1R5cGUiOjF9LAoJCXsibmFtZSI6Iua4uOiJuiIsInVybCI6Imh0dHBzOi8vYXBpLnUxby5uZXQvP3VybD0iLCAic2hvd1R5cGUiOjF9LAoJCXsibmFtZSI6IkxFIiwidXJsIjoiaHR0cHM6Ly9sZWN1cmwuY24vP3VybD0iLCAic2hvd1R5cGUiOjF9LAoJCXsibmFtZSI6ImNrbW92IiwidXJsIjoiaHR0cHM6Ly93d3cuY2ttb3YudmlwL2FwaS5waHA/dXJsPSIsICJzaG93VHlwZSI6MX0sCgkJeyJuYW1lIjoicGxheWVyankvQuermSIsInVybCI6Imh0dHBzOi8vangucGxheWVyankuY29tLz91cmw9IiwgInNob3dUeXBlIjozfSwKCQl7Im5hbWUiOiJjY3lqamQiLCJ1cmwiOiJodHRwczovL2NrbW92LmNjeWpqZC5jb20vY2ttb3YvP3VybD0iLCAic2hvd1R5cGUiOjF9LAoJCXsibmFtZSI6IueIseixhiIsInVybCI6Imh0dHBzOi8vanguYWlkb3Vlci5uZXQvP3VybD0iLCAic2hvd1R5cGUiOjF9LAoJCXsibmFtZSI6IuivuuivuiIsInVybCI6Imh0dHBzOi8vd3d3LmNrbW92LmNvbS8/dXJsPSIsICJzaG93VHlwZSI6MX0sCgkJeyJuYW1lIjoiSDgiLCJ1cmwiOiJodHRwczovL3d3dy5oOGp4LmNvbS9qaWV4aS5waHA/dXJsPSIsICJzaG93VHlwZSI6MX0sCgkJeyJuYW1lIjoiQkwiLCJ1cmwiOiJodHRwczovL3ZpcC5ibGppZXguY29tLz92PSIsICJzaG93VHlwZSI6MX0sCgkJeyJuYW1lIjoi6Kej5p6QbGEiLCJ1cmwiOiJodHRwczovL2FwaS5qaWV4aS5sYS8/dXJsPSIsICJzaG93VHlwZSI6MX0sCgkJeyJuYW1lIjoiTVVUViIsInVybCI6Imh0dHBzOi8vamlleGkuamFuYW4ubmV0L2ppZXhpLz91cmw9IiwgInNob3dUeXBlIjoxfSwKCQl7Im5hbWUiOiJNQU8iLCJ1cmwiOiJodHRwczovL3d3dy5tdG9zei5jb20vbTN1OC5waHA/dXJsPSIsICJzaG93VHlwZSI6MX0sCgkJeyJuYW1lIjoi6ICB5p2/IiwidXJsIjoiaHR0cHM6Ly92aXAubGFvYmFuZHEuY29tL2ppZXhpLnBocD91cmw9IiwgInNob3dUeXBlIjoxfSwKCQl7Im5hbWUiOiLnm5jlj6QiLCJ1cmwiOiJodHRwczovL3d3dy5wYW5ndWppZXhpLmNjL2ppZXhpLnBocD91cmw9IiwgInNob3dUeXBlIjoxfSwKCQl7Im5hbWUiOiLnm5bkuJYiLCJ1cmwiOiJodHRwczovL3d3dy5nYWk0LmNvbS8/dXJsPSIsICJzaG93VHlwZSI6MX0sCgkJeyJuYW1lIjoi5bCP6JKLIiwidXJsIjoiaHR0cHM6Ly93d3cua3BlenAuY24vamxleGkucGhwP3VybD0iLCAic2hvd1R5cGUiOjF9LAoJCXsibmFtZSI6IllpVFYiLCJ1cmwiOiJodHRwczovL2ppZXhpLnVzLz91cmw9IiwgInNob3dUeXBlIjoxfSwKCQl7Im5hbWUiOiLmmJ/nqboiLCJ1cmwiOiJodHRwOi8vNjBqeC5jb20vP3VybD0iLCAic2hvd1R5cGUiOjF9LAoJCXsibmFtZSI6IjA1MjMiLCJ1cmwiOiJodHRwczovL2dvLnloMDUyMy5jbi95LmN5P3VybD0iLCAic2hvd1R5cGUiOjF9LAoJCXsibmFtZSI6IjE35LqRIiwidXJsIjoiaHR0cHM6Ly93d3cuMTcxN3l1bi5jb20vangvdHkucGhwP3VybD0iLCAic2hvd1R5cGUiOjF9LAoJCXsibmFtZSI6IjRLIiwidXJsIjoiaHR0cHM6Ly9qeC40a2R2LmNvbS8/dXJsPSIsICJzaG93VHlwZSI6MX0sCgkJeyJuYW1lIjoi5LqR5p6QIiwidXJsIjoiaHR0cHM6Ly9qeC55cGFyc2UuY29tL2luZGV4LnBocD91cmw9IiwgInNob3dUeXBlIjoxfSwKCQl7Im5hbWUiOiI4MDkwIiwidXJsIjoiaHR0cHM6Ly93d3cuODA5MGcuY24vP3VybD0iLCAic2hvd1R5cGUiOjF9LAoJCXsibmFtZSI6Iuaxn+a5liIsInVybCI6Imh0dHBzOi8vYXBpLmpoZHl3LnZpcC8/dXJsPSIsICJzaG93VHlwZSI6MX0sCgkJeyJuYW1lIjoi6K+66K6vIiwidXJsIjoiaHR0cHM6Ly93d3cubnhmbHYuY29tLz91cmw9IiwgInNob3dUeXBlIjoxfSwKCQl7Im5hbWUiOiJQTSIsInVybCI6Imh0dHBzOi8vd3d3LnBsYXltM3U4LmNuL2ppZXhpLnBocD91cmw9IiwgInNob3dUeXBlIjoxfSwKCQl7Im5hbWUiOiLlpYfnsbMiLCJ1cmwiOiJodHRwczovL3FpbWloZS5jb20vP3VybD0iLCAic2hvd1R5cGUiOjF9LAoJCXsibmFtZSI6IuaAneS6kSIsInVybCI6Imh0dHBzOi8vanguYXAycC5jbi8/dXJsPSIsICJzaG93VHlwZSI6MX0sCgkJeyJuYW1lIjoi5ZCs5LmQIiwidXJsIjoiaHR0cHM6Ly9qeC5kajZ1LmNvbS8/dXJsPSIsICJzaG93VHlwZSI6MX0sCgkJeyJuYW1lIjoiYWlqeCIsInVybCI6Imh0dHBzOi8vamlleGkudDdnLmNuLz91cmw9IiwgInNob3dUeXBlIjoxfSwKCQl7Im5hbWUiOiI1MiIsInVybCI6Imh0dHBzOi8vdmlwLjUyamlleGkudG9wLz91cmw9IiwgInNob3dUeXBlIjoxfSwKCQl7Im5hbWUiOiLpu5HnsbMiLCJ1cmwiOiJodHRwczovL3d3dy5teXhpbi50b3AvangvYXBpLz91cmw9IiwgInNob3dUeXBlIjoxfSwKCQl7Im5hbWUiOiLosarljY7llaYiLCJ1cmwiOiJodHRwczovL2FwaS5saGgubGEvdmlwLz91cmw9IiwgInNob3dUeXBlIjoxfSwKCQl7Im5hbWUiOiLlh4nln44iLCJ1cmwiOiJodHRwczovL2p4Lm13MC5jYy8/dXJsPSIsICJzaG93VHlwZSI6MX0sCgkJeyJuYW1lIjoiMzN0IiwidXJsIjoiaHR0cHM6Ly93d3cuMzN0bi5jbi8/dXJsPSIsICJzaG93VHlwZSI6MX0sCgkJeyJuYW1lIjoiMTgwIiwidXJsIjoiaHR0cHM6Ly9qeC4wMDAxODAudG9wL2p4Lz91cmw9IiwgInNob3dUeXBlIjoxfSwKCQl7Im5hbWUiOiLml6DlkI0iLCJ1cmwiOiJodHRwczovL3d3dy5hZG1pbmlzdHJhdG9ydy5jb20vdmlkZW8ucGhwP3VybD0iLCAic2hvd1R5cGUiOjF9LAoJCXsibmFtZSI6Ium7keS6kSIsInVybCI6Imh0dHBzOi8vamlleGkuMzgway5jb20vP3VybD0iLCAic2hvd1R5cGUiOjF9LAoJCXsibmFtZSI6IuS5neWFqyIsInVybCI6Imh0dHBzOi8vangueW91eWl0di5jb20vP3VybD0iLCAic2hvd1R5cGUiOjF9LAkJCgkJeyJuYW1lIjoi5ZCs5LmQKELnq5kpIiwidXJsIjoiaHR0cHM6Ly9qeC5kajZ1LmNvbS8/dXJsPSIsICJzaG93VHlwZSI6Mn0sCgldOwoJCgkvL+WFqOWxgOe7n+S4gOaWueazleWvueixoQoJY29uc3QgY29tbW9uRnVuY3Rpb25PYmplY3QgPSBuZXcgY29tbW9uRnVuY3Rpb24oKTsgCgljb21tb25GdW5jdGlvbk9iamVjdC5hZGRDb21tb25IdG1sQ3NzKCk7CS8v57uf5LiAaHRtbOOAgWNzc+WFg+e0oOa3u+WKoAoJbGV0IG5ld09yaWdpbmFsSW50ZXJmYWNlTGlzdCA9IG9yaWdpbmFsSW50ZXJmYWNlTGlzdDsgLy/nu5/kuIDmjqXlj6MKCQoJLy/nm7jlhbPlip/og73lhbPpl63mjqfliLYKCWxldCBmdW5jdGlvbkNvbnRyb2xsZXI9IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNZ2V0VmFsdWUoInNldGluZ0RhdGEiKTsKCWlmKCFmdW5jdGlvbkNvbnRyb2xsZXIpewoJCWZ1bmN0aW9uQ29udHJvbGxlcj17CgkJCSJiaWxpYmlsaUhlbHBlciI6dHJ1ZSwic3VwZXJWaWRlb0hlbHBlciI6dHJ1ZSwic3VwZXJNdXNpY0hlbHBlciI6dHJ1ZSwiYWJyb2FkVmlkZW9IZWxwZXIiOnRydWUsCgkJCSJ3YW5ncGFuU2VhcmNoRW5naW5lc0hlbHBlciI6dHJ1ZSwic2VhcmNoRW5naW5lc05hdmlnYXRpb24iOnRydWUsInpoaWh1SGVscGVyIjp0cnVlLAoJCX0KCX0JCgkvL+eUqOaIt+WKn+iDveiuvue9ruWHveaVsAoJZnVuY3Rpb24gdXNlcnNTZXRpbmcoKXsKCQl2YXIgYmlsaWJpbGlIZWxwZXI9dHJ1ZSwgc3VwZXJWaWRlb0hlbHBlcj10cnVlLCBzdXBlck11c2ljSGVscGVyPXRydWUsIGFicm9hZFZpZGVvSGVscGVyPXRydWUsIHdhbmdwYW5TZWFyY2hFbmdpbmVzSGVscGVyPXRydWUsIHNlYXJjaEVuZ2luZXNOYXZpZ2F0aW9uPXRydWUsIHpoaWh1SGVscGVyPXRydWU7CgkJdmFyIGlzVXBkYXRlU3RvcmFnZSA9IGZhbHNlOwoJCWlmKCFmdW5jdGlvbkNvbnRyb2xsZXIuaGFzT3duUHJvcGVydHkoImJpbGliaWxpSGVscGVyIikpewoJCQlmdW5jdGlvbkNvbnRyb2xsZXIuYmlsaWJpbGlIZWxwZXIgPSB0cnVlOwoJCQlpc1VwZGF0ZVN0b3JhZ2UgPSB0cnVlOwoJCX1lbHNlewoJCQliaWxpYmlsaUhlbHBlciA9IGZ1bmN0aW9uQ29udHJvbGxlci5iaWxpYmlsaUhlbHBlcjsKCQl9CgkJaWYoIWZ1bmN0aW9uQ29udHJvbGxlci5oYXNPd25Qcm9wZXJ0eSgic3VwZXJWaWRlb0hlbHBlciIpKXsKCQkJZnVuY3Rpb25Db250cm9sbGVyLnN1cGVyVmlkZW9IZWxwZXIgPSB0cnVlOwoJCQlpc1VwZGF0ZVN0b3JhZ2UgPSB0cnVlOwoJCX1lbHNlewoJCQlzdXBlclZpZGVvSGVscGVyID0gZnVuY3Rpb25Db250cm9sbGVyLnN1cGVyVmlkZW9IZWxwZXI7CgkJfQoJCWlmKCFmdW5jdGlvbkNvbnRyb2xsZXIuaGFzT3duUHJvcGVydHkoInN1cGVyTXVzaWNIZWxwZXIiKSl7CgkJCWZ1bmN0aW9uQ29udHJvbGxlci5zdXBlck11c2ljSGVscGVyID0gdHJ1ZTsKCQkJaXNVcGRhdGVTdG9yYWdlID0gdHJ1ZTsKCQl9ZWxzZXsKCQkJc3VwZXJNdXNpY0hlbHBlciA9IGZ1bmN0aW9uQ29udHJvbGxlci5zdXBlck11c2ljSGVscGVyOwoJCX0KCQlpZighZnVuY3Rpb25Db250cm9sbGVyLmhhc093blByb3BlcnR5KCJhYnJvYWRWaWRlb0hlbHBlciIpKXsKCQkJZnVuY3Rpb25Db250cm9sbGVyLmFicm9hZFZpZGVvSGVscGVyID0gdHJ1ZTsKCQkJaXNVcGRhdGVTdG9yYWdlID0gdHJ1ZTsKCQl9ZWxzZXsKCQkJYWJyb2FkVmlkZW9IZWxwZXIgPSBmdW5jdGlvbkNvbnRyb2xsZXIuYWJyb2FkVmlkZW9IZWxwZXI7CgkJfQoJCWlmKCFmdW5jdGlvbkNvbnRyb2xsZXIuaGFzT3duUHJvcGVydHkoIndhbmdwYW5TZWFyY2hFbmdpbmVzSGVscGVyIikpewoJCQlmdW5jdGlvbkNvbnRyb2xsZXIud2FuZ3BhblNlYXJjaEVuZ2luZXNIZWxwZXIgPSB0cnVlOwoJCQlpc1VwZGF0ZVN0b3JhZ2UgPSB0cnVlOwoJCX1lbHNlewoJCQl3YW5ncGFuU2VhcmNoRW5naW5lc0hlbHBlciA9IGZ1bmN0aW9uQ29udHJvbGxlci53YW5ncGFuU2VhcmNoRW5naW5lc0hlbHBlcjsKCQl9CgkJaWYoIWZ1bmN0aW9uQ29udHJvbGxlci5oYXNPd25Qcm9wZXJ0eSgic2VhcmNoRW5naW5lc05hdmlnYXRpb24iKSl7CgkJCWZ1bmN0aW9uQ29udHJvbGxlci5zZWFyY2hFbmdpbmVzTmF2aWdhdGlvbiA9IHRydWU7CgkJCWlzVXBkYXRlU3RvcmFnZSA9IHRydWU7CgkJfWVsc2V7CgkJCXNlYXJjaEVuZ2luZXNOYXZpZ2F0aW9uID0gZnVuY3Rpb25Db250cm9sbGVyLnNlYXJjaEVuZ2luZXNOYXZpZ2F0aW9uOwoJCX0KCQlpZighZnVuY3Rpb25Db250cm9sbGVyLmhhc093blByb3BlcnR5KCJ6aGlodUhlbHBlciIpKXsKCQkJZnVuY3Rpb25Db250cm9sbGVyLnpoaWh1SGVscGVyID0gdHJ1ZTsKCQkJaXNVcGRhdGVTdG9yYWdlID0gdHJ1ZTsKCQl9ZWxzZXsKCQkJemhpaHVIZWxwZXIgPSBmdW5jdGlvbkNvbnRyb2xsZXIuemhpaHVIZWxwZXI7CgkJfQoJCWlmKGlzVXBkYXRlU3RvcmFnZSl7CgkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNc2V0VmFsdWUoInNldGluZ0RhdGEiLGZ1bmN0aW9uQ29udHJvbGxlcik7CgkJfQoJCXZhciBzZXRpbmdEYXRhPVsKCQkJeyJ0YWciOiJiaWxpYmlsaUhlbHBlciIsICJuYW1lIjoiQuermeS9v+eUqOWKqeaJiyjop4bpopHkuIvovb3lj69Q44CB5rWP6KeI6K6w5b2V44CB5LiA5Lu25LiJ6IGUKSIsICJjaGVja2VkIjpiaWxpYmlsaUhlbHBlcn0sCgkJCXsidGFnIjoiemhpaHVIZWxwZXIiLCAibmFtZSI6IuefpeS5juS9v+eUqOWKqeaJiyjlhoXlrrnmoIfor4bjgIHpl67nrZTmmL7npLrkvJjljJbjgIHop4bpopHkuIvovb3nrYkpIiwgImNoZWNrZWQiOnpoaWh1SGVscGVyfSwKCQkJeyJ0YWciOiJzdXBlclZpZGVvSGVscGVyIiwgIm5hbWUiOiLlhajnvZFWSVDop4bpopHop6PmnpAo5pSv5oyB54ix5aWH6Im644CB6IW+6K6v6KeG6aKR44CBQuermeeVquWJp+etiSkiLCAiY2hlY2tlZCI6c3VwZXJWaWRlb0hlbHBlcn0sCgkJCXsidGFnIjoic3VwZXJNdXNpY0hlbHBlciIsICJuYW1lIjoi5YWo572RVklQ6Z+z5LmQ6Kej5p6QKOaUr+aMgee9keaYk+S6kemfs+S5kOOAgVFR6Z+z5LmQ562JKSIsICJjaGVja2VkIjpzdXBlck11c2ljSGVscGVyfSwKCQkJeyJ0YWciOiJhYnJvYWRWaWRlb0hlbHBlciIsICJuYW1lIjoi5Zu95aSW6KeG6aKR6Kej5p6Q5LiL6L29KOaUr+aMgeayueeuoeOAgUZhY2Vib29r562JKSIsICJjaGVja2VkIjphYnJvYWRWaWRlb0hlbHBlcn0sCgkJCXsidGFnIjoid2FuZ3BhblNlYXJjaEVuZ2luZXNIZWxwZXIiLCAibmFtZSI6Iue9keebmOaQnOe0ouW8leaTjuegtOino+aXoOmZkOS4i+i9vSIsICJjaGVja2VkIjp3YW5ncGFuU2VhcmNoRW5naW5lc0hlbHBlcn0sCgkJCXsidGFnIjoic2VhcmNoRW5naW5lc05hdmlnYXRpb24iLCAibmFtZSI6IuaQnOe0ouW8leaTjui1hOa6kOWvvOiIqijpgILphY3nmb7luqbjgIEzNjDjgIHmkJzni5fjgIHlv4XlupTnrYkpIiwgImNoZWNrZWQiOnNlYXJjaEVuZ2luZXNOYXZpZ2F0aW9ufSwKCQldCgkJdmFyIGNvbnRlbnQgPSAiIjsKCQlmb3IodmFyIGk9MDsgaTxzZXRpbmdEYXRhLmxlbmd0aDtpKyspewoJCQl2YXIgb25lID0gc2V0aW5nRGF0YVtpXTsKCQkJY29udGVudCArPSBgCgkJCQk8ZGl2IHN0eWxlPSJwYWRkaW5nOiA1cHggMHB4OyI+CgkJCQkJPGlucHV0IHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDogMTVweDtoZWlnaHQ6IDE1cHg7ZGlzcGxheTogaW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IC13ZWJraXQtYXBwZWFyYW5jZTpjaGVja2JveDttYXJnaW4tYm90dG9tOiAzcHg7Y3Vyc29yOiBwb2ludGVyOyIgbmFtZT0iQ2hlY2tib3giIHR5cGU9ImNoZWNrYm94IiBkYXRhLXRhZz0iYCtvbmUudGFnK2AiIGArKG9uZS5jaGVja2VkID8gImNoZWNrZWQiIDogIiIpK2A+CgkJCQkJPGxhYmVsIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jaztmb250LXNpemU6IDE0cHg7bWFyZ2luOjNweCAwO3ZlcnRpY2FsLWFsaWduOiBtaWRkbGU7Zm9udC13ZWlnaHQ6NTAwO2NvbG9yOiMwMDA7Ij5gK29uZS5uYW1lK2A8L2xhYmVsPgoJCQkJPC9kaXY+CgkJCWAKCQl9CgkJcG9wdXAuZGlhbG9nKHsKCQkJInRpdGxlIjoi5Yqf6IO95byA5YWzIiwKCQkJImNvbnRlbnQiOmNvbnRlbnQsCgkJCSJvbkNvbnRlbnRSZWFkeSI6ZnVuY3Rpb24oJHRoYXQpewoJCQkJJHRoYXQuZGlhbG9nQ29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFt0eXBlPSdjaGVja2JveCddIikuZm9yRWFjaChmdW5jdGlvbihjaGVja2JveCl7CgkJCQkJY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbihlKXsKCQkJCQkJdmFyIHRhZyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgiZGF0YS10YWciKTsKCQkJCQkJdmFyIGNoZWNrZWQgPSBlLnRhcmdldC5jaGVja2VkOwoJCQkJCQlmdW5jdGlvbkNvbnRyb2xsZXJbdGFnXSA9IGNoZWNrZWQ7CgkJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNc2V0VmFsdWUoInNldGluZ0RhdGEiLGZ1bmN0aW9uQ29udHJvbGxlcik7CgkJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LndlYlRvYXN0KHsibWVzc2FnZSI6IuaTjeS9nOaIkOWKnyIsICJiYWNrZ3JvdW5kIjoiI0ZGNEQ0MCJ9KTsKCQkJCQl9KTsKCQkJCX0pCgkJCX0KCQl9KTsKCX0KCQoJaWYoY29tbW9uRnVuY3Rpb25PYmplY3QuaXNQQygpKXsKCQlHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCLlip/og73lvIDlhbMiLCgpPT51c2Vyc1NldGluZygpKTsKCX1lbHNlewoJCWZ1bmN0aW9uQ29udHJvbGxlci5iaWxpYmlsaUhlbHBlciA9IGZhbHNlOwoJCWZ1bmN0aW9uQ29udHJvbGxlci5hYnJvYWRWaWRlb0hlbHBlciA9IGZhbHNlOwoJCWZ1bmN0aW9uQ29udHJvbGxlci5zdXBlck11c2ljSGVscGVyID0gZmFsc2U7CgkJZnVuY3Rpb25Db250cm9sbGVyLndhbmdwYW5TZWFyY2hFbmdpbmVzSGVscGVyID0gZmFsc2U7CgkJZnVuY3Rpb25Db250cm9sbGVyLnNlYXJjaEVuZ2luZXNOYXZpZ2F0aW9uID0gZmFsc2U7CgkJZnVuY3Rpb25Db250cm9sbGVyLnpoaWh1SGVscGVyID0gZmFsc2U7Cgl9CgoJLyoqCgkgKiDotoXnuqfop6PmnpDliqnmiYvlip/og70KCSAqIAoJICog5Y6f5Luj56CB5L2c6ICF77ya5bCP6Im+54m5CgkgKiDohJrmnKzlnLDlnYDvvJpodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3NjcmlwdHMvNDA3ODQ3CgkgKiDop4bpopHop6PmnpDmjqXlj6PmnaXoh6rvvIzkvZzogIXvvJrmh5Llk4jlk4gKCSAqIOiEmuacrOWcsOWdgO+8mmh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy8zNzA2MzQKCSAqIOmBteW+qkFHUEwgTGljZW5zZeW8gOa6kOWNj+iurgoJICovCglmdW5jdGlvbiBzdXBlclZpZGVvSGVscGVyKG9yaWdpbmFsSW50ZXJmYWNlTGlzdCl7CgkJdGhpcy5vcmlnaW5hbEludGVyZmFjZUxpc3QgPSBvcmlnaW5hbEludGVyZmFjZUxpc3Q7CgkJdGhpcy5lbGVtZW50SWQgPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSoxMDAwMDAwMDApKyJtbXgiOwoJCXRoaXMuY3VzdG9tSW50ZXJmYWNlS2V5ID0gImN1c3RvbV9pbnRlcmZhY2Vfa2V5X2RkZHNkeHhhIjsKCQl0aGlzLnF1aWNrbHlJbnRlcmZhY2VLZXkgPSAiY3VzdG9tX3F1aWNrbHlfaW50ZXJmYWNlX2tleV9kZGRzZHh4YSI7CgkJdGhpcy5kZWZhdWx0UXVpY2tseUludGVyZmFjZUluZGV4ID0gMTsKCQl0aGlzLmlzUnVuID0gZnVuY3Rpb24oKXsgLy/liKTmlq3mmK/lkKbov5DooYwKCQkJY29uc3QgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0OwoJCQljb25zdCB1cmxzID0gWyJ3d3cuaXFpeWkuY29tIiwidi5xcS5jb20iLCJ5b3VrdS5jb20iLCAid3d3LmxlLmNvbSIsIm1ndHYuY29tIiwic29odS5jb20iLCAiYWNmdW4uY24iLCJiaWxpYmlsaS5jb20iLCJiYW9mZW5nLmNvbSIsInBwdHYuY29tIiwiMTkwNS5jb20iLCJtaWd1dmlkZW8uY29tIl07CgkJCXZhciByZXN1bHQgPSBmYWxzZTsKCQkJaWYoIWhvc3Quc3RhcnRzV2l0aCgibS4iKSl7IC8v5LiN5piv56e75Yqo56uv5omn6KGMCgkJCQlmb3IodmFyIGk9MDsgaTx1cmxzLmxlbmd0aDtpKyspeyAvL+S4jeaYr0Lnq5nnm7TmjqXliKTmlq0KCQkJCQlpZih3aW5kb3cubG9jYXRpb24uaG9zdC5pbmRleE9mKCJiaWxpYmlsaS5jb20iKT09LTEpewoJCQkJCQlpZih3aW5kb3cubG9jYXRpb24uaG9zdC5pbmRleE9mKHVybHNbaV0pIT0tMSl7CgkJCQkJCQlyZXN1bHQgPSB0cnVlOwoJCQkJCQkJYnJlYWs7CgkJCQkJCX0KCQkJCQl9ZWxzZXsKCQkJCQkJaWYod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigid3d3LmJpbGliaWxpLmNvbS9iYW5ndW1pL3BsYXkiKSE9LTEpeyAvL+aYr0Lnq5nlj6rmnInnlarliafmiY3lvIDlkK9WSVDop6PmnpAKCQkJCQkJCXJlc3VsdCA9IHRydWU7CgkJCQkJCQlicmVhazsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfQoJCQlyZXR1cm4gcmVzdWx0OwoJCX07CgkJdGhpcy5zaG93UGxheWVyV2luZG93ID0gZnVuY3Rpb24ocGxheU9iamVjdCl7CS8v5pi+56S65pKt5pS+56qX5Y+jCgkJCXZhciB1cmwgPSBwbGF5T2JqZWN0LnVybCArIHdpbmRvdy5sb2NhdGlvbi5ocmVmOwoJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTW9wZW5JblRhYih1cmwsIGZhbHNlKTsKCQl9OwoJCXRoaXMuYW5hbHlzaXNDdXN0b21JbnRlcmZhY2UgPSBmdW5jdGlvbigpeyAvL+iHquWumuS5ieaOpeWPo+ino+aekAoJCQl2YXIgY3VzdG9tSW50ZXJmYWNlID0gY29tbW9uRnVuY3Rpb25PYmplY3QuR01nZXRWYWx1ZSh0aGlzLmN1c3RvbUludGVyZmFjZUtleSwiIik7CgkJCWlmKCEhY3VzdG9tSW50ZXJmYWNlKXsKCQkJCXRyeXsKCQkJCQl2YXIgY3VzdG9taXplSW50ZXJmYWNlTGlzdCA9IG5ldyBBcnJheSgpOwoJCQkJCXZhciBhbmFseXNpc0FycmF5ID0gY3VzdG9tSW50ZXJmYWNlLnNwbGl0KCJcbiIpOwoJCQkJCWZvcih2YXIgaT0wO2k8YW5hbHlzaXNBcnJheS5sZW5ndGg7aSsrKXsKCQkJCQkJdmFyIG9uZVBpZWNlID0gYW5hbHlzaXNBcnJheVtpXTsKCQkJCQkJaWYoISFvbmVQaWVjZSAmJiBvbmVQaWVjZS5pbmRleE9mKCIsIikhPS0xKXsKCQkJCQkJCXZhciBvbmVQaWVjZUFycmF5ID0gb25lUGllY2Uuc3BsaXQoIiwiKTsgCgkJCQkJCQkKCQkJCQkJCWlmKG9uZVBpZWNlQXJyYXkubGVuZ3RoPT0yICYmICEhb25lUGllY2VBcnJheVswXSAmJiAvKGh0dHB8aHR0cHMpOlwvXC9cUyovLnRlc3Qob25lUGllY2VBcnJheVsxXSkpewoJCQkJCQkJCWN1c3RvbWl6ZUludGVyZmFjZUxpc3QucHVzaCh7Im5hbWUiOiIiK29uZVBpZWNlQXJyYXlbMF0rIiIsInVybCI6IiIrb25lUGllY2VBcnJheVsxXSsiIiwgInNob3dUeXBlIjoxfSk7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgkJCQkJdGhpcy5vcmlnaW5hbEludGVyZmFjZUxpc3QgPSBjdXN0b21pemVJbnRlcmZhY2VMaXN0LmNvbmNhdCh0aGlzLm9yaWdpbmFsSW50ZXJmYWNlTGlzdCk7CgkJCQl9Y2F0Y2goZSl7fQoJCQl9CgkJfTsKCQl0aGlzLmdldFF1aWNrbHlJbnRlcmZhY2VJbmRleCA9IGZ1bmN0aW9uKCl7CgkJCXZhciBxdWlja2x5SW50ZXJmYWNlSW5kZXhTdHJpbmcgPSBjb21tb25GdW5jdGlvbk9iamVjdC5HTWdldFZhbHVlKHRoaXMucXVpY2tseUludGVyZmFjZUtleSwiIikrIiI7CgkJCXZhciBxdWlja2x5SW50ZXJmYWNlSW5kZXggPSB0aGlzLmRlZmF1bHRRdWlja2x5SW50ZXJmYWNlSW5kZXg7CgkJCWlmKCEhcXVpY2tseUludGVyZmFjZUluZGV4U3RyaW5nKXsKCQkJCXF1aWNrbHlJbnRlcmZhY2VJbmRleCA9IHBhcnNlSW50KHF1aWNrbHlJbnRlcmZhY2VJbmRleFN0cmluZyk7CgkJCX0KCQkJaWYodGhpcy5vcmlnaW5hbEludGVyZmFjZUxpc3QubGVuZ3RoLTE8cXVpY2tseUludGVyZmFjZUluZGV4KXsKCQkJCXF1aWNrbHlJbnRlcmZhY2VJbmRleCA9IHRoaXMuZGVmYXVsdFF1aWNrbHlJbnRlcmZhY2VJbmRleDsKCQkJfQoJCQlyZXR1cm4gcXVpY2tseUludGVyZmFjZUluZGV4OwoJCX07CgkJdGhpcy5hZGRIdG1sRWxlbWVudHMgPSBmdW5jdGlvbigpeyAgLy/mt7vliqBIVE1MCgkJCWNvbnN0IHZpcFZpZGVvSW1hZ2VCYXNlNjQgPSAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFEQUFBQUF3Q0FZQUFBQlhBdm1IQUFBQzlrbEVRVlJvUSsyWlBXZ1ZRUkRILzcvQ1dxT0lZT0ZIRmJSU2pKaEdNR0RwQnlvSWFnbzcwY3F2VXRRZ2RpcFdGcWF3TVdnaEdJaWRoY0hLUUFKcUVVUkJSZkVEMUNDQ2pjM0lQdTRlbTMxNzc1SjdkM204Y0F0WDNPN3N6UDduUHpzeng2RWVIL1Q0K1ZVRDZEYURUUWJNYkUrM0Q3TVkrOENra3c4QlBGdU1raTdLRHRVQXV1aDlaM29aTXRCbGp4WTJYOWVCd3E0cmFXUE5RRW1PTEt4bStUQmdacXNrblExZEFWek5jbytaaFdzbTZaYWtIWkxDMW1ReXJaNU9YMlJ2ek14blNhOGx6UUovWXdMekdEQ3plNUpPZW9JL2diVnRBTXhKNnZQVzd3S25rcjRxYkV1YXhjY0RjR1dCc2ZOVjBtak1tU0dBZzVMR0E2WGJnRmVoSVRQYkxlbDVNTjg0WkFVQVVqTVBnV08relpZN1lHYnZKVzBPdlJvQjhFalNFVzkrQmhoSXZPdkNwMHdHZlBQYmdaZnBSQXpBVFVubjU2R0VtSnlMZDM5Y0JOeGVGOTlGQURUYTQyQnNrdVFlZjR3RGg5b0IyQ1hwUmJEcE1QQTRuVE96MDVMdUJETHJnVytkQUFDR0lreGZrSFREbS84RHJNd0VrQnhnT3Nra3Fkd0VjTUFENEdMZjNZRjBQQUNPZSt1RkdNZ0E0Qmo0RUFBYkFHYmNYTFFPbU5rbFNkZUNUUnVCVDJiV0wrbE5zTFlmZUZJUmdIMlNKZ0o3R3dDWFlqTUJySmIwSzlqVWlIRXpHNUYwMlZ1YkE5YjRza1h2UU1pQW1XMlZkRlNTbjI0L0FzMGtrMW1KemV5cHBMM2V3YWFCbldZMksybUxOejhTNXVlQ0FNTHd6M3EvRFp4cmV3ZVNlM0JDMHYxQWk3dGtZWHJzQjk2V3dNQkNBZlFCdjNNQkpDRCtTVnJoYVhhWjU0ejNQZ1VNaHBZclpLQ0Y3YmJObkprNUJod1Q2ZmdoeVc4dGhvR3hpZ0U0bXk2dFh3ZW1RbHQ1QUdJMW9hbURTSUZMbUN1VVJpVzVCT0dQTDhDN2RyR1YyMDZiMlhkSjZ5Skt4b0RobVBLQ0llUzYxWlpDbG5jeEZnTEF0Y3l4cm5Fd1Jta25ERlFGSUZZVFduSi9DVm1vR2dZU2o3WjgxT1I4NkxnN3NPZ1Btblk2czBJcE40VHlZckRiNnpXQW1vRU9QVkNIVUljTzdIaDcvWWVtWXhjV1U3QU1mM0JrTkdERi9GUDlya3dHcWpkZGtvV1d2NVFsNlYxeU5YVWRXSEtYQndaN25vSC9kUCtIUU5xaGVUb0FBQUFBU1VWT1JLNUNZSUk9IjsKCQkJY29uc3QgcXVpY2tseUJhc2U2NCA9ICJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQVlBQUFCemVucjBBQUFBQVhOU1IwSUFyczRjNlFBQUF2MUpSRUZVV0VmRmwwMklWV1VZeDM5L0VEZEtvQ2lDR1lxdXhOdzQwNFFMK3dBL3dJVWZBNWx1TW90azBqR29pRFFGdjFvTXFDQ09Ga1lRdG9wY3pLeE1Hc1VVRjJiTktzV0ZLQnJvSnRMSTJxandsK2R5N3VWNDdqbm5ubnRueWdjT0Y5N25mZDcvNzc3bmZaN25QZUlabThaYjMvWnNZQkV3RTVnRnpBR21BWDhsejkvQUEwbDdRbnZjQUd3dkJkNEUxZ09USy95eHZRRXhaZ0RiYndIdkFxOVVFRTFQT1N6cHd6RUIyRDRLYkcxVHVENzlHMG52ZEF4ZysyZWdwMFB4Q0J1UzFOc1JnRzJQUWJnZWVsYlMwcllCYko4RFhpc0F1QWRjQjJZa3A3K004enRKR3lvRDJINEorQXhZVTdEcW9LUVA2ajdiMjRBakpRUURrbmFVQXRpZUR2UW16L0tTeFVZa05mbHR4MDdGanVWWnY2UmpoUUMyMXdJSGdIa1YzdmMyU1pFUlRXYjdkK0NGSEZldnBLRmNBTnZ2QTE5VUVLNVBXU25waHdLQVM4RExHZDgvd0l1U2JqY0IySTRTdWJzTjhaajZpYVNEQlFCL0FsTXp2cThsdlJkalR3RWs1WFNrVGZIYWRFbDVmeVlPWVJ6R3JDMlRkT1lwQU52ZHdDK2RpS2RpdGdOWGt4UmNCU3pMV2UrQ3BGZnI0dzFxMjFlQUJabUF4OERGa3J6dmhIZWpwRy96QVBxU2JoYUN0VWZTdjdZSGdFODdVY3FKT1NhcFB6MWVxUkRaL2g1NFk0d1FseVZsczZINmZjRDJyMEJYcHhCNWg3UXBDMW90Ymp0cS9aUlc4ekwrbnlTOVhoVFRxaFIzU1JwTkI5dStrMXkzcW5BTVM0cUtXbWhGbFhBbHNDL1o4bHZBaWZvZExsYXlQUXlzcmtEUUk2azB0Zk9LeDBUZ0dqQTNJN0JPMHNuNm1PMUR3RWNsRUQ5S1d0RUtNZy9nT0xBNUovQ3VwT2N6cnlOMmFVbEJuZWlURkd1VldyWVVSNnBGeWhWWmQ4NlplQVJNeUFUY0FCWkwrcU15Z08wNDNlZUJoUVZCbzVLaVhEZk05aVFnT2x2V2FxMjJsWGo0MDZYNGMyQm5RZEROYUNxU1RtVUE0aDJmenNSc2tmUmxGZkVHZ08zNVFQVHQ1M0lDdjByRUgyWjl0dmNEdTFManRZK05xdUpwZ0xoOHhDVWtiYjhCKzlNblB3Y2dmVUZ0dE5oT0FOSUx4YmZiSUhCSTB2Mnl4V3gvREd3QzNwWVVwYnB0cTUyQjVCWVVQVHJ5UDI2MzhmdS9XS1Z1K0YrU1BBRzdsL3doNE5zSk9RQUFBQUJKUlU1RXJrSmdnZz09IjsKCQkJY29uc3QgY3VycmVudEhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdDsKCQkJCgkJCWNvbnN0IHF1aWNrbHlJbnRlcmZhY2VJbmRleCA9IHRoaXMuZ2V0UXVpY2tseUludGVyZmFjZUluZGV4KCk7CgkJCXZhciBjdXJyZW50UXVpY2tseUludGVyZmFjZU9iamVjdCA9IG51bGw7CgkJCQoJCQl2YXIgY2F0ZWdvcnlfMV9odG1sID0gIiI7CgkJCXRoaXMub3JpZ2luYWxJbnRlcmZhY2VMaXN0LmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7CgkJCQlpZihpdGVtLnNob3dUeXBlICE9IDIpewoJCQkJCXZhciBzZWxlY3RlZCA9ICIiCgkJCQkJaWYoaW5kZXg9PXF1aWNrbHlJbnRlcmZhY2VJbmRleCl7CgkJCQkJCXNlbGVjdGVkID0gInNlbGVjdGVkIjsKCQkJCQkJY3VycmVudFF1aWNrbHlJbnRlcmZhY2VPYmplY3QgPSAgaXRlbTsKCQkJCQl9CgkJCQkJY2F0ZWdvcnlfMV9odG1sICs9ICI8c3BhbiB0aXRsZT0nIitpdGVtLm5hbWUrIicgZGF0YS1pbmRleD0nIitpbmRleCsiJyBjbGFzcz0nIitzZWxlY3RlZCsiJz4iICsgaXRlbS5uYW1lICsgIjwvc3Bhbj4iOwoJCQkJfQoJCQl9KTsKCQkJCgkJCS8v6I635b6X6Ieq5a6a5LmJ5L2N572uCgkJCXZhciBsZWZ0ID0gMDsKCQkJdmFyIHRvcCA9IDEyMDsKCQkJdmFyIFBvc2l0aW9uID0gY29tbW9uRnVuY3Rpb25PYmplY3QuR01nZXRWYWx1ZSgiUG9zaXRpb25fIiArIGN1cnJlbnRIb3N0KTsKCQkJaWYoISFQb3NpdGlvbil7CgkJCQlsZWZ0ID0gUG9zaXRpb24ubGVmdDsKCQkJCXRvcCA9IFBvc2l0aW9uLnRvcDsKCQkJfQoJCQl2YXIgY29sb3IgPSAiI0ZGNEQ0MCI7CgkJCXZhciBob3ZlckNvbG9yID0gIiMwMDAwMDAiOwoJCQlpZihjdXJyZW50SG9zdC5pbmRleE9mKCJiaWxpYmlsaS5jb20iKSE9LTEpeyAvL+iHquWumuS5ieS4u+mimAoJCQkJY29sb3IgPSAiI2ZiNzI5OSI7CgkJCQlob3ZlckNvbG9yID0gIiMwMEIwRTEiOwoJCQl9CgkJCXZhciBjc3NNb3VsZCA9IGAjdmlwX21vdmllX2JveGArdGhpcy5lbGVtZW50SWQrYHtjdXJzb3I6cG9pbnRlcjsgcG9zaXRpb246Zml4ZWQ7IHRvcDpgICsgdG9wICsgYHB4OyBsZWZ0OmAgKyBsZWZ0ICsgYHB4OyB3aWR0aDowcHg7IHotaW5kZXg6OTk5OTk5OTk7IGZvbnQtc2l6ZToxNnB4OyB0ZXh0LWFsaWduOmxlZnQ7fQoJCQkJCQkJI3ZpcF9tb3ZpZV9ib3hgK3RoaXMuZWxlbWVudElkK2AgLmltZ19ib3hgK3RoaXMuZWxlbWVudElkK2B7d2lkdGg6MjRweDsgaGVpZ2h0OjMycHg7bGluZS1oZWlnaHQ6MzJweDt0ZXh0LWFsaWduOmNlbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOmArY29sb3IrYDt9CgkJCQkJCQkjdmlwX21vdmllX2JveGArdGhpcy5lbGVtZW50SWQrYCAuaW1nX2JveGArdGhpcy5lbGVtZW50SWQrYDpob3ZlcnsKCQkJCQkJCQliYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMzBkZWcsICMyYTY2ZmYgNDAlLCBgK2NvbG9yK2ApOwoJCQkJCQkJfQoJCQkJCQkJI3ZpcF9tb3ZpZV9ib3hgK3RoaXMuZWxlbWVudElkK2AgLmltZ19ib3hgK3RoaXMuZWxlbWVudElkK2A+aW1nIHt3aWR0aDoyMHB4OyBkaXNwbGF5OmlubGluZS1ibG9jazsgdmVydGljYWwtYWxpZ246bWlkZGxlO30KCQkJCQkJCQoJCQkJCQkJI3ZpcF9tb3ZpZV9ib3hgK3RoaXMuZWxlbWVudElkK2AgLnNob3doaWRlX2JveGArdGhpcy5lbGVtZW50SWQrYHtkaXNwbGF5Om5vbmU7cGFkZGluZy1sZWZ0OjVweDtwb3NpdGlvbjogYWJzb2x1dGU7bGVmdDogMjRweDt0b3A6IDA7fQoJCQkJCQkJI3ZpcF9tb3ZpZV9ib3hgK3RoaXMuZWxlbWVudElkK2AgLnZpcF9tb2RfYm94X2FjdGlvbl82ODdpaXt3aWR0aDozODBweDsgbWF4LWhlaWdodDo0MDBweDsgb3ZlcmZsb3cteTphdXRvO2JhY2tncm91bmQtY29sb3I6cmdiYSgyNDEsMjQxLDI0MSk7fQoJCQkJCQkJI3ZpcF9tb3ZpZV9ib3hgK3RoaXMuZWxlbWVudElkK2AgLmRlZmF1bHQtc2Nyb2xsYmFyLTU1Njc4Ojotd2Via2l0LXNjcm9sbGJhcnt3aWR0aDo1cHg7IGhlaWdodDoxcHg7fQoJCQkJCQkJI3ZpcF9tb3ZpZV9ib3hgK3RoaXMuZWxlbWVudElkK2AgLmRlZmF1bHQtc2Nyb2xsYmFyLTU1Njc4Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYntib3gtc2hhZG93Omluc2V0IDAgMCA1cHggcmdiYSgwLCAwLCAwLCAwLjIpOyBiYWNrZ3JvdW5kOiNBOEE4QTg7fQoJCQkJCQkJI3ZpcF9tb3ZpZV9ib3hgK3RoaXMuZWxlbWVudElkK2AgLmRlZmF1bHQtc2Nyb2xsYmFyLTU1Njc4Ojotd2Via2l0LXNjcm9sbGJhci10cmFja3tib3gtc2hhZG93Omluc2V0IDAgMCA1cHggcmdiYSgwLCAwLCAwLCAwLjIpOyBiYWNrZ3JvdW5kOiNGMUYxRjE7fQoJCQkJCQkJCgkJCQkJCQkjdmlwX21vdmllX2JveGArdGhpcy5lbGVtZW50SWQrYCAudmlwX21vZF9ib3hfYWN0aW9uXzY4N2lpPiAuaXRlbV9ib3hgK3RoaXMuZWxlbWVudElkK2B7bWFyZ2luLWJvdHRvbToxMHB4O30KCQkJCQkJCSN2aXBfbW92aWVfYm94YCt0aGlzLmVsZW1lbnRJZCtgIC52aXBfbW9kX2JveF9hY3Rpb25fNjg3aWk+IC5pdGVtX2JveGArdGhpcy5lbGVtZW50SWQrYDpsYXN0LWNoaWxke21hcmdpbi1ib3R0b206MHB4O30KCQkJCQkJCSN2aXBfbW92aWVfYm94YCt0aGlzLmVsZW1lbnRJZCtgIC52aXBfbW9kX2JveF9hY3Rpb25fNjg3aWk+IC5pdGVtX2JveGArdGhpcy5lbGVtZW50SWQrYCA+LnRpdGxlYCt0aGlzLmVsZW1lbnRJZCtge2ZvbnQtc2l6ZToxNHB4OyB0ZXh0LWFsaWduOmxlZnQ7Y29sb3I6IzAwMDAwMDtmb250LXdlaWdodDo2MDA7bWFyZ2luOjVweCAzcHg7fQoJCQkJCQkJI3ZpcF9tb3ZpZV9ib3hgK3RoaXMuZWxlbWVudElkK2AgLnZpcF9tb2RfYm94X2FjdGlvbl82ODdpaT4gLml0ZW1fYm94YCt0aGlzLmVsZW1lbnRJZCtgID4uaW50ZXJmYWNlX2JveGArdGhpcy5lbGVtZW50SWQrYHt9CgkJCQkJCQkjdmlwX21vdmllX2JveGArdGhpcy5lbGVtZW50SWQrYCAudmlwX21vZF9ib3hfYWN0aW9uXzY4N2lpPiAuaXRlbV9ib3hgK3RoaXMuZWxlbWVudElkK2AgPi5pbnRlcmZhY2VfYm94YCt0aGlzLmVsZW1lbnRJZCtgPnNwYW57Ym9yZGVyLXJhZGl1czozcHg7Ym9yZGVyLXRvcDozcHggc29saWQgYCtjb2xvcitgOyBib3JkZXItYm90dG9tOjNweCBzb2xpZCBgK2NvbG9yK2A7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6Y2FsYygyNSUgLSA2cHgpO3dpZHRoOi1tb3otY2FsYygyNSUgLSA2cHgpO3dpZHRoOiAtd2Via2l0LWNhbGMoMjUlIC0gNnB4KTtoZWlnaHQ6MjBweDtsaW5lLWhlaWdodDoyMHB4O2JhY2tncm91bmQtY29sb3I6YCtjb2xvcitgO2NvbG9yOiNGRkY7Y3Vyc29yOnBvaW50ZXI7bWFyZ2luOjNweDt0ZXh0LWFsaWduOmNlbnRlcjtvdmVyZmxvdzpoaWRkZW47d2hpdGUtc3BhY2U6IG5vd3JhcDt0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczstby10ZXh0LW92ZXJmbG93OmVsbGlwc2lzO2ZvbnQtc2l6ZToxMnB4IWltcG9ydGFudDt9CQkJCQkJCQoJCQkJCQkJI3ZpcF9tb3ZpZV9ib3hgK3RoaXMuZWxlbWVudElkK2AgLnZpcF9tb2RfYm94X2FjdGlvbl82ODdpaT4gLml0ZW1fYm94YCt0aGlzLmVsZW1lbnRJZCtgID4uaW50ZXJmYWNlX2JveGArdGhpcy5lbGVtZW50SWQrYD5zcGFuOmhvdmVye2JvcmRlci10b3A6M3B4IHNvbGlkIGAraG92ZXJDb2xvcitgOyBib3JkZXItYm90dG9tOjNweCBzb2xpZCBgK2hvdmVyQ29sb3IrYDt9CgkJCQkJCQkjdmlwX21vdmllX2JveGArdGhpcy5lbGVtZW50SWQrYCAudmlwX21vZF9ib3hfYWN0aW9uXzY4N2lpPiAuaXRlbV9ib3hgK3RoaXMuZWxlbWVudElkK2AgPi5pbnRlcmZhY2VfYm94YCt0aGlzLmVsZW1lbnRJZCtgPnNwYW4uc2VsZWN0ZWR7Ym9yZGVyLXRvcDozcHggc29saWQgYCtob3ZlckNvbG9yK2A7IGJvcmRlci1ib3R0b206M3B4IHNvbGlkIGAraG92ZXJDb2xvcitgO30KCQkJCQkJCSN2aXBfbW92aWVfYm94YCt0aGlzLmVsZW1lbnRJZCtgIC52aXBfbW9kX2JveF9hY3Rpb25fNjg3aWk+IC5pdGVtX2JveGArdGhpcy5lbGVtZW50SWQrYCA+LmNvbnRlbnRgK3RoaXMuZWxlbWVudElkK2B7Zm9udC1zaXplOjEycHg7Y29sb3I6IzAwMDAwMDttYXJnaW4tbGVmdDozcHg7fQoJCQkJCQkJYAoJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTWFkZFN0eWxlKGNzc01vdWxkKTsKCQkJCgkJCS8v5Yqg5YWlSFRNTAoJCQl2YXIgaHRtbE1vdWxkID0gYDxkaXYgaWQ9J3ZpcF9tb3ZpZV9ib3hgK3RoaXMuZWxlbWVudElkK2AnPgoJCQkJCQkJCTxkaXYgY2xhc3M9J3BsdWdpbl9pbm5lcl9gK3RoaXMuZWxlbWVudElkK2AnPgoJCQkJCQkJCQk8ZGl2IGNsYXNzPSJpbWdfYm94YCt0aGlzLmVsZW1lbnRJZCtgIiBpZD0iaW1nX2JveF9qdW1wXzY2Njc4OTdpaW8iPjxpbWcgc3JjPSdgKyB2aXBWaWRlb0ltYWdlQmFzZTY0ICtgJyB0aXRsZT0n6YCJ5oup6Kej5p6Q57q/6LevJy8+PC9kaXY+CgkJCQkJCQkJCTxkaXYgY2xhc3M9J3Nob3doaWRlX2JveGArdGhpcy5lbGVtZW50SWQrYCc+CQkJCQkJCQkJCgkJCQkJCQkJCQk8ZGl2IGNsYXNzPSd2aXBfbW9kX2JveF9hY3Rpb25fNjg3aWkgZGVmYXVsdC1zY3JvbGxiYXItNTU2NzgnPgoJCQkJCQkJCQkJCTxkaXYgY2xhc3M9J2l0ZW1fYm94YCt0aGlzLmVsZW1lbnRJZCtgJz4KCQkJCQkJCQkJCQkJPGRpdiBjbGFzcz0ndGl0bGVgK3RoaXMuZWxlbWVudElkK2AnPjxiPuaOpeWPo+a3u+WKoDwvYj48L2Rpdj4KCQkJCQkJCQkJCQkJPGRpdiBjbGFzcz0nY29udGVudGArdGhpcy5lbGVtZW50SWQrYCc+CgkJCQkJCQkJCQkJCQnlr7nnjrDmnInmjqXlj6PkuI3mu6HmhI/vvJ/lj6/mt7vliqDoh6rlrprkuYnmjqXlj6Plk59+PHNwYW4gaWQ9ImltZ19zZXRfNjY2Nzg5N2lpbyIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO2JvcmRlci1yYWRpdXM6MnB4O21hcmdpbi1sZWZ0OjVweDtwYWRkaW5nOjNweCA1cHg7YmFja2dyb3VuZC1jb2xvcjojQ0NDO2N1cnNvcjpwb2ludGVyOyI+5re75Yqg5o6l5Y+jPC9zcGFuPgoJCQkJCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCQkJCQk8ZGl2IGNsYXNzPSdpdGVtX2JveGArdGhpcy5lbGVtZW50SWQrYCc+CgkJCQkJCQkJCQkJCTxkaXYgY2xhc3M9J2ludGVyZmFjZV9ib3hgK3RoaXMuZWxlbWVudElkK2AnPgoJCQkJCQkJCQkJCQkJYCArIGNhdGVnb3J5XzFfaHRtbCArIGAKCQkJCQkJCQkJCQkJPC9kaXY+CgkJCQkJCQkJCQkJPC9kaXY+CgkJCQkJCQkJCQkJPGRpdiBjbGFzcz0naXRlbV9ib3hgK3RoaXMuZWxlbWVudElkK2AnPgoJCQkJCQkJCQkJCQk8ZGl2IGNsYXNzPSd0aXRsZWArdGhpcy5lbGVtZW50SWQrYCc+PGI+5YWN6LSj5aOw5piO77yaPC9iPjwvZGl2PgoJCQkJCQkJCQkJCQk8ZGl2IGNsYXNzPSdjb250ZW50YCt0aGlzLmVsZW1lbnRJZCtgJz4KCQkJCQkJCQkJCQkJCTHjgIFWSVDop4bpopHop6PmnpDkuK3miYDnlKjliLDnmoTop6PmnpDmjqXlj6Plhajpg6jmlLbpm4boh6rkupLogZTnvZHvvIjmupDnoIHlj6/op4HvvInvvIzniYjmnYPpl67popjor7fogZTns7vnm7jlhbPop6PmnpDmjqXlj6PmiYDmnInogIXvvIzohJrmnKzkuI3mib/mi4Xnm7jlhbPotKPku7vvvIEiPGJyPgoJCQkJCQkJCQkJCQkJMuOAgeS4uuWIm+mAoOiJr+WlveeahOWIm+S9nOawm+WbtO+8jOivt+Wkp+WutuaUr+aMgeato+eJiO+8gTxicj4KCQkJCQkJCQkJCQkJCTPjgIHohJrmnKzku4XpmZDkuKrkurrlrabkuaDkuqTmtYHvvIzkvb/nlKjljbPlt7Lku6Pooajmgqjlt7Lnu4/lhYXliIbkuobop6Pnm7jlhbPpl67popjvvIzlkKbliJnlkI7mnpzoh6rotJ/vvIznibnmraTlo7DmmI7vvIE8YnI+CgkJCQkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCQkJPC9kaXY+CgkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCTxkaXYgY2xhc3M9ImltZ19ib3hgK3RoaXMuZWxlbWVudElkK2AiIGlkPSJpbWdfcXVpY2tseV82NjY3ODk3aWlvIj48aW1nIHNyYz0nYCtxdWlja2x5QmFzZTY0K2AnIHRpdGxlPSflv6vpgJ/lvIDlp4so5b2T5YmN5omA6YCJ5o6l5Y+j77yaYCtjdXJyZW50UXVpY2tseUludGVyZmFjZU9iamVjdC5uYW1lK2ApJy8+PC9kaXY+CgkJCQkJCQk8L2Rpdj4KCQkJCQkJCWA7CgkJCSQoImJvZHkiKS5hcHBlbmQoaHRtbE1vdWxkKTsKCQl9OwoJCXRoaXMucnVuRXZlbnQgPSBmdW5jdGlvbigpewkgLy/kuovku7bov5DooYwKCQkJdmFyIHRoYXQgPSB0aGlzOwoJCQkkKCIjdmlwX21vdmllX2JveCIrdGhpcy5lbGVtZW50SWQrIiA+LnBsdWdpbl9pbm5lcl8iK3RoaXMuZWxlbWVudElkKS5vbigibW91c2VvdmVyIiwgKCkgPT4gewoJCQkJJCgiLnNob3doaWRlX2JveCIrdGhpcy5lbGVtZW50SWQpLnNob3coKTsKCQkJfSk7CgkJCSQoIiN2aXBfbW92aWVfYm94Iit0aGlzLmVsZW1lbnRJZCsiID4ucGx1Z2luX2lubmVyXyIrdGhpcy5lbGVtZW50SWQpLm9uKCJtb3VzZW91dCIsICgpID0+IHsKCQkJCSQoIi5zaG93aGlkZV9ib3giK3RoaXMuZWxlbWVudElkKS5oaWRlKCk7CgkJCX0pOwoJCQkkKCJib2R5Iikub24oImNsaWNrIiwiI3ZpcF9tb3ZpZV9ib3giK3RoaXMuZWxlbWVudElkKyIgLnZpcF9tb2RfYm94X2FjdGlvbl82ODdpaT4uaXRlbV9ib3giK3RoaXMuZWxlbWVudElkKyI+LmludGVyZmFjZV9ib3giK3RoaXMuZWxlbWVudElkKyI+c3BhbiIsZnVuY3Rpb24oKXsKCQkJCXZhciBpbmRleCA9IHBhcnNlSW50KCQodGhpcykuYXR0cigiZGF0YS1pbmRleCIpKTsKCQkJCXZhciBwbGF5T2JqZWN0ID0gdGhhdC5vcmlnaW5hbEludGVyZmFjZUxpc3RbaW5kZXhdOwoJCQkJdGhhdC5zaG93UGxheWVyV2luZG93KHBsYXlPYmplY3QpOwoJCQkJCgkJCQkkKCIjdmlwX21vdmllX2JveCIrdGhhdC5lbGVtZW50SWQrIiAudmlwX21vZF9ib3hfYWN0aW9uXzY4N2lpPiAuaXRlbV9ib3giK3RoYXQuZWxlbWVudElkKyI+LmludGVyZmFjZV9ib3giK3RoYXQuZWxlbWVudElkKyI+c3BhbiIpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpOwoJCQkJJCh0aGlzKS5hZGRDbGFzcygic2VsZWN0ZWQiKTsKCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNc2V0VmFsdWUodGhhdC5xdWlja2x5SW50ZXJmYWNlS2V5LCBpbmRleCk7CgkJCQkKCQkJCSQoIiNpbWdfcXVpY2tseV82NjY3ODk3aWlvIikuZmluZCgiaW1nIikuYXR0cigidGl0bGUiLCLlv6vpgJ/lvIDlp4so5b2T5YmN5omA6YCJ5o6l5Y+j77yaIitwbGF5T2JqZWN0Lm5hbWUrIikiKTsKCQkJfSk7CgkJCQkJCQoJCQkvL+eCueWHu+inhumikeaSreaUvueVjOmdogoJCQkkKCIjaW1nX2JveF9qdW1wXzY2Njc4OTdpaW8iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpewoJCQkJY29tbW9uRnVuY3Rpb25PYmplY3QuR01vcGVuSW5UYWIoImh0dHBzOi8vbGFpc295aWJhLmNvbS9tb3Yvcy8/c3Y9MyZ1cmw9Iit3aW5kb3cubG9jYXRpb24uaHJlZiwgZmFsc2UpOwoJCQl9KTsKCQkJCgkJCS8v54K55Ye75by55Ye66K6+572u5qGGCgkJCSQoIiNpbWdfc2V0XzY2Njc4OTdpaW8iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpewoJCQkJdGhhdC5zaG93U2V0aW5nRGlhbG9nKCk7CgkJCX0pOwoJCQkKCQkJJCgiI2ltZ19xdWlja2x5XzY2Njc4OTdpaW8iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpewoJCQkJY29uc3QgcXVpY2tseUludGVyZmFjZUluZGV4ID0gdGhhdC5nZXRRdWlja2x5SW50ZXJmYWNlSW5kZXgoKTsKCQkJCXZhciBwbGF5T2JqZWN0ID0gdGhhdC5vcmlnaW5hbEludGVyZmFjZUxpc3RbcXVpY2tseUludGVyZmFjZUluZGV4XTsKCQkJCXRoYXQuc2hvd1BsYXllcldpbmRvdyhwbGF5T2JqZWN0KTsKCQkJfSk7CgkJCQoJCQkvL+WPs+mUruenu+WKqOS9jee9rgoJCQl2YXIgbW92aWVfYm94ID0gJCgiI3ZpcF9tb3ZpZV9ib3giK3RoaXMuZWxlbWVudElkKTsKCQkJbW92aWVfYm94Lm1vdXNlZG93bihmdW5jdGlvbihlKSB7CgkJCQlpZiAoZS53aGljaCA9PSAzKSB7CgkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpCgkJCQkJbW92aWVfYm94LmNzcygiY3Vyc29yIiwgIm1vdmUiKTsKCQkJCQl2YXIgcG9zaXRpb25EaXYgPSAkKHRoaXMpLm9mZnNldCgpOwoJCQkJCXZhciBkaXN0ZW5jZVggPSBlLnBhZ2VYIC0gcG9zaXRpb25EaXYubGVmdDsKCQkJCQl2YXIgZGlzdGVuY2VZID0gZS5wYWdlWSAtIHBvc2l0aW9uRGl2LnRvcDsKCQkJCQkKCQkJCQkkKGRvY3VtZW50KS5tb3VzZW1vdmUoZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgeCA9IGUucGFnZVggLSBkaXN0ZW5jZVg7CgkJCQkJCXZhciB5ID0gZS5wYWdlWSAtIGRpc3RlbmNlWTsKCQkJCQkJdmFyIHdpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7CgkJCQkJCXZhciB3aW5kb3dIZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7CgkJCQkJCQoJCQkJCQlpZiAoeCA8IDApIHsKCQkJCQkJCXggPSAwOwoJCQkJCQl9IGVsc2UgaWYgKHggPiAgd2luZG93V2lkdGgtIG1vdmllX2JveC5vdXRlcldpZHRoKHRydWUpIC0gMTAwKSB7CgkJCQkJCQl4ID0gd2luZG93V2lkdGggLSBtb3ZpZV9ib3gub3V0ZXJXaWR0aCh0cnVlKSAtIDEwMDsKCQkJCQkJfQoJCQkJCQkKCQkJCQkJaWYgKHkgPCAwKSB7CgkJCQkJCQl5ID0gMDsKCQkJCQkJfSBlbHNlIGlmICh5ID4gd2luZG93SGVpZ2h0IC0gbW92aWVfYm94Lm91dGVySGVpZ2h0KHRydWUpKSB7CgkJCQkJCQl5ID0gd2luZG93SGVpZ2h0IC0gbW92aWVfYm94Lm91dGVySGVpZ2h0KHRydWUpOwoJCQkJCQl9CgkJCQkJCW1vdmllX2JveC5jc3MoImxlZnQiLCB4KTsKCQkJCQkJbW92aWVfYm94LmNzcygidG9wIiwgeSk7CgkJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNc2V0VmFsdWUoIlBvc2l0aW9uXyIgKyB3aW5kb3cubG9jYXRpb24uaG9zdCx7ICJsZWZ0Ijp4LCAidG9wIjp5fSk7CgkJCQkJfSk7CgkJCQkJJChkb2N1bWVudCkubW91c2V1cChmdW5jdGlvbigpIHsKCQkJCQkJJChkb2N1bWVudCkub2ZmKCdtb3VzZW1vdmUnKTsKCQkJCQkJbW92aWVfYm94LmNzcygiY3Vyc29yIiwgInBvaW50ZXIiKTsKCQkJCQl9KTsKCQkJCQkkKGRvY3VtZW50KS5jb250ZXh0bWVudShmdW5jdGlvbihlKSB7CgkJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCQl9KQoJCQkJfQoJCQl9KTsKCQl9OwoJCXRoaXMucmVtb3ZlVmlkZW9BZEJsb2NrX2lxaXlpID0gZnVuY3Rpb24oKXsKCQkJCgkJfSwKCQl0aGlzLnJlbW92ZVZpZGVvQWRCbG9ja192cXEgPSBmdW5jdGlvbigpewoKCQl9LAoJCXRoaXMucmVtb3ZlVmlkZW9BZEJsb2NrX3lvdWt1ID0gZnVuY3Rpb24oKXsKCQkJCgkJfSwKCQl0aGlzLnJlbW92ZVZpZGVvQWRCbG9ja19tZ3R2ID0gZnVuY3Rpb24oKXsKCQkJCgkJfSwKCQl0aGlzLnJlbW92ZVZpZGVvQWRCbG9ja19zb2h1ID0gZnVuY3Rpb24oKXsKCQkJCgkJfSwKCQl0aGlzLnJlbW92ZVZpZGVvQWRCbG9jayA9IGZ1bmN0aW9uKCl7CgkJCWNvbnN0IGN1cnJlbnRIb3N0ID0gd2luZG93LmxvY2F0aW9uLmhvc3Q7CgkJCWlmKGN1cnJlbnRIb3N0LmluZGV4T2YoInd3dy5pcWl5aS5jb20iKSE9LTEpewoJCQkJdGhpcy5yZW1vdmVWaWRlb0FkQmxvY2tfaXFpeWkoKTsKCQkJfWVsc2UgaWYoY3VycmVudEhvc3QuaW5kZXhPZigidi5xcS5jb20iKSE9LTEpewoJCQkJdGhpcy5yZW1vdmVWaWRlb0FkQmxvY2tfdnFxKCk7CgkJCX1lbHNlIGlmKGN1cnJlbnRIb3N0LmluZGV4T2YoInYueW91a3UuY29tIikhPS0xKXsKCQkJCXRoaXMucmVtb3ZlVmlkZW9BZEJsb2NrX3lvdWt1KCk7CgkJCX1lbHNlIGlmKGN1cnJlbnRIb3N0LmluZGV4T2YoInd3dy5tZ3R2LmNvbSIpIT0tMSl7CgkJCQl0aGlzLnJlbW92ZVZpZGVvQWRCbG9ja19tZ3R2KCk7CgkJCX1lbHNlIGlmKGN1cnJlbnRIb3N0LmluZGV4T2YoInR2LnNvaHUuY29tIikhPS0xKXsKCQkJCXRoaXMucmVtb3ZlVmlkZW9BZEJsb2NrX3NvaHUoKTsKCQkJfQoJCX07CgkJdGhpcy5zaG93U2V0aW5nRGlhbG9nID0gZnVuY3Rpb24oKXsKCQkJY29uc3QgdGhhdCA9IHRoaXM7CgkJCXZhciBjdXN0b21JbnRlcmZhY2VLZXkgPSB0aGF0LmN1c3RvbUludGVyZmFjZUtleTsKCQkJdmFyIGN1c3RvbUludGVyZmFjZSA9IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNZ2V0VmFsdWUoY3VzdG9tSW50ZXJmYWNlS2V5LCAiIik7CgkJCQoJCQl2YXIgY29udGVudCA9IGAKCQkJCTxkaXY+CgkJCQkJPGRpdiBzdHlsZT0iZm9udC1zaXplOjE0cHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOiMwMDA7Ij7oh6rlrprkuYnop6PmnpDmjqXlj6M8L2Rpdj4KCQkJCQk8ZGl2IHN0eWxlPSJmb250LXNpemU6MTNweDtjb2xvcjpyZWQ7Ij4JCQkJCQoJCQkJCQnmlbDmja7moLzlvI/vvJpb5ZCN5a2XXSArIFssXSArIFvmjqXlj6PlnLDlnYBdPGJyPgoJCQkJCQnkvovlpoLvvJrlsLHmmK/lkI3lrZfogIzlt7IsaHR0cHM6Ly9qeC5pZGMxMjYubmV0L2p4Lz91cmw9CTxicj4KCQkJCQkJ5rOo77ya5LiA6KGM5LiA5LiqCgkJCQkJPC9kaXY+CgkJCQkJPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDo1cHg7aGVpZ2h0OjIwMHB4O3dpZHRoOjEwMCU7Ij4KCQkJCQkJPHRleHRhcmVhIAoJCQkJCQkJcGxhY2Vob2xkZXI9Iuivt+S4peagvOaMieeFp+agvOW8j+Whq+WGme+8jOWQpuWImeS4jeeUn+aViCIKCQkJCQkJCWNsYXNzPSJjdXN0b20taW50ZXJmYWNlLXRleHRhcmVhIgoJCQkJCQkJc3R5bGU9ImZvbnQtc2l6ZToxNHB4O2JveC1zaXppbmc6IGJvcmRlci1ib3g7LXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94Oy1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDtwYWRkaW5nOjVweDtoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlO092ZXJmbG93OmF1dG87Ym9yZGVyOjFweCBzb2xpZCAjY2NjO3Jlc2l6ZTpub25lO2JhY2tncm91bmQtY29sb3I6I0ZGRjtvdXRsaW5lOm5vbmU7Ij5gK2N1c3RvbUludGVyZmFjZStgPC90ZXh0YXJlYT4KCQkJCQk8L2Rpdj4KCQkJCQk8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW4tdG9wOjE1cHg7Ij4KCQkJCQkJPGJ1dHRvbiBjbGFzcz0ic2F2ZS1jdXN0b20taW50ZXJmYWNlLWJ0biI+5L+d5a2Y6Ieq5a6a5LmJ5o6l5Y+jPC9idXR0b24+CgkJCQkJPC9kaXY+CgkJCQk8L2Rpdj4KCQkJYDsKCQkJcG9wdXAuZGlhbG9nKHsKCQkJCSJ0aXRsZSI6Iuino+aekOaOpeWPo+a3u+WKoCIsCgkJCQkiY29udGVudCI6Y29udGVudCwKCQkJCSJvbkNvbnRlbnRSZWFkeSI6ZnVuY3Rpb24oJHRoYXQpewoJCQkJCXZhciAkc2F2ZUN1c3RvbUludGVyZmFjZUJ0biA9ICR0aGF0LmRpYWxvZ0NvbnRlbnQucXVlcnlTZWxlY3RvcigiLnNhdmUtY3VzdG9tLWludGVyZmFjZS1idG4iKTsKCQkJCQkkc2F2ZUN1c3RvbUludGVyZmFjZUJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCl7CgkJCQkJCXZhciAkY3VzdG9tSW50ZXJmYWNlVGV4dGFyZWEgPSAkdGhhdC5kaWFsb2dDb250ZW50LnF1ZXJ5U2VsZWN0b3IoIi5jdXN0b20taW50ZXJmYWNlLXRleHRhcmVhIik7CgkJCQkJCXZhciBjb250ZW50ID0gJGN1c3RvbUludGVyZmFjZVRleHRhcmVhLnZhbHVlOwoJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTXNldFZhbHVlKGN1c3RvbUludGVyZmFjZUtleSwgY29udGVudCk7CgkJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LndlYlRvYXN0KHsibWVzc2FnZSI6IuiHquWumuS5ieaOpeWPo+S/neWtmOaIkOWKnyIsICJiYWNrZ3JvdW5kIjoiI0ZGNEQ0MCJ9KTsKCQkJCQl9KTsKCQkJCX0KCQkJfSkKCQl9CgkJdGhpcy5zdGFydCA9IGZ1bmN0aW9uKCl7CQkJCgkJCWxldCBkZWxheVRpbWVNcyA9IDA7CgkJCWlmKHdpbmRvdy5sb2NhdGlvbi5ob3N0LmluZGV4T2YoInd3dy5iaWxpYmlsaS5jb20iKSE9LTEpewoJCQkJZGVsYXlUaW1lTXMgPSAyMjAwOwoJCQl9CgkJCXNldFRpbWVvdXQoKCk9PnsKCQkJCXRyeXsKCQkJCQl0aGlzLnJlbW92ZVZpZGVvQWRCbG9jaygpOwoJCQkJfWNhdGNoKGUpe30KCQkJCXRyeXsKCQkJCQl0aGlzLmFuYWx5c2lzQ3VzdG9tSW50ZXJmYWNlKCk7CgkJCQkJdGhpcy5hZGRIdG1sRWxlbWVudHMoKTsKCQkJCQl0aGlzLnJ1bkV2ZW50KCk7CgkJCQl9Y2F0Y2goZSl7fQoJCQl9LCBkZWxheVRpbWVNcyk7CgkJfTsKCX07CgkKCS8qKgoJICog56e75Yqo56uvVklQ6Kej5p6QCgkgKiBAcGFyYW0ge09iamVjdH0gb3JpZ2luYWxJbnRlcmZhY2VMaXN0CgkgKi8KCWZ1bmN0aW9uIHN1cGVyVmlkZW9IZWxwZXJNb2JpbGUob3JpZ2luYWxJbnRlcmZhY2VMaXN0KXsKCQl0aGlzLm9yaWdpbmFsSW50ZXJmYWNlTGlzdCA9IG9yaWdpbmFsSW50ZXJmYWNlTGlzdDsKCQl0aGlzLmVsZW1lbnRJZCA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpKjEwMDAwMDAwMCkrIm1teCI7CgkJdGhpcy5xdWlja2x5SW50ZXJmYWNlS2V5ID0gImN1c3RvbV9tb2JpbGVfcXVpY2tseV9pbnRlcmZhY2Vfa2V5X2RkZHNkeHhhIjsKCQl0aGlzLmRlZmF1bHRRdWlja2x5SW50ZXJmYWNlSW5kZXggPSAyOwoJCXRoaXMucGxheWVyTm9kZXM9WwoJCQl7InVybCI6Im0uaXFpeWkuY29tIiwgInNob3dOb2RlIjoiLm0tdmlkZW8tcGxheWVyLXdyYXAiLCAiY29sb3IiOiIjMDVCMDNCIn0sCgkJCXsidXJsIjoibS52LnFxLmNvbSIsICJzaG93Tm9kZSI6Ii5tb2RfcGxheWVyIiwgImNvbG9yIjoiI0Y5OUQzOSJ9LAoJCQl7InVybCI6Im0ueW91a3UuY29tIiwgInNob3dOb2RlIjoiLmg1LWRldGFpbC1wbGF5ZXIiLCAiY29sb3IiOiIjMDhCQUZEIn0sCgkJCXsidXJsIjoibS5tZ3R2LmNvbSIsICJzaG93Tm9kZSI6Ii52aWRlby1hcmVhIiwgImNvbG9yIjoiI0U5NTkwNCJ9LAoJCQl7InVybCI6Im0uYmlsaWJpbGkuY29tIiwgInNob3dOb2RlIjoiLnBsYXllci13cmFwcGVyIiwgImNvbG9yIjoiI0ZCNzI5OSJ9LAoJCV07CgkJdGhpcy5pc1J1biA9IGZ1bmN0aW9uKCl7IC8v5Yik5pat5piv5ZCm6L+Q6KGMCgkJCWNvbnN0IGhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdDsKCQkJY29uc3QgdXJscyA9IFsibS5pcWl5aS5jb20iLCJtLnYucXEuY29tIiwibS55b3VrdS5jb20iLCAibS5tZ3R2LmNvbSIsICJtLmJpbGliaWxpLmNvbSJdOwoJCQl2YXIgcmVzdWx0ID0gZmFsc2U7CgkJCWlmKGhvc3Quc3RhcnRzV2l0aCgibS4iKSl7IC8v5piv56e75Yqo56uv5omn6KGMCgkJCQlmb3IodmFyIGk9MDsgaTx1cmxzLmxlbmd0aDsgaSsrKXsKCQkJCQlpZihob3N0LmluZGV4T2YodXJsc1tpXSkgIT0gLTEpewoJCQkJCQlyZXN1bHQgPSB0cnVlOwoJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9CgkJCX0KCQkJcmV0dXJuIHJlc3VsdDsKCQl9OwoJCXRoaXMuZ2V0d2luZG93RWxlbWVudCA9IGZ1bmN0aW9uKCl7CgkJCXZhciBub2RlT2JqZWN0ID0gbnVsbDsKCQkJZm9yKHZhciBpIGluIHRoaXMucGxheWVyTm9kZXMpIHsgLy/ojrflvpfnqpflj6NJRAoJCQkJaWYgKHRoaXMucGxheWVyTm9kZXNbaV0udXJsID09IHdpbmRvdy5sb2NhdGlvbi5ob3N0KSB7CgkJCQkJbm9kZU9iamVjdCA9IHRoaXMucGxheWVyTm9kZXNbaV07CgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIG5vZGVPYmplY3Q7CgkJfTsKCQl0aGlzLmdldFF1aWNrbHlJbnRlcmZhY2VJbmRleCA9IGZ1bmN0aW9uKCl7CgkJCXZhciBxdWlja2x5SW50ZXJmYWNlSW5kZXhTdHJpbmcgPSBjb21tb25GdW5jdGlvbk9iamVjdC5HTWdldFZhbHVlKHRoaXMucXVpY2tseUludGVyZmFjZUtleSwiIikrIiI7CgkJCXZhciBxdWlja2x5SW50ZXJmYWNlSW5kZXggPSB0aGlzLmRlZmF1bHRRdWlja2x5SW50ZXJmYWNlSW5kZXg7CgkJCWlmKCEhcXVpY2tseUludGVyZmFjZUluZGV4U3RyaW5nKXsKCQkJCXF1aWNrbHlJbnRlcmZhY2VJbmRleCA9IHBhcnNlSW50KHF1aWNrbHlJbnRlcmZhY2VJbmRleFN0cmluZyk7CgkJCX0KCQkJaWYodGhpcy5vcmlnaW5hbEludGVyZmFjZUxpc3QubGVuZ3RoLTE8cXVpY2tseUludGVyZmFjZUluZGV4KXsKCQkJCXF1aWNrbHlJbnRlcmZhY2VJbmRleCA9IHRoaXMuZGVmYXVsdFF1aWNrbHlJbnRlcmZhY2VJbmRleDsKCQkJfQoJCQlyZXR1cm4gcXVpY2tseUludGVyZmFjZUluZGV4OwoJCX07CgkJdGhpcy5hZGRIdG1sRWxlbWVudHMgPSBmdW5jdGlvbigpewoJCQlsZXQgbm9kZU9iamVjdCA9IHRoaXMuZ2V0d2luZG93RWxlbWVudCgpOwoJCQljb25zdCBxdWlja2x5SW50ZXJmYWNlSW5kZXggPSB0aGlzLmdldFF1aWNrbHlJbnRlcmZhY2VJbmRleCgpOwoJCQlpZighbm9kZU9iamVjdCkgcmV0dXJuOwoJCQlyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PnsKCQkJCWNvbnN0IGVsZW1lbnRJbnRlcnZhbCA9IHNldEludGVydmFsKCgpPT57CgkJCQkJY29uc3Qgbm9kZUVsZW1lbnRPYmplY3QgPSAkKG5vZGVPYmplY3Quc2hvd05vZGUpLCB0aGVtZUNvbG9yID0gbm9kZU9iamVjdC5jb2xvcjsKCQkJCQkKCQkJCQlpZihub2RlRWxlbWVudE9iamVjdC5sZW5ndGggPT0gMCkgcmV0dXJuOwoJCQkJCWNsZWFySW50ZXJ2YWwoZWxlbWVudEludGVydmFsKTsKCQkJCQkJCQkJCQoJCQkJCS8v5re75YqgSFRNTAoJCQkJCWxldCBjYXRlZ29yeV8xX2h0bWwgPSAiIjsKCQkJCQl0aGlzLm9yaWdpbmFsSW50ZXJmYWNlTGlzdC5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewoJCQkJCQlpZiAoaXRlbS5zaG93VHlwZSAhPSAxKSB7CgkJCQkJCQl2YXIgc2VsZWN0ZWQgPSAiIjsKCQkJCQkJCWlmKGluZGV4PT1xdWlja2x5SW50ZXJmYWNlSW5kZXgpewoJCQkJCQkJCXNlbGVjdGVkID0gInNlbGVjdGVkIjsKCQkJCQkJCX0KCQkJCQkJCWNhdGVnb3J5XzFfaHRtbCArPSAiPG9wdGlvbiB2YWx1ZT0nIitpdGVtLnVybCsiJyBpbmRleD0nIitpbmRleCsiJyAiK3NlbGVjdGVkKyI+IitpdGVtLm5hbWUrIjwvb3B0aW9uPiI7CgkJCQkJCX0KCQkJCQl9KTsKCQkJCQl2YXIgaHRtbE1vdWxkID0gYAoJCQkJCQk8ZGl2IHN0eWxlPSJtYXJnaW46MTVweCAxNXB4IDUwcHggMTVweDtwYWRkaW5nOjEwcHg7YmFja2dyb3VuZC1jb2xvcjpgK3RoZW1lQ29sb3IrYDtib3JkZXItcmFkaXVzOjRweDtjdXJzb3I6cG9pbnRlcjt6LWluZGV4OiA5OTk5OTk5OTk5OTk5OTk5OTk5OTk7Y29sb3I6I0ZGRjsiPgoJCQkJCQkJCTxkaXYgc3R5bGU9ImZvbnQtd2VpZ2h0OjcwMDtmb250LXNpemU6MTRweDt0ZXh0LWFsaWduOmNlbnRlcjsiPgoJCQkJCQkJCQk8c3Bhbj7pgInmi6nop6PmnpDmjqXlj6M8L3NwYW4+CgkJCQkJCQkJCTxzZWxlY3QgaWQ9ImludGVyZmFjZV9zZWxlY3Rpb25fYCt0aGlzLmVsZW1lbnRJZCtgIiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojRkZGO3BhZGRpbmc6IDBweCAxMHB4OyI+CgkJCQkJCQkJCQlgK2NhdGVnb3J5XzFfaHRtbCtgCgkJCQkJCQkJCTwvc2VsZWN0PgoJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCTxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyOyI+CgkJCQkJCQkJCTxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiIGlkPSJzdGFydF9hbmFseXNpc19vdXRlcl9gK3RoaXMuZWxlbWVudElkK2AiIHN0eWxlPSJib3gtc2l6aW5nOmJvcmRlci1ib3g7bWFyZ2luOjEwcHggMHB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmc6MTBweCAwcHg7d2lkdGg6MTAwJTtib3JkZXItcmFkaXVzOjRweDtjb2xvcjojRkZGO2JhY2tncm91bmQtY29sb3I6I0YyNTAzRjtmb250LXNpemU6MTRweDsiPuermeWkluino+aekDwvYT4KCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCQk8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQ7Zm9udC1zaXplOjEwcHg7Ij4KCQkJCQkJCQkJPGRpdj4KCQkJCQkJCQkJCeWFjei0o+eUs+aYju+8mjHjgIFWSVDop4bpopHop6PmnpDkuK3miYDnlKjliLDnmoTop6PmnpDmjqXlj6Plhajpg6jmlLbpm4boh6rkupLogZTnvZHvvIjmupDnoIHlj6/op4HvvInvvIzniYjmnYPpl67popjor7fogZTns7vnm7jlhbPop6PmnpDmjqXlj6PmiYDmnInogIXvvIEKCQkJCQkJCQkJCTLjgIHkuLrliJvpgKDoia/lpb3nmoTliJvkvZzmsJvlm7TvvIzor7flpKflrrbmlK/mjIHmraPniYjvvIEKCQkJCQkJCQkJCTPjgIHohJrmnKzku4XpmZDkuKrkurrlrabkuaDkuqTmtYHvvIzliIfli7/nlKjkuo7ku7vkvZXllYbkuJrnrYnlhbblroPnlKjpgJTvvIEKCQkJCQkJCQkJCTTjgIHnu6fnu63kvb/nlKjvvIzljbPooajmmI7kvaDlt7Lnu4/mmI7noa7kvb/nlKjohJrmnKzlj6/og73luKbmnaXnmoTpo47pmanvvIzkuJTmhL/mhI/oh6rooYzmib/mi4Xnm7jlhbPpo47pmanvvIzlr7nkuo7po47pmanohJrmnKzkuI3mib/mi4Xku7vkvZXotKPku7vvvIEKCQkJCQkJCQkJPC9kaXY+CgkJCQkJCQkJPC9kaXY+CgkJCQkJCTwvZGl2PgoJCQkJCWA7CgkJCQkJbm9kZUVsZW1lbnRPYmplY3QuYWZ0ZXIoaHRtbE1vdWxkKTsKCQkJCQlyZXNvbHZlKCJvayIpOwoJCQkJfSwgMTAwKTsKCQkJfSk7CgkJfTsKCQl0aGlzLmdldFBsYXlPYmplY3RCeVNlbGVjdCA9IGZ1bmN0aW9uKCl7CgkJCQoJCQl2YXIgaW5kZXhTdHJpbmcgPSAkKCIjaW50ZXJmYWNlX3NlbGVjdGlvbl8iK3RoaXMuZWxlbWVudElkKS5maW5kKCJvcHRpb246c2VsZWN0ZWQiKS5hdHRyKCJpbmRleCIpOwoJCQl2YXIgaW5kZXggPSAwOwoJCQlpZighIWluZGV4U3RyaW5nKXsKCQkJCWluZGV4ID0gcGFyc2VJbnQoaW5kZXhTdHJpbmcpOwoJCQl9CgkJCXJldHVybiB0aGlzLm9yaWdpbmFsSW50ZXJmYWNlTGlzdFtpbmRleF07CgkJfTsKCQl0aGlzLnJ1bkV2ZW50ID0gZnVuY3Rpb24oKXsJIC8v5LqL5Lu26L+Q6KGMCgkJCWNvbnN0IHNlbGYgPSB0aGlzOwoKCQkJLy/liJ3lp4vljJYKCQkJdmFyIHBsYXlPYmplY3QgPSBzZWxmLmdldFBsYXlPYmplY3RCeVNlbGVjdCgpOwoJCQkkKCcjc3RhcnRfYW5hbHlzaXNfb3V0ZXJfJytzZWxmLmVsZW1lbnRJZCkuYXR0cigiaHJlZiIsIHBsYXlPYmplY3QudXJsICsgd2luZG93LmxvY2F0aW9uLmhyZWYpOwoJCQkkKCcjc3RhcnRfYW5hbHlzaXNfb3V0ZXJfJytzZWxmLmVsZW1lbnRJZCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKCQkJCWlmKGNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNZ2V0VmFsdWUoImNvcHlyaWdodF92aWRlb19yZW1pbmRfbW9iaWxlX291dGVyIixudWxsKT09PSJ0cnVlIil7CgkJCQkJCgkJCQl9ZWxzZXsKCQkJCQl2YXIgcj1jb25maXJtKAoJCQkJCQki6ISa5pys6L+Q6KGM5o+Q6YaS77yB77yB77yBXHUwMDBkIisKCQkJCQkJIuS9v+eUqOermeWkluino+aekOWKn+iDve+8jOinhumikeino+aekOaXtuiEmuacrOi3s+WHuuacrOmhtemdou+8jOWmguS4jeWQjOaEj+atpOiEmuacrOihjOS4uu+8jOivt+eCueWHu+OAkOWPlua2iOOAkeaMiemSru+8ge+8gSIKCQkJCQkpOwoJCQkJCWlmKHI9PWZhbHNlKXsKCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCX1lbHNlewoJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTXNldFZhbHVlKCJjb3B5cmlnaHRfdmlkZW9fcmVtaW5kX21vYmlsZV9vdXRlciIsInRydWUiKTsKCQkJCQl9CgkJCQl9CgkJCX0pOwoJCQkvL+aOpeWPo+WIh+aNogoJCQkkKCcjaW50ZXJmYWNlX3NlbGVjdGlvbl8nK3NlbGYuZWxlbWVudElkKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkgewoJCQkJdmFyICRvcHRpb24gPSAkKHRoaXMpLmZpbmQoIm9wdGlvbjpzZWxlY3RlZCIpOwoJCQkJdmFyIHZhbHVlID0gJG9wdGlvbi52YWwoKTsKCQkJCXZhciBpbmRleCA9IHBhcnNlSW50KCRvcHRpb24uYXR0cigiaW5kZXgiKSk7CgkJCQkkKCcjc3RhcnRfYW5hbHlzaXNfb3V0ZXJfJytzZWxmLmVsZW1lbnRJZCkuYXR0cigiaHJlZiIsIHZhbHVlK3dpbmRvdy5sb2NhdGlvbi5ocmVmKTsKCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNc2V0VmFsdWUoc2VsZi5xdWlja2x5SW50ZXJmYWNlS2V5LCBpbmRleCk7CgkJCX0pOwoJCX07CgkJdGhpcy5zdGFydCA9IGZ1bmN0aW9uKCl7CgkJCWNvbnN0IHNlbGYgPSB0aGlzOwoJCQlpZih0aGlzLmlzUnVuKCkpewoJCQkJdGhpcy5hZGRIdG1sRWxlbWVudHMoKS50aGVuKCgpPT57CgkJCQkJc2VsZi5ydW5FdmVudCgpOwoJCQkJfSk7CgkJCX0KCQl9Cgl9CgkKCS8qKgoJICogQuermeebuOWFs+WKn+iDve+8muinhumikeWkmlDkuIvovb3vvIzkuIDplK7kuInogZTvvIzmtY/op4jorrDlvZXnrYkKCSAqLwoJZnVuY3Rpb24gYmlsaWJpbGlIZWxwZXIoKXsKCQl0aGlzLmRvd25sb2FkVmlkZW9Db2luID0gZnVuY3Rpb24oKXsKCQkJZnVuY3Rpb24gaW5uZXJDbGFzc0Rvd25sb2FkVmlkZW9Db2luKCl7IC8v6KeG6aKR5LiL6L295LiA6ZSu5LiJ6IGUY2xhc3MKCQkJCXRoaXMuZWxlbWVudElkID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqMTAwMDAwMDAwKSsibW14IjsKCQkJCXRoaXMuZG93bmxvYWRSZXN1dEVycm9yPWZ1bmN0aW9uKCRidG4pewoJCQkJCSRidG4udGV4dCgi5LiL6L296KeG6aKR77yI5pyA6auY5riF77yJIik7CgkJCQkJJGJ0bi5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpOwoJCQkJfTsKCQkJCXRoaXMuZG93bmxvYWRSZXN1dFN1Y2Nlc3M9ZnVuY3Rpb24oJGJ0bil7CgkJCQkJJGJ0bi50ZXh0KCLkuIvovb3op4bpopHvvIjmnIDpq5jmuIXvvIkiKTsKCQkJCQkkYnRuLnJlbW92ZUF0dHIoImRpc2FibGVkIik7CgkJCQl9OwoJCQkJdGhpcy5nZXREb3dubG9hZFBhZ2VzID0gZnVuY3Rpb24oKXsKCQkJCQlyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CgkJCQkJCXZhciBwYXRobmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwgYnYgPSBudWxsOwoJCQkJCQlpZiAocGF0aG5hbWUuaW5kZXhPZigiL21lZGlhbGlzdC9wbGF5L3dhdGNobGF0ZXIvIikgIT0gLTEpIHsgLy8g5Zyo5LiL6L296KeG6aKR55qE5pe25YCZ6ZKI5a+556iN5ZCO5YaN55yL6aG16Z2i55qE6ZO+5o6l5om+Qlblj7cKCQkJCQkJICAgIGJ2ID0gcGF0aG5hbWUucmVwbGFjZSgiL21lZGlhbGlzdC9wbGF5L3dhdGNobGF0ZXIvIiwiIikucmVwbGFjZSgiLyIsIiIpOwoJCQkJCQl9ZWxzZXsKCQkJCQkJCWJ2ID0gcGF0aG5hbWUucmVwbGFjZSgiL3ZpZGVvLyIsIiIpLnJlcGxhY2UoIi8iLCIiKTsKCQkJCQkJfQoJCQkJCQlpZighYnYpewoJCQkJCQkJcmVzb2x2ZSh7InN0YXR1cyI6ImJ2X251bGwifSk7CgkJCQkJCQlyZXR1cm47CgkJCQkJCX0KCQkJCQkJLy9idui9rGF2CgkJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LnJlcXVlc3QoImdldCIsICJodHRwOi8vYXBpLmJpbGliaWxpLmNvbS94L3dlYi1pbnRlcmZhY2UvYXJjaGl2ZS9zdGF0P2J2aWQ9IitidiwgbnVsbCkudGhlbigocmVzdWx0RGF0YSk9PnsKCQkJCQkJCWxldCBkYXRhSnNvbiA9IEpTT04ucGFyc2UocmVzdWx0RGF0YS5kYXRhKTsKCQkJCQkJCWlmKCFkYXRhSnNvbiB8fCBkYXRhSnNvbi5jb2RlIT09MCB8fCAhZGF0YUpzb24uZGF0YSl7CgkJCQkJCQkJcmVzb2x2ZSh7InN0YXR1cyI6InJlcXVlc3RfZXJyb3IifSk7CgkJCQkJCQkJcmV0dXJuOwoJCQkJCQkJfQoJCQkJCQkJCgkJCQkJCQlsZXQgYWlkID0gZGF0YUpzb24uZGF0YS5haWQ7CgkJCQkJCQlpZighYWlkKXsKCQkJCQkJCQlyZXNvbHZlKHsic3RhdHVzIjoiYWlkX251bGwifSk7CgkJCQkJCQkJcmV0dXJuOwoJCQkJCQkJfQoJCQkJCQkJCgkJCQkJCQkvL+iOt+WPlmNpZAoJCQkJCQkJY29tbW9uRnVuY3Rpb25PYmplY3QucmVxdWVzdCgiZ2V0IiwgImh0dHBzOi8vYXBpLmJpbGliaWxpLmNvbS94L3dlYi1pbnRlcmZhY2Uvdmlldz9haWQ9IithaWQsIG51bGwpLnRoZW4oKHJlc3VsdERhdGEyKT0+ewoJCQkJCQkJCWxldCBkYXRhSnNvbjIgPSBKU09OLnBhcnNlKHJlc3VsdERhdGEyLmRhdGEpOwoJCQkJCQkJCWlmKCFkYXRhSnNvbjIgfHwgZGF0YUpzb24yLmNvZGUhPT0wIHx8ICFkYXRhSnNvbjIuZGF0YSl7CgkJCQkJCQkJCXJlc29sdmUoeyJzdGF0dXMiOiJyZXF1ZXN0X2Vycm9yIn0pOwoJCQkJCQkJCQlyZXR1cm47CgkJCQkJCQkJfQoJCQkJCQkJCWNvbnN0IGRvd25sb2FkRGF0YSA9IGRhdGFKc29uMi5kYXRhOwoJCQkJCQkJCWNvbnN0IGFpZCA9IGRvd25sb2FkRGF0YS5haWQsIGJ2aWQgPSBkb3dubG9hZERhdGEuYnZpZDsKCQkJCQkJCQljb25zdCBwYWdlcyA9IG5ldyBBcnJheSgpOwoJCQkJCQkJCWZvcih2YXIgaT0wOyBpPGRvd25sb2FkRGF0YS5wYWdlcy5sZW5ndGg7IGkrKyl7CgkJCQkJCQkJCWxldCBwYWdlRGF0YSA9IGRvd25sb2FkRGF0YS5wYWdlc1tpXTsKCQkJCQkJCQkJcGFnZXMucHVzaCh7CgkJCQkJCQkJCQkiY292ZXIiOnBhZ2VEYXRhLmZpcnN0X2ZyYW1lLAoJCQkJCQkJCQkJInBhZ2UiOnBhZ2VEYXRhLnBhZ2UsCgkJCQkJCQkJCQkicGFydCI6cGFnZURhdGEucGFydCwKCQkJCQkJCQkJCSJjaWQiOnBhZ2VEYXRhLmNpZAoJCQkJCQkJCQl9KTsKCQkJCQkJCQl9CgkJCQkJCQkJcmVzb2x2ZSh7InN0YXR1cyI6InN1Y2Nlc3MiLCAiZG93bmxvYWREYXRhIjp7CgkJCQkJCQkJCSJhaWQiOmFpZCwgImJ2aWQiOmJ2aWQsICJwYWdlcyI6cGFnZXMKCQkJCQkJCQl9fSk7CgkJCQkJCQl9KS5jYXRjaCgoZXJyb3JEYXRhKT0+ewoJCQkJCQkJCXJlc29sdmUoeyJzdGF0dXMiOiJyZXF1ZXN0X2Vycm9yIn0pOwoJCQkJCQkJfSk7CgkJCQkJCX0pLmNhdGNoKChlcnJvckRhdGEpPT57CgkJCQkJCQlyZXNvbHZlKHsic3RhdHVzIjoicmVxdWVzdF9lcnJvciJ9KTsKCQkJCQkJfSk7CgkJCQkJfSk7CgkJCQl9OwoJCQkJdGhpcy5zdGFydERvd25sb2FkRmlsZSA9IGZ1bmN0aW9uKGFpZCwgY2lkKXsKCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5yZXF1ZXN0KCJnZXQiLCAiaHR0cHM6Ly9hcGkuYmlsaWJpbGkuY29tL3gvcGxheWVyL3BsYXl1cmw/YXZpZD0iK2FpZCsiJmNpZD0iK2NpZCsiJnFuPTExMiIsIG51bGwpLnRoZW4oKHJlc3VsdERhdGEzKT0+ewoJCQkJCQlsZXQgZGF0YUpzb24zID0gSlNPTi5wYXJzZShyZXN1bHREYXRhMy5kYXRhKTsKCQkJCQkJaWYoISFkYXRhSnNvbjMgJiYgZGF0YUpzb24zLmNvZGU9PT0wICYmICEhZGF0YUpzb24zLmRhdGEpewoJCQkJCQkJd2luZG93Lm9wZW4oZGF0YUpzb24zLmRhdGEuZHVybFswXS51cmwpOwoJCQkJCQl9ZWxzZXsKCQkJCQkJCWFsZXJ0KCLojrflj5bkuIvovb3pk77mjqXlpLHotKUiKTsKCQkJCQkJfQoJCQkJCX0pLmNhdGNoKChlcnJvckRhdGEpPT57CgkJCQkJCWFsZXJ0KCLojrflj5bkuIvovb3pk77mjqXlpLHotKUiKTsKCQkJCQl9KTsKCQkJCX07CgkJCQl0aGlzLmNyZWF0ZU1vZGFscyA9IGZ1bmN0aW9uKCl7CgkJCQkJdmFyIGNzcyA9IGAKCQkJCQkJLm1vZGFsLW1hc2stYCt0aGlzLmVsZW1lbnRJZCtgewoJCQkJCQkJcG9zaXRpb246Zml4ZWQ7CgkJCQkJCQl0b3A6MDsKCQkJCQkJCWxlZnQ6MDsKCQkJCQkJCXotaW5kZXg6OTk5OTk5OTk4OwoJCQkJCQkJd2lkdGg6MTAwJTsKCQkJCQkJCWhlaWdodDoxMDAlOwoJCQkJCQkJZGlzcGxheTpub25lOwoJCQkJCQkJYmFja2dyb3VuZC1jb2xvcjojMDAwOwoJCQkJCQkJb3BhY2l0eTowLjM7CgkJCQkJCQlvdmVyZmxvdzpoaWRkZW47CgkJCQkJCX0KCQkJCQkJLm1vZGFsLWJvZHktYCt0aGlzLmVsZW1lbnRJZCtgewoJCQkJCQkJcG9zaXRpb246Zml4ZWQ7CgkJCQkJCQlib3JkZXItcmFkaXVzOjVweDsKCQkJCQkJCWJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7CgkJCQkJCQl0b3A6MTAlOwoJCQkJCQkJd2lkdGg6NDAwcHg7CgkJCQkJCQltYXgtd2lkdGg6IDkwJTsKCQkJCQkJCW1heC1oZWlnaHQ6MTcwcHg7CgkJCQkJCQltYXgtaGVpZ2h0OiA2MDBweDsKCQkJCQkJCW92ZXJmbG93LXk6IGF1dG87CgkJCQkJCQl6LWluZGV4Ojk5OTk5OTk5OTsKCQkJCQkJCWxlZnQ6IDUwJTsKCQkJCQkJCXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKCQkJCQkJCWRpc3BsYXk6bm9uZTsKCQkJCQkJCXBhZGRpbmc6IDEwcHg7CgkJCQkJCX0KCQkJCQkJLm1vZGFsLWJvZHktYCt0aGlzLmVsZW1lbnRJZCtgID4ucGFnZS13cmFwewoJCQkJCQkJZGlzcGxheTogZmxleDsKCQkJCQkJCWZsZXgtd3JhcDogd3JhcDsKCQkJCQkJfQoJCQkJCQkubW9kYWwtYm9keS1gK3RoaXMuZWxlbWVudElkK2AgPi5wYWdlLXdyYXAgPi5ib2FyZC1pdGVtewoJCQkJCQkJZGlzcGxheTogYmxvY2s7CgkJCQkJCQl3aWR0aDogY2FsYyg1MCUgLSAxMHB4KTsKCQkJCQkJCWJhY2tncm91bmQtY29sb3I6ICM2QTVGNjA7CgkJCQkJCQltYXJnaW46IDVweDsKCQkJCQkJCWJhY2tncm91bmQtY29sb3I6I0ZCNzI5OTsKCQkJCQkJCWNvbG9yOiNGRkZGRkY7CgkJCQkJCQljdXJzb3I6IHBvaW50ZXI7CgkJCQkJCQlvdmVyZmxvdzpoaWRkZW47CgkJCQkJCQl3aGl0ZS1zcGFjZTpub3dyYXA7CgkJCQkJCQl0ZXh0LW92ZXJmbG93OmVsbGlwc2lzOwoJCQkJCQl9CgkJCQkJCS5tb2RhbC1ib2R5LWArdGhpcy5lbGVtZW50SWQrYCA+Lm1vZGFsLWJ0bi13cmFwewoJCQkJCQkJdGV4dC1hbGlnbjogY2VudGVyOwoJCQkJCQkJbWFyZ2luLXRvcDogMTBweDsKCQkJCQkJCWN1cnNvcjogcG9pbnRlcjsKCQkJCQkJfQoJCQkJCQkubW9kYWwtYm9keS1gK3RoaXMuZWxlbWVudElkK2AgPi5jb3B5LXRpcHN7CgkJCQkJCQltYXJnaW4tdG9wOiAxMHB4OwoJCQkJCQkJZm9udC1zaXplOjEycHg7CgkJCQkJCX0KCQkJCQlgOwoJCQkJCXZhciBodG1sID0gYAoJCQkJCQk8ZGl2IGNsYXNzPSdtb2RhbC1tYXNrLWArdGhpcy5lbGVtZW50SWQrYCc+PC9kaXY+CgkJCQkJCTxkaXYgY2xhc3M9J21vZGFsLWJvZHktYCt0aGlzLmVsZW1lbnRJZCtgJz4KCQkJCQkJCTxkaXYgY2xhc3M9InBhZ2Utd3JhcCI+PC9kaXY+CgkJCQkJCQk8ZGl2IGNsYXNzPSJtb2RhbC1idG4td3JhcCI+CgkJCQkJCQkJPHNwYW4+5YWz6ZetPC9zcGFuPgoJCQkJCQkJPC9kaXY+CgkJCQkJCQk8ZGl2IGNsYXNzPSJjb3B5LXRpcHMiPgoJCQkJCQkJCeivtOaYju+8mueCueWHu+acrOW8ueahhumAiembhu+8jOWNs+WPr+S4i+i9vemAiembhuinhumike+8jOm7mOiupOacgOmrmOa4heOAggoJCQkJCQkJCTxicj7nlLPmmI7vvJrmnKzlip/og73ku4Xog73kvZzkuLrlrabkuaDkuqTmtYHkvb/nlKjvvIzkuJTkuI3lj6/nlKjkuo7lhbblroPnlKjpgJTvvIzlkKbliJnlkI7mnpzoh6rotJ/jgILor7flpKflrrbph43op4bniYjmnYPvvIzlsIrph43liJvkvZzogIXvvIzliIfli7/mkKzov5DmioTooq3jgILor7flpKflrrblpJrnlKhb5LiA6ZSu5LiJ6L+eXeS4uuWIm+S9nOiAheaKleW4gX7vvIzlsI/noLTnq5nniZvmjrDvvIEKCQkJCQkJCTwvZGl2PgoJCQkJCQk8L2Rpdj4KCQkJCQlgOwoJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNYWRkU3R5bGUoY3NzKTsKCQkJCQkkKCJib2R5IikuYXBwZW5kKGh0bWwpOwoJCQkJfTsKCQkJCXRoaXMuaGlkZU1vZGFscyA9IGZ1bmN0aW9uKCl7CgkJCQkJJCgiLm1vZGFsLWJvZHktIit0aGlzLmVsZW1lbnRJZCsiIikuY3NzKCdkaXNwbGF5Jywnbm9uZScpOwoJCQkJCSQoIi5tb2RhbC1tYXNrLSIrdGhpcy5lbGVtZW50SWQrIiIpLmNzcygnZGlzcGxheScsJ25vbmUnKTsKCQkJCX07CgkJCQl0aGlzLnNob3dNb2RhbHMgPSBmdW5jdGlvbihwYWdlSHRtbCl7CgkJCQkJY29uc3Qgc2VsZiA9IHRoaXM7CgkJCQkJJCgiLm1vZGFsLWJvZHktIitzZWxmLmVsZW1lbnRJZCsiIikuY3NzKCdkaXNwbGF5JywnYmxvY2snKTsKCQkJCQkkKCIubW9kYWwtbWFzay0iK3NlbGYuZWxlbWVudElkKyIiKS5jc3MoJ2Rpc3BsYXknLCdibG9jaycpOwoJCQkJCSQoIi5tb2RhbC1ib2R5LSIrc2VsZi5lbGVtZW50SWQrIiA+LnBhZ2Utd3JhcCIpLmh0bWwocGFnZUh0bWwpOwoJCQkJCSQoImJvZHkiKS5vbigiY2xpY2siLCAiLm1vZGFsLWJvZHktIitzZWxmLmVsZW1lbnRJZCsiID4ucGFnZS13cmFwID4uYm9hcmQtaXRlbSIsIGZ1bmN0aW9uKCl7CgkJCQkJCSQodGhpcykuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIiwiI2NjYyIpOwoJCQkJCQlzZWxmLnN0YXJ0RG93bmxvYWRGaWxlKCQodGhpcykuZGF0YSgiYWlkIiksICQodGhpcykuZGF0YSgiY2lkIikpOwoJCQkJCX0pOwoJCQkJCSQoImJvZHkiKS5vbigiY2xpY2siLCAiLm1vZGFsLWJvZHktIitzZWxmLmVsZW1lbnRJZCsiID4ubW9kYWwtYnRuLXdyYXAgPnNwYW4iLCBmdW5jdGlvbigpewoJCQkJCQlzZWxmLmhpZGVNb2RhbHMoKTsKCQkJCQl9KTsKCQkJCX07CgkJCQl0aGlzLmNyZWF0ZUVsZW1lbnRIdG1sID0gZnVuY3Rpb24oKXsKCQkJCQl0aGlzLmNyZWF0ZU1vZGFscygpOyAgLy/liJvlu7rlvLnmoYYKCQkJCQljb25zdCByYW5kb21OdW1iZXIgPSB0aGlzLmVsZW1lbnRJZCwgc2VsZiA9IHRoaXM7CgkJCQkJbGV0IGNzc1RleHQgPSBgCgkJCQkJCSNiaWxpYmlsaV9leHRpX2ArcmFuZG9tTnVtYmVyK2B7CgkJCQkJCQlwYWRkaW5nOjEwcHg7CgkJCQkJCX0KCQkJCQkJI2JpbGliaWxpX2V4dGlfYCtyYW5kb21OdW1iZXIrYCA+LnNlbGZfc19idG57CgkJCQkJCQliYWNrZ3JvdW5kLWNvbG9yOiNGQjcyOTk7CgkJCQkJCQljb2xvcjojRkZGOwoJCQkJCQkJZm9udC1zaXplOjEwcHg7CgkJCQkJCQlkaXNwbGF5OmlubGluZS1ibG9jazsKCQkJCQkJCW1hcmdpbi1yaWdodDoxNXB4OwoJCQkJCQkJcGFkZGluZzoycHggNHB4OwoJCQkJCQkJYm9yZGVyLXJhZGl1czozcHg7CgkJCQkJCQljdXJzb3I6cG9pbnRlcjsKCQkJCQkJfQoJCQkJCWA7CgkJCQkJbGV0IGh0bWxUZXh0PWAKCQkJCQkJPGRpdiBpZD0iYmlsaWJpbGlfZXh0aV9gK3JhbmRvbU51bWJlcitgIj4KCQkJCQkJCTxzcGFuIGNsYXNzPSJzZWxmX3NfYnRuIiBpZD0iZG93bmxvYWRfc19gK3JhbmRvbU51bWJlcitgIj7kuIvovb3op4bpopHvvIjmnIDpq5jmuIXvvIk8L3NwYW4+CgkJCQkJCQk8c3BhbiBjbGFzcz0ic2VsZl9zX2J0biIgaWQ9ImZvY3VzX3NfYCtyYW5kb21OdW1iZXIrYCI+5LiA6ZSu5LiJ6L+ePC9zcGFuPgoJCQkJCQk8L2Rpdj4KCQkJCQlgOwoJCQkJCXNldFRpbWVvdXQoKCk9PnsgLy/lu7bml7bnmoTnm67nmoTmmK/orqlC56uZ5YWI5Yqg6L295a6M5YWoCQkJCQoJCQkJCQljb25zdCBwbGF5ZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpPT57CgkJCQkJCQlsZXQgJHZpZXdib3hSZXBvcnQgPSAkKCIjYXJjX3Rvb2xiYXJfcmVwb3J0Iik7CgkJCQkJCQlpZigkKCIjZG93bmxvYWRfc18iK3JhbmRvbU51bWJlcikubGVuZ3RoPT0wICYmICR2aWV3Ym94UmVwb3J0Lmxlbmd0aCE9MCl7CgkJCQkJCQkJJCgiYm9keSIpLnByZXBlbmQoIjxzdHlsZT4iK2Nzc1RleHQrIjwvc3R5bGU+Iik7CgkJCQkJCQkJJHZpZXdib3hSZXBvcnQuYmVmb3JlKGh0bWxUZXh0KTsKCQkJCQkJCX1lbHNlewoJCQkJCQkJCWNsZWFySW50ZXJ2YWwocGxheWVySW50ZXJ2YWwpOwoJCQkJCQkJfQoJCQkJCQl9LCAxMDApOwoJCQkJCX0sIDI4MDApOwoJCQkJCQoJCQkJCSQoImJvZHkiKS5vbigiY2xpY2siLCAiI2Rvd25sb2FkX3NfIityYW5kb21OdW1iZXIsIGZ1bmN0aW9uKCl7CgkJCQkJCWNvbnN0ICRidG4gPSAkKHRoaXMpOwoJCQkJCQkkYnRuLmF0dHIoImRpc2FibGVkIiwgImRpc2FibGVkIik7CgkJCQkJCSRidG4udGV4dCgi5LiL6L296KeG6aKR77yI5YeG5aSH5Lit77yJIik7CgkJCQkJCS8v5byA5aeL5YeG5aSH5LiL6L295pWw5o2uCgkJCQkJCXNlbGYuZ2V0RG93bmxvYWRQYWdlcygpLnRoZW4oKHJlc3VsZSk9PnsKCQkJCQkJCWlmKHJlc3VsZS5zdGF0dXM9PT0ic3VjY2VzcyIpewoJCQkJCQkJCXZhciBhaWQgPSByZXN1bGUuZG93bmxvYWREYXRhLmFpZCwgcGFnZXMgPSByZXN1bGUuZG93bmxvYWREYXRhLnBhZ2VzLCBpdGVtSHRtbCA9ICIiOwoJCQkJCQkJCWZvcih2YXIgaT0wOyBpPHBhZ2VzLmxlbmd0aDsgaSsrKXsKCQkJCQkJCQkJdmFyIHRpdGxlID0gIuOAkFAiK3BhZ2VzW2ldLnBhZ2UrIuOAkSIrcGFnZXNbaV0ucGFydCsiIjsKCQkJCQkJCQkJaXRlbUh0bWwgKz0gIjxzcGFuIGNsYXNzPSdib2FyZC1pdGVtJyBkYXRhLWFpZD0nIithaWQrIicgZGF0YS1jaWQ9JyIrcGFnZXNbaV0uY2lkKyInIHRpdGxlPSciK3RpdGxlKyInPiIrdGl0bGUrIjwvc3Bhbj4iOwoJCQkJCQkJCX0KCQkJCQkJCQlzZWxmLnNob3dNb2RhbHMoaXRlbUh0bWwpOwoJCQkJCQkJCXNlbGYuZG93bmxvYWRSZXN1dFN1Y2Nlc3MoJGJ0bik7CgkJCQkJCQl9ZWxzZXsKCQkJCQkJCQlzZWxmLmRvd25sb2FkUmVzdXRFcnJvcigkYnRuKTsKCQkJCQkJCX0KCQkJCQkJfSkuY2F0Y2goKGVycm9yKT0+ewoJCQkJCQkJc2VsZi5kb3dubG9hZFJlc3V0RXJyb3IoJGJ0bik7CgkJCQkJCX0pOwoJCQkJCX0pOwoJCQkJCSQoImJvZHkiKS5vbigiY2xpY2siLCAiI2ZvY3VzX3NfIityYW5kb21OdW1iZXIsIGZ1bmN0aW9uKCl7CgkJCQkJCSQoIiNhcmNfdG9vbGJhcl9yZXBvcnQgLmxpa2UiKS5jbGljaygpOwoJCQkJCQkkKCIjYXJjX3Rvb2xiYXJfcmVwb3J0IC5jb2luIikuY2xpY2soKTsKCQkJCQl9KTsKCQkJCX0KCQkJCXRoaXMuc3RhcnQgPSBmdW5jdGlvbigpewoJCQkJCWxldCBsb2NhdGlvbkhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdCwgbG9jYXRpb25QYXRobmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTsKCQkJCQlpZihsb2NhdGlvbkhvc3Q9PT0id3d3LmJpbGliaWxpLmNvbSIgJiYgKGxvY2F0aW9uUGF0aG5hbWUuaW5kZXhPZigiL3ZpZGVvIikhPS0xIHx8IGxvY2F0aW9uUGF0aG5hbWUuaW5kZXhPZigiL3dhdGNobGF0ZXIiKSE9LTEpKXsKCQkJCQkJdGhpcy5jcmVhdGVFbGVtZW50SHRtbCgpOwoJCQkJCX0KCQkJCX0KCQkJfQoJCQl0cnl7CgkJCQkobmV3IGlubmVyQ2xhc3NEb3dubG9hZFZpZGVvQ29pbigpKS5zdGFydCgpOwoJCQl9Y2F0Y2goZSl7CgkJCQljb25zb2xlLmxvZygiaW5uZXJDbGFzc0Rvd25sb2FkVmlkZW9Db2luIitlKQoJCQl9CgkJfTsKCQl0aGlzLnJlY29yZFZpZXcgPSBmdW5jdGlvbigpeyAvL+a1j+iniOiusOW9lUNsYXNzCgkJCWZ1bmN0aW9uIGlubmVyQ2xhc3NSZWNvcmRWaWV3KCl7CgkJCQl0aGlzLmxvY2FsQ2FjaGVOYW1lID0gImJpbGliaWxpX3ZpZGVvX3JlY29yZCI7IAoJCQkJdGhpcy5yZWNvcmRPbmVWaWRlbyA9IGZ1bmN0aW9uKCl7CgkJCQkJbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+ewoJCQkJCQlsZXQgYnYgPSBjb21tb25GdW5jdGlvbk9iamVjdC5nZXRCaWxpYmlsaUJWKCk7CgkJCQkJCWxldCBjYWNoZVRleHQgPSBjb21tb25GdW5jdGlvbk9iamVjdC5HTWdldFZhbHVlKHRoaXMubG9jYWxDYWNoZU5hbWUpOwoJCQkJCQljYWNoZVRleHQgPSAhY2FjaGVUZXh0ID8gIiIgOiBjYWNoZVRleHQKCQkJCQkJbGV0IG1heExlbmd0aCA9IDEyKjUwMDsKCQkJCQkJbGV0IGN1cnJlbnRMZW5ndGggPSBjYWNoZVRleHQubGVuZ3RoOwoJCQkJCQlpZihjdXJyZW50TGVuZ3RoID4gbWF4TGVuZ3RoKXsKCQkJCQkJCWNhY2hlVGV4dCA9IGNhY2hlVGV4dC5zdWJzdHJpbmcoMTIqMTAwLCBjdXJyZW50TGVuZ3RoKTsKCQkJCQkJfQoJCQkJCQlpZihjYWNoZVRleHQuaW5kZXhPZihidik9PS0xKXsKCQkJCQkJCWNhY2hlVGV4dCArPSBidjsKCQkJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNc2V0VmFsdWUodGhpcy5sb2NhbENhY2hlTmFtZSwgY2FjaGVUZXh0KTsKCQkJCQkJfQoJCQkJCQlyZXNvbHZlKHsicmVzdWx0Ijoic3VjY2VzcyJ9KTsKCQkJCQl9KTsKCQkJCX07CgkJCQl0aGlzLnNlYXJjaFBhZ2VSZW1pbmRIdG1sID0gZnVuY3Rpb24oJGVsZSwgdG9wPTgsIHJpZ2h0PTgpewoJCQkJCSRlbGUuY3NzKCJwb3NpdGlvbiIsInJlbGF0aXZlIik7CgkJCQkJJGVsZS5hcHBlbmQoIjxkaXYgc3R5bGU9J3otaW5kZXg6IDk5OTk5OTk5O3Bvc2l0aW9uOmFic29sdXRlOyB0b3A6Iit0b3ArInB4OyByaWdodDoiK3JpZ2h0KyJweDsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTEsMTIzLDE1OSwxKTsgYm9yZGVyLXJhZGl1czozcHg7IGZvbnQtc2l6ZToxMHB4OyBjb2xvcjojRkZGO3BhZGRpbmc6MHB4IDJweDsnPuW3suecizwvZGl2PiIpOwoJCQkJfTsKCQkJCXRoaXMuc2VhcmNoUGFnZVJlbWluZCA9IGZ1bmN0aW9uKCl7CgkJCQkJbGV0ICR0aGF0ID0gdGhpczsKCQkJCQl2YXIgZWxlbWVudEFycmF5ID0gWwoJCQkJCQl7Im5vZGUiOiIudmlkZW8tbGlzdC1pdGVtIiwgInRvcCI6OCwgInJpZ2h0IjoxMn0sICAvL+aQnOe0oue7k+aenAoJCQkJCQl7Im5vZGUiOiIjcGFnZS1pbmRleCAuc21hbGwtaXRlbSIsICJ0b3AiOjEyLCAicmlnaHQiOjEyfSwgIC8v55So5oi35oqV56i/CgkJCQkJCXsibm9kZSI6IiNzdWJtaXQtdmlkZW8tbGlzdCAuc21hbGwtaXRlbSIsICJ0b3AiOjEyLCAicmlnaHQiOjEyfSwgLy/nlKjmiLfkuLvpobUKCQkJCQkJeyJub2RlIjoiI3BhZ2Utc2VyaWVzLWRldGFpbCAuc21hbGwtaXRlbS5mYWtlRGFubXUtaXRlbSIsICJ0b3AiOjEyLCAicmlnaHQiOjEyfSwgLy/nlKjmiLfkuLvpobXmipXnqL8KCQkJCQldOwoJCQkJCXNldEludGVydmFsKGZ1bmN0aW9uKCl7CgkJCQkJCWxldCBjYWNoZVRleHQgPSBjb21tb25GdW5jdGlvbk9iamVjdC5HTWdldFZhbHVlKCR0aGF0LmxvY2FsQ2FjaGVOYW1lKTsKCQkJCQkJY2FjaGVUZXh0ID0gIWNhY2hlVGV4dCA/ICIiIDogY2FjaGVUZXh0OwoJCQkJCQlmb3IodmFyIGk9MDsgaTxlbGVtZW50QXJyYXkubGVuZ3RoOyBpKyspewoJCQkJCQkJdmFyIGVsZW1lbnRvYmogPSBlbGVtZW50QXJyYXlbaV07CgkJCQkJCQkkKGVsZW1lbnRvYmoubm9kZSkuZWFjaChmdW5jdGlvbigpeyAvL+eUqOaIt+S4u+mhtQoJCQkJCQkJCWlmKCQodGhpcykuYXR0cigiZGVhbHhsbCIpIT09InRydWUiKXsKCQkJCQkJCQkJdmFyIHZpZGVvdXJsID0gJCh0aGlzKS5maW5kKCJhW2hyZWZePScvL3d3dy5iaWxpYmlsaS5jb20vdmlkZW8nXSIpLmF0dHIoImhyZWYiKTsKCQkJCQkJCQkJaWYoISF2aWRlb3VybCl7CgkJCQkJCQkJCQlpZihjYWNoZVRleHQuaW5kZXhPZih2aWRlb3VybC5zcGxpdCgiPyIpWzBdLnJlcGxhY2UoIi8vd3d3LmJpbGliaWxpLmNvbS92aWRlby8iLCIiKSkhPS0xKXsKCQkJCQkJCQkJCQkkdGhhdC5zZWFyY2hQYWdlUmVtaW5kSHRtbCgkKHRoaXMpLCBlbGVtZW50b2JqLnRvcCwgZWxlbWVudG9iai5yaWdodCk7CgkJCQkJCQkJCQl9CgkJCQkJCQkJCQkkKHRoaXMpLnVuYmluZCgiY2xpY2siKS5iaW5kKCJjbGljayIsICgpPT57ICAvL+W+queOr+aTjeS9nO+8jOWNleeLrOe7keWumgoJCQkJCQkJCQkJCSR0aGF0LnNlYXJjaFBhZ2VSZW1pbmRIdG1sKCQodGhpcyksIGVsZW1lbnRvYmoudG9wLCBlbGVtZW50b2JqLnJpZ2h0KTsKCQkJCQkJCQkJCX0pCgkJCQkJCQkJCQkkKHRoaXMpLmF0dHIoImRlYWx4bGwiLCJ0cnVlIik7CgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQl9KTsKCQkJCQkJfQoJCQkJCX0sIDMzMyk7CgkJCQl9CgkJCQl0aGlzLnN0YXJ0PWZ1bmN0aW9uKCl7CgkJCQkJbGV0ICR0aGF0ID0gdGhpczsKCQkJCQlpZih3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZigiL3ZpZGVvIikhPS0xICYmIHdpbmRvdy5sb2NhdGlvbi5ob3N0PT09Ind3dy5iaWxpYmlsaS5jb20iKXsKCQkJCQkJbGV0IGN1cnJlbnRIcmVmID0gIiI7CgkJCQkJCXNldEludGVydmFsKCgpPT57IC8v6ZyA6KaB5b6q546v5a2Y5YKoCgkJCQkJCQlpZih3aW5kb3cubG9jYXRpb24uaHJlZiE9PWN1cnJlbnRIcmVmKXsKCQkJCQkJCQl0aGlzLnJlY29yZE9uZVZpZGVvKCk7CgkJCQkJCQkJY3VycmVudEhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKCQkJCQkJCX0KCQkJCQkJfSwxNTApOwoJCQkJCX0KCQkJCQkvL+aQnOe0oue7k+aenOWSjOeUqOaIt+S4u+mhteW3sue7j+eci+i/h+eahOinhumikeaPkOmGkgoJCQkJCWlmKHdpbmRvdy5sb2NhdGlvbi5ob3N0LmluZGV4T2YoImJpbGliaWxpLmNvbSIpIT0tMSl7CgkJCQkJCXRoaXMuc2VhcmNoUGFnZVJlbWluZCgpOwoJCQkJCQlHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCLmuIXnqbpC56uZ5rWP6KeI6K6w5b2VIixmdW5jdGlvbigpewoJCQkJCQkJaWYoY29uZmlybSgn5piv5ZCm6KaB5riF56m6Quermea1j+iniOiusOW9le+8n+a4heepuuWQjuWwhuS4jeWPr+aBouWkjS4uLicpKXsKCQkJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTXNldFZhbHVlKCR0aGF0LmxvY2FsQ2FjaGVOYW1lLCAiIik7CgkJCQkJCQl9CgkJCQkJCX0pOwoJCQkJCX0KCQkJCX07CgkJCX0KCQkJdHJ5ewoJCQkJKG5ldyBpbm5lckNsYXNzUmVjb3JkVmlldygpKS5zdGFydCgpOwoJCQl9Y2F0Y2goZSl7CgkJCQljb25zb2xlLmxvZygiaW5uZXJDbGFzc1JlY29yZFZpZXciK2UpCgkJCX0KCQl9OwoJCXRoaXMuc3RhcnQgPSBmdW5jdGlvbigpewoJCQl0aGlzLmRvd25sb2FkVmlkZW9Db2luKCk7CgkJCXRoaXMucmVjb3JkVmlldygpOwoJCX0KCX0KCQoJLy/lm73lpJbnmoTkuIDkupvop6PmnpAKCWZ1bmN0aW9uIGFicm9hZFZpZGVvSGVscGVyKCl7CgkJdGhpcy5pc1J1biA9IGZ1bmN0aW9uKCl7CgkJCXZhciB1cmxzPVsieW91dHViZS5jb20iLCAiZmFjZWJvb2suY29tIl07CgkJCWZvcih2YXIgaT0wOyBpPHVybHMubGVuZ3RoO2krKyl7CgkJCQlpZih3aW5kb3cubG9jYXRpb24uaG9zdC5pbmRleE9mKHVybHNbaV0pIT0tMSl7CgkJCQkJcmV0dXJuIHRydWU7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIGZhbHNlOwoJCX07CgkJdGhpcy5zdGFydCA9IGZ1bmN0aW9uKCl7CgkJCWlmKCF0aGlzLmlzUnVuKCkpewoJCQkJcmV0dXJuOwoJCQl9CgkJCXNldEludGVydmFsKGZ1bmN0aW9uKCl7CgkJCQljb25zdCBob3N0ID0gd2luZG93LmxvY2F0aW9uLmhvc3Q7CgkJCQljb25zdCBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CgkJCQljb25zdCBlbGVJZCA9ICJmcmVlLXh4MS1wbGF5ZXItc2NyaXB0LTk5OTkiOwoJCQkJCgkJCQkvL3lvdXR1YmXop6PmnpAKCQkJCWlmKGhvc3QuaW5kZXhPZigieW91dHViZS5jb20iKSE9LTEpewoJCQkJCWlmKGhyZWYuaW5kZXhPZigieW91dHViZS5jb20vd2F0Y2giKSE9LTEpewoJCQkJCQlpZigkKCIjIitlbGVJZCkubGVuZ3RoICE9IDApewoJCQkJCQkJcmV0dXJuOwoJCQkJCQl9CgkJCQkJCSQoIiNwbGF5ZXItdGhlYXRlci1jb250YWluZXIiKS5jc3MoInotaW5kZXgiLDk5OTk5OTk5OTkpOyAvL+S/ruWkjeWFqOWxj+aYvuekuuino+aekOaMiemSrueahOmXrumimAoJCQkJCQl2YXIgaWNvblZpZGVvID0gImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBREFBQUFBd0NBWUFBQUJYQXZtSEFBQURPVWxFUVZSb1ErMlp6NHVOVVJqSFA5K0Y4ZzhneWtLSk5KTVVVbXpNREtabVlWWXNMQlJoT2FFbUZoUlJMQ1pEWTRQQnJKUlJFa1VNbVkzVVJDay9zNkdNaFI5WldOazlPdlhPN2IxMzN2ZSs1N3cvN3N6VW5McWJlNTlmbi9PYzg1em5uQ3ZtK05BY2o1OTVnSGdHeld3RHNCWllEYXdFRmdJL2dUL0FSMG5EWldlOGxBeVlXVGV3RjlpVEVlQTRNQ1RwYmxrZ2hRSE03Qnh3UERDZ0FVbjlnVHFKNG9VQXpPd0tjQ2huSUNPUzl1WFVyYW5sQmpDemE4Q0JnZ0ZjbEhTa2lJMWNBR2JXQlR3dDRqaW0yeTNwU1Y1YndRQm10Z3E0QmF6UDY3UkI3dzNnc3ZBWCtDYnBWNGhkTDRDb1BHNEgzS2NqeEVFT1dWZHlId1Bqa3E1bTZXY0NtTm1GYUlheWJGWHgrMnZnc3FTUk5PT3BBR2EyR0hoWTRsSXBBbmhhMHFra0E0a0FadVpPMGs5RlBGYWcyeUhKSFlSMUl3M2dPN0NzZ2lDS21Qd01kRW1hakJ1WkJtQm1idU1jTE9LcFF0MUJTVWRUQWN6TVZabVFtand0cFRtQzN4cW8weWJwdzVST1hRYk1yQSs0NUd0UVVtWVZ5N0psWnBZbDAvQjczWVp1QkFqcWJXWUk0S1dreldrWmVCVlNOdU1BWnVhMUZCb3JTWTRNVEVwYW5nWVFsTTRFZ09kWnk2RXhhemtBaU50b1hFTHZnTGFzSUdyMHNUMFFaYUFWQU84bHRhZGxZQlRZTmNzQjdramFuUVp3SGpnMnl3R2FWaUhYSXJ1TjdEVm1ZQSs0bG51ZHBDK0pHWEJmaGx3VFp3REFQUWk0czZvMmtsb0o5eXp5eUtjWGFqR0E2NEY2SkwxdENoQmx3ZFgwb0lyU2dpclVLK2wrNDlwdWRoL0loR2hoQnZvbERTUnR6S2E5akprdEJkeHJXaytpY3ZYbndPM29JZXhGV2xYSmJNYk1iQUd3SlFXZzFvMFdXRUtwTFVqU0JjWjdDWG5WMFpoUVhvQlFQL01BVXpOZ1p1NVo4RWJSR1FUMlM3cVoxMDdtSG1obXVJUW5sMmxYeEZDUVFnRFJtVEVHYkF0MURJeEoycEZEcjA2bERJQkZnRHNkbHdRRTh3Tm9sL1E3UUNkUnREQkFsSVZPNEZsQU1KMlNNazk2SDN1bEFFUVFoNEZCRDZkOWtvWTg1THhFU2dPSUlLNjdxdExFODdDa1V0K2NTZ1dJSUNhQWpRa1FFNUkyZVUxcmdGQVZBQ3NBOS9Eay9xR2NHditBTlpLK0JzVG1KVm82UUpTRlh1QmVMSUtka2g1NFJSUW9WQWxBQkhFQ09BT2NsSFEyTUM1djhjb0FJb2pSK0F1Q2QxUUJncFVDQk1TUlczUWVJUGZVbGFUNEgwLzdSVUFpMmEvTkFBQUFBRWxGVGtTdVFtQ0MiOwoJCQkJCQl2YXIgaHRtbD0nPGRpdiBpZD0iJytlbGVJZCsnIiBzdHlsZT0id2lkdGg6MjVweDtwYWRkaW5nOjEwcHggMHB4O3RleHQtYWxpZ246Y2VudGVyO2JhY2tncm91bmQtY29sb3I6I0U1MjEyRTtwb3NpdGlvbjpmaXhlZDt0b3A6MjUwcHg7bGVmdDowcHg7Y29sb3I6I0ZGRjtmb250LXNpemU6MHB4O2N1cnNvcjpwb2ludGVyO21hcmdpbjowcHggYXV0bzt0ZXh0LWFsaWduOmNlbnRlcjt6LWluZGV4Ojk5OTk5OTk7Ij4nKwoJCQkJCQkJJzxpbWcgc3JjPSInK2ljb25WaWRlbysnIiBzdHlsZT0id2lkdGg6MjBweDsiPicrCgkJCQkJCQknPC9kaXY+JzsKCQkJCQkJJCgiYm9keSIpLmFwcGVuZChodG1sKTsKCQkJCQkJJCgiYm9keSIpLm9uKCJjbGljayIsICIjIitlbGVJZCwgZnVuY3Rpb24oKXsKCQkJCQkJCXZhciBsb2NhdGlvbl91cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKCQkJCQkJCXZhciB2aWRlb3VybCA9ICJodHRwczovL3d3dy55dGRvd25may5jb20vc2VhcmNoP3VybD0iK2xvY2F0aW9uX3VybDsKCQkJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNb3BlbkluVGFiKHZpZGVvdXJsLCBmYWxzZSk7CgkJCQkJCX0pOwoJCQkJCX1lbHNlewoJCQkJCQkkKCIjIitlbGVJZCkucmVtb3ZlKCk7CgkJCQkJfQoJCQkJfQoJCQkJCgkJCQkvL2ZhY2Vib29r6Kej5p6QCgkJCQlpZihob3N0LmluZGV4T2YoImZhY2Vib29rLmNvbSIpIT0tMSl7CgkJCQkJaWYoaHJlZi5pbmRleE9mKCJmYWNlYm9vay5jb20vd2F0Y2giKSE9LTEgfHwgaHJlZi5pbmRleE9mKCIvdmlkZW9zLyIpIT0tMSl7CgkJCQkJCWlmKCQoIiMiK2VsZUlkKS5sZW5ndGggIT0gMCl7CgkJCQkJCQlyZXR1cm47CgkJCQkJCX0KCQkJCQkJdmFyIGljb25WaWRlbyA9ICJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQURBQUFBQXdDQVlBQUFCWEF2bUhBQUFET1VsRVFWUm9RKzJaejR1TlVSakhQOStGOGc4Z3lrS0pOSk1VVW16TURLWm1ZVllzTEJSaE9hRW1GaFJSTENaRFk0UEJySlJSRWtVTW1ZM1VSQ2svczZHTWhSOVpXTms5T3ZYTzdiMTMzdmUrNTd3LzdzelVuTHFiZTU5Zm4vT2M4NXpubkN2bStOQWNqNTk1Z0hnR3pXd0RzQlpZRGF3RUZnSS9nVC9BUjBuRFpXZThsQXlZV1Rld0Y5aVRFZUE0TUNUcGJsa2doUUhNN0J4d1BEQ2dBVW45Z1RxSjRvVUF6T3dLY0NobklDT1M5dVhVcmFubEJqQ3phOENCZ2dGY2xIU2tpSTFjQUdiV0JUd3Q0amltMnkzcFNWNWJ3UUJtdGdxNEJhelA2N1JCN3czZ3N2QVgrQ2JwVjRoZEw0Q29QRzRIM0tjanhFRU9XVmR5SHdQamtxNW02V2NDbU5tRmFJYXliRlh4KzJ2Z3NxU1JOT09wQUdhMkdIaFk0bElwQW5oYTBxa2tBNGtBWnVaTzBrOUZQRmFnMnlISkhZUjFJdzNnTzdDc2dpQ0ttUHdNZEVtYWpCdVpCbUJtYnVNY0xPS3BRdDFCU1VkVEFjek1WWm1RbWp3dHBUbUMzeHFvMHlicHc1Uk9YUWJNckErNDVHdFFVbVlWeTdKbFpwWWwwL0I3M1ladUJBanFiV1lJNEtXa3pXa1plQlZTTnVNQVp1YTFGQm9yU1k0TVRFcGFuZ1lRbE00RWdPZFp5NkV4YXprQWlOdG9YRUx2Z0xhc0lHcjBzVDBRWmFBVkFPOGx0YWRsWUJUWU5jc0I3a2phblFad0hqZzJ5d0dhVmlIWElydU43RFZtWUErNGxudWRwQytKR1hCZmhsd1Rad0RBUFFpNHM2bzJrbG9KOXl6eXlLY1hhakdBNjRGNkpMMXRDaEJsd2RYMG9JclNnaXJVSytsKzQ5cHVkaC9JaEdoaEJ2b2xEU1J0ekthOWpKa3RCZHhyV2sraWN2WG53TzNvSWV4RldsWEpiTWJNYkFHd0pRV2cxbzBXV0VLcExValNCY1o3Q1huVjBaaFFYb0JRUC9NQVV6TmdadTVaOEViUkdRVDJTN3FaMTA3bUhtaG11SVFubDJsWHhGQ1FRZ0RSbVRFR2JBdDFESXhKMnBGRHIwNmxESUJGZ0RzZGx3UUU4d05vbC9RN1FDZFJ0REJBbElWTzRGbEFNSjJTTWs5NkgzdWxBRVFRaDRGQkQ2ZDlrb1k4NUx4RVNnT0lJSzY3cXRMRTg3Q2tVdCtjU2dXSUlDYUFqUWtRRTVJMmVVMXJnRkFWQUNzQTkvRGsvcUdjR3YrQU5aSytCc1RtSlZvNlFKU0ZYdUJlTElLZGtoNTRSUlFvVkFsQUJIRUNPQU9jbEhRMk1DNXY4Y29BSW9qUitBdUNkMVFCZ3BVQ0JNU1JXM1FlSVBmVWxhVDRIMC83UlVBaTJhL05BQUFBQUVsRlRrU3VRbUNDIjsKCQkJCQkJdmFyIGh0bWw9JzxkaXYgaWQ9IicrZWxlSWQrJyIgc3R5bGU9IndpZHRoOjI1cHg7cGFkZGluZzoxMHB4IDBweDt0ZXh0LWFsaWduOmNlbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOiNFNTIxMkU7cG9zaXRpb246Zml4ZWQ7dG9wOjI1MHB4O2xlZnQ6MHB4O2NvbG9yOiNGRkY7Zm9udC1zaXplOjBweDt6LWluZGV4Ojk5OTk5OTk5OTk5OTk7Y3Vyc29yOnBvaW50ZXI7bWFyZ2luOjBweCBhdXRvO3RleHQtYWxpZ246Y2VudGVyOyI+JysKCQkJCQkJCSc8aW1nIHNyYz0iJytpY29uVmlkZW8rJyIgc3R5bGU9IndpZHRoOjIwcHg7Ij4nKwoJCQkJCQkJJzwvZGl2Pic7CgkJCQkJCSQoImJvZHkiKS5hcHBlbmQoaHRtbCk7CgkJCQkJCSQoImJvZHkiKS5vbigiY2xpY2siLCAiIyIrZWxlSWQsIGZ1bmN0aW9uKCl7CgkJCQkJCQl2YXIgbG9jYXRpb25fdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CgkJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTXNldFZhbHVlKCJmYWNlYm9va19kb3dubG9hZGVyX29iaiIsIHsiZmFjZWJvb2tfdXJsIjpsb2NhdGlvbl91cmx9KTsKCQkJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNb3BlbkluVGFiKCJodHRwczovL3l0MXMuY29tL2ZhY2Vib29rLWRvd25sb2FkZXIiLCBmYWxzZSk7CgkJCQkJCX0pOwoJCQkJCX1lbHNlewoJCQkJCQkkKCIjIitlbGVJZCkucmVtb3ZlKCk7CgkJCQkJfQoJCQkJfQoJCQl9LCA1MDApOwoJCQkKCQkJaWYod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigieXQxcy5jb20vZmFjZWJvb2stZG93bmxvYWRlciIpIT0tMSl7IC8vZmFjZWJvb2vkuIvovb0KCQkJCXZhciBmYWNlYm9va09iamVjdCA9IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNZ2V0VmFsdWUoImZhY2Vib29rX2Rvd25sb2FkZXJfb2JqIik7CgkJCQlpZighIWZhY2Vib29rT2JqZWN0KXsKCQkJCQkkKCIjc19pbnB1dCIpLnZhbChmYWNlYm9va09iamVjdC5mYWNlYm9va191cmwpOwoJCQkJfQoJCQl9CgkJfQoJfQoJCgkvL+S8mOaDoOWIuOafpeivogoJZnVuY3Rpb24gcXVlcnlDb3Vwb24oKXsKCQl0aGlzLmlzUnVuID0gZnVuY3Rpb24oKXsKCQkJdmFyIHVybHM9WyJkZXRhaWwudG1hbGwuY29tIiwgIml0ZW0udGFvYmFvLmNvbSIsICJpdGVtLmpkLmNvbSIsICJpdGVtLnlpeWFvamQuY29tIiwgIm5wY2l0ZW0uamQuaGsiLCAiZGV0YWlsLnRtYWxsLmhrIl07CgkJCWZvcih2YXIgaT0wOyBpPHVybHMubGVuZ3RoO2krKyl7CgkJCQlpZih3aW5kb3cubG9jYXRpb24uaG9zdC5pbmRleE9mKHVybHNbaV0pIT0tMSl7CgkJCQkJcmV0dXJuIHRydWU7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQl0aGlzLmdldFBsYXRmb3JtID0gZnVuY3Rpb24oKXsKCQkJbGV0IGhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdDsKCQkJbGV0IHBsYXRmb3JtID0gIiI7CgkJCWlmKGhvc3QuaW5kZXhPZigiZGV0YWlsLnRtYWxsIikhPS0xKXsKCQkJCXBsYXRmb3JtID0gInRtYWxsIjsKCQkJfWVsc2UgaWYoaG9zdC5pbmRleE9mKCJpdGVtLnRhb2Jhby5jb20iKSE9LTEpewoJCQkJcGxhdGZvcm0gPSAidGFvYmFvIjsKCQkJfWVsc2UgaWYoaG9zdC5pbmRleE9mKCJqZC5jb20iKSE9LTEgfHwgaG9zdC5pbmRleE9mKCJucGNpdGVtLmpkLmhrIikhPS0xKXsKCQkJCXBsYXRmb3JtID0gImpkIjsKCQkJfQoJCQlyZXR1cm4gcGxhdGZvcm07CgkJfTsKCQl0aGlzLmZpbHRlclN0ciA9IGZ1bmN0aW9uKHN0cil7CgkJCWlmKCFzdHIpIHJldHVybiAiIjsKCQkJc3RyID0gc3RyLnJlcGxhY2UoL1x0L2csIiIpOwoJCQlzdHIgPSBzdHIucmVwbGFjZSgvXHIvZywiIik7CgkJCXN0ciA9IHN0ci5yZXBsYWNlKC9cbi9nLCIiKTsKCQkJc3RyID0gc3RyLnJlcGxhY2UoL1wrL2csIiUyQiIpOy8vIisiCgkJCXN0ciA9IHN0ci5yZXBsYWNlKC9cJi9nLCIlMjYiKTsvLyImIgoJCQlzdHIgPSBzdHIucmVwbGFjZSgvXCMvZywiJTIzIik7Ly8iIyIKCQkJcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpCgkJfTsKCQl0aGlzLmdldFBhcmFtdGVyUXVlcnlVcmwgPSBmdW5jdGlvbih0YWcpIHsgLy/mn6Xor6JHRVTor7fmsYJ1cmzkuK3nmoTlj4LmlbAKCQkJdmFyIHQgPSBuZXcgUmVnRXhwKCIoXnwmKSIgKyB0YWcgKyAiPShbXiZdKikoJnwkKSIpOwoJCQl2YXIgYSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpLm1hdGNoKHQpOwoJCQlpZiAoYSAhPSBudWxsKXsKCQkJCXJldHVybiBhWzJdOwoJCQl9CgkJCXJldHVybiAiIjsKCQl9OwoJCXRoaXMuZ2V0RW5kSHRtbElkQnlVcmwgPSBmdW5jdGlvbih1cmwpIHsgLy/ojrflvpfku6VodG1s57uT5p2f55qESUQKCQkJaWYodXJsLmluZGV4T2YoIj8iKSE9LTEpewoJCQkJdXJsID0gdXJsLnNwbGl0KCI/IilbMF0KCQkJfQoJCQlpZih1cmwuaW5kZXhPZigiIyIpIT0tMSl7CgkJCQl1cmwgPSB1cmwuc3BsaXQoIiMiKVswXQoJCQl9CgkJCXZhciBzcGxpdFRleHQgPSB1cmwuc3BsaXQoIi8iKTsKCQkJdmFyIGlkVGV4dCA9IHNwbGl0VGV4dFtzcGxpdFRleHQubGVuZ3RoLTFdOwoJCQlpZFRleHQgPSBpZFRleHQucmVwbGFjZSgiLmh0bWwiLCIiKTsKCQkJcmV0dXJuIGlkVGV4dDsKCQl9OwoJCXRoaXMuZ2V0R29vZHNEYXRhID0gZnVuY3Rpb24ocGxhdGZvcm0pewoJCQl2YXIgZ29vZHNJZCA9ICIiOwoJCQl2YXIgZ29vZHNOYW1lID0gIiI7CgkJCXZhciBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CgkJCWlmKHBsYXRmb3JtPT0idGFvYmFvIil7CgkJCQlnb29kc0lkID0gdGhpcy5nZXRQYXJhbXRlclF1ZXJ5VXJsKCJpZCIpOwoJCQkJZ29vZHNOYW1lPSQoIi50Yi1tYWluLXRpdGxlIikudGV4dCgpOwoKCQkJfWVsc2UgaWYocGxhdGZvcm09PSJ0bWFsbCIpewoJCQkJZ29vZHNJZCA9IHRoaXMuZ2V0UGFyYW10ZXJRdWVyeVVybCgiaWQiKTsKCQkJCWdvb2RzTmFtZT0kKCIudGItZGV0YWlsLWhkIikudGV4dCgpOwoKCQkJfWVsc2UgaWYocGxhdGZvcm09PSJqZCIpewoJCQkJZ29vZHNOYW1lPSQoImRpdi5za3UtbmFtZSIpLnRleHQoKTsKCQkJCWdvb2RzSWQgPSB0aGlzLmdldEVuZEh0bWxJZEJ5VXJsKGhyZWYpOwoKCQkJfQoJCQl2YXIgZGF0YT17Imdvb2RzSWQiOmdvb2RzSWQsICJnb29kc05hbWUiOnRoaXMuZmlsdGVyU3RyKGdvb2RzTmFtZSl9CgkJCXJldHVybiBkYXRhOwoJCX07CgkJdGhpcy5yYW5kb21TcG1WYWx1ZT1mdW5jdGlvbigpewoJCQkkKCJtZXRhW25hbWU9J2RhdGEtc3BtJ10iKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCQl2YXIgbWF4ID0gNTAwMDsKCQkJCXZhciBtaW4gPSAxMDAwOwoJCQkJdmFyIHJhbmRvbVZhbHVlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICkgKyBtaW47CgkJCQl2YXIgcmFuZG9tTGV0dGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShNYXRoLmZsb29yKCBNYXRoLnJhbmRvbSgpICogMjYpICsgImEiLmNoYXJDb2RlQXQoMCkpOwoJCQkJJCh0aGlzKS5hdHRyKCJjb250ZW50IiwgcmFuZG9tVmFsdWUrcmFuZG9tTGV0dGVyKTsKCQkJfSk7CgkJCSQoIm1ldGFbbmFtZT0nc3BtLWlkJ10iKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCQl2YXIgbWF4ID0gNTAwMDsKCQkJCXZhciBtaW4gPSAxMDAwOwoJCQkJdmFyIHJhbmRvbVZhbHVlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICkgKyBtaW47CgkJCQl2YXIgcmFuZG9tTGV0dGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShNYXRoLmZsb29yKCBNYXRoLnJhbmRvbSgpICogMjYpICsgImEiLmNoYXJDb2RlQXQoMCkpOwoJCQkJJCh0aGlzKS5hdHRyKCJjb250ZW50IiwgcmFuZG9tVmFsdWUrcmFuZG9tTGV0dGVyKTsKCQkJfSk7CgkJfTsKCQl0aGlzLnJ1bkFsaURlY2VwdGlvblNwbT1mdW5jdGlvbigpIHsKCQkJaWYod2luZG93LmxvY2F0aW9uLmhvc3QuaW5kZXhPZigiYWxpeXVuLmNvbSIpIT0tMSB8fCB3aW5kb3cubG9jYXRpb24uaG9zdC5pbmRleE9mKCJ0YW9iYW8uY29tIikhPS0xIHx8IHdpbmRvdy5sb2NhdGlvbi5ob3N0LmluZGV4T2YoInRtYWxsLmNvbSIpIT0tMSl7CgkJCQl0aGlzLnJhbmRvbVNwbVZhbHVlKCk7CgkJCQlzZXRJbnRlcnZhbCgoKT0+ewoJCQkJCXRoaXMucmFuZG9tU3BtVmFsdWUoKTsKCQkJCX0sIDQwMDApOwoJCQl9CgkJfTsKCQl0aGlzLnJlcXVlc3QgPSBmdW5jdGlvbihtb3RoZWQsIHVybCwgcGFyYW0pewoJCQlyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXsKCQkJCUdNX3htbGh0dHBSZXF1ZXN0KHsKCQkJCQl1cmw6IHVybCwKCQkJCQltZXRob2Q6IG1vdGhlZCwKCQkJCQlkYXRhOnBhcmFtLAoJCQkJCW9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCQkJdmFyIHN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1czsKCQkJCQkJdmFyIHBsYXl1cmwgPSAiIjsKCQkJCQkJaWYoc3RhdHVzPT0yMDB8fHN0YXR1cz09JzIwMCcpewoJCQkJCQkJdmFyIHJlc3BvbnNlVGV4dCA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dDsKCQkJCQkJCXJlc29sdmUoeyJyZXN1bHQiOiJzdWNjZXNzIiwgImpzb24iOnJlc3BvbnNlVGV4dH0pOwoJCQkJCQl9ZWxzZXsKCQkJCQkJCXJlamVjdCh7InJlc3VsdCI6ImVycm9yIiwgImpzb24iOm51bGx9KTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0pOwoJCQl9KQoJCX07CgkJdGhpcy5jcmVhdGVDb3Vwb25IdG1sID0gZnVuY3Rpb24ocGxhdGZvcm0sIGdvb2RzSWQsIGdvb2RzTmFtZSl7CgkJCWlmKCFwbGF0Zm9ybSB8fCAhZ29vZHNJZCkgcmV0dXJuOwoJCQl2YXIgZ29vZHNDb3Vwb25VcmwgPSAiaHR0cDovL3R0LnNodXFpYW5kaXFpdS5jb20vYXBpL2NvdXBvbi9kaXNjb3Zlcj9ubz01JnY9MS4wLjImcGw9IitwbGF0Zm9ybSsiJmlkPSIrZ29vZHNJZCsiJnF1PSIrZ29vZHNOYW1lOwoJCQl2YXIgZ29vZHNQcml2YXRlVXJsID0gImh0dHA6Ly90dC5zaHVxaWFuZGlxaXUuY29tL2FwaS9wcml2YXRlL2NoYW5nZS9jb3Vwb24/bm89NSZ2PTEuMC4yJnBsYXRmb3JtPSIrcGxhdGZvcm0rIiZpZD0iOwoKCQkJdGhpcy5yZXF1ZXN0KCJHRVQiLCBnb29kc0NvdXBvblVybCwgbnVsbCkudGhlbigocmVzdXREYXRhKT0+ewoJCQkJaWYocmVzdXREYXRhLnJlc3VsdD09PSJzdWNjZXNzIiAmJiAhIXJlc3V0RGF0YS5qc29uKXsKCQkJCQl2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdXREYXRhLmpzb24pLmRhdGE7CgkJCQkJaWYoIWRhdGEgfHwgZGF0YT09PSJudWxsIiB8fCAhZGF0YS5jc3MgfHwgIWRhdGEuaHRtbCB8fCAhZGF0YS5oYW5kbGVyKXsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCQl2YXIgY3NzVGV4dCA9IGRhdGEuY3NzOwoJCQkJCXZhciBodG1sVGV4dCA9IGRhdGEuaHRtbDsKCQkJCQl2YXIgaGFuZGxlciA9IGRhdGEuaGFuZGxlcjsKCQkJCQl2YXIgdGVtcGxhdGVJZCA9IGRhdGEudGVtcGxhdGVJZDsKCQkJCQlpZighY3NzVGV4dCB8fCAhaHRtbFRleHQgfHwgIWhhbmRsZXIpewoJCQkJCQlyZXR1cm47CgkJCQkJfQoJCQkJCSQoImJvZHkiKS5wcmVwZW5kKCI8c3R5bGU+Iitjc3NUZXh0KyI8L3N0eWxlPiIpOwoJCQkJCQoJCQkJCXZhciBoYW5kbGVycyA9IGhhbmRsZXIuc3BsaXQoIkAiKTsKCQkJCQlmb3IodmFyIGk9MDsgaTxoYW5kbGVycy5sZW5ndGg7IGkrKyl7CgkJCQkJCXZhciAkaGFuZGxlciA9ICQoIiIraGFuZGxlcnNbaV0rIiIpOwoJCQkJCQlpZihwbGF0Zm9ybT09InRhb2JhbyIpewoJCQkJCQkJJGhhbmRsZXIucGFyZW50KCkuYWZ0ZXIoaHRtbFRleHQpOwoJCQkJCQl9ZWxzZSBpZihwbGF0Zm9ybT09InRtYWxsIil7CgkJCQkJCQkkaGFuZGxlci5wYXJlbnQoKS5hZnRlcihodG1sVGV4dCk7CgkJCQkJCX1lbHNlIGlmKHBsYXRmb3JtPT0iamQiKXsKCQkJCQkJCSRoYW5kbGVyLmFmdGVyKGh0bWxUZXh0KTsKCQkJCQkJfQoJCQkJCX0KCQkJCQl2YXIgJGxsa2sgPSAkKCIjIit0ZW1wbGF0ZUlkKTsKCQkJCQlpZigkbGxray5sZW5ndGggIT0gMCl7CgkJCQkJCWxldCBjb3Vwb25FbGVtZW50QSA9ICRsbGtrLmZpbmQoImFbbmFtZT0nY3BTaFVybCddIik7CgkJCQkJCWNvdXBvbkVsZW1lbnRBLnVuYmluZCgiY2xpY2siKS5iaW5kKCJjbGljayIsICgpPT57CgkJCQkJCQlldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKCQkJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCQlsZXQgY291cG9uSWQgPSAkbGxray5kYXRhKCJpZCIpOwoJCQkJCQkJaWYoISFjb3Vwb25JZCl7CgkJCQkJCQkJdGhpcy5yZXF1ZXN0KCJHRVQiLCBnb29kc1ByaXZhdGVVcmwrY291cG9uSWQsIG51bGwpLnRoZW4oKHJlc3V0RGF0YTIpPT57CgkJCQkJCQkJCWlmKHJlc3V0RGF0YTIucmVzdWx0PT09InN1Y2Nlc3MiICYmICEhcmVzdXREYXRhMi5qc29uKXsKCQkJCQkJCQkJCWxldCB1cmwgPSBKU09OLnBhcnNlKHJlc3V0RGF0YTIuanNvbikudXJsOwoJCQkJCQkJCQkJaWYoISF1cmwpIEdNX29wZW5JblRhYih1cmwsIHthY3RpdmU6dHJ1ZX0pOwoJCQkJCQkJCQl9CgkJCQkJCQkJfSk7CgkJCQkJCQl9CgkJCQkJCX0pOwoJCQkJCQlzZXRJbnRlcnZhbCgoKT0+ewoJCQkJCQkJJGxsa2suZmluZCgiKiIpLmVhY2goZnVuY3Rpb24oKXsKCQkJCQkJCQkkKHRoaXMpLnJlbW92ZUF0dHIoImRhdGEtc3BtLWFuY2hvci1pZCIpCgkJCQkJCQl9KTsKCQkJCQkJfSwxMDApOwoJCQkJCQkKCQkJCQkJLy9jYW52YXPnlLvkuoznu7TnoIEKCQkJCQkJdmFyICRjYW52YXNFbGVtZW50ID0gJCgiI2NhIit0ZW1wbGF0ZUlkKTsKCQkJCQkJaWYoJGNhbnZhc0VsZW1lbnQubGVuZ3RoICE9IDApewoJCQkJCQkJbGV0IGNvdXBvbklkID0gJGxsa2suZGF0YSgiaWQiKTsKCQkJCQkJCXRoaXMucmVxdWVzdCgiR0VUIiwgZ29vZHNQcml2YXRlVXJsK2NvdXBvbklkLCBudWxsKS50aGVuKChyZXN1dERhdGEyKT0+ewoJCQkJCQkJCWlmKHJlc3V0RGF0YTIucmVzdWx0PT09InN1Y2Nlc3MiICYmICEhcmVzdXREYXRhMi5qc29uKXsKCQkJCQkJCQkJbGV0IGltZyA9IEpTT04ucGFyc2UocmVzdXREYXRhMi5qc29uKS5pbWc7CgkJCQkJCQkJCWlmKCEhaW1nKXsKCQkJCQkJCQkJCXZhciBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhIit0ZW1wbGF0ZUlkKTsKCQkJCQkJCQkJCXZhciBjeHQgPSBjYW52YXNFbGVtZW50LmdldENvbnRleHQoIjJkIik7CgkJCQkJCQkJCQl2YXIgaW1nRGF0YSA9IG5ldyBJbWFnZSgpOwoJCQkJCQkJCQkJaW1nRGF0YS5zcmMgPSBpbWc7CgkJCQkJCQkJCQlpbWdEYXRhLm9ubG9hZD1mdW5jdGlvbigpewoJCQkJCQkJCQkJCWN4dC5kcmF3SW1hZ2UoaW1nRGF0YSwgMCwgMCwgaW1nRGF0YS53aWR0aCwgaW1nRGF0YS5oZWlnaHQpOwoJCQkJCQkJCQkJfQoJCQkJCQkJCQl9CgkJCQkJCQkJfQoJCQkJCQkJfSk7CgkJCQkJCX0KCQkJCQkJCgkJCQkJfQoJCQkJfQoJCQl9KTsKCQl9OwoJCXRoaXMuc3RhcnQgPSBmdW5jdGlvbigpewoJCQlpZih0aGlzLmlzUnVuKCkpewkJCQkKCQkJCXZhciBwbGF0Zm9ybSA9IHRoaXMuZ2V0UGxhdGZvcm0oKTsKCQkJCWlmKCEhcGxhdGZvcm0pewoJCQkJCXZhciBnb29kc0RhdGEgPSB0aGlzLmdldEdvb2RzRGF0YShwbGF0Zm9ybSk7CgkJCQkJdGhpcy5jcmVhdGVDb3Vwb25IdG1sKHBsYXRmb3JtLCBnb29kc0RhdGEuZ29vZHNJZCwgZ29vZHNEYXRhLmdvb2RzTmFtZSk7CgkJCQl9CgkJCX0KCQkJdGhpcy5ydW5BbGlEZWNlcHRpb25TcG0oKTsKCQl9OwoJfQoJCgkvKioKCSAqIOWFqOe9kemfs+S5kOino+aekOS4i+i9vQoJICovCglmdW5jdGlvbiBzdXBlck11c2ljSGVscGVyKCl7CgkJdGhpcy5lbGVJZCA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpKjEwMDAwMDAwMCk7CgkJdGhpcy5pc1J1biA9IGZ1bmN0aW9uKCl7CgkJCXZhciB1cmxzPVsibXVzaWMuMTYzLmNvbSIsInkucXEuY29tIiwid3d3Lmt1Z291LmNvbSIsInd3dy5rdXdvLmNuIiwid3d3LnhpYW1pLmNvbSIsIm11c2ljLnRhaWhlLmNvbSIsIm11c2ljLm1pZ3UuY24iLCJsaXpoaS5mbSIsInFpbmd0aW5nLmZtIiwieGltYWxheWEuY29tIl07CgkJCWZvcih2YXIgaT0wOyBpPHVybHMubGVuZ3RoO2krKyl7CgkJCQlpZih3aW5kb3cubG9jYXRpb24uaG9zdC5pbmRleE9mKHVybHNbaV0pIT0tMSl7CgkJCQkJcmV0dXJuIHRydWU7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIGZhbHNlOwoJCX07CgkJdGhpcy5nZXRQbGF5VXJsID0gZnVuY3Rpb24oKXsKCQkJdmFyIGN1cnJlbnRIb3N0ID0gd2luZG93LmxvY2F0aW9uLmhvc3Q7CgkJCXZhciBjdXJyZW50VXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CgkJCXZhciBwbGF5VXJsID0gbnVsbDsKCQkJaWYoY3VycmVudFVybC5tYXRjaCgvbXVzaWNcLjE2M1wuLykpeyAvL+e9keaYk+S6kemfs+S5kAoJCQkJaWYoY3VycmVudFVybC5tYXRjaCgvXmh0dHBzPzpcL1wvbXVzaWNcLjE2M1wuY29tXC8jXC8oPzpzb25nfGRqKVw/aWQvKSkgewoJCQkJCXBsYXlVcmwgPSAnaHR0cHM6Ly9tdXNpYy5saXV6aGlqaW4uY24vP3VybD0nK2VuY29kZVVSSUNvbXBvbmVudChjdXJyZW50VXJsKTsKCQkJCX1lbHNlIGlmKGN1cnJlbnRVcmwubWF0Y2goL15odHRwcz86XC9cL3lcLm11c2ljXC4xNjNcLmNvbVwvbVwvKD86c29uZ3xkailcP2lkLykpIHsKCQkJCQlwbGF5VXJsID0gJ2h0dHBzOi8vbXVzaWMubGl1emhpamluLmNuLz91cmw9JytlbmNvZGVVUklDb21wb25lbnQoJ2h0dHBzOi8vbXVzaWMuMTYzLmNvbS9zb25nP2lkPScrZ2V0UXVlcnlTdHJpbmcoJ2lkJykpOwoJCQkJfQoJCQl9CgkJCWVsc2UgaWYoY3VycmVudFVybC5tYXRjaCgveVwucXFcLmNvbS8pKXsgLy9RUemfs+S5kAoJCQkJaWYoY3VycmVudFVybC5pbmRleE9mKCI/IikpIGN1cnJlbnRVcmwgPSBjdXJyZW50VXJsLnNwbGl0KCI/IilbMF07CgkJCQlpZihjdXJyZW50VXJsLmluZGV4T2YoIiMiKSkgY3VycmVudFVybCA9IGN1cnJlbnRVcmwuc3BsaXQoIiMiKVswXTsKCQkJCXZhciBtdXNpY01hdGNoID0gY3VycmVudFVybC5tYXRjaCgvXmh0dHBzPzpcL1wveVwucXFcLmNvbVwvblwvcnlxcVwvc29uZ0RldGFpbFwvKFxTKikvKTsKCQkJCWlmKG11c2ljTWF0Y2gpewoJCQkJCXBsYXlVcmwgPSAnaHR0cHM6Ly9tdXNpYy5saXV6aGlqaW4uY24vP2lkPScrbXVzaWNNYXRjaFsxXSsnJnR5cGU9cXEnCgkJCQl9CgkJCQl2YXIgbXVzaWNNYXRjaDIgPSBjdXJyZW50VXJsLm1hdGNoKC9eaHR0cHM/OlwvXC95XC5xcVwuY29tXC9uXC95cXFcL3NvbmdcLyhcUyopLmh0bWwvKTsKCQkJCWlmKG11c2ljTWF0Y2gyKXsKCQkJCQlwbGF5VXJsID0gJ2h0dHBzOi8vbXVzaWMubGl1emhpamluLmNuLz9pZD0nK211c2ljTWF0Y2gyWzFdKycmdHlwZT1xcSc7CgkJCQl9CgkJCX0KCQkJZWxzZSBpZihjdXJyZW50VXJsLm1hdGNoKC9rdWdvdVwuY29tLykpeyAvL+mFt+eLlwoJCQkJdmFyIG11c2ljTWF0Y2ggPSBjdXJyZW50VXJsLm1hdGNoKC9oYXNoPShcUyopJmFsYnVtLyk7CgkJCQlpZihtdXNpY01hdGNoKXsKCQkJCQlwbGF5VXJsID0gJ2h0dHBzOi8vbXVzaWMubGl1emhpamluLmNuLz9pZD0nK211c2ljTWF0Y2hbMV0rJyZ0eXBlPWt1Z291JzsKCQkJCX0KCQkJfQoJCQllbHNlIGlmKGN1cnJlbnRVcmwubWF0Y2goL2t1d29cLmNuLykpeyAgLy/phbfmiJEKCQkJCWlmKGN1cnJlbnRVcmwuaW5kZXhPZigiPyIpKSBjdXJyZW50VXJsID0gY3VycmVudFVybC5zcGxpdCgiPyIpWzBdOwoJCQkJaWYoY3VycmVudFVybC5pbmRleE9mKCIjIikpIGN1cnJlbnRVcmwgPSBjdXJyZW50VXJsLnNwbGl0KCIjIilbMF07CgkJCQl2YXIgbXVzaWNNYXRjaCA9IGN1cnJlbnRVcmwubWF0Y2goL3BsYXlfZGV0YWlsXC8oXFMqKS8pOwoJCQkJaWYobXVzaWNNYXRjaCl7CgkJCQkJcGxheVVybCA9ICdodHRwczovL211c2ljLmxpdXpoaWppbi5jbi8/aWQ9JyttdXNpY01hdGNoWzFdKycmdHlwZT1rdXdvJzsKCQkJCX0KCQkJfQoJCQllbHNlIGlmKGN1cnJlbnRVcmwubWF0Y2goL3d3d1wueGltYWxheWFcLmNvbS8pKXsgLy/llpzpqazmi4npm4UKCQkJICAgIHZhciB4bWx5VXJsQXJyID0gY3VycmVudFVybC5zcGxpdCgiLyIpOwoJCQkgICAgZm9yKHZhciB4dWFJbmRleCA9MDt4dWFJbmRleDx4bWx5VXJsQXJyLmxlbmd0aDt4dWFJbmRleCsrKXsKCQkJICAgICAgICBpZih4dWFJbmRleD09eG1seVVybEFyci5sZW5ndGgtMSl7CgkJCQkJCXBsYXlVcmwgPSAnaHR0cHM6Ly9tdXNpYy5saXV6aGlqaW4uY24vP2lkPScreG1seVVybEFyclt4dWFJbmRleF0rJyZ0eXBlPXhpbWFsYXlhJnBsYXlVcmw9JytlbmNvZGVVUklDb21wb25lbnQoY3VycmVudFVybCk7CgkJCSAgICAgICAgfQoJCQkgICAgfQoJCQl9CgkJCWVsc2UgaWYoY3VycmVudFVybC5tYXRjaCgvd3d3XC5saXpoaVwuZm0vKSl7IC8v6I2U5p6d6Z+z5LmQCgkJCQlpZihjdXJyZW50VXJsLmluZGV4T2YoIj8iKSkgY3VycmVudFVybCA9IGN1cnJlbnRVcmwuc3BsaXQoIj8iKVswXTsKCQkJCWlmKGN1cnJlbnRVcmwuaW5kZXhPZigiIyIpKSBjdXJyZW50VXJsID0gY3VycmVudFVybC5zcGxpdCgiIyIpWzBdOwoJCQkJdmFyIG11c2ljTWF0Y2ggPSBjdXJyZW50VXJsLm1hdGNoKC9eaHR0cHM/OlwvXC93d3dcLmxpemhpXC5mbVwvKFxkKilcLyhcZCopLyk7CgkJCQlpZihtdXNpY01hdGNoKXsKCQkJCQlwbGF5VXJsID0gJ2h0dHBzOi8vbXVzaWMubGl1emhpamluLmNuLz9pZD0nK211c2ljTWF0Y2hbMl0rJyZ0eXBlPWxpemhpJzsKCQkJCX0KCQkJfQoJCQllbHNlIGlmKGN1cnJlbnRVcmwubWF0Y2goL211c2ljXC5taWd1XC5jbi8pKXsgLy/lkqrlkpXpn7PkuZAKCQkJCWlmKGN1cnJlbnRVcmwuaW5kZXhPZigiPyIpKSBjdXJyZW50VXJsID0gY3VycmVudFVybC5zcGxpdCgiPyIpWzBdOwoJCQkJaWYoY3VycmVudFVybC5pbmRleE9mKCIjIikpIGN1cnJlbnRVcmwgPSBjdXJyZW50VXJsLnNwbGl0KCIjIilbMF07CgkJCQl2YXIgbXVzaWNNYXRjaCA9IGN1cnJlbnRVcmwubWF0Y2goL15odHRwcz86XC9cL211c2ljXC5taWd1XC5jblwvdjNcL211c2ljXC9zb25nXC8oXFMqKS8pOwoJCQkJaWYobXVzaWNNYXRjaCl7CgkJCQkJcGxheVVybCA9ICdodHRwczovL211c2ljLmxpdXpoaWppbi5jbi8/aWQ9JyttdXNpY01hdGNoWzFdKycmdHlwZT1taWd1JzsKCQkJCX0KCQkJfQoJCQlyZXR1cm4gcGxheVVybDsKCQl9OwoJCXRoaXMuYWRkU3R5bGU9ZnVuY3Rpb24oKXsKCQkJdmFyIGlubm5lckNzcyA9IAoJCQkiQGtleWZyYW1lcyB0dXJuYXJvdW5kezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt9MjUley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7fTUwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMTgwZGVnKTt9NzUley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgyNzBkZWcpO30xMDAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO319IisKCQkJIiNwbHVnaW5fa2l3aV9hbmFseXNpc192aXBfbXVzaWNfYm94XyIrdGhpcy5lbGVJZCsiIHtwb3NpdGlvbjpmaXhlZDsgdG9wOjE1MHB4OyBsZWZ0OjBweDsgd2lkdGg6MjZweDsgYmFja2dyb3VuZC1jb2xvcjojRTUyMTJFO3otaW5kZXg6OTk5OTk5OTg5OTk5OTt9IisKCQkJIiNwbHVnaW5fa2l3aV9hbmFseXNpc192aXBfbXVzaWNfYm94XyIrdGhpcy5lbGVJZCsiID4ucGx1Z2luX2l0ZW17Y3Vyc29yOnBvaW50ZXI7IHdpZHRoOjEwMCU7IHBhZGRpbmc6MTBweCAwcHg7IHRleHQtYWxpZ246Y2VudGVyO30iKwoJCQkiI3BsdWdpbl9raXdpX2FuYWx5c2lzX3ZpcF9tdXNpY19ib3hfIit0aGlzLmVsZUlkKyIgPi5wbHVnaW5faXRlbSA+aW1ne3dpZHRoOjIwcHg7IGRpc3BsYXk6aW5saW5lLWJsb2NrOyB2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7YW5pbWF0aW9uOnR1cm5hcm91bmQgNHMgbGluZWFyIGluZmluaXRlO30iOwoJCQkkKCJib2R5IikucHJlcGVuZCgiPHN0eWxlPiIraW5ubmVyQ3NzKyI8L3N0eWxlPiIpOwoJCX07CgkJdGhpcy5nZW5lcmF0ZUh0bWw9ZnVuY3Rpb24oKXsKCQkJdmFyICR0aGF0ID0gdGhpczsKCQkJdmFyIGh0bWw9IiI7CgkJCXZhciB2aXBJbWdCYXNlNjQgPSAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FZQUFBQnplbnIwQUFBREprbEVRVlJZUjZXWFM2aE9VUlRIZi84d3V4NFRNWkNCeHdBcEpSU0tYRzh1R2JpZUtRWUdYcEVNS0xrR0dGQ1VSeUVESkhGTDZjcjF1RjREbERKQVREd0dCbktWdHpKQVMwdjd1NTN2ZlB2Y2M3NWoxZTU3bkwzWCt1MjE5M29jVVZETXJCOHdGWmdDakFjR2hPRWFPc040Qk53RDdrcjZVa1MxaWt3eXMyWmdIekNreUh6Z0RiQmQwc1c4K2QwQ21GbVBZSGhibnFLTTUvc0R5SitzOVprQVpqWU51RlhTY0hwWm82VGJNVjFSZ09EeUN5V04zd0d1aFBFVm1BZWNBcGJFanFRR3dNeDZBci9xTVA0NUdMc08zSlQwSWIzV3pDejgxMHZTNytUekdNQlZZRTRPd0hmZ2pCc0Via2o2MmQzOEJFQzdwTG1aQUdhMkRqaWFZL3dHc0UzUzA2SmVTZ0Q0a3ZXU2psWFdkbm5BelBvQXo0REJPWXFiSlBrWkY1WVV3RnRndEtSdnJpQUpNQXU0bHFkVlVsN29EZ2Vhd2pnbXFUVUY0Q1ptUy9JN1V3V3cxMk8yRElDWlRRYm1BNzZKTVFrZHV5VzFSQUQyU2RxUkJyZ1BUQ3dLWUdaK1VXY0dveU15MW1VQlBKQTBLUTN3Q2hoYUJNRE0xZ0xIOCtZQ1dRQ3ZKUTFMQTNob05lUXA5VHRnWmkzQXJyeTVRSXVrM1pFaitDR3BkeHJnZmFLNlplcXVFeURMQTUyU0JxWUJQS2xNejl0VkRvQW5wSmZBcDZESHkzTE1BeDJTWnFRQkRnS2Ivd1BnT2RBczZVVkZoNWsxU1BvUk9ZSkRrcmFrQVlwa1FUSThVR004dVpFSVFGYzJUQ1lpZDc4ZlExSzgwOWtEZUE3M0tQa25rVXU0VWRLUm1QZk1yRCtRTGxBekpIVlVlU0FvUGdjc0Q0cDhWOHRqT1Q4QzRLNXZ6UURZQUJ4T1BHdVR0S0R5dXlxdG10azQ0Q0hnbmRCa1NaNmNhaVFDMEE1c1Nub3BiR2d4a0c3THFtcEpyQndmQUxaMmwvUE43RExRdFl0QStBNDRHYjczRGYxamVrN1Y3bXVPSUZBUEFyeFFySTE1d015V0F1ZnpvaVh5M0J1UlJlbEttdFdTalFRdWVVTXE2WFFBR3d0NHBLd3BZZndqc0ZKU1RiWHRyaWwxQ0QrL1VTVU1KcGQ0aTc0cTZ6N2wxWGFIOERLOXNDUkVHN0JUMHBPczlVVmZUQnFCMWNDS2dpQnUrRVNSenFrUVFDSUJUZkFJQVR5OFl2STRWTURDTFZ0ZEFBa1E3d1c4SjBqS1dVbXJDbnFvYTFvcGdCQVZma0Vybm1pVjVPK1BkY3YvQUhoRFVhbDhJeVY1UTFPM2xBWUlYbGptbjVMS0pLWi9zSDhCOGpkWE1EdXRrNjRBQUFBQVNVVk9SSzVDWUlJPSI7CgkJCWh0bWwrPSAiPGRpdiBpZD0ncGx1Z2luX2tpd2lfYW5hbHlzaXNfdmlwX211c2ljX2JveF8iK3RoaXMuZWxlSWQrIic+IjsKCQkJaHRtbCs9ICI8ZGl2IGNsYXNzPSdwbHVnaW5faXRlbSBqdW1wX2FuYWx5c2lzX3dlYnNpdGUnIHRpdGxlPSfngrnmiJFWSVDpn7PkuZDnoLTop6PvvIzlhY3lrqLmiLfnq6/kuIvovb3vvIEnPjxpbWcgc3JjPSciK3ZpcEltZ0Jhc2U2NCsiJz48L2Rpdj4iOwoJCQlodG1sKz0gIjwvZGl2PiI7CgkJCSQoImJvZHkiKS5hcHBlbmQoaHRtbCk7CgkJCQoJCQkkKCIjcGx1Z2luX2tpd2lfYW5hbHlzaXNfdmlwX211c2ljX2JveF8iK3RoaXMuZWxlSWQrIiIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCl7CgkJCQl2YXIgcGxheVVybCA9ICR0aGF0LmdldFBsYXlVcmwoKTsKCQkJCWlmKCEhcGxheVVybCkgR01fb3BlbkluVGFiKHBsYXlVcmwsIGZhbHNlKTsKCQkJfSkKCQl9OwoJCXRoaXMub3BlcmF0aW9uPWZ1bmN0aW9uKCl7CgkJCXZhciAkdGhhdCA9IHRoaXM7CgkJCXNldEludGVydmFsKGZ1bmN0aW9uKCl7CgkJCQl2YXIgcGxheVVybCA9ICR0aGF0LmdldFBsYXlVcmwoKTsKCQkJCXZhciAkdmlwTXVzaWNCb3ggPSAkKCIjcGx1Z2luX2tpd2lfYW5hbHlzaXNfdmlwX211c2ljX2JveF8iKyR0aGF0LmVsZUlkKyIiKTsKCQkJCWlmKCEhcGxheVVybCl7CgkJCQkJaWYoJHZpcE11c2ljQm94Lmxlbmd0aD09MCl7CgkJCQkJCSR0aGF0LmdlbmVyYXRlSHRtbCgpOwoJCQkJCX0KCQkJCX1lbHNlewoJCQkJCSR2aXBNdXNpY0JveC5yZW1vdmUoKTsKCQkJCX0KCQkJfSwgMTAwKTsKCQl9OwoJCXRoaXMuc3RhcnQ9ZnVuY3Rpb24oKXsKCQkJaWYodGhpcy5pc1J1bigpKXsJCQkJCgkJCQl0aGlzLmFkZFN0eWxlKCk7CgkJCQl0aGlzLm9wZXJhdGlvbigpOwoJCQl9CgkJfTsKCX0KCQoJLyoqCgkgKiDmnaXmkJzkuIDkuIvvvIznvZHnm5jmkJzntKLlvJXmk47ml6Dnur/kuIvovb0KCSAqLwoJZnVuY3Rpb24gd2FuZ3BhblNlYXJjaEVuZ2luZXNIZWxwZXIoKXsKCQl0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oKXsKCQkJbGV0ICR0aGF0ID0gdGhpcywgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0OwoJCQlpZihob3N0PT09Ind3dy5sYWlzb3lpeGlhLmNvbSIgfHwgaG9zdD09PSJ3d3cueGlhb3podWt1YWlwYW4uY29tIil7CgkJCQl2YXIgJGRvd25sb2FkQnRuID0gJCgiI2Rvd25sb2FkSGFuZGxlciIpOwoJCQkJdmFyIGRvd25sb2FkdXJsID0gJGRvd25sb2FkQnRuLmRhdGEoImRvd25sb2FkdXJsIik7CgkJCQlpZighIWRvd25sb2FkdXJsKXsKCQkJCQl2YXIgd2FuZ3BhblVybCA9IHdpbmRvdy5hdG9iKGRvd25sb2FkdXJsKTsKCQkJCQkkZG93bmxvYWRCdG4uYWZ0ZXIoIjxkaXYgc3R5bGU9J3BhZGRpbmc6MTVweDtiYWNrZ3JvdW5kLWNvbG9yOiNlZWU7bWFyZ2luLXRvcDoxNXB4Oyc+5o+S5Lu25o+Q5Y+W5omA5b6X77yaPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9JyIrd2FuZ3BhblVybCsiJz4iK3dhbmdwYW5VcmwrIjwvYT48L2Rpdj4iKQoJCQkJfQoJCQl9CgkJfQoJfQoJCgkvKioKCSAqIOaQnOe0ouW8leaTjui1hOa6kOaPkOmGkgoJICovCglmdW5jdGlvbiBzZWFyY2hFbmdpbmVzTmF2aWdhdGlvbigpewoJCXRoaXMuc2VhcmNoRW5naW5lc0RhdGE9WwoJCQl7Imhvc3QiOiJ3d3cuYmFpZHUuY29tIiwgImVsZW1lbnQiOiIjY29udGVudF9yaWdodCIsImVsZW1lbnRJbnB1dCI6IiNrdyJ9LAoJCQl7Imhvc3QiOiJ3d3cuc28uY29tIiwgImVsZW1lbnQiOiIjc2lkZSIsImVsZW1lbnRJbnB1dCI6IiNrZXl3b3JkIn0sCgkJCXsiaG9zdCI6Ind3dy5zb2dvdS5jb20iLCAiZWxlbWVudCI6IiNyaWdodCIsImVsZW1lbnRJbnB1dCI6IiN1cHF1ZXJ5In0sCgkJCXsiaG9zdCI6ImNuLmJpbmcuY29tIiwgImVsZW1lbnQiOiIjYl9jb250ZXh0IiwiZWxlbWVudElucHV0IjoiI3NiX2Zvcm1fcSJ9LAoJCQl7Imhvc3QiOiJ3d3cuYmluZy5jb20iLCAiZWxlbWVudCI6IiNiX2NvbnRleHQiLCJlbGVtZW50SW5wdXQiOiIjc2JfZm9ybV9xIn0sCgkJCXsiaG9zdCI6InNvLnRvdXRpYW8uY29tIiwgImVsZW1lbnQiOiIucy1zaWRlLWxpc3QiLCJlbGVtZW50SW5wdXQiOiJpbnB1dFt0eXBlPSdzZWFyY2gnXSJ9LAoJCQl7Imhvc3QiOiJ3d3cuZ29vZ2xlLmNvbSIsICJlbGVtZW50IjoiI3JocyIsImVsZW1lbnRJbnB1dCI6ImlucHV0W3R5cGU9J3RleHQnXSJ9CgkJXTsKCQl0aGlzLmdldE5hdmlnYXRpb25EYXRhID0gZnVuY3Rpb24oZWxlbWVudCwgZWxlbWVudElucHV0KXsKCQkJY29uc3QgbmF2aWdhdGlvbkRhdGEgPSBbCgkJCQl7Im5hbWUiOiLotYTmupDmkJzntKIiLCJsaXN0IjpbCgkJCQkJeyJuYW1lIjoi5Lmm562+5pCc57SiIiwgInVybCI6Imh0dHBzOi8vd3d3LmJvb2ttYXJrZWFydGguY29tL3Mvc2VhcmNoP3E9QEAmY3VycmVudFBhZ2U9MSJ9LAoJCQkJCXsibmFtZSI6Iue9keebmOaQnOe0oiIsICJ1cmwiOiJodHRwczovL3d3dy54aWFvemh1a3VhaXBhbi5jb20vcy9zZWFyY2g/cT1AQCZjdXJyZW50UGFnZT0xIn0sCgkJCQkJeyJuYW1lIjoi6LSi57uP5pCc57SiIiwgInVybCI6Imh0dHBzOi8vd3d3LnNoYWR1aXppLmNvbS9zL3NlYXJjaD9xPUBAJmN1cnJlbnRQYWdlPTEifSwKCQkJCQl7Im5hbWUiOiLnmb7luqbnmb7np5EiLCAidXJsIjoiaHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS9AQCJ9LAoJCQkJCXsibmFtZSI6IuefpeS5juaQnOe0oiIsICJ1cmwiOiJodHRwczovL3d3dy56aGlodS5jb20vc2VhcmNoP3R5cGU9Y29udGVudCZxPUBAIn0sCgkJCQkJeyJuYW1lIjoiQuermeaQnOe0oiIsICJ1cmwiOiJodHRwczovL3NlYXJjaC5iaWxpYmlsaS5jb20vYWxsP2tleXdvcmQ9QEAmZnJvbV9zb3VyY2U9d2VidG9wX3NlYXJjaCZzcG1faWRfZnJvbT0zMzMuODUxIn0sCgkJCQkJeyJuYW1lIjoi5oqW6Z+z5pCc57SiIiwgInVybCI6Imh0dHBzOi8vd3d3LmRvdXlpbi5jb20vc2VhcmNoL0BAP2FpZD0wYTlmYzc0Yi0wMWU4LTRmYjAtOTUwOS0zMDdjNWMwN2ZkYTEmcHVibGlzaF90aW1lPTAmc29ydF90eXBlPTAmc291cmNlPW5vcm1hbF9zZWFyY2gmdHlwZT1nZW5lcmFsIn0sCgkJCQkJeyJuYW1lIjoi5pCc54uXfOWFrOS8l+WPtyIsICJ1cmwiOiJodHRwczovL3dlaXhpbi5zb2dvdS5jb20vd2VpeGluP3R5cGU9MiZxdWVyeT1AQCJ9LAoJCQkJCXsibmFtZSI6IuaQnOeLl3znn6XkuY4iLCAidXJsIjoiaHR0cHM6Ly93d3cuc29nb3UuY29tL3NvZ291P3BpZD1zb2dvdS13c3NlLWZmMTExZTRhNTQwNmVkNDAmaW5zaXRlPXpoaWh1LmNvbSZpZT11dGY4JnA9NzMzNTEyMDEmcXVlcnk9QEAmaWU9dXRmOCZwPTczMzUxMjAxJnF1ZXJ5PUBAIn0sCgkJCQkJeyJuYW1lIjoi6LGG55Oj5pCc57SiIiwgInVybCI6Imh0dHBzOi8vd3d3LmRvdWJhbi5jb20vc2VhcmNoP3E9QEAifSwKCQkJCQl7Im5hbWUiOiLnlLXlvbHmkJzntKIiLCAidXJsIjoiaHR0cHM6Ly93d3cuY3VwZm94LmNvbS9zZWFyY2g/a2V5PUBAIn0sCgkJCQkJeyJuYW1lIjoi57u05Z+655m+56eRIiwgInVybCI6Imh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93L2luZGV4LnBocD9zZWFyY2g9QEAifSwKCQkJCQl7Im5hbWUiOiLms5Xlvovms5Xop4QiLCAidXJsIjoiaHR0cHM6Ly93d3cucGt1bGF3LmNvbS9sYXcvY2hsP0tleXdvcmRzPUBAIn0sCgkJCQkJeyJuYW1lIjoiUFBU5pCc57SiIiwgInVybCI6Imh0dHBzOi8vd3d3LmNodWxpYW5zaGVqaS5jb20vcy9zZWFyY2g/cT1AQCZjdXJyZW50UGFnZT0xJmM9MSJ9LAoJCQkJCXsibmFtZSI6Imljb27mkJzntKIiLCAidXJsIjoiaHR0cHM6Ly93d3cuaWNvbmZvbnQuY24vc2VhcmNoL2luZGV4P3NlYXJjaFR5cGU9aWNvbiZxPUBAIn0sCgkJCQkJeyJuYW1lIjoiZ2l0aHViIiwgInVybCI6Imh0dHBzOi8vZ2l0aHViLmNvbS9zZWFyY2g/cT1AQCJ9LAoJCQkJCXsibmFtZSI6ImNzZG4iLCAidXJsIjoiaHR0cHM6Ly9zby5jc2RuLm5ldC9zby9zZWFyY2g/cT1AQCZ0PSZ1PSJ9LAoJCQkJCXsibmFtZSI6IuaJi+acuueUqOayueeMtCIsICJ1cmwiOiJodHRwczovL2Jsb2cuY3Nkbi5uZXQvaGFvbmluZzc3ODgvYXJ0aWNsZS9kZXRhaWxzLzEyNTM0NDI5NCJ9CgkJCQldfSwKCQkJCXsibmFtZSI6IuaQnOe0ouW8leaTjiIsImxpc3QiOlsKCQkJCQl7Im5hbWUiOiLnmb7luqYiLCAidXJsIjoiaHR0cHM6Ly93d3cuYmFpZHUuY29tL3M/d2Q9QEAifSwKCQkJCQl7Im5hbWUiOiLlv4XlupQiLCAidXJsIjoiaHR0cHM6Ly9jbi5iaW5nLmNvbS9zZWFyY2g/cT1AQCJ9LAoJCQkJCXsibmFtZSI6Ikdvb2dsZSIsICJ1cmwiOiJodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaD9xPUBAIn0sCgkJCQkJeyJuYW1lIjoiMzYw5pCc57SiIiwgInVybCI6Imh0dHBzOi8vd3d3LnNvLmNvbS9zP2llPXV0Zi04JmZyPW5vbmUmc3JjPTM2MHNvdV9uZXdob21lJm5scHY9YmFzZXN0JnE9QEAifSwKCQkJCQl7Im5hbWUiOiLmkJzni5ciLCAidXJsIjoiaHR0cHM6Ly93d3cuc29nb3UuY29tL3dlYj9xdWVyeT1AQCJ9LAoJCQkJCXsibmFtZSI6IuWktOadoeaQnOe0oiIsICJ1cmwiOiJodHRwczovL3NvLnRvdXRpYW8uY29tL3NlYXJjaD9kdnBmPXBjJnNvdXJjZT1pbnB1dCZrZXl3b3JkPUBAIn0KCQkJCV19CgkJCV07CgkJCWNvbnN0ICR0aGF0ID0gdGhpczsKCQkJY29uc3QgY2FjaGVOYXZpZ2F0aW9uRGF0YSA9ICBjb21tb25GdW5jdGlvbk9iamVjdC5HTWdldFZhbHVlKCJuYXZpZ2F0aW9uX2RhdGFfY2FjaGUiLG51bGwpOwoJCQlpZighIWNhY2hlTmF2aWdhdGlvbkRhdGEpewoJCQkJJHRoYXQuY3JlYXRlSHRtbChlbGVtZW50LCBlbGVtZW50SW5wdXQsIGNhY2hlTmF2aWdhdGlvbkRhdGEpOwoJCQl9ZWxzZXsKCQkJCSR0aGF0LmNyZWF0ZUh0bWwoZWxlbWVudCwgZWxlbWVudElucHV0LCBuYXZpZ2F0aW9uRGF0YSk7CgkJCX0KCQkJLy/liKTmlq3lgLzmmK/lkKbmnInlj5jliqjvvIzlpoLmnpzmnInlj5jliqjlsLHmm7TmlrDmjaLlrZjvvIznroDljZXlpITnkIbvvIzplb/luqbmmK/lkKbkuIDoh7QKCQkJY29tbW9uRnVuY3Rpb25PYmplY3QucmVxdWVzdCgiZ2V0IiwgImh0dHA6Ly9hcGkuc3RhdGljai50b3Avc2NyaXB0L2FwaS9nZXQvbmF2aWdhdGlvbl9qc29uX3VybCIsIG51bGwpLnRoZW4oKHJlc3VsdERhdGEpPT57CgkJCQlsZXQgZGF0YUpzb24gPSBKU09OLnBhcnNlKHJlc3VsdERhdGEuZGF0YSk7CgkJCQlpZighIWRhdGFKc29uICYmICEhZGF0YUpzb24udXJsKXsKCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5yZXF1ZXN0KCJnZXQiLCBkYXRhSnNvbi51cmwsIG51bGwpLnRoZW4oKHJlc3VsdERhdGEyKT0+ewoJCQkJCQlsZXQgc2VydmVyTmF2aWdhdGlvbkRhdGEgPSByZXN1bHREYXRhMi5kYXRhOwoJCQkJCQlpZighY2FjaGVOYXZpZ2F0aW9uRGF0YSB8fCAoISFjYWNoZU5hdmlnYXRpb25EYXRhICYmIHNlcnZlck5hdmlnYXRpb25EYXRhLmxlbmd0aCE9SlNPTi5zdHJpbmdpZnkoY2FjaGVOYXZpZ2F0aW9uRGF0YSkubGVuZ3RoKSl7CgkJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTXNldFZhbHVlKCJuYXZpZ2F0aW9uX2RhdGFfY2FjaGUiLCBKU09OLnBhcnNlKHNlcnZlck5hdmlnYXRpb25EYXRhKSk7CgkJCQkJCX0KCQkJCQl9KS5jYXRjaCgoKT0+e30pOwoJCQkJfQoJCQl9KS5jYXRjaCgoKT0+e30pOwoJCX07CgkJdGhpcy5jcmVhdGVDc3MgPSBmdW5jdGlvbihlbGVtZW50TnVtKXsKCQkJdmFyIGlubm5lckNzcyA9IGAKCQkJCS5kZGZkZmRgK2VsZW1lbnROdW0rYGRmZnNzcWF7CgkJCQkJbWFyZ2luLXRvcDoxNXB4OwoJCQkJfQoJCQkJLmRkZmRmZGArZWxlbWVudE51bStgZGZmc3NxYTpudGgtbGFzdHsKCQkJCQltYXJnaW4tdG9wOjBweDsKCQkJCX0KCQkJCS5kZGZkZmRgK2VsZW1lbnROdW0rYGRmZnNzcWE+LnRpdGxlewoJCQkJCWZvbnQtc2l6ZToxNnB4OwoJCQkJfQoJCQkJLmRkZmRmZGArZWxlbWVudE51bStgZGZmc3NxYT4uY29udGVudC1saXN0ewoJCQkJCQoJCQkJfQoJCQkJLmRkZmRmZGArZWxlbWVudE51bStgZGZmc3NxYT4uY29udGVudC1saXN0PmF7CgkJCQkJZGlzcGxheTppbmxpbmUtYmxvY2s7CgkJCQkJd2lkdGg6Y2FsYygyNSUgLSAxNnB4KTsKCQkJCQlib3JkZXI6MXB4IHNvbGlkICNjY2M7CgkJCQkJYm9yZGVyLXJhZGl1czo0cHg7CgkJCQkJdGV4dC1hbGlnbjpjZW50ZXI7CgkJCQkJbWFyZ2luLXJpZ2h0OjE1cHg7CgkJCQkJbWFyZ2luLXRvcDo2cHg7CgkJCQkJb3ZlcmZsb3c6IGhpZGRlbjsKCQkJCQl3aGl0ZS1zcGFjZTogbm93cmFwOwoJCQkJCXRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7CgkJCQkJcGFkZGluZzoycHg7CgkJCQkJYm94LXNpemluZzpib3JkZXItYm94OwoJCQkJCWZvbnQtc2l6ZToxM3B4OwoJCQkJCWxpbmUtaGVpZ2h0OjIwcHg7CgkJCQl9CgkJCQkuZGRmZGZkYCtlbGVtZW50TnVtK2BkZmZzc3FhPi5jb250ZW50LWxpc3Q+YTpudGgtY2hpbGQoNG4pewoJCQkJCW1hcmdpbi1yaWdodDowcHg7CgkJCQl9CgkJCWA7CgkJCWlmKCQoIiNwbHVnaW5fY3NzX3N0eWxlX2RkZHNvbyIpLmxlbmd0aD09MCl7CgkJCQkkKCJib2R5IikucHJlcGVuZCgiPHN0eWxlIGlkPSdwbHVnaW5fY3NzX3N0eWxlX2RkZHNvbyc+Iitpbm5uZXJDc3MrIjwvc3R5bGU+Iik7CgkJCX0KCQl9OwoJCXRoaXMuY3JlYXRlSHRtbCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGVsZW1lbnRJbnB1dCwgbmF2aWdhdGlvbkRhdGEpewoJCQkkKCIjZHNkc2Q5OW1tbWpqNzc2MDAxMSIpLnJlbW92ZSgpOwoJCQkKCQkJdmFyIGlzQ29tcGxhdGUgPSB0cnVlOwoJCQljb25zdCBob3N0ID0gd2luZG93LmxvY2F0aW9uLmhvc3Q7CgkJCWNvbnN0IHNlbGYgPSB0aGlzOwoJCQljb25zdCBlbGVtZW50TnVtID0gY29tbW9uRnVuY3Rpb25PYmplY3QucmFuZG9tTnVtYmVyKCk7CgkJCWNvbnN0IGVsZW1lbnRJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7CgkJCQlpZihpc0NvbXBsYXRlKXsKCQkJCQl2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpOwoJCQkJCXZhciAkYm94ID0gJCgiI2RzZHNkOTltbW1qajc3NjAwMTEiKTsKCQkJCQlpc0NvbXBsYXRlID0gZmFsc2U7CgkJCQkJaWYoJGVsZW1lbnQubGVuZ3RoIT0wICYmICRib3gubGVuZ3RoPT0wKXsKCQkJCQkJdmFyIGh0bWwgPSAiIjsKCQkJCQkJaHRtbCAgKz0gIjxkaXYgaWQ9J2RzZHNkOTltbW1qajc3NjAwMTEnPiI7CgkJCQkJCWZvcih2YXIgaT0wOyBpPG5hdmlnYXRpb25EYXRhLmxlbmd0aDsgaSsrKXsKCQkJCQkJCWh0bWwgICs9ICI8ZGl2IGNsYXNzPSdkZGZkZmQiK2VsZW1lbnROdW0rImRmZnNzcWEnPiI7CgkJCQkJCQlodG1sICArPSAiPGRpdiBjbGFzcz0ndGl0bGUnPjxiPiIrbmF2aWdhdGlvbkRhdGFbaV0ubmFtZSsiPC9iPjwvZGl2PiI7CgkJCQkJCQlodG1sICArPSAiPGRpdiBjbGFzcz0nY29udGVudC1saXN0Jz4iOwoJCQkJCQkJZm9yKHZhciBqPTA7ajxuYXZpZ2F0aW9uRGF0YVtpXS5saXN0Lmxlbmd0aDtqKyspewoJCQkJCQkJCWxldCB1cmwgPSBuYXZpZ2F0aW9uRGF0YVtpXS5saXN0W2pdLnVybDsKCQkJCQkJCQlsZXQgbmFtZSA9IG5hdmlnYXRpb25EYXRhW2ldLmxpc3Rbal0ubmFtZTsKCQkJCQkJCQlpZih1cmwuaW5kZXhPZihob3N0KSE9LTEpewoJCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCQl9CgkJCQkJCQkJaHRtbCArPSAiPGEgdGFyZ2V0PSdfYmxhbmsnIGRhdGEtdXJsPSciK3VybCsiJyBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7Jz4iK25hbWUrIjwvYT4iCQkJCQoJCQkJCQkJfQoJCQkJCQkJaHRtbCArPSAiPC9kaXY+IjsKCQkJCQkJCWh0bWwgKz0gIjwvZGl2PiI7CgkJCQkJCX0KCQkJCQkJaHRtbCArPSAiPGRpdiBzdHlsZT0nbWFyZ2luLWJvdHRvbToxMHB4O21hcmdpbi10b3A6NXB4O2ZvbnQtc2l6ZToxMnB4Oyc+PGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy80MTg4MDQnPiror6XmlbDmja7nlLHmsrnnjLTohJrmnKzmj5Dkvps8L2E+PC9kaXY+IjsKCQkJCQkJaHRtbCArPSAiPC9kaXY+IjsKCQkJCQkJCgkJCQkJCS8v5re75YqgY3NzIOa3u+WKoGh0bWwKCQkJCQkJc2VsZi5jcmVhdGVDc3MoZWxlbWVudE51bSk7CgkJCQkJCSRlbGVtZW50LnByZXBlbmQoaHRtbCk7CgkJCQkJCQoJCQkJCQkkKCIjZHNkc2Q5OW1tbWpqNzc2MDAxMSBhIikub24oImNsaWNrIiwgZnVuY3Rpb24oZSl7CgkJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTW9wZW5JblRhYigkKHRoaXMpLmRhdGEoInVybCIpLnJlcGxhY2UoIkBAIiwkKGVsZW1lbnRJbnB1dCkudmFsKCkpLGZhbHNlKTsKCQkJCQkJCWUucHJldmVudERlZmF1bHQoKQoJCQkJCQl9KTsKCQkJCQl9CgkJCQkJaXNDb21wbGF0ZSA9IHRydWU7CgkJCQl9CgkJCX0sIDEwMCk7CQkJCgkJfTsKCQl0aGlzLnNob3cgPSBmdW5jdGlvbigpewoJCQljb25zdCBzZWxmID0gdGhpczsKCQkJY29uc3QgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0OwoJCQljb25zdCBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CgkJCWlmKChob3N0PT09Ind3dy5iYWlkdS5jb20iKQoJCQkJfHwgKGhvc3Q9PT0id3d3LnNvLmNvbSIgJiYgaHJlZi5pbmRleE9mKCJ3d3cuc28uY29tL3MiKSE9LTEpCgkJCQl8fCAoaG9zdD09PSJ3d3cuc29nb3UuY29tIiAmJiBocmVmLmluZGV4T2YoInd3dy5zb2dvdS5jb20vd2ViP3F1ZXJ5IikhPS0xKQoJCQkJfHwgKGhvc3Q9PT0iY24uYmluZy5jb20iICYmIGhyZWYuaW5kZXhPZigiY24uYmluZy5jb20vc2VhcmNoIikhPS0xKQoJCQkJfHwgKGhvc3Q9PT0id3d3LmJpbmcuY29tIiAmJiBocmVmLmluZGV4T2YoInd3dy5iaW5nLmNvbS9zZWFyY2giKSE9LTEpCgkJCQl8fCAoaG9zdD09PSJzby50b3V0aWFvLmNvbSIgJiYgaHJlZi5pbmRleE9mKCJzby50b3V0aWFvLmNvbS9zZWFyY2giKSE9LTEpCgkJCQl8fCAoaG9zdD09PSJ3d3cuZ29vZ2xlLmNvbSIgJiYgaHJlZi5pbmRleE9mKCJ3d3cuZ29vZ2xlLmNvbS9zZWFyY2giKSE9LTEpKXsKCQkJCWxldCBjdXJyZW50U2VhcmNoRW5naW5lc0RhdGEgPSBudWxsOwoJCQkJZm9yKHZhciBpPTA7IGk8c2VsZi5zZWFyY2hFbmdpbmVzRGF0YS5sZW5ndGg7IGkrKyl7CgkJCQkJaWYoaG9zdD09PXNlbGYuc2VhcmNoRW5naW5lc0RhdGFbaV0uaG9zdCl7CgkJCQkJCWN1cnJlbnRTZWFyY2hFbmdpbmVzRGF0YSA9IHNlbGYuc2VhcmNoRW5naW5lc0RhdGFbaV07CgkJCQkJfQoJCQkJfQoJCQkJaWYoY3VycmVudFNlYXJjaEVuZ2luZXNEYXRhIT1udWxsKXsKCQkJCQlzZWxmLmdldE5hdmlnYXRpb25EYXRhKGN1cnJlbnRTZWFyY2hFbmdpbmVzRGF0YS5lbGVtZW50LCBjdXJyZW50U2VhcmNoRW5naW5lc0RhdGEuZWxlbWVudElucHV0KTsKCQkJCX0KCQkJfQoJCX07CgkJdGhpcy5zdGFydCA9IGZ1bmN0aW9uKCl7CgkJCXRoaXMuc2hvdygpOwoJCX07Cgl9CgkKCS8qKgoJICog55+l5LmO5Yqp5omL5byA5aeLCgkgKi8KCS8vLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCgkvL+acrOiEmuacrOmDqOWIhuS7o+eggeWAn+mJtOiHquOAkOS6uumsvOaDheacquS6huOAkeeahOiEmuacrO+8jOW3sue7j+iOt+W+l+WOn+S9nOiAheeahOWujOWFqOaOiOadg++8jOiEmuacrOS7o+eggeWPr+S7pemaj+aEj+S/ruaUueS9v+eUqO+8jOeJueatpOeUs+aYju+8gQoJLy8vL+OAkOS6uumsvOaDheacquS6huOAkeiEmuacrOWQjeWtl++8muefpeS5jue9kemhteWKqeaJiwoJLy8vL+OAkOS6uumsvOaDheacquS6huOAkeiEmuacrOWcsOWdgO+8mmh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy8zODQxNzIKCS8vLy/mnKzohJrmnKzlgZrlh7rnmoTkv67mlLnvvJrph43mnoTkuobpg6jliIbpgLvovpEKCS8vLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCglmdW5jdGlvbiB6aGlodUhlbHBlcigpewoJCXRoaXMubWFya0FydGljbGVPclF1ZXN0aW9uID0gZnVuY3Rpb24oKXsKCQkJdmFyIHF1ZXN0aW9uc0NzcyA9IGAKCQkJCS5BbnN3ZXJJdGVtIC5Db250ZW50SXRlbS10aXRsZSBhOjpiZWZvcmUgewoJCQkJICAgIGNvbnRlbnQ6ICfpl67popgnOwoJCQkJICAgIGNvbG9yOiAjZjY4YjgzOwoJCQkJICAgIGJhY2tncm91bmQtY29sb3I6ICNmNjhiODMzMzsKCQkJCSAgICBmb250LXdlaWdodDogYm9sZDsKCQkJCSAgICBmb250LXNpemU6IDEzcHg7CgkJCQkgICAgcGFkZGluZzogMXB4IDRweCAwcHg7CgkJCQkgICAgYm9yZGVyLXJhZGl1czogMnB4OwoJCQkJICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKCQkJCSAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwoJCQkJICAgIG1hcmdpbjogMHB4IDRweCAwcHggMHB4OwoJCQkJfQoJCQkJLkFydGljbGVJdGVtIC5Db250ZW50SXRlbS10aXRsZSBhOjpiZWZvcmUgewoJCQkJICAgIGNvbnRlbnQ6ICfmlofnq6AnOwoJCQkJICAgIGNvbG9yOiAjMDA2NkZGOwoJCQkJICAgIGJhY2tncm91bmQtY29sb3I6ICNFNUVGRkY7CgkJCQkgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CgkJCQkgICAgZm9udC1zaXplOiAxM3B4OwoJCQkJICAgIHBhZGRpbmc6IDFweCA0cHggMDsKCQkJCSAgICBib3JkZXItcmFkaXVzOiAycHg7CgkJCQkgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwoJCQkJICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CgkJCQkgICAgbWFyZ2luOiAwcHggNHB4IDBweCAwcHg7CgkJCQl9CgkJCQkuWnZpZGVvSXRlbSAuQ29udGVudEl0ZW0tdGl0bGUgYTo6YmVmb3JlIHsKCQkJCQljb250ZW50Oifop4bpopEnOwoJCQkJCWNvbG9yOiAjMDBCQ0Q0OwoJCQkJCWJhY2tncm91bmQtY29sb3I6ICMwMEJDRDQzMzsKCQkJCQlmb250LXdlaWdodDogYm9sZDsKCQkJCQlmb250LXNpemU6IDEzcHg7CgkJCQkJcGFkZGluZzogMXB4IDRweCAwOwoJCQkJCWJvcmRlci1yYWRpdXM6IDJweDsKCQkJCQlkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CgkJCQkJdmVydGljYWwtYWxpZ246IG1pZGRsZTsKCQkJCQltYXJnaW46IDBweCA0cHggMHB4IDBweDsKCQkJCX0KCQkJCS5Ub3BzdG9yeUl0ZW0tLWFkdmVydENhcmR7CgkJCQkJdGV4dC1kZWNvcmF0aW9uOmxpbmUtdGhyb3VnaDsKCQkJCX0KCQkJYDsKCQkJY29tbW9uRnVuY3Rpb25PYmplY3QuR01hZGRTdHlsZShxdWVzdGlvbnNDc3MpOwoJCX0KCQl0aGlzLmF1dG9KdW1wVGFyZ2V0ID0gZnVuY3Rpb24oKXsKCQkJdmFyIHJlZ2V4UmVzdWx0ID0gbG9jYXRpb24uc2VhcmNoLm1hdGNoKC90YXJnZXQ9KC4rPykoJnwkKS8pOwoJCQlpZihyZWdleFJlc3VsdCAmJiByZWdleFJlc3VsdC5sZW5ndGg9PTMpewoJCQkJbG9jYXRpb24uaHJlZiA9IGRlY29kZVVSSUNvbXBvbmVudChyZWdleFJlc3VsdFsxXSk7CgkJCX0KCQl9OwoJCXRoaXMubWFya1F1ZXN0aW9uRGF0ZSA9IGZ1bmN0aW9uKCl7CgkJCS8qKgoJCQkgKiBAcGFyYW0ge09iamVjdH0gdGltZQoJCQkgKiBAcGFyYW0ge09iamVjdH0gZm9ybWF0CgkJCSAqIOaXtumXtOagvOW8j+WMlgoJCQkgKiBEYXRlRm9ybWF0KG5ldyBEYXRlKGRhdGVDcmVhdGVkKSwgInl5eXktTU0tZGQgaGg6bW06c3MiKQoJCQkgKi8KCQkJZnVuY3Rpb24gRGF0ZUZvcm1hdCh0aW1lLCBmb3JtYXQpIHsgIC8vCgkJCSAgICB2YXIgbyA9IHsKCQkJICAgICAgICAiTSsiOiB0aW1lLmdldE1vbnRoKCkgKyAxLCAvL+aciOS7vSAKCQkJICAgICAgICAiZCsiOiB0aW1lLmdldERhdGUoKSwgLy/ml6UgCgkJCSAgICAgICAgImgrIjogdGltZS5nZXRIb3VycygpLCAvL+Wwj+aXtiAKCQkJICAgICAgICAibSsiOiB0aW1lLmdldE1pbnV0ZXMoKSwgLy/liIYgCgkJCSAgICAgICAgInMrIjogdGltZS5nZXRTZWNvbmRzKCksIC8v56eSIAoJCQkgICAgICAgICJxKyI6IE1hdGguZmxvb3IoKHRpbWUuZ2V0TW9udGgoKSArIDMpIC8gMyksIC8v5a2j5bqmIAoJCQkgICAgICAgICJTIjogdGltZS5nZXRNaWxsaXNlY29uZHMoKSAvL+avq+enkiAKCQkJICAgIH07CgkJCSAgICBpZigvKHkrKS8udGVzdChmb3JtYXQpKXsKCQkJCQlmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShSZWdFeHAuJDEsICh0aW1lLmdldEZ1bGxZZWFyKCkgKyAiIikuc3Vic3RyKDQgLSBSZWdFeHAuJDEubGVuZ3RoKSk7CgkJCQl9CgkJCSAgICBmb3IodmFyIGsgaW4gbyl7CgkJCSAgICAgICAgaWYobmV3IFJlZ0V4cCgiKCIgKyBrICsgIikiKS50ZXN0KGZvcm1hdCkpewoJCQkgICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShSZWdFeHAuJDEsIChSZWdFeHAuJDEubGVuZ3RoID09IDEpID8gKG9ba10pIDogKCgiMDAiICsgb1trXSkuc3Vic3RyKCgiIiArIG9ba10pLmxlbmd0aCkpKTsKCQkJCQl9CgkJCQl9CgkJCSAgICByZXR1cm4gZm9ybWF0OwoJCQl9CgkJCQoJCQkvKioKCQkJICog5Li66Zeu6aKY5re75Yqg5Yib5bu65pe26Ze05ZKM57yW6L6R5pe26Ze0CgkJCSAqLwoJCQlmdW5jdGlvbiBhZGREYXRlUXVlc3Rpb24oKSB7CgkJCQl2YXIgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuUXVlc3Rpb25QYWdlIik7CgkJCQlpZighIXRpdGxlKXsKCQkJCQl2YXIgZGF0ZUNyZWF0ZWQgPSB0aXRsZS5xdWVyeVNlbGVjdG9yKCJbaXRlbXByb3B+PWRhdGVDcmVhdGVkXVtjb250ZW50XSIpLmNvbnRlbnQ7CgkJCQkJdmFyIGRhdGVNb2RpZmllZCA9IHRpdGxlLnF1ZXJ5U2VsZWN0b3IoIltpdGVtcHJvcH49ZGF0ZU1vZGlmaWVkXVtjb250ZW50XSIpLmNvbnRlbnQ7CgkJCQkJdmFyIGNyZWF0ZURhdGUgPSBEYXRlRm9ybWF0KG5ldyBEYXRlKGRhdGVDcmVhdGVkKSwgInl5eXktTU0tZGQgaGg6bW06c3MiKTsKCQkJCQl2YXIgZWRpdERhdGUgPSBEYXRlRm9ybWF0KG5ldyBEYXRlKGRhdGVNb2RpZmllZCksICJ5eXl5LU1NLWRkIGhoOm1tOnNzIik7CgkJCQkJCgkJCQkJdmFyIHNpZGUgPSB0aXRsZS5xdWVyeVNlbGVjdG9yKCIuUXVlc3Rpb25IZWFkZXItc2lkZSIpOwoJCQkJCXZhciB0aW1lRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgkJCQkJdGltZURpdi5pbm5lckhUTUwgPSBgPHA+5Yib5bu65LqOOiZuYnNwOyR7Y3JlYXRlRGF0ZX08L3A+PHA+57yW6L6R5LqOOiZuYnNwOyR7ZWRpdERhdGV9PC9wPmA7CgkJCQkJdGltZURpdi5zdHlsZS5jc3NUZXh0ID0gJ2NvbG9yOiM2ZjZmNmY7Zm9udC1zaXplOjEzcHg7JzsKCQkJCQlzaWRlLmFwcGVuZENoaWxkKHRpbWVEaXYpOwoJCQkJfQoJCQl9CgkJCQoJCQkvKioKCQkJICog5Li65Zue562U5re75Yqg5Yib5bu65pe26Ze05ZKM57yW6L6R5pe26Ze0CgkJCSAqLwoJCQlmdW5jdGlvbiBhZGRUaW1lQW5zd2VySXRlbXMoKSB7CgkJCQl2YXIgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5BbnN3ZXJJdGVtIik7CgkJCQlmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsKCQkJCQl2YXIgaXRlbSA9IGxpc3RbaV07CgkJCQkJaWYgKGl0ZW0uZ2V0QXR0cmlidXRlKCd6aF9kYXRlX21rJykgPT09ICd0cnVlJykgewoJCQkJCQljb250aW51ZTsKCQkJCQl9CgkJCQkJaXRlbS5zZXRBdHRyaWJ1dGUoJ3poX2RhdGVfbWsnLCAndHJ1ZScpOwoJCQkJCXRyeXsJCQkJCQoJCQkJCQl2YXIgZGF0ZUNyZWF0ZWQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoIltpdGVtcHJvcH49ZGF0ZUNyZWF0ZWRdW2NvbnRlbnRdIikuY29udGVudDsKCQkJCQkJdmFyIGRhdGVNb2RpZmllZCA9IGl0ZW0ucXVlcnlTZWxlY3RvcigiW2l0ZW1wcm9wfj1kYXRlTW9kaWZpZWRdW2NvbnRlbnRdIikuY29udGVudDsKCQkJCQkJdmFyIGNyZWF0ZURhdGUgPSBEYXRlRm9ybWF0KG5ldyBEYXRlKGRhdGVDcmVhdGVkKSwgInl5eXktTU0tZGQgaGg6bW06c3MiKTsKCQkJCQkJdmFyIGVkaXREYXRlID0gRGF0ZUZvcm1hdChuZXcgRGF0ZShkYXRlTW9kaWZpZWQpLCAieXl5eS1NTS1kZCBoaDptbTpzcyIpOwoJCQkgCgkJCQkJCXZhciBzaWRlSXRlbSA9IGl0ZW0ucXVlcnlTZWxlY3RvcigiLkNvbnRlbnRJdGVtLW1ldGEiKTsKCQkJCQkJdmFyIHRpbWVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCQkJCQkJdGltZURpdi5pbm5lckhUTUwgPSBg5Yib5bu65LqOOiZuYnNwOyR7Y3JlYXRlRGF0ZX0mbmJzcDsmbmJzcDsmbmJzcDvnvJbovpHkuo46Jm5ic3A7JHtlZGl0RGF0ZX1gOwoJCQkJCQl0aW1lRGl2LmNsYXNzID0gIlZvdGVycyI7CgkJCQkJCXRpbWVEaXYuc3R5bGUuY3NzVGV4dCA9ICdjb2xvcjojNmY2ZjZmO2ZvbnQtc2l6ZToxM3B4O2Rpc3BsYXk6YmxvY2s7cGFkZGluZzo1cHggMHB4Oyc7CgkJCQkJCXNpZGVJdGVtLmFwcGVuZENoaWxkKHRpbWVEaXYpOwoJCQkJCX1jYXRjaChlKXt9CgkJCQl9CgkJCX0KCQkJYWRkRGF0ZVF1ZXN0aW9uKCk7CgkJCXNldEludGVydmFsKGZ1bmN0aW9uKCl7IC8v5b6q546v5qOA5p+l5Zue562U5ZKM5L+u5pS55pe26Ze0CgkJCQlhZGRUaW1lQW5zd2VySXRlbXMoKTsKCQkJfSw0MDApOwoJCX07CgkJdGhpcy5zaG93UXVlc3Rpb25BdXRob3IgPSBmdW5jdGlvbigpewoJCQkvL+atpOWkhOS7o+eggeWAn+mJtOiHqiAtIOefpeS5juWinuW8ugoJCQkvL+WOn+S9nOiAhe+8mlguSS5VCgkJCS8vaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzQxOTA4MS0lRTclOUYlQTUlRTQlQjklOEUlRTUlQTIlOUUlRTUlQkMlQkEKCQkJaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5CcmFuZFF1ZXN0aW9uU3ltYm9sLCAuUXVlc3Rpb25BdXRob3InKSkgcmV0dXJuCgkJCWxldCBxSnNvbiA9IEpTT04ucGFyc2UoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2pzLWluaXRpYWxEYXRhJykudGV4dENvbnRlbnQpLmluaXRpYWxTdGF0ZS5lbnRpdGllcy5xdWVzdGlvbnNbL1xkKy8uZXhlYyhsb2NhdGlvbi5wYXRobmFtZSlbMF1dLmF1dGhvciwKCQkJCWh0bWwgPSBgPGRpdiBjbGFzcz0iQnJhbmRRdWVzdGlvblN5bWJvbCI+PGEgY2xhc3M9IkJyYW5kUXVlc3Rpb25TeW1ib2wtYnJhbmRMaW5rIiBocmVmPSIvcGVvcGxlLyR7cUpzb24udXJsVG9rZW59Ij48aW1nIHJvbGU9InByZXNlbnRhdGlvbiIgc3JjPSIke3FKc29uLmF2YXRhclVybH0iIGNsYXNzPSJCcmFuZFF1ZXN0aW9uU3ltYm9sLWxvZ28iIGFsdD0iIj48c3BhbiBjbGFzcz0iQnJhbmRRdWVzdGlvblN5bWJvbC1uYW1lIj4ke3FKc29uLm5hbWV9PC9zcGFuPjwvYT48ZGl2IGNsYXNzPSJCcmFuZFF1ZXN0aW9uU3ltYm9sLWRpdmlkZXIiIHN0eWxlPSJtYXJnaW4tbGVmdDogNXB4O21hcmdpbi1yaWdodDogMTBweDsiPjwvZGl2PjwvZGl2PmA7CgkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5RdWVzdGlvbkhlYWRlci10b3BpY3MnKS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWJlZ2luJywgaHRtbCk7CgkJfTsKCQl0aGlzLmF1dG9IZWlnaHRRdWFsaXR5UGljID0gZnVuY3Rpb24oKXsKCQkJc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKCQkJCSQoImJvZHkiKS5maW5kKCJpbWciKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCQkJdmFyIGRhdGFvcmlnaW5hbCA9ICQodGhpcykuYXR0cigiZGF0YS1vcmlnaW5hbCIpOwoJCQkJCWlmKCEhZGF0YW9yaWdpbmFsKXsKCQkJCQkJJCh0aGlzKS5hdHRyKCJzcmMiLCBkYXRhb3JpZ2luYWwpOwoJCQkJCX0KCQkJCX0pOwoJCQl9LCA1MDApOwoJCX07CgkJdGhpcy5kb3dubG9hZFZpZGVvID0gZnVuY3Rpb24oKXsKCQkJbGV0IGRvd25sb2FkRWxlbWVudENsYXNzTmFtZSA9ICJ6aGlodV9oZWxwZXJfNjY2d3dpMSI7CgkJCS8v5pyJ5YCf6Ym05oeS5ZOI5ZOI55qE6ISa5pysCgkJCS8v6ISa5pys5Zyw5Z2A77yaaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzM3MDYzNAoJCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Ob2RlSW5zZXJ0ZWQnLChlKSA9PiB7CgkJCQlpZighZS5yZWxhdGVkTm9kZS5xdWVyeVNlbGVjdG9yKSByZXR1cm47CgkJCQl2YXIgcGxheUJhciA9IGUucmVsYXRlZE5vZGUucXVlcnlTZWxlY3RvcignOnNjb3BlID4gZGl2Omxhc3QtY2hpbGQgPiBkaXY6Zmlyc3QtY2hpbGQgPiBkaXY6bnRoLW9mLXR5cGUoMiknKTsKCQkJCWlmKCFwbGF5QmFyIHx8IHBsYXlCYXIucXVlcnlTZWxlY3RvcignLicrZG93bmxvYWRFbGVtZW50Q2xhc3NOYW1lKSkgcmV0dXJuOwoJCQkJdmFyIHBsYXlCdXQgPSBwbGF5QmFyLnF1ZXJ5U2VsZWN0b3IoJzpzY29wZSA+IGRpdjpsYXN0LWNoaWxkJyk7CgkJCQlpZighcGxheUJ1dCkgcmV0dXJuOwoJCQkJdmFyIHBsYXlCdXRMaSA9IHBsYXlCdXQucXVlcnlTZWxlY3RvcignZGl2OmZpcnN0LWNoaWxkJyk7CgkJCQlpZighcGxheUJ1dExpKSByZXR1cm47CgkJCQl2YXIgZG93bmxvYWRCdXQgPSBwbGF5QnV0TGkuY2xvbmVOb2RlKHRydWUpOwoJCQkJZG93bmxvYWRCdXQuY2xhc3NOYW1lID0gcGxheUJ1dExpLmNsYXNzTmFtZSArICcgJyArIGRvd25sb2FkRWxlbWVudENsYXNzTmFtZTsKCQkJCWlmKCFkb3dubG9hZEJ1dC5xdWVyeVNlbGVjdG9yKCcuXzF0ZzhvaXInKSkgcmV0dXJuOwoJCQkJZG93bmxvYWRCdXQucXVlcnlTZWxlY3RvcignLl8xdGc4b2lyJykuaW5uZXJUZXh0PSfkuIvovb0nOwoJCQkJcGxheUJ1dExpLmJlZm9yZShkb3dubG9hZEJ1dCk7CgkJCQkKCQkJCWRvd25sb2FkQnV0LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbigpewoJCQkJCWxldCBwbGF5VXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigidmlkZW8iKS5nZXRBdHRyaWJ1dGUoInNyYyIpOwoJCQkJCWlmKCEhcGxheVVybCl7CgkJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNb3BlbkluVGFiKHBsYXlVcmwsIGZhbHNlKTsKCQkJCQl9CgkJCQl9KTsKCQkJfSk7CgkJCQoJCX07CgkJdGhpcy5zdGFydCA9IGZ1bmN0aW9uKCl7CgkJCWNvbnN0IGhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdDsKCQkJY29uc3Qgc2VsZiA9IHRoaXM7CgkJCWlmKGhvc3QgPT0gImxpbmsuemhpaHUuY29tIil7IAoJCQkJdGhpcy5hdXRvSnVtcFRhcmdldCgpOwoJCQl9CgkJCWlmKGhvc3QuaW5kZXhPZigiemhpaHUuY29tIikhPS0xKXsKCQkJCWlmKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoInd3dy56aGlodS5jb20vcXVlc3Rpb24vIikhPS0xKXsKCQkJCQl0aGlzLm1hcmtRdWVzdGlvbkRhdGUoKTsgICAvL+mXrumimOaXpeacnwoJCQkJCXRoaXMuc2hvd1F1ZXN0aW9uQXV0aG9yKCk7IC8v5o+Q6Zeu6ICF5qCH6K+G5Ye65p2lCgkJCQl9CgkJCQl0aGlzLm1hcmtBcnRpY2xlT3JRdWVzdGlvbigpOyAgLy/moIfor4bmlofnq6Dov5jmmK/mj5Dpl64KCQkJCXRoaXMuYXV0b0hlaWdodFF1YWxpdHlQaWMoKTsgICAvL+iHquWKqOmrmOa4heWbvgoJCQkJCgkJCQkvL+efpeS5juinhumikeS4i+i9vQoJCQkJdGhpcy5kb3dubG9hZFZpZGVvKCk7CgkJCQl3aW5kb3cub25sb2FkPWZ1bmN0aW9uKCl7CgkJCQkJc2VsZi5kb3dubG9hZFZpZGVvKCk7CgkJCQl9CgkJCQl3aW5kb3cub25zY3JvbGw9ZnVuY3Rpb24oKXsKCQkJCQl2YXIgc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsgCgkJCQkJaWYoc2Nyb2xsVG9wID4gMjAwKXsgCgkJCQkJICAgIHNlbGYuZG93bmxvYWRWaWRlbygpOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX07Cgl9CgkJCgkvL+acgOWQjue7n+S4gOiwg+eUqAoJdHJ5ewoJCWlmKGZ1bmN0aW9uQ29udHJvbGxlci5zdXBlclZpZGVvSGVscGVyKXsKCQkJY29uc3Qgc3VwZXJWaWRlb0hlbHBlck9iamVjdCA9IG5ldyBzdXBlclZpZGVvSGVscGVyKG5ld09yaWdpbmFsSW50ZXJmYWNlTGlzdCk7CgkJCWlmKHN1cGVyVmlkZW9IZWxwZXJPYmplY3QuaXNSdW4oKSl7CgkJCQlpZihjb21tb25GdW5jdGlvbk9iamVjdC5HTWdldFZhbHVlKCJjb3B5cmlnaHRfdmlkZW9fcmVtaW5kIixudWxsKT09PSJ0cnVlIil7CgkJCQkJc3VwZXJWaWRlb0hlbHBlck9iamVjdC5zdGFydCgpOwoJCQkJfWVsc2V7CgkJCQkJdmFyIHI9Y29uZmlybSgKCQkJCQkJIuiEmuacrOi/kOihjOaPkOmGku+8ge+8ge+8gVx1MDAwZCIrCgkJCQkJCSIx44CBVklQ6KeG6aKR6Kej5p6Q5Lit5omA55So5Yiw55qE6Kej5p6Q5o6l5Y+j5YWo6YOo5pS26ZuG6Ieq5LqS6IGU572R77yI5rqQ56CB5Y+v6KeB77yJ77yM54mI5p2D6Zeu6aKY6K+36IGU57O755u45YWz6Kej5p6Q5o6l5Y+j5omA5pyJ6ICF77yBXHUwMDBkIisKCQkJCQkJIjLjgIHkuLrliJvpgKDoia/lpb3nmoTliJvkvZzmsJvlm7TvvIzor7flpKflrrbmlK/mjIHmraPniYjvvIFcdTAwMGQiKwoJCQkJCQkiM+OAgeiEmuacrOS7hemZkOS4quS6uuWtpuS5oOS6pOa1ge+8jOWIh+WLv+eUqOS6juS7u+S9leWVhuS4muetieWFtuWug+eUqOmAlO+8gVx1MDAwZCIrCgkJCQkJCSI044CB57un57ut5L2/55So77yM5Y2z6KGo5piO5L2g5bey57uP5piO56Gu5L2/55So6ISa5pys5Y+v6IO95bim5p2l55qE6aOO6Zmp77yM5LiU5oS/5oSP6Ieq6KGM5om/5ouF55u45YWz6aOO6Zmp77yM5a+55LqO6aOO6Zmp6ISa5pys5LiN5om/5ouF5Lu75L2V6LSj5Lu777yBXHUwMDBkIisKCQkJCQkJIjXjgIHmraTmj5DphpLlj6rlvLnlh7rkuIDmrKHvvIznoa7orqTlkI7vvIzlkI7nu63lsIbkuI3lnKjlvLnlh7rvvIzor7fnn6XmgonvvIEiCgkJCQkJKTsKCQkJCQlpZihyPT10cnVlKXsKCQkJCQkJY29tbW9uRnVuY3Rpb25PYmplY3QuR01zZXRWYWx1ZSgiY29weXJpZ2h0X3ZpZGVvX3JlbWluZCIsInRydWUiKTsKCQkJCQkJc3VwZXJWaWRlb0hlbHBlck9iamVjdC5zdGFydCgpOwoJCQkJCX0KCQkJCX0KCQkJfQoJCQkKCQkJKG5ldyBzdXBlclZpZGVvSGVscGVyTW9iaWxlKG5ld09yaWdpbmFsSW50ZXJmYWNlTGlzdCkpLnN0YXJ0KCk7CgkJfQoJfWNhdGNoKGUpewoJCWNvbnNvbGUubG9nKCLlhajnvZFWSVDop6PmnpDvvJplcnJvcu+8miIrZSk7Cgl9CgkKCXRyeXsKCQlpZihmdW5jdGlvbkNvbnRyb2xsZXIuYWJyb2FkVmlkZW9IZWxwZXIpewoJCQkobmV3IGFicm9hZFZpZGVvSGVscGVyKCkpLnN0YXJ0KCk7CgkJfQoJfWNhdGNoKGUpewoJCWNvbnNvbGUubG9nKCLlm73lpJbop4bpopHop6PmnpDvvJplcnJvcu+8miIrZSk7Cgl9CgkKCXRyeXsKCQkobmV3IHF1ZXJ5Q291cG9uKCkpLnN0YXJ0KCk7Cgl9Y2F0Y2goZSl7CgkJY29uc29sZS5sb2coIuS8mOaDoOWIuOafpeivou+8mmVycm9y77yaIitlKTsKCX0KCQoJdHJ5ewoJCWlmKGZ1bmN0aW9uQ29udHJvbGxlci5zdXBlck11c2ljSGVscGVyKXsKCQkJKG5ldyBzdXBlck11c2ljSGVscGVyKCkpLnN0YXJ0KCk7CgkJfQoJfWNhdGNoKGUpewoJCWNvbnNvbGUubG9nKCLlhajnvZHpn7PkuZDkuIvovb3vvJplcnJvcu+8miIrZSk7Cgl9CgkKCXRyeXsKCQlpZihmdW5jdGlvbkNvbnRyb2xsZXIuYmlsaWJpbGlIZWxwZXIpewoJCQluZXcgYmlsaWJpbGlIZWxwZXIoY29tbW9uRnVuY3Rpb25PYmplY3QpLnN0YXJ0KCk7CgkJfQoJfWNhdGNoKGUpewoJCWNvbnNvbGUubG9nKCJC56uZ6KeG6aKR5LiL6L2977yaZXJyb3LvvJoiK2UpOwoJfQoJCgl0cnl7CgkJaWYoZnVuY3Rpb25Db250cm9sbGVyLndhbmdwYW5TZWFyY2hFbmdpbmVzSGVscGVyKXsKCQkJbmV3IHdhbmdwYW5TZWFyY2hFbmdpbmVzSGVscGVyKGNvbW1vbkZ1bmN0aW9uT2JqZWN0KS5zdGFydCgpOwoJCX0KCX1jYXRjaChlKXsKCQljb25zb2xlLmxvZygi572R55uY5pCc57Si5byV5pOO56C06Kej77yaZXJyb3LvvJoiK2UpOwoJfQoJCgl0cnl7CgkJaWYoZnVuY3Rpb25Db250cm9sbGVyLnNlYXJjaEVuZ2luZXNOYXZpZ2F0aW9uKXsKCQkJbmV3IHNlYXJjaEVuZ2luZXNOYXZpZ2F0aW9uKGNvbW1vbkZ1bmN0aW9uT2JqZWN0KS5zdGFydCgpOwoJCX0KCX1jYXRjaChlKXsKCQljb25zb2xlLmxvZygi5pCc57Si5byV5pOO5a+86Iiq77yaZXJyb3LvvJoiK2UpOwoJfQoJCgl0cnl7CgkJaWYoZnVuY3Rpb25Db250cm9sbGVyLnpoaWh1SGVscGVyKXsKCQkJbmV3IHpoaWh1SGVscGVyKGNvbW1vbkZ1bmN0aW9uT2JqZWN0KS5zdGFydCgpOwoJCX0KCX1jYXRjaChlKXsKCQljb25zb2xlLmxvZygi55+l5LmO5Yqp5omL77yaZXJyb3LvvJoiK2UpOwoJfQp9KSgpOw==","requires":[{"meta":{"name":"jquery.min.js","url":"https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.2.1/jquery.min.js","ts":1657887949523,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My4yLjEgfCAoYykgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCiFmdW5jdGlvbihhLGIpeyJ1c2Ugc3RyaWN0Ijsib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1hLmRvY3VtZW50P2IoYSwhMCk6ZnVuY3Rpb24oYSl7aWYoIWEuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50Iik7cmV0dXJuIGIoYSl9OmIoYSl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKGEsYil7InVzZSBzdHJpY3QiO3ZhciBjPVtdLGQ9YS5kb2N1bWVudCxlPU9iamVjdC5nZXRQcm90b3R5cGVPZixmPWMuc2xpY2UsZz1jLmNvbmNhdCxoPWMucHVzaCxpPWMuaW5kZXhPZixqPXt9LGs9ai50b1N0cmluZyxsPWouaGFzT3duUHJvcGVydHksbT1sLnRvU3RyaW5nLG49bS5jYWxsKE9iamVjdCksbz17fTtmdW5jdGlvbiBwKGEsYil7Yj1ifHxkO3ZhciBjPWIuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7Yy50ZXh0PWEsYi5oZWFkLmFwcGVuZENoaWxkKGMpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyl9dmFyIHE9IjMuMi4xIixyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyByLmZuLmluaXQoYSxiKX0scz0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2csdD0vXi1tcy0vLHU9Ly0oW2Etel0pL2csdj1mdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9O3IuZm49ci5wcm90b3R5cGU9e2pxdWVyeTpxLGNvbnN0cnVjdG9yOnIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBmLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9mLmNhbGwodGhpcyk6YTwwP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXX0scHVzaFN0YWNrOmZ1bmN0aW9uKGEpe3ZhciBiPXIubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGEpO3JldHVybiBiLnByZXZPYmplY3Q9dGhpcyxifSxlYWNoOmZ1bmN0aW9uKGEpe3JldHVybiByLmVhY2godGhpcyxhKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhyLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGYuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sZW5ndGgsYz0rYSsoYTwwP2I6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGM+PTAmJmM8Yj9bdGhpc1tjXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6aCxzb3J0OmMuc29ydCxzcGxpY2U6Yy5zcGxpY2V9LHIuZXh0ZW5kPXIuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9YXJndW1lbnRzWzBdfHx7fSxoPTEsaT1hcmd1bWVudHMubGVuZ3RoLGo9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGcmJihqPWcsZz1hcmd1bWVudHNbaF18fHt9LGgrKyksIm9iamVjdCI9PXR5cGVvZiBnfHxyLmlzRnVuY3Rpb24oZyl8fChnPXt9KSxoPT09aSYmKGc9dGhpcyxoLS0pO2g8aTtoKyspaWYobnVsbCE9KGE9YXJndW1lbnRzW2hdKSlmb3IoYiBpbiBhKWM9Z1tiXSxkPWFbYl0sZyE9PWQmJihqJiZkJiYoci5pc1BsYWluT2JqZWN0KGQpfHwoZT1BcnJheS5pc0FycmF5KGQpKSk/KGU/KGU9ITEsZj1jJiZBcnJheS5pc0FycmF5KGMpP2M6W10pOmY9YyYmci5pc1BsYWluT2JqZWN0KGMpP2M6e30sZ1tiXT1yLmV4dGVuZChqLGYsZCkpOnZvaWQgMCE9PWQmJihnW2JdPWQpKTtyZXR1cm4gZ30sci5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKHErTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PXIudHlwZShhKX0saXNXaW5kb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJmE9PT1hLndpbmRvd30saXNOdW1lcmljOmZ1bmN0aW9uKGEpe3ZhciBiPXIudHlwZShhKTtyZXR1cm4oIm51bWJlciI9PT1ifHwic3RyaW5nIj09PWIpJiYhaXNOYU4oYS1wYXJzZUZsb2F0KGEpKX0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXt2YXIgYixjO3JldHVybiEoIWF8fCJbb2JqZWN0IE9iamVjdF0iIT09ay5jYWxsKGEpKSYmKCEoYj1lKGEpKXx8KGM9bC5jYWxsKGIsImNvbnN0cnVjdG9yIikmJmIuY29uc3RydWN0b3IsImZ1bmN0aW9uIj09dHlwZW9mIGMmJm0uY2FsbChjKT09PW4pKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP2ErIiI6Im9iamVjdCI9PXR5cGVvZiBhfHwiZnVuY3Rpb24iPT10eXBlb2YgYT9qW2suY2FsbChhKV18fCJvYmplY3QiOnR5cGVvZiBhfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGEpe3AoYSl9LGNhbWVsQ2FzZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHQsIm1zLSIpLnJlcGxhY2UodSx2KX0sZWFjaDpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MDtpZih3KGEpKXtmb3IoYz1hLmxlbmd0aDtkPGM7ZCsrKWlmKGIuY2FsbChhW2RdLGQsYVtkXSk9PT0hMSlicmVha31lbHNlIGZvcihkIGluIGEpaWYoYi5jYWxsKGFbZF0sZCxhW2RdKT09PSExKWJyZWFrO3JldHVybiBhfSx0cmltOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOihhKyIiKS5yZXBsYWNlKHMsIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHxbXTtyZXR1cm4gbnVsbCE9YSYmKHcoT2JqZWN0KGEpKT9yLm1lcmdlKGMsInN0cmluZyI9PXR5cGVvZiBhP1thXTphKTpoLmNhbGwoYyxhKSksY30saW5BcnJheTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGw9PWI/LTE6aS5jYWxsKGIsYSxjKX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9K2IubGVuZ3RoLGQ9MCxlPWEubGVuZ3RoO2Q8YztkKyspYVtlKytdPWJbZF07cmV0dXJuIGEubGVuZ3RoPWUsYX0sZ3JlcDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGU9W10sZj0wLGc9YS5sZW5ndGgsaD0hYztmPGc7ZisrKWQ9IWIoYVtmXSxmKSxkIT09aCYmZS5wdXNoKGFbZl0pO3JldHVybiBlfSxtYXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj0wLGg9W107aWYodyhhKSlmb3IoZD1hLmxlbmd0aDtmPGQ7ZisrKWU9YihhW2ZdLGYsYyksbnVsbCE9ZSYmaC5wdXNoKGUpO2Vsc2UgZm9yKGYgaW4gYSllPWIoYVtmXSxmLGMpLG51bGwhPWUmJmgucHVzaChlKTtyZXR1cm4gZy5hcHBseShbXSxoKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlO2lmKCJzdHJpbmciPT10eXBlb2YgYiYmKGM9YVtiXSxiPWEsYT1jKSxyLmlzRnVuY3Rpb24oYSkpcmV0dXJuIGQ9Zi5jYWxsKGFyZ3VtZW50cywyKSxlPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxkLmNvbmNhdChmLmNhbGwoYXJndW1lbnRzKSkpfSxlLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8ci5ndWlkKyssZX0sbm93OkRhdGUubm93LHN1cHBvcnQ6b30pLCJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJihyLmZuW1N5bWJvbC5pdGVyYXRvcl09Y1tTeW1ib2wuaXRlcmF0b3JdKSxyLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7alsiW29iamVjdCAiK2IrIl0iXT1iLnRvTG93ZXJDYXNlKCl9KTtmdW5jdGlvbiB3KGEpe3ZhciBiPSEhYSYmImxlbmd0aCJpbiBhJiZhLmxlbmd0aCxjPXIudHlwZShhKTtyZXR1cm4iZnVuY3Rpb24iIT09YyYmIXIuaXNXaW5kb3coYSkmJigiYXJyYXkiPT09Y3x8MD09PWJ8fCJudW1iZXIiPT10eXBlb2YgYiYmYj4wJiZiLTEgaW4gYSl9dmFyIHg9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdT0ic2l6emxlIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9aGEoKSx6PWhhKCksQT1oYSgpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPXt9Lmhhc093blByb3BlcnR5LEQ9W10sRT1ELnBvcCxGPUQucHVzaCxHPUQucHVzaCxIPUQuc2xpY2UsST1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKylpZihhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sSj0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLEs9IltcXHgyMFxcdFxcclxcblxcZl0iLEw9Iig/OlxcXFwufFtcXHctXXxbXlwwLVxceGEwXSkrIixNPSJcXFsiK0srIiooIitMKyIpKD86IitLKyIqKFsqXiR8IX5dPz0pIitLKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrTCsiKSl8KSIrSysiKlxcXSIsTj0iOigiK0wrIikoPzpcXCgoKCcoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwiKXwoKD86XFxcXC58W15cXFxcKClbXFxdXXwiK00rIikqKXwuKilcXCl8KSIsTz1uZXcgUmVnRXhwKEsrIisiLCJnIiksUD1uZXcgUmVnRXhwKCJeIitLKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK0srIiskIiwiZyIpLFE9bmV3IFJlZ0V4cCgiXiIrSysiKiwiK0srIioiKSxSPW5ldyBSZWdFeHAoIl4iK0srIiooWz4rfl18IitLKyIpIitLKyIqIiksUz1uZXcgUmVnRXhwKCI9IitLKyIqKFteXFxdJ1wiXSo/KSIrSysiKlxcXSIsImciKSxUPW5ldyBSZWdFeHAoTiksVT1uZXcgUmVnRXhwKCJeIitMKyIkIiksVj17SUQ6bmV3IFJlZ0V4cCgiXiMoIitMKyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK0wrIikiKSxUQUc6bmV3IFJlZ0V4cCgiXigiK0wrInxbKl0pIiksQVRUUjpuZXcgUmVnRXhwKCJeIitNKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrTiksQ0hJTEQ6bmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIitLKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIitLKyIqKD86KFsrLV18KSIrSysiKihcXGQrKXwpKSIrSysiKlxcKXwpIiwiaSIpLGJvb2w6bmV3IFJlZ0V4cCgiXig/OiIrSisiKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK0srIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrSysiKigoPzotXFxkKT9cXGQqKSIrSysiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sVz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFg9L15oXGQkL2ksWT0vXltee10rXHtccypcW25hdGl2ZSBcdy8sWj0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLCQ9L1srfl0vLF89bmV3IFJlZ0V4cCgiXFxcXChbXFxkYS1mXXsxLDZ9IitLKyI/fCgiK0srIil8LikiLCJpZyIpLGFhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0iMHgiK2ItNjU1MzY7cmV0dXJuIGQhPT1kfHxjP2I6ZDwwP1N0cmluZy5mcm9tQ2hhckNvZGUoZCs2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShkPj4xMHw1NTI5NiwxMDIzJmR8NTYzMjApfSxiYT0vKFtcMC1ceDFmXHg3Zl18Xi0/XGQpfF4tJHxbXlwwLVx4MWZceDdmLVx1RkZGRlx3LV0vZyxjYT1mdW5jdGlvbihhLGIpe3JldHVybiBiPyJcMCI9PT1hPyJcdWZmZmQiOmEuc2xpY2UoMCwtMSkrIlxcIithLmNoYXJDb2RlQXQoYS5sZW5ndGgtMSkudG9TdHJpbmcoMTYpKyIgIjoiXFwiK2F9LGRhPWZ1bmN0aW9uKCl7bSgpfSxlYT10YShmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSEwJiYoImZvcm0iaW4gYXx8ImxhYmVsImluIGEpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0cuYXBwbHkoRD1ILmNhbGwodi5jaGlsZE5vZGVzKSx2LmNoaWxkTm9kZXMpLERbdi5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZmEpe0c9e2FwcGx5OkQubGVuZ3RoP2Z1bmN0aW9uKGEsYil7Ri5hcHBseShhLEguY2FsbChiKSl9OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5sZW5ndGgsZD0wO3doaWxlKGFbYysrXT1iW2QrK10pO2EubGVuZ3RoPWMtMX19fWZ1bmN0aW9uIGdhKGEsYixkLGUpe3ZhciBmLGgsaixrLGwsbyxyLHM9YiYmYi5vd25lckRvY3VtZW50LHc9Yj9iLm5vZGVUeXBlOjk7aWYoZD1kfHxbXSwic3RyaW5nIiE9dHlwZW9mIGF8fCFhfHwxIT09dyYmOSE9PXcmJjExIT09dylyZXR1cm4gZDtpZighZSYmKChiP2Iub3duZXJEb2N1bWVudHx8Yjp2KSE9PW4mJm0oYiksYj1ifHxuLHApKXtpZigxMSE9PXcmJihsPVouZXhlYyhhKSkpaWYoZj1sWzFdKXtpZig5PT09dyl7aWYoIShqPWIuZ2V0RWxlbWVudEJ5SWQoZikpKXJldHVybiBkO2lmKGouaWQ9PT1mKXJldHVybiBkLnB1c2goaiksZH1lbHNlIGlmKHMmJihqPXMuZ2V0RWxlbWVudEJ5SWQoZikpJiZ0KGIsaikmJmouaWQ9PT1mKXJldHVybiBkLnB1c2goaiksZH1lbHNle2lmKGxbMl0pcmV0dXJuIEcuYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpKSxkO2lmKChmPWxbM10pJiZjLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gRy5hcHBseShkLGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShmKSksZH1pZihjLnFzYSYmIUFbYSsiICJdJiYoIXF8fCFxLnRlc3QoYSkpKXtpZigxIT09dylzPWIscj1hO2Vsc2UgaWYoIm9iamVjdCIhPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpeyhrPWIuZ2V0QXR0cmlidXRlKCJpZCIpKT9rPWsucmVwbGFjZShiYSxjYSk6Yi5zZXRBdHRyaWJ1dGUoImlkIixrPXUpLG89ZyhhKSxoPW8ubGVuZ3RoO3doaWxlKGgtLSlvW2hdPSIjIitrKyIgIitzYShvW2hdKTtyPW8uam9pbigiLCIpLHM9JC50ZXN0KGEpJiZxYShiLnBhcmVudE5vZGUpfHxifWlmKHIpdHJ5e3JldHVybiBHLmFwcGx5KGQscy5xdWVyeVNlbGVjdG9yQWxsKHIpKSxkfWNhdGNoKHgpe31maW5hbGx5e2s9PT11JiZiLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBpKGEucmVwbGFjZShQLCIkMSIpLGIsZCxlKX1mdW5jdGlvbiBoYSgpe3ZhciBhPVtdO2Z1bmN0aW9uIGIoYyxlKXtyZXR1cm4gYS5wdXNoKGMrIiAiKT5kLmNhY2hlTGVuZ3RoJiZkZWxldGUgYlthLnNoaWZ0KCldLGJbYysiICJdPWV9cmV0dXJuIGJ9ZnVuY3Rpb24gaWEoYSl7cmV0dXJuIGFbdV09ITAsYX1mdW5jdGlvbiBqYShhKXt2YXIgYj1uLmNyZWF0ZUVsZW1lbnQoImZpZWxkc2V0Iik7dHJ5e3JldHVybiEhYShiKX1jYXRjaChjKXtyZXR1cm4hMX1maW5hbGx5e2IucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbH19ZnVuY3Rpb24ga2EoYSxiKXt2YXIgYz1hLnNwbGl0KCJ8IiksZT1jLmxlbmd0aDt3aGlsZShlLS0pZC5hdHRySGFuZGxlW2NbZV1dPWJ9ZnVuY3Rpb24gbGEoYSxiKXt2YXIgYz1iJiZhLGQ9YyYmMT09PWEubm9kZVR5cGUmJjE9PT1iLm5vZGVUeXBlJiZhLnNvdXJjZUluZGV4LWIuc291cmNlSW5kZXg7aWYoZClyZXR1cm4gZDtpZihjKXdoaWxlKGM9Yy5uZXh0U2libGluZylpZihjPT09YilyZXR1cm4tMTtyZXR1cm4gYT8xOi0xfWZ1bmN0aW9uIG1hKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWMmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5hKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1jfHwiYnV0dG9uIj09PWMpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBvYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuImZvcm0iaW4gYj9iLnBhcmVudE5vZGUmJmIuZGlzYWJsZWQ9PT0hMT8ibGFiZWwiaW4gYj8ibGFiZWwiaW4gYi5wYXJlbnROb2RlP2IucGFyZW50Tm9kZS5kaXNhYmxlZD09PWE6Yi5kaXNhYmxlZD09PWE6Yi5pc0Rpc2FibGVkPT09YXx8Yi5pc0Rpc2FibGVkIT09IWEmJmVhKGIpPT09YTpiLmRpc2FibGVkPT09YToibGFiZWwiaW4gYiYmYi5kaXNhYmxlZD09PWF9fWZ1bmN0aW9uIHBhKGEpe3JldHVybiBpYShmdW5jdGlvbihiKXtyZXR1cm4gYj0rYixpYShmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSljW2U9ZltnXV0mJihjW2VdPSEoZFtlXT1jW2VdKSl9KX0pfWZ1bmN0aW9uIHFhKGEpe3JldHVybiBhJiYidW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmF9Yz1nYS5zdXBwb3J0PXt9LGY9Z2EuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEub3duZXJEb2N1bWVudHx8YSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiEhYiYmIkhUTUwiIT09Yi5ub2RlTmFtZX0sbT1nYS5zZXREb2N1bWVudD1mdW5jdGlvbihhKXt2YXIgYixlLGc9YT9hLm93bmVyRG9jdW1lbnR8fGE6djtyZXR1cm4gZyE9PW4mJjk9PT1nLm5vZGVUeXBlJiZnLmRvY3VtZW50RWxlbWVudD8obj1nLG89bi5kb2N1bWVudEVsZW1lbnQscD0hZihuKSx2IT09biYmKGU9bi5kZWZhdWx0VmlldykmJmUudG9wIT09ZSYmKGUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsZGEsITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixkYSkpLGMuYXR0cmlidXRlcz1qYShmdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc05hbWU9ImkiLCFhLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWphKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKG4uY3JlYXRlQ29tbWVudCgiIikpLCFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPVkudGVzdChuLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGMuZ2V0QnlJZD1qYShmdW5jdGlvbihhKXtyZXR1cm4gby5hcHBlbmRDaGlsZChhKS5pZD11LCFuLmdldEVsZW1lbnRzQnlOYW1lfHwhbi5nZXRFbGVtZW50c0J5TmFtZSh1KS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShfLGFhKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJpZCIpPT09Yn19LGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50QnlJZCYmcCl7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYz9bY106W119fSk6KGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShfLGFhKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9InVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEF0dHJpYnV0ZU5vZGUmJmEuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gYyYmYy52YWx1ZT09PWJ9fSxkLmZpbmQuSUQ9ZnVuY3Rpb24oYSxiKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGIuZ2V0RWxlbWVudEJ5SWQmJnApe3ZhciBjLGQsZSxmPWIuZ2V0RWxlbWVudEJ5SWQoYSk7aWYoZil7aWYoYz1mLmdldEF0dHJpYnV0ZU5vZGUoImlkIiksYyYmYy52YWx1ZT09PWEpcmV0dXJuW2ZdO2U9Yi5nZXRFbGVtZW50c0J5TmFtZShhKSxkPTA7d2hpbGUoZj1lW2QrK10paWYoYz1mLmdldEF0dHJpYnV0ZU5vZGUoImlkIiksYyYmYy52YWx1ZT09PWEpcmV0dXJuW2ZdfXJldHVybltdfX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZT9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpOmMucXNhP2IucXVlcnlTZWxlY3RvckFsbChhKTp2b2lkIDB9OmZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPTAsZj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpO2lmKCIqIj09PWEpe3doaWxlKGM9ZltlKytdKTE9PT1jLm5vZGVUeXBlJiZkLnB1c2goYyk7cmV0dXJuIGR9cmV0dXJuIGZ9LGQuZmluZC5DTEFTUz1jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGEsYil7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnApcmV0dXJuIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhKX0scj1bXSxxPVtdLChjLnFzYT1ZLnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkmJihqYShmdW5jdGlvbihhKXtvLmFwcGVuZENoaWxkKGEpLmlubmVySFRNTD0iPGEgaWQ9JyIrdSsiJz48L2E+PHNlbGVjdCBpZD0nIit1KyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGEucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnEucHVzaCgiWypeJF09IitLKyIqKD86Jyd8XCJcIikiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHEucHVzaCgiXFxbIitLKyIqKD86dmFsdWV8IitKKyIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrdSsiLV0iKS5sZW5ndGh8fHEucHVzaCgifj0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxxLnB1c2goIjpjaGVja2VkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrdSsiKyoiKS5sZW5ndGh8fHEucHVzaCgiLiMuK1srfl0iKX0pLGphKGZ1bmN0aW9uKGEpe2EuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciBiPW4uY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGEuYXBwZW5kQ2hpbGQoYikuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGEucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnEucHVzaCgibmFtZSIrSysiKlsqXiR8IX5dPz0iKSwyIT09YS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmcS5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLG8uYXBwZW5kQ2hpbGQoYSkuZGlzYWJsZWQ9ITAsMiE9PWEucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZxLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IikscS5wdXNoKCIsLio6Iil9KSksKGMubWF0Y2hlc1NlbGVjdG9yPVkudGVzdChzPW8ubWF0Y2hlc3x8by53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG8ubW96TWF0Y2hlc1NlbGVjdG9yfHxvLm9NYXRjaGVzU2VsZWN0b3J8fG8ubXNNYXRjaGVzU2VsZWN0b3IpKSYmamEoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1zLmNhbGwoYSwiKiIpLHMuY2FsbChhLCJbcyE9JyddOngiKSxyLnB1c2goIiE9IixOKX0pLHE9cS5sZW5ndGgmJm5ldyBSZWdFeHAocS5qb2luKCJ8IikpLHI9ci5sZW5ndGgmJm5ldyBSZWdFeHAoci5qb2luKCJ8IikpLGI9WS50ZXN0KG8uY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHQ9Ynx8WS50ZXN0KG8uY29udGFpbnMpP2Z1bmN0aW9uKGEsYil7dmFyIGM9OT09PWEubm9kZVR5cGU/YS5kb2N1bWVudEVsZW1lbnQ6YSxkPWImJmIucGFyZW50Tm9kZTtyZXR1cm4gYT09PWR8fCEoIWR8fDEhPT1kLm5vZGVUeXBlfHwhKGMuY29udGFpbnM/Yy5jb250YWlucyhkKTphLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGQpKSl9OmZ1bmN0aW9uKGEsYil7aWYoYil3aGlsZShiPWIucGFyZW50Tm9kZSlpZihiPT09YSlyZXR1cm4hMDtyZXR1cm4hMX0sQj1iP2Z1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgZD0hYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gZD9kOihkPShhLm93bmVyRG9jdW1lbnR8fGEpPT09KGIub3duZXJEb2N1bWVudHx8Yik/YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKToxLDEmZHx8IWMuc29ydERldGFjaGVkJiZiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEpPT09ZD9hPT09bnx8YS5vd25lckRvY3VtZW50PT09diYmdCh2LGEpPy0xOmI9PT1ufHxiLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYik/MTprP0koayxhKS1JKGssYik6MDo0JmQ/LTE6MSl9OmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgYyxkPTAsZT1hLnBhcmVudE5vZGUsZj1iLnBhcmVudE5vZGUsZz1bYV0saD1bYl07aWYoIWV8fCFmKXJldHVybiBhPT09bj8tMTpiPT09bj8xOmU/LTE6Zj8xOms/SShrLGEpLUkoayxiKTowO2lmKGU9PT1mKXJldHVybiBsYShhLGIpO2M9YTt3aGlsZShjPWMucGFyZW50Tm9kZSlnLnVuc2hpZnQoYyk7Yz1iO3doaWxlKGM9Yy5wYXJlbnROb2RlKWgudW5zaGlmdChjKTt3aGlsZShnW2RdPT09aFtkXSlkKys7cmV0dXJuIGQ/bGEoZ1tkXSxoW2RdKTpnW2RdPT09dj8tMTpoW2RdPT09dj8xOjB9LG4pOm59LGdhLm1hdGNoZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZ2EoYSxudWxsLG51bGwsYil9LGdhLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGIpe2lmKChhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSxiPWIucmVwbGFjZShTLCI9JyQxJ10iKSxjLm1hdGNoZXNTZWxlY3RvciYmcCYmIUFbYisiICJdJiYoIXJ8fCFyLnRlc3QoYikpJiYoIXF8fCFxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBnYShiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxnYS5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGdhLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZDLmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxnYS5lc2NhcGU9ZnVuY3Rpb24oYSl7cmV0dXJuKGErIiIpLnJlcGxhY2UoYmEsY2EpfSxnYS5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrYSl9LGdhLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZD1bXSxlPTAsZj0wO2lmKGw9IWMuZGV0ZWN0RHVwbGljYXRlcyxrPSFjLnNvcnRTdGFibGUmJmEuc2xpY2UoMCksYS5zb3J0KEIpLGwpe3doaWxlKGI9YVtmKytdKWI9PT1hW2ZdJiYoZT1kLnB1c2goZikpO3doaWxlKGUtLSlhLnNwbGljZShkW2VdLDEpfXJldHVybiBrPW51bGwsYX0sZT1nYS5nZXRUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiLGM9IiIsZD0wLGY9YS5ub2RlVHlwZTtpZihmKXtpZigxPT09Znx8OT09PWZ8fDExPT09Zil7aWYoInN0cmluZyI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRDb250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1lKGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKGI9YVtkKytdKWMrPWUoYik7cmV0dXJuIGN9LGQ9Z2Euc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86aWEsbWF0Y2g6VixhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS5yZXBsYWNlKF8sYWEpLGFbM109KGFbM118fGFbNF18fGFbNV18fCIiKS5yZXBsYWNlKF8sYWEpLCJ+PSI9PT1hWzJdJiYoYVszXT0iICIrYVszXSsiICIpLGEuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09YVsxXS5zbGljZSgwLDMpPyhhWzNdfHxnYS5lcnJvcihhWzBdKSxhWzRdPSsoYVs0XT9hWzVdKyhhWzZdfHwxKToyKigiZXZlbiI9PT1hWzNdfHwib2RkIj09PWFbM10pKSxhWzVdPSsoYVs3XSthWzhdfHwib2RkIj09PWFbM10pKTphWzNdJiZnYS5lcnJvcihhWzBdKSxhfSxQU0VVRE86ZnVuY3Rpb24oYSl7dmFyIGIsYz0hYVs2XSYmYVsyXTtyZXR1cm4gVi5DSElMRC50ZXN0KGFbMF0pP251bGw6KGFbM10/YVsyXT1hWzRdfHxhWzVdfHwiIjpjJiZULnRlc3QoYykmJihiPWcoYywhMCkpJiYoYj1jLmluZGV4T2YoIikiLGMubGVuZ3RoLWIpLWMubGVuZ3RoKSYmKGFbMF09YVswXS5zbGljZSgwLGIpLGFbMl09Yy5zbGljZSgwLGIpKSxhLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKF8sYWEpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09YT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn19LENMQVNTOmZ1bmN0aW9uKGEpe3ZhciBiPXlbYSsiICJdO3JldHVybiBifHwoYj1uZXcgUmVnRXhwKCIoXnwiK0srIikiK2ErIigiK0srInwkKSIpKSYmeShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRlc3QoInN0cmluZyI9PXR5cGVvZiBhLmNsYXNzTmFtZSYmYS5jbGFzc05hbWV8fCJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGUmJmEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPWdhLmF0dHIoZCxhKTtyZXR1cm4gbnVsbD09ZT8iIT0iPT09YjohYnx8KGUrPSIiLCI9Ij09PWI/ZT09PWM6IiE9Ij09PWI/ZSE9PWM6Il49Ij09PWI/YyYmMD09PWUuaW5kZXhPZihjKToiKj0iPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6IiQ9Ij09PWI/YyYmZS5zbGljZSgtYy5sZW5ndGgpPT09Yzoifj0iPT09Yj8oIiAiK2UucmVwbGFjZShPLCIgIikrIiAiKS5pbmRleE9mKGMpPi0xOiJ8PSI9PT1iJiYoZT09PWN8fGUuc2xpY2UoMCxjLmxlbmd0aCsxKT09PWMrIi0iKSl9fSxDSElMRDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPSJudGgiIT09YS5zbGljZSgwLDMpLGc9Imxhc3QiIT09YS5zbGljZSgtNCksaD0ib2YtdHlwZSI9PT1iO3JldHVybiAxPT09ZCYmMD09PWU/ZnVuY3Rpb24oYSl7cmV0dXJuISFhLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbSxuLG8scD1mIT09Zz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoLHQ9ITE7aWYocSl7aWYoZil7d2hpbGUocCl7bT1iO3doaWxlKG09bVtwXSlpZihoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpcmV0dXJuITE7bz1wPSJvbmx5Ij09PWEmJiFvJiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKG89W2c/cS5maXJzdENoaWxkOnEubGFzdENoaWxkXSxnJiZzKXttPXEsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biYmalsyXSxtPW4mJnEuY2hpbGROb2Rlc1tuXTt3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigxPT09bS5ub2RlVHlwZSYmKyt0JiZtPT09Yil7a1thXT1bdyxuLHRdO2JyZWFrfX1lbHNlIGlmKHMmJihtPWIsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biksdD09PSExKXdoaWxlKG09KytuJiZtJiZtW3BdfHwodD1uPTApfHxvLnBvcCgpKWlmKChoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpJiYrK3QmJihzJiYobD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksa1thXT1bdyx0XSksbT09PWIpKWJyZWFrO3JldHVybiB0LT1lLHQ9PT1kfHx0JWQ9PT0wJiZ0L2Q+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1kLnBzZXVkb3NbYV18fGQuc2V0RmlsdGVyc1thLnRvTG93ZXJDYXNlKCldfHxnYS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2EpO3JldHVybiBlW3VdP2UoYik6ZS5sZW5ndGg+MT8oYz1bYSxhLCIiLGJdLGQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhLnRvTG93ZXJDYXNlKCkpP2lhKGZ1bmN0aW9uKGEsYyl7dmFyIGQsZj1lKGEsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pZD1JKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmlhKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1oKGEucmVwbGFjZShQLCIkMSIpKTtyZXR1cm4gZFt1XT9pYShmdW5jdGlvbihhLGIsYyxlKXt2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7d2hpbGUoaC0tKShmPWdbaF0pJiYoYVtoXT0hKGJbaF09ZikpfSk6ZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiWzBdPWEsZChiLG51bGwsZixjKSxiWzBdPW51bGwsIWMucG9wKCl9fSksaGFzOmlhKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZ2EoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczppYShmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UoXyxhYSksZnVuY3Rpb24oYil7cmV0dXJuKGIudGV4dENvbnRlbnR8fGIuaW5uZXJUZXh0fHxlKGIpKS5pbmRleE9mKGEpPi0xfX0pLGxhbmc6aWEoZnVuY3Rpb24oYSl7cmV0dXJuIFUudGVzdChhfHwiIil8fGdhLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK2EpLGE9YS5yZXBsYWNlKF8sYWEpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oYil7dmFyIGM7ZG8gaWYoYz1wP2IubGFuZzpiLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8Yi5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4gYz1jLnRvTG93ZXJDYXNlKCksYz09PWF8fDA9PT1jLmluZGV4T2YoYSsiLSIpO3doaWxlKChiPWIucGFyZW50Tm9kZSkmJjE9PT1iLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oYil7dmFyIGM9YS5sb2NhdGlvbiYmYS5sb2NhdGlvbi5oYXNoO3JldHVybiBjJiZjLnNsaWNlKDEpPT09Yi5pZH0scm9vdDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW99LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09bi5hY3RpdmVFbGVtZW50JiYoIW4uaGFzRm9jdXN8fG4uaGFzRm9jdXMoKSkmJiEhKGEudHlwZXx8YS5ocmVmfHx+YS50YWJJbmRleCl9LGVuYWJsZWQ6b2EoITEpLGRpc2FibGVkOm9hKCEwKSxjaGVja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmISFhLmNoZWNrZWR8fCJvcHRpb24iPT09YiYmISFhLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxhLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hZC5wc2V1ZG9zLmVtcHR5KGEpfSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIFgudGVzdChhLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFcudGVzdChhLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmImJ1dHRvbiI9PT1hLnR5cGV8fCJidXR0b24iPT09Yn0sdGV4dDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4iaW5wdXQiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1hLnR5cGUmJihudWxsPT0oYj1hLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09Yi50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6cGEoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0OnBhKGZ1bmN0aW9uKGEsYil7cmV0dXJuW2ItMV19KSxlcTpwYShmdW5jdGlvbihhLGIsYyl7cmV0dXJuW2M8MD9jK2I6Y119KSxldmVuOnBhKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxiO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksb2RkOnBhKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7YzxiO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksbHQ6cGEoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1jPDA/YytiOmM7LS1kPj0wOylhLnB1c2goZCk7cmV0dXJuIGF9KSxndDpwYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWM8MD9jK2I6YzsrK2Q8YjspYS5wdXNoKGQpO3JldHVybiBhfSl9fSxkLnBzZXVkb3MubnRoPWQucHNldWRvcy5lcTtmb3IoYiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlkLnBzZXVkb3NbYl09bWEoYik7Zm9yKGIgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlkLnBzZXVkb3NbYl09bmEoYik7ZnVuY3Rpb24gcmEoKXt9cmEucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyByYSxnPWdhLnRva2VuaXplPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpLGosaz16W2ErIiAiXTtpZihrKXJldHVybiBiPzA6ay5zbGljZSgwKTtoPWEsaT1bXSxqPWQucHJlRmlsdGVyO3doaWxlKGgpe2MmJiEoZT1RLmV4ZWMoaCkpfHwoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1SLmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFAsIiAiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1WW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/Z2EuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiBzYShhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9IiI7YjxjO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHRhKGEsYixjKXt2YXIgZD1iLmRpcixlPWIubmV4dCxmPWV8fGQsZz1jJiYicGFyZW50Tm9kZSI9PT1mLGg9eCsrO3JldHVybiBiLmZpcnN0P2Z1bmN0aW9uKGIsYyxlKXt3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGcpcmV0dXJuIGEoYixjLGUpO3JldHVybiExfTpmdW5jdGlvbihiLGMsaSl7dmFyIGosayxsLG09W3csaF07aWYoaSl7d2hpbGUoYj1iW2RdKWlmKCgxPT09Yi5ub2RlVHlwZXx8ZykmJmEoYixjLGkpKXJldHVybiEwfWVsc2Ugd2hpbGUoYj1iW2RdKWlmKDE9PT1iLm5vZGVUeXBlfHxnKWlmKGw9Ylt1XXx8KGJbdV09e30pLGs9bFtiLnVuaXF1ZUlEXXx8KGxbYi51bmlxdWVJRF09e30pLGUmJmU9PT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpYj1iW2RdfHxiO2Vsc2V7aWYoKGo9a1tmXSkmJmpbMF09PT13JiZqWzFdPT09aClyZXR1cm4gbVsyXT1qWzJdO2lmKGtbZl09bSxtWzJdPWEoYixjLGkpKXJldHVybiEwfXJldHVybiExfX1mdW5jdGlvbiB1YShhKXtyZXR1cm4gYS5sZW5ndGg+MT9mdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5sZW5ndGg7d2hpbGUoZS0tKWlmKCFhW2VdKGIsYyxkKSlyZXR1cm4hMTtyZXR1cm4hMH06YVswXX1mdW5jdGlvbiB2YShhLGIsYyl7Zm9yKHZhciBkPTAsZT1iLmxlbmd0aDtkPGU7ZCsrKWdhKGEsYltkXSxjKTtyZXR1cm4gY31mdW5jdGlvbiB3YShhLGIsYyxkLGUpe2Zvcih2YXIgZixnPVtdLGg9MCxpPWEubGVuZ3RoLGo9bnVsbCE9YjtoPGk7aCsrKShmPWFbaF0pJiYoYyYmIWMoZixkLGUpfHwoZy5wdXNoKGYpLGomJmIucHVzaChoKSkpO3JldHVybiBnfWZ1bmN0aW9uIHhhKGEsYixjLGQsZSxmKXtyZXR1cm4gZCYmIWRbdV0mJihkPXhhKGQpKSxlJiYhZVt1XSYmKGU9eGEoZSxmKSksaWEoZnVuY3Rpb24oZixnLGgsaSl7dmFyIGosayxsLG09W10sbj1bXSxvPWcubGVuZ3RoLHA9Znx8dmEoYnx8IioiLGgubm9kZVR5cGU/W2hdOmgsW10pLHE9IWF8fCFmJiZiP3A6d2EocCxtLGEsaCxpKSxyPWM/ZXx8KGY/YTpvfHxkKT9bXTpnOnE7aWYoYyYmYyhxLHIsaCxpKSxkKXtqPXdhKHIsbiksZChqLFtdLGgsaSksaz1qLmxlbmd0aDt3aGlsZShrLS0pKGw9altrXSkmJihyW25ba11dPSEocVtuW2tdXT1sKSl9aWYoZil7aWYoZXx8YSl7aWYoZSl7aj1bXSxrPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmai5wdXNoKHFba109bCk7ZShudWxsLHI9W10saixpKX1rPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmKGo9ZT9JKGYsbCk6bVtrXSk+LTEmJihmW2pdPSEoZ1tqXT1sKSl9fWVsc2Ugcj13YShyPT09Zz9yLnNwbGljZShvLHIubGVuZ3RoKTpyKSxlP2UobnVsbCxnLHIsaSk6Ry5hcHBseShnLHIpfSl9ZnVuY3Rpb24geWEoYSl7Zm9yKHZhciBiLGMsZSxmPWEubGVuZ3RoLGc9ZC5yZWxhdGl2ZVthWzBdLnR5cGVdLGg9Z3x8ZC5yZWxhdGl2ZVsiICJdLGk9Zz8xOjAsaz10YShmdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9LGgsITApLGw9dGEoZnVuY3Rpb24oYSl7cmV0dXJuIEkoYixhKT4tMX0saCwhMCksbT1bZnVuY3Rpb24oYSxjLGQpe3ZhciBlPSFnJiYoZHx8YyE9PWopfHwoKGI9Yykubm9kZVR5cGU/ayhhLGMsZCk6bChhLGMsZCkpO3JldHVybiBiPW51bGwsZX1dO2k8ZjtpKyspaWYoYz1kLnJlbGF0aXZlW2FbaV0udHlwZV0pbT1bdGEodWEobSksYyldO2Vsc2V7aWYoYz1kLmZpbHRlclthW2ldLnR5cGVdLmFwcGx5KG51bGwsYVtpXS5tYXRjaGVzKSxjW3VdKXtmb3IoZT0rK2k7ZTxmO2UrKylpZihkLnJlbGF0aXZlW2FbZV0udHlwZV0pYnJlYWs7cmV0dXJuIHhhKGk+MSYmdWEobSksaT4xJiZzYShhLnNsaWNlKDAsaS0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWFbaS0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKFAsIiQxIiksYyxpPGUmJnlhKGEuc2xpY2UoaSxlKSksZTxmJiZ5YShhPWEuc2xpY2UoZSkpLGU8ZiYmc2EoYSkpfW0ucHVzaChjKX1yZXR1cm4gdWEobSl9ZnVuY3Rpb24gemEoYSxiKXt2YXIgYz1iLmxlbmd0aD4wLGU9YS5sZW5ndGg+MCxmPWZ1bmN0aW9uKGYsZyxoLGksayl7dmFyIGwsbyxxLHI9MCxzPSIwIix0PWYmJltdLHU9W10sdj1qLHg9Znx8ZSYmZC5maW5kLlRBRygiKiIsaykseT13Kz1udWxsPT12PzE6TWF0aC5yYW5kb20oKXx8LjEsej14Lmxlbmd0aDtmb3IoayYmKGo9Zz09PW58fGd8fGspO3MhPT16JiZudWxsIT0obD14W3NdKTtzKyspe2lmKGUmJmwpe289MCxnfHxsLm93bmVyRG9jdW1lbnQ9PT1ufHwobShsKSxoPSFwKTt3aGlsZShxPWFbbysrXSlpZihxKGwsZ3x8bixoKSl7aS5wdXNoKGwpO2JyZWFrfWsmJih3PXkpfWMmJigobD0hcSYmbCkmJnItLSxmJiZ0LnB1c2gobCkpfWlmKHIrPXMsYyYmcyE9PXIpe289MDt3aGlsZShxPWJbbysrXSlxKHQsdSxnLGgpO2lmKGYpe2lmKHI+MCl3aGlsZShzLS0pdFtzXXx8dVtzXXx8KHVbc109RS5jYWxsKGkpKTt1PXdhKHUpfUcuYXBwbHkoaSx1KSxrJiYhZiYmdS5sZW5ndGg+MCYmcitiLmxlbmd0aD4xJiZnYS51bmlxdWVTb3J0KGkpfXJldHVybiBrJiYodz15LGo9diksdH07cmV0dXJuIGM/aWEoZik6Zn1yZXR1cm4gaD1nYS5jb21waWxlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPVtdLGY9QVthKyIgIl07aWYoIWYpe2J8fChiPWcoYSkpLGM9Yi5sZW5ndGg7d2hpbGUoYy0tKWY9eWEoYltjXSksZlt1XT9kLnB1c2goZik6ZS5wdXNoKGYpO2Y9QShhLHphKGUsZCkpLGYuc2VsZWN0b3I9YX1yZXR1cm4gZn0saT1nYS5zZWxlY3Q9ZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGYsaSxqLGssbCxtPSJmdW5jdGlvbiI9PXR5cGVvZiBhJiZhLG49IWUmJmcoYT1tLnNlbGVjdG9yfHxhKTtpZihjPWN8fFtdLDE9PT1uLmxlbmd0aCl7aWYoaT1uWzBdPW5bMF0uc2xpY2UoMCksaS5sZW5ndGg+MiYmIklEIj09PShqPWlbMF0pLnR5cGUmJjk9PT1iLm5vZGVUeXBlJiZwJiZkLnJlbGF0aXZlW2lbMV0udHlwZV0pe2lmKGI9KGQuZmluZC5JRChqLm1hdGNoZXNbMF0ucmVwbGFjZShfLGFhKSxiKXx8W10pWzBdLCFiKXJldHVybiBjO20mJihiPWIucGFyZW50Tm9kZSksYT1hLnNsaWNlKGkuc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWY9Vi5uZWVkc0NvbnRleHQudGVzdChhKT8wOmkubGVuZ3RoO3doaWxlKGYtLSl7aWYoaj1pW2ZdLGQucmVsYXRpdmVbaz1qLnR5cGVdKWJyZWFrO2lmKChsPWQuZmluZFtrXSkmJihlPWwoai5tYXRjaGVzWzBdLnJlcGxhY2UoXyxhYSksJC50ZXN0KGlbMF0udHlwZSkmJnFhKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoaS5zcGxpY2UoZiwxKSxhPWUubGVuZ3RoJiZzYShpKSwhYSlyZXR1cm4gRy5hcHBseShjLGUpLGM7YnJlYWt9fX1yZXR1cm4obXx8aChhLG4pKShlLGIsIXAsYywhYnx8JC50ZXN0KGEpJiZxYShiLnBhcmVudE5vZGUpfHxiKSxjfSxjLnNvcnRTdGFibGU9dS5zcGxpdCgiIikuc29ydChCKS5qb2luKCIiKT09PXUsYy5kZXRlY3REdXBsaWNhdGVzPSEhbCxtKCksYy5zb3J0RGV0YWNoZWQ9amEoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuLmNyZWF0ZUVsZW1lbnQoImZpZWxkc2V0IikpfSksamEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8YSBocmVmPScjJz48L2E+IiwiIyI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIil9KXx8a2EoInR5cGV8aHJlZnxoZWlnaHR8d2lkdGgiLGZ1bmN0aW9uKGEsYixjKXtpZighYylyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoYiwidHlwZSI9PT1iLnRvTG93ZXJDYXNlKCk/MToyKX0pLGMuYXR0cmlidXRlcyYmamEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8aW5wdXQvPiIsYS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSwiIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KXx8a2EoInZhbHVlIixmdW5jdGlvbihhLGIsYyl7aWYoIWMmJiJpbnB1dCI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGEuZGVmYXVsdFZhbHVlfSksamEoZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpfSl8fGthKEosZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKCFjKXJldHVybiBhW2JdPT09ITA/Yi50b0xvd2VyQ2FzZSgpOihkPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJmQuc3BlY2lmaWVkP2QudmFsdWU6bnVsbH0pLGdhfShhKTtyLmZpbmQ9eCxyLmV4cHI9eC5zZWxlY3RvcnMsci5leHByWyI6Il09ci5leHByLnBzZXVkb3Msci51bmlxdWVTb3J0PXIudW5pcXVlPXgudW5pcXVlU29ydCxyLnRleHQ9eC5nZXRUZXh0LHIuaXNYTUxEb2M9eC5pc1hNTCxyLmNvbnRhaW5zPXguY29udGFpbnMsci5lc2NhcGVTZWxlY3Rvcj14LmVzY2FwZTt2YXIgeT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZT12b2lkIDAhPT1jO3doaWxlKChhPWFbYl0pJiY5IT09YS5ub2RlVHlwZSlpZigxPT09YS5ub2RlVHlwZSl7aWYoZSYmcihhKS5pcyhjKSlicmVhaztkLnB1c2goYSl9cmV0dXJuIGR9LHo9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W107YTthPWEubmV4dFNpYmxpbmcpMT09PWEubm9kZVR5cGUmJmEhPT1iJiZjLnB1c2goYSk7cmV0dXJuIGN9LEE9ci5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtmdW5jdGlvbiBCKGEsYil7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIudG9Mb3dlckNhc2UoKX12YXIgQz0vXjwoW2Etel1bXlwvXDA+Olx4MjBcdFxyXG5cZl0qKVtceDIwXHRcclxuXGZdKlwvPz4oPzo8XC9cMT58KSQvaSxEPS9eLlteOiNcW1wuLF0qJC87ZnVuY3Rpb24gRShhLGIsYyl7cmV0dXJuIHIuaXNGdW5jdGlvbihiKT9yLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTpiLm5vZGVUeXBlP3IuZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBhPT09YiE9PWN9KToic3RyaW5nIiE9dHlwZW9mIGI/ci5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGkuY2FsbChiLGEpPi0xIT09Y30pOkQudGVzdChiKT9yLmZpbHRlcihiLGEsYyk6KGI9ci5maWx0ZXIoYixhKSxyLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gaS5jYWxsKGIsYSk+LTEhPT1jJiYxPT09YS5ub2RlVHlwZX0pKX1yLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9Ijpub3QoIithKyIpIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9yLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOnIuZmluZC5tYXRjaGVzKGEsci5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxyLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjLGQ9dGhpcy5sZW5ndGgsZT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2socihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2I8ZDtiKyspaWYoci5jb250YWlucyhlW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihjPXRoaXMucHVzaFN0YWNrKFtdKSxiPTA7YjxkO2IrKylyLmZpbmQoYSxlW2JdLGMpO3JldHVybiBkPjE/ci51bmlxdWVTb3J0KGMpOmN9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soRSh0aGlzLGF8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soRSh0aGlzLGF8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEhRSh0aGlzLCJzdHJpbmciPT10eXBlb2YgYSYmQS50ZXN0KGEpP3IoYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgRixHPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC8sSD1yLmZuLmluaXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGY7aWYoIWEpcmV0dXJuIHRoaXM7aWYoYz1jfHxGLCJzdHJpbmciPT10eXBlb2YgYSl7aWYoZT0iPCI9PT1hWzBdJiYiPiI9PT1hW2EubGVuZ3RoLTFdJiZhLmxlbmd0aD49Mz9bbnVsbCxhLG51bGxdOkcuZXhlYyhhKSwhZXx8IWVbMV0mJmIpcmV0dXJuIWJ8fGIuanF1ZXJ5PyhifHxjKS5maW5kKGEpOnRoaXMuY29uc3RydWN0b3IoYikuZmluZChhKTtpZihlWzFdKXtpZihiPWIgaW5zdGFuY2VvZiByP2JbMF06YixyLm1lcmdlKHRoaXMsci5wYXJzZUhUTUwoZVsxXSxiJiZiLm5vZGVUeXBlP2Iub3duZXJEb2N1bWVudHx8YjpkLCEwKSksQy50ZXN0KGVbMV0pJiZyLmlzUGxhaW5PYmplY3QoYikpZm9yKGUgaW4gYilyLmlzRnVuY3Rpb24odGhpc1tlXSk/dGhpc1tlXShiW2VdKTp0aGlzLmF0dHIoZSxiW2VdKTtyZXR1cm4gdGhpc31yZXR1cm4gZj1kLmdldEVsZW1lbnRCeUlkKGVbMl0pLGYmJih0aGlzWzBdPWYsdGhpcy5sZW5ndGg9MSksdGhpc31yZXR1cm4gYS5ub2RlVHlwZT8odGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6ci5pc0Z1bmN0aW9uKGEpP3ZvaWQgMCE9PWMucmVhZHk/Yy5yZWFkeShhKTphKHIpOnIubWFrZUFycmF5KGEsdGhpcyl9O0gucHJvdG90eXBlPXIuZm4sRj1yKGQpO3ZhciBJPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEo9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07ci5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihhKXt2YXIgYj1yKGEsdGhpcyksYz1iLmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPGM7YSsrKWlmKHIuY29udGFpbnModGhpcyxiW2FdKSlyZXR1cm4hMH0pfSxjbG9zZXN0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0wLGU9dGhpcy5sZW5ndGgsZj1bXSxnPSJzdHJpbmciIT10eXBlb2YgYSYmcihhKTtpZighQS50ZXN0KGEpKWZvcig7ZDxlO2QrKylmb3IoYz10aGlzW2RdO2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cuaW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJnIuZmluZC5tYXRjaGVzU2VsZWN0b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5sZW5ndGg+MT9yLnVuaXF1ZVNvcnQoZik6Zil9LGluZGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhPyJzdHJpbmciPT10eXBlb2YgYT9pLmNhbGwocihhKSx0aGlzWzBdKTppLmNhbGwodGhpcyxhLmpxdWVyeT9hWzBdOmEpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHIudW5pcXVlU29ydChyLm1lcmdlKHRoaXMuZ2V0KCkscihhLGIpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFkZChudWxsPT1hP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGEpKX19KTtmdW5jdGlvbiBLKGEsYil7d2hpbGUoKGE9YVtiXSkmJjEhPT1hLm5vZGVUeXBlKTtyZXR1cm4gYX1yLmVhY2goe3BhcmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJjExIT09Yi5ub2RlVHlwZT9iOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHkoYSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB5KGEsInBhcmVudE5vZGUiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBLKGEsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEsoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIHkoYSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4geShhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4geShhLCJuZXh0U2libGluZyIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHkoYSwicHJldmlvdXNTaWJsaW5nIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHooKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiB6KGEuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBCKGEsImlmcmFtZSIpP2EuY29udGVudERvY3VtZW50OihCKGEsInRlbXBsYXRlIikmJihhPWEuY29udGVudHx8YSksci5tZXJnZShbXSxhLmNoaWxkTm9kZXMpKX19LGZ1bmN0aW9uKGEsYil7ci5mblthXT1mdW5jdGlvbihjLGQpe3ZhciBlPXIubWFwKHRoaXMsYixjKTtyZXR1cm4iVW50aWwiIT09YS5zbGljZSgtNSkmJihkPWMpLGQmJiJzdHJpbmciPT10eXBlb2YgZCYmKGU9ci5maWx0ZXIoZCxlKSksdGhpcy5sZW5ndGg+MSYmKEpbYV18fHIudW5pcXVlU29ydChlKSxJLnRlc3QoYSkmJmUucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgTD0vW15ceDIwXHRcclxuXGZdKy9nO2Z1bmN0aW9uIE0oYSl7dmFyIGI9e307cmV0dXJuIHIuZWFjaChhLm1hdGNoKEwpfHxbXSxmdW5jdGlvbihhLGMpe2JbY109ITB9KSxifXIuQ2FsbGJhY2tzPWZ1bmN0aW9uKGEpe2E9InN0cmluZyI9PXR5cGVvZiBhP00oYSk6ci5leHRlbmQoe30sYSk7dmFyIGIsYyxkLGUsZj1bXSxnPVtdLGg9LTEsaT1mdW5jdGlvbigpe2ZvcihlPWV8fGEub25jZSxkPWI9ITA7Zy5sZW5ndGg7aD0tMSl7Yz1nLnNoaWZ0KCk7d2hpbGUoKytoPGYubGVuZ3RoKWZbaF0uYXBwbHkoY1swXSxjWzFdKT09PSExJiZhLnN0b3BPbkZhbHNlJiYoaD1mLmxlbmd0aCxjPSExKX1hLm1lbW9yeXx8KGM9ITEpLGI9ITEsZSYmKGY9Yz9bXToiIil9LGo9e2FkZDpmdW5jdGlvbigpe3JldHVybiBmJiYoYyYmIWImJihoPWYubGVuZ3RoLTEsZy5wdXNoKGMpKSxmdW5jdGlvbiBkKGIpe3IuZWFjaChiLGZ1bmN0aW9uKGIsYyl7ci5pc0Z1bmN0aW9uKGMpP2EudW5pcXVlJiZqLmhhcyhjKXx8Zi5wdXNoKGMpOmMmJmMubGVuZ3RoJiYic3RyaW5nIiE9PXIudHlwZShjKSYmZChjKX0pfShhcmd1bWVudHMpLGMmJiFiJiZpKCkpLHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiByLmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKGEsYil7dmFyIGM7d2hpbGUoKGM9ci5pbkFycmF5KGIsZixjKSk+LTEpZi5zcGxpY2UoYywxKSxjPD1oJiZoLS19KSx0aGlzfSxoYXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/ci5pbkFycmF5KGEsZik+LTE6Zi5sZW5ndGg+MH0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gZiYmKGY9W10pLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZT1nPVtdLGY9Yz0iIix0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFmfSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGU9Zz1bXSxjfHxifHwoZj1jPSIiKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWV9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGV8fChjPWN8fFtdLGM9W2EsYy5zbGljZT9jLnNsaWNlKCk6Y10sZy5wdXNoKGMpLGJ8fGkoKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBqLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhZH19O3JldHVybiBqfTtmdW5jdGlvbiBOKGEpe3JldHVybiBhfWZ1bmN0aW9uIE8oYSl7dGhyb3cgYX1mdW5jdGlvbiBQKGEsYixjLGQpe3ZhciBlO3RyeXthJiZyLmlzRnVuY3Rpb24oZT1hLnByb21pc2UpP2UuY2FsbChhKS5kb25lKGIpLmZhaWwoYyk6YSYmci5pc0Z1bmN0aW9uKGU9YS50aGVuKT9lLmNhbGwoYSxiLGMpOmIuYXBwbHkodm9pZCAwLFthXS5zbGljZShkKSl9Y2F0Y2goYSl7Yy5hcHBseSh2b2lkIDAsW2FdKX19ci5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGIpe3ZhciBjPVtbIm5vdGlmeSIsInByb2dyZXNzIixyLkNhbGxiYWNrcygibWVtb3J5Iiksci5DYWxsYmFja3MoIm1lbW9yeSIpLDJdLFsicmVzb2x2ZSIsImRvbmUiLHIuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHIuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLDAsInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixyLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxyLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwxLCJyZWplY3RlZCJdXSxkPSJwZW5kaW5nIixlPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBkfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gZi5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LCJjYXRjaCI6ZnVuY3Rpb24oYSl7cmV0dXJuIGUudGhlbihudWxsLGEpfSxwaXBlOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiByLkRlZmVycmVkKGZ1bmN0aW9uKGIpe3IuZWFjaChjLGZ1bmN0aW9uKGMsZCl7dmFyIGU9ci5pc0Z1bmN0aW9uKGFbZFs0XV0pJiZhW2RbNF1dO2ZbZFsxXV0oZnVuY3Rpb24oKXt2YXIgYT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZyLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9hLnByb21pc2UoKS5wcm9ncmVzcyhiLm5vdGlmeSkuZG9uZShiLnJlc29sdmUpLmZhaWwoYi5yZWplY3QpOmJbZFswXSsiV2l0aCJdKHRoaXMsZT9bYV06YXJndW1lbnRzKX0pfSksYT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKGIsZCxlKXt2YXIgZj0wO2Z1bmN0aW9uIGcoYixjLGQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGg9dGhpcyxpPWFyZ3VtZW50cyxqPWZ1bmN0aW9uKCl7dmFyIGEsajtpZighKGI8Zikpe2lmKGE9ZC5hcHBseShoLGkpLGE9PT1jLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTtqPWEmJigib2JqZWN0Ij09dHlwZW9mIGF8fCJmdW5jdGlvbiI9PXR5cGVvZiBhKSYmYS50aGVuLHIuaXNGdW5jdGlvbihqKT9lP2ouY2FsbChhLGcoZixjLE4sZSksZyhmLGMsTyxlKSk6KGYrKyxqLmNhbGwoYSxnKGYsYyxOLGUpLGcoZixjLE8sZSksZyhmLGMsTixjLm5vdGlmeVdpdGgpKSk6KGQhPT1OJiYoaD12b2lkIDAsaT1bYV0pLChlfHxjLnJlc29sdmVXaXRoKShoLGkpKX19LGs9ZT9qOmZ1bmN0aW9uKCl7dHJ5e2ooKX1jYXRjaChhKXtyLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2smJnIuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayhhLGsuc3RhY2tUcmFjZSksYisxPj1mJiYoZCE9PU8mJihoPXZvaWQgMCxpPVthXSksYy5yZWplY3RXaXRoKGgsaSkpfX07Yj9rKCk6KHIuRGVmZXJyZWQuZ2V0U3RhY2tIb29rJiYoay5zdGFja1RyYWNlPXIuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCkpLGEuc2V0VGltZW91dChrKSl9fXJldHVybiByLkRlZmVycmVkKGZ1bmN0aW9uKGEpe2NbMF1bM10uYWRkKGcoMCxhLHIuaXNGdW5jdGlvbihlKT9lOk4sYS5ub3RpZnlXaXRoKSksY1sxXVszXS5hZGQoZygwLGEsci5pc0Z1bmN0aW9uKGIpP2I6TikpLGNbMl1bM10uYWRkKGcoMCxhLHIuaXNGdW5jdGlvbihkKT9kOk8pKX0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9yLmV4dGVuZChhLGUpOmV9fSxmPXt9O3JldHVybiByLmVhY2goYyxmdW5jdGlvbihhLGIpe3ZhciBnPWJbMl0saD1iWzVdO2VbYlsxXV09Zy5hZGQsaCYmZy5hZGQoZnVuY3Rpb24oKXtkPWh9LGNbMy1hXVsyXS5kaXNhYmxlLGNbMF1bMl0ubG9jayksZy5hZGQoYlszXS5maXJlKSxmW2JbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGZbYlswXSsiV2l0aCJdKHRoaXM9PT1mP3ZvaWQgMDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZltiWzBdKyJXaXRoIl09Zy5maXJlV2l0aH0pLGUucHJvbWlzZShmKSxiJiZiLmNhbGwoZixmKSxmfSx3aGVuOmZ1bmN0aW9uKGEpe3ZhciBiPWFyZ3VtZW50cy5sZW5ndGgsYz1iLGQ9QXJyYXkoYyksZT1mLmNhbGwoYXJndW1lbnRzKSxnPXIuRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXtkW2FdPXRoaXMsZVthXT1hcmd1bWVudHMubGVuZ3RoPjE/Zi5jYWxsKGFyZ3VtZW50cyk6YywtLWJ8fGcucmVzb2x2ZVdpdGgoZCxlKX19O2lmKGI8PTEmJihQKGEsZy5kb25lKGgoYykpLnJlc29sdmUsZy5yZWplY3QsIWIpLCJwZW5kaW5nIj09PWcuc3RhdGUoKXx8ci5pc0Z1bmN0aW9uKGVbY10mJmVbY10udGhlbikpKXJldHVybiBnLnRoZW4oKTt3aGlsZShjLS0pUChlW2NdLGgoYyksZy5yZWplY3QpO3JldHVybiBnLnByb21pc2UoKX19KTt2YXIgUT0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztyLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oYixjKXthLmNvbnNvbGUmJmEuY29uc29sZS53YXJuJiZiJiZRLnRlc3QoYi5uYW1lKSYmYS5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrYi5tZXNzYWdlLGIuc3RhY2ssYyl9LHIucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oYil7YS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgYn0pfTt2YXIgUj1yLkRlZmVycmVkKCk7ci5mbi5yZWFkeT1mdW5jdGlvbihhKXtyZXR1cm4gUi50aGVuKGEpWyJjYXRjaCJdKGZ1bmN0aW9uKGEpe3IucmVhZHlFeGNlcHRpb24oYSl9KSx0aGlzfSxyLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihhKXsoYT09PSEwPy0tci5yZWFkeVdhaXQ6ci5pc1JlYWR5KXx8KHIuaXNSZWFkeT0hMCxhIT09ITAmJi0tci5yZWFkeVdhaXQ+MHx8Ui5yZXNvbHZlV2l0aChkLFtyXSkpfX0pLHIucmVhZHkudGhlbj1SLnRoZW47ZnVuY3Rpb24gUygpe2QucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsUyksCmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsUyksci5yZWFkeSgpfSJjb21wbGV0ZSI9PT1kLnJlYWR5U3RhdGV8fCJsb2FkaW5nIiE9PWQucmVhZHlTdGF0ZSYmIWQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP2Euc2V0VGltZW91dChyLnJlYWR5KTooZC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixTKSxhLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLFMpKTt2YXIgVD1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaD0wLGk9YS5sZW5ndGgsaj1udWxsPT1jO2lmKCJvYmplY3QiPT09ci50eXBlKGMpKXtlPSEwO2ZvcihoIGluIGMpVChhLGIsaCxjW2hdLCEwLGYsZyl9ZWxzZSBpZih2b2lkIDAhPT1kJiYoZT0hMCxyLmlzRnVuY3Rpb24oZCl8fChnPSEwKSxqJiYoZz8oYi5jYWxsKGEsZCksYj1udWxsKTooaj1iLGI9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBqLmNhbGwocihhKSxjKX0pKSxiKSlmb3IoO2g8aTtoKyspYihhW2hdLGMsZz9kOmQuY2FsbChhW2hdLGgsYihhW2hdLGMpKSk7cmV0dXJuIGU/YTpqP2IuY2FsbChhKTppP2IoYVswXSxjKTpmfSxVPWZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZXx8OT09PWEubm9kZVR5cGV8fCErYS5ub2RlVHlwZX07ZnVuY3Rpb24gVigpe3RoaXMuZXhwYW5kbz1yLmV4cGFuZG8rVi51aWQrK31WLnVpZD0xLFYucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihhKXt2YXIgYj1hW3RoaXMuZXhwYW5kb107cmV0dXJuIGJ8fChiPXt9LFUoYSkmJihhLm5vZGVUeXBlP2FbdGhpcy5leHBhbmRvXT1iOk9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLHRoaXMuZXhwYW5kbyx7dmFsdWU6Yixjb25maWd1cmFibGU6ITB9KSkpLGJ9LHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT10aGlzLmNhY2hlKGEpO2lmKCJzdHJpbmciPT10eXBlb2YgYillW3IuY2FtZWxDYXNlKGIpXT1jO2Vsc2UgZm9yKGQgaW4gYillW3IuY2FtZWxDYXNlKGQpXT1iW2RdO3JldHVybiBlfSxnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdm9pZCAwPT09Yj90aGlzLmNhY2hlKGEpOmFbdGhpcy5leHBhbmRvXSYmYVt0aGlzLmV4cGFuZG9dW3IuY2FtZWxDYXNlKGIpXX0sYWNjZXNzOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmInN0cmluZyI9PXR5cGVvZiBiJiZ2b2lkIDA9PT1jP3RoaXMuZ2V0KGEsYik6KHRoaXMuc2V0KGEsYixjKSx2b2lkIDAhPT1jP2M6Yil9LHJlbW92ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9YVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PWQpe2lmKHZvaWQgMCE9PWIpe0FycmF5LmlzQXJyYXkoYik/Yj1iLm1hcChyLmNhbWVsQ2FzZSk6KGI9ci5jYW1lbENhc2UoYiksYj1iIGluIGQ/W2JdOmIubWF0Y2goTCl8fFtdKSxjPWIubGVuZ3RoO3doaWxlKGMtLSlkZWxldGUgZFtiW2NdXX0odm9pZCAwPT09Ynx8ci5pc0VtcHR5T2JqZWN0KGQpKSYmKGEubm9kZVR5cGU/YVt0aGlzLmV4cGFuZG9dPXZvaWQgMDpkZWxldGUgYVt0aGlzLmV4cGFuZG9dKX19LGhhc0RhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9YVt0aGlzLmV4cGFuZG9dO3JldHVybiB2b2lkIDAhPT1iJiYhci5pc0VtcHR5T2JqZWN0KGIpfX07dmFyIFc9bmV3IFYsWD1uZXcgVixZPS9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8sWj0vW0EtWl0vZztmdW5jdGlvbiAkKGEpe3JldHVybiJ0cnVlIj09PWF8fCJmYWxzZSIhPT1hJiYoIm51bGwiPT09YT9udWxsOmE9PT0rYSsiIj8rYTpZLnRlc3QoYSk/SlNPTi5wYXJzZShhKTphKX1mdW5jdGlvbiBfKGEsYixjKXt2YXIgZDtpZih2b2lkIDA9PT1jJiYxPT09YS5ub2RlVHlwZSlpZihkPSJkYXRhLSIrYi5yZXBsYWNlKFosIi0kJiIpLnRvTG93ZXJDYXNlKCksYz1hLmdldEF0dHJpYnV0ZShkKSwic3RyaW5nIj09dHlwZW9mIGMpe3RyeXtjPSQoYyl9Y2F0Y2goZSl7fVguc2V0KGEsYixjKX1lbHNlIGM9dm9pZCAwO3JldHVybiBjfXIuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBYLmhhc0RhdGEoYSl8fFcuaGFzRGF0YShhKX0sZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFguYWNjZXNzKGEsYixjKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihhLGIpe1gucmVtb3ZlKGEsYil9LF9kYXRhOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gVy5hY2Nlc3MoYSxiLGMpfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihhLGIpe1cucmVtb3ZlKGEsYil9fSksci5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj10aGlzWzBdLGc9ZiYmZi5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PWEpe2lmKHRoaXMubGVuZ3RoJiYoZT1YLmdldChmKSwxPT09Zi5ub2RlVHlwZSYmIVcuZ2V0KGYsImhhc0RhdGFBdHRycyIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoImRhdGEtIikmJihkPXIuY2FtZWxDYXNlKGQuc2xpY2UoNSkpLF8oZixkLGVbZF0pKSk7Vy5zZXQoZiwiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGV9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBhP3RoaXMuZWFjaChmdW5jdGlvbigpe1guc2V0KHRoaXMsYSl9KTpUKHRoaXMsZnVuY3Rpb24oYil7dmFyIGM7aWYoZiYmdm9pZCAwPT09Yil7aWYoYz1YLmdldChmLGEpLHZvaWQgMCE9PWMpcmV0dXJuIGM7aWYoYz1fKGYsYSksdm9pZCAwIT09YylyZXR1cm4gY31lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe1guc2V0KHRoaXMsYSxiKX0pfSxudWxsLGIsYXJndW1lbnRzLmxlbmd0aD4xLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtYLnJlbW92ZSh0aGlzLGEpfSl9fSksci5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtpZihhKXJldHVybiBiPShifHwiZngiKSsicXVldWUiLGQ9Vy5nZXQoYSxiKSxjJiYoIWR8fEFycmF5LmlzQXJyYXkoYyk/ZD1XLmFjY2VzcyhhLGIsci5tYWtlQXJyYXkoYykpOmQucHVzaChjKSksZHx8W119LGRlcXVldWU6ZnVuY3Rpb24oYSxiKXtiPWJ8fCJmeCI7dmFyIGM9ci5xdWV1ZShhLGIpLGQ9Yy5sZW5ndGgsZT1jLnNoaWZ0KCksZj1yLl9xdWV1ZUhvb2tzKGEsYiksZz1mdW5jdGlvbigpe3IuZGVxdWV1ZShhLGIpfTsiaW5wcm9ncmVzcyI9PT1lJiYoZT1jLnNoaWZ0KCksZC0tKSxlJiYoImZ4Ij09PWImJmMudW5zaGlmdCgiaW5wcm9ncmVzcyIpLGRlbGV0ZSBmLnN0b3AsZS5jYWxsKGEsZyxmKSksIWQmJmYmJmYuZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihhLGIpe3ZhciBjPWIrInF1ZXVlSG9va3MiO3JldHVybiBXLmdldChhLGMpfHxXLmFjY2VzcyhhLGMse2VtcHR5OnIuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLmFkZChmdW5jdGlvbigpe1cucmVtb3ZlKGEsW2IrInF1ZXVlIixjXSl9KX0pfX0pLHIuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIpe3ZhciBjPTI7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBhJiYoYj1hLGE9ImZ4IixjLS0pLGFyZ3VtZW50cy5sZW5ndGg8Yz9yLnF1ZXVlKHRoaXNbMF0sYSk6dm9pZCAwPT09Yj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPXIucXVldWUodGhpcyxhLGIpO3IuX3F1ZXVlSG9va3ModGhpcyxhKSwiZngiPT09YSYmImlucHJvZ3Jlc3MiIT09Y1swXSYmci5kZXF1ZXVlKHRoaXMsYSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ci5kZXF1ZXVlKHRoaXMsYSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MSxlPXIuRGVmZXJyZWQoKSxmPXRoaXMsZz10aGlzLmxlbmd0aCxoPWZ1bmN0aW9uKCl7LS1kfHxlLnJlc29sdmVXaXRoKGYsW2ZdKX07InN0cmluZyIhPXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKSxhPWF8fCJmeCI7d2hpbGUoZy0tKWM9Vy5nZXQoZltnXSxhKyJxdWV1ZUhvb2tzIiksYyYmYy5lbXB0eSYmKGQrKyxjLmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxlLnByb21pc2UoYil9fSk7dmFyIGFhPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLGJhPW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIithYSsiKShbYS16JV0qKSQiLCJpIiksY2E9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxkYT1mdW5jdGlvbihhLGIpe3JldHVybiBhPWJ8fGEsIm5vbmUiPT09YS5zdHlsZS5kaXNwbGF5fHwiIj09PWEuc3R5bGUuZGlzcGxheSYmci5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSkmJiJub25lIj09PXIuY3NzKGEsImRpc3BsYXkiKX0sZWE9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnPXt9O2ZvcihmIGluIGIpZ1tmXT1hLnN0eWxlW2ZdLGEuc3R5bGVbZl09YltmXTtlPWMuYXBwbHkoYSxkfHxbXSk7Zm9yKGYgaW4gYilhLnN0eWxlW2ZdPWdbZl07cmV0dXJuIGV9O2Z1bmN0aW9uIGZhKGEsYixjLGQpe3ZhciBlLGY9MSxnPTIwLGg9ZD9mdW5jdGlvbigpe3JldHVybiBkLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiByLmNzcyhhLGIsIiIpfSxpPWgoKSxqPWMmJmNbM118fChyLmNzc051bWJlcltiXT8iIjoicHgiKSxrPShyLmNzc051bWJlcltiXXx8InB4IiE9PWomJitpKSYmYmEuZXhlYyhyLmNzcyhhLGIpKTtpZihrJiZrWzNdIT09ail7aj1qfHxrWzNdLGM9Y3x8W10saz0raXx8MTtkbyBmPWZ8fCIuNSIsay89ZixyLnN0eWxlKGEsYixrK2opO3doaWxlKGYhPT0oZj1oKCkvaSkmJjEhPT1mJiYtLWcpfXJldHVybiBjJiYoaz0ra3x8K2l8fDAsZT1jWzFdP2srKGNbMV0rMSkqY1syXTorY1syXSxkJiYoZC51bml0PWosZC5zdGFydD1rLGQuZW5kPWUpKSxlfXZhciBnYT17fTtmdW5jdGlvbiBoYShhKXt2YXIgYixjPWEub3duZXJEb2N1bWVudCxkPWEubm9kZU5hbWUsZT1nYVtkXTtyZXR1cm4gZT9lOihiPWMuYm9keS5hcHBlbmRDaGlsZChjLmNyZWF0ZUVsZW1lbnQoZCkpLGU9ci5jc3MoYiwiZGlzcGxheSIpLGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSwibm9uZSI9PT1lJiYoZT0iYmxvY2siKSxnYVtkXT1lLGUpfWZ1bmN0aW9uIGlhKGEsYil7Zm9yKHZhciBjLGQsZT1bXSxmPTAsZz1hLmxlbmd0aDtmPGc7ZisrKWQ9YVtmXSxkLnN0eWxlJiYoYz1kLnN0eWxlLmRpc3BsYXksYj8oIm5vbmUiPT09YyYmKGVbZl09Vy5nZXQoZCwiZGlzcGxheSIpfHxudWxsLGVbZl18fChkLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PWQuc3R5bGUuZGlzcGxheSYmZGEoZCkmJihlW2ZdPWhhKGQpKSk6Im5vbmUiIT09YyYmKGVbZl09Im5vbmUiLFcuc2V0KGQsImRpc3BsYXkiLGMpKSk7Zm9yKGY9MDtmPGc7ZisrKW51bGwhPWVbZl0mJihhW2ZdLnN0eWxlLmRpc3BsYXk9ZVtmXSk7cmV0dXJuIGF9ci5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oKXtyZXR1cm4gaWEodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gaWEodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihhKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBhP2E/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGEodGhpcyk/cih0aGlzKS5zaG93KCk6cih0aGlzKS5oaWRlKCl9KX19KTt2YXIgamE9L14oPzpjaGVja2JveHxyYWRpbykkL2ksa2E9LzwoW2Etel1bXlwvXDA+XHgyMFx0XHJcblxmXSspL2ksbGE9L14kfFwvKD86amF2YXxlY21hKXNjcmlwdC9pLG1hPXtvcHRpb246WzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSx0aGVhZDpbMSwiPHRhYmxlPiIsIjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLF9kZWZhdWx0OlswLCIiLCIiXX07bWEub3B0Z3JvdXA9bWEub3B0aW9uLG1hLnRib2R5PW1hLnRmb290PW1hLmNvbGdyb3VwPW1hLmNhcHRpb249bWEudGhlYWQsbWEudGg9bWEudGQ7ZnVuY3Rpb24gbmEoYSxiKXt2YXIgYztyZXR1cm4gYz0idW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2YgYS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOltdLHZvaWQgMD09PWJ8fGImJkIoYSxiKT9yLm1lcmdlKFthXSxjKTpjfWZ1bmN0aW9uIG9hKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKVcuc2V0KGFbY10sImdsb2JhbEV2YWwiLCFifHxXLmdldChiW2NdLCJnbG9iYWxFdmFsIikpfXZhciBwYT0vPHwmIz9cdys7LztmdW5jdGlvbiBxYShhLGIsYyxkLGUpe2Zvcih2YXIgZixnLGgsaSxqLGssbD1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxtPVtdLG49MCxvPWEubGVuZ3RoO248bztuKyspaWYoZj1hW25dLGZ8fDA9PT1mKWlmKCJvYmplY3QiPT09ci50eXBlKGYpKXIubWVyZ2UobSxmLm5vZGVUeXBlP1tmXTpmKTtlbHNlIGlmKHBhLnRlc3QoZikpe2c9Z3x8bC5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxoPShrYS5leGVjKGYpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLGk9bWFbaF18fG1hLl9kZWZhdWx0LGcuaW5uZXJIVE1MPWlbMV0rci5odG1sUHJlZmlsdGVyKGYpK2lbMl0saz1pWzBdO3doaWxlKGstLSlnPWcubGFzdENoaWxkO3IubWVyZ2UobSxnLmNoaWxkTm9kZXMpLGc9bC5maXJzdENoaWxkLGcudGV4dENvbnRlbnQ9IiJ9ZWxzZSBtLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShmKSk7bC50ZXh0Q29udGVudD0iIixuPTA7d2hpbGUoZj1tW24rK10paWYoZCYmci5pbkFycmF5KGYsZCk+LTEpZSYmZS5wdXNoKGYpO2Vsc2UgaWYoaj1yLmNvbnRhaW5zKGYub3duZXJEb2N1bWVudCxmKSxnPW5hKGwuYXBwZW5kQ2hpbGQoZiksInNjcmlwdCIpLGomJm9hKGcpLGMpe2s9MDt3aGlsZShmPWdbaysrXSlsYS50ZXN0KGYudHlwZXx8IiIpJiZjLnB1c2goZil9cmV0dXJuIGx9IWZ1bmN0aW9uKCl7dmFyIGE9ZC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksYj1hLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudCgiZGl2IikpLGM9ZC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2Muc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxjLnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKSxjLnNldEF0dHJpYnV0ZSgibmFtZSIsInQiKSxiLmFwcGVuZENoaWxkKGMpLG8uY2hlY2tDbG9uZT1iLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxiLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIsby5ub0Nsb25lQ2hlY2tlZD0hIWIuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlfSgpO3ZhciByYT1kLmRvY3VtZW50RWxlbWVudCxzYT0vXmtleS8sdGE9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcCl8Y2xpY2svLHVhPS9eKFteLl0qKSg/OlwuKC4rKXwpLztmdW5jdGlvbiB2YSgpe3JldHVybiEwfWZ1bmN0aW9uIHdhKCl7cmV0dXJuITF9ZnVuY3Rpb24geGEoKXt0cnl7cmV0dXJuIGQuYWN0aXZlRWxlbWVudH1jYXRjaChhKXt9fWZ1bmN0aW9uIHlhKGEsYixjLGQsZSxmKXt2YXIgZyxoO2lmKCJvYmplY3QiPT10eXBlb2YgYil7InN0cmluZyIhPXR5cGVvZiBjJiYoZD1kfHxjLGM9dm9pZCAwKTtmb3IoaCBpbiBiKXlhKGEsaCxjLGQsYltoXSxmKTtyZXR1cm4gYX1pZihudWxsPT1kJiZudWxsPT1lPyhlPWMsZD1jPXZvaWQgMCk6bnVsbD09ZSYmKCJzdHJpbmciPT10eXBlb2YgYz8oZT1kLGQ9dm9pZCAwKTooZT1kLGQ9YyxjPXZvaWQgMCkpLGU9PT0hMSllPXdhO2Vsc2UgaWYoIWUpcmV0dXJuIGE7cmV0dXJuIDE9PT1mJiYoZz1lLGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHIoKS5vZmYoYSksZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUuZ3VpZD1nLmd1aWR8fChnLmd1aWQ9ci5ndWlkKyspKSxhLmVhY2goZnVuY3Rpb24oKXtyLmV2ZW50LmFkZCh0aGlzLGIsZSxkLGMpfSl9ci5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbixvLHAscT1XLmdldChhKTtpZihxKXtjLmhhbmRsZXImJihmPWMsYz1mLmhhbmRsZXIsZT1mLnNlbGVjdG9yKSxlJiZyLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHJhLGUpLGMuZ3VpZHx8KGMuZ3VpZD1yLmd1aWQrKyksKGk9cS5ldmVudHMpfHwoaT1xLmV2ZW50cz17fSksKGc9cS5oYW5kbGUpfHwoZz1xLmhhbmRsZT1mdW5jdGlvbihiKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHImJnIuZXZlbnQudHJpZ2dlcmVkIT09Yi50eXBlP3IuZXZlbnQuZGlzcGF0Y2guYXBwbHkoYSxhcmd1bWVudHMpOnZvaWQgMH0pLGI9KGJ8fCIiKS5tYXRjaChMKXx8WyIiXSxqPWIubGVuZ3RoO3doaWxlKGotLSloPXVhLmV4ZWMoYltqXSl8fFtdLG49cD1oWzFdLG89KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxuJiYobD1yLmV2ZW50LnNwZWNpYWxbbl18fHt9LG49KGU/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG4sbD1yLmV2ZW50LnNwZWNpYWxbbl18fHt9LGs9ci5leHRlbmQoe3R5cGU6bixvcmlnVHlwZTpwLGRhdGE6ZCxoYW5kbGVyOmMsZ3VpZDpjLmd1aWQsc2VsZWN0b3I6ZSxuZWVkc0NvbnRleHQ6ZSYmci5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGUpLG5hbWVzcGFjZTpvLmpvaW4oIi4iKX0sZiksKG09aVtuXSl8fChtPWlbbl09W10sbS5kZWxlZ2F0ZUNvdW50PTAsbC5zZXR1cCYmbC5zZXR1cC5jYWxsKGEsZCxvLGcpIT09ITF8fGEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hZGRFdmVudExpc3RlbmVyKG4sZykpLGwuYWRkJiYobC5hZGQuY2FsbChhLGspLGsuaGFuZGxlci5ndWlkfHwoay5oYW5kbGVyLmd1aWQ9Yy5ndWlkKSksZT9tLnNwbGljZShtLmRlbGVnYXRlQ291bnQrKywwLGspOm0ucHVzaChrKSxyLmV2ZW50Lmdsb2JhbFtuXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbyxwLHE9Vy5oYXNEYXRhKGEpJiZXLmdldChhKTtpZihxJiYoaT1xLmV2ZW50cykpe2I9KGJ8fCIiKS5tYXRjaChMKXx8WyIiXSxqPWIubGVuZ3RoO3doaWxlKGotLSlpZihoPXVhLmV4ZWMoYltqXSl8fFtdLG49cD1oWzFdLG89KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxuKXtsPXIuZXZlbnQuc3BlY2lhbFtuXXx8e30sbj0oZD9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8bixtPWlbbl18fFtdLGg9aFsyXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIrby5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKSxnPWY9bS5sZW5ndGg7d2hpbGUoZi0tKWs9bVtmXSwhZSYmcCE9PWsub3JpZ1R5cGV8fGMmJmMuZ3VpZCE9PWsuZ3VpZHx8aCYmIWgudGVzdChrLm5hbWVzcGFjZSl8fGQmJmQhPT1rLnNlbGVjdG9yJiYoIioqIiE9PWR8fCFrLnNlbGVjdG9yKXx8KG0uc3BsaWNlKGYsMSksay5zZWxlY3RvciYmbS5kZWxlZ2F0ZUNvdW50LS0sbC5yZW1vdmUmJmwucmVtb3ZlLmNhbGwoYSxrKSk7ZyYmIW0ubGVuZ3RoJiYobC50ZWFyZG93biYmbC50ZWFyZG93bi5jYWxsKGEsbyxxLmhhbmRsZSkhPT0hMXx8ci5yZW1vdmVFdmVudChhLG4scS5oYW5kbGUpLGRlbGV0ZSBpW25dKX1lbHNlIGZvcihuIGluIGkpci5ldmVudC5yZW1vdmUoYSxuK2Jbal0sYyxkLCEwKTtyLmlzRW1wdHlPYmplY3QoaSkmJlcucmVtb3ZlKGEsImhhbmRsZSBldmVudHMiKX19LGRpc3BhdGNoOmZ1bmN0aW9uKGEpe3ZhciBiPXIuZXZlbnQuZml4KGEpLGMsZCxlLGYsZyxoLGk9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLGo9KFcuZ2V0KHRoaXMsImV2ZW50cyIpfHx7fSlbYi50eXBlXXx8W10saz1yLmV2ZW50LnNwZWNpYWxbYi50eXBlXXx8e307Zm9yKGlbMF09YixjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKylpW2NdPWFyZ3VtZW50c1tjXTtpZihiLmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWsucHJlRGlzcGF0Y2h8fGsucHJlRGlzcGF0Y2guY2FsbCh0aGlzLGIpIT09ITEpe2g9ci5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsYixqKSxjPTA7d2hpbGUoKGY9aFtjKytdKSYmIWIuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7Yi5jdXJyZW50VGFyZ2V0PWYuZWxlbSxkPTA7d2hpbGUoKGc9Zi5oYW5kbGVyc1tkKytdKSYmIWIuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSliLnJuYW1lc3BhY2UmJiFiLnJuYW1lc3BhY2UudGVzdChnLm5hbWVzcGFjZSl8fChiLmhhbmRsZU9iaj1nLGIuZGF0YT1nLmRhdGEsZT0oKHIuZXZlbnQuc3BlY2lhbFtnLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8Zy5oYW5kbGVyKS5hcHBseShmLmVsZW0saSksdm9pZCAwIT09ZSYmKGIucmVzdWx0PWUpPT09ITEmJihiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBrLnBvc3REaXNwYXRjaCYmay5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLGIpLGIucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnLGg9W10saT1iLmRlbGVnYXRlQ291bnQsaj1hLnRhcmdldDtpZihpJiZqLm5vZGVUeXBlJiYhKCJjbGljayI9PT1hLnR5cGUmJmEuYnV0dG9uPj0xKSlmb3IoO2ohPT10aGlzO2o9ai5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1qLm5vZGVUeXBlJiYoImNsaWNrIiE9PWEudHlwZXx8ai5kaXNhYmxlZCE9PSEwKSl7Zm9yKGY9W10sZz17fSxjPTA7YzxpO2MrKylkPWJbY10sZT1kLnNlbGVjdG9yKyIgIix2b2lkIDA9PT1nW2VdJiYoZ1tlXT1kLm5lZWRzQ29udGV4dD9yKGUsdGhpcykuaW5kZXgoaik+LTE6ci5maW5kKGUsdGhpcyxudWxsLFtqXSkubGVuZ3RoKSxnW2VdJiZmLnB1c2goZCk7Zi5sZW5ndGgmJmgucHVzaCh7ZWxlbTpqLGhhbmRsZXJzOmZ9KX1yZXR1cm4gaj10aGlzLGk8Yi5sZW5ndGgmJmgucHVzaCh7ZWxlbTpqLGhhbmRsZXJzOmIuc2xpY2UoaSl9KSxofSxhZGRQcm9wOmZ1bmN0aW9uKGEsYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIuRXZlbnQucHJvdG90eXBlLGEse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpyLmlzRnVuY3Rpb24oYik/ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIGIodGhpcy5vcmlnaW5hbEV2ZW50KX06ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFthXX0sc2V0OmZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGEse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmJ9KX19KX0sZml4OmZ1bmN0aW9uKGEpe3JldHVybiBhW3IuZXhwYW5kb10/YTpuZXcgci5FdmVudChhKX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYodGhpcyE9PXhhKCkmJnRoaXMuZm9jdXMpcmV0dXJuIHRoaXMuZm9jdXMoKSwhMX0sZGVsZWdhdGVUeXBlOiJmb2N1c2luIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKHRoaXM9PT14YSgpJiZ0aGlzLmJsdXIpcmV0dXJuIHRoaXMuYmx1cigpLCExfSxkZWxlZ2F0ZVR5cGU6ImZvY3Vzb3V0In0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZigiY2hlY2tib3giPT09dGhpcy50eXBlJiZ0aGlzLmNsaWNrJiZCKHRoaXMsImlucHV0IikpcmV0dXJuIHRoaXMuY2xpY2soKSwhMX0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEIoYS50YXJnZXQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEucmVzdWx0JiZhLm9yaWdpbmFsRXZlbnQmJihhLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9YS5yZXN1bHQpfX19fSxyLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGEsYixjKXthLnJlbW92ZUV2ZW50TGlzdGVuZXImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMpfSxyLkV2ZW50PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiByLkV2ZW50PyhhJiZhLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1hLHRoaXMudHlwZT1hLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9YS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1hLmRlZmF1bHRQcmV2ZW50ZWQmJmEucmV0dXJuVmFsdWU9PT0hMT92YTp3YSx0aGlzLnRhcmdldD1hLnRhcmdldCYmMz09PWEudGFyZ2V0Lm5vZGVUeXBlP2EudGFyZ2V0LnBhcmVudE5vZGU6YS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWEuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9YS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9YSxiJiZyLmV4dGVuZCh0aGlzLGIpLHRoaXMudGltZVN0YW1wPWEmJmEudGltZVN0YW1wfHxyLm5vdygpLHZvaWQodGhpc1tyLmV4cGFuZG9dPSEwKSk6bmV3IHIuRXZlbnQoYSxiKX0sci5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnIuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOndhLGlzUHJvcGFnYXRpb25TdG9wcGVkOndhLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOndhLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXZhLGEmJiF0aGlzLmlzU2ltdWxhdGVkJiZhLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXZhLGEmJiF0aGlzLmlzU2ltdWxhdGVkJiZhLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD12YSxhJiYhdGhpcy5pc1NpbXVsYXRlZCYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sci5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDpmdW5jdGlvbihhKXt2YXIgYj1hLmJ1dHRvbjtyZXR1cm4gbnVsbD09YS53aGljaCYmc2EudGVzdChhLnR5cGUpP251bGwhPWEuY2hhckNvZGU/YS5jaGFyQ29kZTphLmtleUNvZGU6IWEud2hpY2gmJnZvaWQgMCE9PWImJnRhLnRlc3QoYS50eXBlKT8xJmI/MToyJmI/Mzo0JmI/MjowOmEud2hpY2h9fSxyLmV2ZW50LmFkZFByb3ApLHIuZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oYSxiKXtyLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybiBlJiYoZT09PWR8fHIuY29udGFpbnMoZCxlKSl8fChhLnR5cGU9Zi5vcmlnVHlwZSxjPWYuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWIpLGN9fX0pLHIuZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4geWEodGhpcyxhLGIsYyxkKX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB5YSh0aGlzLGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixyKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGIhPT0hMSYmImZ1bmN0aW9uIiE9dHlwZW9mIGJ8fChjPWIsYj12b2lkIDApLGM9PT0hMSYmKGM9d2EpLHRoaXMuZWFjaChmdW5jdGlvbigpe3IuZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9fSk7dmFyIHphPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFthLXpdW15cL1wwPlx4MjBcdFxyXG5cZl0qKVtePl0qKVwvPi9naSxBYT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxCYT0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxDYT0vXnRydWVcLyguKikvLERhPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBFYShhLGIpe3JldHVybiBCKGEsInRhYmxlIikmJkIoMTEhPT1iLm5vZGVUeXBlP2I6Yi5maXJzdENoaWxkLCJ0ciIpP3IoIj50Ym9keSIsYSlbMF18fGE6YX1mdW5jdGlvbiBGYShhKXtyZXR1cm4gYS50eXBlPShudWxsIT09YS5nZXRBdHRyaWJ1dGUoInR5cGUiKSkrIi8iK2EudHlwZSxhfWZ1bmN0aW9uIEdhKGEpe3ZhciBiPUNhLmV4ZWMoYS50eXBlKTtyZXR1cm4gYj9hLnR5cGU9YlsxXTphLnJlbW92ZUF0dHJpYnV0ZSgidHlwZSIpLGF9ZnVuY3Rpb24gSGEoYSxiKXt2YXIgYyxkLGUsZixnLGgsaSxqO2lmKDE9PT1iLm5vZGVUeXBlKXtpZihXLmhhc0RhdGEoYSkmJihmPVcuYWNjZXNzKGEpLGc9Vy5zZXQoYixmKSxqPWYuZXZlbnRzKSl7ZGVsZXRlIGcuaGFuZGxlLGcuZXZlbnRzPXt9O2ZvcihlIGluIGopZm9yKGM9MCxkPWpbZV0ubGVuZ3RoO2M8ZDtjKyspci5ldmVudC5hZGQoYixlLGpbZV1bY10pfVguaGFzRGF0YShhKSYmKGg9WC5hY2Nlc3MoYSksaT1yLmV4dGVuZCh7fSxoKSxYLnNldChiLGkpKX19ZnVuY3Rpb24gSWEoYSxiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7ImlucHV0Ij09PWMmJmphLnRlc3QoYS50eXBlKT9iLmNoZWNrZWQ9YS5jaGVja2VkOiJpbnB1dCIhPT1jJiYidGV4dGFyZWEiIT09Y3x8KGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX1mdW5jdGlvbiBKYShhLGIsYyxkKXtiPWcuYXBwbHkoW10sYik7dmFyIGUsZixoLGksaixrLGw9MCxtPWEubGVuZ3RoLG49bS0xLHE9YlswXSxzPXIuaXNGdW5jdGlvbihxKTtpZihzfHxtPjEmJiJzdHJpbmciPT10eXBlb2YgcSYmIW8uY2hlY2tDbG9uZSYmQmEudGVzdChxKSlyZXR1cm4gYS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBmPWEuZXEoZSk7cyYmKGJbMF09cS5jYWxsKHRoaXMsZSxmLmh0bWwoKSkpLEphKGYsYixjLGQpfSk7aWYobSYmKGU9cWEoYixhWzBdLm93bmVyRG9jdW1lbnQsITEsYSxkKSxmPWUuZmlyc3RDaGlsZCwxPT09ZS5jaGlsZE5vZGVzLmxlbmd0aCYmKGU9ZiksZnx8ZCkpe2ZvcihoPXIubWFwKG5hKGUsInNjcmlwdCIpLEZhKSxpPWgubGVuZ3RoO2w8bTtsKyspaj1lLGwhPT1uJiYoaj1yLmNsb25lKGosITAsITApLGkmJnIubWVyZ2UoaCxuYShqLCJzY3JpcHQiKSkpLGMuY2FsbChhW2xdLGosbCk7aWYoaSlmb3Ioaz1oW2gubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsci5tYXAoaCxHYSksbD0wO2w8aTtsKyspaj1oW2xdLGxhLnRlc3Qoai50eXBlfHwiIikmJiFXLmFjY2VzcyhqLCJnbG9iYWxFdmFsIikmJnIuY29udGFpbnMoayxqKSYmKGouc3JjP3IuX2V2YWxVcmwmJnIuX2V2YWxVcmwoai5zcmMpOnAoai50ZXh0Q29udGVudC5yZXBsYWNlKERhLCIiKSxrKSl9cmV0dXJuIGF9ZnVuY3Rpb24gS2EoYSxiLGMpe2Zvcih2YXIgZCxlPWI/ci5maWx0ZXIoYixhKTphLGY9MDtudWxsIT0oZD1lW2ZdKTtmKyspY3x8MSE9PWQubm9kZVR5cGV8fHIuY2xlYW5EYXRhKG5hKGQpKSxkLnBhcmVudE5vZGUmJihjJiZyLmNvbnRhaW5zKGQub3duZXJEb2N1bWVudCxkKSYmb2EobmEoZCwic2NyaXB0IikpLGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSk7cmV0dXJuIGF9ci5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh6YSwiPCQxPjwvJDI+Iil9LGNsb25lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY2xvbmVOb2RlKCEwKSxpPXIuY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpO2lmKCEoby5ub0Nsb25lQ2hlY2tlZHx8MSE9PWEubm9kZVR5cGUmJjExIT09YS5ub2RlVHlwZXx8ci5pc1hNTERvYyhhKSkpZm9yKGc9bmEoaCksZj1uYShhKSxkPTAsZT1mLmxlbmd0aDtkPGU7ZCsrKUlhKGZbZF0sZ1tkXSk7aWYoYilpZihjKWZvcihmPWZ8fG5hKGEpLGc9Z3x8bmEoaCksZD0wLGU9Zi5sZW5ndGg7ZDxlO2QrKylIYShmW2RdLGdbZF0pO2Vsc2UgSGEoYSxoKTtyZXR1cm4gZz1uYShoLCJzY3JpcHQiKSxnLmxlbmd0aD4wJiZvYShnLCFpJiZuYShhLCJzY3JpcHQiKSksaH0sY2xlYW5EYXRhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQsZT1yLmV2ZW50LnNwZWNpYWwsZj0wO3ZvaWQgMCE9PShjPWFbZl0pO2YrKylpZihVKGMpKXtpZihiPWNbVy5leHBhbmRvXSl7aWYoYi5ldmVudHMpZm9yKGQgaW4gYi5ldmVudHMpZVtkXT9yLmV2ZW50LnJlbW92ZShjLGQpOnIucmVtb3ZlRXZlbnQoYyxkLGIuaGFuZGxlKTtjW1cuZXhwYW5kb109dm9pZCAwfWNbWC5leHBhbmRvXSYmKGNbWC5leHBhbmRvXT12b2lkIDApfX19KSxyLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiBLYSh0aGlzLGEsITApfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIEthKHRoaXMsYSl9LHRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFQodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9yLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9YSl9KX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSmEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPUVhKHRoaXMsYSk7Yi5hcHBlbmRDaGlsZChhKX19KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBKYSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9RWEodGhpcyxhKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBKYSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBKYSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiPTA7bnVsbCE9KGE9dGhpc1tiXSk7YisrKTE9PT1hLm5vZGVUeXBlJiYoci5jbGVhbkRhdGEobmEoYSwhMSkpLGEudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhLGIpe3JldHVybiBhPW51bGwhPWEmJmEsYj1udWxsPT1iP2E6Yix0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiByLmNsb25lKHRoaXMsYSxiKX0pfSxodG1sOmZ1bmN0aW9uKGEpe3JldHVybiBUKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXXx8e30sYz0wLGQ9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09YSYmMT09PWIubm9kZVR5cGUpcmV0dXJuIGIuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmIUFhLnRlc3QoYSkmJiFtYVsoa2EuZXhlYyhhKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2E9ci5odG1sUHJlZmlsdGVyKGEpO3RyeXtmb3IoO2M8ZDtjKyspYj10aGlzW2NdfHx7fSwxPT09Yi5ub2RlVHlwZSYmKHIuY2xlYW5EYXRhKG5hKGIsITEpKSxiLmlubmVySFRNTD1hKTtiPTB9Y2F0Y2goZSl7fX1iJiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGEpfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIGE9W107cmV0dXJuIEphKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMucGFyZW50Tm9kZTtyLmluQXJyYXkodGhpcyxhKTwwJiYoci5jbGVhbkRhdGEobmEodGhpcykpLGMmJmMucmVwbGFjZUNoaWxkKGIsdGhpcykpfSxhKX19KSxyLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihhLGIpe3IuZm5bYV09ZnVuY3Rpb24oYSl7Zm9yKHZhciBjLGQ9W10sZT1yKGEpLGY9ZS5sZW5ndGgtMSxnPTA7Zzw9ZjtnKyspYz1nPT09Zj90aGlzOnRoaXMuY2xvbmUoITApLHIoZVtnXSlbYl0oYyksaC5hcHBseShkLGMuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhkKX19KTt2YXIgTGE9L15tYXJnaW4vLE1hPW5ldyBSZWdFeHAoIl4oIithYSsiKSg/IXB4KVthLXolXSskIiwiaSIpLE5hPWZ1bmN0aW9uKGIpe3ZhciBjPWIub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztyZXR1cm4gYyYmYy5vcGVuZXJ8fChjPWEpLGMuZ2V0Q29tcHV0ZWRTdHlsZShiKX07IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYigpe2lmKGkpe2kuc3R5bGUuY3NzVGV4dD0iYm94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7bWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt0b3A6MSU7d2lkdGg6NTAlIixpLmlubmVySFRNTD0iIixyYS5hcHBlbmRDaGlsZChoKTt2YXIgYj1hLmdldENvbXB1dGVkU3R5bGUoaSk7Yz0iMSUiIT09Yi50b3AsZz0iMnB4Ij09PWIubWFyZ2luTGVmdCxlPSI0cHgiPT09Yi53aWR0aCxpLnN0eWxlLm1hcmdpblJpZ2h0PSI1MCUiLGY9IjRweCI9PT1iLm1hcmdpblJpZ2h0LHJhLnJlbW92ZUNoaWxkKGgpLGk9bnVsbH19dmFyIGMsZSxmLGcsaD1kLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGk9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKTtpLnN0eWxlJiYoaS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iY29udGVudC1ib3giLGkuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iIixvLmNsZWFyQ2xvbmVTdHlsZT0iY29udGVudC1ib3giPT09aS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxoLnN0eWxlLmNzc1RleHQ9ImJvcmRlcjowO3dpZHRoOjhweDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7cGFkZGluZzowO21hcmdpbi10b3A6MXB4O3Bvc2l0aW9uOmFic29sdXRlIixoLmFwcGVuZENoaWxkKGkpLHIuZXh0ZW5kKG8se3BpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gYigpLGN9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGIoKSxlfSxwaXhlbE1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGIoKSxmfSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYigpLGd9fSkpfSgpO2Z1bmN0aW9uIE9hKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8TmEoYSksYyYmKGc9Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdLCIiIT09Z3x8ci5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl8fChnPXIuc3R5bGUoYSxiKSksIW8ucGl4ZWxNYXJnaW5SaWdodCgpJiZNYS50ZXN0KGcpJiZMYS50ZXN0KGIpJiYoZD1oLndpZHRoLGU9aC5taW5XaWR0aCxmPWgubWF4V2lkdGgsaC5taW5XaWR0aD1oLm1heFdpZHRoPWgud2lkdGg9ZyxnPWMud2lkdGgsaC53aWR0aD1kLGgubWluV2lkdGg9ZSxoLm1heFdpZHRoPWYpKSx2b2lkIDAhPT1nP2crIiI6Z31mdW5jdGlvbiBQYShhLGIpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYSgpP3ZvaWQgZGVsZXRlIHRoaXMuZ2V0Oih0aGlzLmdldD1iKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX12YXIgUWE9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFJhPS9eLS0vLFNhPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxUYT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn0sVWE9WyJXZWJraXQiLCJNb3oiLCJtcyJdLFZhPWQuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGU7ZnVuY3Rpb24gV2EoYSl7aWYoYSBpbiBWYSlyZXR1cm4gYTt2YXIgYj1hWzBdLnRvVXBwZXJDYXNlKCkrYS5zbGljZSgxKSxjPVVhLmxlbmd0aDt3aGlsZShjLS0paWYoYT1VYVtjXStiLGEgaW4gVmEpcmV0dXJuIGF9ZnVuY3Rpb24gWGEoYSl7dmFyIGI9ci5jc3NQcm9wc1thXTtyZXR1cm4gYnx8KGI9ci5jc3NQcm9wc1thXT1XYShhKXx8YSksYn1mdW5jdGlvbiBZYShhLGIsYyl7dmFyIGQ9YmEuZXhlYyhiKTtyZXR1cm4gZD9NYXRoLm1heCgwLGRbMl0tKGN8fDApKSsoZFszXXx8InB4Iik6Yn1mdW5jdGlvbiBaYShhLGIsYyxkLGUpe3ZhciBmLGc9MDtmb3IoZj1jPT09KGQ/ImJvcmRlciI6ImNvbnRlbnQiKT80OiJ3aWR0aCI9PT1iPzE6MDtmPDQ7Zis9MikibWFyZ2luIj09PWMmJihnKz1yLmNzcyhhLGMrY2FbZl0sITAsZSkpLGQ/KCJjb250ZW50Ij09PWMmJihnLT1yLmNzcyhhLCJwYWRkaW5nIitjYVtmXSwhMCxlKSksIm1hcmdpbiIhPT1jJiYoZy09ci5jc3MoYSwiYm9yZGVyIitjYVtmXSsiV2lkdGgiLCEwLGUpKSk6KGcrPXIuY3NzKGEsInBhZGRpbmciK2NhW2ZdLCEwLGUpLCJwYWRkaW5nIiE9PWMmJihnKz1yLmNzcyhhLCJib3JkZXIiK2NhW2ZdKyJXaWR0aCIsITAsZSkpKTtyZXR1cm4gZ31mdW5jdGlvbiAkYShhLGIsYyl7dmFyIGQsZT1OYShhKSxmPU9hKGEsYixlKSxnPSJib3JkZXItYm94Ij09PXIuY3NzKGEsImJveFNpemluZyIsITEsZSk7cmV0dXJuIE1hLnRlc3QoZik/ZjooZD1nJiYoby5ib3hTaXppbmdSZWxpYWJsZSgpfHxmPT09YS5zdHlsZVtiXSksImF1dG8iPT09ZiYmKGY9YVsib2Zmc2V0IitiWzBdLnRvVXBwZXJDYXNlKCkrYi5zbGljZSgxKV0pLGY9cGFyc2VGbG9hdChmKXx8MCxmK1phKGEsYixjfHwoZz8iYm9yZGVyIjoiY29udGVudCIpLGQsZSkrInB4Iil9ci5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz1PYShhLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1jPyIxIjpjfX19fSxjc3NOdW1iZXI6e2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiEwLGNvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnsiZmxvYXQiOiJjc3NGbG9hdCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGEmJjMhPT1hLm5vZGVUeXBlJiY4IT09YS5ub2RlVHlwZSYmYS5zdHlsZSl7dmFyIGUsZixnLGg9ci5jYW1lbENhc2UoYiksaT1SYS50ZXN0KGIpLGo9YS5zdHlsZTtyZXR1cm4gaXx8KGI9WGEoaCkpLGc9ci5jc3NIb29rc1tiXXx8ci5jc3NIb29rc1toXSx2b2lkIDA9PT1jP2cmJiJnZXQiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTpqW2JdOihmPXR5cGVvZiBjLCJzdHJpbmciPT09ZiYmKGU9YmEuZXhlYyhjKSkmJmVbMV0mJihjPWZhKGEsYixlKSxmPSJudW1iZXIiKSxudWxsIT1jJiZjPT09YyYmKCJudW1iZXIiPT09ZiYmKGMrPWUmJmVbM118fChyLmNzc051bWJlcltoXT8iIjoicHgiKSksby5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWIuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoaltiXT0iaW5oZXJpdCIpLGcmJiJzZXQiaW4gZyYmdm9pZCAwPT09KGM9Zy5zZXQoYSxjLGQpKXx8KGk/ai5zZXRQcm9wZXJ0eShiLGMpOmpbYl09YykpLHZvaWQgMCl9fSxjc3M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGg9ci5jYW1lbENhc2UoYiksaT1SYS50ZXN0KGIpO3JldHVybiBpfHwoYj1YYShoKSksZz1yLmNzc0hvb2tzW2JdfHxyLmNzc0hvb2tzW2hdLGcmJiJnZXQiaW4gZyYmKGU9Zy5nZXQoYSwhMCxjKSksdm9pZCAwPT09ZSYmKGU9T2EoYSxiLGQpKSwibm9ybWFsIj09PWUmJmIgaW4gVGEmJihlPVRhW2JdKSwiIj09PWN8fGM/KGY9cGFyc2VGbG9hdChlKSxjPT09ITB8fGlzRmluaXRlKGYpP2Z8fDA6ZSk6ZX19KSxyLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGEsYil7ci5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXtpZihjKXJldHVybiFRYS50ZXN0KHIuY3NzKGEsImRpc3BsYXkiKSl8fGEuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJmEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg/JGEoYSxiLGQpOmVhKGEsU2EsZnVuY3Rpb24oKXtyZXR1cm4gJGEoYSxiLGQpfSl9LHNldDpmdW5jdGlvbihhLGMsZCl7dmFyIGUsZj1kJiZOYShhKSxnPWQmJlphKGEsYixkLCJib3JkZXItYm94Ij09PXIuY3NzKGEsImJveFNpemluZyIsITEsZiksZik7cmV0dXJuIGcmJihlPWJhLmV4ZWMoYykpJiYicHgiIT09KGVbM118fCJweCIpJiYoYS5zdHlsZVtiXT1jLGM9ci5jc3MoYSxiKSksWWEoYSxjLGcpfX19KSxyLmNzc0hvb2tzLm1hcmdpbkxlZnQ9UGEoby5yZWxpYWJsZU1hcmdpbkxlZnQsZnVuY3Rpb24oYSxiKXtpZihiKXJldHVybihwYXJzZUZsb2F0KE9hKGEsIm1hcmdpbkxlZnQiKSl8fGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC1lYShhLHttYXJnaW5MZWZ0OjB9LGZ1bmN0aW9uKCl7cmV0dXJuIGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH0pKSsicHgifSksci5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oYSxiKXtyLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9InN0cmluZyI9PXR5cGVvZiBjP2Muc3BsaXQoIiAiKTpbY107ZDw0O2QrKyllW2ErY2FbZF0rYl09ZltkXXx8ZltkLTJdfHxmWzBdO3JldHVybiBlfX0sTGEudGVzdChhKXx8KHIuY3NzSG9va3NbYStiXS5zZXQ9WWEpfSksci5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihhLGIpe3JldHVybiBUKHRoaXMsZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj17fSxnPTA7aWYoQXJyYXkuaXNBcnJheShiKSl7Zm9yKGQ9TmEoYSksZT1iLmxlbmd0aDtnPGU7ZysrKWZbYltnXV09ci5jc3MoYSxiW2ddLCExLGQpO3JldHVybiBmfXJldHVybiB2b2lkIDAhPT1jP3Iuc3R5bGUoYSxiLGMpOnIuY3NzKGEsYil9LGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfX0pO2Z1bmN0aW9uIF9hKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBfYS5wcm90b3R5cGUuaW5pdChhLGIsYyxkLGUpfXIuVHdlZW49X2EsX2EucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpfYSxpbml0OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmVsZW09YSx0aGlzLnByb3A9Yyx0aGlzLmVhc2luZz1lfHxyLmVhc2luZy5fZGVmYXVsdCx0aGlzLm9wdGlvbnM9Yix0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9ZCx0aGlzLnVuaXQ9Znx8KHIuY3NzTnVtYmVyW2NdPyIiOiJweCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgYT1fYS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gYSYmYS5nZXQ/YS5nZXQodGhpcyk6X2EucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGEpe3ZhciBiLGM9X2EucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMub3B0aW9ucy5kdXJhdGlvbj90aGlzLnBvcz1iPXIuZWFzaW5nW3RoaXMuZWFzaW5nXShhLHRoaXMub3B0aW9ucy5kdXJhdGlvbiphLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOnRoaXMucG9zPWI9YSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqYit0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxjJiZjLnNldD9jLnNldCh0aGlzKTpfYS5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxfYS5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9X2EucHJvdG90eXBlLF9hLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gMSE9PWEuZWxlbS5ub2RlVHlwZXx8bnVsbCE9YS5lbGVtW2EucHJvcF0mJm51bGw9PWEuZWxlbS5zdHlsZVthLnByb3BdP2EuZWxlbVthLnByb3BdOihiPXIuY3NzKGEuZWxlbSxhLnByb3AsIiIpLGImJiJhdXRvIiE9PWI/YjowKX0sc2V0OmZ1bmN0aW9uKGEpe3IuZnguc3RlcFthLnByb3BdP3IuZnguc3RlcFthLnByb3BdKGEpOjEhPT1hLmVsZW0ubm9kZVR5cGV8fG51bGw9PWEuZWxlbS5zdHlsZVtyLmNzc1Byb3BzW2EucHJvcF1dJiYhci5jc3NIb29rc1thLnByb3BdP2EuZWxlbVthLnByb3BdPWEubm93OnIuc3R5bGUoYS5lbGVtLGEucHJvcCxhLm5vdythLnVuaXQpfX19LF9hLnByb3BIb29rcy5zY3JvbGxUb3A9X2EucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihhKXthLmVsZW0ubm9kZVR5cGUmJmEuZWxlbS5wYXJlbnROb2RlJiYoYS5lbGVtW2EucHJvcF09YS5ub3cpfX0sci5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihhKXtyZXR1cm4gYX0sc3dpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuLjUtTWF0aC5jb3MoYSpNYXRoLlBJKS8yfSxfZGVmYXVsdDoic3dpbmcifSxyLmZ4PV9hLnByb3RvdHlwZS5pbml0LHIuZnguc3RlcD17fTt2YXIgYWIsYmIsY2I9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLGRiPS9xdWV1ZUhvb2tzJC87ZnVuY3Rpb24gZWIoKXtiYiYmKGQuaGlkZGVuPT09ITEmJmEucmVxdWVzdEFuaW1hdGlvbkZyYW1lP2EucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGViKTphLnNldFRpbWVvdXQoZWIsci5meC5pbnRlcnZhbCksci5meC50aWNrKCkpfWZ1bmN0aW9uIGZiKCl7cmV0dXJuIGEuc2V0VGltZW91dChmdW5jdGlvbigpe2FiPXZvaWQgMH0pLGFiPXIubm93KCl9ZnVuY3Rpb24gZ2IoYSxiKXt2YXIgYyxkPTAsZT17aGVpZ2h0OmF9O2ZvcihiPWI/MTowO2Q8NDtkKz0yLWIpYz1jYVtkXSxlWyJtYXJnaW4iK2NdPWVbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihlLm9wYWNpdHk9ZS53aWR0aD1hKSxlfWZ1bmN0aW9uIGhiKGEsYixjKXtmb3IodmFyIGQsZT0oa2IudHdlZW5lcnNbYl18fFtdKS5jb25jYXQoa2IudHdlZW5lcnNbIioiXSksZj0wLGc9ZS5sZW5ndGg7ZjxnO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gaWIoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbD0id2lkdGgiaW4gYnx8ImhlaWdodCJpbiBiLG09dGhpcyxuPXt9LG89YS5zdHlsZSxwPWEubm9kZVR5cGUmJmRhKGEpLHE9Vy5nZXQoYSwiZnhzaG93Iik7Yy5xdWV1ZXx8KGc9ci5fcXVldWVIb29rcyhhLCJmeCIpLG51bGw9PWcudW5xdWV1ZWQmJihnLnVucXVldWVkPTAsaD1nLmVtcHR5LmZpcmUsZy5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7Zy51bnF1ZXVlZHx8aCgpfSksZy51bnF1ZXVlZCsrLG0uYWx3YXlzKGZ1bmN0aW9uKCl7bS5hbHdheXMoZnVuY3Rpb24oKXtnLnVucXVldWVkLS0sci5xdWV1ZShhLCJmeCIpLmxlbmd0aHx8Zy5lbXB0eS5maXJlKCl9KX0pKTtmb3IoZCBpbiBiKWlmKGU9YltkXSxjYi50ZXN0KGUpKXtpZihkZWxldGUgYltkXSxmPWZ8fCJ0b2dnbGUiPT09ZSxlPT09KHA/ImhpZGUiOiJzaG93Iikpe2lmKCJzaG93IiE9PWV8fCFxfHx2b2lkIDA9PT1xW2RdKWNvbnRpbnVlO3A9ITB9bltkXT1xJiZxW2RdfHxyLnN0eWxlKGEsZCl9aWYoaT0hci5pc0VtcHR5T2JqZWN0KGIpLGl8fCFyLmlzRW1wdHlPYmplY3Qobikpe2wmJjE9PT1hLm5vZGVUeXBlJiYoYy5vdmVyZmxvdz1bby5vdmVyZmxvdyxvLm92ZXJmbG93WCxvLm92ZXJmbG93WV0saj1xJiZxLmRpc3BsYXksbnVsbD09aiYmKGo9Vy5nZXQoYSwiZGlzcGxheSIpKSxrPXIuY3NzKGEsImRpc3BsYXkiKSwibm9uZSI9PT1rJiYoaj9rPWo6KGlhKFthXSwhMCksaj1hLnN0eWxlLmRpc3BsYXl8fGosaz1yLmNzcyhhLCJkaXNwbGF5IiksaWEoW2FdKSkpLCgiaW5saW5lIj09PWt8fCJpbmxpbmUtYmxvY2siPT09ayYmbnVsbCE9aikmJiJub25lIj09PXIuY3NzKGEsImZsb2F0IikmJihpfHwobS5kb25lKGZ1bmN0aW9uKCl7by5kaXNwbGF5PWp9KSxudWxsPT1qJiYoaz1vLmRpc3BsYXksaj0ibm9uZSI9PT1rPyIiOmspKSxvLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxjLm92ZXJmbG93JiYoby5vdmVyZmxvdz0iaGlkZGVuIixtLmFsd2F5cyhmdW5jdGlvbigpe28ub3ZlcmZsb3c9Yy5vdmVyZmxvd1swXSxvLm92ZXJmbG93WD1jLm92ZXJmbG93WzFdLG8ub3ZlcmZsb3dZPWMub3ZlcmZsb3dbMl19KSksaT0hMTtmb3IoZCBpbiBuKWl8fChxPyJoaWRkZW4iaW4gcSYmKHA9cS5oaWRkZW4pOnE9Vy5hY2Nlc3MoYSwiZnhzaG93Iix7ZGlzcGxheTpqfSksZiYmKHEuaGlkZGVuPSFwKSxwJiZpYShbYV0sITApLG0uZG9uZShmdW5jdGlvbigpe3B8fGlhKFthXSksVy5yZW1vdmUoYSwiZnhzaG93Iik7Zm9yKGQgaW4gbilyLnN0eWxlKGEsZCxuW2RdKX0pKSxpPWhiKHA/cVtkXTowLGQsbSksZCBpbiBxfHwocVtkXT1pLnN0YXJ0LHAmJihpLmVuZD1pLnN0YXJ0LGkuc3RhcnQ9MCkpfX1mdW5jdGlvbiBqYihhLGIpe3ZhciBjLGQsZSxmLGc7Zm9yKGMgaW4gYSlpZihkPXIuY2FtZWxDYXNlKGMpLGU9YltkXSxmPWFbY10sQXJyYXkuaXNBcnJheShmKSYmKGU9ZlsxXSxmPWFbY109ZlswXSksYyE9PWQmJihhW2RdPWYsZGVsZXRlIGFbY10pLGc9ci5jc3NIb29rc1tkXSxnJiYiZXhwYW5kImluIGcpe2Y9Zy5leHBhbmQoZiksZGVsZXRlIGFbZF07Zm9yKGMgaW4gZiljIGluIGF8fChhW2NdPWZbY10sYltjXT1lKX1lbHNlIGJbZF09ZX1mdW5jdGlvbiBrYihhLGIsYyl7dmFyIGQsZSxmPTAsZz1rYi5wcmVmaWx0ZXJzLmxlbmd0aCxoPXIuRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPWFifHxmYigpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtnPGk7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksZjwxJiZpP2M6KGl8fGgubm90aWZ5V2l0aChhLFtqLDEsMF0pLGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpyLmV4dGVuZCh7fSxiKSxvcHRzOnIuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpyLmVhc2luZy5fZGVmYXVsdH0sYyksb3JpZ2luYWxQcm9wZXJ0aWVzOmIsb3JpZ2luYWxPcHRpb25zOmMsc3RhcnRUaW1lOmFifHxmYigpLGR1cmF0aW9uOmMuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9ci5Ud2VlbihhLGoub3B0cyxiLGMsai5vcHRzLnNwZWNpYWxFYXNpbmdbYl18fGoub3B0cy5lYXNpbmcpO3JldHVybiBqLnR3ZWVucy5wdXNoKGQpLGR9LHN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9MCxkPWI/ai50d2VlbnMubGVuZ3RoOjA7aWYoZSlyZXR1cm4gdGhpcztmb3IoZT0hMDtjPGQ7YysrKWoudHdlZW5zW2NdLnJ1bigxKTtyZXR1cm4gYj8oaC5ub3RpZnlXaXRoKGEsW2osMSwwXSksaC5yZXNvbHZlV2l0aChhLFtqLGJdKSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcihqYihrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtmPGc7ZisrKWlmKGQ9a2IucHJlZmlsdGVyc1tmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIHIuaXNGdW5jdGlvbihkLnN0b3ApJiYoci5fcXVldWVIb29rcyhqLmVsZW0sai5vcHRzLnF1ZXVlKS5zdG9wPXIucHJveHkoZC5zdG9wLGQpKSxkO3JldHVybiByLm1hcChrLGhiLGopLHIuaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLGoucHJvZ3Jlc3Moai5vcHRzLnByb2dyZXNzKS5kb25lKGoub3B0cy5kb25lLGoub3B0cy5jb21wbGV0ZSkuZmFpbChqLm9wdHMuZmFpbCkuYWx3YXlzKGoub3B0cy5hbHdheXMpLHIuZngudGltZXIoci5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksan1yLkFuaW1hdGlvbj1yLmV4dGVuZChrYix7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZVR3ZWVuKGEsYik7cmV0dXJuIGZhKGMuZWxlbSxhLGJhLmV4ZWMoYiksYyksY31dfSx0d2VlbmVyOmZ1bmN0aW9uKGEsYil7ci5pc0Z1bmN0aW9uKGEpPyhiPWEsYT1bIioiXSk6YT1hLm1hdGNoKEwpO2Zvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKWM9YVtkXSxrYi50d2VlbmVyc1tjXT1rYi50d2VlbmVyc1tjXXx8W10sa2IudHdlZW5lcnNbY10udW5zaGlmdChiKX0scHJlZmlsdGVyczpbaWJdLHByZWZpbHRlcjpmdW5jdGlvbihhLGIpe2I/a2IucHJlZmlsdGVycy51bnNoaWZ0KGEpOmtiLnByZWZpbHRlcnMucHVzaChhKX19KSxyLnNwZWVkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hJiYib2JqZWN0Ij09dHlwZW9mIGE/ci5leHRlbmQoe30sYSk6e2NvbXBsZXRlOmN8fCFjJiZifHxyLmlzRnVuY3Rpb24oYSkmJmEsZHVyYXRpb246YSxlYXNpbmc6YyYmYnx8YiYmIXIuaXNGdW5jdGlvbihiKSYmYn07cmV0dXJuIHIuZngub2ZmP2QuZHVyYXRpb249MDoibnVtYmVyIiE9dHlwZW9mIGQuZHVyYXRpb24mJihkLmR1cmF0aW9uIGluIHIuZnguc3BlZWRzP2QuZHVyYXRpb249ci5meC5zcGVlZHNbZC5kdXJhdGlvbl06ZC5kdXJhdGlvbj1yLmZ4LnNwZWVkcy5fZGVmYXVsdCksbnVsbCE9ZC5xdWV1ZSYmZC5xdWV1ZSE9PSEwfHwoZC5xdWV1ZT0iZngiKSxkLm9sZD1kLmNvbXBsZXRlLGQuY29tcGxldGU9ZnVuY3Rpb24oKXtyLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpLGQucXVldWUmJnIuZGVxdWV1ZSh0aGlzLGQucXVldWUpfSxkfSxyLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLmZpbHRlcihkYSkuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ci5pc0VtcHR5T2JqZWN0KGEpLGY9ci5zcGVlZChiLGMsZCksZz1mdW5jdGlvbigpe3ZhciBiPWtiKHRoaXMsci5leHRlbmQoe30sYSksZik7KGV8fFcuZ2V0KHRoaXMsImZpbmlzaCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5xdWV1ZShhfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0hMCxlPW51bGwhPWEmJmErInF1ZXVlSG9va3MiLGY9ci50aW1lcnMsZz1XLmdldCh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZkYi50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyFiJiZjfHxyLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1XLmdldCh0aGlzKSxkPWNbYSsicXVldWUiXSxlPWNbYSsicXVldWVIb29rcyJdLGY9ci50aW1lcnMsZz1kP2QubGVuZ3RoOjA7Zm9yKGMuZmluaXNoPSEwLHIucXVldWUodGhpcyxhLFtdKSxlJiZlLnN0b3AmJmUuc3RvcC5jYWxsKHRoaXMsITApLGI9Zi5sZW5ndGg7Yi0tOylmW2JdLmVsZW09PT10aGlzJiZmW2JdLnF1ZXVlPT09YSYmKGZbYl0uYW5pbS5zdG9wKCEwKSxmLnNwbGljZShiLDEpKTtmb3IoYj0wO2I8ZztiKyspZFtiXSYmZFtiXS5maW5pc2gmJmRbYl0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGMuZmluaXNofSl9fSksci5lYWNoKFsidG9nZ2xlIiwic2hvdyIsImhpZGUiXSxmdW5jdGlvbihhLGIpe3ZhciBjPXIuZm5bYl07ci5mbltiXT1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIG51bGw9PWF8fCJib29sZWFuIj09dHlwZW9mIGE/Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKGdiKGIsITApLGEsZCxlKX19KSxyLmVhY2goe3NsaWRlRG93bjpnYigic2hvdyIpLHNsaWRlVXA6Z2IoImhpZGUiKSxzbGlkZVRvZ2dsZTpnYigidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihhLGIpe3IuZm5bYV09ZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmFuaW1hdGUoYixhLGMsZCl9fSksci50aW1lcnM9W10sci5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGEsYj0wLGM9ci50aW1lcnM7Zm9yKGFiPXIubm93KCk7YjxjLmxlbmd0aDtiKyspYT1jW2JdLGEoKXx8Y1tiXSE9PWF8fGMuc3BsaWNlKGItLSwxKTtjLmxlbmd0aHx8ci5meC5zdG9wKCksYWI9dm9pZCAwfSxyLmZ4LnRpbWVyPWZ1bmN0aW9uKGEpe3IudGltZXJzLnB1c2goYSksci5meC5zdGFydCgpfSxyLmZ4LmludGVydmFsPTEzLHIuZnguc3RhcnQ9ZnVuY3Rpb24oKXtiYnx8KGJiPSEwLGViKCkpfSxyLmZ4LnN0b3A9ZnVuY3Rpb24oKXtiYj1udWxsfSxyLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxyLmZuLmRlbGF5PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9ci5meD9yLmZ4LnNwZWVkc1tiXXx8YjpiLGM9Y3x8ImZ4Iix0aGlzLnF1ZXVlKGMsZnVuY3Rpb24oYyxkKXt2YXIgZT1hLnNldFRpbWVvdXQoYyxiKTtkLnN0b3A9ZnVuY3Rpb24oKXthLmNsZWFyVGltZW91dChlKX19KX0sZnVuY3Rpb24oKXt2YXIgYT1kLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksYj1kLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLGM9Yi5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTthLnR5cGU9ImNoZWNrYm94IixvLmNoZWNrT249IiIhPT1hLnZhbHVlLG8ub3B0U2VsZWN0ZWQ9Yy5zZWxlY3RlZCxhPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxhLnZhbHVlPSJ0IixhLnR5cGU9InJhZGlvIixvLnJhZGlvVmFsdWU9InQiPT09YS52YWx1ZX0oKTt2YXIgbGIsbWI9ci5leHByLmF0dHJIYW5kbGU7ci5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVCh0aGlzLHIuYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ci5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxyLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGEuZ2V0QXR0cmlidXRlP3IucHJvcChhLGIsYyk6KDE9PT1mJiZyLmlzWE1MRG9jKGEpfHwoZT1yLmF0dHJIb29rc1tiLnRvTG93ZXJDYXNlKCldfHwoci5leHByLm1hdGNoLmJvb2wudGVzdChiKT9sYjp2b2lkIDApKSx2b2lkIDAhPT1jP251bGw9PT1jP3ZvaWQgci5yZW1vdmVBdHRyKGEsYik6ZSYmInNldCJpbiBlJiZ2b2lkIDAhPT0oZD1lLnNldChhLGMsYikpP2Q6KGEuc2V0QXR0cmlidXRlKGIsYysiIiksYyk6ZSYmImdldCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDooZD1yLmZpbmQuYXR0cihhLGIpLApudWxsPT1kP3ZvaWQgMDpkKSl9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGEsYil7aWYoIW8ucmFkaW9WYWx1ZSYmInJhZGlvIj09PWImJkIoYSwiaW5wdXQiKSl7dmFyIGM9YS52YWx1ZTtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoInR5cGUiLGIpLGMmJihhLnZhbHVlPWMpLGJ9fX19LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTAsZT1iJiZiLm1hdGNoKEwpO2lmKGUmJjE9PT1hLm5vZGVUeXBlKXdoaWxlKGM9ZVtkKytdKWEucmVtb3ZlQXR0cmlidXRlKGMpfX0pLGxiPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09ITE/ci5yZW1vdmVBdHRyKGEsYyk6YS5zZXRBdHRyaWJ1dGUoYyxjKSxjfX0sci5lYWNoKHIuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXHcrL2cpLGZ1bmN0aW9uKGEsYil7dmFyIGM9bWJbYl18fHIuZmluZC5hdHRyO21iW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmLGc9Yi50b0xvd2VyQ2FzZSgpO3JldHVybiBkfHwoZj1tYltnXSxtYltnXT1lLGU9bnVsbCE9YyhhLGIsZCk/ZzpudWxsLG1iW2ddPWYpLGV9fSk7dmFyIG5iPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksb2I9L14oPzphfGFyZWEpJC9pO3IuZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFQodGhpcyxyLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW3IucHJvcEZpeFthXXx8YV19KX19KSxyLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4gMT09PWYmJnIuaXNYTUxEb2MoYSl8fChiPXIucHJvcEZpeFtiXXx8YixlPXIucHJvcEhvb2tzW2JdKSx2b2lkIDAhPT1jP2UmJiJzZXQiaW4gZSYmdm9pZCAwIT09KGQ9ZS5zZXQoYSxjLGIpKT9kOmFbYl09YzplJiYiZ2V0ImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOmFbYl19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihhKXt2YXIgYj1yLmZpbmQuYXR0cihhLCJ0YWJpbmRleCIpO3JldHVybiBiP3BhcnNlSW50KGIsMTApOm5iLnRlc3QoYS5ub2RlTmFtZSl8fG9iLnRlc3QoYS5ub2RlTmFtZSkmJmEuaHJlZj8wOi0xfX19LHByb3BGaXg6eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUifX0pLG8ub3B0U2VsZWN0ZWR8fChyLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO2ImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCl9fSksci5lYWNoKFsidGFiSW5kZXgiLCJyZWFkT25seSIsIm1heExlbmd0aCIsImNlbGxTcGFjaW5nIiwiY2VsbFBhZGRpbmciLCJyb3dTcGFuIiwiY29sU3BhbiIsInVzZU1hcCIsImZyYW1lQm9yZGVyIiwiY29udGVudEVkaXRhYmxlIl0sZnVuY3Rpb24oKXtyLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7ZnVuY3Rpb24gcGIoYSl7dmFyIGI9YS5tYXRjaChMKXx8W107cmV0dXJuIGIuam9pbigiICIpfWZ1bmN0aW9uIHFiKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIifXIuZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpPTA7aWYoci5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7cih0aGlzKS5hZGRDbGFzcyhhLmNhbGwodGhpcyxiLHFiKHRoaXMpKSl9KTtpZigic3RyaW5nIj09dHlwZW9mIGEmJmEpe2I9YS5tYXRjaChMKXx8W107d2hpbGUoYz10aGlzW2krK10paWYoZT1xYihjKSxkPTE9PT1jLm5vZGVUeXBlJiYiICIrcGIoZSkrIiAiKXtnPTA7d2hpbGUoZj1iW2crK10pZC5pbmRleE9mKCIgIitmKyIgIik8MCYmKGQrPWYrIiAiKTtoPXBiKGQpLGUhPT1oJiZjLnNldEF0dHJpYnV0ZSgiY2xhc3MiLGgpfX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaT0wO2lmKHIuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3IodGhpcykucmVtb3ZlQ2xhc3MoYS5jYWxsKHRoaXMsYixxYih0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigic3RyaW5nIj09dHlwZW9mIGEmJmEpe2I9YS5tYXRjaChMKXx8W107d2hpbGUoYz10aGlzW2krK10paWYoZT1xYihjKSxkPTE9PT1jLm5vZGVUeXBlJiYiICIrcGIoZSkrIiAiKXtnPTA7d2hpbGUoZj1iW2crK10pd2hpbGUoZC5pbmRleE9mKCIgIitmKyIgIik+LTEpZD1kLnJlcGxhY2UoIiAiK2YrIiAiLCIgIik7aD1wYihkKSxlIT09aCYmYy5zZXRBdHRyaWJ1dGUoImNsYXNzIixoKX19cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGE7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgYiYmInN0cmluZyI9PT1jP2I/dGhpcy5hZGRDbGFzcyhhKTp0aGlzLnJlbW92ZUNsYXNzKGEpOnIuaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYyl7cih0aGlzKS50b2dnbGVDbGFzcyhhLmNhbGwodGhpcyxjLHFiKHRoaXMpLGIpLGIpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsZCxlLGY7aWYoInN0cmluZyI9PT1jKXtkPTAsZT1yKHRoaXMpLGY9YS5tYXRjaChMKXx8W107d2hpbGUoYj1mW2QrK10pZS5oYXNDbGFzcyhiKT9lLnJlbW92ZUNsYXNzKGIpOmUuYWRkQ2xhc3MoYil9ZWxzZSB2b2lkIDAhPT1hJiYiYm9vbGVhbiIhPT1jfHwoYj1xYih0aGlzKSxiJiZXLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixiKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixifHxhPT09ITE/IiI6Vy5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZD0wO2I9IiAiK2ErIiAiO3doaWxlKGM9dGhpc1tkKytdKWlmKDE9PT1jLm5vZGVUeXBlJiYoIiAiK3BiKHFiKGMpKSsiICIpLmluZGV4T2YoYik+LTEpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHJiPS9cci9nO3IuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZD1yLmlzRnVuY3Rpb24oYSksdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBlOzE9PT10aGlzLm5vZGVUeXBlJiYoZT1kP2EuY2FsbCh0aGlzLGMscih0aGlzKS52YWwoKSk6YSxudWxsPT1lP2U9IiI6Im51bWJlciI9PXR5cGVvZiBlP2UrPSIiOkFycmF5LmlzQXJyYXkoZSkmJihlPXIubWFwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/IiI6YSsiIn0pKSxiPXIudmFsSG9va3NbdGhpcy50eXBlXXx8ci52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJzZXQiaW4gYiYmdm9pZCAwIT09Yi5zZXQodGhpcyxlLCJ2YWx1ZSIpfHwodGhpcy52YWx1ZT1lKSl9KTtpZihlKXJldHVybiBiPXIudmFsSG9va3NbZS50eXBlXXx8ci52YWxIb29rc1tlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJnZXQiaW4gYiYmdm9pZCAwIT09KGM9Yi5nZXQoZSwidmFsdWUiKSk/YzooYz1lLnZhbHVlLCJzdHJpbmciPT10eXBlb2YgYz9jLnJlcGxhY2UocmIsIiIpOm51bGw9PWM/IiI6Yyl9fX0pLHIuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9ci5maW5kLmF0dHIoYSwidmFsdWUiKTtyZXR1cm4gbnVsbCE9Yj9iOnBiKHIudGV4dChhKSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZT1hLm9wdGlvbnMsZj1hLnNlbGVjdGVkSW5kZXgsZz0ic2VsZWN0LW9uZSI9PT1hLnR5cGUsaD1nP251bGw6W10saT1nP2YrMTplLmxlbmd0aDtmb3IoZD1mPDA/aTpnP2Y6MDtkPGk7ZCsrKWlmKGM9ZVtkXSwoYy5zZWxlY3RlZHx8ZD09PWYpJiYhYy5kaXNhYmxlZCYmKCFjLnBhcmVudE5vZGUuZGlzYWJsZWR8fCFCKGMucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKGI9cihjKS52YWwoKSxnKXJldHVybiBiO2gucHVzaChiKX1yZXR1cm4gaH0sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPWEub3B0aW9ucyxmPXIubWFrZUFycmF5KGIpLGc9ZS5sZW5ndGg7d2hpbGUoZy0tKWQ9ZVtnXSwoZC5zZWxlY3RlZD1yLmluQXJyYXkoci52YWxIb29rcy5vcHRpb24uZ2V0KGQpLGYpPi0xKSYmKGM9ITApO3JldHVybiBjfHwoYS5zZWxlY3RlZEluZGV4PS0xKSxmfX19fSksci5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7ci52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGEsYil7aWYoQXJyYXkuaXNBcnJheShiKSlyZXR1cm4gYS5jaGVja2VkPXIuaW5BcnJheShyKGEpLnZhbCgpLGIpPi0xfX0sby5jaGVja09ufHwoci52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT1hLmdldEF0dHJpYnV0ZSgidmFsdWUiKT8ib24iOmEudmFsdWV9KX0pO3ZhciBzYj0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC87ci5leHRlbmQoci5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihiLGMsZSxmKXt2YXIgZyxoLGksaixrLG0sbixvPVtlfHxkXSxwPWwuY2FsbChiLCJ0eXBlIik/Yi50eXBlOmIscT1sLmNhbGwoYiwibmFtZXNwYWNlIik/Yi5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihoPWk9ZT1lfHxkLDMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmIXNiLnRlc3QocCtyLmV2ZW50LnRyaWdnZXJlZCkmJihwLmluZGV4T2YoIi4iKT4tMSYmKHE9cC5zcGxpdCgiLiIpLHA9cS5zaGlmdCgpLHEuc29ydCgpKSxrPXAuaW5kZXhPZigiOiIpPDAmJiJvbiIrcCxiPWJbci5leHBhbmRvXT9iOm5ldyByLkV2ZW50KHAsIm9iamVjdCI9PXR5cGVvZiBiJiZiKSxiLmlzVHJpZ2dlcj1mPzI6MyxiLm5hbWVzcGFjZT1xLmpvaW4oIi4iKSxiLnJuYW1lc3BhY2U9Yi5uYW1lc3BhY2U/bmV3IFJlZ0V4cCgiKF58XFwuKSIrcS5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsLGIucmVzdWx0PXZvaWQgMCxiLnRhcmdldHx8KGIudGFyZ2V0PWUpLGM9bnVsbD09Yz9bYl06ci5tYWtlQXJyYXkoYyxbYl0pLG49ci5ldmVudC5zcGVjaWFsW3BdfHx7fSxmfHwhbi50cmlnZ2VyfHxuLnRyaWdnZXIuYXBwbHkoZSxjKSE9PSExKSl7aWYoIWYmJiFuLm5vQnViYmxlJiYhci5pc1dpbmRvdyhlKSl7Zm9yKGo9bi5kZWxlZ2F0ZVR5cGV8fHAsc2IudGVzdChqK3ApfHwoaD1oLnBhcmVudE5vZGUpO2g7aD1oLnBhcmVudE5vZGUpby5wdXNoKGgpLGk9aDtpPT09KGUub3duZXJEb2N1bWVudHx8ZCkmJm8ucHVzaChpLmRlZmF1bHRWaWV3fHxpLnBhcmVudFdpbmRvd3x8YSl9Zz0wO3doaWxlKChoPW9bZysrXSkmJiFiLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpYi50eXBlPWc+MT9qOm4uYmluZFR5cGV8fHAsbT0oVy5nZXQoaCwiZXZlbnRzIil8fHt9KVtiLnR5cGVdJiZXLmdldChoLCJoYW5kbGUiKSxtJiZtLmFwcGx5KGgsYyksbT1rJiZoW2tdLG0mJm0uYXBwbHkmJlUoaCkmJihiLnJlc3VsdD1tLmFwcGx5KGgsYyksYi5yZXN1bHQ9PT0hMSYmYi5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gYi50eXBlPXAsZnx8Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8bi5fZGVmYXVsdCYmbi5fZGVmYXVsdC5hcHBseShvLnBvcCgpLGMpIT09ITF8fCFVKGUpfHxrJiZyLmlzRnVuY3Rpb24oZVtwXSkmJiFyLmlzV2luZG93KGUpJiYoaT1lW2tdLGkmJihlW2tdPW51bGwpLHIuZXZlbnQudHJpZ2dlcmVkPXAsZVtwXSgpLHIuZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxpJiYoZVtrXT1pKSksYi5yZXN1bHR9fSxzaW11bGF0ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9ci5leHRlbmQobmV3IHIuRXZlbnQsYyx7dHlwZTphLGlzU2ltdWxhdGVkOiEwfSk7ci5ldmVudC50cmlnZ2VyKGQsbnVsbCxiKX19KSxyLmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtyLmV2ZW50LnRyaWdnZXIoYSxiLHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpc1swXTtpZihjKXJldHVybiByLmV2ZW50LnRyaWdnZXIoYSxiLGMsITApfX0pLHIuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe3IuZm5bYl09ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24oYixudWxsLGEsYyk6dGhpcy50cmlnZ2VyKGIpfX0pLHIuZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoYSkubW91c2VsZWF2ZShifHxhKX19KSxvLmZvY3VzaW49Im9uZm9jdXNpbiJpbiBhLG8uZm9jdXNpbnx8ci5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe3IuZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxyLmV2ZW50LmZpeChhKSl9O3IuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1XLmFjY2VzcyhkLGIpO2V8fGQuYWRkRXZlbnRMaXN0ZW5lcihhLGMsITApLFcuYWNjZXNzKGQsYiwoZXx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGU9Vy5hY2Nlc3MoZCxiKS0xO2U/Vy5hY2Nlc3MoZCxiLGUpOihkLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxjLCEwKSxXLnJlbW92ZShkLGIpKX19fSk7dmFyIHRiPWEubG9jYXRpb24sdWI9ci5ub3coKSx2Yj0vXD8vO3IucGFyc2VYTUw9ZnVuY3Rpb24oYil7dmFyIGM7aWYoIWJ8fCJzdHJpbmciIT10eXBlb2YgYilyZXR1cm4gbnVsbDt0cnl7Yz0obmV3IGEuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoYiwidGV4dC94bWwiKX1jYXRjaChkKXtjPXZvaWQgMH1yZXR1cm4gYyYmIWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RofHxyLmVycm9yKCJJbnZhbGlkIFhNTDogIitiKSxjfTt2YXIgd2I9L1xbXF0kLyx4Yj0vXHI/XG4vZyx5Yj0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksemI9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEFiKGEsYixjLGQpe3ZhciBlO2lmKEFycmF5LmlzQXJyYXkoYikpci5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHx3Yi50ZXN0KGEpP2QoYSxlKTpBYihhKyJbIisoIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT1lP2I6IiIpKyJdIixlLGMsZCl9KTtlbHNlIGlmKGN8fCJvYmplY3QiIT09ci50eXBlKGIpKWQoYSxiKTtlbHNlIGZvcihlIGluIGIpQWIoYSsiWyIrZSsiXSIsYltlXSxjLGQpfXIucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1yLmlzRnVuY3Rpb24oYik/YigpOmI7ZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9IitlbmNvZGVVUklDb21wb25lbnQobnVsbD09Yz8iIjpjKX07aWYoQXJyYXkuaXNBcnJheShhKXx8YS5qcXVlcnkmJiFyLmlzUGxhaW5PYmplY3QoYSkpci5lYWNoKGEsZnVuY3Rpb24oKXtlKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKGMgaW4gYSlBYihjLGFbY10sYixlKTtyZXR1cm4gZC5qb2luKCImIil9LHIuZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gci5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXIucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBhP3IubWFrZUFycmF5KGEpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIXIodGhpcykuaXMoIjpkaXNhYmxlZCIpJiZ6Yi50ZXN0KHRoaXMubm9kZU5hbWUpJiYheWIudGVzdChhKSYmKHRoaXMuY2hlY2tlZHx8IWphLnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9cih0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOkFycmF5LmlzQXJyYXkoYyk/ci5tYXAoYyxmdW5jdGlvbihhKXtyZXR1cm57bmFtZTpiLm5hbWUsdmFsdWU6YS5yZXBsYWNlKHhiLCJcclxuIil9fSk6e25hbWU6Yi5uYW1lLHZhbHVlOmMucmVwbGFjZSh4YiwiXHJcbiIpfX0pLmdldCgpfX0pO3ZhciBCYj0vJTIwL2csQ2I9LyMuKiQvLERiPS8oWz8mXSlfPVteJl0qLyxFYj0vXiguKj8pOlsgXHRdKihbXlxyXG5dKikkL2dtLEZiPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLEdiPS9eKD86R0VUfEhFQUQpJC8sSGI9L15cL1wvLyxJYj17fSxKYj17fSxLYj0iKi8iLmNvbmNhdCgiKiIpLExiPWQuY3JlYXRlRWxlbWVudCgiYSIpO0xiLmhyZWY9dGIuaHJlZjtmdW5jdGlvbiBNYihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXsic3RyaW5nIiE9dHlwZW9mIGImJihjPWIsYj0iKiIpO3ZhciBkLGU9MCxmPWIudG9Mb3dlckNhc2UoKS5tYXRjaChMKXx8W107aWYoci5pc0Z1bmN0aW9uKGMpKXdoaWxlKGQ9ZltlKytdKSIrIj09PWRbMF0/KGQ9ZC5zbGljZSgxKXx8IioiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gTmIoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09SmI7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxyLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlWyIqIl0mJmcoIioiKX1mdW5jdGlvbiBPYihhLGIpe3ZhciBjLGQsZT1yLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGMgaW4gYil2b2lkIDAhPT1iW2NdJiYoKGVbY10/YTpkfHwoZD17fSkpW2NdPWJbY10pO3JldHVybiBkJiZyLmV4dGVuZCghMCxhLGQpLGF9ZnVuY3Rpb24gUGIoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKCIqIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWQmJihkPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihkKWZvcihlIGluIGgpaWYoaFtlXSYmaFtlXS50ZXN0KGQpKXtpLnVuc2hpZnQoZSk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGUgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tlKyIgIitpWzBdXSl7Zj1lO2JyZWFrfWd8fChnPWUpfWY9Znx8Z31pZihmKXJldHVybiBmIT09aVswXSYmaS51bnNoaWZ0KGYpLGNbZl19ZnVuY3Rpb24gUWIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZigiKiI9PT1mKWY9aTtlbHNlIGlmKCIqIiE9PWkmJmkhPT1mKXtpZihnPWpbaSsiICIrZl18fGpbIiogIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdCgiICIpLGhbMV09PT1mJiYoZz1qW2krIiAiK2hbMF1dfHxqWyIqICIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhWyJ0aHJvd3MiXSliPWcoYik7ZWxzZSB0cnl7Yj1nKGIpfWNhdGNoKGwpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmc/bDoiTm8gY29udmVyc2lvbiBmcm9tICIraSsiIHRvICIrZn19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTpifX1yLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6dGIuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6RmIudGVzdCh0Yi5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpLYix0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6ci5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/T2IoT2IoYSxyLmFqYXhTZXR0aW5ncyksYik6T2Ioci5hamF4U2V0dGluZ3MsYSl9LGFqYXhQcmVmaWx0ZXI6TWIoSWIpLGFqYXhUcmFuc3BvcnQ6TWIoSmIpLGFqYXg6ZnVuY3Rpb24oYixjKXsib2JqZWN0Ij09dHlwZW9mIGImJihjPWIsYj12b2lkIDApLGM9Y3x8e307dmFyIGUsZixnLGgsaSxqLGssbCxtLG4sbz1yLmFqYXhTZXR1cCh7fSxjKSxwPW8uY29udGV4dHx8byxxPW8uY29udGV4dCYmKHAubm9kZVR5cGV8fHAuanF1ZXJ5KT9yKHApOnIuZXZlbnQscz1yLkRlZmVycmVkKCksdD1yLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx1PW8uc3RhdHVzQ29kZXx8e30sdj17fSx3PXt9LHg9ImNhbmNlbGVkIix5PXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoayl7aWYoIWgpe2g9e307d2hpbGUoYj1FYi5leGVjKGcpKWhbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9aFthLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIGs/ZzpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWsmJihhPXdbYS50b0xvd2VyQ2FzZSgpXT13W2EudG9Mb3dlckNhc2UoKV18fGEsdlthXT1iKSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1rJiYoby5taW1lVHlwZT1hKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEpaWYoayl5LmFsd2F5cyhhW3kuc3RhdHVzXSk7ZWxzZSBmb3IoYiBpbiBhKXVbYl09W3VbYl0sYVtiXV07cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHg7cmV0dXJuIGUmJmUuYWJvcnQoYiksQSgwLGIpLHRoaXN9fTtpZihzLnByb21pc2UoeSksby51cmw9KChifHxvLnVybHx8dGIuaHJlZikrIiIpLnJlcGxhY2UoSGIsdGIucHJvdG9jb2wrIi8vIiksby50eXBlPWMubWV0aG9kfHxjLnR5cGV8fG8ubWV0aG9kfHxvLnR5cGUsby5kYXRhVHlwZXM9KG8uZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaChMKXx8WyIiXSxudWxsPT1vLmNyb3NzRG9tYWluKXtqPWQuY3JlYXRlRWxlbWVudCgiYSIpO3RyeXtqLmhyZWY9by51cmwsai5ocmVmPWouaHJlZixvLmNyb3NzRG9tYWluPUxiLnByb3RvY29sKyIvLyIrTGIuaG9zdCE9ai5wcm90b2NvbCsiLy8iK2ouaG9zdH1jYXRjaCh6KXtvLmNyb3NzRG9tYWluPSEwfX1pZihvLmRhdGEmJm8ucHJvY2Vzc0RhdGEmJiJzdHJpbmciIT10eXBlb2Ygby5kYXRhJiYoby5kYXRhPXIucGFyYW0oby5kYXRhLG8udHJhZGl0aW9uYWwpKSxOYihJYixvLGMseSksaylyZXR1cm4geTtsPXIuZXZlbnQmJm8uZ2xvYmFsLGwmJjA9PT1yLmFjdGl2ZSsrJiZyLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLG8udHlwZT1vLnR5cGUudG9VcHBlckNhc2UoKSxvLmhhc0NvbnRlbnQ9IUdiLnRlc3Qoby50eXBlKSxmPW8udXJsLnJlcGxhY2UoQ2IsIiIpLG8uaGFzQ29udGVudD9vLmRhdGEmJm8ucHJvY2Vzc0RhdGEmJjA9PT0oby5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYoby5kYXRhPW8uZGF0YS5yZXBsYWNlKEJiLCIrIikpOihuPW8udXJsLnNsaWNlKGYubGVuZ3RoKSxvLmRhdGEmJihmKz0odmIudGVzdChmKT8iJiI6Ij8iKStvLmRhdGEsZGVsZXRlIG8uZGF0YSksby5jYWNoZT09PSExJiYoZj1mLnJlcGxhY2UoRGIsIiQxIiksbj0odmIudGVzdChmKT8iJiI6Ij8iKSsiXz0iK3ViKysgK24pLG8udXJsPWYrbiksby5pZk1vZGlmaWVkJiYoci5sYXN0TW9kaWZpZWRbZl0mJnkuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLHIubGFzdE1vZGlmaWVkW2ZdKSxyLmV0YWdbZl0mJnkuc2V0UmVxdWVzdEhlYWRlcigiSWYtTm9uZS1NYXRjaCIsci5ldGFnW2ZdKSksKG8uZGF0YSYmby5oYXNDb250ZW50JiZvLmNvbnRlbnRUeXBlIT09ITF8fGMuY29udGVudFR5cGUpJiZ5LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsby5jb250ZW50VHlwZSkseS5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLG8uZGF0YVR5cGVzWzBdJiZvLmFjY2VwdHNbby5kYXRhVHlwZXNbMF1dP28uYWNjZXB0c1tvLmRhdGFUeXBlc1swXV0rKCIqIiE9PW8uZGF0YVR5cGVzWzBdPyIsICIrS2IrIjsgcT0wLjAxIjoiIik6by5hY2NlcHRzWyIqIl0pO2ZvcihtIGluIG8uaGVhZGVycyl5LnNldFJlcXVlc3RIZWFkZXIobSxvLmhlYWRlcnNbbV0pO2lmKG8uYmVmb3JlU2VuZCYmKG8uYmVmb3JlU2VuZC5jYWxsKHAseSxvKT09PSExfHxrKSlyZXR1cm4geS5hYm9ydCgpO2lmKHg9ImFib3J0Iix0LmFkZChvLmNvbXBsZXRlKSx5LmRvbmUoby5zdWNjZXNzKSx5LmZhaWwoby5lcnJvciksZT1OYihKYixvLGMseSkpe2lmKHkucmVhZHlTdGF0ZT0xLGwmJnEudHJpZ2dlcigiYWpheFNlbmQiLFt5LG9dKSxrKXJldHVybiB5O28uYXN5bmMmJm8udGltZW91dD4wJiYoaT1hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt5LmFib3J0KCJ0aW1lb3V0Iil9LG8udGltZW91dCkpO3RyeXtrPSExLGUuc2VuZCh2LEEpfWNhdGNoKHope2lmKGspdGhyb3cgejtBKC0xLHopfX1lbHNlIEEoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIEEoYixjLGQsaCl7dmFyIGosbSxuLHYsdyx4PWM7a3x8KGs9ITAsaSYmYS5jbGVhclRpbWVvdXQoaSksZT12b2lkIDAsZz1ofHwiIix5LnJlYWR5U3RhdGU9Yj4wPzQ6MCxqPWI+PTIwMCYmYjwzMDB8fDMwND09PWIsZCYmKHY9UGIobyx5LGQpKSx2PVFiKG8sdix5LGopLGo/KG8uaWZNb2RpZmllZCYmKHc9eS5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpLHcmJihyLmxhc3RNb2RpZmllZFtmXT13KSx3PXkuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSx3JiYoci5ldGFnW2ZdPXcpKSwyMDQ9PT1ifHwiSEVBRCI9PT1vLnR5cGU/eD0ibm9jb250ZW50IjozMDQ9PT1iP3g9Im5vdG1vZGlmaWVkIjooeD12LnN0YXRlLG09di5kYXRhLG49di5lcnJvcixqPSFuKSk6KG49eCwhYiYmeHx8KHg9ImVycm9yIixiPDAmJihiPTApKSkseS5zdGF0dXM9Yix5LnN0YXR1c1RleHQ9KGN8fHgpKyIiLGo/cy5yZXNvbHZlV2l0aChwLFttLHgseV0pOnMucmVqZWN0V2l0aChwLFt5LHgsbl0pLHkuc3RhdHVzQ29kZSh1KSx1PXZvaWQgMCxsJiZxLnRyaWdnZXIoaj8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFt5LG8saj9tOm5dKSx0LmZpcmVXaXRoKHAsW3kseF0pLGwmJihxLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3ksb10pLC0tci5hY3RpdmV8fHIuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfXJldHVybiB5fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gci5nZXQoYSxiLGMsImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHIuZ2V0KGEsdm9pZCAwLGIsInNjcmlwdCIpfX0pLHIuZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGIpe3JbYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIHIuaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLHIuYWpheChyLmV4dGVuZCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0sci5pc1BsYWluT2JqZWN0KGEpJiZhKSl9fSksci5fZXZhbFVybD1mdW5jdGlvbihhKXtyZXR1cm4gci5hamF4KHt1cmw6YSx0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGNhY2hlOiEwLGFzeW5jOiExLGdsb2JhbDohMSwidGhyb3dzIjohMH0pfSxyLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gdGhpc1swXSYmKHIuaXNGdW5jdGlvbihhKSYmKGE9YS5jYWxsKHRoaXNbMF0pKSxiPXIoYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJmIuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLGIubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3aGlsZShhLmZpcnN0RWxlbWVudENoaWxkKWE9YS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiByLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3IodGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPXIodGhpcyksYz1iLmNvbnRlbnRzKCk7Yy5sZW5ndGg/Yy53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7dmFyIGI9ci5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7cih0aGlzKS53cmFwQWxsKGI/YS5jYWxsKHRoaXMsYyk6YSl9KX0sdW53cmFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnBhcmVudChhKS5ub3QoImJvZHkiKS5lYWNoKGZ1bmN0aW9uKCl7cih0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSksdGhpc319KSxyLmV4cHIucHNldWRvcy5oaWRkZW49ZnVuY3Rpb24oYSl7cmV0dXJuIXIuZXhwci5wc2V1ZG9zLnZpc2libGUoYSl9LHIuZXhwci5wc2V1ZG9zLnZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuISEoYS5vZmZzZXRXaWR0aHx8YS5vZmZzZXRIZWlnaHR8fGEuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpfSxyLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGIpe319O3ZhciBSYj17MDoyMDAsMTIyMzoyMDR9LFNiPXIuYWpheFNldHRpbmdzLnhocigpO28uY29ycz0hIVNiJiYid2l0aENyZWRlbnRpYWxzImluIFNiLG8uYWpheD1TYj0hIVNiLHIuYWpheFRyYW5zcG9ydChmdW5jdGlvbihiKXt2YXIgYyxkO2lmKG8uY29yc3x8U2ImJiFiLmNyb3NzRG9tYWluKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsZil7dmFyIGcsaD1iLnhocigpO2lmKGgub3BlbihiLnR5cGUsYi51cmwsYi5hc3luYyxiLnVzZXJuYW1lLGIucGFzc3dvcmQpLGIueGhyRmllbGRzKWZvcihnIGluIGIueGhyRmllbGRzKWhbZ109Yi54aHJGaWVsZHNbZ107Yi5taW1lVHlwZSYmaC5vdmVycmlkZU1pbWVUeXBlJiZoLm92ZXJyaWRlTWltZVR5cGUoYi5taW1lVHlwZSksYi5jcm9zc0RvbWFpbnx8ZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdfHwoZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpO2ZvcihnIGluIGUpaC5zZXRSZXF1ZXN0SGVhZGVyKGcsZVtnXSk7Yz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtjJiYoYz1kPWgub25sb2FkPWgub25lcnJvcj1oLm9uYWJvcnQ9aC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCwiYWJvcnQiPT09YT9oLmFib3J0KCk6ImVycm9yIj09PWE/Im51bWJlciIhPXR5cGVvZiBoLnN0YXR1cz9mKDAsImVycm9yIik6ZihoLnN0YXR1cyxoLnN0YXR1c1RleHQpOmYoUmJbaC5zdGF0dXNdfHxoLnN0YXR1cyxoLnN0YXR1c1RleHQsInRleHQiIT09KGgucmVzcG9uc2VUeXBlfHwidGV4dCIpfHwic3RyaW5nIiE9dHlwZW9mIGgucmVzcG9uc2VUZXh0P3tiaW5hcnk6aC5yZXNwb25zZX06e3RleHQ6aC5yZXNwb25zZVRleHR9LGguZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19LGgub25sb2FkPWMoKSxkPWgub25lcnJvcj1jKCJlcnJvciIpLHZvaWQgMCE9PWgub25hYm9ydD9oLm9uYWJvcnQ9ZDpoLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1oLnJlYWR5U3RhdGUmJmEuc2V0VGltZW91dChmdW5jdGlvbigpe2MmJmQoKX0pfSxjPWMoImFib3J0Iik7dHJ5e2guc2VuZChiLmhhc0NvbnRlbnQmJmIuZGF0YXx8bnVsbCl9Y2F0Y2goaSl7aWYoYyl0aHJvdyBpfX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKCl9fX0pLHIuYWpheFByZWZpbHRlcihmdW5jdGlvbihhKXthLmNyb3NzRG9tYWluJiYoYS5jb250ZW50cy5zY3JpcHQ9ITEpfSksci5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi9cYig/OmphdmF8ZWNtYSlzY3JpcHRcYi99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oYSl7cmV0dXJuIHIuZ2xvYmFsRXZhbChhKSxhfX19KSxyLmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24oYSl7dm9pZCAwPT09YS5jYWNoZSYmKGEuY2FjaGU9ITEpLGEuY3Jvc3NEb21haW4mJihhLnR5cGU9IkdFVCIpfSksci5hamF4VHJhbnNwb3J0KCJzY3JpcHQiLGZ1bmN0aW9uKGEpe2lmKGEuY3Jvc3NEb21haW4pe3ZhciBiLGM7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSxmKXtiPXIoIjxzY3JpcHQ+IikucHJvcCh7Y2hhcnNldDphLnNjcmlwdENoYXJzZXQsc3JjOmEudXJsfSkub24oImxvYWQgZXJyb3IiLGM9ZnVuY3Rpb24oYSl7Yi5yZW1vdmUoKSxjPW51bGwsYSYmZigiZXJyb3IiPT09YS50eXBlPzQwNDoyMDAsYS50eXBlKX0pLGQuaGVhZC5hcHBlbmRDaGlsZChiWzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKCl9fX19KTt2YXIgVGI9W10sVWI9Lyg9KVw/KD89JnwkKXxcP1w/LztyLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9VGIucG9wKCl8fHIuZXhwYW5kbysiXyIrdWIrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLHIuYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoPWIuanNvbnAhPT0hMSYmKFViLnRlc3QoYi51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgYi5kYXRhJiYwPT09KGIuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmVWIudGVzdChiLmRhdGEpJiYiZGF0YSIpO2lmKGh8fCJqc29ucCI9PT1iLmRhdGFUeXBlc1swXSlyZXR1cm4gZT1iLmpzb25wQ2FsbGJhY2s9ci5pc0Z1bmN0aW9uKGIuanNvbnBDYWxsYmFjayk/Yi5qc29ucENhbGxiYWNrKCk6Yi5qc29ucENhbGxiYWNrLGg/YltoXT1iW2hdLnJlcGxhY2UoVWIsIiQxIitlKTpiLmpzb25wIT09ITEmJihiLnVybCs9KHZiLnRlc3QoYi51cmwpPyImIjoiPyIpK2IuanNvbnArIj0iK2UpLGIuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBnfHxyLmVycm9yKGUrIiB3YXMgbm90IGNhbGxlZCIpLGdbMF19LGIuZGF0YVR5cGVzWzBdPSJqc29uIixmPWFbZV0sYVtlXT1mdW5jdGlvbigpe2c9YXJndW1lbnRzfSxkLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWY/cihhKS5yZW1vdmVQcm9wKGUpOmFbZV09ZixiW2VdJiYoYi5qc29ucENhbGxiYWNrPWMuanNvbnBDYWxsYmFjayxUYi5wdXNoKGUpKSxnJiZyLmlzRnVuY3Rpb24oZikmJmYoZ1swXSksZz1mPXZvaWQgMH0pLCJzY3JpcHQifSksby5jcmVhdGVIVE1MRG9jdW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT1kLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikuYm9keTtyZXR1cm4gYS5pbm5lckhUTUw9Ijxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+IiwyPT09YS5jaGlsZE5vZGVzLmxlbmd0aH0oKSxyLnBhcnNlSFRNTD1mdW5jdGlvbihhLGIsYyl7aWYoInN0cmluZyIhPXR5cGVvZiBhKXJldHVybltdOyJib29sZWFuIj09dHlwZW9mIGImJihjPWIsYj0hMSk7dmFyIGUsZixnO3JldHVybiBifHwoby5jcmVhdGVIVE1MRG9jdW1lbnQ/KGI9ZC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLGU9Yi5jcmVhdGVFbGVtZW50KCJiYXNlIiksZS5ocmVmPWQubG9jYXRpb24uaHJlZixiLmhlYWQuYXBwZW5kQ2hpbGQoZSkpOmI9ZCksZj1DLmV4ZWMoYSksZz0hYyYmW10sZj9bYi5jcmVhdGVFbGVtZW50KGZbMV0pXTooZj1xYShbYV0sYixnKSxnJiZnLmxlbmd0aCYmcihnKS5yZW1vdmUoKSxyLm1lcmdlKFtdLGYuY2hpbGROb2RlcykpfSxyLmZuLmxvYWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnPXRoaXMsaD1hLmluZGV4T2YoIiAiKTtyZXR1cm4gaD4tMSYmKGQ9cGIoYS5zbGljZShoKSksYT1hLnNsaWNlKDAsaCkpLHIuaXNGdW5jdGlvbihiKT8oYz1iLGI9dm9pZCAwKTpiJiYib2JqZWN0Ij09dHlwZW9mIGImJihlPSJQT1NUIiksZy5sZW5ndGg+MCYmci5hamF4KHt1cmw6YSx0eXBlOmV8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2Y9YXJndW1lbnRzLGcuaHRtbChkP3IoIjxkaXY+IikuYXBwZW5kKHIucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuYWx3YXlzKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGZ8fFthLnJlc3BvbnNlVGV4dCxiLGFdKX0pfSksdGhpc30sci5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oYSxiKXtyLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9uKGIsYSl9fSksci5leHByLnBzZXVkb3MuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHIuZ3JlcChyLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH0sci5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosaz1yLmNzcyhhLCJwb3NpdGlvbiIpLGw9cihhKSxtPXt9OyJzdGF0aWMiPT09ayYmKGEuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIiksaD1sLm9mZnNldCgpLGY9ci5jc3MoYSwidG9wIiksaT1yLmNzcyhhLCJsZWZ0Iiksaj0oImFic29sdXRlIj09PWt8fCJmaXhlZCI9PT1rKSYmKGYraSkuaW5kZXhPZigiYXV0byIpPi0xLGo/KGQ9bC5wb3NpdGlvbigpLGc9ZC50b3AsZT1kLmxlZnQpOihnPXBhcnNlRmxvYXQoZil8fDAsZT1wYXJzZUZsb2F0KGkpfHwwKSxyLmlzRnVuY3Rpb24oYikmJihiPWIuY2FsbChhLGMsci5leHRlbmQoe30saCkpKSxudWxsIT1iLnRvcCYmKG0udG9wPWIudG9wLWgudG9wK2cpLG51bGwhPWIubGVmdCYmKG0ubGVmdD1iLmxlZnQtaC5sZWZ0K2UpLCJ1c2luZyJpbiBiP2IudXNpbmcuY2FsbChhLG0pOmwuY3NzKG0pfX0sci5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihhKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1hP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3Iub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTt2YXIgYixjLGQsZSxmPXRoaXNbMF07aWYoZilyZXR1cm4gZi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aD8oZD1mLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGI9Zi5vd25lckRvY3VtZW50LGM9Yi5kb2N1bWVudEVsZW1lbnQsZT1iLmRlZmF1bHRWaWV3LHt0b3A6ZC50b3ArZS5wYWdlWU9mZnNldC1jLmNsaWVudFRvcCxsZWZ0OmQubGVmdCtlLnBhZ2VYT2Zmc2V0LWMuY2xpZW50TGVmdH0pOnt0b3A6MCxsZWZ0OjB9fSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBhLGIsYz10aGlzWzBdLGQ9e3RvcDowLGxlZnQ6MH07cmV0dXJuImZpeGVkIj09PXIuY3NzKGMsInBvc2l0aW9uIik/Yj1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOihhPXRoaXMub2Zmc2V0UGFyZW50KCksYj10aGlzLm9mZnNldCgpLEIoYVswXSwiaHRtbCIpfHwoZD1hLm9mZnNldCgpKSxkPXt0b3A6ZC50b3Arci5jc3MoYVswXSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxsZWZ0OmQubGVmdCtyLmNzcyhhWzBdLCJib3JkZXJMZWZ0V2lkdGgiLCEwKX0pLHt0b3A6Yi50b3AtZC50b3Atci5jc3MoYywibWFyZ2luVG9wIiwhMCksbGVmdDpiLmxlZnQtZC5sZWZ0LXIuY3NzKGMsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudDt3aGlsZShhJiYic3RhdGljIj09PXIuY3NzKGEsInBvc2l0aW9uIikpYT1hLm9mZnNldFBhcmVudDtyZXR1cm4gYXx8cmF9KX19KSxyLmVhY2goe3Njcm9sbExlZnQ6InBhZ2VYT2Zmc2V0IixzY3JvbGxUb3A6InBhZ2VZT2Zmc2V0In0sZnVuY3Rpb24oYSxiKXt2YXIgYz0icGFnZVlPZmZzZXQiPT09YjtyLmZuW2FdPWZ1bmN0aW9uKGQpe3JldHVybiBUKHRoaXMsZnVuY3Rpb24oYSxkLGUpe3ZhciBmO3JldHVybiByLmlzV2luZG93KGEpP2Y9YTo5PT09YS5ub2RlVHlwZSYmKGY9YS5kZWZhdWx0Vmlldyksdm9pZCAwPT09ZT9mP2ZbYl06YVtkXTp2b2lkKGY/Zi5zY3JvbGxUbyhjP2YucGFnZVhPZmZzZXQ6ZSxjP2U6Zi5wYWdlWU9mZnNldCk6YVtkXT1lKX0sYSxkLGFyZ3VtZW50cy5sZW5ndGgpfX0pLHIuZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihhLGIpe3IuY3NzSG9va3NbYl09UGEoby5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGEsYyl7aWYoYylyZXR1cm4gYz1PYShhLGIpLE1hLnRlc3QoYyk/cihhKS5wb3NpdGlvbigpW2JdKyJweCI6Y30pfSksci5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24oYSxiKXtyLmVhY2goe3BhZGRpbmc6ImlubmVyIithLGNvbnRlbnQ6YiwiIjoib3V0ZXIiK2F9LGZ1bmN0aW9uKGMsZCl7ci5mbltkXT1mdW5jdGlvbihlLGYpe3ZhciBnPWFyZ3VtZW50cy5sZW5ndGgmJihjfHwiYm9vbGVhbiIhPXR5cGVvZiBlKSxoPWN8fChlPT09ITB8fGY9PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIFQodGhpcyxmdW5jdGlvbihiLGMsZSl7dmFyIGY7cmV0dXJuIHIuaXNXaW5kb3coYik/MD09PWQuaW5kZXhPZigib3V0ZXIiKT9iWyJpbm5lciIrYV06Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYV06OT09PWIubm9kZVR5cGU/KGY9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5WyJzY3JvbGwiK2FdLGZbInNjcm9sbCIrYV0sYi5ib2R5WyJvZmZzZXQiK2FdLGZbIm9mZnNldCIrYV0sZlsiY2xpZW50IithXSkpOnZvaWQgMD09PWU/ci5jc3MoYixjLGgpOnIuc3R5bGUoYixjLGUsaCl9LGIsZz9lOnZvaWQgMCxnKX19KX0pLHIuZm4uZXh0ZW5kKHtiaW5kOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5vbihhLG51bGwsYixjKX0sdW5iaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub2ZmKGEsbnVsbCxiKX0sZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMub24oYixhLGMsZCl9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihhLCIqKiIpOnRoaXMub2ZmKGIsYXx8IioqIixjKX19KSxyLmhvbGRSZWFkeT1mdW5jdGlvbihhKXthP3IucmVhZHlXYWl0Kys6ci5yZWFkeSghMCl9LHIuaXNBcnJheT1BcnJheS5pc0FycmF5LHIucGFyc2VKU09OPUpTT04ucGFyc2Usci5ub2RlTmFtZT1CLCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZSgianF1ZXJ5IixbXSxmdW5jdGlvbigpe3JldHVybiByfSk7dmFyIFZiPWEualF1ZXJ5LFdiPWEuJDtyZXR1cm4gci5ub0NvbmZsaWN0PWZ1bmN0aW9uKGIpe3JldHVybiBhLiQ9PT1yJiYoYS4kPVdiKSxiJiZhLmpRdWVyeT09PXImJihhLmpRdWVyeT1WYikscn0sYnx8KGEualF1ZXJ5PWEuJD1yKSxyfSk7Cg=="}]},{"name":"ÁôæÂ∫¶ÁΩëÁõòÁÆÄÊòì‰∏ãËΩΩÂä©ÊâãÔºàÁõ¥Èìæ‰∏ãËΩΩÂ§çÊ¥ªÁâàÔºâ","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["localhost","127.0.0.1","yyxxs.cn","softxm.cn","softxm.vip","42.193.51.61","119.28.33.23","119.28.139.214","49.234.47.193","82.156.65.179","42.193.127.85","81.70.253.99","49.232.252.126","82.156.15.149","59.110.224.13","59.110.225.22","59.110.226.3","baidu.com"],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://pan.baidu.com/*","*://yun.baidu.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1658049948433,"data":{"softxm_storageName_common_start":"n1636939258043","softxm_storageName_last_code":"s3353","softxm_storageName_last_jsonRpc":"shttp://localhost:6800/jsonrpc","softxm_storageName_last_mine":"s","softxm_storageName_last_savePath":"sC:\\Users\\Bruce\\Downloads\\","softxm_storageName_last_token":"s"}},"enabled":true,"position":6,"file_url":"https://greasyfork.org/scripts/418182-%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%AE%80%E6%98%93%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B-%E7%9B%B4%E9%93%BE%E4%B8%8B%E8%BD%BD%E5%A4%8D%E6%B4%BB%E7%89%88/code/%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%AE%80%E6%98%93%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B%EF%BC%88%E7%9B%B4%E9%93%BE%E4%B8%8B%E8%BD%BD%E5%A4%8D%E6%B4%BB%E7%89%88%EF%BC%89.user.js","uuid":"8636a667-58da-4e1d-9948-2091b5421342","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnmb7luqbnvZHnm5jnroDmmJPkuIvovb3liqnmiYvvvIjnm7Tpk77kuIvovb3lpI3mtLvniYjvvIkKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vYmQuc29mdHhtLmNuL2JkLwovLyBAdmVyc2lvbiAgICAgIDEuNS41Ci8vIEBhbnRpZmVhdHVyZSAgbWVtYmVyc2hpcAovLyBAZGVzY3JpcHRpb24gIOS4gOS4que6r+WHgOWlveeUqOeahOebtOmTvuS4i+i9veWKqeaJi++8jOe7neaXoOWkmuS9memZhOWKoOWKn+iDveOAguWFjVNWSVDkvJrlkZjvvIzlhY3lronoo4XmtY/op4jlmajmianlsZXvvIzml6Dop4bpu5Hlj7fvvIzlj6ropoHkvaDmnInkuKpJRE3miJZBcmlhMu+8jOWwseiDveS6q+WPl+aegemAn+S4i+i9veeahOW/q+aEn++8gQovLyBAaWNvbiAgICAgICAgIGRhdGE6aW1hZ2UvanBlZztiYXNlNjQsLzlqLzRSYzBSWGhwWmdBQVRVMEFLZ0FBQUFnQUJ3RVNBQU1BQUFBQkFBRUFBQUVhQUFVQUFBQUJBQUFBWWdFYkFBVUFBQUFCQUFBQWFnRW9BQU1BQUFBQkFBSUFBQUV4QUFJQUFBQWlBQUFBY2dFeUFBSUFBQUFVQUFBQWxJZHBBQVFBQUFBQkFBQUFxQUFBQU5RQUFBQklBQUFBQVFBQUFFZ0FBQUFCUVdSdlltVWdVR2h2ZEc5emFHOXdJRU5ESURJd01Ua2dLRmRwYm1SdmQzTXBBREl3TWpBNk1EazZNRGtnTURBNk1qYzZOVFlBQUFPZ0FRQURBQUFBQWYvL0FBQ2dBZ0FFQUFBQUFRQUFBR1NnQXdBRUFBQUFBUUFBQUdRQUFBQUFBQUFBQmdFREFBTUFBQUFCQUFZQUFBRWFBQVVBQUFBQkFBQUJJZ0ViQUFVQUFBQUJBQUFCS2dFb0FBTUFBQUFCQUFJQUFBSUJBQVFBQUFBQkFBQUJNZ0lDQUFRQUFBQUJBQUFWK2dBQUFBQUFBQUJJQUFBQUFRQUFBRWdBQUFBQi85ai83UUFNUVdSdlltVmZRMDBBQXYvdUFBNUJaRzlpWlFCa2dBQUFBQUgvMndDRUFBd0lDQWdKQ0F3SkNRd1JDd29MRVJVUERBd1BGUmdURXhVVEV4Z1JEQXdNREF3TUVRd01EQXdNREF3TURBd01EQXdNREF3TURBd01EQXdNREF3TURBd0JEUXNMRFE0TkVBNE9FQlFPRGc0VUZBNE9EZzRVRVF3TURBd01FUkVNREF3TURBd1JEQXdNREF3TURBd01EQXdNREF3TURBd01EQXdNREF3TURBd01EUC9BQUJFSUFLQUFvQU1CSWdBQ0VRRURFUUgvM1FBRUFBci94QUUvQUFBQkJRRUJBUUVCQVFBQUFBQUFBQUFEQUFFQ0JBVUdCd2dKQ2dzQkFBRUZBUUVCQVFFQkFBQUFBQUFBQUFFQUFnTUVCUVlIQ0FrS0N4QUFBUVFCQXdJRUFnVUhCZ2dGQXd3ekFRQUNFUU1FSVJJeEJVRlJZUk1pY1lFeUJoU1JvYkZDSXlRVlVzRmlNelJ5Z3RGREJ5V1NVL0RoOFdOek5SYWlzb01tUkpOVVpFWENvM1EyRjlKVjRtWHlzNFREMDNYajgwWW5sS1NGdEpYRTFPVDBwYlhGMWVYMVZtWjJocGFtdHNiVzV2WTNSMWRuZDRlWHA3ZkgxK2YzRVFBQ0FnRUNCQVFEQkFVR0J3Y0dCVFVCQUFJUkF5RXhFZ1JCVVdGeEloTUZNb0dSRktHeFFpUEJVdEh3TXlSaTRYS0Nra05URldOek5QRWxCaGFpc29NSEpqWEMwa1NUVktNWFpFVlZOblJsNHZLemhNUFRkZVB6UnBTa2hiU1Z4TlRrOUtXMXhkWGw5VlptZG9hV3ByYkcxdWIySnpkSFYyZDNoNWVudDhmLzJnQU1Bd0VBQWhFREVRQS9BT2xTU1NTYUNra2trbEtTU1NTVXBKSUFrd0JKUEFDeGVxZlczcEhUM09xYTQ1dVEzUjFXT1FXdFBoYmtPL1JOL3ExK3E5Sk1ZbVJvQzNhU1hDNVAxNjZ4WWYxYXFqRloyOXB0ZC9uMmxyUC9BQUpVM2ZXMzZ5T00vYlNQNnRWUUgvbnRKbEhMejhBK2pKTHprZld6Nnhnejl1SjhqWFVSL3dDZTFabyt2SFhhaVBXOURKYjNENjloL3dBL0hkWC9BTlFrbzh2UHVDOTZrdWU2ZDlkdWxaUkZlWTEzVDdUcHVlZDlKUDhBeDdSdXEvNjlYLzF4ZEQyQkJCYTRTMXdNZ2c4T2E0ZlNha3h5aktKcVFwU1NTU1MxU1NTU1NsSkpKSktmLzlEcFVra2ttZ3BKSkpKU2t0QUNTUTBBRXVjVEFBR3JuT2Nmb3Rha3VTK3ZIV0hOMjlHb2RBYzBXWnBIY0gzVVkzOXIrZnUvNnlrdWhBeWtBR2w5WS9yWFpubCtGMDU1cndCTGJMaExYMytQOHF2RS9jcituZjhBNGIvUkxuQUFCQUVBY0FKMGtHN0dJaUtDa2tra2x5a2tra2xLV3IwSDZ4NWZSbml2Vy9wNU0yWXZkczgyWXBQODFaL3dmOHpkL3dDQ0xLU1NRWWlRb2l3K3NZK1JqNVdQWGs0dGd1b3VHNnV4dkJIdy9OZTM2TDJmbUlpNFA2bmRaT0RuRHA5enYxVE9jQTJlSzd6N2E3UDZ0LzhBTTIvOWFzWGVJdExKRGdsWFRvcEpKSkpZcEpKSkpULy8wZWxTU1NTYUNra2trbExPZlhXeDF0cGl1dHBlOC95V2plLy9BS0xWNVJrNVZ1YmszWmwzODVrdmRhN3kzR1EzK3czMkwwYjZ5V0dyNnY4QVVYamswRmcvNjRXMC93RFV2WG1xVFo1WWFTUGpTa2tra0d3cEpKUmU0TVk1eDRhQ2Z1U1V1bld2OWFPbFhkSzZoalkxeldzZTdBeEh1YTBiUnZiVU1iSi9yUDhBdEZGajdQNjZ5RWxLU1NTU1VzUklJbUQySTdIeFhxWFNjNzlvOUx4YzAvVHVySHEvOFkzOUZmOEErQ3NldkxsM2YxR3NMdWh2WWY4QUJaTmdId2MydXovcW5Jc1BNQzRnOWorYjBLU1NTVFVVa2tra3AvL1M2VkpKSkpvS1NTU1NVMHV1WS8ycm91ZlFCTG40N3kwZnltRDFtZjhBU3JYbDRJSUJIQjFYcnpRMXpnMTMwWGUxM3dQdGN2SkxLWFk5dG1PNzZWRDNWSCt3NDEvOTlTYlBMSFNROGl4U1RTUEZQUTErVGFLY1Zyc2k1MzBhcVdteDUrRmRRZTVCc0tYUmZVZjZ1djZ6MWRsOXJmOEFKL1Qzc3R5SEhoOWdQcVkrSTM5N2U1dnEzL3VVZjhkV3JmUS84WEhXTTV6YmVxejB6RTBKWjdYWkx4b2RySy9mWGpibS9uMy9BS1JuL2NaZWs0SFQ4THB1SlhoWU5Rb3g2dm9NRW5VNnVlOTd2ZFpZL3dEUHNla2tDM24vQVBHQjlYYnVzOU1abDRqUy9QNmR2ZXl0b2syMVBnNUZEZjhBaFc3R1gwLzhYNlArR1hsRFhCd0RtbVFkUVY3K3VPK3RQK0wyanFkeitvZEplekV6YkNYWFV2a1VYUEo5MWtzbDJMZS8vQ1BZeDlWdjU5ZnFmcFVra2RuekpKWE9wOUY2djBoMjNxZUhiak43V2ticWpQN3VUVnZvL3dDbXFMWHNkOUZ3ZEhnUVVsckplZ2ZVdWowdnEvVStOY2kyMjAvRGQ2RFAralN2UG5IYTB1OEJQM0wxTHBHUDlsNlJnNHgwTldQV0hmMW5OOVIvL1RlaXdjd2ZTQjNMYlNTU1NhcWtra2tsUC8vVDZWSkpKSm9LU1NTU1VwY2E3NnI1M1Z2cmptMFlyV0RIcXVxeXNtMjMrYmF5M1prZWtXZ085V3kvOU0zMHY2L3FMUytzdjFvL1pidnNXQ0cyWjhBMnZlTnpLUVJ1WUN6L0FBbVE5dnUyZlFxWi9PTFYvd0FXL1U3T29kT3ozWlZ4dXptNVFkYzUwQSttNnF0bU1kakdzWXlyOUZkVXorbzlKczh2Q1FQRWRBUTd2L056NnRoMHQ2UmdpREkvVnFwSGgrWXFQMWs2MWI5VjhabVpqNHRObUZkdXBmVldCUy83UzRic1d4ejJleXpGZFhYYlhmOEFvL1hyL1JyZVdaOVkraDBkZTZWWjA2MjMwSEZ6YktidEhiTEdIMnVkWHVidlp0Yyt1eGlEYkkwMGVTNkIvakt6OG5xbEdIMWJIeHhqNVZncGJkamg3SFZ2c095bHoyMjJYTnRwOVQyUCtnOW44NHZRU0lNSGtMZ09nZjR0YzNFNnBSbWRWeWFMS01WN2JtVTQrOXhzZXc3NnZVZGF5cjA2bTJiYkhmem5xZnphNy9uVXBGVWJXWEUvV3Y4QXhnNVBTdXFXZE02WGoxVzJZc0RKdnlOem03M0FXZWpUVlUrditiWTVucVd2cytuL0FJTmRzdUkrdGY4QWkreStxZFVzNnAwdStsanNxSFpOR1FYTUFlME5yOWFtMnRsdjg0eHY2U3A3UCt1SkJVcjZPcDlVdnJYbS9XS1hESHJ4cXNWaGJuKzR1TDczL3dCR2JoamQ3TWYwbVcyWkgybG4wLzBGUCtFdFd2ZDBUb2VRV25JNmJpWEZ1alRaajFPZ2VEWllzejZvL1YvRytydlQ3S241TmQrWGxQRm1UYTF3REphTmxWTkljZDNwMWU3M3Yvbkh2VytoZlpRaWVvKzE4byt0ZjFOenVuOVROMVRhMzlNNmpsaXVnMGpaNlBydi9SNHRsSCtEYXhydlRwc3EvUSt6L0EvemE3WjhienQraURBK0E0UlByeG1Od3Zxdm1YZW9LN2lhbTRoMG4xeFpYYlI2WWY4QVNmVjZmci95R1Yrb3VUK3JuMXRmbTVET245VERSa1duYmo1TEJ0RDNmNkc2c2V4bHIvOEFCV1YreXorYjlOT0RXNW1CTkViUmVuU1NTU2Fpa2tra2xQOEEvOVRwVWtra21ncE8wZ0hjN1ZyZFNQSWU1TW5hWWNERWdjanhTVStTV1gyWk50bVRhZDF0NzNXdmNlN25uZVVicC9VYy9wbVczTTZmZTdHeVdndDlSc0dXdStsWFpXOE9ydHFkdCtoWTFUNnYwMnpwWFVyc0o0T3hwMzBPN1BwY1Q2TDIvd0RudC84QXdyRlVRZEFFRUFqYm85cDBuL0diMVJ2VWFUMWtVZnM4blpjNmlvc2N6ZEczSi9uTFhXTnAvd0FKVzMvQmVwL3dhNzV2VGVuV3RGdFkzc3RHOWoyUDNOYzEzdWErdHduY3gvNXE4TUpEUko0QzlIK3JWWFhlZzlMeG0xemx0Y0MvSjZWYThNTlllWE9hT25YdTlsTnpXdVo2K0pmK3JXMjcvVHN4N1VERVMzQVBtdUdjNC8wakhpMDBlM3JZeXV0dGJCREdDR2puUUt2alp6TDh6Tnc5aFpaZ3VyQmt6dnJ1cmJkVmtOMGJ0cmMvMXNmL0FJekhzUU9uZGY2VDFGL28wWGlyTEdqOEhJSG81TFRBZERzYTdhOS9QODVUNnRYL0FBaW4xRG90R2JkWGxiN3NMT3BhV1ZadU00VjJpc2tXT29mdmJaVGtZN250Mytqa1ZXcy8wYVZMaWIxQnUyWFUrb3M2ZGpzdWN6MWJMcjZzYWlrT0RYV1dYUGJXR01jNy9SczlTOS8vQUFWTml0dUFNdFB1YVpCOENEb3MvRTZGWFRtdHo4bkl5ZXBadGJYTW91eWkwaWxyeHR0K3k0K05YUmpVdnRiN0xML1M5ZlorajlYMDFMcVBXK2xkTmQ2ZVhrTkdRZm9ZbFlOdVE4a1MwVjRkRy9JZC9tYkVWWFdwMFMvczNwOGEwdGdEV1NZai9PWEJkZS94a1o5ZlZYVjlCZFE3QW9iNmUrMnYxRzNQa2JyNi9kVTlsVlczMGFQZnN0L1NXLzZGYTNXLzJ4OVlNSytqYzdwbU8rcDRvd3R6VGJjOC93QTMrMDdxeSt1bWgwYlBzT08vL0NmcmQvOEFnRjVpUTVyaXg3U3g3Q1d2WTRRV3VhZHIyT0g3ekhJQ0lHd0E4bHB6ZTVweEdYRDNOdDdySFhPcWRieVc1UFVydlZkVUMybXRyUXl1c09PNTRwcWIrLzhBbjJQMzNQOEE5SXFCTGdOelR0YzMzTmNPUVI3bXUvc3VUbzJIZzM5UXk2c0hHRTI1QjJnOW10L3d0ei8rRHBaNzNvbzIxTDZqaTN1eWNUSHlYQ0hYMVYydUhtOXJYdS82VGtWUlpXeXBqS3EvNXVwcldNbjkxZ0RHL3dEUmFwSXVjcEpKSkpUL0FQL1Y2VGMzeENXNXZpRnU3V2Z1Ti96Ui9jbHRaKzQzL05IOXlUQjkyUDczNE9GdWI0aExjM3hDM2RqUDNHLzVvV2JmOVkvcTVRekhzT1pqM056TGhqWTMyZmJlWDJraHV4cmFOLzBON1BVZi9Mci9BTkl4SlgzWS92Zmc1UFUrbDlPNnJRS00xbTdaSnF0YWR0bFpQMGpWWi9LL1ByZCtqZXVidCtvQjMvb09wTjlQL2hhZmNQOEF0cTNZNWVtV3RycGE1OXdaWFhXSE9lOTRBYTFyUnVlOXpqK1l4cXBkSTZ2MHJyZUljM3BqeGZqdHNkVVhtc3M5N05ybmUyMXJYZlJzWTVKZEhIT09nbitEeW5TUHFuMHZwbHJjbDd6bVpURE5kbGdEV01JL1Bxb2J1L1NmOEphK3hiZTRlSSs5YnUxbjdqZjgwZjNLc3pxUFNyT3BPNlN5K2gzVVdOM3V4QkJzRGY1V20zZHJ2OVBkNm16OUlraVdDVWpabmYwY1hMeGNITnJGZWJSVmxNYjlGdHpXdjJ6KzRYZTZ2K3dxN2VrNHRiZG1OazV1SXlaMlkrYmtNYlA5UjF0alZxWm4xcCtyK0owbS9xNHVabDRtUGI5bmQ5bWExN25YU1AwRlcvMDJQZHRkNm03ZjZmcExZZFd3R05qZjgwZjNKS0dHUTJuWGs4b2VsMFBhV1g1bWZrc0pCTExzN0ljMlJyOUN1MnBIeE1UQndXT1poVVZZelgvVDlKb2FYZjhBR1A4QTV5ei9BSzQ5ZEh0Wis0My9BRFIvY3FQVXVzOUo2WGtZT05tdUZkM1VyZlF4V2l2ZExwYTNjK0IranIzMlZNMy9BUENKS09HUjNtVDV0Q1crSVdSMWo2czlMNnRZY2g3blkyV2ZwWkZVSGZHZzllbC9zdGQvd242TzFkb1dNQmdzYkkva2orNUxhejl4dithUDdrbFJ3U2liRTYrajVrMzZnUDMrL3FUUFQvazBuZkg5cTdZdWg2UjBYcHZTS25OeEFYVzJDTGNpd2cyUEExMjZRMnVyL2dxMTBqTTNwMW1kYjA2dTJsMmRqc2JiZmpBQXZZeDJqWFA5djhwbnQrbitrci9mVTh2SXhNTEV1emNyYlhqNHpEYmMvYUREVzh3MW8zT2NrdWxqbklVWjZlVGo3bStJUzNOOFF0ZkR5Y1BPeEtjM0YyMlkrU3dXVlAyQUV0ZDR0Y1BhamJXZnVOL3pSL2Nrcys3SDk3OEhDM044UWx1YjRoYnUxbjdqZjgwZjNKYldmdU4velIvY2tyN3NmM3Z3Zi8vVzlDU1NTUVN1SkpnYWs2UjR5dkluZEM2RGQxNzZ4ZFlBdjZmMFBvVHdLdnNidzJ3NUljMm10dUxiYTI1ckcyWk5kdG4vQUFIcTQvOEFnMTY2MGtPQkdwQkJDOHQrczJCYjB5dks2Vmo5WndIOUk2djFSajhpdHptdXlzZXl4Mjk3NzJOT3o3UGorbCttM3Y4QThIL2d2VnNSVTNQcld5L3BuMWZ4T2o5TnlPb1puVXZyTDZSZFJtM20rNWxJRGJIWTdHczlObExyTHJXVTJlMzlLeXE1Wi8xZDYzOWRPbGRHdnF4S01UN0gwTzl1SmJpdllYMjM1Rjl6cTMwNDlsUHFldmtOc2Y3L0FFcmEvd0JINlhwK291a0daMFhGd3VwZld4blZIOWU2dDBySE9NTTZ4Z2JUWGRZUFRwWmhVVlZWME1iYmJiNzMxVzVINlAxUDBuNlZFK292UjhVL1Z6b3VTeDdiYVdPdXpuaU5YNXJpN0ZaYlp1RHY2QlQ2dFRQZDc3dlN1L3dTU25RK3VuMWh0K3J2MWZ0enEyN00yMHR4OFp1and5NTdYUGM5eFB0ZjltWXl4elBaK2t0OU5jSCt4TS82dmRDWmU5cnIvclY5YUhISHgyRXpaVlJZQS9LZnVmOEE5cThuMWE2N3JIL3pQci96bjg4dlNQckQwcXJxL1JNM0JmUXpJc2ZSYWNVV0NkdDRyZjhBWjdhL3ptV05lZnBNV1RaYjlaTHVrOUQ2cDBERDZmbldOd2FwKzFrL2FHT3NyWTI5dUprZXJSVXhqdG5wMi9wUFY5UkpUeCtiMGY2emRGd09rL1Z2SzZaaTVXS2VxVjVGTjJQY0FjcTJIQjJQYTYxMzZQZFUvd0JMMTdNZXIwNjJWTDB2cGVaMWJNcnN0NnAwMzlsV2g4TXErME15ZDdTTnpyTjFEVytsdGQ3ZGoxeGZXZXBmWFMvcVhRL3RmMWVycXVvekhXNHRUY2xoRjFqYTkzcDcvVWY2V3hqZlYzdmN1cTZKbS9XWExzdC9iWFNxZWwwdGFEU1dYaTZ4enAraTZ1czJOMmJOM3Y4QTBhU21mWC9ySDByNnU0YmN6cVZqZ0xIYkthYXdIVzJPL1A4QVNyYzZ2MlZOOTF0ajM3UCt1V1ZybS9ySlgrMFA4WVAxVXFFbXIweGxzYTZXd0d2c3k5em1PK2cvYmpzM3RSajlXdW85ZCt1TjNWdXZVK24wcnBqelYwdkVjUVJjSzNUWGtPWVBwWTlydjFtM2YvUGZvNlA1bXRXZXBVbTMvR1YwVzRrL29zREpmOFQrczE2Lzl2SktlaHhNL0V6aGU3RnM5WDdMZlppNUdoYnR1cWoxcXZlRy9SM2ZUV1o5YS9yTGI5V3NDdnFEY0IrZldiTmxwYTdZeW9SK2pmYzdaYi9PMmZvMmUzWi93bjBFUjJIbGRONnRsZFJ3cUhaZUwxSU1PYmkxRnJiV1pGUU5kZVpqdHZzb3g3SzhtaytubU0zMTIrcFg5by9TTE8veGt2dVo5U2M3WTJON3FHMnhydGFiV09kN2gvd2phNjBsUERmVlA2M1lmU1hQNmhrM01zNnIxYnFEUjFLMjJ0N3ZUd2dmV3lMYTNWTi9uc2k2eDN0cjlUK1ovbWx0Zlh5NzYzczZMbDJXWmVKbC9WL3FiNmppa005TEliWFk1dVRpMGlzc3BmOEFScjkrL3dCWit4VnFMZWlZZjFoK3FSeEsyM05yNllYNUF3bU50dWZrUHB1ajJVQXYrMS9hUG91dS9tYlAwbjZQOUloL1hIcG1YMDBZT05sL1dIT3VvdXlhYmI2c3BweURodGZ2OVBJeU1pdTZ4dGxyUDAzbzAxN1B0WG9aRmxTU0h1UHF0aS9XWER3VzRYVzY4S3FuRXFyb3cyWWhlYklyR3h6c2h6blBxOXpmN2ZxcmJXRjBQb1BWY1BLL2FHYjlZY25yRmRsZjZPdUF6R2MxNDlsMnoxY2hsbjc5VmxYcHJkU1NwSkpKQlQvLzEvUWtsbGZiOHo5OGY1cmYvSXBmYjh6OThmNXJmL0lwTVgzaUhhWDh2cTZvSkJrY2hjcjladnFUMDdOYlhuZEw2ZGpIcVZlWFRmWXh4OU91K3NQL0FGbW0rWGVpMWxtLzFiZjBlOSt4YXYyL00vZkgrYTMvQU1pbDl2elAzeC9tdC84QUlwSys4UTdTL2w5VnV1ZENxejhmcC9UTVd1dWpwZE9heS9Mb3JhMWpEUlVMTFcwTm9ic2E3MThqMDJ2L0FNOVRxd2MzcCtYazJkT1pYZGg1MWh5TE1XMncxR25JZkhyM1VXK25kdnhjbVBWdXgvNXltLzhBbVA1MVIrMzVuNzQvelcvK1JTKzM1bjc0L3dBMXYva1VsZmVJZHBmaC9GMWdkcnBiMk1nL0JVZWtkTy9aZUdjRmoydng2N2JYWWpRMGcxMDJPTjdNWjVjNS9xZWcreXhsYi84QVErbXEvd0J2elAzeC9tdC84aWw5dnpQM3gvbXQvd0RJcEsrOFE3Uy9sL2hNdXM0V1pmbWRIeThPdGxyOEROOVM1cjNiQUtiSzM0OTFvUDU3cWR6WCtrMzMyTFQwN2NkbGxmYjh6OThmNXJmL0FDS1gyL00vZkgrYTMveUtTdnZFTzB2dy9pNnF5TGVsZFJzK3RtTjFaOWxKNmZqWWx0TmJBMHR2Rmx1ME9yczFjMjJyL0RWMnQyYlA1cjAvOEpaTDdmbWZ2ai9OYi81Rkw3Zm1mdmovQURXLytSU1Y5NGgybC9MNnVxbzJWMVhWdnF1WTIycXdGdGxkalE1am1uNlRIc2ZMWHRXWjl2elAzeC9tdC84QUlwZmI4ejk4ZjVyZi9JcEsrOFE3Uy9EK0tBL1ZQcGxQVituOVM2YlRUMDl1R3pKcnlLOGRucHZ0YmZYNlZUbTIxbjIyWTltNTI5LzloVDZqMFF2ZjBtdkJxYUtjWHFWZWRtM1BzSnVkNmJMV2VyWSszZmJtV1diMnNlNTl2cWZ6ZGV6MHY1a24yL00vZkgrYTMveUtYMi9NL2ZIK2EzL3lLU3Z2RU8wdjVmVnRZblNlbllUZzdEcCt6dEJjVzAxdnNGRFMvd0RuSFZZZnFmWkt0LzhBd2RLdHJLKzM1bjc0L3dBMXYva1V2dCtaKytQODF2OEE1RkpYM2lIYVg0ZnhkVkpaWDIvTS9mSCthMy95S1gyL00vZkgrYTMvQU1pa3I3eER0TCtYMWYvUTZWSkpKSm9LU1NTU1VwSkpKSlNra2trbEtTU1NTVXBKSkpKU2tra2tsS1NTU1NVcEpKSkpTa2tra2xQLzJmL2hFdEZvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2QUR3L2VIQmhZMnRsZENCaVpXZHBiajBpNzd1L0lpQnBaRDBpVnpWTk1FMXdRMlZvYVVoNmNtVlRlazVVWTNwcll6bGtJajgrSUR4NE9uaHRjRzFsZEdFZ2VHMXNibk02ZUQwaVlXUnZZbVU2Ym5NNmJXVjBZUzhpSUhnNmVHMXdkR3M5SWtGa2IySmxJRmhOVUNCRGIzSmxJRFV1Tmkxak1UUTFJRGM1TGpFMk16UTVPU3dnTWpBeE9DOHdPQzh4TXkweE5qbzBNRG95TWlBZ0lDQWdJQ0FnSWo0Z1BISmtaanBTUkVZZ2VHMXNibk02Y21SbVBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1THpBeUx6SXlMWEprWmkxemVXNTBZWGd0Ym5NaklqNGdQSEprWmpwRVpYTmpjbWx3ZEdsdmJpQnlaR1k2WVdKdmRYUTlJaUlnZUcxc2JuTTZlRzF3UFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzaGhjQzh4TGpBdklpQjRiV3h1Y3pwa1l6MGlhSFIwY0RvdkwzQjFjbXd1YjNKbkwyUmpMMlZzWlcxbGJuUnpMekV1TVM4aUlIaHRiRzV6T25odGNFMU5QU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2YlcwdklpQjRiV3h1Y3pwemRFVjJkRDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDNOVWVYQmxMMUpsYzI5MWNtTmxSWFpsYm5RaklpQjRiV3h1Y3pwemRGSmxaajBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDNOVWVYQmxMMUpsYzI5MWNtTmxVbVZtSXlJZ2VHMXNibk02Y0dodmRHOXphRzl3UFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzQm9iM1J2YzJodmNDOHhMakF2SWlCNGJYQTZRM0psWVhSdmNsUnZiMnc5SWtGa2IySmxJRkJvYjNSdmMyaHZjQ0JEUXlBeU1ERTVJQ2hYYVc1a2IzZHpLU0lnZUcxd09rTnlaV0YwWlVSaGRHVTlJakl3TWpBdE1Ea3RNRGhVTWpNNk1ESTZOVEVyTURnNk1EQWlJSGh0Y0RwTlpYUmhaR0YwWVVSaGRHVTlJakl3TWpBdE1Ea3RNRGxVTURBNk1qYzZOVFlyTURnNk1EQWlJSGh0Y0RwTmIyUnBabmxFWVhSbFBTSXlNREl3TFRBNUxUQTVWREF3T2pJM09qVTJLekE0T2pBd0lpQmtZenBtYjNKdFlYUTlJbWx0WVdkbEwycHdaV2NpSUhodGNFMU5Pa2x1YzNSaGJtTmxTVVE5SW5odGNDNXBhV1E2Tm1KbFl6UmtaVE10T0RWaFpDMDJOelF3TFdFMU9XVXRPVGsyWWprME9UUmpZVGt4SWlCNGJYQk5UVHBFYjJOMWJXVnVkRWxFUFNKaFpHOWlaVHBrYjJOcFpEcHdhRzkwYjNOb2IzQTZPREF6T1dWaE16TXRNVFEzTlMwMFlUUmlMV0l6T0RBdE9ETmxOamRsTmpZME5ERXdJaUI0YlhCTlRUcFBjbWxuYVc1aGJFUnZZM1Z0Wlc1MFNVUTlJbmh0Y0M1a2FXUTZZakk0WXprMFpHVXROakV5T1MwMllqUmlMVGcwWVdNdFltVXlOMlEzTWpGaE4yTTNJaUJ3YUc5MGIzTm9iM0E2UTI5c2IzSk5iMlJsUFNJeklqNGdQSGh0Y0UxTk9raHBjM1J2Y25rK0lEeHlaR1k2VTJWeFBpQThjbVJtT214cElITjBSWFowT21GamRHbHZiajBpWTNKbFlYUmxaQ0lnYzNSRmRuUTZhVzV6ZEdGdVkyVkpSRDBpZUcxd0xtbHBaRHBpTWpoak9UUmtaUzAyTVRJNUxUWmlOR0l0T0RSaFl5MWlaVEkzWkRjeU1XRTNZemNpSUhOMFJYWjBPbmRvWlc0OUlqSXdNakF0TURrdE1EaFVNak02TURJNk5URXJNRGc2TURBaUlITjBSWFowT25OdlpuUjNZWEpsUVdkbGJuUTlJa0ZrYjJKbElGQm9iM1J2YzJodmNDQkRReUF5TURFNUlDaFhhVzVrYjNkektTSXZQaUE4Y21SbU9teHBJSE4wUlhaME9tRmpkR2x2YmowaWMyRjJaV1FpSUhOMFJYWjBPbWx1YzNSaGJtTmxTVVE5SW5odGNDNXBhV1E2T1RKaU1UTXdPRFl0TlRBelpDMDNZalJtTFRnNU1ESXRNRGs0TXpWbFltRTRNVFU1SWlCemRFVjJkRHAzYUdWdVBTSXlNREl3TFRBNUxUQTRWREl6T2pVeE9qTTNLekE0T2pBd0lpQnpkRVYyZERwemIyWjBkMkZ5WlVGblpXNTBQU0pCWkc5aVpTQlFhRzkwYjNOb2IzQWdRME1nTWpBeE9TQW9WMmx1Wkc5M2N5a2lJSE4wUlhaME9tTm9ZVzVuWldROUlpOGlMejRnUEhKa1pqcHNhU0J6ZEVWMmREcGhZM1JwYjI0OUluTmhkbVZrSWlCemRFVjJkRHBwYm5OMFlXNWpaVWxFUFNKNGJYQXVhV2xrT2pabU1XRm1PRGN3TFRrMFlqa3RaalUwTVMwNU5UVTNMVFJqWTJWbVpXRTVaR0UxWXlJZ2MzUkZkblE2ZDJobGJqMGlNakF5TUMwd09TMHdPVlF3TURveU56bzFOaXN3T0Rvd01DSWdjM1JGZG5RNmMyOW1kSGRoY21WQloyVnVkRDBpUVdSdlltVWdVR2h2ZEc5emFHOXdJRU5ESURJd01Ua2dLRmRwYm1SdmQzTXBJaUJ6ZEVWMmREcGphR0Z1WjJWa1BTSXZJaTgrSUR4eVpHWTZiR2tnYzNSRmRuUTZZV04wYVc5dVBTSmpiMjUyWlhKMFpXUWlJSE4wUlhaME9uQmhjbUZ0WlhSbGNuTTlJbVp5YjIwZ1lYQndiR2xqWVhScGIyNHZkbTVrTG1Ga2IySmxMbkJvYjNSdmMyaHZjQ0IwYnlCcGJXRm5aUzlxY0dWbklpOCtJRHh5WkdZNmJHa2djM1JGZG5RNllXTjBhVzl1UFNKa1pYSnBkbVZrSWlCemRFVjJkRHB3WVhKaGJXVjBaWEp6UFNKamIyNTJaWEowWldRZ1puSnZiU0JoY0hCc2FXTmhkR2x2Ymk5MmJtUXVZV1J2WW1VdWNHaHZkRzl6YUc5d0lIUnZJR2x0WVdkbEwycHdaV2NpTHo0Z1BISmtaanBzYVNCemRFVjJkRHBoWTNScGIyNDlJbk5oZG1Wa0lpQnpkRVYyZERwcGJuTjBZVzVqWlVsRVBTSjRiWEF1YVdsa09qWmlaV00wWkdVekxUZzFZV1F0TmpjME1DMWhOVGxsTFRrNU5tSTVORGswWTJFNU1TSWdjM1JGZG5RNmQyaGxiajBpTWpBeU1DMHdPUzB3T1ZRd01Eb3lOem8xTmlzd09Eb3dNQ0lnYzNSRmRuUTZjMjltZEhkaGNtVkJaMlZ1ZEQwaVFXUnZZbVVnVUdodmRHOXphRzl3SUVORElESXdNVGtnS0ZkcGJtUnZkM01wSWlCemRFVjJkRHBqYUdGdVoyVmtQU0l2SWk4K0lEd3ZjbVJtT2xObGNUNGdQQzk0YlhCTlRUcElhWE4wYjNKNVBpQThlRzF3VFUwNlJHVnlhWFpsWkVaeWIyMGdjM1JTWldZNmFXNXpkR0Z1WTJWSlJEMGllRzF3TG1scFpEbzJaakZoWmpnM01DMDVOR0k1TFdZMU5ERXRPVFUxTnkwMFkyTmxabVZoT1dSaE5XTWlJSE4wVW1WbU9tUnZZM1Z0Wlc1MFNVUTlJbmh0Y0M1a2FXUTZZakk0WXprMFpHVXROakV5T1MwMllqUmlMVGcwWVdNdFltVXlOMlEzTWpGaE4yTTNJaUJ6ZEZKbFpqcHZjbWxuYVc1aGJFUnZZM1Z0Wlc1MFNVUTlJbmh0Y0M1a2FXUTZZakk0WXprMFpHVXROakV5T1MwMllqUmlMVGcwWVdNdFltVXlOMlEzTWpGaE4yTTNJaTgrSUR4d2FHOTBiM05vYjNBNlZHVjRkRXhoZVdWeWN6NGdQSEprWmpwQ1lXYytJRHh5WkdZNmJHa2djR2h2ZEc5emFHOXdPa3hoZVdWeVRtRnRaVDBpNkwydjVMdTI1YkNQNWFhNUlpQndhRzkwYjNOb2IzQTZUR0Y1WlhKVVpYaDBQU0xvdmEva3U3YmxzSS9scHJraUx6NGdQQzl5WkdZNlFtRm5QaUE4TDNCb2IzUnZjMmh2Y0RwVVpYaDBUR0Y1WlhKelBpQThjR2h2ZEc5emFHOXdPa1J2WTNWdFpXNTBRVzVqWlhOMGIzSnpQaUE4Y21SbU9rSmhaejRnUEhKa1pqcHNhVDU0YlhBdVpHbGtPakJtWVdVek1EZzVMVGN5WVRJdE1UTTBNeTA1WVRWakxUUXlObVE1TldFeU56WTFNVHd2Y21SbU9teHBQaUE4Y21SbU9teHBQbmh0Y0M1a2FXUTZZbU5tTlRRNU9ESXRPVFZpTnkwMVpqUXdMVGcxTlRRdFkyRmxNVEU1WmpBeU9EVmtQQzl5WkdZNmJHaytJRHd2Y21SbU9rSmhaejRnUEM5d2FHOTBiM05vYjNBNlJHOWpkVzFsYm5SQmJtTmxjM1J2Y25NK0lEd3ZjbVJtT2tSbGMyTnlhWEIwYVc5dVBpQThMM0prWmpwU1JFWStJRHd2ZURwNGJYQnRaWFJoUGlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHcvZUhCaFkydGxkQ0JsYm1ROUluY2lQejcvN1I4c1VHaHZkRzl6YUc5d0lETXVNQUE0UWtsTkJDVUFBQUFBQUJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT0VKSlRRUTZBQUFBQUFEWEFBQUFFQUFBQUFFQUFBQUFBQXR3Y21sdWRFOTFkSEIxZEFBQUFBVUFBQUFBVUhOMFUySnZiMndCQUFBQUFFbHVkR1ZsYm5WdEFBQUFBRWx1ZEdVQUFBQUFTVzFuSUFBQUFBOXdjbWx1ZEZOcGVIUmxaVzVDYVhSaWIyOXNBQUFBQUF0d2NtbHVkR1Z5VG1GdFpWUkZXRlFBQUFBQkFBQUFBQUFQY0hKcGJuUlFjbTl2WmxObGRIVndUMkpxWXdBQUFBVm9JV2czaTc1L2JnQUFBQUFBQ25CeWIyOW1VMlYwZFhBQUFBQUJBQUFBQUVKc2RHNWxiblZ0QUFBQURHSjFhV3gwYVc1UWNtOXZaZ0FBQUFsd2NtOXZaa05OV1VzQU9FSkpUUVE3QUFBQUFBSXRBQUFBRUFBQUFBRUFBQUFBQUJKd2NtbHVkRTkxZEhCMWRFOXdkR2x2Ym5NQUFBQVhBQUFBQUVOd2RHNWliMjlzQUFBQUFBQkRiR0p5WW05dmJBQUFBQUFBVW1kelRXSnZiMndBQUFBQUFFTnlia05pYjI5c0FBQUFBQUJEYm5SRFltOXZiQUFBQUFBQVRHSnNjMkp2YjJ3QUFBQUFBRTVuZEhaaWIyOXNBQUFBQUFCRmJXeEVZbTl2YkFBQUFBQUFTVzUwY21KdmIyd0FBQUFBQUVKamEyZFBZbXBqQUFBQUFRQUFBQUFBQUZKSFFrTUFBQUFEQUFBQUFGSmtJQ0JrYjNWaVFHL2dBQUFBQUFBQUFBQUFSM0p1SUdSdmRXSkFiK0FBQUFBQUFBQUFBQUJDYkNBZ1pHOTFZa0J2NEFBQUFBQUFBQUFBQUVKeVpGUlZiblJHSTFKc2RBQUFBQUFBQUFBQUFBQUFBRUpzWkNCVmJuUkdJMUpzZEFBQUFBQUFBQUFBQUFBQUFGSnpiSFJWYm5SR0kxQjRiRUJTQUFBQUFBQUFBQUFBQ25abFkzUnZja1JoZEdGaWIyOXNBUUFBQUFCUVoxQnpaVzUxYlFBQUFBQlFaMUJ6QUFBQUFGQm5VRU1BQUFBQVRHVm1kRlZ1ZEVZalVteDBBQUFBQUFBQUFBQUFBQUFBVkc5d0lGVnVkRVlqVW14MEFBQUFBQUFBQUFBQUFBQUFVMk5zSUZWdWRFWWpVSEpqUUZrQUFBQUFBQUFBQUFBUVkzSnZjRmRvWlc1UWNtbHVkR2x1WjJKdmIyd0FBQUFBRG1OeWIzQlNaV04wUW05MGRHOXRiRzl1WndBQUFBQUFBQUFNWTNKdmNGSmxZM1JNWldaMGJHOXVad0FBQUFBQUFBQU5ZM0p2Y0ZKbFkzUlNhV2RvZEd4dmJtY0FBQUFBQUFBQUMyTnliM0JTWldOMFZHOXdiRzl1WndBQUFBQUFPRUpKVFFQdEFBQUFBQUFRQUVnQUFBQUJBQUVBU0FBQUFBRUFBVGhDU1UwRUpnQUFBQUFBRGdBQUFBQUFBQUFBQUFBL2dBQUFPRUpKVFFRTkFBQUFBQUFFQUFBQVdqaENTVTBFR1FBQUFBQUFCQUFBQUI0NFFrbE5BL01BQUFBQUFBa0FBQUFBQUFBQUFBRUFPRUpKVFNjUUFBQUFBQUFLQUFFQUFBQUFBQUFBQVRoQ1NVMEQ5UUFBQUFBQVNBQXZabVlBQVFCc1ptWUFCZ0FBQUFBQUFRQXZabVlBQVFDaG1ab0FCZ0FBQUFBQUFRQXlBQUFBQVFCYUFBQUFCZ0FBQUFBQUFRQTFBQUFBQVFBdEFBQUFCZ0FBQUFBQUFUaENTVTBEK0FBQUFBQUFjQUFBLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy93UG9BQUFBQVAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vOEQ2QUFBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9BK2dBQUFBQS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vd1BvQUFBNFFrbE5CQUFBQUFBQUFBSUFBemhDU1UwRUFnQUFBQUFBQ0FBQUFBQUFBQUFBT0VKSlRRUXdBQUFBQUFBRUFRRUJBVGhDU1UwRUxRQUFBQUFBQmdBQkFBQUFEVGhDU1UwRUNBQUFBQUFBRUFBQUFBRUFBQUpBQUFBQ1FBQUFBQUE0UWtsTkJCNEFBQUFBQUFRQUFBQUFPRUpKVFFRYUFBQUFBQU05QUFBQUJnQUFBQUFBQUFBQUFBQUJMQUFBQVN3QUFBQUVqMjlPOWx3UFdia0FBQUFCQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFFQUFBQUFBQUFBQUFBQUFTd0FBQUVzQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBRUFBQUFBRUFBQUFBQUFCdWRXeHNBQUFBQWdBQUFBWmliM1Z1WkhOUFltcGpBQUFBQVFBQUFBQUFBRkpqZERFQUFBQUVBQUFBQUZSdmNDQnNiMjVuQUFBQUFBQUFBQUJNWldaMGJHOXVad0FBQUFBQUFBQUFRblJ2Yld4dmJtY0FBQUVzQUFBQUFGSm5hSFJzYjI1bkFBQUJMQUFBQUFaemJHbGpaWE5XYkV4ekFBQUFBVTlpYW1NQUFBQUJBQUFBQUFBRmMyeHBZMlVBQUFBU0FBQUFCM05zYVdObFNVUnNiMjVuQUFBQUFBQUFBQWRuY205MWNFbEViRzl1WndBQUFBQUFBQUFHYjNKcFoybHVaVzUxYlFBQUFBeEZVMnhwWTJWUGNtbG5hVzRBQUFBTllYVjBiMGRsYm1WeVlYUmxaQUFBQUFCVWVYQmxaVzUxYlFBQUFBcEZVMnhwWTJWVWVYQmxBQUFBQUVsdFp5QUFBQUFHWW05MWJtUnpUMkpxWXdBQUFBRUFBQUFBQUFCU1kzUXhBQUFBQkFBQUFBQlViM0FnYkc5dVp3QUFBQUFBQUFBQVRHVm1kR3h2Ym1jQUFBQUFBQUFBQUVKMGIyMXNiMjVuQUFBQkxBQUFBQUJTWjJoMGJHOXVad0FBQVN3QUFBQURkWEpzVkVWWVZBQUFBQUVBQUFBQUFBQnVkV3hzVkVWWVZBQUFBQUVBQUFBQUFBQk5jMmRsVkVWWVZBQUFBQUVBQUFBQUFBWmhiSFJVWVdkVVJWaFVBQUFBQVFBQUFBQUFEbU5sYkd4VVpYaDBTWE5JVkUxTVltOXZiQUVBQUFBSVkyVnNiRlJsZUhSVVJWaFVBQUFBQVFBQUFBQUFDV2h2Y25wQmJHbG5ibVZ1ZFcwQUFBQVBSVk5zYVdObFNHOXlla0ZzYVdkdUFBQUFCMlJsWm1GMWJIUUFBQUFKZG1WeWRFRnNhV2R1Wlc1MWJRQUFBQTlGVTJ4cFkyVldaWEowUVd4cFoyNEFBQUFIWkdWbVlYVnNkQUFBQUF0aVowTnZiRzl5Vkhsd1pXVnVkVzBBQUFBUlJWTnNhV05sUWtkRGIyeHZjbFI1Y0dVQUFBQUFUbTl1WlFBQUFBbDBiM0JQZFhSelpYUnNiMjVuQUFBQUFBQUFBQXBzWldaMFQzVjBjMlYwYkc5dVp3QUFBQUFBQUFBTVltOTBkRzl0VDNWMGMyVjBiRzl1WndBQUFBQUFBQUFMY21sbmFIUlBkWFJ6WlhSc2IyNW5BQUFBQUFBNFFrbE5CQ2dBQUFBQUFBd0FBQUFDUC9BQUFBQUFBQUE0UWtsTkJCRUFBQUFBQUFFQkFEaENTVTBFRkFBQUFBQUFCQUFBQUEwNFFrbE5CQXdBQUFBQUZoWUFBQUFCQUFBQW9BQUFBS0FBQUFIZ0FBRXNBQUFBRmZvQUdBQUIvOWovN1FBTVFXUnZZbVZmUTAwQUF2L3VBQTVCWkc5aVpRQmtnQUFBQUFILzJ3Q0VBQXdJQ0FnSkNBd0pDUXdSQ3dvTEVSVVBEQXdQRlJnVEV4VVRFeGdSREF3TURBd01FUXdNREF3TURBd01EQXdNREF3TURBd01EQXdNREF3TURBd01EQXdCRFFzTERRNE5FQTRPRUJRT0RnNFVGQTRPRGc0VUVRd01EQXdNRVJFTURBd01EQXdSREF3TURBd01EQXdNREF3TURBd01EQXdNREF3TURBd01EQXdNRFAvQUFCRUlBS0FBb0FNQklnQUNFUUVERVFILzNRQUVBQXIveEFFL0FBQUJCUUVCQVFFQkFRQUFBQUFBQUFBREFBRUNCQVVHQndnSkNnc0JBQUVGQVFFQkFRRUJBQUFBQUFBQUFBRUFBZ01FQlFZSENBa0tDeEFBQVFRQkF3SUVBZ1VIQmdnRkF3d3pBUUFDRVFNRUlSSXhCVUZSWVJNaWNZRXlCaFNSb2JGQ0l5UVZVc0ZpTXpSeWd0RkRCeVdTVS9EaDhXTnpOUmFpc29NbVJKTlVaRVhDbzNRMkY5SlY0bVh5czRURDAzWGo4MFlubEtTRnRKWEUxT1QwcGJYRjFlWDFWbVoyaHBhbXRzYlc1dlkzUjFkbmQ0ZVhwN2ZIMStmM0VRQUNBZ0VDQkFRREJBVUdCd2NHQlRVQkFBSVJBeUV4RWdSQlVXRnhJaE1GTW9HUkZLR3hRaVBCVXRId015Umk0WEtDa2tOVEZXTnpOUEVsQmhhaXNvTUhKalhDMGtTVFZLTVhaRVZWTm5SbDR2S3poTVBUZGVQelJwU2toYlNWeE5UazlLVzF4ZFhsOVZabWRvYVdwcmJHMXViMkp6ZEhWMmQzaDVlbnQ4Zi8yZ0FNQXdFQUFoRURFUUEvQU9sU1NTU2FDa2tra2xLU1NTU1VwSklBa3dCSlBBQ3hlcWZXM3BIVDNPcWE0NXVRM1IxV09RV3RQaGJrTy9STi9xMStxOUpNWW1Sb0MzYVNYQzVQMTY2eFlmMWFxakZaMjlwdGQvbjJsclAvQUFKVTNmVzM2eU9NL2JTUDZ0VlFIL250SmxITHo4QStqSkx6a2ZXejZ4Z3o5dUo4alhVUi93Q2UxWm8rdkhYYWlQVzlESmIzRDY5aC93QS9IZFgvQU5Ra284dlB1Qzk2a3VlNmQ5ZHVsWlJGZVkxM1Q3VHB1ZWQ5SlA4QXg3UnVxLzY5WC8xeGREMkJCQmE0UzF3TWdnOE9hNGZTYWt4eWpLSnFRcFNTU1NTMVNTU1NTbEpKSkpLZi85RHBVa2trbWdwSkpKSlNrdEFDU1EwQUV1Y1RBQUdybk9jZm90YWt1Uyt2SFdITjI5R29kQWMwV1pwSGNIM1VZMzlyK2Z1LzZ5a3VoQXlrQUdsOVkvclhabmwrRjA1NXJ3QkxiTGhMWDMrUDhxdkUvY3IrbmY4QTRiL1JMbkFBQkFFQWNBSjBrRzdHSWlLQ2tra2tseWtra2tsS1dyMEg2eDVmUm5pdlcvcDVNMll2ZHM4MllwUDgxWi93Zjh6ZC93Q0NMS1NTUVlpUW9pdytzWStSajVXUFhrNHRndW91RzZ1eHZCSHcvTmUzNkwyZm1JaTRQNm5kWk9EbkRwOXp2MVRPY0EyZUs3ejdhN1A2dC84QU0yLzlhc1hlSXRMSkRnbFhUb3BKSkpKWXBKSkpKVC8vMGVsU1NTU2FDa2tra2xMT2ZYV3gxdHBpdXRwZTgveVdqZS8vQUtMVjVSazVWdWJrM1psMzg1a3ZkYTd5M0dRMyt3MzJMMGI2eVdHcjZ2OEFVWGprMEZnLzY0VzAvd0RVdlhtcVRaNVlhU1BqU2tra2tHd3BKSlJlNE1ZNXg0YUNmdVNVdW5XdjlhT2xYZEs2aGpZMXpXc2U3QXhIdWEwYlJ2YlVNYkovclA4QXRGRmo3UDY2eUVsS1NTU1NVc1JJSW1EMkk3SHhYcVhTYzc5bzlMeGMwL1R1ckhxLzhZMzlGZjhBK0NzZXZMbDNmMUdzTHVodllmOEFCWk5nSHdjMnV6L3FuSXNQTUM0ZzlqK2IwS1NTU1RVVWtra2twLy9TNlZKSkpKb0tTU1NTVTB1dVkvMnJvdWZRQkxuNDd5MGZ5bUQxbWY4QVNyWGw0SUlCSEIxWHJ6UTF6ZzEzMFhlMTN3UHRjdkpMS1hZOXRtTzc2VkQzVkgrdzQxLzk5U2JQTEhTUThpeFNUU1BGUFExK1RhS2NWcnNpNTMwYXFXbXg1K0ZkUWU1QnNLWFJmVWY2dXY2ejFkbDlyZjhBSi9UM3N0eUhIaDlnUHFZK0kzOTdlNXZxMy91VWY4ZFdyZlEvOFhIV001emJlcXowekUwSlo3WFpMeG9kcksvZlhqYm0vbjMvQUtSbi9jWmVrNEhUOExwdUpYaFlOUW94NnZvTUVuVTZ1ZTk3dmRaWS93RFBzZWtrQzNuL0FQR0I5WGJ1czlNWmw0alMvUDZkdmV5dG9rMjFQZzVGRGY4QWhXN0dYMC84WDZQK0dYbERYQndEbW1RZFFWNyt1Tyt0UCtMMmpxZHorb2RKZXpFemJDWFhVdmtVWFBKOTFrc2wyTGUvL0NQWXg5VnY1OWZxZnBVa2tkbnpKSlhPcDlGNnYwaDIzcWVIYmpON1drYnFqUDd1VFZ2by93Q21xTFhzZDlGd2RIZ1FVbHJKZWdmVXVqMHZxL1UrTmNpMjIwL0RkNkRQK2pTdlBuSGEwdThCUDNMMUxwR1A5bDZSZzR4ME5XUFdIZjFuTjlSLy9UZWl3Y3dmU0IzTGJTU1NTYXFra2trbFAvL1Q2VkpKSkpvS1NTU1NVcGNhNzZyNTNWdnJqbTBZcldESHF1cXlzbTIzK2JheTNaa2VrV2dPOVd5LzlNMzB2Ni9xTFMrc3Yxby9aYnZzV0NHMlo4QTJ2ZU56S1FSdVlDei9BQW1ROXZ1MmZRcVovT0xWL3dBVy9VN09vZE96M1pWeHV6bTVRZGM1MEErbTZxdG1NZGpHc1l5cjlGZFV6K285SnM4dkNRUEVkQVE3di9OejZ0aDB0NlJnaURJL1ZxcEhoK1lxUDFrNjFiOVY4Wm1aajR0Tm1GZHVwZlZXQlMvN1M0YnNXeHoyZXl6RmRYWGJYZjhBby9Yci9ScmVXWjlZK2gwZGU2VlowNjIzMEhGemJLYnRIYkxHSDJ1ZFh1YnZadGMrdXhpRGJJMDBlUzZCL2pLejhucWxHSDFiSHh4ajVWZ3BiZGpoN0hWdnNPeWx6MjIyWE50cDlUMlArZzluODR2UVNJTUhrTGdPZ2Y0dGMzRTZwUm1kVnlhTEtNVjdibVU0Kzl4c2V3NzZ2VWRheXIwNm0yYmJIZnpucWZ6YTcvblVwRlViV1hFL1d2OEF4ZzVQU3VxV2RNNlhqMVcyWXNESnZ5TnptNzNBV2VqVFZVK3YrYlk1bnFXdnMrbi9BSU5kc3VJK3RmOEFpK3krcWRVczZwMHUrbGpzcUhaTkdRWE1BZTBOcjlhbTJ0bHY4NHh2NlNwN1ArdUpCVXI2T3A5VXZyWG0vV0tYREhyeHFzVmhibis0dUw3My93QkdiaGpkN01mMG1XMlpIMmxuMC8wRlArRXRXdmQwVG9lUVduSTZiaVhGdWpUWmoxT2dlRFpZc3o2by9WL0crcnZUN0tuNU5kK1hsUEZtVGExd0RKYU5sVk5JY2QzcDFlNzN2L25IdlcraGZaUWllbysxOG8rdGYxTnp1bjlUTjFUYTM5TTZqbGl1ZzBqWjZQcnYvUjR0bEgrRGF4cnZUcHNxL1Erei9BL3phN1o4Ynp0K2lEQStBNFJQcnhtTnd2cXZtWGVvSzdpYW00aDBuMXhaWGJSNllmOEFTZlY2ZnIveUdWK291VCtybjF0Zm01RE9uOVREUmtXbmJqNUxCdEQzZjZHNnNleGxyLzhBQldWK3l6K2I5Tk9EVzVtQk5FYlJlblNTU1NhaWtra2tsUDhBLzlUcFVra2ttZ3BPMGdIYzdWcmRTUEllNU1uYVljREVnY2p4U1UrU1dYMlpOdG1UYWQxdDczV3ZjZTdubmVVYnAvVWMvcG1XM002ZmU3R3lXZ3Q5UnNHV3UrbFhaVzhPcnRxZHQraFkxVDZ2MDJ6cFhVcnNKNE94cDMwTzdQcGNUNkwyL3dEbnQvOEF3ckZVUWRBRUVBamJvOXAwbi9HYjFSdlVhVDFrVWZzOG5aYzZpb3NjemRHM0ovbkxYV05wL3dBSlczL0JlcC93YTc1dlRlbld0RnRZM3N0RzlqMlAzTmMxM3VhK3R3bmN4LzVxOE1KRFJKNEM5SCtyVlhYZWc5THhtMXpsdGNDL0o2VmE4TU5ZZVhPYU9uWHU5bE56V3VaNitKZityVzI3L1RzeDdVREVTM0FQbXVHYzQvMGpIaTAwZTNyWXl1dHRiQkRHQ0dqblFLdmpaekw4ek53OWhaWmd1ckJrenZydXJiZFZrTjBidHJjLzFzZi9BSXpIc1FPbmRmNlQxRi9vMFhpckxHajhISUhvNUxUQWREc2E3YTkvUDg1VDZ0WC9BQWluMURvdEdiZFhsYjdzTE9wYVdWWnVNNFYyaXNrV09vZnZiWlRrWTdudDMramtWV3MvMGFWTGliMUJ1MlhVK29zNmRqc3VjejFiTHI2c2Fpa09EWFdXWFBiV0dNYzcvUnM5UzkvL0FBVk5pdHVBTXRQdWFaQjhDRG9zL0U2RlhUbXR6OG5JeWVwWnRiWE1vdXlpMGlscnh0dCt5NCtOWFJqVXZ0YjdMTC9TOWZaK2o5WDAxTHFQVytsZE5kNmVYa05HUWZvWWxZTnVROGtTMFY0ZEcvSWQvbWJFVlhXcDBTL3MzcDhhMHRnRFdTWWovT1hCZGUveGtaOWZWWFY5QmRRN0FvYjZlKzJ2MUczUGticjYvZFU5bFZXMzBhUGZzdC9TVy82RmEzVy8yeDlZTUsramM3cG1PK3A0b3d0elRiYzgvd0EzKzA3cXkrdW1oMGJQc09PLy9DZnJkLzhBZ0Y1aVE1cml4N1N4N0NXdlk0UVd1YWRyMk9IN3pISUNJR3dBOGxwemU1cHhHWEQzTnQ3ckhYT3FkYnlXNVBVcnZWZFVDMm10clF5dXNPTzU0cHFiKy84QW4yUDMzUDhBOUlxQkxnTnpUdGMzM05jT1FSN211L3N1VG8ySGczOVF5NnNIR0UyNUIyZzltdC93dHovK0RwWjczb28yMUw2amkzdXljVEh5WENIWDFWMnVIbTlyWHUvNlRrVlJaV3lwaktxLzV1cHJXTW45MWdERy93RFJhcEl1Y3BKSkpKVC9BUC9WNlRjM3hDVzV2aUZ1N1dmdU4velIvY2x0Wis0My9OSDl5VEI5MlA3MzRPRnViNGhMYzN4QzNkalAzRy81b1diZjlZL3E1UXpIc09aajNOekxoalkzMmZiZVgya2h1eHJhTi8wTjdQVWYvTHIvQU5JeEpYM1kvdmZnNVBVK2w5TzZyUUtNMW03WkpxdGFkdGxaUDBqVlovSy9QcmQramV1YnQrb0IzL29PcE45UC9oYWZjUDhBdHEzWTVlbVd0cnBhNTl3WlhYV0hPZTk0QWExclJ1ZTl6aitZeHFwZEk2djBycmVJYzNwanhmanRzZFVYbXNzOTdOcm5lMjFyWGZSc1k1SmRISE9PZ24rRHluU1BxbjB2cGxyY2w3em1aVEROZGxnRFdNSS9QcW9idS9TZjhKYSt4YmU0ZUkrOWJ1MW43amY4MGYzS3N6cVBTck9wTzZTeStoM1VXTjN1eEJCc0RmNVdtM2RydjlQZDZtejlJa2lXQ1VqWm5mMGNYTHhjSE5yRmViUlZsTWI5RnR6V3Yyeis0WGU2dit3cTdlazR0YmRtTms1dUl5WjJZK2JrTWJQOVIxdGpWcVpuMXArcitKMG0vcTR1Wmw0bVBiOW5kOW1hMTduWFNQMEZXLzAyUGR0ZDZtN2Y2ZnBMWWRXd0dOamY4MGYzSktHR1EyblhrOG9lbDBQYVdYNW1ma3NKQkxMczdJYzJScjlDdTJwSHhNVEJ3V09aaFVWWXpYL1Q5Sm9hWGY4QUdQOEE1eXovQUs0OWRIdForNDMvQURSL2NxUFV1czlKNlhrWU9ObXVGZDNVcmZReFdpdmRMcGEzYytCK2pyMzJWTTMvQVBDSktPR1IzbVQ1dENXK0lXUjFqNnM5TDZ0WWNoN25ZMldmcFpGVUhmR2c5ZWwvc3RkL3duNk8xZG9XTUJnc2JJL2tqKzVMYXo5eHYrYVA3a2xSd1NpYkU2K2o1azM2Z1AzKy9xVFBUL2swbmZIOXE3WXVoNlIwWHB2U0tuTnhBWFcyQ0xjaXdnMlBBMTI2UTJ1ci9ncTEwak0zcDFtZGIwNnUybDJkanNiYmZqQUF2WXgyalhQOXY4cG50K24ra3IvZlU4dkl4TUxFdXpjcmJYajR6RGJjL2FERFc4dzFvM09ja3Vsam5JVVo2ZVRqN20rSVMzTjhRdGZEeWNQT3hLYzNGMjJZK1N3V1ZQMkFFdGQ0dGNQYWpiV2Z1Ti96Ui9ja3MrN0g5NzhIQzNOOFFsdWI0aGJ1MW43amY4MGYzSmJXZnVOL3pSL2NrcjdzZjN2d2YvL1c5Q1NTU1FTdUpKZ2FrNlI0eXZJbmRDNkRkMTc2eGRZQXY2ZjBQb1R3S3ZzYncydzVJYzJtdHVMYmEyNXJHMlpOZHRuL0FBSHE0LzhBZzE2NjBrT0JHcEJCQzh0K3MyQmIweXZLNlZqOVp3SDlJNnYxUmo4aXR6bXV5c2V5eDI5NzcyTk96N1BqK2wrbTN2OEE4SC9ndlZzUlUzUHJXeS9wbjFmeE9qOU55T29ablV2ckw2UmRSbTNtKzVsSURiSFk3R3M5TmxMckxyV1UyZTM5S3lxNVovMWQ2MzlkT2xkR3ZxeEtNVDdIME85dUpiaXZZWDIzNUY5enEzMDQ5bFBxZXZrTnNmNy9BRXJhL3dCSDZYcCtvdWtHWjBYRnd1cGZXeG5WSDllNnQwckhPTU02eGdiVFhkWVBUcFpoVVZWVjBNYmJiYjczMVc1SDZQMVAwbjZWRStvdlI4VS9Wem91U3g3YmFXT3V6bmlOWDVyaTdGWmJadUR2NkJUNnRUUGQ3N3ZTdS93U1NuUSt1bjFodCtydjFmdHpxMjdNMjB0eDhadWp3eTU3WFBjOXhQdGY5bVl5eHpQWitrdDlOY0greE0vNnZkQ1plOXJyL3JWOWFISEh4MkV6WlZSWUEvS2Z1ZjhBOXE4bjFhNjdySC96UHIvem44OHZTUHJEMHFycS9STTNCZlF6SXNmUmFjVVdDZHQ0cmY4QVo3YS96bVdOZWZwTVdUWmI5Wkx1azlENnAwREQ2Zm5XTndhcCsxay9hR09zclkyOXVKa2VyUlV4anRucDIvcFBWOVJKVHgrYjBmNnpkRndPay9Wdks2Wmk1V0tlcVY1Rk4yUGNBY3EySEIyUGE2MTM2UGRVL3dCTDE3TWVyMDYyVkwwdnBlWjFiTXJzdDZwMDM5bFdoOE1xKzBNeWQ3U056ck4xRFcrbHRkN2RqMXhmV2VwZlhTL3FYUS90ZjFlcnF1b3pIVzR0VGNsaEYxamE5M3A3L1VmNld4amZWM3ZjdXE2Sm0vV1hMc3QvYlhTcWVsMHRhRFNXWGk2eHpwK2k2dXMyTjJiTjN2OEEwYVNtZlgvckgwcjZ1NGJjenFWamdMSGJLYWF3SFcyTy9QOEFTcmM2djJWTjkxdGozN1ArdVdWcm0vckpYKzBQOFlQMVVxRW1yMHhsc2E2V3dHdnN5OXptTytnL2JqczN0Umo5V3VvOWQrdU4zVnV2VStuMHJwanpWMHZFY1FSY0szVFhrT1lQcFk5cnYxbTNmL1BmbzZQNW10V2VwVW0zL0dWMFc0ay9vc0RKZjhUK3MxNi85dkpLZWh4TS9FemhlN0ZzOVg3TGZaaTVHaGJ0dXFqMXF2ZUcvUjNmVFdaOWEvckxiOVdzQ3ZxRGNCK2ZXYk5scGE3WXlvUitqZmM3WmIvTzJmbzJlM1ovd24wRVIySGxkTjZ0bGRSd3FIWmVMMUlNT2JpMUZyYldaRlFOZGVaanR2c294N0s4bWsrbm1NMzEyK3BYOW8vU0xPL3hrdnVaOVNjN1kyTjdxRzJ4cnRhYldPZDdoL3dqYTYwbFBEZlZQNjNZZlNYUDZoazNNczZyMWJxRFIxSzIydDd2VHdnZld5TGEzVk4vbnNpNngzdHI5VCtaL21sdGZYeTc2M3M2TGwyV1plSmwvVi9xYjZqaWtNOUxJYlhZNXVUaTBpc3NwZjhBUnI5Ky93QloreFZxTGVpWWYxaCtxUnhLMjNOcjZZWDVBd21OdHVma1BwdWoyVUF2KzEvYVBvdXUvbWJQMG42UDlJaC9YSHBtWDAwWU9ObC9XSE91b3V5YWJiNnNwcHlEaHRmdjlQSXlNaXU2eHRsclAwM28wMTdQdFhvWkZsU1NIdVBxdGkvV1hEd1c0WFc2OEtxbkVxcm93MlloZWJJckd4enNoem5QcTl6ZjdmcXJiV0YwUG9QVmNQSy9hR2I5WWNuckZkbGY2T3VBekdjMTQ5bDJ6MWNobG43OVZsWHByZFNTcEpKSkJULy8xL1FrbGxmYjh6OThmNXJmL0lwZmI4ejk4ZjVyZi9JcE1YM2lIYVg4dnE2b0pCa2NoY3I5WnZxVDA3TmJYbmRMNmRqSHFWZVhUZll4eDlPdStzUC9BRm1tK1hlaTFsbS8xYmYwZTkreGF2Mi9NL2ZIK2EzL0FNaWw5dnpQM3gvbXQvOEFJcEsrOFE3Uy9sOVZ1dWRDcXo4ZnAvVE1XdXVqcGRPYXkvTG9yYTFqRFJVTExXME5vYnNhNzE4ajAydi9BTTlUcXdjM3ArWGsyZE9aWGRoNTFoeUxNVzJ3MUduSWZIcjNVVytuZHZ4Y21QVnV4LzV5bS84QW1QNTFSKzM1bjc0L3pXLytSUyszNW43NC93QTF2L2tVbGZlSWRwZmgvRjFnZHJwYjJNZy9CVWVrZE8vWmVHY0ZqMnZ4NjdiWFlqUTBnMTAyT043TVo1YzUvcWVnK3l4bGIvOEFRK21xL3dCdnpQM3gvbXQvOGlsOXZ6UDN4L210L3dESXBLKzhRN1MvbC9oTXVzNFdaZm1kSHk4T3RscjhETjlTNXIzYkFLYkszNDkxb1A1N3FkelgrazMzMkxUMDdjZGxsZmI4ejk4ZjVyZi9BQ0tYMi9NL2ZIK2EzL3lLU3Z2RU8wdncvaTZxeUxlbGRScyt0bU4xWjlsSjZmallsdE5iQTB0dkZsdTBPcnMxYzIyci9EVjJ0MmJQNXIwLzhKWkw3Zm1mdmovTmIvNUZMN2ZtZnZqL0FEVy8rUlNWOTRoMmwvTDZ1cW8yVjFYVnZxdVkyMnF3RnRsZGpRNWptbjZUSHNmTFh0V1o5dnpQM3gvbXQvOEFJcGZiOHo5OGY1cmYvSXBLKzhRN1MvRCtLQS9WUHBsUFYrbjlTNmJUVDA5dUd6SnJ5SzhkbnB2dGJmWDZWVG0yMW4yMlk5bTUyOS85aFQ2ajBRdmYwbXZCcWFLY1hxVmVkbTNQc0p1ZDZiTFdlclkrM2ZibVdXYjJzZTU5dnFmemRlejB2NWtuMi9NL2ZIK2EzL3lLWDIvTS9mSCthMy95S1N2dkVPMHY1ZlZ0WW5TZW5ZVGc3RHArenRCY1cwMXZzRkRTL3dEbkhWWWZxZlpLdC84QXdkS3RySyszNW43NC93QTF2L2tVdnQrWisrUDgxdjhBNUZKWDNpSGFYNGZ4ZFZKWlgyL00vZkgrYTMveUtYMi9NL2ZIK2EzL0FNaWtyN3hEdEwrWDFmL1E2VkpKSkpvS1NTU1NVcEpKSkpTa2tra2xLU1NTU1VwSkpKSlNra2trbEtTU1NTVXBKSkpKU2tra2tsUC8yVGhDU1UwRUlRQUFBQUFBWFFBQUFBRUJBQUFBRHdCQkFHUUFid0JpQUdVQUlBQlFBR2dBYndCMEFHOEFjd0JvQUc4QWNBQUFBQmNBUVFCa0FHOEFZZ0JsQUNBQVVBQm9BRzhBZEFCdkFITUFhQUJ2QUhBQUlBQkRBRU1BSUFBeUFEQUFNUUE1QUFBQUFRQTRRa2xOQkFZQUFBQUFBQWNBQ0FBQUFBRUJBUC9iQUVNQUFRRUJBUUVCQVFFQkFRRUJBUUVCQWdFQkFRRUJBZ0VCQVFJQ0FnSUNBZ0lDQWdNREJBTURBd01EQWdJREJBTURCQVFFQkFRQ0F3VUZCQVFGQkFRRUJQL2JBRU1CQVFFQkFRRUJBZ0VCQWdRREFnTUVCQVFFQkFRRUJBUUVCQVFFQkFRRUJBUUVCQVFFQkFRRUJBUUVCQVFFQkFRRUJBUUVCQVFFQkFRRUJBUUVCQVFFQlAvQUFCRUlBR1FBWkFNQkVRQUNFUUVERVFIL3hBQWZBQUFCQkFJREFRRUFBQUFBQUFBQUFBQUFCd2dKQ2dJR0FRTUZCQXYveEFBOEVBQUFCZ0lCQXdJQ0J3WURDUUFBQUFBQkFnTUVCUVlIQ0FBUkVoTUpJUlJCRlJZWElqRldsU05SWVlIUjB3b3ljVE5UWW9LUmtxSEI0Zi9FQUJ3QkFRQUNBZ01CQUFBQUFBQUFBQUFBQUFBQkF3SUVCUWNJQnYvRUFEMFJBQUVEQVFZREFnb0pCQU1BQUFBQUFBRUFBaEVEQkFVR0VpRXhCMEZSa3RJVEZCVWlZWEdCa2FId0ZoY3lRbEpVVldKeUk4SFI0VE9Dc2YvYUFBd0RBUUFDRVFNUkFEOEFtNDRYajlIQ0k0Ukg0Y0lzREc2ZDM3aWtGUTQ5dnNRb2U0bUVma0FmTVI5ZzRTVTJ1N2JsYW80NWZMeGQyMk53M0F5all3a2N4YXQzYVNVazNNSFhxVlJCcVpVNVRldy9kTUFEN2NpUXVjc21HTVIyNW9xV1N3MVhOUFBJUVBlWUMwSkQxR05HbktwVVU5cE1TbE9jZWhUT0pSNDFTL21jN1lDaC9NZUpIVmJqc0VZdWFKTjNWUGNEL3dDRk9PeC9sN0ZlV0doMzJNTWxVUElqVklua1dVcGRxWldOUnVVUHhNcWtpcVpSTUEvZWNvY2xjSGJidXZHN1haYndzNzZSL2UwdDl4SWcrd3BSQ21BUTYvTDk0QjdjTFRXWENJNFJIQ0k0UkhDSTRSSENKR005WjR4eHJoakd3NVl5bE5mUkZZZ1V3U1JidHlGWG1yRTlWQTN3a1hHTnhNQXJ1M0JpaVVoT29GS0JUbk9ZcVpEbUFZQzVLNkxudDErM2d5N2J2Wm1xTzU4bWdidWNlVFIvb2FrS29YdHA2akd3TzFrdEt4N21ma01jNGxWY0dMRDRwcU1vb3lqMUVBTit6Tk52RSt4V1NjQ0hRVGlxSU55bUVRVFJLQWRScExpZGw2VnczZ2k1c08wMjFHTUZXMDg2amhKbjlnT2pCMGp6dXBUQmt5QW1BbFRBcVFDUFh0U0tCQS8xOWc1aXZzVEozWFoxTi92RlArOGVGR1VMMXE3WWJEVDV4alphak96TldzVWFzQzdDZnJrb3ZCelRJNVI2Z1pOMGdZaWhSRCtCdWcvTU9OZVNycjBLTnBwR2hhR0I3RHUxd0JCOWhrS3d4NmZIcTJ6RmhzRURoSGJDWlpMdTVsWk9IcE9iM0pVNDQ2enM1aXB0byt6Z1FDcGRWakNWTktUS0JQMmhpbGNGKzk1d3NZK2RDdWxNWjhOcWRDZys5c09OTU5rdm9qWFRtNm56MDNMTmRQczlGWWdBUkFSSVlCS1lvaUJpaUhRU2lBOUJBZVdMcFliYUxMaFNqaEVjSWpoRWNJc1RkZTBlZ0NJL0lBRHFJL3k0UXFvUDZ2V3k4am1qWnFXeGJFeUp6NDYxL1hWcDBheVFXNnNwT3dHS1FaK1NNQWV4amtVN1dDWmg5eXBzVDlPbmtOMXFlNlRDOUo4TmJoWmRkd050OVZ2OWUwdzhubUdmY2I3dk9QcFBvVVZBQjBEb0hNRjJLdWVFWEhVUDQvOEFRZUVYUENMclVJQmlpQWdCZ01IYVlwdjhvZ1BzSWY4QWtlRTlLdUxlbERzMUs3RTZ3czQyM3lLc3BrUEMwc1RHMWtrbmEzbWZ6akVyWWk4RElMbUg3eGxEdGU1c29jZmM2a2Vjd2lJbUhsekRJWG1QaUxjRk81TVFHcFpteFFyandqUU5nNlllMGVqTnFCeURvMlVuM01sOEdqaEVjSWpoRWNJc1JWRkZSTlVwQlVNa2NGZ1RLWHVNb0pCN2dLQWZNUjZkT244ZVRHa3JFaWRGK2VqY1pkOVlidGRKK1VNcWVUbmJoTFRVaVpjUkZZVjNVaTVYVzcrdnYxN2xEQVBYMzZoeldPcGxlMUxOU1pRc3RLalQreTFqUVBVR2dCYS93cmxpYjM2RkQ4VENBQUg4K0VUNjgvYWIzRERHbDJqdXo4dEFLTVl2Wmo2OEdkdmhSVUlzVUdjdWl0VnZpUkV3bEtMdUtUZXVrTzBwQU1pa0kvZUhxUE1BNEY1YU9TMktsQjFPejA2aCs5UCt2Z21LZ0lEK0grbk0xcnJuaEZPejZEVXZJbzVnMkZnRXhXR0hmNHNpSnAyVU80VzVIVFNiRkJ1YzN5QXdwdkhKUStZZ0J2M0R5eGs2cnFIakJTcG02N0RXUDJoVWNCNml5VDhRRlozNVl1aFVjSWpoRWNJamhFQWZ4SEl0MDZpaW9WVUE2ZGV2YVlEZit1RkJFaUZRMTNCb3llTE5xdGlhTUpTdEdkZnpCT0F3QlVRUlRLMWV2VHlMUG9JajA2Q2k4UzZjb2NJY1Y2OXcxYlBLR0hyRGJDWkxxVEo5WUdVL0VGTjlqVUhFMUlOSW1FUVdtcForcUNER0poa1RURXE5VU1QUXBFV3lJR1ZPWVJFQUFwQ2lJOWZ3NUM1d2FrQWJxd1Y2YlBvSTdBYkgyK3I1SjJ2cU5od1ByZ3dlb1RFalc3UWdhQnk1bDV1UXhWUWpZK0tOMGNSak55QUFSZVJlbFNVQkk1d2JJblVNQ3FkVDZyVzZOM1hJMlc3cTFad2RVRU4rUHVWeXJhZlMvQ2UyT3NWZzFYdk1BMmdNZk80Rm5HMFplck1FR3o3RTd5SVJCS0Frb0ZNd2VOSThjQkNKa1NIN2lyY3l5QitwRlREeldhOHRkbUM1MnRacWRhbDRFN0Q1K2Y4QUMvUHgzVTlKbmM3U0NkbTFicmpTWXlMaWRrNE1NUG5YRmNNNnMrUDVKc0poOFNrZ21rVTdxSVhFb2ZmYlNCQ0ZJYnFCRmxpOURqdHNxTmZxRjgxWHNkZXpuem02ZFZHYVYwMk1ic0s2YW5VQTNaNHlPVXpLZFEvRXZiM2RldjhBRDhlWnJXVmt2MEZxUUxlbmJIWkxXUkFCbHJWQlkvWUxpWDNNbkhzM1VvNktVZjNkOGkxNi93QVNoeXltTkNWMFp4Z3RlYTAyR3dmaGE5NS83RU5Id2FWWU41WXVta2NJamhFY0lqaEY4RWxJc1l0ZytrcE40MGpvMk9hS1A1R1FrSEpHVENQUVJJWlJaZGRZNGdSTk5NaFRHTWM0Z1VvRkVSRU9GTEd2cXZGT21DWEV3QU5TU2RnQU55ZVE1cG9laE9sT3MrNFc3R2IvQUZFbWR6cVdaOFlWWjJ6eEpXYUo5Vldsbm9GcnMvMVVic3JKSVN4WkpxWk55aXpRY3hnc3hiRTdUT0ZEcStZU3BGSWJTdEQ0ZGtidXZYZkMrNkx3c21HNk5DK0tScHZwdWVBMTBUbEp6TmtBbU55SU91bW9VcXU1OVltOVlkUnMwNWcwbXhUanFsNXF4UldWc2lWV0RvR0U0RllMY1Z0MnBTYkZ5d2F0VTNDeWZ3aXF6enRhbkl1S3NVMzZDb1FEb3FhNE9ZZ1BPaTdHdE5NMGFScVdkdm5lcjUrZmNvemZRSDN3M1ozSlYyS2p0bkpSM2t1ajBOdER2NmZseVFwaktwdlc4eStjdWszdGRNdXpib04zZ2ZESmtlZ1hzRlZyMmRwajlxeVpRenFzWTJJV3JkdHB0RllsdFRVQldRbGhVQXB4VFM4NmdKaUthQUtBaUs1Z0FSS24zajdGN2g2RjdoOWc3dW8vaHlsY3U0d0ZUMTBIOVQzMVJkbnZVb1BybGthU2MwK2lUTnVsMjJWS0JFWWRqbzEvcjFDd0N5NzVZaUR4ZEQ0aEF5Z3NtOE9xNWt6dWZPV1hPb2ttSzNnTVRZZXltMW1aY0ZRdFZzcldud1R0cDFFRFNOZm1WWlUyTTBnMW8yY3hsa1RIVi94VFJZbzJSNnE2cXp2SUZQb0ZkaXNuMWdqazRMZkZROHlvd1VWUWNKcUIzbFVIdTY5eHdOMTdqRHlwdFJ3MUJYSjFiSFFxdHl1SCtkby92NnA5UVVDK2xHS01aNmN2ODFhTUk1YnExMnpKaWZORmdzTmxpMGkvUWRvbEllUlRqWE5mbERSeC9ZUVVpalJwMXdhbldUYnFxbklZd2RBNjhoU2NITUJDOG5jV2J1dk9saVIxc3JVWEN6QnJHTWZ1MG1DU05KZ3k0NkdKNVNGSUdBOVFBZjhBNXkxZFZybmhFY0lqaEVjSW9NUFhMeTdiYWZoZkUrSzY4K2R4a0psMjJTYTkzVmFuTWlNd3hnbTdKVkNNVU9BKzZLcmg4bXVxbCtDbndhUUdBUzlRSENvZEYyendrdTJ6V205TFRlTllBdm90YUdUeUx5UVhlc0FRRHlrcU1iMDNQVmx6djZiaTEzZzZWVjZsbFRGZVJaQkdmc21OTHErZHdxTFdYYnR5dEU1ZUxrMm9HV2JMblFJa2dzbWROVkZaTkJMcVFwMHlxYzEzc0Q5OTE2SnN0cnFXWUVNMkt1YytuVjZpRlU5VFRGQ2RvcWw0UGhMTnREVFZaWmd3ZEJyczdBNWhoTTRQOERPeHF6eElITG1MY3BlTXBISlNoNFZpS29yQVE0RUZUZ2IwdTIzMm1xMTlrdHI2TFFDSWExaGs4aWN3TzJ5Ky93QU9ZaHVpejJkOUs4YnJwMm1vU0NDOTlScGFJaUJrY0FRZDlST3NiQlNOWkJ1MGJoTEdVeGQ1bGhKVE1GUzJyV1F0SzBHd2JvUEVHU2p4bzNscHRWc21VcWZqWm9yTHlUc0VpOS9nWkxpVXBqQUFEdlVhYjJVMjAzdUxuQUFGeGlYSHFRTkpKNmFManJYV29tcSt2U3BoakM0a05CSkRRVG9BVEpobzBrbVR6MVh5V25OVkdyMHBpMkJqcFdPdWs1bUMxTjRDa1JOT21tTTA2azJCa0Zuc2pZeTlpb2dhSWptaUJuTGg2UVJUNktJSmtNWlZkRWg3U0RxRHlXdWJRd1pjc25OdDErSzl1MDFQNlRYVW0yMXhuS0taTmdaU2JmUUo0K05MSUpvQjNndkl1bGtUR01WdVFwdWgxVGdSSWdHSDdvQUk4NG04THR0RnZlMTFHMTFhSUFJaW1Xd1o1bk0wNmhmUlhUZlZpdWlsVUZxdTZoYWN4Qm1xSGt0Z1JBeVBib2Q5aVoyVlhmYjMvRW5vNGZ5NWRNVDZyWXhvT3dGSXBjTWpXR09kTDNhNVJpenRGaFFCWk9SZnNtTEpJaWI2TVRQNFUwMVFPaDhVZEJkUWgvQ29pWWVYczFsZFNvTXAxSGx4QUFKTzUwM01RSk81MGowTDQ2OGI2OE5hNmxXelVtMDJ1Y1NHdG5LMlRNTm1UQTJFaytzN3FxaEw3UDVybWRqWDIyMDlkWkNWem5JWkJIS1V2YmdJUmdwSXlBcUZNcWlDQ1FBbW0wT2dtREw0VWdlTXJib2wwRW9jM1crYnN2bGJ3c2RudmF5MWJGYm1oMU9xMHRkN2VucEdoQjVFQ0ZmR2c1RVppSGlKajRZV1lURU8wbVBnemU1bWZ4YlpKejRSSC9nOG9rLzVlYkM4WlZLZmdxcjZVemxKRTlZTVQ3WVhyY0xGSENJNFJIQ0pqdSsrbnJEY3JDWTBadktNcTVmcXBNZlc3R3Rsa1VqcXhqSi80VE4zRE44QkFGUUdyeEUzaVVNbUJqSm5UUlVBcHZHSkRRNFNJWDFXRDhUUHd2ZTNqYm1sMUY0eTFHamN0bVFSeXpOT29uY1NPYXE5UzNwbDcyeEZtTlZSMXl1TW91TGtVVVoyQ2VSa3JUbkJlN3RCWWtzRGtyY3FZK3c5eW9rTUFEN2xBZmJsUlk3WmQvMDhlWVJxVVBHUEhtQWRIQndlUFJseXpQcWxUNytuZjZiN2pWNnB5VjJ5RllIY2ZzVFpIRFo3RlczR2RpVWlwckN5RFlxZ3BOWVdaSVg5bzRXTXNvTDRURVVadVNBUnVkRndpVTNrekRCRU8xWFZtSXVKdDRWcjJwV2pEajNVNk5HWXpEL2tKM3p0L0RBaHJUcU5Ub1RwTmZWZHNkb3FTaWpHMjJvWXV6L0d0d0tpblpveWVWd1BrbHltQTlCTzlZQzBld2JoWHRFZXAycG85TTRoL3NFZ0VRRFhkWlI5d3I3bTZPT1ZrZFNGTys3STVyL3hVNGMzMTVTUTRlcVN2RXAydzdmSHoyZGxzUStucGpuRjFuc1lBbk5UNldVS1RUR3N3VVZCVkg0MXhDUkRsNnFtQ25hcDRTcGRwakNKdWhUQUJoZzJkNTB6TGwzOFo4STBHNTZGS3E1M1FVOHMrMHZXbFpDc1dXODlOeGpzNjJhdk9hTW9xUlp4aERHMGE2aGNXU3drTjNwa3NMdDBvZVNuaUZFQ2o4TTZNMmp6R0tVeG1CeEtVUzNVNkxXR2R5dXNjVThYTDh2eWs2eDNZM3hhZ2RDUVpxRWZ5RUJ2cHlpZXBoVlFkdWZTTTJCeDVrS3lUbXZkS2ZaZHhKTlNpOHJYWSt1UEc2OTNweUs2Z3EvUmo2UFZVSW91VnVKaFRTZE52SUNpUlNkNVV6Z1lCbHpUT2krencxeEt1YTNXSmxLK3FvbzJsb0FjWEFoajQwek5JQkFuY3RNUVppUXZSMDI5STNPdDd5TFc3VHNmVEhtS2NUMXlXUW1aaXZXTnlnUzczMEd5aFZpUmpkZ2tjNW16ZFl4Q2xYY3VSSUlKQ2NxWkRtTUFsTllaa3F2RS9FbTZMSFlhbG51T3FLMXBlQ0E1b09Sa2lNeEppU09RRTZ3U1FGYTdJVUMvNVNFVEtBZENwcGw3RTB3RDJBcFMvSUFBQUFBK1FBSExlUzg3aFo4S1VjSXBLL3N2eDUrU0t4K2xKLzA1Uko2cjF0OUVjTGZwOUhzQmE3YnFoajJwMWV5MmNtS2kybzlicnoyd0ZyRk1xaWMvY0xJTEpzcTVDUGlXUGNUNGw2NDhYaGJ0Kzh2a1ZVVEwzQjNkZUpQVlFjSllXQW55ZlM3QVVTMnBIcTUrblB0N2srNll5ck5Rc3VMWDBET3hOV3FEck1tSkpTc3VjZ3lUaGc1ZDJGc1J1M2FPVVlzSzhzMkZvK1ZsSFNSTy92VUtJSWs4aHNpSEFUS29iaGpDam5SNVBwZGdKeDJpdTRtbzIvZEtzVjh4WFU2VkFScmZKMW1wVkJnck5ZNjZ2ZnNud2xiY0l0QnVUS3ZJT0JrR3NhOFdPdVZJanRFRkNnMU1ZdzlwaWp5RG1HNVZsUEN1RkttMTMwdXdGNSt3KzlXakd0T3lPTnRXTDVBaEtaUnU5TWxzcVhJS2pVVzB4WGNCVXlHakhzcTh0OTZlR1dKOUh4d29zSEJpQW1WWmM1UUtmeGRxaUlxaG1Ja0tINFd3cTEyWHlmUm4rQVd2YWw3djRCM095UmlHbzRpMXluNCtxWlUxS205dVZiYmQ0eU9qWk9wd3JUSUttUDY2MGR4alE3a3ZrbkZXRXZJb21NNElaRnF6UzcweE9vY3FVa09Ba2xZc3d2aFY3Z0JkMUxYOWdVbFpzWlk4QUJFS1BXUkg1RkNLU0VSNWptUFZYZlJIQzM2ZlM3QVRRZFhzNjROMnB1bTI5VHB1SDJzTXkxTTJVZmF5ekZtbEc3UjFHMzJXaW8xbTlrM2NlbVFvSFJUYnJPak5oU1ZFNWhBcWFuY0hrN0NTUzRjMVczQ21GbnVNWGZSZ2ZzQ1VQYVRJV3Rtb0d2bVZObU16MW1EaThaWWlyUnJEWUZvK0JRZFMwb3FkVk50SHhVY2tvWk5OVjgvZEx0bWpaSTV5Rk1xNEtKamtJQmpsQXVKZ0ZaUHduaFZqY3h1K2oyQWthemh0ZnFEci9yTlpOaThnUXRBZ1pPQzErY1ovYTREc05rcmRiemhNb3QyQ0xoU0JTaVZIUmpmU0tUeHdsRnVBU0txUnU3QlFweEh4bURnWmlZbFlPd3RoVnJjeHUralA4QW5SWXNaWW55cmpxajVFaUtMVW1yYTVWS01zeXNRUThkT09xMnUvWU5ucTBVN2N0VG5RRjB6TTRGdXVVaHVnS0ltOWc5dVJKNnF4bUU4TE9hRDVQcGRnSlFmc3Z4NStTS3grbEovMDRrOVZsOUVjTGZwOUhzQkgyWDQ4L0pGWS9Tay82Y1NlcWZSSEMzNmZSN0FXKzhoZlJMWHJXU1JVcmRqVGhwTnJDVENsYmtFNGVjZkg4YktFZUdaT0N0SHF4dmttM1dGSlk0L0lxUmg0NXFIYktsTnBZZkl0MFV2WHBkTTloOWZOYVRTdW9OVzArbDV1TDNPamM3dU1seTl5c3RudjJYOGkwS3RWMHJock95dGxqUU0wUEl5cnRvYUFiTlUwSFNoaFZUUUd3NmFsYURKUG1USExmM3A2dm9tK241cUZjd2hkNXNLNDJwTmZvY1B0bms2N1lKZHNGRkpUSWRaaWE0M1V4ZFJZQi9NTG5PL0VobzRiQmJaSkU2aFVIeit5eEJ4U0VqVXBTdzRuWXEyZ3hwT2NEbVZ1dWJkRG9RbVZmVmFaeldLODliVldYWTdOMkZjelhxT3dzOXE4QnNEYzhSU1JKR1RrOGJNWkNZZk5rQzExdE5VbE9PV1NqMUVueTdWbzBLSlRpa0JpQVRvc1N5WE9uV2VuUk5vd2JWTldhNTZrdVdyN1JmUTQzcG94b2ZET0xKU21ZbnBHR1k3SGltTHJPcFpMczZmVzZZamtMbzJpVUdFZ215aTAyaDFqck4xRDExMkl0MGpKaWRZWmlDVkF5K0VKeW41OXFteTJhaXQwTmdOMmRkY0c0aWxNazY4NmtZZUNKMlMyajJBcnJrdGVsTTRQaVNDb3dHSjY4OUFUR1VSVUZrbzRuQUlVVXdidWlFVVA5MUZOeGlJaVZlNFBkVURSb055ZjdKc21oRkd5OVVhM3NUbHpGanFTZE5rZlcwMkZ1V2NNWHdhU1NyckwxTWR5aDZnNlJicHFBQW5rb1JWdEhUVEJCTlF2bkNMWGJnWXgxaUU1a1kwQjZMQmpYQ1hEcVVpUHJ4NE54cnNsa2YwbjZ4a0xLZHcxeHEyVHRtWldwWFBNOHhiQXg5V2FIQVIwQ1Mya1JsWXlWT1NJVGxWWHJCdVppcEtwK1JKUkF5WWxNQW1UTExPYXh0SmtBaFFWMm11M2l6ZWpoaGkvWkhwR3R1eUZlei9rdU5zQnMvYlJURXZXTmpjSlhhNTVVR1h5Q2xVWFkxZ0d4NnM3U0JGV1lteVBseU5sN0U5TUt4MUN0bWZKSDJsVVJMQVQ4LzZWMW5SREhkMnhkaEFLamFkYjlTOVY0Uk96T3B6SG1LZE9MbTh2V01FNGlRU1FjL1NUbVJXaldLU3o1MHNaVXhsbWlhcUtxUkVEK1VSSHRMVWQ1VzVTQkRkWVQyZUZhamhFa24yNDR2OEF6WWwrbHZQN1hNc2psOFY5WW1EdnpnN0ZUdUxxV3pWaXB3bW9pdFoyeXlTeVprVlVWb2wycWlzUXdDVXhEa0ZFUU1Vd0dFQktJQ0FnSWdQc1BHUjNSUWVJZUR2em83RlR1cGlVSHE5cFhSN0p0Zlk4VE80RENodHQ4UE1zU1d5T3hEaXVGb1NGRU0zaUo2RWVXQ3VMTkl0TlpzL2tHODJRem9nbUZ1b3ZGdGxoU0ZVVG5HY3J0b1ZYMCt3WkpJdG9FL3NxZDFMVmllcjYyWUlldDA4TjJ4M2orb0tWcUJyazdqaUlpVEwwbXdHck1DMXJNTkppaXEwTXEwZmxqWStOYU9YTE5SUDQwa1d6ODVUSFM4aGhhNDhsazNpQmcxbjJiYUkvaFU3aVV4VzE0S1V5UzN5dVd6T2tMZ2xqOVhHVHBac0Q5R0xtSWcwbVNZYnBQbWZoN0YxR2p2NGxScXNZUU1pRWs5S0hVRnpBRVpYTEk4UXNHazV2SEJQOEtuZFdudzVzS3dtd04rMkVaNUpsUHBuSStJYXhpT3cxRlNFN3F3S2RUbHJGSnhjc2tyOEw4V0RydHN6OW9kUHkrQVV5cG04ZmtEdUJsZHRDZldGZzdObThkSFlxZDFMWDl0K0xnRXB2clNnZnRNQWlVOFc4RXB1ZzllZy9zdndINThaSEtUeEV3ZCtkSFlxZDFJUHIxRzRHMXhxRnRwOVd5WmJyV2hkY3lYSE9FL08zOVJlY3NyMll1czByTnlaVkhLYlJJcDBrbEZRU1JFeE8vd0FhUmU4eHppWTRzcmp5VU00ZzROWUlGdEhZcWQxS2hhN3hyeGZZb2tEZldsSHY5ZkkrUmt2cTdmS0NuYzY4ZGR1YnVRV014ZXRGVVJPUVJIdFAyOXhlNGVnaDFIZ05jTlFqdUlPRFhiMndkaXAzVTExcGdqVDZBd3ppN0JkSW5YdE1wZUtMWFNwMkVjTkkwMDVZNVNOb3R1UXVjUlducjUwME9jWXdYcmRJaGtrZkdZcVNTWUZIcVh1R2NycGxZSEgrRE11VVcwZGlwM0U2T3Izclh5a05ITWZTL3F4VVk5NDZGNjZqNnpWVllPUFZWRU8zdjhDS0JVeSszc0JTRkFwUTlnQU9Sa2NkMVlPSVdEQnRiQjJLbmRXMGZiamkvd0ROaVg2VzgvdGNaSEtmckV3ZCtjSFlxZHhIMjQ0di9OaVg2VzgvdGNaSEo5WW1EdnpnN0ZUdUtQTGx5OHVJNFJIQ0k0UkhDSTRSSENJNFJIQ0k0UkhDSTRSSENJNFJIQ0k0UkhDSTRSSENJNFJIQ0k0UkhDSTRSSENJNFJmLzJRPT0KLy8gQGF1dGhvciAgICAgICDova/ku7blsI/lprkKLy8gQG1hdGNoICAgICAgICAqOi8vcGFuLmJhaWR1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL3l1bi5iYWlkdS5jb20vKgovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vbGliLmJhb21pdHUuY29tL2pxdWVyeS8zLjYuMC9qcXVlcnkuanMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2xpYi5iYW9taXR1LmNvbS9zd2VldGFsZXJ0LzIuMS4yL3N3ZWV0YWxlcnQubWluLmpzCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly9saWIuYmFvbWl0dS5jb20vY2xpcGJvYXJkLmpzLzIuMC42L2NsaXBib2FyZC5taW4uanMKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1pZGxlCi8vIEBncmFudCAgICAgICAgdW5zYWZlV2luZG93Ci8vIEBncmFudCAgICAgICAgR01fYWRkU3R5bGUKLy8gQGdyYW50ICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fZGVsZXRlVmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9saXN0VmFsdWVzCi8vIEBncmFudCAgICAgICAgR01fb3BlbkluVGFiCi8vIEBncmFudCAgICAgICAgR01fbm90aWZpY2F0aW9uCi8vIEBncmFudCAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGNvbm5lY3QgICAgICBsb2NhbGhvc3QKLy8gQGNvbm5lY3QgICAgICAxMjcuMC4wLjEKLy8gQGNvbm5lY3QgICAgICB5eXh4cy5jbgovLyBAY29ubmVjdCAgICAgIHNvZnR4bS5jbgovLyBAY29ubmVjdCAgICAgIHNvZnR4bS52aXAKLy8gQGNvbm5lY3QgICAgICA0Mi4xOTMuNTEuNjEKLy8gQGNvbm5lY3QgICAgICAxMTkuMjguMzMuMjMKLy8gQGNvbm5lY3QgICAgICAxMTkuMjguMTM5LjIxNAovLyBAY29ubmVjdCAgICAgIDQ5LjIzNC40Ny4xOTMKLy8gQGNvbm5lY3QgICAgICA4Mi4xNTYuNjUuMTc5Ci8vIEBjb25uZWN0ICAgICAgNDIuMTkzLjEyNy44NQovLyBAY29ubmVjdCAgICAgIDgxLjcwLjI1My45OQovLyBAY29ubmVjdCAgICAgIDQ5LjIzMi4yNTIuMTI2Ci8vIEBjb25uZWN0ICAgICAgODIuMTU2LjE1LjE0OQovLyBAY29ubmVjdCAgICAgIDU5LjExMC4yMjQuMTMKLy8gQGNvbm5lY3QgICAgICA1OS4xMTAuMjI1LjIyCi8vIEBjb25uZWN0ICAgICAgNTkuMTEwLjIyNi4zCi8vIEBjb25uZWN0ICAgICAgYmFpZHUuY29tCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICBsZXQgZ2xvYmFsRGF0YSA9IHsKICAgICAgICBzY3JpcHRWZXJzaW9uOiAnMS41LjUnLAogICAgICAgIGRvbWFpbjogJ2h0dHA6Ly84Mi4xNTYuNjUuMTc5JywKICAgICAgICBkb21haW5COiAnaHR0cDovL2JkLnl5eHhzLmNuJywKICAgICAgICBkb21haW5DOiAnaHR0cDovLzgyLjE1Ni4xNS4xNDknLAogICAgICAgIGRvbWFpbkQ6ICdodHRwOi8vNDIuMTkzLjUxLjYxJywKICAgICAgICBkb21haW5FOiAnaHR0cDovLzgxLjcwLjI1My45OScsCiAgICAgICAgZG9tYWluRjogJ2h0dHA6Ly8xMTkuMjguMTM5LjIxNCcsCiAgICAgICAgZG9tYWluRzogJ2h0dHA6Ly80OS4yMzQuNDcuMTkzJywKICAgICAgICAvLyBkb21haW5IOiAnaHR0cDovL2xvY2FsaG9zdDo0ODgxOCcsCiAgICAgICAgcGFyYW06ICcnLAogICAgICAgIGRvd25sb2FkaW5nOiAwLAogICAgICAgIHNlbmRpbmc6IDAsCiAgICAgICAgc3RvcmFnZU5hbWVQcmVmaXg6ICdzb2Z0eG1fc3RvcmFnZU5hbWUnLCAvLyDmnKzlnLDlgqjlrZjlkI3np7DliY3nvIAKICAgICAgICBwYXJhbURvbWFpbjogYGh0dHBzOi8vc29mdHhtLmxhbnpvdWkuY29tYCwgLy8g5pWZ56iL6Lez6L2s5Zyw5Z2ACiAgICAgICAgcGFyYW1Eb21haW4yOiBgaHR0cHM6Ly9waWMucm1iLmJkc3RhdGljLmNvbWAsIC8vIOaVmeeoi+i3s+i9rOWcsOWdgAogICAgfQoKICAgIGxldCBnZXRBcHBTZXR0aW5nRGF0YSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzY3JpcHRWZXJzaW9uOiBnbG9iYWxEYXRhLnNjcmlwdFZlcnNpb24sCiAgICAgICAgICAgIHBhcmFtOiBnbG9iYWxEYXRhLnBhcmFtLAogICAgICAgICAgICBzdG9yYWdlTmFtZVByZWZpeDogZ2xvYmFsRGF0YS5zdG9yYWdlTmFtZVByZWZpeCwKICAgICAgICAgICAgZ2V0RG93bmxvYWRVcmw6IGAvYmQvZ2V0RG93bmxvYWRVcmwyLnBocGAsCiAgICAgICAgICAgIC8vIHBhcmFtVXJsOiBgJHtnbG9iYWxEYXRhLnBhcmFtRG9tYWlufS9wYXJhbXMuZGF0YS5sb2NhbGhvc3RgLCAvLyDmlZnnqIvot7PovazlnLDlnYAKICAgICAgICAgICAgLy8gcGFyYW1Vcmw6IGAke2dsb2JhbERhdGEucGFyYW1Eb21haW59L2IwMW5xYzd5amAsIC8vIOaVmeeoi+i3s+i9rOWcsOWdgAogICAgICAgICAgICBhcmlhMkRvd25sb2FkVXJsOiBgJHtnbG9iYWxEYXRhLnBhcmFtRG9tYWlufS9iMDFucWM3eWpgLCAvLyBBcmlhMui9r+S7tuS4i+i9veWcsOWdgAogICAgICAgICAgICBhcmlhMkNvdXJzZVVybDogYGh0dHBzOi8vd3d3LmNuYmxvZ3MuY29tL3NvZnR4bW0vcC8xMzk3MjY3OC5odG1sI2FyaWEyYCwgLy8gQXJpYTLmlZnnqIvlnLDlnYAKICAgICAgICAgICAgaWRtRG93bmxvYWRVcmw6IGBodHRwczovL3d3dy5jbmJsb2dzLmNvbS9zb2Z0eG1tL3AvMTM5NzI2NzguaHRtbCNpZG1gLCAvLyBpZG3mlZnnqIvlnLDlnYAKICAgICAgICB9CiAgICB9CgogICAgbGV0IHRtcERhdGEgPSB7CiAgICAgICAgcmVzcG9uc2U6ICcnLAogICAgICAgIHB3ZDogJycsCiAgICAgICAgZnNfaWQ6ICcnLAogICAgICAgIHRva2VuOiAnJywKICAgIH0KCiAgICBsZXQgY29uZmlnRGVmYXVsdCA9IHsKICAgICAgICBzYXZlUGF0aDogJ0Q6XFxfX2Vhc3lIZWxwZXJfXycsCiAgICAgICAganNvblJwYzogJ2h0dHA6Ly9sb2NhbGhvc3Q6NjgwMC9qc29ucnBjJywKICAgICAgICB0b2tlbjogJycsCiAgICAgICAgbWluZTogJycsCiAgICAgICAgY29kZTogJycsCiAgICB9OwogICAgbGV0IGdldENvbmZpZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyDkuIrmrKHkvb/nlKggPiDlupTnlKjphY3nva4gPiDku6PnoIHpu5jorqQKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzYXZlUGF0aDogZ2V0U3RvcmFnZS5nZXRMYXN0VXNlKCdzYXZlUGF0aCcpIHx8IGdldFN0b3JhZ2UuZ2V0QXBwQ29uZmlnKCdzYXZlUGF0aCcpIHx8IGNvbmZpZ0RlZmF1bHQuc2F2ZVBhdGgsCiAgICAgICAgICAgIGpzb25ScGM6IGdldFN0b3JhZ2UuZ2V0TGFzdFVzZSgnanNvblJwYycpIHx8IGdldFN0b3JhZ2UuZ2V0QXBwQ29uZmlnKCdqc29uUnBjJykgfHwgY29uZmlnRGVmYXVsdC5qc29uUnBjLAogICAgICAgICAgICB0b2tlbjogZ2V0U3RvcmFnZS5nZXRMYXN0VXNlKCd0b2tlbicpIHx8IGdldFN0b3JhZ2UuZ2V0QXBwQ29uZmlnKCd0b2tlbicpIHx8IGNvbmZpZ0RlZmF1bHQudG9rZW4sCiAgICAgICAgICAgIG1pbmU6IGdldFN0b3JhZ2UuZ2V0TGFzdFVzZSgnbWluZScpIHx8IGdldFN0b3JhZ2UuZ2V0QXBwQ29uZmlnKCdtaW5lJykgfHwgY29uZmlnRGVmYXVsdC5taW5lLAogICAgICAgICAgICBjb2RlOiBnZXRTdG9yYWdlLmdldExhc3RVc2UoJ2NvZGUnKSB8fCBjb25maWdEZWZhdWx0LmNvZGUsCiAgICAgICAgfQogICAgfQogICAgbGV0IGdldFN0b3JhZ2UgPSB7CiAgICAgICAgZ2V0QXBwQ29uZmlnOiAoa2V5KSA9PiB7CiAgICAgICAgICAgIHJldHVybiBHTV9nZXRWYWx1ZShnZXRBcHBTZXR0aW5nRGF0YSgpLnN0b3JhZ2VOYW1lUHJlZml4ICsgJ19hcHBfJyArIGtleSkgfHwgJyc7CiAgICAgICAgfSwKICAgICAgICBzZXRBcHBDb25maWc6IChrZXksIHZhbHVlKSA9PiB7CiAgICAgICAgICAgIEdNX3NldFZhbHVlKGdldEFwcFNldHRpbmdEYXRhKCkuc3RvcmFnZU5hbWVQcmVmaXggKyAnX2FwcF8nICsga2V5LCB2YWx1ZSB8fCAnJyk7CiAgICAgICAgfSwKICAgICAgICBnZXRMYXN0VXNlOiAoa2V5KSA9PiB7CiAgICAgICAgICAgIHJldHVybiBHTV9nZXRWYWx1ZShnZXRBcHBTZXR0aW5nRGF0YSgpLnN0b3JhZ2VOYW1lUHJlZml4ICsgJ19sYXN0XycgKyBrZXkpIHx8ICcnOwogICAgICAgIH0sCiAgICAgICAgc2V0TGFzdFVzZTogKGtleSwgdmFsdWUpID0+IHsKICAgICAgICAgICAgR01fc2V0VmFsdWUoZ2V0QXBwU2V0dGluZ0RhdGEoKS5zdG9yYWdlTmFtZVByZWZpeCArICdfbGFzdF8nICsga2V5LCB2YWx1ZSB8fCAnJyk7CiAgICAgICAgfSwKICAgICAgICBnZXRDb21tb25WYWx1ZTogKGtleSkgPT4gewogICAgICAgICAgICByZXR1cm4gR01fZ2V0VmFsdWUoZ2V0QXBwU2V0dGluZ0RhdGEoKS5zdG9yYWdlTmFtZVByZWZpeCArICdfY29tbW9uXycgKyBrZXkpIHx8ICcnOwogICAgICAgIH0sCiAgICAgICAgc2V0Q29tbW9uVmFsdWU6IChrZXksIHZhbHVlKSA9PiB7CiAgICAgICAgICAgIEdNX3NldFZhbHVlKGdldEFwcFNldHRpbmdEYXRhKCkuc3RvcmFnZU5hbWVQcmVmaXggKyAnX2NvbW1vbl8nICsga2V5LCB2YWx1ZSB8fCAnJyk7CiAgICAgICAgfQogICAgfQoKICAgIGxldCB1SW5mbyA9IHt9OwoKICAgIGxldCBpc09sZEhvbWVQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgIGxldCB1cmwgPSBsb2NhdGlvbi5ocmVmOwogICAgICAgIGlmICh1cmwuaW5kZXhPZigiLmJhaWR1LmNvbS9kaXNrL2hvbWUiKSA+IDApIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH07CgogICAgbGV0IGlzTmV3SG9tZVBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgbGV0IHVybCA9IGxvY2F0aW9uLmhyZWY7CiAgICAgICAgaWYgKHVybC5pbmRleE9mKCIuYmFpZHUuY29tL2Rpc2svbWFpbiIpID4gMCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfTsKCiAgICBsZXQgaXNTaGFyZVBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgbGV0IHBhdGggPSBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKCcvZGlzay8nLCAnJyk7CiAgICAgICAgaWYgKC9eXC8oc3xzaGFyZSlcLy8udGVzdChwYXRoKSkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIGxldCBnZXRTZWxlY3RlZEZpbGVMaXN0ID0gZnVuY3Rpb24gKCkgewogICAgICAgIGxldCBwYWdlVHlwZSA9IGdldFBhZ2VUeXBlKCk7CiAgICAgICAgaWYgKHBhZ2VUeXBlID09PSAnb2xkJykgewogICAgICAgICAgICByZXR1cm4gcmVxdWlyZSgnc3lzdGVtLWNvcmU6Y29udGV4dC9jb250ZXh0LmpzJykuaW5zdGFuY2VGb3JTeXN0ZW0ubGlzdC5nZXRTZWxlY3RlZCgpOwogICAgICAgIH0KICAgICAgICBpZiAocGFnZVR5cGUgPT09ICduZXcnKSB7CiAgICAgICAgICAgIGxldCBtYWluTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZC1tYWluLWxpc3QnKTsKICAgICAgICAgICAgaWYgKCFtYWluTGlzdCkgbWFpbkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmQtbmV3LW1haW4tbGlzdCcpOy8vMjAyMjA1MjQg5paw54mICiAgICAgICAgICAgIHJldHVybiBtYWluTGlzdC5fX3Z1ZV9fLnNlbGVjdGVkTGlzdDsKICAgICAgICB9CiAgICB9OwoKICAgIGxldCBnZXRGaWxlTGlzdFN0YXQgPSBmdW5jdGlvbiAoZmlsZUxpc3QpIHsKICAgICAgICBsZXQgZmlsZVN0YXQgPSB7CiAgICAgICAgICAgIGZpbGVfbnVtOiAwLAogICAgICAgICAgICBkaXJfbnVtOiAwCiAgICAgICAgfTsKICAgICAgICBmaWxlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGlmIChpdGVtLmlzZGlyID09IDApIHsKICAgICAgICAgICAgICAgIGZpbGVTdGF0LmZpbGVfbnVtKys7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBmaWxlU3RhdC5kaXJfbnVtKys7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmlsZVN0YXQ7CiAgICB9OwoKICAgIGxldCBpbml0QnV0dG9uRXZlbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coJ2luaXRCdXR0b25FdmVudOWIneWni+WMluaMiemSruS6i+S7ticpOwogICAgICAgIGxldCBwYWdlVHlwZSA9IGdldFBhZ2VUeXBlKCk7CiAgICAgICAgbGV0IHl1bkRhdGEgPSBnZXRZdW5EYXRhKCk7CiAgICAgICAgaWYgKCF5dW5EYXRhICYmIHBhZ2VUeXBlICE9ICduZXcnKSB7CiAgICAgICAgICAgIHNob3dMb2dpbigpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8v5pqC5pe26ZmQ5Yi25Y+q6IO95Zyo566h55CG6aG16Z2i5Lit5L2/55SoCiAgICAgICAgaWYgKHBhZ2VUeXBlID09PSAnc2hhcmUnKSB7CiAgICAgICAgICAgIHNob3dUaXBFcnJvclN3YWwoJ+W/hemhu+WFiOi9rOWtmOWIsOiHquW3see9keebmOS4re+8jOeEtuWQjui/m+WFpee9keebmOi/m+ihjOS4i+i9ve+8gScpOwogICAgICAgICAgICBjb25zb2xlLmxvZygn5b+F6aG75YWI6L2s5a2Y5Yiw6Ieq5bex572R55uY5LitJyk7CiAgICAgICAgICAgIHNob3dTaGFyZVNhdmUoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsZXQgZmlsZUxpc3QgPSBnZXRTZWxlY3RlZEZpbGVMaXN0KCk7CiAgICAgICAgICAgIGxldCBmaWxlU3RhdCA9IGdldEZpbGVMaXN0U3RhdChmaWxlTGlzdCk7CiAgICAgICAgICAgIGlmIChmaWxlTGlzdC5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIGlmIChmaWxlU3RhdC5maWxlX251bSA+IDEgfHwgZmlsZVN0YXQuZGlyX251bSA+IDApIHsKICAgICAgICAgICAgICAgICAgICBzaG93VGlwRXJyb3IoJ+ivt+mAieaLqeS4gOS4quaWh+S7tui/m+ihjOS4i+i9ve+8iOaaguaXtuS4jeaUr+aMgeaWh+S7tuWkueWSjOWkmuaWh+S7tuaJuemHj+S4i+i9ve+8iScpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZmlsZVN0YXQuZGlyX251bSA9PSAwICYmIGZpbGVTdGF0LmZpbGVfbnVtID09IDEpIHsKICAgICAgICAgICAgICAgICAgICBzaG93RG93bmxvYWREaWFsb2coZmlsZUxpc3QsIGZpbGVTdGF0KTsKICAgICAgICAgICAgICAgICAgICBzZXRTaGFyZUNvbXBsZXRlU3RhdGUoKTsKICAgICAgICAgICAgICAgICAgICAvL+iHquWKqOS4i+i9vQogICAgICAgICAgICAgICAgICAgIC8vIGdldEpxdWVyeSgpKCIjZGlhbG9nQnRuR2V0VXJsIikuY2xpY2soKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNob3dUaXBFcnJvclN3YWwoJ+ivt+mAieaLqeS4gOS4quaWh+S7tui/m+ihjOS4i+i9vScpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKCiAgICBsZXQgZ2V0WXVuRGF0YSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdW5zYWZlV2luZG93Lnl1bkRhdGE7CiAgICB9OwoKICAgIGxldCBzaG93VGlwRXJyb3JTd2FsID0gZnVuY3Rpb24gKGVycikgewogICAgICAgIHNob3dTd2FsKGVyciwge2ljb246ICdlcnJvcid9KTsKICAgIH0KICAgIGxldCBzaG93VGlwRXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgLy8gc2hvd1N3YWwoZXJyLHtpY29uOiAnZXJyb3InfSk7CiAgICAgICAgYWxlcnQoZXJyKTsKICAgIH0KICAgIGxldCBzaG93VGlwSW5mbyA9IGZ1bmN0aW9uIChpbmZvKSB7CiAgICAgICAgZ2V0SnF1ZXJ5KCkoIiNkaWFsb2dPcFRpcHMiKS5zaG93KCkuaHRtbChpbmZvKTsKICAgIH0KICAgIGxldCBzaG93VGlwSW5mb0FyaWEgPSBmdW5jdGlvbiAoaW5mbykgewogICAgICAgIGdldEpxdWVyeSgpKCIjZGlhbG9nT3BUaXBzQXJpYSIpLnNob3coKS5odG1sKGluZm8pOwogICAgfQogICAgbGV0IHNob3dUaXBJbmZvSWRtID0gZnVuY3Rpb24gKGluZm8pIHsKICAgICAgICBnZXRKcXVlcnkoKSgiI2RpYWxvZ09wVGlwc0lkbSIpLnNob3coKS5odG1sKGluZm8pOwogICAgfQoKICAgIGxldCBzaG93U3dhbCA9IGZ1bmN0aW9uIChjb250ZW50LCBvcHRpb24pIHsKICAgICAgICBkaXZUaXBzLmlubmVySFRNTCA9IGNvbnRlbnQ7CiAgICAgICAgb3B0aW9uLmNvbnRlbnQgPSBkaXZUaXBzOwogICAgICAgIGlmICghb3B0aW9uLmhhc093blByb3BlcnR5KCdidXR0b24nKSkgewogICAgICAgICAgICBvcHRpb24uYnV0dG9uID0gJ+aclSDnn6Ug6YGTIOS6hicKICAgICAgICB9CiAgICAgICAgc3dhbChvcHRpb24pOwogICAgfQoKICAgIGxldCBnZXRKcXVlcnkgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gcmV0dXJuIHJlcXVpcmUoImJhc2U6d2lkZ2V0L2xpYnMvanF1ZXJ5cGFja2V0LmpzIik7CiAgICAgICAgcmV0dXJuICQ7CiAgICB9OwogICAgbGV0IHNob3dMb2dpbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXF1aXJlKCJiYXNlOndpZGdldC9saWJzL2pxdWVyeXBhY2tldC5qcyIpKCJbbm9kZS10eXBlPSdoZWFkZXItbG9naW4tYnRuJ10iKS5jbGljaygpOwogICAgfTsKICAgIGxldCBzaG93U2hhcmVTYXZlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJlcXVpcmUoImJhc2U6d2lkZ2V0L2xpYnMvanF1ZXJ5cGFja2V0LmpzIikoIltub2RlLXR5cGU9J3NoYXJlU2F2ZSddIikuY2xpY2soKTsKICAgIH07CgogICAgLy/kuIvovb3pnaLmnb8KICAgIGxldCBzaG93RG93bmxvYWREaWFsb2cgPSBmdW5jdGlvbiAoZmlsZUxpc3QsIGZpbGVTdGF0KSB7CiAgICAgICAgbGV0IHRoZUZpbGUgPSBmaWxlTGlzdFswXTsKICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGVGaWxlKTsKICAgICAgICBsZXQgY29udGVudCA9IGAKICAgICAgICAgICAgPGRpdiBpZD0iZG93bmxvYWREaWFsb2ciPgogICAgICAgICAgICAgICAgPGRpdiBpZD0iZGlhbG9nVG9wIj4KICAgICAgICAgICAgICAgICAgICDor7fngrnlh7vkuIvmlrnmjInpkq7vvIzlvIDlp4vkuIvovb0gPHNwYW4gaWQ9ImRpYWxvZ0ZpbGVOYW1lIj4ke0N1dFN0cmluZyh0aGVGaWxlLnNlcnZlcl9maWxlbmFtZSwgNDApfTwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBpZD0iZGlhbG9nTWlkZGxlIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJkaWFsb2dMZWZ0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZGlhbG9nTGVmdFRpcHMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZGlhbG9nTGVmdFRpcHMxIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPuOAkOaWueW8jzHjgJE8L3N0cm9uZz5JRE0g5b+F6aG76K6+572uNOe6v+eoi+WPiuS/ruaUuVVB77yI5Lul5pWZ56iL5Li65YeG77yJPC9zdHJvbmc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGlhbG9nTGVmdFRpcHNMaW5rIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJHtnZXRBcHBTZXR0aW5nRGF0YSgpLmFyaWEyRG93bmxvYWRVcmx9IiB0YXJnZXQ9Il9ibGFuayI+44CQ54K55Ye75LiL6L29SURN44CRPC9hPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOzxhIGhyZWY9IiR7Z2V0QXBwU2V0dGluZ0RhdGEoKS5pZG1Eb3dubG9hZFVybH0iIHRhcmdldD0iX2JsYW5rIj7jgJBJRE3phY3nva7mlZnnqIvjgJE8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImRpYWxvZ0xlZnRUaXBzMiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7jgJDmlrnlvI8y44CRPC9zdHJvbmc+QXJpYTIg5peg6ZyA6YWN572u5Y2z5Y+v5L2/55SoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGlhbG9nTGVmdFRpcHNMaW5rIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJHtnZXRBcHBTZXR0aW5nRGF0YSgpLmFyaWEyRG93bmxvYWRVcmx9IiB0YXJnZXQ9Il9ibGFuayI+44CQ54K55Ye75LiL6L29QXJpYTLjgJE8L2E+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7PGEgaHJlZj0iJHtnZXRBcHBTZXR0aW5nRGF0YSgpLmFyaWEyQ291cnNlVXJsfSIgdGFyZ2V0PSJfYmxhbmsiPuOAkEFyaWEy5L2/55So5pWZ56iL44CRPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJkaWFsb2dRciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGlkPSJkaWFsb2dRckltZyIgc3JjPSJodHRwczovL3BpYy5ybWIuYmRzdGF0aWMuY29tL2JqaC9mYWExNjYxZTU0YWIxYmY0OTFiZjYzMGZlMTZmMjc3Yi5naWYiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImRpYWxvZ1JpZ2h0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZGlhbG9nQ29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9ImRpYWxvZ0J0bkdldFVybCIgdHlwZT0iYnV0dG9uIiB2YWx1ZT0i54K55Ye76I635Y+W55u06ZO+5Zyw5Z2AIiBjbGFzcz0iYnRuSW50ZXJmYWNlIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZGlhbG9nUmVtYXJrIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pagIElETeS4i+i9vemAn+W6pjxzdHJvbmc+Nk0vczwvc3Ryb25nPuW3puWPs++8jEFyaWEy5LiL6L296YCf5bqm5Y+v5LulPHN0cm9uZz7ot5Hmu6HluKblrr08L3N0cm9uZz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilqAg5LiL6L296YCf5bqmPHN0cm9uZz7lm6DkurrogIzlvII8L3N0cm9uZz7vvIznibnliKvmmK/lhbHkuqvnvZHnu5zvvIjkvovlpoIg5qCh5Zut572R77yJCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImRpYWxvZ09wVGlwcyI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJkaWFsb2dWYXB0Y2hhQ29kZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZGlhbG9nVmFwdGNoYUNvZGVJbnB1dCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJkaWFsb2dWYXB0Y2hhQ29kZVRpcHMiPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJkaWFsb2dDb2RlIiB0eXBlPSJ0ZXh0IiB2YWx1ZT0iJHtnZXRDb25maWcoKS5jb2RlfSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJkaWFsb2dDb2RlUmVtYXJrIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZGlhbG9nT3BCdXR0b25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9ImRpYWxvZ0J0bklkbSIgdHlwZT0iYnV0dG9uIiBkYXRhLWNsaXBib2FyZC10ZXh0PSIiIHZhbHVlPSLlpI3liLbnm7Tpk77lnLDlnYAiIGNsYXNzPSJidG5JbnRlcmZhY2UgYnRuR3JlZW4iIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZGlhbG9nT3BUaXBzSWRtIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9ImRpYWxvZ0J0bkFyaWEiIHR5cGU9ImJ1dHRvbiIgdmFsdWU9IuWPkemAgeiHs0FyaWEyIiBjbGFzcz0iYnRuSW50ZXJmYWNlIGJ0bkdyZWVuIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImRpYWxvZ09wVGlwc0FyaWEiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImRpYWxvZ0RpdlNhdmVQYXRoIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5L+d5a2Y6Lev5b6E77yaPGlucHV0IHR5cGU9InRleHQiIGlkPSJkaWFsb2dUeHRTYXZlUGF0aCIgdmFsdWU9IiR7Z2V0Q29uZmlnKCkuc2F2ZVBhdGh9IiBzdHlsZT0id2lkdGg6IDE3MHB4OyIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9ImRpYWxvZ0FyaWFDb25maWdDbGljayI+6YWN572uQXJpYTI+Pjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZGlhbG9nQXJpYUNvbmZpZyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImRpYWxvZ0FyaWFSUEMiIHZhbHVlPSIke2dldENvbmZpZygpLmpzb25ScGN9IiB0aXRsZT0iUlBD5Zyw5Z2AIiBwbGFjZWhvbGRlcj0iUlBD5Zyw5Z2AIiBzdHlsZT0id2lkdGg6IDI0MHB4OyIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZGlhbG9nQXJpYVRva2VuIiB2YWx1ZT0iJHtnZXRDb25maWcoKS50b2tlbn0iIHRpdGxlPSJ0b2tlbiIgcGxhY2Vob2xkZXI9InRva2VuIiBzdHlsZT0id2lkdGg6IDc3cHg7IiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJkaWFsb2dBcmlhTWluZSIgdmFsdWU9ImNoZWNrZWQiICR7Z2V0Q29uZmlnKCkubWluZX0+IOaIkeS9v+eUqOiHquW3seeahEFyaWEy77yI5aaC5LiN5oeC77yM5Yu/5Yu+6YCJ77yJCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJkaWFsb2dDbGVhciI+PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJkaWFsb2dCb3R0b20iPuS8l+aJgOWRqOefpeeahOWOn+WboO+8jOiEmuacrOS4jeWPr+iDveW4uOWcqO+8jOS9huS9nOiAheW4uOWcqO+8jOWFs+azqOaJjeiDveS4jei/t+i3r++8ge+8ge+8gTwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICBgOwogICAgICAgIHNob3dTd2FsKGNvbnRlbnQsIHsKICAgICAgICAgICAgYnV0dG9uOiAn5YWzIOmXrScsCiAgICAgICAgICAgIGNsb3NlT25DbGlja091dHNpZGU6IGZhbHNlCiAgICAgICAgfSk7CgogICAgICAgIC8v5YiG5Lqr77yI5YWl5Y+jIO+8iQogICAgICAgIGxldCBkaWFsb2dCdG5DbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKGdsb2JhbERhdGEuZG93bmxvYWRpbmcgPT09IDEpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZXRTaGFyZVN0YXJ0U3RhdGUoKTsKICAgICAgICAgICAgLy/liKTmlq3mmK/lkKblt7LliIbkuqvov4for6Xmlofku7bvvIjkuI3ph43lpI3liIbkuqvvvIzku4XpmZDkuo7lvZPliY3nqpflj6PnmoTkuIrkuIDmrKHliIbkuqvvvIkKICAgICAgICAgICAgbGV0IHQgPSBnZXRUbXBEYXRhKCk7CiAgICAgICAgICAgIGlmICh0LnJlc3BvbnNlICYmIHQuZnNfaWQgPT0gdGhlRmlsZS5mc19pZCkgewogICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCflt7LliIbkuqvov4fmraTmlofku7bvvIzkuI3lho3ph43lpI3liIbkuqsnKTsKICAgICAgICAgICAgICAgIGdldERvd25sb2FkVXJsKHQucmVzcG9uc2UsIHQucHdkLCB0LmZzX2lkLCAnJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ+acquWIhuS6q+i/h+atpOaWh+S7tu+8jOW8gOWni+WIhuS6qycpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvL+iOt+WPluaVsOaNrgogICAgICAgICAgICBsZXQgYmRzdG9rZW4gPSAnJzsvL3Vuc2FmZVdpbmRvdy5sb2NhbHMuZ2V0KCdiZHN0b2tlbicpOwogICAgICAgICAgICBsZXQgcHdkID0gZ2V0Um5kUHdkKDQpOwogICAgICAgICAgICAvLys9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgICAgICAvL+WIhuS6qwogICAgICAgICAgICBsZXQgZGV0YWlscyA9IHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsCiAgICAgICAgICAgICAgICB0aW1lb3V0OiAxMDAwMCwgLy8gMTDnp5LotoXml7YKICAgICAgICAgICAgICAgIHVybDogYC9zaGFyZS9zZXQ/Y2hhbm5lbD1jaHVubGVpJmNsaWVudHR5cGU9MCZ3ZWI9MSZjaGFubmVsPWNodW5sZWkmd2ViPTEmYXBwX2lkPTI1MDUyOCZiZHN0b2tlbj0ke2Jkc3Rva2VufSZjbGllbnR0eXBlPTBgLAogICAgICAgICAgICAgICAgZGF0YTogYGZpZF9saXN0PVske3RoZUZpbGUuZnNfaWR9XSZzY2hhbm5lbD00JmNoYW5uZWxfbGlzdD1bXSZwZXJpb2Q9MSZwd2Q9JHtwd2R9YCwKICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCfliIbkuqvmlofku7bml7bvvIznmb7luqbov5Tlm57vvJonLCByZXMpOwogICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyZXMucmVzcG9uc2UuZXJybm8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVE9ET++8mueci+eci+eZvuW6puWTqumHjOaciei/meS6m+eKtuaAgeeggeino+mHigogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiAvLyDmraPluLjov5Tlm54KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+aKinJlc3BvbnNlLCBwd2QsIGZzX2lk5a2Y5Yiw5YWs55So5Y+Y6YeP77yM54S25ZCO5ZyocGFzc+S6i+S7tuS4reWGjeWPluWHugogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRtcERhdGEocmVzLnJlc3BvbnNlLCBwd2QsIHRoZUZpbGUuZnNfaWQsICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXREb3dubG9hZFVybChyZXMucmVzcG9uc2UsIHB3ZCwgdGhlRmlsZS5mc19pZCwgJycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcEluZm8oJ+WPkeeUn+mUmeivr++8gScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcEVycm9yKCfnmb7luqbor7TvvJrmgqjku4rlpKnliIbkuqvlpKrlpJrkuobvvIwyNOWwj+aXtuWQjuWGjeivleWQp++8gVxu55m+5bqm6L+U5Zue54q25oCB56CB77yaJyArIHJlcy5yZXNwb25zZS5lcnJubyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hhcmVDb21wbGV0ZVN0YXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcEluZm8oJ+WPkeeUn+mUmeivr++8gScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcEVycm9yKCfnmb7luqbor7TvvJror6Xmlofku7bnpoHmraLliIbkuqvvvIFcbueZvuW6pui/lOWbnueKtuaAgeegge+8micgKyByZXMucmVzcG9uc2UuZXJybm8pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNoYXJlQ29tcGxldGVTdGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgLTY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcEluZm8oJ+WPkeeUn+mUmeivr++8gScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcEVycm9yKCfnmb7luqbor7TvvJror7fph43mlrDnmbvlvZXvvIFcbueZvuW6pui/lOWbnueKtuaAgeegge+8micgKyByZXMucmVzcG9uc2UuZXJybm8pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNoYXJlQ29tcGxldGVTdGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IC8vIOWFtuWug+mUmeivrwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBJbmZvKCflj5HnlJ/plJnor6/vvIEnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBFcnJvcign5YiG5Lqr5paH5Lu25aSx6LSl77yM6K+36YeN6K+V77yBXG7nmb7luqbov5Tlm57nirbmgIHnoIHvvJonICsgcmVzLnJlc3BvbnNlLmVycm5vICsgJ1xu5L2/55So55m+5bqm5YiG5Lqr5oyJ6ZKu6K+V6K+V77yM5bCx55+l6YGT5YW35L2T5Y6f5Zug5LqG44CCJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hhcmVDb21wbGV0ZVN0YXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcEluZm8oJ+WPkeeUn+mUmeivr++8gScpCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBFcnJvcign5YiG5Lqr5paH5Lu25aSx6LSl77yM5a+86Ie05peg5rOV6I635Y+W55u06ZO+5LiL6L295Zyw5Z2A77yBXG7nmb7luqbov5Tlm57vvJonICsgcmVzLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNoYXJlQ29tcGxldGVTdGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9udGltZW91dDogKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgIHNob3dUaXBJbmZvKCflj5HnlJ/plJnor6/vvIEnKQogICAgICAgICAgICAgICAgICAgIHNob3dUaXBFcnJvcign5YiG5Lqr5paH5Lu25pe26L+e5o6l55m+5bqm5o6l5Y+j6LaF5pe277yM6K+36YeN6K+V77yBJyk7CiAgICAgICAgICAgICAgICAgICAgc2V0U2hhcmVDb21wbGV0ZVN0YXRlKCk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXMpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9uZXJyb3I6IChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICBzaG93VGlwSW5mbygn5Y+R55Sf6ZSZ6K+v77yBJykKICAgICAgICAgICAgICAgICAgICBzaG93VGlwRXJyb3IoJ+WIhuS6q+aWh+S7tuaXtuWPkeeUn+mUmeivr++8jOivt+mHjeivle+8gScpOwogICAgICAgICAgICAgICAgICAgIHNldFNoYXJlQ29tcGxldGVTdGF0ZSgpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KGRldGFpbHMpOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgc2hvd1RpcEluZm8oJ+WPkeeUn+mUmeivr++8gScpCiAgICAgICAgICAgICAgICBzaG93VGlwRXJyb3IoJ+acquefpemUmeivr++8jOivt+mHjeivle+8gScpOwogICAgICAgICAgICAgICAgc2V0U2hhcmVDb21wbGV0ZVN0YXRlKCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIC8v57uR5a6a5oyJ6ZKu54K55Ye777yI54K55Ye76I635Y+W55u06ZO+5Zyw5Z2A77yJCiAgICAgICAgZ2V0SnF1ZXJ5KCkoIiNkaWFsb2dCdG5HZXRVcmwiKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGRpYWxvZ0J0bkNsaWNrKCkKICAgICAgICB9KTsKICAgICAgICAvL+eCueWHu+mFjee9rkFyaWEyCiAgICAgICAgZ2V0SnF1ZXJ5KCkoIiNkaWFsb2dBcmlhQ29uZmlnQ2xpY2siKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHNob3dBcmlhQ29uZmlnKCkKICAgICAgICB9KTsKICAgICAgICAvLyDnu5Hlrprngrnlh7vlpI3liLbkuovku7YKICAgICAgICBjb3B5VXJsMkNsaXBib2FyZCgpOwogICAgfTsKCiAgICAvL+ivt+axguWkh+eUqOWPguaVsAogICAgbGV0IGdldFBhcmFtcyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBsZXQgaGtVcmwgPSAiaHR0cHM6Ly9wYW4uYmFpZHUuY29tL3BjbG91ZC91c2VyL2dldGluZm8/cXVlcnlfdWs9Mjk0Mjg0NDc0MiI7CiAgICAgICAgLy8gbGV0IGhrVXJsID0gImh0dHA6Ly9sb2NhbGhvc3Q6NDg4MTgvYmQvZ2V0aW5mby5waHA/cXVlcnlfdWs9Mjk0Mjg0NDc0MiI7CiAgICAgICAgbGV0IGRldGFpbHMgPSB7CiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwLCAvLyAxMOenkui2heaXtgogICAgICAgICAgICB1cmw6IGhrVXJsICsgJyYnICsgbmV3IERhdGUoKS5nZXRUaW1lKCksCiAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLAogICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICBnbG9iYWxEYXRhLmRvbWFpbkIgPSByZXMucmVzcG9uc2UudXNlcl9pbmZvLmludHJvOwogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUuaW5mbygiZG9tYWluQu+8miIgKyBnbG9iYWxEYXRhLmRvbWFpbkIpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlcyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KGRldGFpbHMpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgIH0KICAgIH0KCiAgICBsZXQgZ2V0VUluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgbGV0IHVybCA9ICJodHRwczovL3Bhbi5iYWlkdS5jb20vcmVzdC8yLjAveHBhbi9uYXM/bWV0aG9kPXVpbmZvIjsKICAgICAgICBsZXQgZGV0YWlscyA9IHsKICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgdGltZW91dDogMTAwMDAsIC8vIDEw56eS6LaF5pe2CiAgICAgICAgICAgIHVybDogdXJsICsgJyYnICsgbmV3IERhdGUoKS5nZXRUaW1lKCksCiAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLAogICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICB1SW5mbyA9IHJlcy5yZXNwb25zZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB0cnkgewogICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdChkZXRhaWxzKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICB9CiAgICB9CiAgICBsZXQgc2V0U2hhcmVTdGFydFN0YXRlID0gZnVuY3Rpb24gKCkgewogICAgICAgIGdsb2JhbERhdGEuZG93bmxvYWRpbmcgPSAxOwogICAgICAgIHNob3dUaXBJbmZvKCfmraPlnKjliIbkuqvmlofku7YuLi4nKQogICAgICAgIC8v5L+d5a2Y55So5oi36L6T5YWl55qE5pWw5o2uCiAgICAgICAgc2F2ZUxhc3RVc2VEYXRhKCk7CiAgICAgICAgZ2V0SnF1ZXJ5KCkoJyNkaWFsb2dWYXB0Y2hhQ29kZScpLmhpZGUoKTsKICAgIH0KICAgIGxldCBzZXRTaGFyZUNvbXBsZXRlU3RhdGUgPSBmdW5jdGlvbiAoaXNTdWNjZXNzKSB7CiAgICAgICAgaXNTdWNjZXNzID0gaXNTdWNjZXNzIHx8IGZhbHNlOwogICAgICAgIGlmICghaXNTdWNjZXNzKSB7CiAgICAgICAgICAgIC8v5aSx6LSl5LmL5ZCO77yM5YWB6K646YeN5aSN54K55Ye75oyJ6ZKuCiAgICAgICAgICAgIGdsb2JhbERhdGEuZG93bmxvYWRpbmcgPSAwOwogICAgICAgIH0KICAgICAgICAvL+S/neWtmOeUqOaIt+i+k+WFpeeahOaVsOaNrgogICAgICAgIHNhdmVMYXN0VXNlRGF0YSgpOwogICAgICAgIC8v6YeN572udmFwdGNoYemqjOivgQogICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8v6Ziy5q2i5p+Q5Lqb55So5oi35peg5rOV6K6/6ZeudmFwdGNoYeWumOe9keiAjOS4reaWrQogICAgICAgICAgICBpZiAodmFwdGNoYUFsbCAhPT0gbnVsbCAmJiB2YXB0Y2hhQWxsLmhhc093blByb3BlcnR5KCJyZXNldCIpKSB7CiAgICAgICAgICAgICAgICB2YXB0Y2hhQWxsLnJlc2V0KCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oInZhcHRjaGFBbGwgaXMgdW5kZWZpbmVkIik7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICB9CiAgICB9CiAgICAvL+iwg+eUqOWHveaVsO+8mmFyaWFEb3dubG9hZAogICAgbGV0IHNldFNlbmRBcmlhU3RhcnRTdGF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBnbG9iYWxEYXRhLnNlbmRpbmcgPSAxOwogICAgICAgIHNob3dUaXBJbmZvQXJpYSgn5q2j5Zyo5Y+R6YCB6IezQXJpYTIuLi4nKTsKICAgICAgICAvLyBnZXRKcXVlcnkoKSgiI2RpYWxvZ0J0bkFyaWEiKS52YWwoJ+ato+WcqOWPkemAgeiHs0FyaWEyLi4uJyk7CiAgICAgICAgLy/kv53lrZjnlKjmiLfovpPlhaXnmoTmlbDmja4KICAgICAgICBzYXZlTGFzdFVzZURhdGEoKTsKICAgIH0KICAgIGxldCBzZXRTZW5kQXJpYUNvbXBsZXRlU3RhdGUgPSBmdW5jdGlvbiAoaXNTdWNjZXNzKSB7CiAgICAgICAgZ2xvYmFsRGF0YS5zZW5kaW5nID0gMDsKICAgICAgICBpZiAoaXNTdWNjZXNzKSB7CiAgICAgICAgICAgIGdldEpxdWVyeSgpKCIjZGlhbG9nQnRuQXJpYSIpLnZhbCgnQXJpYTLlt7Lnu4/lvIDlp4vkuIvovb3kuoYnKTsKICAgICAgICAgICAgLy8gc2hvd1RpcEluZm9BcmlhKCdBcmlhMuW3sue7j+W8gOWni+S4i+i9veS6hicpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGdldEpxdWVyeSgpKCIjZGlhbG9nQnRuQXJpYSIpLnZhbCgn5Y+R6YCB6IezQXJpYTInKTsKICAgICAgICAgICAgLy8gc2hvd1RpcEluZm9BcmlhKCdBcmlhMuW3sue7j+W8gOWni+S4i+i9veS6hu+8jOWIh+aNoui/h+WOu+eci+eci+WQp34nKTsKICAgICAgICB9CiAgICAgICAgLy/kv53lrZjnlKjmiLfovpPlhaXnmoTmlbDmja4KICAgICAgICBzYXZlTGFzdFVzZURhdGEoKTsKICAgIH0KCiAgICBsZXQgc2hvd0FyaWFDb25maWcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgbGV0IHQgPSBnZXRKcXVlcnkoKSgiI2RpYWxvZ0FyaWFDb25maWciKTsKICAgICAgICBpZiAodC5jc3MoImRpc3BsYXkiKSA9PSAibm9uZSIpIHsKICAgICAgICAgICAgdC5zaG93KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdC5oaWRlKCk7CiAgICAgICAgfQogICAgfQoKICAgIC8v5YiG5Lqr5oiQ5Yqf5ZCO77yM5byA5aeL5omL5Yq/6aqM6K+BCiAgICBsZXQgdmFwdGNoYVZhbGlkYXRlID0gZnVuY3Rpb24gKCkgewogICAgICAgIGxvYWRWYXB0Y2hhU2RrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFwdGNoYSh7CiAgICAgICAgICAgICAgICB2aWQ6ICI1ZmM1MjUyNjU2MTgxZWE4OWY5ZWFkMmUiLCAvLyDpqozor4HljZXlhYNpZAogICAgICAgICAgICAgICAgdHlwZTogImludmlzaWJsZSIsIC8vIOaYvuekuuexu+WeiyDpmpDol4/lvI8KICAgICAgICAgICAgICAgIHNjZW5lOiAxLCAvLyDlnLrmma/lgLwg6buY6K6kMAogICAgICAgICAgICAgICAgb2ZmbGluZV9zZXJ2ZXI6ICIiLCAvL+emu+e6v+aooeW8j+acjeWKoeerr+WcsOWdgO+8jOiLpeWwmuacqumFjee9ruemu+e6v+aooeW8j++8jOivt+Whq+WGmeS7u+aEj+WcsOWdgOWNs+WPr+OAggogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YXB0Y2hhT2JqKSB7CiAgICAgICAgICAgICAgICB2YXB0Y2hhQWxsID0gdmFwdGNoYU9iajsgLy/lsIZWQVBUQ0hB6aqM6K+B5a6e5L6L5L+d5a2Y5Yiw5YWo5bGA5Y+Y6YeP5LitCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2YXB0Y2hhQWxsKTsKCiAgICAgICAgICAgICAgICAvL+mqjOivgemAmui/h+aXtuinpuWPkQogICAgICAgICAgICAgICAgdmFwdGNoYUFsbC5saXN0ZW4oInBhc3MiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g6aqM6K+B5oiQ5Yqf6L+b6KGM5ZCO57ut5pON5L2cCiAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuID0gdmFwdGNoYUFsbC5nZXRUb2tlbigpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRva2VuKTsKICAgICAgICAgICAgICAgICAgICBsZXQgdCA9IGdldFRtcERhdGEoKTsKICAgICAgICAgICAgICAgICAgICBnZXREb3dubG9hZFVybCh0LnJlc3BvbnNlLCB0LnB3ZCwgdC5mc19pZCwgdG9rZW4pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy/lhbPpl63pqozor4HlvLnnqpfml7bop6blj5EKICAgICAgICAgICAgICAgIHZhcHRjaGFBbGwubGlzdGVuKCJjbG9zZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBzaG93VGlwSW5mbygn6YCa6L+H6aqM6K+B5omN5Y+v5Lul5Y+W55u06ZO+77yB54K55Ye75LiK6Z2i5oyJ6ZKu6YeN5paw5byA5aeL44CCJyk7CiAgICAgICAgICAgICAgICAgICAgc2V0U2hhcmVDb21wbGV0ZVN0YXRlKCkKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIC8v5byA5aeL5omL5Yq/6aqM6K+BCiAgICAgICAgICAgICAgICB2YXB0Y2hhQWxsLnZhbGlkYXRlKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfQoKICAgIGxldCBzZXRUbXBEYXRhID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBwd2QsIGZzX2lkLCB0b2tlbikgewogICAgICAgIHRtcERhdGEucmVzcG9uc2UgPSByZXNwb25zZTsKICAgICAgICB0bXBEYXRhLnB3ZCA9IHB3ZDsKICAgICAgICB0bXBEYXRhLmZzX2lkID0gZnNfaWQ7CiAgICAgICAgdG1wRGF0YS50b2tlbiA9IHRva2VuOwogICAgfQogICAgbGV0IGdldFRtcERhdGEgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRtcERhdGE7CiAgICB9CiAgICAvL+aJi+WKv+mqjOivgeaIkOWKn+WQju+8jOacjeWKoeWZqOiOt+WPluebtOmTvuWcsOWdgAogICAgbGV0IGdldERvd25sb2FkVXJsUmVhbCA9IGZ1bmN0aW9uIChkb21haW4sIHJlc3BvbnNlLCBwd2QsIGZzaWQsIHRva2VuKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ+WIhuS6q+aIkOWKn+WQjui/lOWbnu+8micsIHJlc3BvbnNlKTsKICAgICAgICBsZXQgYXUgPSBnZXRKcXVlcnkoKSgnI2RpYWxvZ1FySW1nJykuYXR0cignc3JjJyk7CiAgICAgICAgbGV0IHNob3J0dXJsID0gcmVzcG9uc2Uuc2hvcnR1cmw7CiAgICAgICAgbGV0IHN1cmwgPSBzaG9ydHVybC5zdWJzdHJpbmcoc2hvcnR1cmwubGFzdEluZGV4T2YoJy8nKSArIDEsIHNob3J0dXJsLmxlbmd0aCk7CiAgICAgICAgbGV0IGRvd25sb2FkVXJsID0gYCR7Z2V0QXBwU2V0dGluZ0RhdGEoKS5nZXREb3dubG9hZFVybH0/dmVyc2lvbj0ke2dldEFwcFNldHRpbmdEYXRhKCkuc2NyaXB0VmVyc2lvbn0mdD04ODg4YCArIG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICAgIGRvd25sb2FkVXJsID0gZG9tYWluICsgZG93bmxvYWRVcmwgKyBnZXRBcHBTZXR0aW5nRGF0YSgpLnBhcmFtOwoKICAgICAgICBsZXQgcGFyYW1zID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgcGFyYW1zLmFwcGVuZCgnc3VybCcsIHN1cmwpOwogICAgICAgIHBhcmFtcy5hcHBlbmQoJ3B3ZCcsIHB3ZCk7CiAgICAgICAgcGFyYW1zLmFwcGVuZCgnc2hhcmVpZCcsIHJlc3BvbnNlLnNoYXJlaWQpOwogICAgICAgIHBhcmFtcy5hcHBlbmQoJ2Zyb20nLCB1SW5mby51ayk7CiAgICAgICAgcGFyYW1zLmFwcGVuZCgnZnNpZGxpc3QnLCBgWyR7ZnNpZH1dYCk7CiAgICAgICAgcGFyYW1zLmFwcGVuZCgnc3RhcnQnLCBnZXRTdG9yYWdlLmdldENvbW1vblZhbHVlKCdzdGFydCcpKTsKICAgICAgICBwYXJhbXMuYXBwZW5kKCdjb2RlJywgZ2V0SnF1ZXJ5KCkoJyNkaWFsb2dDb2RlJykudmFsKCkudHJpbSgpKTsKICAgICAgICBwYXJhbXMuYXBwZW5kKCd1JywgdUluZm8uYmFpZHVfbmFtZSk7CiAgICAgICAgcGFyYW1zLmFwcGVuZCgnZm4nLCBnZXRTZWxlY3RlZEZpbGVMaXN0KClbMF0uc2VydmVyX2ZpbGVuYW1lKTsKICAgICAgICBwYXJhbXMuYXBwZW5kKCd0b2tlbicsIHRva2VuKTsKICAgICAgICBwYXJhbXMuYXBwZW5kKCdhdScsIGF1LmluZGV4T2YoZ2xvYmFsRGF0YS5wYXJhbURvbWFpbjIpID09IDAgPyAnJyA6IGF1KTsKICAgICAgICAvL+i/nOeoi+ivt+axguebtOmTvuS4i+i9veWcsOWdgAogICAgICAgIGxldCBkZXRhaWxzID0gewogICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsCiAgICAgICAgICAgIHRpbWVvdXQ6IDMwMDAwLCAvLyAzMOenkui2heaXtgogICAgICAgICAgICB1cmw6IGRvd25sb2FkVXJsLAogICAgICAgICAgICAvLyBkYXRhOiBgc3VybD0ke3N1cmx9JnB3ZD0ke3B3ZH1gLCAtLXBocOerr+aUtuS4jeWIsOaVsOaNrgogICAgICAgICAgICBkYXRhOiBwYXJhbXMsCiAgICAgICAgICAgIG9ubG9hZHN0YXJ0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBsZXQgdG1wVGlwcyA9ICfmraPlnKjov5znqIvor7fmsYLnm7Tpk77lnLDlnYAuLi4nOwogICAgICAgICAgICAgICAgaWYgKGRvbWFpbiA9PSBnbG9iYWxEYXRhLmRvbWFpbkIpIHRtcFRpcHMgPSAn5b+r5aW95LqG77yM5YaN6ICQ5b+D562J5LiA5LiL5LiLLi4uJzsKICAgICAgICAgICAgICAgIGlmICh0b2tlbikgdG1wVGlwcyA9ICfkurrmnLrpqozor4HpgJrov4d+ICcgKyB0bXBUaXBzOwogICAgICAgICAgICAgICAgc2hvd1RpcEluZm8odG1wVGlwcykKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygn6K+35rGC5Y+C5pWw77yaJyk7CiAgICAgICAgICAgICAgICAvLyBwYXJhbXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4gewogICAgICAgICAgICAgICAgLy8gICAgICBjb25zb2xlLmxvZygiJXMgLS0+ICVzIiwga2V5LCB2YWx1ZSk7CiAgICAgICAgICAgICAgICAvLyB9KQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+i/nOeoi+ivt+axguebtOmTvuWcsOWdgO+8jOi/lOWbnu+8micsIHJlcyk7CiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyZXMucmVzcG9uc2UuZXJybm8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiAvLyDmraPluLjov5Tlm54KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDM6IC8vIGFyaWEyIG9ubHkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNoYXJlQ29tcGxldGVTdGF0ZSh0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZUNsaWNrRXZlbnQocmVzLnJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVTdGFydFN0YXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93UXJUaXBzKHJlcy5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDA6IC8vIOeJiOacrOWkquaXpwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hhcmVDb21wbGV0ZVN0YXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwRXJyb3JTd2FsKHJlcy5yZXNwb25zZS5lcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTAxOiAvLyB2YXB0Y2hh6aqM6K+B5LiN5oiQ5YqfCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTaGFyZUNvbXBsZXRlU3RhdGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBJbmZvKHJlcy5yZXNwb25zZS5lcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0SnF1ZXJ5KCkoJyNkaWFsb2dWYXB0Y2hhQ29kZScpLnNob3coKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dRclRpcHMocmVzLnJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwMjogLy8g5oWi6YCf55u06ZO+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTaGFyZUNvbXBsZXRlU3RhdGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBJbmZvKHJlcy5yZXNwb25zZS5lcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA0OiAvLyDpnIDopoHmiYvlir/pqozor4EKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBJbmZvKHJlcy5yZXNwb25zZS5lcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hhcmVDb21wbGV0ZVN0YXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXB0Y2hhVmFsaWRhdGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwMDE6IC8vIOmHjeivlQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbWFpbiA9PSBnbG9iYWxEYXRhLmRvbWFpbkIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwSW5mbygn5Y+R55Sf6ZSZ6K+v77yBJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwRXJyb3IocmVzLnJlc3BvbnNlLmVycik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hhcmVDb21wbGV0ZVN0YXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6Z2e5aSH55So5o6l5Y+j6K+35rGC5pe277yM5bCx57un57ut5L2/55So5aSH55So5o6l5Y+j5YaN6K+35rGCMeasoQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldERvd25sb2FkVXJsUmVhbChnbG9iYWxEYXRhLmRvbWFpbkIsIHJlc3BvbnNlLCBwd2QsIGZzaWQsIHRva2VuKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAvLyDlhbblroPplJnor68KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBJbmZvKCflj5HnlJ/plJnor6/vvIEnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcEVycm9yKHJlcy5yZXNwb25zZS5lcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hhcmVDb21wbGV0ZVN0YXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzKTsKICAgICAgICAgICAgICAgICAgICBpZiAoZG9tYWluID09IGdsb2JhbERhdGEuZG9tYWluQikgewogICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwSW5mbygn5Y+R55Sf6ZSZ6K+v77yBJykKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcEVycm9yKCfor7fmsYLnm7Tpk77kuIvovb3lnLDlnYDlpLHotKXvvIHmnI3liqHlmajov5Tlm57vvJonICsgcmVzLnN0YXR1cyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNoYXJlQ29tcGxldGVTdGF0ZSgpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8v6Z2e5aSH55So5o6l5Y+j6K+35rGC5pe277yM5bCx57un57ut5L2/55So5aSH55So5o6l5Y+j5YaN6K+35rGCMeasoQogICAgICAgICAgICAgICAgICAgICAgICBnZXREb3dubG9hZFVybFJlYWwoZ2xvYmFsRGF0YS5kb21haW5CLCByZXNwb25zZSwgcHdkLCBmc2lkLCB0b2tlbik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBvbnRpbWVvdXQ6IChyZXMpID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzKTsKICAgICAgICAgICAgICAgIGlmIChkb21haW4gPT0gZ2xvYmFsRGF0YS5kb21haW5CKSB7CiAgICAgICAgICAgICAgICAgICAgc2hvd1RpcEluZm8oJ+WPkeeUn+mUmeivr++8gScpCiAgICAgICAgICAgICAgICAgICAgc2hvd1RpcEVycm9yKCfor7fmsYLnm7Tpk77kuIvovb3lnLDlnYDml7bov57mjqXmnI3liqHlmajmjqXlj6PotoXml7bvvIzor7fph43or5XvvIEnKTsKICAgICAgICAgICAgICAgICAgICBzZXRTaGFyZUNvbXBsZXRlU3RhdGUoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy/pnZ7lpIfnlKjmjqXlj6Por7fmsYLml7bvvIzlsLHnu6fnu63kvb/nlKjlpIfnlKjmjqXlj6Plho3or7fmsYIx5qyhCiAgICAgICAgICAgICAgICAgICAgZ2V0RG93bmxvYWRVcmxSZWFsKGdsb2JhbERhdGEuZG9tYWluQiwgcmVzcG9uc2UsIHB3ZCwgZnNpZCwgdG9rZW4pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBvbmVycm9yOiAocmVzKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlcyk7CiAgICAgICAgICAgICAgICBpZiAoZG9tYWluID09IGdsb2JhbERhdGEuZG9tYWluQikgewogICAgICAgICAgICAgICAgICAgIHNob3dUaXBJbmZvKCflj5HnlJ/plJnor6/vvIEnKQogICAgICAgICAgICAgICAgICAgIHNob3dUaXBFcnJvcign6K+35rGC55u06ZO+5LiL6L295Zyw5Z2A5pe26L+e5o6l5pyN5Yqh5Zmo5o6l5Y+j5Ye66ZSZ77yM6K+36YeN6K+V77yBJyk7CiAgICAgICAgICAgICAgICAgICAgc2V0U2hhcmVDb21wbGV0ZVN0YXRlKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8v6Z2e5aSH55So5o6l5Y+j6K+35rGC5pe277yM5bCx57un57ut5L2/55So5aSH55So5o6l5Y+j5YaN6K+35rGCMeasoQogICAgICAgICAgICAgICAgICAgIGdldERvd25sb2FkVXJsUmVhbChnbG9iYWxEYXRhLmRvbWFpbkIsIHJlc3BvbnNlLCBwd2QsIGZzaWQsIHRva2VuKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoZGV0YWlscyk7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgc2hvd1RpcEluZm8oJ+WPkeeUn+mUmeivr++8gScpCiAgICAgICAgICAgIHNob3dUaXBFcnJvcign6L+c56iL6K+35rGC5pyq55+l6ZSZ6K+v77yM6K+36YeN6K+V77yBJyk7CiAgICAgICAgICAgIHNldFNoYXJlQ29tcGxldGVTdGF0ZSgpOwogICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICB9CiAgICB9CgogICAgLy/mn6Xor6LmjqXlj6PlnLDlnYAtLT7lj5HotbfmnI3liqHlmajor7fmsYIKICAgIGxldCBnZXREb3dubG9hZFVybCA9IGZ1bmN0aW9uIChyZXNwb25zZSwgcHdkLCBmc2lkLCB0b2tlbikgewogICAgICAgIGxldCBiZFVybCA9ICJodHRwczovL3Bhbi5iYWlkdS5jb20vcGNsb3VkL3VzZXIvZ2V0aW5mbz9xdWVyeV91az00Nzc0ODUzNDAiOwogICAgICAgIC8vIGxldCBiZFVybCA9ICJodHRwOi8vbG9jYWxob3N0OjQ4ODE4L2JkL2dldGluZm8ucGhwP3F1ZXJ5X3VrPTQ3NzQ4NTM0MCI7CiAgICAgICAgbGV0IGRldGFpbHMgPSB7CiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwLCAvLyAxMOenkui2heaXtgogICAgICAgICAgICB1cmw6IGJkVXJsICsgJyYnICsgbmV3IERhdGUoKS5nZXRUaW1lKCksCiAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLAogICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgc2hvd1RpcEluZm8oJ+ato+WcqOafpeivouacjeWKoeWZqOaOpeWPo+WcsOWdgC4uLicpOwogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmluZm8ocmVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5yZXNwb25zZS5lcnJubyA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWZEb21haW4gPSByZXMucmVzcG9uc2UudXNlcl9pbmZvLmludHJvOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sZXQgaWZEb21haW4gPSAnaHR0cDovL2xvY2FsaG9zdDo0ODgxOCcKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGlmRG9tYWluKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldERvd25sb2FkVXJsUmVhbChpZkRvbWFpbiwgcmVzcG9uc2UsIHB3ZCwgZnNpZCwgdG9rZW4pOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVzOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVzOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgZ2V0RG93bmxvYWRVcmxSZWFsKGdsb2JhbERhdGEuZG9tYWluQiwgcmVzcG9uc2UsIHB3ZCwgZnNpZCwgdG9rZW4pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB0cnkgewogICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdChkZXRhaWxzKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgZ2V0RG93bmxvYWRVcmxSZWFsKGdsb2JhbERhdGEuZG9tYWluQiwgcmVzcG9uc2UsIHB3ZCwgZnNpZCwgdG9rZW4pOwogICAgICAgIH0KICAgIH0KCiAgICAvL+ivt+axguebtOmTvuaIkOWKn+WQju+8jOaUueWPmOaMiemSrueCueWHu+S6i+S7tgogICAgbGV0IGNoYW5nZUNsaWNrRXZlbnQgPSBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy/mmL7npLrmk43kvZzmjInpkq4KICAgICAgICBnZXRKcXVlcnkoKSgiI2RpYWxvZ09wQnV0dG9ucyIpLnNob3coKTsKICAgICAgICBpZiAocmVzLmVycm5vID09IDApIHsKICAgICAgICAgICAgLy/mraPluLjov5Tlm57vvJrlpI3liLbnm7Tpk77kuIvovb3lnLDlnYAKICAgICAgICAgICAgc2hvd1RpcEluZm8oJ+iOt+WPluebtOmTvuaIkOWKn++8jOivt+WcqOS4i+aWuemAieaLqeS4i+i9veaWueW8j+OAgicpOwogICAgICAgICAgICBsZXQgdXJsID0gcmVzLmFyaWEyaW5mby5wYXJhbXNbMV1bMF07CiAgICAgICAgICAgIGdldEpxdWVyeSgpKCIjZGlhbG9nQnRuSWRtIikuYXR0cigiZGF0YS1jbGlwYm9hcmQtdGV4dCIsIHVybCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy9BcmlhMiDkuIvovb3mj5DnpLrvvIjpmpDol49pZG3kuIvovb3mjInpkq7vvIkKICAgICAgICAgICAgc2hvd1RpcEluZm8ocmVzLmVycik7CiAgICAgICAgICAgIGdldEpxdWVyeSgpKCIjZGlhbG9nQnRuSWRtIikuaGlkZSgpOwogICAgICAgICAgICBnZXRKcXVlcnkoKSgiI2RpYWxvZ09wVGlwc0lkbSIpLmhpZGUoKTsKICAgICAgICB9CiAgICAgICAgLy/lj5HpgIHoh7NBcmlhMgogICAgICAgIGxldCBidG5BcmlhMiA9IGdldEpxdWVyeSgpKCIjZGlhbG9nQnRuQXJpYSIpOwogICAgICAgIGJ0bkFyaWEyLnVuYmluZCgpOwogICAgICAgIGJ0bkFyaWEyLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgYXJpYURvd25sb2FkKHJlcyk7CiAgICAgICAgfSk7CiAgICB9CiAgICAvL+ivt+axguebtOmTvuaIkOWKn+WQju+8jHRpcHMKICAgIGxldCBzaG93UXJUaXBzID0gZnVuY3Rpb24gKHJlcykgewogICAgICAgIGxldCBxckltZyA9IGdldEpxdWVyeSgpLnRyaW0ocmVzLnFySW1nKTsKICAgICAgICBsZXQgcXJUaXBzID0gZ2V0SnF1ZXJ5KCkudHJpbShyZXMucXJUaXBzKTsKICAgICAgICBsZXQgY29kZVRpcHMgPSBnZXRKcXVlcnkoKS50cmltKHJlcy5jb2RlVGlwcyk7CiAgICAgICAgbGV0IGNvZGVSZW1hcmsgPSBnZXRKcXVlcnkoKS50cmltKHJlcy5jb2RlUmVtYXJrKTsKICAgICAgICAvL2NvbnNvbGUubG9nKHFySW1nLCBxclRpcHMpOwogICAgICAgIGlmIChxckltZy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGdldEpxdWVyeSgpKCIjZGlhbG9nUXJJbWciKS5hdHRyKCdzcmMnLCBxckltZyk7CiAgICAgICAgfQogICAgICAgIGlmIChxclRpcHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBnZXRKcXVlcnkoKSgiI2RpYWxvZ0JvdHRvbSIpLmh0bWwocXJUaXBzKTsKICAgICAgICB9CiAgICAgICAgaWYgKGNvZGVUaXBzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgZ2V0SnF1ZXJ5KCkoIiNkaWFsb2dWYXB0Y2hhQ29kZVRpcHMiKS5odG1sKGNvZGVUaXBzKS5zaG93KCk7CiAgICAgICAgfQogICAgICAgIGlmIChjb2RlUmVtYXJrLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgZ2V0SnF1ZXJ5KCkoIiNkaWFsb2dDb2RlUmVtYXJrIikuaHRtbChjb2RlUmVtYXJrKS5zaG93KCk7CiAgICAgICAgfQogICAgfQogICAgLy/or7fmsYLnm7Tpk77miJDlip/lkI7vvIx4eHh4CiAgICBsZXQgc2F2ZVN0YXJ0U3RhdGUgPSBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgbGV0IHN0YXJ0ID0gZ2V0U3RvcmFnZS5nZXRDb21tb25WYWx1ZSgnc3RhcnQnKTsKICAgICAgICBpZiAoc3RhcnQpIHJldHVybjsKICAgICAgICBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICAgIGdldFN0b3JhZ2Uuc2V0Q29tbW9uVmFsdWUoJ3N0YXJ0Jywgc3RhcnQpOwogICAgfQogICAgLy/lj5HpgIHoh7NhcmlhMgogICAgbGV0IGFyaWFEb3dubG9hZCA9IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGxldCBycGNEaXIgPSAoZ2V0SnF1ZXJ5KCkoIiNkaWFsb2dUeHRTYXZlUGF0aCIpLnZhbCgpKS5yZXBsYWNlKC9cXC9nLCAnLycpOwogICAgICAgIGxldCBycGNVcmwgPSBnZXRKcXVlcnkoKSgiI2RpYWxvZ0FyaWFSUEMiKS52YWwoKTsKICAgICAgICBsZXQgcnBjVG9rZW4gPSBnZXRKcXVlcnkoKSgiI2RpYWxvZ0FyaWFUb2tlbiIpLnZhbCgpOwogICAgICAgIC8v5L2/55So6Ieq5bex55qEQXJpYTIKICAgICAgICBpZiAoZ2V0Q29uZmlnKCkubWluZSA9PSAiY2hlY2tlZCIpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm5vID09IDApIHsKICAgICAgICAgICAgICAgIC8v5q2j5bi46L+U5ZueCiAgICAgICAgICAgICAgICBkZWxldGUgcmVzcG9uc2UuYXJpYTJpbmZvLnBhcmFtc1syXS5kaXI7CiAgICAgICAgICAgICAgICBkZWxldGUgcmVzcG9uc2UuYXJpYTJpbmZvLnBhcmFtc1syXVsnbWF4LWNvbm5lY3Rpb24tcGVyLXNlcnZlciddOwogICAgICAgICAgICAgICAgZGVsZXRlIHJlc3BvbnNlLmFyaWEyaW5mby5wYXJhbXNbMl0uc3BsaXQ7CiAgICAgICAgICAgICAgICBkZWxldGUgcmVzcG9uc2UuYXJpYTJpbmZvLnBhcmFtc1syXVsncGllY2UtbGVuZ3RoJ107CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvL0FyaWEyIG9ubHkKICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNwb25zZS5hcmlhMmluZm8ucGFyYW1zWzBdWzBdLnBhcmFtc1syXS5kaXI7CiAgICAgICAgICAgICAgICBkZWxldGUgcmVzcG9uc2UuYXJpYTJpbmZvLnBhcmFtc1swXVswXS5wYXJhbXNbMl1bJ21heC1jb25uZWN0aW9uLXBlci1zZXJ2ZXInXTsKICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNwb25zZS5hcmlhMmluZm8ucGFyYW1zWzBdWzBdLnBhcmFtc1syXS5zcGxpdDsKICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNwb25zZS5hcmlhMmluZm8ucGFyYW1zWzBdWzBdLnBhcmFtc1syXVsncGllY2UtbGVuZ3RoJ107CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgbGV0IGRhdGEgPSBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5hcmlhMmluZm8pOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ3t7e3JwY0Rpcn19fScsIHJwY0RpcikucmVwbGFjZSgne3t7cnBjVG9rZW59fX0nLCBycGNUb2tlbik7CiAgICAgICAgLy/lj5HpgIHoh7NhcmlhMgogICAgICAgIGxldCBkZXRhaWxzID0gewogICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsCiAgICAgICAgICAgIHRpbWVvdXQ6IDMwMDAsIC8vIDPnp5LotoXml7YKICAgICAgICAgICAgdXJsOiBycGNVcmwsCiAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgIG9ubG9hZHN0YXJ0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBzZXRTZW5kQXJpYVN0YXJ0U3RhdGUoKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5Y+R6YCB6IezQXJpYTLvvIzov5Tlm57vvJonLCByZXMpOwogICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMucmVzcG9uc2UucmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOato+W4uOi/lOWbngogICAgICAgICAgICAgICAgICAgICAgICBzZXRTZW5kQXJpYUNvbXBsZXRlU3RhdGUodHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBJbmZvQXJpYSgnQXJpYTLlt7Lnu4/lvIDlp4vkuIvovb3kuobvvIzliIfmjaLov4fljrvnnIvnnIvlkKd+Jyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YW25a6D6ZSZ6K+vCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBJbmZvQXJpYSgn5Y+R55Sf6ZSZ6K+v77yBJykKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcEVycm9yKHJlcy5yZXNwb25zZS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VuZEFyaWFDb21wbGV0ZVN0YXRlKGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNob3dUaXBJbmZvQXJpYSgn5Y+R55Sf6ZSZ6K+v77yBJykKICAgICAgICAgICAgICAgICAgICBzaG93VGlwRXJyb3IoJ+WPkemAgeiHs0FyaWEy5aSx6LSl77yBPGJyIC8+5pyN5Yqh5Zmo6L+U5Zue77yaJyArIHJlcy5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgICAgIHNldFNlbmRBcmlhQ29tcGxldGVTdGF0ZShmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBvbnRpbWVvdXQ6IChyZXMpID0+IHsKICAgICAgICAgICAgICAgIHNob3dUaXBJbmZvQXJpYSgn5Y+R55Sf6ZSZ6K+v77yBJykKICAgICAgICAgICAgICAgIHNob3dUaXBFcnJvcign6L+e5o6l5YiwUlBD5pyN5Yqh5Zmo6LaF5pe277ya6K+35qOA5p+lQXJpYTLmmK/lkKblt7Lov57mjqXvvIxSUEPphY3nva7mmK/lkKbmraPnoa7vvIEnKTsKICAgICAgICAgICAgICAgIHNldFNlbmRBcmlhQ29tcGxldGVTdGF0ZShmYWxzZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlcyk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9uZXJyb3I6IChyZXMpID0+IHsKICAgICAgICAgICAgICAgIHNob3dUaXBJbmZvQXJpYSgn5Y+R55Sf6ZSZ6K+v77yBJykKICAgICAgICAgICAgICAgIHNob3dUaXBFcnJvcign5Y+R6YCB6IezQXJpYTLml7blj5HnlJ/plJnor6/vvIzor7fph43or5XvvIEnKTsKICAgICAgICAgICAgICAgIHNldFNlbmRBcmlhQ29tcGxldGVTdGF0ZShmYWxzZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlcyk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KGRldGFpbHMpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIHNob3dUaXBJbmZvQXJpYSgn5Y+R55Sf6ZSZ6K+v77yBJykKICAgICAgICAgICAgc2hvd1RpcEVycm9yKCflj5HpgIHoh7NBcmlhMuaXtuWPkeeUn+acquefpemUmeivr++8jOivt+mHjeivle+8gScpOwogICAgICAgICAgICBzZXRTZW5kQXJpYUNvbXBsZXRlU3RhdGUoZmFsc2UpOwogICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICB9CiAgICB9CiAgICAvL+S/neWtmOeUqOaIt+i+k+WFpeeahOaVsOaNru+8iOS4i+asoeW9k+m7mOiupOWAvOS9v+eUqO+8iQogICAgbGV0IHNhdmVMYXN0VXNlRGF0YSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBnZXRTdG9yYWdlLnNldExhc3RVc2UoJ3NhdmVQYXRoJywgZ2V0SnF1ZXJ5KCkoIiNkaWFsb2dUeHRTYXZlUGF0aCIpLnZhbCgpKTsKICAgICAgICBnZXRTdG9yYWdlLnNldExhc3RVc2UoJ2pzb25ScGMnLCBnZXRKcXVlcnkoKSgiI2RpYWxvZ0FyaWFSUEMiKS52YWwoKSk7CiAgICAgICAgZ2V0U3RvcmFnZS5zZXRMYXN0VXNlKCd0b2tlbicsIGdldEpxdWVyeSgpKCIjZGlhbG9nQXJpYVRva2VuIikudmFsKCkpOwogICAgICAgIGxldCBtaW5lID0gIiI7CiAgICAgICAgaWYgKGdldEpxdWVyeSgpKCIjZGlhbG9nQXJpYU1pbmUiKS5wcm9wKCJjaGVja2VkIikgPT0gdHJ1ZSkgewogICAgICAgICAgICBtaW5lID0gImNoZWNrZWQiOwogICAgICAgIH0KICAgICAgICBnZXRTdG9yYWdlLnNldExhc3RVc2UoJ21pbmUnLCBtaW5lKTsKICAgICAgICBnZXRTdG9yYWdlLnNldExhc3RVc2UoJ2NvZGUnLCBnZXRKcXVlcnkoKSgiI2RpYWxvZ0NvZGUiKS52YWwoKSk7CiAgICB9CgogICAgLy/lpI3liLbnm7Tpk77kuIvovb3lnLDlnYAKICAgIGxldCBjb3B5VXJsMkNsaXBib2FyZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBsZXQgY29weUJ0biA9IG5ldyBDbGlwYm9hcmRKUygnI2RpYWxvZ0J0bklkbScpCiAgICAgICAgY29weUJ0bi5vbigic3VjY2VzcyIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIC8vIOWkjeWItuaIkOWKn++8iOWPs+mUruS4i+i9veS4jeWlveS9v++8jOWIq+WGjeWwneivleS6hu+8iQogICAgICAgICAgICBzaG93VGlwSW5mb0lkbShg55u06ZO+5LiL6L295Zyw5Z2A5aSN5Yi25oiQ5Yqf77yBYCkKICAgICAgICB9KTsKICAgIH0KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IOWFrOWFseWHveaVsAogICAgZnVuY3Rpb24gQ3V0U3RyaW5nKHN0ciwgbGVuLCBzdWZmaXgpIHsKICAgICAgICBpZiAoIXN0cikgcmV0dXJuICIiOwogICAgICAgIGlmIChsZW4gPD0gMCkgcmV0dXJuICIiOwogICAgICAgIGlmICghc3VmZml4KSBzdWZmaXggPSAiLi4uIjsKICAgICAgICBsZXQgdGVtcGxlbiA9IDA7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKHN0ci5jaGFyQ29kZUF0KGkpID4gMjU1KSB7CiAgICAgICAgICAgICAgICB0ZW1wbGVuICs9IDI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0ZW1wbGVuKysKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGVtcGxlbiA9PSBsZW4pIHsKICAgICAgICAgICAgICAgIHJldHVybiBzdHIuc3Vic3RyaW5nKDAsIGkgKyAxKSArIHN1ZmZpeDsKICAgICAgICAgICAgfSBlbHNlIGlmICh0ZW1wbGVuID4gbGVuKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLCBpKSArIHN1ZmZpeDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gc3RyOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFJuZFB3ZChsZW4pIHsKICAgICAgICBsZW4gPSBsZW4gfHwgNDsKICAgICAgICBsZXQgJGNoYXJzID0gJ0FFSlBUWmFlanB0ejI1OCc7CiAgICAgICAgbGV0IG1heFBvcyA9ICRjaGFycy5sZW5ndGg7CiAgICAgICAgbGV0IHB3ZCA9ICcnOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgICAgcHdkICs9ICRjaGFycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4UG9zKSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwd2Q7CiAgICB9CgogICAgZnVuY3Rpb24gY2hlY2tWc2l0ZSgpIHsKICAgICAgICBsZXQgdkRvbWFpbiA9IGRvY3VtZW50LmRvbWFpbi5zcGxpdCgnLicpLnNsaWNlKC0yKS5qb2luKCcuJyk7CiAgICAgICAgaWYgKHZEb21haW4gPT0gJ3ZhcHRjaGEuY29tJykgcmV0dXJuIHRydWU7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIOW7tui/n+aJp+ihjO+8jOWQpuWImeaJvuS4jeWIsOWvueW6lOeahOaMiemSrgogICAgbGV0IHNsZWVwID0gZnVuY3Rpb24gKHRpbWUpIHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZSkpOwogICAgfTsKCiAgICAvKioKICAgICAqIOW3suefpeWJjeWQjuaWhyDlj5bkuK3pl7TmlofmnKwKICAgICAqIEBwYXJhbSBzdHIg5YWo5paHCiAgICAgKiBAcGFyYW0gc3RhcnQg5YmN5paHCiAgICAgKiBAcGFyYW0gZW5kIOWQjuaWhwogICAgICogQHJldHVybnMg5Lit6Ze05paH5pysIHx8IG51bGwKICAgICAqLwogICAgbGV0IGdldE1pZFN0ciA9IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBlbmQpIHsKICAgICAgICBsZXQgcmVzID0gc3RyLm1hdGNoKG5ldyBSZWdFeHAoYCR7c3RhcnR9KC4qPykke2VuZH1gKSkKICAgICAgICByZXR1cm4gcmVzID8gcmVzWzFdIDogbnVsbAogICAgfQoKICAgIGxldCBnZXRQYWdlVHlwZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoaXNPbGRIb21lUGFnZSgpKSByZXR1cm4gJ29sZCc7CiAgICAgICAgaWYgKGlzTmV3SG9tZVBhZ2UoKSkgcmV0dXJuICduZXcnOwogICAgICAgIGlmIChpc1NoYXJlUGFnZSgpKSByZXR1cm4gJ3NoYXJlJzsKICAgICAgICByZXR1cm4gJyc7CiAgICB9CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBjc3MKICAgIEdNX2FkZFN0eWxlKGAKICAgICAgICAuc3dhbC1tb2RhbCB7CiAgICAgICAgICAgIHdpZHRoOiBhdXRvOwogICAgICAgICAgICBtaW4td2lkdGg6IDczMHB4OwogICAgICAgIH0KICAgICAgICAuc3dhbC1tb2RhbCBpbnB1dCB7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IGdyZXkgc29saWQ7CiAgICAgICAgfQogICAgICAgICNkb3dubG9hZERpYWxvZ3sKICAgICAgICAgICAgd2lkdGg6IDczMHB4OwogICAgICAgICAgICBmb250LXNpemU6MTRweDsKICAgICAgICB9CgogICAgICAgICNkaWFsb2dUb3B7CiAgICAgICAgICAgIG1hcmdpbjogMjBweCAwOwogICAgICAgIH0KICAgICAgICAjZGlhbG9nRmlsZU5hbWV7CiAgICAgICAgICAgIGNvbG9yOiBibHVlOwogICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lOwogICAgICAgIH0KCiAgICAgICAgI2RpYWxvZ01pZGRsZXt9CiAgICAgICAgI2RpYWxvZ0xlZnRUaXBzewogICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgICAgICAgICBtYXJnaW46IDAgMCAxMHB4IDBweDsKICAgICAgICAgICAgY29sb3I6ICM0YzQ0MzM7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDsKICAgICAgICB9CiAgICAgICAgI2RpYWxvZ0xlZnRUaXBzMSwjZGlhbG9nTGVmdFRpcHMyewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA1cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmNGM3NTg7CiAgICAgICAgICAgIHBhZGRpbmc6IDVweCAwIDVweCAwOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgfQogICAgICAgIC5kaWFsb2dMZWZ0VGlwc0xpbmt7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICB9CiAgICAgICAgLmRpYWxvZ0xlZnRUaXBzTGluayBhewogICAgICAgICAgICBjb2xvcjogIzA2YTdmZjsKICAgICAgICB9CiAgICAgICAgI2RpYWxvZ1JpZ2h0ewogICAgICAgICAgICB3aWR0aDogNTAlOwogICAgICAgICAgICBmbG9hdDogbGVmdDsKICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDE1cHg7CiAgICAgICAgfQogICAgICAgICNkaWFsb2dDb250ZW50IGlucHV0ewogICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgICAgIH0KICAgICAgICAjZGlhbG9nUmVtYXJrewogICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDVweDsKICAgICAgICB9CiAgICAgICAgI2RpYWxvZ1ZhcHRjaGFDb2RlewogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgICAgICAgICBtYXJnaW4tdG9wOiA1cHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgI0VERDsKICAgICAgICB9CiAgICAgICAgI2RpYWxvZ1ZhcHRjaGFDb2RlSW5wdXR7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICB9CiAgICAgICAgI2RpYWxvZ0NvZGV7CiAgICAgICAgICAgIHdpZHRoOiA1MCU7CiAgICAgICAgfQogICAgICAgICNkaWFsb2dDb2RlUmVtYXJre30KICAgICAgICAjZGlhbG9nUXJ7CiAgICAgICAgICAgIHdpZHRoOiAyNjVweDsKICAgICAgICAgICAgaGVpZ2h0OiAyNjVweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgIH0KICAgICAgICAjZGlhbG9nUXIgaW1newogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDI3cHg7CiAgICAgICAgfQogICAgICAgICNkaWFsb2dDbGVhcnsKICAgICAgICAgICAgY2xlYXI6IGJvdGg7CiAgICAgICAgfQogICAgICAgICNkaWFsb2dCb3R0b217CiAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgICAgICAgIG1hcmdpbjogMTVweCAtMjBweCAwIC0yMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjRjNzU4OwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDAgMTBweCAyNXB4OwogICAgICAgICAgICBjb2xvcjogIzRjNDQzMzsKICAgICAgICB9CiAgICAgICAgLmJ0bkludGVyZmFjZSB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBoZWlnaHQ6IDUwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmMDAgIWltcG9ydGFudDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICB0cmFuc2l0aW9uOiAuM3M7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjVweCAhaW1wb3J0YW50OwogICAgICAgICAgICBib3JkZXI6IDA7CiAgICAgICAgICAgIGNvbG9yOiAjZmZmOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgICAgICAgICAgZm9udC1mYW1pbHk6IE1pY3Jvc29mdCBZYUhlaSxTaW1IZWksVGFob21hOwogICAgICAgICAgICBmb250LXdlaWdodDogMTAwOwogICAgICAgICAgICBsZXR0ZXItc3BhY2luZzogMnB4OwogICAgICAgIH0KICAgICAgICAuYnRuR3JlZW4gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNWNiODVjICFpbXBvcnRhbnQ7CiAgICAgICAgfQoKICAgICAgICAjZGlhbG9nRGl2U2F2ZVBhdGh7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDJweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDsKICAgICAgICB9CiAgICAgICAgI2RpYWxvZ09wVGlwcywgI2RpYWxvZ09wVGlwc0FyaWEsICNkaWFsb2dPcFRpcHNJZG17CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmNGM3NTg7CiAgICAgICAgICAgIHBhZGRpbmc6IDNweCAxNHB4OwogICAgICAgICAgICBjb2xvcjogIzRjNDQzMzsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4OwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMnB4OwogICAgICAgIH0KICAgICAgICAjZGlhbG9nT3BCdXR0b25zewogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgIH0KICAgICAgICAjZGlhbG9nQnRuSWRtLCAjZGlhbG9nQnRuQXJpYXsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMTVweDsKICAgICAgICB9CiAgICAgICAgI2RpYWxvZ0FyaWFDb25maWd7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDJweDsKICAgICAgICB9CiAgICAgICAgI2RpYWxvZ0FyaWFDb25maWdDbGlja3sKICAgICAgICAgICAgY29sb3I6ICMwMDk4RUE7CiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwogICAgICAgICAgICBjdXJzb3I6cG9pbnRlcjsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDZweDsKICAgICAgICB9CiAgICAgICAgI2RpYWxvZ0FyaWFDb25maWd7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICB9CiAgICAgICAgI2RpYWxvZ0xlZnR7CiAgICAgICAgICAgIGZsb2F0OiBsZWZ0OwogICAgICAgICAgICB3aWR0aDogNDclOwogICAgICAgIH0KICAgICAgICAuc3dhbC1mb290ZXJ7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDVweDsKICAgICAgICB9CiAgICBgKTsKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSDpgLvovpHku6PnoIHlvIDlp4sKICAgIGNvbnNvbGUubG9nKCfohJrmnKzlvIDlp4snKTsKICAgIGdldFBhcmFtcygpOwogICAgZ2V0VUluZm8oKTsKCiAgICBjb25zdCBkaXZUaXBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBkaXZUaXBzLmlkID0gImRpdlRpcHMiOwoKICAgIGxldCBpc0xvZ2luID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luLW1haW4nKTsgLy8g55m75b2V6aG16Z2iCiAgICBsZXQgaXNWc2l0ZSA9IGNoZWNrVnNpdGUoKTsKCiAgICAvL+i9veWFpXZhcHRjaGEKICAgIGxldCB2YXB0Y2hhQWxsID0gbnVsbDsKCiAgICBsZXQgYnRuRG93bmxvYWQgPSB7CiAgICAgICAgaWQ6ICdidG5FYXN5SGVscGVyJywKICAgICAgICB0ZXh0OiAn566A5piT5LiL6L295Yqp5omLJywKICAgICAgICB0aXRsZTogJ+S9v+eUqOeZvuW6pue9keebmOeugOaYk+S4i+i9veWKqeaJi+i/m+ihjOS4i+i9vScsCiAgICAgICAgaHRtbDogZnVuY3Rpb24gKHBhZ2VUeXBlKSB7CiAgICAgICAgICAgIGlmIChwYWdlVHlwZSA9PT0gJ29sZCcgfHwgcGFnZVR5cGUgPT0gJ3NoYXJlJykgewogICAgICAgICAgICAgICAgcmV0dXJuIGAKICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9Imljb24gaWNvbi1kb3dubG9hZCIgc3R5bGU9ImNvbG9yOiNmZmZmZmYiIHRpdGxlPSIke3RoaXMudGV4dH0iPjwvZW0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6IGF1dG87Ij4ke3RoaXMudGV4dH08L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgYAogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChwYWdlVHlwZSA9PT0gJ25ldycpIHsKICAgICAgICAgICAgICAgIHJldHVybiBgCiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0idS1idXR0b24gbmQtZmlsZS1saXN0LXRvb2xiYXItYWN0aW9uLWl0ZW0gaXMtbmVlZC1sZWZ0LXNlcCB1LWJ1dHRvbi0tZGFuZ2VyIHUtYnV0dG9uLS1kZWZhdWx0IHUtYnV0dG9uLS1zbWFsbCBpcy1oYXMtaWNvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJpY29uZm9udCBpY29uLWRvd25sb2FkIj48L2k+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPiR7dGhpcy50ZXh0fTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHN0eWxlOiBmdW5jdGlvbiAocGFnZVR5cGUpIHsKICAgICAgICAgICAgaWYgKHBhZ2VUeXBlID09PSAnb2xkJyB8fCBwYWdlVHlwZSA9PSAnc2hhcmUnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJ21hcmdpbjogMHB4Oyc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHBhZ2VUeXBlID09PSAnbmV3JykgewogICAgICAgICAgICAgICAgcmV0dXJuICcnOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjbGFzczogZnVuY3Rpb24gKHBhZ2VUeXBlKSB7CiAgICAgICAgICAgIGlmIChwYWdlVHlwZSA9PT0gJ29sZCcgfHwgcGFnZVR5cGUgPT0gJ3NoYXJlJykgewogICAgICAgICAgICAgICAgcmV0dXJuICdnLWJ1dHRvbiBnLWJ1dHRvbi1yZWQtbGFyZ2UnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChwYWdlVHlwZSA9PT0gJ25ldycpIHsKICAgICAgICAgICAgICAgIHJldHVybiAnJzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBsZXQgc3RhcnQgPSBmdW5jdGlvbiAoKSB7Ly/ov63ku6PosIPnlKgKICAgICAgICBpZiAoaXNWc2l0ZSkgcmV0dXJuOwogICAgICAgIGxldCBwYWdlVHlwZSA9IGdldFBhZ2VUeXBlKCk7CiAgICAgICAgaWYgKHBhZ2VUeXBlID09PSAnJykgewogICAgICAgICAgICBjb25zb2xlLmxvZygn6Z2e5q2j5bi46aG16Z2i77yMMeenkuWQjuWwhumHjeaWsOafpeaJvu+8gScpOwogICAgICAgICAgICBzbGVlcCg1MDApLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgc3RhcnQoKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8g5Yib5bu65oyJ6ZKuIFNUQVJUCiAgICAgICAgbGV0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICBidG4uaWQgPSBidG5Eb3dubG9hZC5pZDsKICAgICAgICBidG4udGl0bGUgPSBidG5Eb3dubG9hZC50aXRsZTsKICAgICAgICBidG4uaW5uZXJIVE1MID0gYnRuRG93bmxvYWQuaHRtbChwYWdlVHlwZSk7CiAgICAgICAgYnRuLnN0eWxlLmNzc1RleHQgPSBidG5Eb3dubG9hZC5zdHlsZShwYWdlVHlwZSk7CiAgICAgICAgYnRuLmNsYXNzTmFtZSA9IGJ0bkRvd25sb2FkLmNsYXNzKHBhZ2VUeXBlKTsKICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBpbml0QnV0dG9uRXZlbnQoKTsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIH0pOwogICAgICAgIC8vIOWIm+W7uuaMiemSriBFTkQKCiAgICAgICAgLy8g5re75Yqg5oyJ6ZKuIFNUQVJUCiAgICAgICAgbGV0IHBhcmVudCA9IG51bGw7CiAgICAgICAgaWYgKHBhZ2VUeXBlID09PSAnb2xkJykgewogICAgICAgICAgICBsZXQgYnRuVXBsb2FkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25vZGUtdHlwZT11cGxvYWRdJyk7IC8vIOeuoeeQhumhtemdou+8muOAkOS4iuS8oOOAkQogICAgICAgICAgICBwYXJlbnQgPSBidG5VcGxvYWQucGFyZW50Tm9kZTsKICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShidG4sIHBhcmVudC5jaGlsZE5vZGVzWzBdKTsKICAgICAgICB9IGVsc2UgaWYgKHBhZ2VUeXBlID09PSAnbmV3JykgewogICAgICAgICAgICBsZXQgYnRuVXBsb2FkOwogICAgICAgICAgICBidG5VcGxvYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJbY2xhc3M9J25kLWZpbGUtbGlzdC10b29sYmFyIG5kLWZpbGUtbGlzdC10b29sYmFyX19hY3Rpb25zIGlubGluZS1ibG9jay12LW1pZGRsZSddIik7IC8vIOeuoeeQhumhtemdou+8muOAkOaWsOW7uuaWh+S7tuWkueOAkQogICAgICAgICAgICBpZiAoYnRuVXBsb2FkKSB7CiAgICAgICAgICAgICAgICBidG4uc3R5bGUuY3NzVGV4dCA9ICdtYXJnaW4tcmlnaHQ6IDVweDsnOwogICAgICAgICAgICAgICAgLy8gYWxlcnQoJ2lubGluZS1ibG9jay12LW1pZGRsZScpOwogICAgICAgICAgICAgICAgYnRuVXBsb2FkLmluc2VydEJlZm9yZShidG4sIGJ0blVwbG9hZC5jaGlsZE5vZGVzWzBdKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGJ0blVwbG9hZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIltjbGFzcz0nd3Atcy1hZ2lsZS10b29sLWJhcl9faGVhZGVyICBpcy1kZWZhdWx0LXNraW4gaXMtaGVhZGVyLXRvb2wnXSIpOyAvLyAyMDIyMDYxMueuoeeQhumhtemdou+8muaVtOS4quW3peWFt+adoQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnRuVXBsb2FkKTsKICAgICAgICAgICAgICAgIGlmICghYnRuVXBsb2FkKSB7CiAgICAgICAgICAgICAgICAgICAgYnRuVXBsb2FkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiW2NsYXNzPSd3cC1zLWFnaWxlLXRvb2wtYmFyX19oZWFkZXIgIGlzLWhlYWRlci10b29sJ10iKTsgLy8gMjAyMjA2MjnnrqHnkIbpobXpnaLvvJrmlbTkuKrlt6XlhbfmnaEKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxldCBwYXJlbnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIHBhcmVudERpdi5jbGFzc05hbWUgPSAnd3Atcy1hZ2lsZS10b29sLWJhcl9faC1hY3Rpb24gaXMtbmVlZC1sZWZ0LXNlcCBpcy1saXN0JzsKICAgICAgICAgICAgICAgIHBhcmVudERpdi5zdHlsZS5jc3NUZXh0ID0gJ21hcmdpbi1yaWdodDogMTBweDsnOwogICAgICAgICAgICAgICAgcGFyZW50RGl2Lmluc2VydEJlZm9yZShidG4sIHBhcmVudERpdi5jaGlsZE5vZGVzWzBdKTsKICAgICAgICAgICAgICAgIGJ0blVwbG9hZC5pbnNlcnRCZWZvcmUocGFyZW50RGl2LCBidG5VcGxvYWQuY2hpbGROb2Rlc1swXSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHBhZ2VUeXBlID09PSAnc2hhcmUnKSB7CiAgICAgICAgICAgIGxldCBidG5RckNvZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbm9kZS10eXBlPXFyQ29kZV0nKTsgLy8g5YiG5Lqr6aG16Z2i77ya44CQ5L+d5a2Y5Yiw5omL5py644CRCiAgICAgICAgICAgIHBhcmVudCA9IGJ0blFyQ29kZS5wYXJlbnROb2RlOwogICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGJ0biwgYnRuUXJDb2RlKTsKICAgICAgICB9CiAgICAgICAgLy8g5re75Yqg5oyJ6ZKuIEVORAoKICAgICAgICAvLyDkv67mlLnmkJzntKLmoYblrr3luqbvvIzlkKbliJnlnKjlsI/mmL7npLrlmajkuIrvvIzlhYPntKDkvJrph43lj6AKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuJykuZm9yRWFjaCgoZSkgPT4gewogICAgICAgICAgICBpZiAoZS50ZXh0Q29udGVudC5pbmNsdWRlcygn5pCc57Si5oKo55qE5paH5Lu2JykpIHsKICAgICAgICAgICAgICAgIGxldCBkaXZQID0gZS5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZQogICAgICAgICAgICAgICAgZGl2UC5zdHlsZS5tYXhXaWR0aCA9ICcyMDBweCc7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KCiAgICBzbGVlcCg1MDApLnRoZW4oKCkgPT4gewogICAgICAgIHN0YXJ0KCk7CiAgICB9KQp9KSgpOwovLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyM=","requires":[{"meta":{"name":"jquery.js","url":"https://lib.baomitu.com/jquery/3.6.0/jquery.js","ts":1657549998511,"mimetype":"text/javascript"},"source":"LyohCiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjMuNi4wCiAqIGh0dHBzOi8vanF1ZXJ5LmNvbS8KICoKICogSW5jbHVkZXMgU2l6emxlLmpzCiAqIGh0dHBzOi8vc2l6emxlanMuY29tLwogKgogKiBDb3B5cmlnaHQgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UKICogaHR0cHM6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogRGF0ZTogMjAyMS0wMy0wMlQxNzowOFoKICovCiggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHsKCgkidXNlIHN0cmljdCI7CgoJaWYgKCB0eXBlb2YgbW9kdWxlID09PSAib2JqZWN0IiAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICJvYmplY3QiICkgewoKCQkvLyBGb3IgQ29tbW9uSlMgYW5kIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHdoZXJlIGEgcHJvcGVyIGB3aW5kb3dgCgkJLy8gaXMgcHJlc2VudCwgZXhlY3V0ZSB0aGUgZmFjdG9yeSBhbmQgZ2V0IGpRdWVyeS4KCQkvLyBGb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IGhhdmUgYSBgd2luZG93YCB3aXRoIGEgYGRvY3VtZW50YAoJCS8vIChzdWNoIGFzIE5vZGUuanMpLCBleHBvc2UgYSBmYWN0b3J5IGFzIG1vZHVsZS5leHBvcnRzLgoJCS8vIFRoaXMgYWNjZW50dWF0ZXMgdGhlIG5lZWQgZm9yIHRoZSBjcmVhdGlvbiBvZiBhIHJlYWwgYHdpbmRvd2AuCgkJLy8gZS5nLiB2YXIgalF1ZXJ5ID0gcmVxdWlyZSgianF1ZXJ5Iikod2luZG93KTsKCQkvLyBTZWUgdGlja2V0ICMxNDU0OSBmb3IgbW9yZSBpbmZvLgoJCW1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmRvY3VtZW50ID8KCQkJZmFjdG9yeSggZ2xvYmFsLCB0cnVlICkgOgoJCQlmdW5jdGlvbiggdyApIHsKCQkJCWlmICggIXcuZG9jdW1lbnQgKSB7CgkJCQkJdGhyb3cgbmV3IEVycm9yKCAialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIgKTsKCQkJCX0KCQkJCXJldHVybiBmYWN0b3J5KCB3ICk7CgkJCX07Cgl9IGVsc2UgewoJCWZhY3RvcnkoIGdsb2JhbCApOwoJfQoKLy8gUGFzcyB0aGlzIGlmIHdpbmRvdyBpcyBub3QgZGVmaW5lZCB5ZXQKfSApKCB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKCB3aW5kb3csIG5vR2xvYmFsICkgewoKLy8gRWRnZSA8PSAxMiAtIDEzKywgRmlyZWZveCA8PTE4IC0gNDUrLCBJRSAxMCAtIDExLCBTYWZhcmkgNS4xIC0gOSssIGlPUyA2IC0gOS4xCi8vIHRocm93IGV4Y2VwdGlvbnMgd2hlbiBub24tc3RyaWN0IGNvZGUgKGUuZy4sIEFTUC5ORVQgNC41KSBhY2Nlc3NlcyBzdHJpY3QgbW9kZQovLyBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciAodHJhYy0xMzMzNSkuIEJ1dCBhcyBvZiBqUXVlcnkgMy4wICgyMDE2KSwgc3RyaWN0IG1vZGUgc2hvdWxkIGJlIGNvbW1vbgovLyBlbm91Z2ggdGhhdCBhbGwgc3VjaCBhdHRlbXB0cyBhcmUgZ3VhcmRlZCBpbiBhIHRyeSBibG9jay4KInVzZSBzdHJpY3QiOwoKdmFyIGFyciA9IFtdOwoKdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mOwoKdmFyIHNsaWNlID0gYXJyLnNsaWNlOwoKdmFyIGZsYXQgPSBhcnIuZmxhdCA/IGZ1bmN0aW9uKCBhcnJheSApIHsKCXJldHVybiBhcnIuZmxhdC5jYWxsKCBhcnJheSApOwp9IDogZnVuY3Rpb24oIGFycmF5ICkgewoJcmV0dXJuIGFyci5jb25jYXQuYXBwbHkoIFtdLCBhcnJheSApOwp9OwoKCnZhciBwdXNoID0gYXJyLnB1c2g7Cgp2YXIgaW5kZXhPZiA9IGFyci5pbmRleE9mOwoKdmFyIGNsYXNzMnR5cGUgPSB7fTsKCnZhciB0b1N0cmluZyA9IGNsYXNzMnR5cGUudG9TdHJpbmc7Cgp2YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTsKCnZhciBmblRvU3RyaW5nID0gaGFzT3duLnRvU3RyaW5nOwoKdmFyIE9iamVjdEZ1bmN0aW9uU3RyaW5nID0gZm5Ub1N0cmluZy5jYWxsKCBPYmplY3QgKTsKCnZhciBzdXBwb3J0ID0ge307Cgp2YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIGlzRnVuY3Rpb24oIG9iaiApIHsKCgkJLy8gU3VwcG9ydDogQ2hyb21lIDw9NTcsIEZpcmVmb3ggPD01MgoJCS8vIEluIHNvbWUgYnJvd3NlcnMsIHR5cGVvZiByZXR1cm5zICJmdW5jdGlvbiIgZm9yIEhUTUwgPG9iamVjdD4gZWxlbWVudHMKCQkvLyAoaS5lLiwgYHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAib2JqZWN0IiApID09PSAiZnVuY3Rpb24iYCkuCgkJLy8gV2UgZG9uJ3Qgd2FudCB0byBjbGFzc2lmeSAqYW55KiBET00gbm9kZSBhcyBhIGZ1bmN0aW9uLgoJCS8vIFN1cHBvcnQ6IFF0V2ViIDw9My44LjUsIFdlYktpdCA8PTUzNC4zNCwgd2todG1sdG9wZGYgdG9vbCA8PTAuMTIuNQoJCS8vIFBsdXMgZm9yIG9sZCBXZWJLaXQsIHR5cGVvZiByZXR1cm5zICJmdW5jdGlvbiIgZm9yIEhUTUwgY29sbGVjdGlvbnMKCQkvLyAoZS5nLiwgYHR5cGVvZiBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2IikgPT09ICJmdW5jdGlvbiJgKS4gKGdoLTQ3NTYpCgkJcmV0dXJuIHR5cGVvZiBvYmogPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIG9iai5ub2RlVHlwZSAhPT0gIm51bWJlciIgJiYKCQkJdHlwZW9mIG9iai5pdGVtICE9PSAiZnVuY3Rpb24iOwoJfTsKCgp2YXIgaXNXaW5kb3cgPSBmdW5jdGlvbiBpc1dpbmRvdyggb2JqICkgewoJCXJldHVybiBvYmogIT0gbnVsbCAmJiBvYmogPT09IG9iai53aW5kb3c7Cgl9OwoKCnZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDsKCgoKCXZhciBwcmVzZXJ2ZWRTY3JpcHRBdHRyaWJ1dGVzID0gewoJCXR5cGU6IHRydWUsCgkJc3JjOiB0cnVlLAoJCW5vbmNlOiB0cnVlLAoJCW5vTW9kdWxlOiB0cnVlCgl9OwoKCWZ1bmN0aW9uIERPTUV2YWwoIGNvZGUsIG5vZGUsIGRvYyApIHsKCQlkb2MgPSBkb2MgfHwgZG9jdW1lbnQ7CgoJCXZhciBpLCB2YWwsCgkJCXNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCAic2NyaXB0IiApOwoKCQlzY3JpcHQudGV4dCA9IGNvZGU7CgkJaWYgKCBub2RlICkgewoJCQlmb3IgKCBpIGluIHByZXNlcnZlZFNjcmlwdEF0dHJpYnV0ZXMgKSB7CgoJCQkJLy8gU3VwcG9ydDogRmlyZWZveCA2NCssIEVkZ2UgMTgrCgkJCQkvLyBTb21lIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgdGhlICJub25jZSIgcHJvcGVydHkgb24gc2NyaXB0cy4KCQkJCS8vIE9uIHRoZSBvdGhlciBoYW5kLCBqdXN0IHVzaW5nIGBnZXRBdHRyaWJ1dGVgIGlzIG5vdCBlbm91Z2ggYXMKCQkJCS8vIHRoZSBgbm9uY2VgIGF0dHJpYnV0ZSBpcyByZXNldCB0byBhbiBlbXB0eSBzdHJpbmcgd2hlbmV2ZXIgaXQKCQkJCS8vIGJlY29tZXMgYnJvd3NpbmctY29udGV4dCBjb25uZWN0ZWQuCgkJCQkvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3doYXR3Zy9odG1sL2lzc3Vlcy8yMzY5CgkJCQkvLyBTZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jbm9uY2UtYXR0cmlidXRlcwoJCQkJLy8gVGhlIGBub2RlLmdldEF0dHJpYnV0ZWAgY2hlY2sgd2FzIGFkZGVkIGZvciB0aGUgc2FrZSBvZgoJCQkJLy8gYGpRdWVyeS5nbG9iYWxFdmFsYCBzbyB0aGF0IGl0IGNhbiBmYWtlIGEgbm9uY2UtY29udGFpbmluZyBub2RlCgkJCQkvLyB2aWEgYW4gb2JqZWN0LgoJCQkJdmFsID0gbm9kZVsgaSBdIHx8IG5vZGUuZ2V0QXR0cmlidXRlICYmIG5vZGUuZ2V0QXR0cmlidXRlKCBpICk7CgkJCQlpZiAoIHZhbCApIHsKCQkJCQlzY3JpcHQuc2V0QXR0cmlidXRlKCBpLCB2YWwgKTsKCQkJCX0KCQkJfQoJCX0KCQlkb2MuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0ICkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggc2NyaXB0ICk7Cgl9CgoKZnVuY3Rpb24gdG9UeXBlKCBvYmogKSB7CglpZiAoIG9iaiA9PSBudWxsICkgewoJCXJldHVybiBvYmogKyAiIjsKCX0KCgkvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHkgKGZ1bmN0aW9uaXNoIFJlZ0V4cCkKCXJldHVybiB0eXBlb2Ygb2JqID09PSAib2JqZWN0IiB8fCB0eXBlb2Ygb2JqID09PSAiZnVuY3Rpb24iID8KCQljbGFzczJ0eXBlWyB0b1N0cmluZy5jYWxsKCBvYmogKSBdIHx8ICJvYmplY3QiIDoKCQl0eXBlb2Ygb2JqOwp9Ci8qIGdsb2JhbCBTeW1ib2wgKi8KLy8gRGVmaW5pbmcgdGhpcyBnbG9iYWwgaW4gLmVzbGludHJjLmpzb24gd291bGQgY3JlYXRlIGEgZGFuZ2VyIG9mIHVzaW5nIHRoZSBnbG9iYWwKLy8gdW5ndWFyZGVkIGluIGFub3RoZXIgcGxhY2UsIGl0IHNlZW1zIHNhZmVyIHRvIGRlZmluZSBnbG9iYWwgb25seSBmb3IgdGhpcyBtb2R1bGUKCgoKdmFyCgl2ZXJzaW9uID0gIjMuNi4wIiwKCgkvLyBEZWZpbmUgYSBsb2NhbCBjb3B5IG9mIGpRdWVyeQoJalF1ZXJ5ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkgewoKCQkvLyBUaGUgalF1ZXJ5IG9iamVjdCBpcyBhY3R1YWxseSBqdXN0IHRoZSBpbml0IGNvbnN0cnVjdG9yICdlbmhhbmNlZCcKCQkvLyBOZWVkIGluaXQgaWYgalF1ZXJ5IGlzIGNhbGxlZCAoanVzdCBhbGxvdyBlcnJvciB0byBiZSB0aHJvd24gaWYgbm90IGluY2x1ZGVkKQoJCXJldHVybiBuZXcgalF1ZXJ5LmZuLmluaXQoIHNlbGVjdG9yLCBjb250ZXh0ICk7Cgl9OwoKalF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHsKCgkvLyBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIGpRdWVyeSBiZWluZyB1c2VkCglqcXVlcnk6IHZlcnNpb24sCgoJY29uc3RydWN0b3I6IGpRdWVyeSwKCgkvLyBUaGUgZGVmYXVsdCBsZW5ndGggb2YgYSBqUXVlcnkgb2JqZWN0IGlzIDAKCWxlbmd0aDogMCwKCgl0b0FycmF5OiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApOwoJfSwKCgkvLyBHZXQgdGhlIE50aCBlbGVtZW50IGluIHRoZSBtYXRjaGVkIGVsZW1lbnQgc2V0IE9SCgkvLyBHZXQgdGhlIHdob2xlIG1hdGNoZWQgZWxlbWVudCBzZXQgYXMgYSBjbGVhbiBhcnJheQoJZ2V0OiBmdW5jdGlvbiggbnVtICkgewoKCQkvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBpbiBhIGNsZWFuIGFycmF5CgkJaWYgKCBudW0gPT0gbnVsbCApIHsKCQkJcmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTsKCQl9CgoJCS8vIFJldHVybiBqdXN0IHRoZSBvbmUgZWxlbWVudCBmcm9tIHRoZSBzZXQKCQlyZXR1cm4gbnVtIDwgMCA/IHRoaXNbIG51bSArIHRoaXMubGVuZ3RoIF0gOiB0aGlzWyBudW0gXTsKCX0sCgoJLy8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFjawoJLy8gKHJldHVybmluZyB0aGUgbmV3IG1hdGNoZWQgZWxlbWVudCBzZXQpCglwdXNoU3RhY2s6IGZ1bmN0aW9uKCBlbGVtcyApIHsKCgkJLy8gQnVpbGQgYSBuZXcgalF1ZXJ5IG1hdGNoZWQgZWxlbWVudCBzZXQKCQl2YXIgcmV0ID0galF1ZXJ5Lm1lcmdlKCB0aGlzLmNvbnN0cnVjdG9yKCksIGVsZW1zICk7CgoJCS8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpCgkJcmV0LnByZXZPYmplY3QgPSB0aGlzOwoKCQkvLyBSZXR1cm4gdGhlIG5ld2x5LWZvcm1lZCBlbGVtZW50IHNldAoJCXJldHVybiByZXQ7Cgl9LAoKCS8vIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZXZlcnkgZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBzZXQuCgllYWNoOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7CgkJcmV0dXJuIGpRdWVyeS5lYWNoKCB0aGlzLCBjYWxsYmFjayApOwoJfSwKCgltYXA6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHsKCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5tYXAoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBpICkgewoJCQlyZXR1cm4gY2FsbGJhY2suY2FsbCggZWxlbSwgaSwgZWxlbSApOwoJCX0gKSApOwoJfSwKCglzbGljZTogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKCBzbGljZS5hcHBseSggdGhpcywgYXJndW1lbnRzICkgKTsKCX0sCgoJZmlyc3Q6IGZ1bmN0aW9uKCkgewoJCXJldHVybiB0aGlzLmVxKCAwICk7Cgl9LAoKCWxhc3Q6IGZ1bmN0aW9uKCkgewoJCXJldHVybiB0aGlzLmVxKCAtMSApOwoJfSwKCglldmVuOiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5ncmVwKCB0aGlzLCBmdW5jdGlvbiggX2VsZW0sIGkgKSB7CgkJCXJldHVybiAoIGkgKyAxICkgJSAyOwoJCX0gKSApOwoJfSwKCglvZGQ6IGZ1bmN0aW9uKCkgewoJCXJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5LmdyZXAoIHRoaXMsIGZ1bmN0aW9uKCBfZWxlbSwgaSApIHsKCQkJcmV0dXJuIGkgJSAyOwoJCX0gKSApOwoJfSwKCgllcTogZnVuY3Rpb24oIGkgKSB7CgkJdmFyIGxlbiA9IHRoaXMubGVuZ3RoLAoJCQlqID0gK2kgKyAoIGkgPCAwID8gbGVuIDogMCApOwoJCXJldHVybiB0aGlzLnB1c2hTdGFjayggaiA+PSAwICYmIGogPCBsZW4gPyBbIHRoaXNbIGogXSBdIDogW10gKTsKCX0sCgoJZW5kOiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gdGhpcy5wcmV2T2JqZWN0IHx8IHRoaXMuY29uc3RydWN0b3IoKTsKCX0sCgoJLy8gRm9yIGludGVybmFsIHVzZSBvbmx5LgoJLy8gQmVoYXZlcyBsaWtlIGFuIEFycmF5J3MgbWV0aG9kLCBub3QgbGlrZSBhIGpRdWVyeSBtZXRob2QuCglwdXNoOiBwdXNoLAoJc29ydDogYXJyLnNvcnQsCglzcGxpY2U6IGFyci5zcGxpY2UKfTsKCmpRdWVyeS5leHRlbmQgPSBqUXVlcnkuZm4uZXh0ZW5kID0gZnVuY3Rpb24oKSB7Cgl2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsCgkJdGFyZ2V0ID0gYXJndW1lbnRzWyAwIF0gfHwge30sCgkJaSA9IDEsCgkJbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCwKCQlkZWVwID0gZmFsc2U7CgoJLy8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvbgoJaWYgKCB0eXBlb2YgdGFyZ2V0ID09PSAiYm9vbGVhbiIgKSB7CgkJZGVlcCA9IHRhcmdldDsKCgkJLy8gU2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldAoJCXRhcmdldCA9IGFyZ3VtZW50c1sgaSBdIHx8IHt9OwoJCWkrKzsKCX0KCgkvLyBIYW5kbGUgY2FzZSB3aGVuIHRhcmdldCBpcyBhIHN0cmluZyBvciBzb21ldGhpbmcgKHBvc3NpYmxlIGluIGRlZXAgY29weSkKCWlmICggdHlwZW9mIHRhcmdldCAhPT0gIm9iamVjdCIgJiYgIWlzRnVuY3Rpb24oIHRhcmdldCApICkgewoJCXRhcmdldCA9IHt9OwoJfQoKCS8vIEV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZAoJaWYgKCBpID09PSBsZW5ndGggKSB7CgkJdGFyZ2V0ID0gdGhpczsKCQlpLS07Cgl9CgoJZm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7CgoJCS8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXMKCQlpZiAoICggb3B0aW9ucyA9IGFyZ3VtZW50c1sgaSBdICkgIT0gbnVsbCApIHsKCgkJCS8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3QKCQkJZm9yICggbmFtZSBpbiBvcHRpb25zICkgewoJCQkJY29weSA9IG9wdGlvbnNbIG5hbWUgXTsKCgkJCQkvLyBQcmV2ZW50IE9iamVjdC5wcm90b3R5cGUgcG9sbHV0aW9uCgkJCQkvLyBQcmV2ZW50IG5ldmVyLWVuZGluZyBsb29wCgkJCQlpZiAoIG5hbWUgPT09ICJfX3Byb3RvX18iIHx8IHRhcmdldCA9PT0gY29weSApIHsKCQkJCQljb250aW51ZTsKCQkJCX0KCgkJCQkvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXMKCQkJCWlmICggZGVlcCAmJiBjb3B5ICYmICggalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvcHkgKSB8fAoJCQkJCSggY29weUlzQXJyYXkgPSBBcnJheS5pc0FycmF5KCBjb3B5ICkgKSApICkgewoJCQkJCXNyYyA9IHRhcmdldFsgbmFtZSBdOwoKCQkJCQkvLyBFbnN1cmUgcHJvcGVyIHR5cGUgZm9yIHRoZSBzb3VyY2UgdmFsdWUKCQkJCQlpZiAoIGNvcHlJc0FycmF5ICYmICFBcnJheS5pc0FycmF5KCBzcmMgKSApIHsKCQkJCQkJY2xvbmUgPSBbXTsKCQkJCQl9IGVsc2UgaWYgKCAhY29weUlzQXJyYXkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KCBzcmMgKSApIHsKCQkJCQkJY2xvbmUgPSB7fTsKCQkJCQl9IGVsc2UgewoJCQkJCQljbG9uZSA9IHNyYzsKCQkJCQl9CgkJCQkJY29weUlzQXJyYXkgPSBmYWxzZTsKCgkJCQkJLy8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtCgkJCQkJdGFyZ2V0WyBuYW1lIF0gPSBqUXVlcnkuZXh0ZW5kKCBkZWVwLCBjbG9uZSwgY29weSApOwoKCQkJCS8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXMKCQkJCX0gZWxzZSBpZiAoIGNvcHkgIT09IHVuZGVmaW5lZCApIHsKCQkJCQl0YXJnZXRbIG5hbWUgXSA9IGNvcHk7CgkJCQl9CgkJCX0KCQl9Cgl9CgoJLy8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3QKCXJldHVybiB0YXJnZXQ7Cn07CgpqUXVlcnkuZXh0ZW5kKCB7CgoJLy8gVW5pcXVlIGZvciBlYWNoIGNvcHkgb2YgalF1ZXJ5IG9uIHRoZSBwYWdlCglleHBhbmRvOiAialF1ZXJ5IiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXEQvZywgIiIgKSwKCgkvLyBBc3N1bWUgalF1ZXJ5IGlzIHJlYWR5IHdpdGhvdXQgdGhlIHJlYWR5IG1vZHVsZQoJaXNSZWFkeTogdHJ1ZSwKCgllcnJvcjogZnVuY3Rpb24oIG1zZyApIHsKCQl0aHJvdyBuZXcgRXJyb3IoIG1zZyApOwoJfSwKCglub29wOiBmdW5jdGlvbigpIHt9LAoKCWlzUGxhaW5PYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7CgkJdmFyIHByb3RvLCBDdG9yOwoKCQkvLyBEZXRlY3Qgb2J2aW91cyBuZWdhdGl2ZXMKCQkvLyBVc2UgdG9TdHJpbmcgaW5zdGVhZCBvZiBqUXVlcnkudHlwZSB0byBjYXRjaCBob3N0IG9iamVjdHMKCQlpZiAoICFvYmogfHwgdG9TdHJpbmcuY2FsbCggb2JqICkgIT09ICJbb2JqZWN0IE9iamVjdF0iICkgewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQlwcm90byA9IGdldFByb3RvKCBvYmogKTsKCgkJLy8gT2JqZWN0cyB3aXRoIG5vIHByb3RvdHlwZSAoZS5nLiwgYE9iamVjdC5jcmVhdGUoIG51bGwgKWApIGFyZSBwbGFpbgoJCWlmICggIXByb3RvICkgewoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgoJCS8vIE9iamVjdHMgd2l0aCBwcm90b3R5cGUgYXJlIHBsYWluIGlmZiB0aGV5IHdlcmUgY29uc3RydWN0ZWQgYnkgYSBnbG9iYWwgT2JqZWN0IGZ1bmN0aW9uCgkJQ3RvciA9IGhhc093bi5jYWxsKCBwcm90bywgImNvbnN0cnVjdG9yIiApICYmIHByb3RvLmNvbnN0cnVjdG9yOwoJCXJldHVybiB0eXBlb2YgQ3RvciA9PT0gImZ1bmN0aW9uIiAmJiBmblRvU3RyaW5nLmNhbGwoIEN0b3IgKSA9PT0gT2JqZWN0RnVuY3Rpb25TdHJpbmc7Cgl9LAoKCWlzRW1wdHlPYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7CgkJdmFyIG5hbWU7CgoJCWZvciAoIG5hbWUgaW4gb2JqICkgewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCXJldHVybiB0cnVlOwoJfSwKCgkvLyBFdmFsdWF0ZXMgYSBzY3JpcHQgaW4gYSBwcm92aWRlZCBjb250ZXh0OyBmYWxscyBiYWNrIHRvIHRoZSBnbG9iYWwgb25lCgkvLyBpZiBub3Qgc3BlY2lmaWVkLgoJZ2xvYmFsRXZhbDogZnVuY3Rpb24oIGNvZGUsIG9wdGlvbnMsIGRvYyApIHsKCQlET01FdmFsKCBjb2RlLCB7IG5vbmNlOiBvcHRpb25zICYmIG9wdGlvbnMubm9uY2UgfSwgZG9jICk7Cgl9LAoKCWVhY2g6IGZ1bmN0aW9uKCBvYmosIGNhbGxiYWNrICkgewoJCXZhciBsZW5ndGgsIGkgPSAwOwoKCQlpZiAoIGlzQXJyYXlMaWtlKCBvYmogKSApIHsKCQkJbGVuZ3RoID0gb2JqLmxlbmd0aDsKCQkJZm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7CgkJCQlpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHsKCQkJCQlicmVhazsKCQkJCX0KCQkJfQoJCX0gZWxzZSB7CgkJCWZvciAoIGkgaW4gb2JqICkgewoJCQkJaWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0KCQl9CgoJCXJldHVybiBvYmo7Cgl9LAoKCS8vIHJlc3VsdHMgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHkKCW1ha2VBcnJheTogZnVuY3Rpb24oIGFyciwgcmVzdWx0cyApIHsKCQl2YXIgcmV0ID0gcmVzdWx0cyB8fCBbXTsKCgkJaWYgKCBhcnIgIT0gbnVsbCApIHsKCQkJaWYgKCBpc0FycmF5TGlrZSggT2JqZWN0KCBhcnIgKSApICkgewoJCQkJalF1ZXJ5Lm1lcmdlKCByZXQsCgkJCQkJdHlwZW9mIGFyciA9PT0gInN0cmluZyIgPwoJCQkJCQlbIGFyciBdIDogYXJyCgkJCQkpOwoJCQl9IGVsc2UgewoJCQkJcHVzaC5jYWxsKCByZXQsIGFyciApOwoJCQl9CgkJfQoKCQlyZXR1cm4gcmV0OwoJfSwKCglpbkFycmF5OiBmdW5jdGlvbiggZWxlbSwgYXJyLCBpICkgewoJCXJldHVybiBhcnIgPT0gbnVsbCA/IC0xIDogaW5kZXhPZi5jYWxsKCBhcnIsIGVsZW0sIGkgKTsKCX0sCgoJLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5CgkvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0CgltZXJnZTogZnVuY3Rpb24oIGZpcnN0LCBzZWNvbmQgKSB7CgkJdmFyIGxlbiA9ICtzZWNvbmQubGVuZ3RoLAoJCQlqID0gMCwKCQkJaSA9IGZpcnN0Lmxlbmd0aDsKCgkJZm9yICggOyBqIDwgbGVuOyBqKysgKSB7CgkJCWZpcnN0WyBpKysgXSA9IHNlY29uZFsgaiBdOwoJCX0KCgkJZmlyc3QubGVuZ3RoID0gaTsKCgkJcmV0dXJuIGZpcnN0OwoJfSwKCglncmVwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBpbnZlcnQgKSB7CgkJdmFyIGNhbGxiYWNrSW52ZXJzZSwKCQkJbWF0Y2hlcyA9IFtdLAoJCQlpID0gMCwKCQkJbGVuZ3RoID0gZWxlbXMubGVuZ3RoLAoJCQljYWxsYmFja0V4cGVjdCA9ICFpbnZlcnQ7CgoJCS8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCBvbmx5IHNhdmluZyB0aGUgaXRlbXMKCQkvLyB0aGF0IHBhc3MgdGhlIHZhbGlkYXRvciBmdW5jdGlvbgoJCWZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkgewoJCQljYWxsYmFja0ludmVyc2UgPSAhY2FsbGJhY2soIGVsZW1zWyBpIF0sIGkgKTsKCQkJaWYgKCBjYWxsYmFja0ludmVyc2UgIT09IGNhbGxiYWNrRXhwZWN0ICkgewoJCQkJbWF0Y2hlcy5wdXNoKCBlbGVtc1sgaSBdICk7CgkJCX0KCQl9CgoJCXJldHVybiBtYXRjaGVzOwoJfSwKCgkvLyBhcmcgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHkKCW1hcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgYXJnICkgewoJCXZhciBsZW5ndGgsIHZhbHVlLAoJCQlpID0gMCwKCQkJcmV0ID0gW107CgoJCS8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCB0cmFuc2xhdGluZyBlYWNoIG9mIHRoZSBpdGVtcyB0byB0aGVpciBuZXcgdmFsdWVzCgkJaWYgKCBpc0FycmF5TGlrZSggZWxlbXMgKSApIHsKCQkJbGVuZ3RoID0gZWxlbXMubGVuZ3RoOwoJCQlmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHsKCQkJCXZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApOwoKCQkJCWlmICggdmFsdWUgIT0gbnVsbCApIHsKCQkJCQlyZXQucHVzaCggdmFsdWUgKTsKCQkJCX0KCQkJfQoKCQkvLyBHbyB0aHJvdWdoIGV2ZXJ5IGtleSBvbiB0aGUgb2JqZWN0LAoJCX0gZWxzZSB7CgkJCWZvciAoIGkgaW4gZWxlbXMgKSB7CgkJCQl2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTsKCgkJCQlpZiAoIHZhbHVlICE9IG51bGwgKSB7CgkJCQkJcmV0LnB1c2goIHZhbHVlICk7CgkJCQl9CgkJCX0KCQl9CgoJCS8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXMKCQlyZXR1cm4gZmxhdCggcmV0ICk7Cgl9LAoKCS8vIEEgZ2xvYmFsIEdVSUQgY291bnRlciBmb3Igb2JqZWN0cwoJZ3VpZDogMSwKCgkvLyBqUXVlcnkuc3VwcG9ydCBpcyBub3QgdXNlZCBpbiBDb3JlIGJ1dCBvdGhlciBwcm9qZWN0cyBhdHRhY2ggdGhlaXIKCS8vIHByb3BlcnRpZXMgdG8gaXQgc28gaXQgbmVlZHMgdG8gZXhpc3QuCglzdXBwb3J0OiBzdXBwb3J0Cn0gKTsKCmlmICggdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiApIHsKCWpRdWVyeS5mblsgU3ltYm9sLml0ZXJhdG9yIF0gPSBhcnJbIFN5bWJvbC5pdGVyYXRvciBdOwp9CgovLyBQb3B1bGF0ZSB0aGUgY2xhc3MydHlwZSBtYXAKalF1ZXJ5LmVhY2goICJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbCIuc3BsaXQoICIgIiApLAoJZnVuY3Rpb24oIF9pLCBuYW1lICkgewoJCWNsYXNzMnR5cGVbICJbb2JqZWN0ICIgKyBuYW1lICsgIl0iIF0gPSBuYW1lLnRvTG93ZXJDYXNlKCk7Cgl9ICk7CgpmdW5jdGlvbiBpc0FycmF5TGlrZSggb2JqICkgewoKCS8vIFN1cHBvcnQ6IHJlYWwgaU9TIDguMiBvbmx5IChub3QgcmVwcm9kdWNpYmxlIGluIHNpbXVsYXRvcikKCS8vIGBpbmAgY2hlY2sgdXNlZCB0byBwcmV2ZW50IEpJVCBlcnJvciAoZ2gtMjE0NSkKCS8vIGhhc093biBpc24ndCB1c2VkIGhlcmUgZHVlIHRvIGZhbHNlIG5lZ2F0aXZlcwoJLy8gcmVnYXJkaW5nIE5vZGVsaXN0IGxlbmd0aCBpbiBJRQoJdmFyIGxlbmd0aCA9ICEhb2JqICYmICJsZW5ndGgiIGluIG9iaiAmJiBvYmoubGVuZ3RoLAoJCXR5cGUgPSB0b1R5cGUoIG9iaiApOwoKCWlmICggaXNGdW5jdGlvbiggb2JqICkgfHwgaXNXaW5kb3coIG9iaiApICkgewoJCXJldHVybiBmYWxzZTsKCX0KCglyZXR1cm4gdHlwZSA9PT0gImFycmF5IiB8fCBsZW5ndGggPT09IDAgfHwKCQl0eXBlb2YgbGVuZ3RoID09PSAibnVtYmVyIiAmJiBsZW5ndGggPiAwICYmICggbGVuZ3RoIC0gMSApIGluIG9iajsKfQp2YXIgU2l6emxlID0KLyohCiAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYyLjMuNgogKiBodHRwczovL3NpenpsZWpzLmNvbS8KICoKICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UKICogaHR0cHM6Ly9qcy5mb3VuZGF0aW9uLwogKgogKiBEYXRlOiAyMDIxLTAyLTE2CiAqLwooIGZ1bmN0aW9uKCB3aW5kb3cgKSB7CnZhciBpLAoJc3VwcG9ydCwKCUV4cHIsCglnZXRUZXh0LAoJaXNYTUwsCgl0b2tlbml6ZSwKCWNvbXBpbGUsCglzZWxlY3QsCglvdXRlcm1vc3RDb250ZXh0LAoJc29ydElucHV0LAoJaGFzRHVwbGljYXRlLAoKCS8vIExvY2FsIGRvY3VtZW50IHZhcnMKCXNldERvY3VtZW50LAoJZG9jdW1lbnQsCglkb2NFbGVtLAoJZG9jdW1lbnRJc0hUTUwsCglyYnVnZ3lRU0EsCglyYnVnZ3lNYXRjaGVzLAoJbWF0Y2hlcywKCWNvbnRhaW5zLAoKCS8vIEluc3RhbmNlLXNwZWNpZmljIGRhdGEKCWV4cGFuZG8gPSAic2l6emxlIiArIDEgKiBuZXcgRGF0ZSgpLAoJcHJlZmVycmVkRG9jID0gd2luZG93LmRvY3VtZW50LAoJZGlycnVucyA9IDAsCglkb25lID0gMCwKCWNsYXNzQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLAoJdG9rZW5DYWNoZSA9IGNyZWF0ZUNhY2hlKCksCgljb21waWxlckNhY2hlID0gY3JlYXRlQ2FjaGUoKSwKCW5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLAoJc29ydE9yZGVyID0gZnVuY3Rpb24oIGEsIGIgKSB7CgkJaWYgKCBhID09PSBiICkgewoJCQloYXNEdXBsaWNhdGUgPSB0cnVlOwoJCX0KCQlyZXR1cm4gMDsKCX0sCgoJLy8gSW5zdGFuY2UgbWV0aG9kcwoJaGFzT3duID0gKCB7fSApLmhhc093blByb3BlcnR5LAoJYXJyID0gW10sCglwb3AgPSBhcnIucG9wLAoJcHVzaE5hdGl2ZSA9IGFyci5wdXNoLAoJcHVzaCA9IGFyci5wdXNoLAoJc2xpY2UgPSBhcnIuc2xpY2UsCgoJLy8gVXNlIGEgc3RyaXBwZWQtZG93biBpbmRleE9mIGFzIGl0J3MgZmFzdGVyIHRoYW4gbmF0aXZlCgkvLyBodHRwczovL2pzcGVyZi5jb20vdGhvci1pbmRleG9mLXZzLWZvci81CglpbmRleE9mID0gZnVuY3Rpb24oIGxpc3QsIGVsZW0gKSB7CgkJdmFyIGkgPSAwLAoJCQlsZW4gPSBsaXN0Lmxlbmd0aDsKCQlmb3IgKCA7IGkgPCBsZW47IGkrKyApIHsKCQkJaWYgKCBsaXN0WyBpIF0gPT09IGVsZW0gKSB7CgkJCQlyZXR1cm4gaTsKCQkJfQoJCX0KCQlyZXR1cm4gLTE7Cgl9LAoKCWJvb2xlYW5zID0gImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnwiICsKCQkiaXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsCgoJLy8gUmVndWxhciBleHByZXNzaW9ucwoKCS8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc2VsZWN0b3JzLyN3aGl0ZXNwYWNlCgl3aGl0ZXNwYWNlID0gIltcXHgyMFxcdFxcclxcblxcZl0iLAoKCS8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3Mtc3ludGF4LTMvI2lkZW50LXRva2VuLWRpYWdyYW0KCWlkZW50aWZpZXIgPSAiKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iICsgd2hpdGVzcGFjZSArCgkJIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsCgoJLy8gQXR0cmlidXRlIHNlbGVjdG9yczogaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNhdHRyaWJ1dGUtc2VsZWN0b3JzCglhdHRyaWJ1dGVzID0gIlxcWyIgKyB3aGl0ZXNwYWNlICsgIiooIiArIGlkZW50aWZpZXIgKyAiKSg/OiIgKyB3aGl0ZXNwYWNlICsKCgkJLy8gT3BlcmF0b3IgKGNhcHR1cmUgMikKCQkiKihbKl4kfCF+XT89KSIgKyB3aGl0ZXNwYWNlICsKCgkJLy8gIkF0dHJpYnV0ZSB2YWx1ZXMgbXVzdCBiZSBDU1MgaWRlbnRpZmllcnMgW2NhcHR1cmUgNV0KCQkvLyBvciBzdHJpbmdzIFtjYXB0dXJlIDMgb3IgY2FwdHVyZSA0XSIKCQkiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiICsgaWRlbnRpZmllciArICIpKXwpIiArCgkJd2hpdGVzcGFjZSArICIqXFxdIiwKCglwc2V1ZG9zID0gIjooIiArIGlkZW50aWZpZXIgKyAiKSg/OlxcKCgiICsKCgkJLy8gVG8gcmVkdWNlIHRoZSBudW1iZXIgb2Ygc2VsZWN0b3JzIG5lZWRpbmcgdG9rZW5pemUgaW4gdGhlIHByZUZpbHRlciwgcHJlZmVyIGFyZ3VtZW50czoKCQkvLyAxLiBxdW90ZWQgKGNhcHR1cmUgMzsgY2FwdHVyZSA0IG9yIGNhcHR1cmUgNSkKCQkiKCcoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwiKXwiICsKCgkJLy8gMi4gc2ltcGxlIChjYXB0dXJlIDYpCgkJIigoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIgKyBhdHRyaWJ1dGVzICsgIikqKXwiICsKCgkJLy8gMy4gYW55dGhpbmcgZWxzZSAoY2FwdHVyZSAyKQoJCSIuKiIgKwoJCSIpXFwpfCkiLAoKCS8vIExlYWRpbmcgYW5kIG5vbi1lc2NhcGVkIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGNhcHR1cmluZyBzb21lIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMgcHJlY2VkaW5nIHRoZSBsYXR0ZXIKCXJ3aGl0ZXNwYWNlID0gbmV3IFJlZ0V4cCggd2hpdGVzcGFjZSArICIrIiwgImciICksCglydHJpbSA9IG5ldyBSZWdFeHAoICJeIiArIHdoaXRlc3BhY2UgKyAiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIiArCgkJd2hpdGVzcGFjZSArICIrJCIsICJnIiApLAoKCXJjb21tYSA9IG5ldyBSZWdFeHAoICJeIiArIHdoaXRlc3BhY2UgKyAiKiwiICsgd2hpdGVzcGFjZSArICIqIiApLAoJcmNvbWJpbmF0b3JzID0gbmV3IFJlZ0V4cCggIl4iICsgd2hpdGVzcGFjZSArICIqKFs+K35dfCIgKyB3aGl0ZXNwYWNlICsgIikiICsgd2hpdGVzcGFjZSArCgkJIioiICksCglyZGVzY2VuZCA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyAifD4iICksCgoJcnBzZXVkbyA9IG5ldyBSZWdFeHAoIHBzZXVkb3MgKSwKCXJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCggIl4iICsgaWRlbnRpZmllciArICIkIiApLAoKCW1hdGNoRXhwciA9IHsKCQkiSUQiOiBuZXcgUmVnRXhwKCAiXiMoIiArIGlkZW50aWZpZXIgKyAiKSIgKSwKCQkiQ0xBU1MiOiBuZXcgUmVnRXhwKCAiXlxcLigiICsgaWRlbnRpZmllciArICIpIiApLAoJCSJUQUciOiBuZXcgUmVnRXhwKCAiXigiICsgaWRlbnRpZmllciArICJ8WypdKSIgKSwKCQkiQVRUUiI6IG5ldyBSZWdFeHAoICJeIiArIGF0dHJpYnV0ZXMgKSwKCQkiUFNFVURPIjogbmV3IFJlZ0V4cCggIl4iICsgcHNldWRvcyApLAoJCSJDSElMRCI6IG5ldyBSZWdFeHAoICJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiICsKCQkJd2hpdGVzcGFjZSArICIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIiArIHdoaXRlc3BhY2UgKyAiKig/OihbKy1dfCkiICsKCQkJd2hpdGVzcGFjZSArICIqKFxcZCspfCkpIiArIHdoaXRlc3BhY2UgKyAiKlxcKXwpIiwgImkiICksCgkJImJvb2wiOiBuZXcgUmVnRXhwKCAiXig/OiIgKyBib29sZWFucyArICIpJCIsICJpIiApLAoKCQkvLyBGb3IgdXNlIGluIGxpYnJhcmllcyBpbXBsZW1lbnRpbmcgLmlzKCkKCQkvLyBXZSB1c2UgdGhpcyBmb3IgUE9TIG1hdGNoaW5nIGluIGBzZWxlY3RgCgkJIm5lZWRzQ29udGV4dCI6IG5ldyBSZWdFeHAoICJeIiArIHdoaXRlc3BhY2UgKwoJCQkiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIiArIHdoaXRlc3BhY2UgKwoJCQkiKigoPzotXFxkKT9cXGQqKSIgKyB3aGl0ZXNwYWNlICsgIipcXCl8KSg/PVteLV18JCkiLCAiaSIgKQoJfSwKCglyaHRtbCA9IC9IVE1MJC9pLAoJcmlucHV0cyA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksCglyaGVhZGVyID0gL15oXGQkL2ksCgoJcm5hdGl2ZSA9IC9eW157XStce1xzKlxbbmF0aXZlIFx3LywKCgkvLyBFYXNpbHktcGFyc2VhYmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnMKCXJxdWlja0V4cHIgPSAvXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLAoKCXJzaWJsaW5nID0gL1srfl0vLAoKCS8vIENTUyBlc2NhcGVzCgkvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjZXNjYXBlZC1jaGFyYWN0ZXJzCglydW5lc2NhcGUgPSBuZXcgUmVnRXhwKCAiXFxcXFtcXGRhLWZBLUZdezEsNn0iICsgd2hpdGVzcGFjZSArICI/fFxcXFwoW15cXHJcXG5cXGZdKSIsICJnIiApLAoJZnVuZXNjYXBlID0gZnVuY3Rpb24oIGVzY2FwZSwgbm9uSGV4ICkgewoJCXZhciBoaWdoID0gIjB4IiArIGVzY2FwZS5zbGljZSggMSApIC0gMHgxMDAwMDsKCgkJcmV0dXJuIG5vbkhleCA/CgoJCQkvLyBTdHJpcCB0aGUgYmFja3NsYXNoIHByZWZpeCBmcm9tIGEgbm9uLWhleCBlc2NhcGUgc2VxdWVuY2UKCQkJbm9uSGV4IDoKCgkJCS8vIFJlcGxhY2UgYSBoZXhhZGVjaW1hbCBlc2NhcGUgc2VxdWVuY2Ugd2l0aCB0aGUgZW5jb2RlZCBVbmljb2RlIGNvZGUgcG9pbnQKCQkJLy8gU3VwcG9ydDogSUUgPD0xMSsKCQkJLy8gRm9yIHZhbHVlcyBvdXRzaWRlIHRoZSBCYXNpYyBNdWx0aWxpbmd1YWwgUGxhbmUgKEJNUCksIG1hbnVhbGx5IGNvbnN0cnVjdCBhCgkJCS8vIHN1cnJvZ2F0ZSBwYWlyCgkJCWhpZ2ggPCAwID8KCQkJCVN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggKyAweDEwMDAwICkgOgoJCQkJU3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCA+PiAxMCB8IDB4RDgwMCwgaGlnaCAmIDB4M0ZGIHwgMHhEQzAwICk7Cgl9LAoKCS8vIENTUyBzdHJpbmcvaWRlbnRpZmllciBzZXJpYWxpemF0aW9uCgkvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI2NvbW1vbi1zZXJpYWxpemluZy1pZGlvbXMKCXJjc3Nlc2NhcGUgPSAvKFtcMC1ceDFmXHg3Zl18Xi0/XGQpfF4tJHxbXlwwLVx4MWZceDdmLVx1RkZGRlx3LV0vZywKCWZjc3Nlc2NhcGUgPSBmdW5jdGlvbiggY2gsIGFzQ29kZVBvaW50ICkgewoJCWlmICggYXNDb2RlUG9pbnQgKSB7CgoJCQkvLyBVKzAwMDAgTlVMTCBiZWNvbWVzIFUrRkZGRCBSRVBMQUNFTUVOVCBDSEFSQUNURVIKCQkJaWYgKCBjaCA9PT0gIlwwIiApIHsKCQkJCXJldHVybiAiXHVGRkZEIjsKCQkJfQoKCQkJLy8gQ29udHJvbCBjaGFyYWN0ZXJzIGFuZCAoZGVwZW5kZW50IHVwb24gcG9zaXRpb24pIG51bWJlcnMgZ2V0IGVzY2FwZWQgYXMgY29kZSBwb2ludHMKCQkJcmV0dXJuIGNoLnNsaWNlKCAwLCAtMSApICsgIlxcIiArCgkJCQljaC5jaGFyQ29kZUF0KCBjaC5sZW5ndGggLSAxICkudG9TdHJpbmcoIDE2ICkgKyAiICI7CgkJfQoKCQkvLyBPdGhlciBwb3RlbnRpYWxseS1zcGVjaWFsIEFTQ0lJIGNoYXJhY3RlcnMgZ2V0IGJhY2tzbGFzaC1lc2NhcGVkCgkJcmV0dXJuICJcXCIgKyBjaDsKCX0sCgoJLy8gVXNlZCBmb3IgaWZyYW1lcwoJLy8gU2VlIHNldERvY3VtZW50KCkKCS8vIFJlbW92aW5nIHRoZSBmdW5jdGlvbiB3cmFwcGVyIGNhdXNlcyBhICJQZXJtaXNzaW9uIERlbmllZCIKCS8vIGVycm9yIGluIElFCgl1bmxvYWRIYW5kbGVyID0gZnVuY3Rpb24oKSB7CgkJc2V0RG9jdW1lbnQoKTsKCX0sCgoJaW5EaXNhYmxlZEZpZWxkc2V0ID0gYWRkQ29tYmluYXRvcigKCQlmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IHRydWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAiZmllbGRzZXQiOwoJCX0sCgkJeyBkaXI6ICJwYXJlbnROb2RlIiwgbmV4dDogImxlZ2VuZCIgfQoJKTsKCi8vIE9wdGltaXplIGZvciBwdXNoLmFwcGx5KCBfLCBOb2RlTGlzdCApCnRyeSB7CglwdXNoLmFwcGx5KAoJCSggYXJyID0gc2xpY2UuY2FsbCggcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMgKSApLAoJCXByZWZlcnJlZERvYy5jaGlsZE5vZGVzCgkpOwoKCS8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4wCgkvLyBEZXRlY3Qgc2lsZW50bHkgZmFpbGluZyBwdXNoLmFwcGx5CgkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zCglhcnJbIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzLmxlbmd0aCBdLm5vZGVUeXBlOwp9IGNhdGNoICggZSApIHsKCXB1c2ggPSB7IGFwcGx5OiBhcnIubGVuZ3RoID8KCgkJLy8gTGV2ZXJhZ2Ugc2xpY2UgaWYgcG9zc2libGUKCQlmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7CgkJCXB1c2hOYXRpdmUuYXBwbHkoIHRhcmdldCwgc2xpY2UuY2FsbCggZWxzICkgKTsKCQl9IDoKCgkJLy8gU3VwcG9ydDogSUU8OQoJCS8vIE90aGVyd2lzZSBhcHBlbmQgZGlyZWN0bHkKCQlmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7CgkJCXZhciBqID0gdGFyZ2V0Lmxlbmd0aCwKCQkJCWkgPSAwOwoKCQkJLy8gQ2FuJ3QgdHJ1c3QgTm9kZUxpc3QubGVuZ3RoCgkJCXdoaWxlICggKCB0YXJnZXRbIGorKyBdID0gZWxzWyBpKysgXSApICkge30KCQkJdGFyZ2V0Lmxlbmd0aCA9IGogLSAxOwoJCX0KCX07Cn0KCmZ1bmN0aW9uIFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7Cgl2YXIgbSwgaSwgZWxlbSwgbmlkLCBtYXRjaCwgZ3JvdXBzLCBuZXdTZWxlY3RvciwKCQluZXdDb250ZXh0ID0gY29udGV4dCAmJiBjb250ZXh0Lm93bmVyRG9jdW1lbnQsCgoJCS8vIG5vZGVUeXBlIGRlZmF1bHRzIHRvIDksIHNpbmNlIGNvbnRleHQgZGVmYXVsdHMgdG8gZG9jdW1lbnQKCQlub2RlVHlwZSA9IGNvbnRleHQgPyBjb250ZXh0Lm5vZGVUeXBlIDogOTsKCglyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTsKCgkvLyBSZXR1cm4gZWFybHkgZnJvbSBjYWxscyB3aXRoIGludmFsaWQgc2VsZWN0b3Igb3IgY29udGV4dAoJaWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09ICJzdHJpbmciIHx8ICFzZWxlY3RvciB8fAoJCW5vZGVUeXBlICE9PSAxICYmIG5vZGVUeXBlICE9PSA5ICYmIG5vZGVUeXBlICE9PSAxMSApIHsKCgkJcmV0dXJuIHJlc3VsdHM7Cgl9CgoJLy8gVHJ5IHRvIHNob3J0Y3V0IGZpbmQgb3BlcmF0aW9ucyAoYXMgb3Bwb3NlZCB0byBmaWx0ZXJzKSBpbiBIVE1MIGRvY3VtZW50cwoJaWYgKCAhc2VlZCApIHsKCQlzZXREb2N1bWVudCggY29udGV4dCApOwoJCWNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50OwoKCQlpZiAoIGRvY3VtZW50SXNIVE1MICkgewoKCQkJLy8gSWYgdGhlIHNlbGVjdG9yIGlzIHN1ZmZpY2llbnRseSBzaW1wbGUsIHRyeSB1c2luZyBhICJnZXQqQnkqIiBET00gbWV0aG9kCgkJCS8vIChleGNlcHRpbmcgRG9jdW1lbnRGcmFnbWVudCBjb250ZXh0LCB3aGVyZSB0aGUgbWV0aG9kcyBkb24ndCBleGlzdCkKCQkJaWYgKCBub2RlVHlwZSAhPT0gMTEgJiYgKCBtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKSApICkgewoKCQkJCS8vIElEIHNlbGVjdG9yCgkJCQlpZiAoICggbSA9IG1hdGNoWyAxIF0gKSApIHsKCgkJCQkJLy8gRG9jdW1lbnQgY29udGV4dAoJCQkJCWlmICggbm9kZVR5cGUgPT09IDkgKSB7CgkJCQkJCWlmICggKCBlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApICkgKSB7CgoJCQkJCQkJLy8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXQKCQkJCQkJCS8vIFRPRE86IGlkZW50aWZ5IHZlcnNpb25zCgkJCQkJCQkvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElECgkJCQkJCQlpZiAoIGVsZW0uaWQgPT09IG0gKSB7CgkJCQkJCQkJcmVzdWx0cy5wdXNoKCBlbGVtICk7CgkJCQkJCQkJcmV0dXJuIHJlc3VsdHM7CgkJCQkJCQl9CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQlyZXR1cm4gcmVzdWx0czsKCQkJCQkJfQoKCQkJCQkvLyBFbGVtZW50IGNvbnRleHQKCQkJCQl9IGVsc2UgewoKCQkJCQkJLy8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXQKCQkJCQkJLy8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnMKCQkJCQkJLy8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRAoJCQkJCQlpZiAoIG5ld0NvbnRleHQgJiYgKCBlbGVtID0gbmV3Q29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApICkgJiYKCQkJCQkJCWNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICkgJiYKCQkJCQkJCWVsZW0uaWQgPT09IG0gKSB7CgoJCQkJCQkJcmVzdWx0cy5wdXNoKCBlbGVtICk7CgkJCQkJCQlyZXR1cm4gcmVzdWx0czsKCQkJCQkJfQoJCQkJCX0KCgkJCQkvLyBUeXBlIHNlbGVjdG9yCgkJCQl9IGVsc2UgaWYgKCBtYXRjaFsgMiBdICkgewoJCQkJCXB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHNlbGVjdG9yICkgKTsKCQkJCQlyZXR1cm4gcmVzdWx0czsKCgkJCQkvLyBDbGFzcyBzZWxlY3RvcgoJCQkJfSBlbHNlIGlmICggKCBtID0gbWF0Y2hbIDMgXSApICYmIHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJgoJCQkJCWNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApIHsKCgkJCQkJcHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTsKCQkJCQlyZXR1cm4gcmVzdWx0czsKCQkJCX0KCQkJfQoKCQkJLy8gVGFrZSBhZHZhbnRhZ2Ugb2YgcXVlcnlTZWxlY3RvckFsbAoJCQlpZiAoIHN1cHBvcnQucXNhICYmCgkJCQkhbm9ubmF0aXZlU2VsZWN0b3JDYWNoZVsgc2VsZWN0b3IgKyAiICIgXSAmJgoJCQkJKCAhcmJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdCggc2VsZWN0b3IgKSApICYmCgoJCQkJLy8gU3VwcG9ydDogSUUgOCBvbmx5CgkJCQkvLyBFeGNsdWRlIG9iamVjdCBlbGVtZW50cwoJCQkJKCBub2RlVHlwZSAhPT0gMSB8fCBjb250ZXh0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICJvYmplY3QiICkgKSB7CgoJCQkJbmV3U2VsZWN0b3IgPSBzZWxlY3RvcjsKCQkJCW5ld0NvbnRleHQgPSBjb250ZXh0OwoKCQkJCS8vIHFTQSBjb25zaWRlcnMgZWxlbWVudHMgb3V0c2lkZSBhIHNjb3Bpbmcgcm9vdCB3aGVuIGV2YWx1YXRpbmcgY2hpbGQgb3IKCQkJCS8vIGRlc2NlbmRhbnQgY29tYmluYXRvcnMsIHdoaWNoIGlzIG5vdCB3aGF0IHdlIHdhbnQuCgkJCQkvLyBJbiBzdWNoIGNhc2VzLCB3ZSB3b3JrIGFyb3VuZCB0aGUgYmVoYXZpb3IgYnkgcHJlZml4aW5nIGV2ZXJ5IHNlbGVjdG9yIGluIHRoZQoJCQkJLy8gbGlzdCB3aXRoIGFuIElEIHNlbGVjdG9yIHJlZmVyZW5jaW5nIHRoZSBzY29wZSBjb250ZXh0LgoJCQkJLy8gVGhlIHRlY2huaXF1ZSBoYXMgdG8gYmUgdXNlZCBhcyB3ZWxsIHdoZW4gYSBsZWFkaW5nIGNvbWJpbmF0b3IgaXMgdXNlZAoJCQkJLy8gYXMgc3VjaCBzZWxlY3RvcnMgYXJlIG5vdCByZWNvZ25pemVkIGJ5IHF1ZXJ5U2VsZWN0b3JBbGwuCgkJCQkvLyBUaGFua3MgdG8gQW5kcmV3IER1cG9udCBmb3IgdGhpcyB0ZWNobmlxdWUuCgkJCQlpZiAoIG5vZGVUeXBlID09PSAxICYmCgkJCQkJKCByZGVzY2VuZC50ZXN0KCBzZWxlY3RvciApIHx8IHJjb21iaW5hdG9ycy50ZXN0KCBzZWxlY3RvciApICkgKSB7CgoJCQkJCS8vIEV4cGFuZCBjb250ZXh0IGZvciBzaWJsaW5nIHNlbGVjdG9ycwoJCQkJCW5ld0NvbnRleHQgPSByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fAoJCQkJCQljb250ZXh0OwoKCQkJCQkvLyBXZSBjYW4gdXNlIDpzY29wZSBpbnN0ZWFkIG9mIHRoZSBJRCBoYWNrIGlmIHRoZSBicm93c2VyCgkJCQkJLy8gc3VwcG9ydHMgaXQgJiBpZiB3ZSdyZSBub3QgY2hhbmdpbmcgdGhlIGNvbnRleHQuCgkJCQkJaWYgKCBuZXdDb250ZXh0ICE9PSBjb250ZXh0IHx8ICFzdXBwb3J0LnNjb3BlICkgewoKCQkJCQkJLy8gQ2FwdHVyZSB0aGUgY29udGV4dCBJRCwgc2V0dGluZyBpdCBmaXJzdCBpZiBuZWNlc3NhcnkKCQkJCQkJaWYgKCAoIG5pZCA9IGNvbnRleHQuZ2V0QXR0cmlidXRlKCAiaWQiICkgKSApIHsKCQkJCQkJCW5pZCA9IG5pZC5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQljb250ZXh0LnNldEF0dHJpYnV0ZSggImlkIiwgKCBuaWQgPSBleHBhbmRvICkgKTsKCQkJCQkJfQoJCQkJCX0KCgkJCQkJLy8gUHJlZml4IGV2ZXJ5IHNlbGVjdG9yIGluIHRoZSBsaXN0CgkJCQkJZ3JvdXBzID0gdG9rZW5pemUoIHNlbGVjdG9yICk7CgkJCQkJaSA9IGdyb3Vwcy5sZW5ndGg7CgkJCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQkJCWdyb3Vwc1sgaSBdID0gKCBuaWQgPyAiIyIgKyBuaWQgOiAiOnNjb3BlIiApICsgIiAiICsKCQkJCQkJCXRvU2VsZWN0b3IoIGdyb3Vwc1sgaSBdICk7CgkJCQkJfQoJCQkJCW5ld1NlbGVjdG9yID0gZ3JvdXBzLmpvaW4oICIsIiApOwoJCQkJfQoKCQkJCXRyeSB7CgkJCQkJcHVzaC5hcHBseSggcmVzdWx0cywKCQkJCQkJbmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCBuZXdTZWxlY3RvciApCgkJCQkJKTsKCQkJCQlyZXR1cm4gcmVzdWx0czsKCQkJCX0gY2F0Y2ggKCBxc2FFcnJvciApIHsKCQkJCQlub25uYXRpdmVTZWxlY3RvckNhY2hlKCBzZWxlY3RvciwgdHJ1ZSApOwoJCQkJfSBmaW5hbGx5IHsKCQkJCQlpZiAoIG5pZCA9PT0gZXhwYW5kbyApIHsKCQkJCQkJY29udGV4dC5yZW1vdmVBdHRyaWJ1dGUoICJpZCIgKTsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9Cgl9CgoJLy8gQWxsIG90aGVycwoJcmV0dXJuIHNlbGVjdCggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sICIkMSIgKSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApOwp9CgovKioKICogQ3JlYXRlIGtleS12YWx1ZSBjYWNoZXMgb2YgbGltaXRlZCBzaXplCiAqIEByZXR1cm5zIHtmdW5jdGlvbihzdHJpbmcsIG9iamVjdCl9IFJldHVybnMgdGhlIE9iamVjdCBkYXRhIGFmdGVyIHN0b3JpbmcgaXQgb24gaXRzZWxmIHdpdGgKICoJcHJvcGVydHkgbmFtZSB0aGUgKHNwYWNlLXN1ZmZpeGVkKSBzdHJpbmcgYW5kIChpZiB0aGUgY2FjaGUgaXMgbGFyZ2VyIHRoYW4gRXhwci5jYWNoZUxlbmd0aCkKICoJZGVsZXRpbmcgdGhlIG9sZGVzdCBlbnRyeQogKi8KZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7Cgl2YXIga2V5cyA9IFtdOwoKCWZ1bmN0aW9uIGNhY2hlKCBrZXksIHZhbHVlICkgewoKCQkvLyBVc2UgKGtleSArICIgIikgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGggbmF0aXZlIHByb3RvdHlwZSBwcm9wZXJ0aWVzIChzZWUgSXNzdWUgIzE1NykKCQlpZiAoIGtleXMucHVzaCgga2V5ICsgIiAiICkgPiBFeHByLmNhY2hlTGVuZ3RoICkgewoKCQkJLy8gT25seSBrZWVwIHRoZSBtb3N0IHJlY2VudCBlbnRyaWVzCgkJCWRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07CgkJfQoJCXJldHVybiAoIGNhY2hlWyBrZXkgKyAiICIgXSA9IHZhbHVlICk7Cgl9CglyZXR1cm4gY2FjaGU7Cn0KCi8qKgogKiBNYXJrIGEgZnVuY3Rpb24gZm9yIHNwZWNpYWwgdXNlIGJ5IFNpenpsZQogKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gbWFyawogKi8KZnVuY3Rpb24gbWFya0Z1bmN0aW9uKCBmbiApIHsKCWZuWyBleHBhbmRvIF0gPSB0cnVlOwoJcmV0dXJuIGZuOwp9CgovKioKICogU3VwcG9ydCB0ZXN0aW5nIHVzaW5nIGFuIGVsZW1lbnQKICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gUGFzc2VkIHRoZSBjcmVhdGVkIGVsZW1lbnQgYW5kIHJldHVybnMgYSBib29sZWFuIHJlc3VsdAogKi8KZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHsKCXZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJmaWVsZHNldCIgKTsKCgl0cnkgewoJCXJldHVybiAhIWZuKCBlbCApOwoJfSBjYXRjaCAoIGUgKSB7CgkJcmV0dXJuIGZhbHNlOwoJfSBmaW5hbGx5IHsKCgkJLy8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0CgkJaWYgKCBlbC5wYXJlbnROb2RlICkgewoJCQllbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBlbCApOwoJCX0KCgkJLy8gcmVsZWFzZSBtZW1vcnkgaW4gSUUKCQllbCA9IG51bGw7Cgl9Cn0KCi8qKgogKiBBZGRzIHRoZSBzYW1lIGhhbmRsZXIgZm9yIGFsbCBvZiB0aGUgc3BlY2lmaWVkIGF0dHJzCiAqIEBwYXJhbSB7U3RyaW5nfSBhdHRycyBQaXBlLXNlcGFyYXRlZCBsaXN0IG9mIGF0dHJpYnV0ZXMKICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBUaGUgbWV0aG9kIHRoYXQgd2lsbCBiZSBhcHBsaWVkCiAqLwpmdW5jdGlvbiBhZGRIYW5kbGUoIGF0dHJzLCBoYW5kbGVyICkgewoJdmFyIGFyciA9IGF0dHJzLnNwbGl0KCAifCIgKSwKCQlpID0gYXJyLmxlbmd0aDsKCgl3aGlsZSAoIGktLSApIHsKCQlFeHByLmF0dHJIYW5kbGVbIGFyclsgaSBdIF0gPSBoYW5kbGVyOwoJfQp9CgovKioKICogQ2hlY2tzIGRvY3VtZW50IG9yZGVyIG9mIHR3byBzaWJsaW5ncwogKiBAcGFyYW0ge0VsZW1lbnR9IGEKICogQHBhcmFtIHtFbGVtZW50fSBiCiAqIEByZXR1cm5zIHtOdW1iZXJ9IFJldHVybnMgbGVzcyB0aGFuIDAgaWYgYSBwcmVjZWRlcyBiLCBncmVhdGVyIHRoYW4gMCBpZiBhIGZvbGxvd3MgYgogKi8KZnVuY3Rpb24gc2libGluZ0NoZWNrKCBhLCBiICkgewoJdmFyIGN1ciA9IGIgJiYgYSwKCQlkaWZmID0gY3VyICYmIGEubm9kZVR5cGUgPT09IDEgJiYgYi5ub2RlVHlwZSA9PT0gMSAmJgoJCQlhLnNvdXJjZUluZGV4IC0gYi5zb3VyY2VJbmRleDsKCgkvLyBVc2UgSUUgc291cmNlSW5kZXggaWYgYXZhaWxhYmxlIG9uIGJvdGggbm9kZXMKCWlmICggZGlmZiApIHsKCQlyZXR1cm4gZGlmZjsKCX0KCgkvLyBDaGVjayBpZiBiIGZvbGxvd3MgYQoJaWYgKCBjdXIgKSB7CgkJd2hpbGUgKCAoIGN1ciA9IGN1ci5uZXh0U2libGluZyApICkgewoJCQlpZiAoIGN1ciA9PT0gYiApIHsKCQkJCXJldHVybiAtMTsKCQkJfQoJCX0KCX0KCglyZXR1cm4gYSA/IDEgOiAtMTsKfQoKLyoqCiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgaW5wdXQgdHlwZXMKICogQHBhcmFtIHtTdHJpbmd9IHR5cGUKICovCmZ1bmN0aW9uIGNyZWF0ZUlucHV0UHNldWRvKCB0eXBlICkgewoJcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkgewoJCXZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwoJCXJldHVybiBuYW1lID09PSAiaW5wdXQiICYmIGVsZW0udHlwZSA9PT0gdHlwZTsKCX07Cn0KCi8qKgogKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGJ1dHRvbnMKICogQHBhcmFtIHtTdHJpbmd9IHR5cGUKICovCmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvblBzZXVkbyggdHlwZSApIHsKCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQl2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCQlyZXR1cm4gKCBuYW1lID09PSAiaW5wdXQiIHx8IG5hbWUgPT09ICJidXR0b24iICkgJiYgZWxlbS50eXBlID09PSB0eXBlOwoJfTsKfQoKLyoqCiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgOmVuYWJsZWQvOmRpc2FibGVkCiAqIEBwYXJhbSB7Qm9vbGVhbn0gZGlzYWJsZWQgdHJ1ZSBmb3IgOmRpc2FibGVkOyBmYWxzZSBmb3IgOmVuYWJsZWQKICovCmZ1bmN0aW9uIGNyZWF0ZURpc2FibGVkUHNldWRvKCBkaXNhYmxlZCApIHsKCgkvLyBLbm93biA6ZGlzYWJsZWQgZmFsc2UgcG9zaXRpdmVzOiBmaWVsZHNldFtkaXNhYmxlZF0gPiBsZWdlbmQ6bnRoLW9mLXR5cGUobisyKSA6Y2FuLWRpc2FibGUKCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCgkJLy8gT25seSBjZXJ0YWluIGVsZW1lbnRzIGNhbiBtYXRjaCA6ZW5hYmxlZCBvciA6ZGlzYWJsZWQKCQkvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNzZWxlY3Rvci1lbmFibGVkCgkJLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjc2VsZWN0b3ItZGlzYWJsZWQKCQlpZiAoICJmb3JtIiBpbiBlbGVtICkgewoKCQkJLy8gQ2hlY2sgZm9yIGluaGVyaXRlZCBkaXNhYmxlZG5lc3Mgb24gcmVsZXZhbnQgbm9uLWRpc2FibGVkIGVsZW1lbnRzOgoJCQkvLyAqIGxpc3RlZCBmb3JtLWFzc29jaWF0ZWQgZWxlbWVudHMgaW4gYSBkaXNhYmxlZCBmaWVsZHNldAoJCQkvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY2F0ZWdvcnktbGlzdGVkCgkJCS8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjb25jZXB0LWZlLWRpc2FibGVkCgkJCS8vICogb3B0aW9uIGVsZW1lbnRzIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXAKCQkJLy8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NvbmNlcHQtb3B0aW9uLWRpc2FibGVkCgkJCS8vIEFsbCBzdWNoIGVsZW1lbnRzIGhhdmUgYSAiZm9ybSIgcHJvcGVydHkuCgkJCWlmICggZWxlbS5wYXJlbnROb2RlICYmIGVsZW0uZGlzYWJsZWQgPT09IGZhbHNlICkgewoKCQkJCS8vIE9wdGlvbiBlbGVtZW50cyBkZWZlciB0byBhIHBhcmVudCBvcHRncm91cCBpZiBwcmVzZW50CgkJCQlpZiAoICJsYWJlbCIgaW4gZWxlbSApIHsKCQkJCQlpZiAoICJsYWJlbCIgaW4gZWxlbS5wYXJlbnROb2RlICkgewoJCQkJCQlyZXR1cm4gZWxlbS5wYXJlbnROb2RlLmRpc2FibGVkID09PSBkaXNhYmxlZDsKCQkJCQl9IGVsc2UgewoJCQkJCQlyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7CgkJCQkJfQoJCQkJfQoKCQkJCS8vIFN1cHBvcnQ6IElFIDYgLSAxMQoJCQkJLy8gVXNlIHRoZSBpc0Rpc2FibGVkIHNob3J0Y3V0IHByb3BlcnR5IHRvIGNoZWNrIGZvciBkaXNhYmxlZCBmaWVsZHNldCBhbmNlc3RvcnMKCQkJCXJldHVybiBlbGVtLmlzRGlzYWJsZWQgPT09IGRpc2FibGVkIHx8CgoJCQkJCS8vIFdoZXJlIHRoZXJlIGlzIG5vIGlzRGlzYWJsZWQsIGNoZWNrIG1hbnVhbGx5CgkJCQkJLyoganNoaW50IC1XMDE4ICovCgkJCQkJZWxlbS5pc0Rpc2FibGVkICE9PSAhZGlzYWJsZWQgJiYKCQkJCQlpbkRpc2FibGVkRmllbGRzZXQoIGVsZW0gKSA9PT0gZGlzYWJsZWQ7CgkJCX0KCgkJCXJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDsKCgkJLy8gVHJ5IHRvIHdpbm5vdyBvdXQgZWxlbWVudHMgdGhhdCBjYW4ndCBiZSBkaXNhYmxlZCBiZWZvcmUgdHJ1c3RpbmcgdGhlIGRpc2FibGVkIHByb3BlcnR5LgoJCS8vIFNvbWUgdmljdGltcyBnZXQgY2F1Z2h0IGluIG91ciBuZXQgKGxhYmVsLCBsZWdlbmQsIG1lbnUsIHRyYWNrKSwgYnV0IGl0IHNob3VsZG4ndAoJCS8vIGV2ZW4gZXhpc3Qgb24gdGhlbSwgbGV0IGFsb25lIGhhdmUgYSBib29sZWFuIHZhbHVlLgoJCX0gZWxzZSBpZiAoICJsYWJlbCIgaW4gZWxlbSApIHsKCQkJcmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkOwoJCX0KCgkJLy8gUmVtYWluaW5nIGVsZW1lbnRzIGFyZSBuZWl0aGVyIDplbmFibGVkIG5vciA6ZGlzYWJsZWQKCQlyZXR1cm4gZmFsc2U7Cgl9Owp9CgovKioKICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBwb3NpdGlvbmFscwogKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbgogKi8KZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZm4gKSB7CglyZXR1cm4gbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggYXJndW1lbnQgKSB7CgkJYXJndW1lbnQgPSArYXJndW1lbnQ7CgkJcmV0dXJuIG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7CgkJCXZhciBqLAoJCQkJbWF0Y2hJbmRleGVzID0gZm4oIFtdLCBzZWVkLmxlbmd0aCwgYXJndW1lbnQgKSwKCQkJCWkgPSBtYXRjaEluZGV4ZXMubGVuZ3RoOwoKCQkJLy8gTWF0Y2ggZWxlbWVudHMgZm91bmQgYXQgdGhlIHNwZWNpZmllZCBpbmRleGVzCgkJCXdoaWxlICggaS0tICkgewoJCQkJaWYgKCBzZWVkWyAoIGogPSBtYXRjaEluZGV4ZXNbIGkgXSApIF0gKSB7CgkJCQkJc2VlZFsgaiBdID0gISggbWF0Y2hlc1sgaiBdID0gc2VlZFsgaiBdICk7CgkJCQl9CgkJCX0KCQl9ICk7Cgl9ICk7Cn0KCi8qKgogKiBDaGVja3MgYSBub2RlIGZvciB2YWxpZGl0eSBhcyBhIFNpenpsZSBjb250ZXh0CiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3Q9fSBjb250ZXh0CiAqIEByZXR1cm5zIHtFbGVtZW50fE9iamVjdHxCb29sZWFufSBUaGUgaW5wdXQgbm9kZSBpZiBhY2NlcHRhYmxlLCBvdGhlcndpc2UgYSBmYWxzeSB2YWx1ZQogKi8KZnVuY3Rpb24gdGVzdENvbnRleHQoIGNvbnRleHQgKSB7CglyZXR1cm4gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gInVuZGVmaW5lZCIgJiYgY29udGV4dDsKfQoKLy8gRXhwb3NlIHN1cHBvcnQgdmFycyBmb3IgY29udmVuaWVuY2UKc3VwcG9ydCA9IFNpenpsZS5zdXBwb3J0ID0ge307CgovKioKICogRGV0ZWN0cyBYTUwgbm9kZXMKICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxlbSBBbiBlbGVtZW50IG9yIGEgZG9jdW1lbnQKICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWZmIGVsZW0gaXMgYSBub24tSFRNTCBYTUwgbm9kZQogKi8KaXNYTUwgPSBTaXp6bGUuaXNYTUwgPSBmdW5jdGlvbiggZWxlbSApIHsKCXZhciBuYW1lc3BhY2UgPSBlbGVtICYmIGVsZW0ubmFtZXNwYWNlVVJJLAoJCWRvY0VsZW0gPSBlbGVtICYmICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKS5kb2N1bWVudEVsZW1lbnQ7CgoJLy8gU3VwcG9ydDogSUUgPD04CgkvLyBBc3N1bWUgSFRNTCB3aGVuIGRvY3VtZW50RWxlbWVudCBkb2Vzbid0IHlldCBleGlzdCwgc3VjaCBhcyBpbnNpZGUgbG9hZGluZyBpZnJhbWVzCgkvLyBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvNDgzMwoJcmV0dXJuICFyaHRtbC50ZXN0KCBuYW1lc3BhY2UgfHwgZG9jRWxlbSAmJiBkb2NFbGVtLm5vZGVOYW1lIHx8ICJIVE1MIiApOwp9OwoKLyoqCiAqIFNldHMgZG9jdW1lbnQtcmVsYXRlZCB2YXJpYWJsZXMgb25jZSBiYXNlZCBvbiB0aGUgY3VycmVudCBkb2N1bWVudAogKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBbZG9jXSBBbiBlbGVtZW50IG9yIGRvY3VtZW50IG9iamVjdCB0byB1c2UgdG8gc2V0IHRoZSBkb2N1bWVudAogKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50CiAqLwpzZXREb2N1bWVudCA9IFNpenpsZS5zZXREb2N1bWVudCA9IGZ1bmN0aW9uKCBub2RlICkgewoJdmFyIGhhc0NvbXBhcmUsIHN1YldpbmRvdywKCQlkb2MgPSBub2RlID8gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGUgOiBwcmVmZXJyZWREb2M7CgoJLy8gUmV0dXJuIGVhcmx5IGlmIGRvYyBpcyBpbnZhbGlkIG9yIGFscmVhZHkgc2VsZWN0ZWQKCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4KwoJLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSAiUGVybWlzc2lvbiBkZW5pZWQiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZwoJLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLgoJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQoJaWYgKCBkb2MgPT0gZG9jdW1lbnQgfHwgZG9jLm5vZGVUeXBlICE9PSA5IHx8ICFkb2MuZG9jdW1lbnRFbGVtZW50ICkgewoJCXJldHVybiBkb2N1bWVudDsKCX0KCgkvLyBVcGRhdGUgZ2xvYmFsIHZhcmlhYmxlcwoJZG9jdW1lbnQgPSBkb2M7Cglkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwoJZG9jdW1lbnRJc0hUTUwgPSAhaXNYTUwoIGRvY3VtZW50ICk7CgoJLy8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4KwoJLy8gQWNjZXNzaW5nIGlmcmFtZSBkb2N1bWVudHMgYWZ0ZXIgdW5sb2FkIHRocm93cyAicGVybWlzc2lvbiBkZW5pZWQiIGVycm9ycyAoalF1ZXJ5ICMxMzkzNikKCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4KwoJLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSAiUGVybWlzc2lvbiBkZW5pZWQiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZwoJLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLgoJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQoJaWYgKCBwcmVmZXJyZWREb2MgIT0gZG9jdW1lbnQgJiYKCQkoIHN1YldpbmRvdyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3ICkgJiYgc3ViV2luZG93LnRvcCAhPT0gc3ViV2luZG93ICkgewoKCQkvLyBTdXBwb3J0OiBJRSAxMSwgRWRnZQoJCWlmICggc3ViV2luZG93LmFkZEV2ZW50TGlzdGVuZXIgKSB7CgkJCXN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAidW5sb2FkIiwgdW5sb2FkSGFuZGxlciwgZmFsc2UgKTsKCgkJLy8gU3VwcG9ydDogSUUgOSAtIDEwIG9ubHkKCQl9IGVsc2UgaWYgKCBzdWJXaW5kb3cuYXR0YWNoRXZlbnQgKSB7CgkJCXN1YldpbmRvdy5hdHRhY2hFdmVudCggIm9udW5sb2FkIiwgdW5sb2FkSGFuZGxlciApOwoJCX0KCX0KCgkvLyBTdXBwb3J0OiBJRSA4IC0gMTErLCBFZGdlIDEyIC0gMTgrLCBDaHJvbWUgPD0xNiAtIDI1IG9ubHksIEZpcmVmb3ggPD0zLjYgLSAzMSBvbmx5LAoJLy8gU2FmYXJpIDQgLSA1IG9ubHksIE9wZXJhIDw9MTEuNiAtIDEyLnggb25seQoJLy8gSUUvRWRnZSAmIG9sZGVyIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgdGhlIDpzY29wZSBwc2V1ZG8tY2xhc3MuCgkvLyBTdXBwb3J0OiBTYWZhcmkgNi4wIG9ubHkKCS8vIFNhZmFyaSA2LjAgc3VwcG9ydHMgOnNjb3BlIGJ1dCBpdCdzIGFuIGFsaWFzIG9mIDpyb290IHRoZXJlLgoJc3VwcG9ydC5zY29wZSA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkgewoJCWRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJkaXYiICkgKTsKCQlyZXR1cm4gdHlwZW9mIGVsLnF1ZXJ5U2VsZWN0b3JBbGwgIT09ICJ1bmRlZmluZWQiICYmCgkJCSFlbC5xdWVyeVNlbGVjdG9yQWxsKCAiOnNjb3BlIGZpZWxkc2V0IGRpdiIgKS5sZW5ndGg7Cgl9ICk7CgoJLyogQXR0cmlidXRlcwoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwoKCS8vIFN1cHBvcnQ6IElFPDgKCS8vIFZlcmlmeSB0aGF0IGdldEF0dHJpYnV0ZSByZWFsbHkgcmV0dXJucyBhdHRyaWJ1dGVzIGFuZCBub3QgcHJvcGVydGllcwoJLy8gKGV4Y2VwdGluZyBJRTggYm9vbGVhbnMpCglzdXBwb3J0LmF0dHJpYnV0ZXMgPSBhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHsKCQllbC5jbGFzc05hbWUgPSAiaSI7CgkJcmV0dXJuICFlbC5nZXRBdHRyaWJ1dGUoICJjbGFzc05hbWUiICk7Cgl9ICk7CgoJLyogZ2V0RWxlbWVudChzKUJ5KgoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwoKCS8vIENoZWNrIGlmIGdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikgcmV0dXJucyBvbmx5IGVsZW1lbnRzCglzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7CgkJZWwuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoICIiICkgKTsKCQlyZXR1cm4gIWVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCAiKiIgKS5sZW5ndGg7Cgl9ICk7CgoJLy8gU3VwcG9ydDogSUU8OQoJc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gcm5hdGl2ZS50ZXN0KCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICk7CgoJLy8gU3VwcG9ydDogSUU8MTAKCS8vIENoZWNrIGlmIGdldEVsZW1lbnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZQoJLy8gVGhlIGJyb2tlbiBnZXRFbGVtZW50QnlJZCBtZXRob2RzIGRvbid0IHBpY2sgdXAgcHJvZ3JhbW1hdGljYWxseS1zZXQgbmFtZXMsCgkvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3QKCXN1cHBvcnQuZ2V0QnlJZCA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkgewoJCWRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuaWQgPSBleHBhbmRvOwoJCXJldHVybiAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUgfHwgIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCBleHBhbmRvICkubGVuZ3RoOwoJfSApOwoKCS8vIElEIGZpbHRlciBhbmQgZmluZAoJaWYgKCBzdXBwb3J0LmdldEJ5SWQgKSB7CgkJRXhwci5maWx0ZXJbICJJRCIgXSA9IGZ1bmN0aW9uKCBpZCApIHsKCQkJdmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7CgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQkJCXJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggImlkIiApID09PSBhdHRySWQ7CgkJCX07CgkJfTsKCQlFeHByLmZpbmRbICJJRCIgXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHsKCQkJaWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gInVuZGVmaW5lZCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7CgkJCQl2YXIgZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7CgkJCQlyZXR1cm4gZWxlbSA/IFsgZWxlbSBdIDogW107CgkJCX0KCQl9OwoJfSBlbHNlIHsKCQlFeHByLmZpbHRlclsgIklEIiBdID0gIGZ1bmN0aW9uKCBpZCApIHsKCQkJdmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7CgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQkJCXZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gInVuZGVmaW5lZCIgJiYKCQkJCQllbGVtLmdldEF0dHJpYnV0ZU5vZGUoICJpZCIgKTsKCQkJCXJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF0dHJJZDsKCQkJfTsKCQl9OwoKCQkvLyBTdXBwb3J0OiBJRSA2IC0gNyBvbmx5CgkJLy8gZ2V0RWxlbWVudEJ5SWQgaXMgbm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dAoJCUV4cHIuZmluZFsgIklEIiBdID0gZnVuY3Rpb24oIGlkLCBjb250ZXh0ICkgewoJCQlpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSAidW5kZWZpbmVkIiAmJiBkb2N1bWVudElzSFRNTCApIHsKCQkJCXZhciBub2RlLCBpLCBlbGVtcywKCQkJCQllbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTsKCgkJCQlpZiAoIGVsZW0gKSB7CgoJCQkJCS8vIFZlcmlmeSB0aGUgaWQgYXR0cmlidXRlCgkJCQkJbm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggImlkIiApOwoJCQkJCWlmICggbm9kZSAmJiBub2RlLnZhbHVlID09PSBpZCApIHsKCQkJCQkJcmV0dXJuIFsgZWxlbSBdOwoJCQkJCX0KCgkJCQkJLy8gRmFsbCBiYWNrIG9uIGdldEVsZW1lbnRzQnlOYW1lCgkJCQkJZWxlbXMgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlOYW1lKCBpZCApOwoJCQkJCWkgPSAwOwoJCQkJCXdoaWxlICggKCBlbGVtID0gZWxlbXNbIGkrKyBdICkgKSB7CgkJCQkJCW5vZGUgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoICJpZCIgKTsKCQkJCQkJaWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkgewoJCQkJCQkJcmV0dXJuIFsgZWxlbSBdOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoKCQkJCXJldHVybiBbXTsKCQkJfQoJCX07Cgl9CgoJLy8gVGFnCglFeHByLmZpbmRbICJUQUciIF0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID8KCQlmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkgewoJCQlpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSAidW5kZWZpbmVkIiApIHsKCQkJCXJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTsKCgkJCS8vIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgZG9uJ3QgaGF2ZSBnRUJUTgoJCQl9IGVsc2UgaWYgKCBzdXBwb3J0LnFzYSApIHsKCQkJCXJldHVybiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyApOwoJCQl9CgkJfSA6CgoJCWZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7CgkJCXZhciBlbGVtLAoJCQkJdG1wID0gW10sCgkJCQlpID0gMCwKCgkJCQkvLyBCeSBoYXBweSBjb2luY2lkZW5jZSwgYSAoYnJva2VuKSBnRUJUTiBhcHBlYXJzIG9uIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgdG9vCgkJCQlyZXN1bHRzID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7CgoJCQkvLyBGaWx0ZXIgb3V0IHBvc3NpYmxlIGNvbW1lbnRzCgkJCWlmICggdGFnID09PSAiKiIgKSB7CgkJCQl3aGlsZSAoICggZWxlbSA9IHJlc3VsdHNbIGkrKyBdICkgKSB7CgkJCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkgewoJCQkJCQl0bXAucHVzaCggZWxlbSApOwoJCQkJCX0KCQkJCX0KCgkJCQlyZXR1cm4gdG1wOwoJCQl9CgkJCXJldHVybiByZXN1bHRzOwoJCX07CgoJLy8gQ2xhc3MKCUV4cHIuZmluZFsgIkNMQVNTIiBdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmIGZ1bmN0aW9uKCBjbGFzc05hbWUsIGNvbnRleHQgKSB7CgkJaWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICE9PSAidW5kZWZpbmVkIiAmJiBkb2N1bWVudElzSFRNTCApIHsKCQkJcmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICk7CgkJfQoJfTsKCgkvKiBRU0EvbWF0Y2hlc1NlbGVjdG9yCgktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCgoJLy8gUVNBIGFuZCBtYXRjaGVzU2VsZWN0b3Igc3VwcG9ydAoKCS8vIG1hdGNoZXNTZWxlY3Rvcig6YWN0aXZlKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoSUU5L09wZXJhIDExLjUpCglyYnVnZ3lNYXRjaGVzID0gW107CgoJLy8gcVNhKDpmb2N1cykgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKENocm9tZSAyMSkKCS8vIFdlIGFsbG93IHRoaXMgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBJRTgvOSB0aGF0IHRocm93cyBhbiBlcnJvcgoJLy8gd2hlbmV2ZXIgYGRvY3VtZW50LmFjdGl2ZUVsZW1lbnRgIGlzIGFjY2Vzc2VkIG9uIGFuIGlmcmFtZQoJLy8gU28sIHdlIGFsbG93IDpmb2N1cyB0byBwYXNzIHRocm91Z2ggUVNBIGFsbCB0aGUgdGltZSB0byBhdm9pZCB0aGUgSUUgZXJyb3IKCS8vIFNlZSBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzNzgKCXJidWdneVFTQSA9IFtdOwoKCWlmICggKCBzdXBwb3J0LnFzYSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCApICkgKSB7CgoJCS8vIEJ1aWxkIFFTQSByZWdleAoJCS8vIFJlZ2V4IHN0cmF0ZWd5IGFkb3B0ZWQgZnJvbSBEaWVnbyBQZXJpbmkKCQlhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHsKCgkJCXZhciBpbnB1dDsKCgkJCS8vIFNlbGVjdCBpcyBzZXQgdG8gZW1wdHkgc3RyaW5nIG9uIHB1cnBvc2UKCQkJLy8gVGhpcyBpcyB0byB0ZXN0IElFJ3MgdHJlYXRtZW50IG9mIG5vdCBleHBsaWNpdGx5CgkJCS8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLAoJCQkvLyBzaW5jZSBpdHMgcHJlc2VuY2Ugc2hvdWxkIGJlIGVub3VnaAoJCQkvLyBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTIzNTkKCQkJZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pbm5lckhUTUwgPSAiPGEgaWQ9JyIgKyBleHBhbmRvICsgIic+PC9hPiIgKwoJCQkJIjxzZWxlY3QgaWQ9JyIgKyBleHBhbmRvICsgIi1cclxcJyBtc2FsbG93Y2FwdHVyZT0nJz4iICsKCQkJCSI8b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiI7CgoJCQkvLyBTdXBwb3J0OiBJRTgsIE9wZXJhIDExLTEyLjE2CgkJCS8vIE5vdGhpbmcgc2hvdWxkIGJlIHNlbGVjdGVkIHdoZW4gZW1wdHkgc3RyaW5ncyBmb2xsb3cgXj0gb3IgJD0gb3IgKj0KCQkJLy8gVGhlIHRlc3QgYXR0cmlidXRlIG11c3QgYmUgdW5rbm93biBpbiBPcGVyYSBidXQgInNhZmUiIGZvciBXaW5SVAoJCQkvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2hoNDY1Mzg4LmFzcHgjYXR0cmlidXRlX3NlY3Rpb24KCQkJaWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKCAiW21zYWxsb3djYXB0dXJlXj0nJ10iICkubGVuZ3RoICkgewoJCQkJcmJ1Z2d5UVNBLnB1c2goICJbKl4kXT0iICsgd2hpdGVzcGFjZSArICIqKD86Jyd8XCJcIikiICk7CgkJCX0KCgkJCS8vIFN1cHBvcnQ6IElFOAoJCQkvLyBCb29sZWFuIGF0dHJpYnV0ZXMgYW5kICJ2YWx1ZSIgYXJlIG5vdCB0cmVhdGVkIGNvcnJlY3RseQoJCQlpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCAiW3NlbGVjdGVkXSIgKS5sZW5ndGggKSB7CgkJCQlyYnVnZ3lRU0EucHVzaCggIlxcWyIgKyB3aGl0ZXNwYWNlICsgIiooPzp2YWx1ZXwiICsgYm9vbGVhbnMgKyAiKSIgKTsKCQkJfQoKCQkJLy8gU3VwcG9ydDogQ2hyb21lPDI5LCBBbmRyb2lkPDQuNCwgU2FmYXJpPDcuMCssIGlPUzw3LjArLCBQaGFudG9tSlM8MS45LjgrCgkJCWlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoICJbaWR+PSIgKyBleHBhbmRvICsgIi1dIiApLmxlbmd0aCApIHsKCQkJCXJidWdneVFTQS5wdXNoKCAifj0iICk7CgkJCX0KCgkJCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNSAtIDE4KwoJCQkvLyBJRSAxMS9FZGdlIGRvbid0IGZpbmQgZWxlbWVudHMgb24gYSBgW25hbWU9JyddYCBxdWVyeSBpbiBzb21lIGNhc2VzLgoJCQkvLyBBZGRpbmcgYSB0ZW1wb3JhcnkgYXR0cmlidXRlIHRvIHRoZSBkb2N1bWVudCBiZWZvcmUgdGhlIHNlbGVjdGlvbiB3b3JrcwoJCQkvLyBhcm91bmQgdGhlIGlzc3VlLgoJCQkvLyBJbnRlcmVzdGluZ2x5LCBJRSAxMCAmIG9sZGVyIGRvbid0IHNlZW0gdG8gaGF2ZSB0aGUgaXNzdWUuCgkJCWlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImlucHV0IiApOwoJCQlpbnB1dC5zZXRBdHRyaWJ1dGUoICJuYW1lIiwgIiIgKTsKCQkJZWwuYXBwZW5kQ2hpbGQoIGlucHV0ICk7CgkJCWlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoICJbbmFtZT0nJ10iICkubGVuZ3RoICkgewoJCQkJcmJ1Z2d5UVNBLnB1c2goICJcXFsiICsgd2hpdGVzcGFjZSArICIqbmFtZSIgKyB3aGl0ZXNwYWNlICsgIio9IiArCgkJCQkJd2hpdGVzcGFjZSArICIqKD86Jyd8XCJcIikiICk7CgkJCX0KCgkJCS8vIFdlYmtpdC9PcGVyYSAtIDpjaGVja2VkIHNob3VsZCByZXR1cm4gc2VsZWN0ZWQgb3B0aW9uIGVsZW1lbnRzCgkJCS8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkCgkJCS8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzCgkJCWlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoICI6Y2hlY2tlZCIgKS5sZW5ndGggKSB7CgkJCQlyYnVnZ3lRU0EucHVzaCggIjpjaGVja2VkIiApOwoJCQl9CgoJCQkvLyBTdXBwb3J0OiBTYWZhcmkgOCssIGlPUyA4KwoJCQkvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2ODUxCgkJCS8vIEluLXBhZ2UgYHNlbGVjdG9yI2lkIHNpYmxpbmctY29tYmluYXRvciBzZWxlY3RvcmAgZmFpbHMKCQkJaWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggImEjIiArIGV4cGFuZG8gKyAiKyoiICkubGVuZ3RoICkgewoJCQkJcmJ1Z2d5UVNBLnB1c2goICIuIy4rWyt+XSIgKTsKCQkJfQoKCQkJLy8gU3VwcG9ydDogRmlyZWZveCA8PTMuNiAtIDUgb25seQoJCQkvLyBPbGQgRmlyZWZveCBkb2Vzbid0IHRocm93IG9uIGEgYmFkbHktZXNjYXBlZCBpZGVudGlmaWVyLgoJCQllbC5xdWVyeVNlbGVjdG9yQWxsKCAiXFxcZiIgKTsKCQkJcmJ1Z2d5UVNBLnB1c2goICJbXFxyXFxuXFxmXSIgKTsKCQl9ICk7CgoJCWFzc2VydCggZnVuY3Rpb24oIGVsICkgewoJCQllbC5pbm5lckhUTUwgPSAiPGEgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjwvYT4iICsKCQkJCSI8c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+IjsKCgkJCS8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwcwoJCQkvLyBUaGUgdHlwZSBhbmQgbmFtZSBhdHRyaWJ1dGVzIGFyZSByZXN0cmljdGVkIGR1cmluZyAuaW5uZXJIVE1MIGFzc2lnbm1lbnQKCQkJdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImlucHV0IiApOwoJCQlpbnB1dC5zZXRBdHRyaWJ1dGUoICJ0eXBlIiwgImhpZGRlbiIgKTsKCQkJZWwuYXBwZW5kQ2hpbGQoIGlucHV0ICkuc2V0QXR0cmlidXRlKCAibmFtZSIsICJEIiApOwoKCQkJLy8gU3VwcG9ydDogSUU4CgkJCS8vIEVuZm9yY2UgY2FzZS1zZW5zaXRpdml0eSBvZiBuYW1lIGF0dHJpYnV0ZQoJCQlpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoICJbbmFtZT1kXSIgKS5sZW5ndGggKSB7CgkJCQlyYnVnZ3lRU0EucHVzaCggIm5hbWUiICsgd2hpdGVzcGFjZSArICIqWypeJHwhfl0/PSIgKTsKCQkJfQoKCQkJLy8gRkYgMy41IC0gOmVuYWJsZWQvOmRpc2FibGVkIGFuZCBoaWRkZW4gZWxlbWVudHMgKGhpZGRlbiBlbGVtZW50cyBhcmUgc3RpbGwgZW5hYmxlZCkKCQkJLy8gSUU4IHRocm93cyBlcnJvciBoZXJlIGFuZCB3aWxsIG5vdCBzZWUgbGF0ZXIgdGVzdHMKCQkJaWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKCAiOmVuYWJsZWQiICkubGVuZ3RoICE9PSAyICkgewoJCQkJcmJ1Z2d5UVNBLnB1c2goICI6ZW5hYmxlZCIsICI6ZGlzYWJsZWQiICk7CgkJCX0KCgkJCS8vIFN1cHBvcnQ6IElFOS0xMSsKCQkJLy8gSUUncyA6ZGlzYWJsZWQgc2VsZWN0b3IgZG9lcyBub3QgcGljayB1cCB0aGUgY2hpbGRyZW4gb2YgZGlzYWJsZWQgZmllbGRzZXRzCgkJCWRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuZGlzYWJsZWQgPSB0cnVlOwoJCQlpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoICI6ZGlzYWJsZWQiICkubGVuZ3RoICE9PSAyICkgewoJCQkJcmJ1Z2d5UVNBLnB1c2goICI6ZW5hYmxlZCIsICI6ZGlzYWJsZWQiICk7CgkJCX0KCgkJCS8vIFN1cHBvcnQ6IE9wZXJhIDEwIC0gMTEgb25seQoJCQkvLyBPcGVyYSAxMC0xMSBkb2VzIG5vdCB0aHJvdyBvbiBwb3N0LWNvbW1hIGludmFsaWQgcHNldWRvcwoJCQllbC5xdWVyeVNlbGVjdG9yQWxsKCAiKiw6eCIgKTsKCQkJcmJ1Z2d5UVNBLnB1c2goICIsLio6IiApOwoJCX0gKTsKCX0KCglpZiAoICggc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgPSBybmF0aXZlLnRlc3QoICggbWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fAoJCWRvY0VsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8CgkJZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHwKCQlkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHwKCQlkb2NFbGVtLm1zTWF0Y2hlc1NlbGVjdG9yICkgKSApICkgewoKCQlhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHsKCgkJCS8vIENoZWNrIHRvIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRvIGRvIG1hdGNoZXNTZWxlY3RvcgoJCQkvLyBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlIChJRSA5KQoJCQlzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoID0gbWF0Y2hlcy5jYWxsKCBlbCwgIioiICk7CgoJCQkvLyBUaGlzIHNob3VsZCBmYWlsIHdpdGggYW4gZXhjZXB0aW9uCgkJCS8vIEdlY2tvIGRvZXMgbm90IGVycm9yLCByZXR1cm5zIGZhbHNlIGluc3RlYWQKCQkJbWF0Y2hlcy5jYWxsKCBlbCwgIltzIT0nJ106eCIgKTsKCQkJcmJ1Z2d5TWF0Y2hlcy5wdXNoKCAiIT0iLCBwc2V1ZG9zICk7CgkJfSApOwoJfQoKCXJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5UVNBLmpvaW4oICJ8IiApICk7CglyYnVnZ3lNYXRjaGVzID0gcmJ1Z2d5TWF0Y2hlcy5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5TWF0Y2hlcy5qb2luKCAifCIgKSApOwoKCS8qIENvbnRhaW5zCgktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCgloYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7CgoJLy8gRWxlbWVudCBjb250YWlucyBhbm90aGVyCgkvLyBQdXJwb3NlZnVsbHkgc2VsZi1leGNsdXNpdmUKCS8vIEFzIGluLCBhbiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gaXRzZWxmCgljb250YWlucyA9IGhhc0NvbXBhcmUgfHwgcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbnRhaW5zICkgPwoJCWZ1bmN0aW9uKCBhLCBiICkgewoJCQl2YXIgYWRvd24gPSBhLm5vZGVUeXBlID09PSA5ID8gYS5kb2N1bWVudEVsZW1lbnQgOiBhLAoJCQkJYnVwID0gYiAmJiBiLnBhcmVudE5vZGU7CgkJCXJldHVybiBhID09PSBidXAgfHwgISEoIGJ1cCAmJiBidXAubm9kZVR5cGUgPT09IDEgJiYgKAoJCQkJYWRvd24uY29udGFpbnMgPwoJCQkJCWFkb3duLmNvbnRhaW5zKCBidXAgKSA6CgkJCQkJYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2CgkJCSkgKTsKCQl9IDoKCQlmdW5jdGlvbiggYSwgYiApIHsKCQkJaWYgKCBiICkgewoJCQkJd2hpbGUgKCAoIGIgPSBiLnBhcmVudE5vZGUgKSApIHsKCQkJCQlpZiAoIGIgPT09IGEgKSB7CgkJCQkJCXJldHVybiB0cnVlOwoJCQkJCX0KCQkJCX0KCQkJfQoJCQlyZXR1cm4gZmFsc2U7CgkJfTsKCgkvKiBTb3J0aW5nCgktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCgoJLy8gRG9jdW1lbnQgb3JkZXIgc29ydGluZwoJc29ydE9yZGVyID0gaGFzQ29tcGFyZSA/CglmdW5jdGlvbiggYSwgYiApIHsKCgkJLy8gRmxhZyBmb3IgZHVwbGljYXRlIHJlbW92YWwKCQlpZiAoIGEgPT09IGIgKSB7CgkJCWhhc0R1cGxpY2F0ZSA9IHRydWU7CgkJCXJldHVybiAwOwoJCX0KCgkJLy8gU29ydCBvbiBtZXRob2QgZXhpc3RlbmNlIGlmIG9ubHkgb25lIGlucHV0IGhhcyBjb21wYXJlRG9jdW1lbnRQb3NpdGlvbgoJCXZhciBjb21wYXJlID0gIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gLSAhYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjsKCQlpZiAoIGNvbXBhcmUgKSB7CgkJCXJldHVybiBjb21wYXJlOwoJCX0KCgkJLy8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudAoJCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4KwoJCS8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgIlBlcm1pc3Npb24gZGVuaWVkIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmcKCQkvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuCgkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQoJCWNvbXBhcmUgPSAoIGEub3duZXJEb2N1bWVudCB8fCBhICkgPT0gKCBiLm93bmVyRG9jdW1lbnQgfHwgYiApID8KCQkJYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYiApIDoKCgkJCS8vIE90aGVyd2lzZSB3ZSBrbm93IHRoZXkgYXJlIGRpc2Nvbm5lY3RlZAoJCQkxOwoKCQkvLyBEaXNjb25uZWN0ZWQgbm9kZXMKCQlpZiAoIGNvbXBhcmUgJiAxIHx8CgkJCSggIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSApICkgewoKCQkJLy8gQ2hvb3NlIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgaXMgcmVsYXRlZCB0byBvdXIgcHJlZmVycmVkIGRvY3VtZW50CgkJCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4KwoJCQkvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhICJQZXJtaXNzaW9uIGRlbmllZCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nCgkJCS8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay4KCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQoJCQlpZiAoIGEgPT0gZG9jdW1lbnQgfHwgYS5vd25lckRvY3VtZW50ID09IHByZWZlcnJlZERvYyAmJgoJCQkJY29udGFpbnMoIHByZWZlcnJlZERvYywgYSApICkgewoJCQkJcmV0dXJuIC0xOwoJCQl9CgoJCQkvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCsKCQkJLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSAiUGVybWlzc2lvbiBkZW5pZWQiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZwoJCQkvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuCgkJCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXEKCQkJaWYgKCBiID09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PSBwcmVmZXJyZWREb2MgJiYKCQkJCWNvbnRhaW5zKCBwcmVmZXJyZWREb2MsIGIgKSApIHsKCQkJCXJldHVybiAxOwoJCQl9CgoJCQkvLyBNYWludGFpbiBvcmlnaW5hbCBvcmRlcgoJCQlyZXR1cm4gc29ydElucHV0ID8KCQkJCSggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDoKCQkJCTA7CgkJfQoKCQlyZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7Cgl9IDoKCWZ1bmN0aW9uKCBhLCBiICkgewoKCQkvLyBFeGl0IGVhcmx5IGlmIHRoZSBub2RlcyBhcmUgaWRlbnRpY2FsCgkJaWYgKCBhID09PSBiICkgewoJCQloYXNEdXBsaWNhdGUgPSB0cnVlOwoJCQlyZXR1cm4gMDsKCQl9CgoJCXZhciBjdXIsCgkJCWkgPSAwLAoJCQlhdXAgPSBhLnBhcmVudE5vZGUsCgkJCWJ1cCA9IGIucGFyZW50Tm9kZSwKCQkJYXAgPSBbIGEgXSwKCQkJYnAgPSBbIGIgXTsKCgkJLy8gUGFyZW50bGVzcyBub2RlcyBhcmUgZWl0aGVyIGRvY3VtZW50cyBvciBkaXNjb25uZWN0ZWQKCQlpZiAoICFhdXAgfHwgIWJ1cCApIHsKCgkJCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4KwoJCQkvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhICJQZXJtaXNzaW9uIGRlbmllZCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nCgkJCS8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay4KCQkJLyogZXNsaW50LWRpc2FibGUgZXFlcWVxICovCgkJCXJldHVybiBhID09IGRvY3VtZW50ID8gLTEgOgoJCQkJYiA9PSBkb2N1bWVudCA/IDEgOgoJCQkJLyogZXNsaW50LWVuYWJsZSBlcWVxZXEgKi8KCQkJCWF1cCA/IC0xIDoKCQkJCWJ1cCA/IDEgOgoJCQkJc29ydElucHV0ID8KCQkJCSggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDoKCQkJCTA7CgoJCS8vIElmIHRoZSBub2RlcyBhcmUgc2libGluZ3MsIHdlIGNhbiBkbyBhIHF1aWNrIGNoZWNrCgkJfSBlbHNlIGlmICggYXVwID09PSBidXAgKSB7CgkJCXJldHVybiBzaWJsaW5nQ2hlY2soIGEsIGIgKTsKCQl9CgoJCS8vIE90aGVyd2lzZSB3ZSBuZWVkIGZ1bGwgbGlzdHMgb2YgdGhlaXIgYW5jZXN0b3JzIGZvciBjb21wYXJpc29uCgkJY3VyID0gYTsKCQl3aGlsZSAoICggY3VyID0gY3VyLnBhcmVudE5vZGUgKSApIHsKCQkJYXAudW5zaGlmdCggY3VyICk7CgkJfQoJCWN1ciA9IGI7CgkJd2hpbGUgKCAoIGN1ciA9IGN1ci5wYXJlbnROb2RlICkgKSB7CgkJCWJwLnVuc2hpZnQoIGN1ciApOwoJCX0KCgkJLy8gV2FsayBkb3duIHRoZSB0cmVlIGxvb2tpbmcgZm9yIGEgZGlzY3JlcGFuY3kKCQl3aGlsZSAoIGFwWyBpIF0gPT09IGJwWyBpIF0gKSB7CgkJCWkrKzsKCQl9CgoJCXJldHVybiBpID8KCgkJCS8vIERvIGEgc2libGluZyBjaGVjayBpZiB0aGUgbm9kZXMgaGF2ZSBhIGNvbW1vbiBhbmNlc3RvcgoJCQlzaWJsaW5nQ2hlY2soIGFwWyBpIF0sIGJwWyBpIF0gKSA6CgoJCQkvLyBPdGhlcndpc2Ugbm9kZXMgaW4gb3VyIGRvY3VtZW50IHNvcnQgZmlyc3QKCQkJLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrCgkJCS8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgIlBlcm1pc3Npb24gZGVuaWVkIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmcKCQkJLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLgoJCQkvKiBlc2xpbnQtZGlzYWJsZSBlcWVxZXEgKi8KCQkJYXBbIGkgXSA9PSBwcmVmZXJyZWREb2MgPyAtMSA6CgkJCWJwWyBpIF0gPT0gcHJlZmVycmVkRG9jID8gMSA6CgkJCS8qIGVzbGludC1lbmFibGUgZXFlcWVxICovCgkJCTA7Cgl9OwoKCXJldHVybiBkb2N1bWVudDsKfTsKClNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkgewoJcmV0dXJuIFNpenpsZSggZXhwciwgbnVsbCwgbnVsbCwgZWxlbWVudHMgKTsKfTsKClNpenpsZS5tYXRjaGVzU2VsZWN0b3IgPSBmdW5jdGlvbiggZWxlbSwgZXhwciApIHsKCXNldERvY3VtZW50KCBlbGVtICk7CgoJaWYgKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciAmJiBkb2N1bWVudElzSFRNTCAmJgoJCSFub25uYXRpdmVTZWxlY3RvckNhY2hlWyBleHByICsgIiAiIF0gJiYKCQkoICFyYnVnZ3lNYXRjaGVzIHx8ICFyYnVnZ3lNYXRjaGVzLnRlc3QoIGV4cHIgKSApICYmCgkJKCAhcmJ1Z2d5UVNBICAgICB8fCAhcmJ1Z2d5UVNBLnRlc3QoIGV4cHIgKSApICkgewoKCQl0cnkgewoJCQl2YXIgcmV0ID0gbWF0Y2hlcy5jYWxsKCBlbGVtLCBleHByICk7CgoJCQkvLyBJRSA5J3MgbWF0Y2hlc1NlbGVjdG9yIHJldHVybnMgZmFsc2Ugb24gZGlzY29ubmVjdGVkIG5vZGVzCgkJCWlmICggcmV0IHx8IHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggfHwKCgkJCQkvLyBBcyB3ZWxsLCBkaXNjb25uZWN0ZWQgbm9kZXMgYXJlIHNhaWQgdG8gYmUgaW4gYSBkb2N1bWVudAoJCQkJLy8gZnJhZ21lbnQgaW4gSUUgOQoJCQkJZWxlbS5kb2N1bWVudCAmJiBlbGVtLmRvY3VtZW50Lm5vZGVUeXBlICE9PSAxMSApIHsKCQkJCXJldHVybiByZXQ7CgkJCX0KCQl9IGNhdGNoICggZSApIHsKCQkJbm9ubmF0aXZlU2VsZWN0b3JDYWNoZSggZXhwciwgdHJ1ZSApOwoJCX0KCX0KCglyZXR1cm4gU2l6emxlKCBleHByLCBkb2N1bWVudCwgbnVsbCwgWyBlbGVtIF0gKS5sZW5ndGggPiAwOwp9OwoKU2l6emxlLmNvbnRhaW5zID0gZnVuY3Rpb24oIGNvbnRleHQsIGVsZW0gKSB7CgoJLy8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkCgkvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCsKCS8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgIlBlcm1pc3Npb24gZGVuaWVkIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmcKCS8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay4KCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXEKCWlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9IGRvY3VtZW50ICkgewoJCXNldERvY3VtZW50KCBjb250ZXh0ICk7Cgl9CglyZXR1cm4gY29udGFpbnMoIGNvbnRleHQsIGVsZW0gKTsKfTsKClNpenpsZS5hdHRyID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7CgoJLy8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkCgkvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCsKCS8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgIlBlcm1pc3Npb24gZGVuaWVkIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmcKCS8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay4KCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXEKCWlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9IGRvY3VtZW50ICkgewoJCXNldERvY3VtZW50KCBlbGVtICk7Cgl9CgoJdmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSwKCgkJLy8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKGpRdWVyeSAjMTM4MDcpCgkJdmFsID0gZm4gJiYgaGFzT3duLmNhbGwoIEV4cHIuYXR0ckhhbmRsZSwgbmFtZS50b0xvd2VyQ2FzZSgpICkgPwoJCQlmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOgoJCQl1bmRlZmluZWQ7CgoJcmV0dXJuIHZhbCAhPT0gdW5kZWZpbmVkID8KCQl2YWwgOgoJCXN1cHBvcnQuYXR0cmlidXRlcyB8fCAhZG9jdW1lbnRJc0hUTUwgPwoJCQllbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApIDoKCQkJKCB2YWwgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIG5hbWUgKSApICYmIHZhbC5zcGVjaWZpZWQgPwoJCQkJdmFsLnZhbHVlIDoKCQkJCW51bGw7Cn07CgpTaXp6bGUuZXNjYXBlID0gZnVuY3Rpb24oIHNlbCApIHsKCXJldHVybiAoIHNlbCArICIiICkucmVwbGFjZSggcmNzc2VzY2FwZSwgZmNzc2VzY2FwZSApOwp9OwoKU2l6emxlLmVycm9yID0gZnVuY3Rpb24oIG1zZyApIHsKCXRocm93IG5ldyBFcnJvciggIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIgKyBtc2cgKTsKfTsKCi8qKgogKiBEb2N1bWVudCBzb3J0aW5nIGFuZCByZW1vdmluZyBkdXBsaWNhdGVzCiAqIEBwYXJhbSB7QXJyYXlMaWtlfSByZXN1bHRzCiAqLwpTaXp6bGUudW5pcXVlU29ydCA9IGZ1bmN0aW9uKCByZXN1bHRzICkgewoJdmFyIGVsZW0sCgkJZHVwbGljYXRlcyA9IFtdLAoJCWogPSAwLAoJCWkgPSAwOwoKCS8vIFVubGVzcyB3ZSAqa25vdyogd2UgY2FuIGRldGVjdCBkdXBsaWNhdGVzLCBhc3N1bWUgdGhlaXIgcHJlc2VuY2UKCWhhc0R1cGxpY2F0ZSA9ICFzdXBwb3J0LmRldGVjdER1cGxpY2F0ZXM7Cglzb3J0SW5wdXQgPSAhc3VwcG9ydC5zb3J0U3RhYmxlICYmIHJlc3VsdHMuc2xpY2UoIDAgKTsKCXJlc3VsdHMuc29ydCggc29ydE9yZGVyICk7CgoJaWYgKCBoYXNEdXBsaWNhdGUgKSB7CgkJd2hpbGUgKCAoIGVsZW0gPSByZXN1bHRzWyBpKysgXSApICkgewoJCQlpZiAoIGVsZW0gPT09IHJlc3VsdHNbIGkgXSApIHsKCQkJCWogPSBkdXBsaWNhdGVzLnB1c2goIGkgKTsKCQkJfQoJCX0KCQl3aGlsZSAoIGotLSApIHsKCQkJcmVzdWx0cy5zcGxpY2UoIGR1cGxpY2F0ZXNbIGogXSwgMSApOwoJCX0KCX0KCgkvLyBDbGVhciBpbnB1dCBhZnRlciBzb3J0aW5nIHRvIHJlbGVhc2Ugb2JqZWN0cwoJLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvc2l6emxlL3B1bGwvMjI1Cglzb3J0SW5wdXQgPSBudWxsOwoKCXJldHVybiByZXN1bHRzOwp9OwoKLyoqCiAqIFV0aWxpdHkgZnVuY3Rpb24gZm9yIHJldHJpZXZpbmcgdGhlIHRleHQgdmFsdWUgb2YgYW4gYXJyYXkgb2YgRE9NIG5vZGVzCiAqIEBwYXJhbSB7QXJyYXl8RWxlbWVudH0gZWxlbQogKi8KZ2V0VGV4dCA9IFNpenpsZS5nZXRUZXh0ID0gZnVuY3Rpb24oIGVsZW0gKSB7Cgl2YXIgbm9kZSwKCQlyZXQgPSAiIiwKCQlpID0gMCwKCQlub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7CgoJaWYgKCAhbm9kZVR5cGUgKSB7CgoJCS8vIElmIG5vIG5vZGVUeXBlLCB0aGlzIGlzIGV4cGVjdGVkIHRvIGJlIGFuIGFycmF5CgkJd2hpbGUgKCAoIG5vZGUgPSBlbGVtWyBpKysgXSApICkgewoKCQkJLy8gRG8gbm90IHRyYXZlcnNlIGNvbW1lbnQgbm9kZXMKCQkJcmV0ICs9IGdldFRleHQoIG5vZGUgKTsKCQl9Cgl9IGVsc2UgaWYgKCBub2RlVHlwZSA9PT0gMSB8fCBub2RlVHlwZSA9PT0gOSB8fCBub2RlVHlwZSA9PT0gMTEgKSB7CgoJCS8vIFVzZSB0ZXh0Q29udGVudCBmb3IgZWxlbWVudHMKCQkvLyBpbm5lclRleHQgdXNhZ2UgcmVtb3ZlZCBmb3IgY29uc2lzdGVuY3kgb2YgbmV3IGxpbmVzIChqUXVlcnkgIzExMTUzKQoJCWlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09ICJzdHJpbmciICkgewoJCQlyZXR1cm4gZWxlbS50ZXh0Q29udGVudDsKCQl9IGVsc2UgewoKCQkJLy8gVHJhdmVyc2UgaXRzIGNoaWxkcmVuCgkJCWZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkgewoJCQkJcmV0ICs9IGdldFRleHQoIGVsZW0gKTsKCQkJfQoJCX0KCX0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0ICkgewoJCXJldHVybiBlbGVtLm5vZGVWYWx1ZTsKCX0KCgkvLyBEbyBub3QgaW5jbHVkZSBjb21tZW50IG9yIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbm9kZXMKCglyZXR1cm4gcmV0Owp9OwoKRXhwciA9IFNpenpsZS5zZWxlY3RvcnMgPSB7CgoJLy8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyCgljYWNoZUxlbmd0aDogNTAsCgoJY3JlYXRlUHNldWRvOiBtYXJrRnVuY3Rpb24sCgoJbWF0Y2g6IG1hdGNoRXhwciwKCglhdHRySGFuZGxlOiB7fSwKCglmaW5kOiB7fSwKCglyZWxhdGl2ZTogewoJCSI+IjogeyBkaXI6ICJwYXJlbnROb2RlIiwgZmlyc3Q6IHRydWUgfSwKCQkiICI6IHsgZGlyOiAicGFyZW50Tm9kZSIgfSwKCQkiKyI6IHsgZGlyOiAicHJldmlvdXNTaWJsaW5nIiwgZmlyc3Q6IHRydWUgfSwKCQkifiI6IHsgZGlyOiAicHJldmlvdXNTaWJsaW5nIiB9Cgl9LAoKCXByZUZpbHRlcjogewoJCSJBVFRSIjogZnVuY3Rpb24oIG1hdGNoICkgewoJCQltYXRjaFsgMSBdID0gbWF0Y2hbIDEgXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApOwoKCQkJLy8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWQKCQkJbWF0Y2hbIDMgXSA9ICggbWF0Y2hbIDMgXSB8fCBtYXRjaFsgNCBdIHx8CgkJCQltYXRjaFsgNSBdIHx8ICIiICkucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTsKCgkJCWlmICggbWF0Y2hbIDIgXSA9PT0gIn49IiApIHsKCQkJCW1hdGNoWyAzIF0gPSAiICIgKyBtYXRjaFsgMyBdICsgIiAiOwoJCQl9CgoJCQlyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDQgKTsKCQl9LAoKCQkiQ0hJTEQiOiBmdW5jdGlvbiggbWF0Y2ggKSB7CgoJCQkvKiBtYXRjaGVzIGZyb20gbWF0Y2hFeHByWyJDSElMRCJdCgkJCQkxIHR5cGUgKG9ubHl8bnRofC4uLikKCQkJCTIgd2hhdCAoY2hpbGR8b2YtdHlwZSkKCQkJCTMgYXJndW1lbnQgKGV2ZW58b2RkfFxkKnxcZCpuKFsrLV1cZCspP3wuLi4pCgkJCQk0IHhuLWNvbXBvbmVudCBvZiB4bit5IGFyZ3VtZW50IChbKy1dP1xkKm58KQoJCQkJNSBzaWduIG9mIHhuLWNvbXBvbmVudAoJCQkJNiB4IG9mIHhuLWNvbXBvbmVudAoJCQkJNyBzaWduIG9mIHktY29tcG9uZW50CgkJCQk4IHkgb2YgeS1jb21wb25lbnQKCQkJKi8KCQkJbWF0Y2hbIDEgXSA9IG1hdGNoWyAxIF0udG9Mb3dlckNhc2UoKTsKCgkJCWlmICggbWF0Y2hbIDEgXS5zbGljZSggMCwgMyApID09PSAibnRoIiApIHsKCgkJCQkvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudAoJCQkJaWYgKCAhbWF0Y2hbIDMgXSApIHsKCQkJCQlTaXp6bGUuZXJyb3IoIG1hdGNoWyAwIF0gKTsKCQkJCX0KCgkJCQkvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTEQKCQkJCS8vIHJlbWVtYmVyIHRoYXQgZmFsc2UvdHJ1ZSBjYXN0IHJlc3BlY3RpdmVseSB0byAwLzEKCQkJCW1hdGNoWyA0IF0gPSArKCBtYXRjaFsgNCBdID8KCQkJCQltYXRjaFsgNSBdICsgKCBtYXRjaFsgNiBdIHx8IDEgKSA6CgkJCQkJMiAqICggbWF0Y2hbIDMgXSA9PT0gImV2ZW4iIHx8IG1hdGNoWyAzIF0gPT09ICJvZGQiICkgKTsKCQkJCW1hdGNoWyA1IF0gPSArKCAoIG1hdGNoWyA3IF0gKyBtYXRjaFsgOCBdICkgfHwgbWF0Y2hbIDMgXSA9PT0gIm9kZCIgKTsKCgkJCQkvLyBvdGhlciB0eXBlcyBwcm9oaWJpdCBhcmd1bWVudHMKCQkJfSBlbHNlIGlmICggbWF0Y2hbIDMgXSApIHsKCQkJCVNpenpsZS5lcnJvciggbWF0Y2hbIDAgXSApOwoJCQl9CgoJCQlyZXR1cm4gbWF0Y2g7CgkJfSwKCgkJIlBTRVVETyI6IGZ1bmN0aW9uKCBtYXRjaCApIHsKCQkJdmFyIGV4Y2VzcywKCQkJCXVucXVvdGVkID0gIW1hdGNoWyA2IF0gJiYgbWF0Y2hbIDIgXTsKCgkJCWlmICggbWF0Y2hFeHByWyAiQ0hJTEQiIF0udGVzdCggbWF0Y2hbIDAgXSApICkgewoJCQkJcmV0dXJuIG51bGw7CgkJCX0KCgkJCS8vIEFjY2VwdCBxdW90ZWQgYXJndW1lbnRzIGFzLWlzCgkJCWlmICggbWF0Y2hbIDMgXSApIHsKCQkJCW1hdGNoWyAyIF0gPSBtYXRjaFsgNCBdIHx8IG1hdGNoWyA1IF0gfHwgIiI7CgoJCQkvLyBTdHJpcCBleGNlc3MgY2hhcmFjdGVycyBmcm9tIHVucXVvdGVkIGFyZ3VtZW50cwoJCQl9IGVsc2UgaWYgKCB1bnF1b3RlZCAmJiBycHNldWRvLnRlc3QoIHVucXVvdGVkICkgJiYKCgkJCQkvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KQoJCQkJKCBleGNlc3MgPSB0b2tlbml6ZSggdW5xdW90ZWQsIHRydWUgKSApICYmCgoJCQkJLy8gYWR2YW5jZSB0byB0aGUgbmV4dCBjbG9zaW5nIHBhcmVudGhlc2lzCgkJCQkoIGV4Y2VzcyA9IHVucXVvdGVkLmluZGV4T2YoICIpIiwgdW5xdW90ZWQubGVuZ3RoIC0gZXhjZXNzICkgLSB1bnF1b3RlZC5sZW5ndGggKSApIHsKCgkJCQkvLyBleGNlc3MgaXMgYSBuZWdhdGl2ZSBpbmRleAoJCQkJbWF0Y2hbIDAgXSA9IG1hdGNoWyAwIF0uc2xpY2UoIDAsIGV4Y2VzcyApOwoJCQkJbWF0Y2hbIDIgXSA9IHVucXVvdGVkLnNsaWNlKCAwLCBleGNlc3MgKTsKCQkJfQoKCQkJLy8gUmV0dXJuIG9ubHkgY2FwdHVyZXMgbmVlZGVkIGJ5IHRoZSBwc2V1ZG8gZmlsdGVyIG1ldGhvZCAodHlwZSBhbmQgYXJndW1lbnQpCgkJCXJldHVybiBtYXRjaC5zbGljZSggMCwgMyApOwoJCX0KCX0sCgoJZmlsdGVyOiB7CgoJCSJUQUciOiBmdW5jdGlvbiggbm9kZU5hbWVTZWxlY3RvciApIHsKCQkJdmFyIG5vZGVOYW1lID0gbm9kZU5hbWVTZWxlY3Rvci5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLnRvTG93ZXJDYXNlKCk7CgkJCXJldHVybiBub2RlTmFtZVNlbGVjdG9yID09PSAiKiIgPwoJCQkJZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIHRydWU7CgkJCQl9IDoKCQkJCWZ1bmN0aW9uKCBlbGVtICkgewoJCQkJCXJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWU7CgkJCQl9OwoJCX0sCgoJCSJDTEFTUyI6IGZ1bmN0aW9uKCBjbGFzc05hbWUgKSB7CgkJCXZhciBwYXR0ZXJuID0gY2xhc3NDYWNoZVsgY2xhc3NOYW1lICsgIiAiIF07CgoJCQlyZXR1cm4gcGF0dGVybiB8fAoJCQkJKCBwYXR0ZXJuID0gbmV3IFJlZ0V4cCggIihefCIgKyB3aGl0ZXNwYWNlICsKCQkJCQkiKSIgKyBjbGFzc05hbWUgKyAiKCIgKyB3aGl0ZXNwYWNlICsgInwkKSIgKSApICYmIGNsYXNzQ2FjaGUoCgkJCQkJCWNsYXNzTmFtZSwgZnVuY3Rpb24oIGVsZW0gKSB7CgkJCQkJCQlyZXR1cm4gcGF0dGVybi50ZXN0KAoJCQkJCQkJCXR5cGVvZiBlbGVtLmNsYXNzTmFtZSA9PT0gInN0cmluZyIgJiYgZWxlbS5jbGFzc05hbWUgfHwKCQkJCQkJCQl0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgIT09ICJ1bmRlZmluZWQiICYmCgkJCQkJCQkJCWVsZW0uZ2V0QXR0cmlidXRlKCAiY2xhc3MiICkgfHwKCQkJCQkJCQkiIgoJCQkJCQkJKTsKCQkJCX0gKTsKCQl9LAoKCQkiQVRUUiI6IGZ1bmN0aW9uKCBuYW1lLCBvcGVyYXRvciwgY2hlY2sgKSB7CgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQkJCXZhciByZXN1bHQgPSBTaXp6bGUuYXR0ciggZWxlbSwgbmFtZSApOwoKCQkJCWlmICggcmVzdWx0ID09IG51bGwgKSB7CgkJCQkJcmV0dXJuIG9wZXJhdG9yID09PSAiIT0iOwoJCQkJfQoJCQkJaWYgKCAhb3BlcmF0b3IgKSB7CgkJCQkJcmV0dXJuIHRydWU7CgkJCQl9CgoJCQkJcmVzdWx0ICs9ICIiOwoKCQkJCS8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi8KCgkJCQlyZXR1cm4gb3BlcmF0b3IgPT09ICI9IiA/IHJlc3VsdCA9PT0gY2hlY2sgOgoJCQkJCW9wZXJhdG9yID09PSAiIT0iID8gcmVzdWx0ICE9PSBjaGVjayA6CgkJCQkJb3BlcmF0b3IgPT09ICJePSIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA9PT0gMCA6CgkJCQkJb3BlcmF0b3IgPT09ICIqPSIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDoKCQkJCQlvcGVyYXRvciA9PT0gIiQ9IiA/IGNoZWNrICYmIHJlc3VsdC5zbGljZSggLWNoZWNrLmxlbmd0aCApID09PSBjaGVjayA6CgkJCQkJb3BlcmF0b3IgPT09ICJ+PSIgPyAoICIgIiArIHJlc3VsdC5yZXBsYWNlKCByd2hpdGVzcGFjZSwgIiAiICkgKyAiICIgKS5pbmRleE9mKCBjaGVjayApID4gLTEgOgoJCQkJCW9wZXJhdG9yID09PSAifD0iID8gcmVzdWx0ID09PSBjaGVjayB8fCByZXN1bHQuc2xpY2UoIDAsIGNoZWNrLmxlbmd0aCArIDEgKSA9PT0gY2hlY2sgKyAiLSIgOgoJCQkJCWZhbHNlOwoJCQkJLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovCgoJCQl9OwoJCX0sCgoJCSJDSElMRCI6IGZ1bmN0aW9uKCB0eXBlLCB3aGF0LCBfYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkgewoJCQl2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSAibnRoIiwKCQkJCWZvcndhcmQgPSB0eXBlLnNsaWNlKCAtNCApICE9PSAibGFzdCIsCgkJCQlvZlR5cGUgPSB3aGF0ID09PSAib2YtdHlwZSI7CgoJCQlyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/CgoJCQkJLy8gU2hvcnRjdXQgZm9yIDpudGgtKihuKQoJCQkJZnVuY3Rpb24oIGVsZW0gKSB7CgkJCQkJcmV0dXJuICEhZWxlbS5wYXJlbnROb2RlOwoJCQkJfSA6CgoJCQkJZnVuY3Rpb24oIGVsZW0sIF9jb250ZXh0LCB4bWwgKSB7CgkJCQkJdmFyIGNhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSwgbm9kZSwgbm9kZUluZGV4LCBzdGFydCwKCQkJCQkJZGlyID0gc2ltcGxlICE9PSBmb3J3YXJkID8gIm5leHRTaWJsaW5nIiA6ICJwcmV2aW91c1NpYmxpbmciLAoJCQkJCQlwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGUsCgkJCQkJCW5hbWUgPSBvZlR5cGUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLAoJCQkJCQl1c2VDYWNoZSA9ICF4bWwgJiYgIW9mVHlwZSwKCQkJCQkJZGlmZiA9IGZhbHNlOwoKCQkJCQlpZiAoIHBhcmVudCApIHsKCgkJCQkJCS8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSkKCQkJCQkJaWYgKCBzaW1wbGUgKSB7CgkJCQkJCQl3aGlsZSAoIGRpciApIHsKCQkJCQkJCQlub2RlID0gZWxlbTsKCQkJCQkJCQl3aGlsZSAoICggbm9kZSA9IG5vZGVbIGRpciBdICkgKSB7CgkJCQkJCQkJCWlmICggb2ZUeXBlID8KCQkJCQkJCQkJCW5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6CgkJCQkJCQkJCQlub2RlLm5vZGVUeXBlID09PSAxICkgewoKCQkJCQkJCQkJCXJldHVybiBmYWxzZTsKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCgkJCQkJCQkJLy8gUmV2ZXJzZSBkaXJlY3Rpb24gZm9yIDpvbmx5LSogKGlmIHdlIGhhdmVuJ3QgeWV0IGRvbmUgc28pCgkJCQkJCQkJc3RhcnQgPSBkaXIgPSB0eXBlID09PSAib25seSIgJiYgIXN0YXJ0ICYmICJuZXh0U2libGluZyI7CgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCQkJfQoKCQkJCQkJc3RhcnQgPSBbIGZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGQgXTsKCgkJCQkJCS8vIG5vbi14bWwgOm50aC1jaGlsZCguLi4pIHN0b3JlcyBjYWNoZSBkYXRhIG9uIGBwYXJlbnRgCgkJCQkJCWlmICggZm9yd2FyZCAmJiB1c2VDYWNoZSApIHsKCgkJCQkJCQkvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXgKCgkJCQkJCQkvLyAuLi5pbiBhIGd6aXAtZnJpZW5kbHkgd2F5CgkJCQkJCQlub2RlID0gcGFyZW50OwoJCQkJCQkJb3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAoIG5vZGVbIGV4cGFuZG8gXSA9IHt9ICk7CgoJCQkJCQkJLy8gU3VwcG9ydDogSUUgPDkgb25seQoJCQkJCQkJLy8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpCgkJCQkJCQl1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fAoJCQkJCQkJCSggb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30gKTsKCgkJCQkJCQljYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107CgkJCQkJCQlub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07CgkJCQkJCQlkaWZmID0gbm9kZUluZGV4ICYmIGNhY2hlWyAyIF07CgkJCQkJCQlub2RlID0gbm9kZUluZGV4ICYmIHBhcmVudC5jaGlsZE5vZGVzWyBub2RlSW5kZXggXTsKCgkJCQkJCQl3aGlsZSAoICggbm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHwKCgkJCQkJCQkJLy8gRmFsbGJhY2sgdG8gc2Vla2luZyBgZWxlbWAgZnJvbSB0aGUgc3RhcnQKCQkJCQkJCQkoIGRpZmYgPSBub2RlSW5kZXggPSAwICkgfHwgc3RhcnQucG9wKCkgKSApIHsKCgkJCQkJCQkJLy8gV2hlbiBmb3VuZCwgY2FjaGUgaW5kZXhlcyBvbiBgcGFyZW50YCBhbmQgYnJlYWsKCQkJCQkJCQlpZiAoIG5vZGUubm9kZVR5cGUgPT09IDEgJiYgKytkaWZmICYmIG5vZGUgPT09IGVsZW0gKSB7CgkJCQkJCQkJCXVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIG5vZGVJbmRleCwgZGlmZiBdOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQl9CgkJCQkJCQl9CgoJCQkJCQl9IGVsc2UgewoKCQkJCQkJCS8vIFVzZSBwcmV2aW91c2x5LWNhY2hlZCBlbGVtZW50IGluZGV4IGlmIGF2YWlsYWJsZQoJCQkJCQkJaWYgKCB1c2VDYWNoZSApIHsKCgkJCQkJCQkJLy8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheQoJCQkJCQkJCW5vZGUgPSBlbGVtOwoJCQkJCQkJCW91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKCBub2RlWyBleHBhbmRvIF0gPSB7fSApOwoKCQkJCQkJCQkvLyBTdXBwb3J0OiBJRSA8OSBvbmx5CgkJCQkJCQkJLy8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpCgkJCQkJCQkJdW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHwKCQkJCQkJCQkJKCBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSApOwoKCQkJCQkJCQljYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107CgkJCQkJCQkJbm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdOwoJCQkJCQkJCWRpZmYgPSBub2RlSW5kZXg7CgkJCQkJCQl9CgoJCQkJCQkJLy8geG1sIDpudGgtY2hpbGQoLi4uKQoJCQkJCQkJLy8gb3IgOm50aC1sYXN0LWNoaWxkKC4uLikgb3IgOm50aCgtbGFzdCk/LW9mLXR5cGUoLi4uKQoJCQkJCQkJaWYgKCBkaWZmID09PSBmYWxzZSApIHsKCgkJCQkJCQkJLy8gVXNlIHRoZSBzYW1lIGxvb3AgYXMgYWJvdmUgdG8gc2VlayBgZWxlbWAgZnJvbSB0aGUgc3RhcnQKCQkJCQkJCQl3aGlsZSAoICggbm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHwKCQkJCQkJCQkJKCBkaWZmID0gbm9kZUluZGV4ID0gMCApIHx8IHN0YXJ0LnBvcCgpICkgKSB7CgoJCQkJCQkJCQlpZiAoICggb2ZUeXBlID8KCQkJCQkJCQkJCW5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6CgkJCQkJCQkJCQlub2RlLm5vZGVUeXBlID09PSAxICkgJiYKCQkJCQkJCQkJCSsrZGlmZiApIHsKCgkJCQkJCQkJCQkvLyBDYWNoZSB0aGUgaW5kZXggb2YgZWFjaCBlbmNvdW50ZXJlZCBlbGVtZW50CgkJCQkJCQkJCQlpZiAoIHVzZUNhY2hlICkgewoJCQkJCQkJCQkJCW91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwKCQkJCQkJCQkJCQkJKCBub2RlWyBleHBhbmRvIF0gPSB7fSApOwoKCQkJCQkJCQkJCQkvLyBTdXBwb3J0OiBJRSA8OSBvbmx5CgkJCQkJCQkJCQkJLy8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpCgkJCQkJCQkJCQkJdW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHwKCQkJCQkJCQkJCQkJKCBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSApOwoKCQkJCQkJCQkJCQl1bmlxdWVDYWNoZVsgdHlwZSBdID0gWyBkaXJydW5zLCBkaWZmIF07CgkJCQkJCQkJCQl9CgoJCQkJCQkJCQkJaWYgKCBub2RlID09PSBlbGVtICkgewoJCQkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCQkJfQoJCQkJCQkJCQl9CgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9CgoJCQkJCQkvLyBJbmNvcnBvcmF0ZSB0aGUgb2Zmc2V0LCB0aGVuIGNoZWNrIGFnYWluc3QgY3ljbGUgc2l6ZQoJCQkJCQlkaWZmIC09IGxhc3Q7CgkJCQkJCXJldHVybiBkaWZmID09PSBmaXJzdCB8fCAoIGRpZmYgJSBmaXJzdCA9PT0gMCAmJiBkaWZmIC8gZmlyc3QgPj0gMCApOwoJCQkJCX0KCQkJCX07CgkJfSwKCgkJIlBTRVVETyI6IGZ1bmN0aW9uKCBwc2V1ZG8sIGFyZ3VtZW50ICkgewoKCQkJLy8gcHNldWRvLWNsYXNzIG5hbWVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlCgkJCS8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jcHNldWRvLWNsYXNzZXMKCQkJLy8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnMKCQkJLy8gUmVtZW1iZXIgdGhhdCBzZXRGaWx0ZXJzIGluaGVyaXRzIGZyb20gcHNldWRvcwoJCQl2YXIgYXJncywKCQkJCWZuID0gRXhwci5wc2V1ZG9zWyBwc2V1ZG8gXSB8fCBFeHByLnNldEZpbHRlcnNbIHBzZXVkby50b0xvd2VyQ2FzZSgpIF0gfHwKCQkJCQlTaXp6bGUuZXJyb3IoICJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIgKyBwc2V1ZG8gKTsKCgkJCS8vIFRoZSB1c2VyIG1heSB1c2UgY3JlYXRlUHNldWRvIHRvIGluZGljYXRlIHRoYXQKCQkJLy8gYXJndW1lbnRzIGFyZSBuZWVkZWQgdG8gY3JlYXRlIHRoZSBmaWx0ZXIgZnVuY3Rpb24KCQkJLy8ganVzdCBhcyBTaXp6bGUgZG9lcwoJCQlpZiAoIGZuWyBleHBhbmRvIF0gKSB7CgkJCQlyZXR1cm4gZm4oIGFyZ3VtZW50ICk7CgkJCX0KCgkJCS8vIEJ1dCBtYWludGFpbiBzdXBwb3J0IGZvciBvbGQgc2lnbmF0dXJlcwoJCQlpZiAoIGZuLmxlbmd0aCA+IDEgKSB7CgkJCQlhcmdzID0gWyBwc2V1ZG8sIHBzZXVkbywgIiIsIGFyZ3VtZW50IF07CgkJCQlyZXR1cm4gRXhwci5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KCBwc2V1ZG8udG9Mb3dlckNhc2UoKSApID8KCQkJCQltYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkgewoJCQkJCQl2YXIgaWR4LAoJCQkJCQkJbWF0Y2hlZCA9IGZuKCBzZWVkLCBhcmd1bWVudCApLAoJCQkJCQkJaSA9IG1hdGNoZWQubGVuZ3RoOwoJCQkJCQl3aGlsZSAoIGktLSApIHsKCQkJCQkJCWlkeCA9IGluZGV4T2YoIHNlZWQsIG1hdGNoZWRbIGkgXSApOwoJCQkJCQkJc2VlZFsgaWR4IF0gPSAhKCBtYXRjaGVzWyBpZHggXSA9IG1hdGNoZWRbIGkgXSApOwoJCQkJCQl9CgkJCQkJfSApIDoKCQkJCQlmdW5jdGlvbiggZWxlbSApIHsKCQkJCQkJcmV0dXJuIGZuKCBlbGVtLCAwLCBhcmdzICk7CgkJCQkJfTsKCQkJfQoKCQkJcmV0dXJuIGZuOwoJCX0KCX0sCgoJcHNldWRvczogewoKCQkvLyBQb3RlbnRpYWxseSBjb21wbGV4IHBzZXVkb3MKCQkibm90IjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VsZWN0b3IgKSB7CgoJCQkvLyBUcmltIHRoZSBzZWxlY3RvciBwYXNzZWQgdG8gY29tcGlsZQoJCQkvLyB0byBhdm9pZCB0cmVhdGluZyBsZWFkaW5nIGFuZCB0cmFpbGluZwoJCQkvLyBzcGFjZXMgYXMgY29tYmluYXRvcnMKCQkJdmFyIGlucHV0ID0gW10sCgkJCQlyZXN1bHRzID0gW10sCgkJCQltYXRjaGVyID0gY29tcGlsZSggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sICIkMSIgKSApOwoKCQkJcmV0dXJuIG1hdGNoZXJbIGV4cGFuZG8gXSA/CgkJCQltYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzLCBfY29udGV4dCwgeG1sICkgewoJCQkJCXZhciBlbGVtLAoJCQkJCQl1bm1hdGNoZWQgPSBtYXRjaGVyKCBzZWVkLCBudWxsLCB4bWwsIFtdICksCgkJCQkJCWkgPSBzZWVkLmxlbmd0aDsKCgkJCQkJLy8gTWF0Y2ggZWxlbWVudHMgdW5tYXRjaGVkIGJ5IGBtYXRjaGVyYAoJCQkJCXdoaWxlICggaS0tICkgewoJCQkJCQlpZiAoICggZWxlbSA9IHVubWF0Y2hlZFsgaSBdICkgKSB7CgkJCQkJCQlzZWVkWyBpIF0gPSAhKCBtYXRjaGVzWyBpIF0gPSBlbGVtICk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9ICkgOgoJCQkJZnVuY3Rpb24oIGVsZW0sIF9jb250ZXh0LCB4bWwgKSB7CgkJCQkJaW5wdXRbIDAgXSA9IGVsZW07CgkJCQkJbWF0Y2hlciggaW5wdXQsIG51bGwsIHhtbCwgcmVzdWx0cyApOwoKCQkJCQkvLyBEb24ndCBrZWVwIHRoZSBlbGVtZW50IChpc3N1ZSAjMjk5KQoJCQkJCWlucHV0WyAwIF0gPSBudWxsOwoJCQkJCXJldHVybiAhcmVzdWx0cy5wb3AoKTsKCQkJCX07CgkJfSApLAoKCQkiaGFzIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VsZWN0b3IgKSB7CgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQkJCXJldHVybiBTaXp6bGUoIHNlbGVjdG9yLCBlbGVtICkubGVuZ3RoID4gMDsKCQkJfTsKCQl9ICksCgoJCSJjb250YWlucyI6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHRleHQgKSB7CgkJCXRleHQgPSB0ZXh0LnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7CgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQkJCXJldHVybiAoIGVsZW0udGV4dENvbnRlbnQgfHwgZ2V0VGV4dCggZWxlbSApICkuaW5kZXhPZiggdGV4dCApID4gLTE7CgkJCX07CgkJfSApLAoKCQkvLyAiV2hldGhlciBhbiBlbGVtZW50IGlzIHJlcHJlc2VudGVkIGJ5IGEgOmxhbmcoKSBzZWxlY3RvcgoJCS8vIGlzIGJhc2VkIHNvbGVseSBvbiB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlCgkJLy8gYmVpbmcgZXF1YWwgdG8gdGhlIGlkZW50aWZpZXIgQywKCQkvLyBvciBiZWdpbm5pbmcgd2l0aCB0aGUgaWRlbnRpZmllciBDIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5ICItIi4KCQkvLyBUaGUgbWF0Y2hpbmcgb2YgQyBhZ2FpbnN0IHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWUgaXMgcGVyZm9ybWVkIGNhc2UtaW5zZW5zaXRpdmVseS4KCQkvLyBUaGUgaWRlbnRpZmllciBDIGRvZXMgbm90IGhhdmUgdG8gYmUgYSB2YWxpZCBsYW5ndWFnZSBuYW1lLiIKCQkvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2xhbmctcHNldWRvCgkJImxhbmciOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBsYW5nICkgewoKCQkJLy8gbGFuZyB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgaWRlbnRpZmllcgoJCQlpZiAoICFyaWRlbnRpZmllci50ZXN0KCBsYW5nIHx8ICIiICkgKSB7CgkJCQlTaXp6bGUuZXJyb3IoICJ1bnN1cHBvcnRlZCBsYW5nOiAiICsgbGFuZyApOwoJCQl9CgkJCWxhbmcgPSBsYW5nLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTsKCQkJcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkgewoJCQkJdmFyIGVsZW1MYW5nOwoJCQkJZG8gewoJCQkJCWlmICggKCBlbGVtTGFuZyA9IGRvY3VtZW50SXNIVE1MID8KCQkJCQkJZWxlbS5sYW5nIDoKCQkJCQkJZWxlbS5nZXRBdHRyaWJ1dGUoICJ4bWw6bGFuZyIgKSB8fCBlbGVtLmdldEF0dHJpYnV0ZSggImxhbmciICkgKSApIHsKCgkJCQkJCWVsZW1MYW5nID0gZWxlbUxhbmcudG9Mb3dlckNhc2UoKTsKCQkJCQkJcmV0dXJuIGVsZW1MYW5nID09PSBsYW5nIHx8IGVsZW1MYW5nLmluZGV4T2YoIGxhbmcgKyAiLSIgKSA9PT0gMDsKCQkJCQl9CgkJCQl9IHdoaWxlICggKCBlbGVtID0gZWxlbS5wYXJlbnROb2RlICkgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9OwoJCX0gKSwKCgkJLy8gTWlzY2VsbGFuZW91cwoJCSJ0YXJnZXQiOiBmdW5jdGlvbiggZWxlbSApIHsKCQkJdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7CgkJCXJldHVybiBoYXNoICYmIGhhc2guc2xpY2UoIDEgKSA9PT0gZWxlbS5pZDsKCQl9LAoKCQkicm9vdCI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQlyZXR1cm4gZWxlbSA9PT0gZG9jRWxlbTsKCQl9LAoKCQkiZm9jdXMiOiBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIGVsZW0gPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYKCQkJCSggIWRvY3VtZW50Lmhhc0ZvY3VzIHx8IGRvY3VtZW50Lmhhc0ZvY3VzKCkgKSAmJgoJCQkJISEoIGVsZW0udHlwZSB8fCBlbGVtLmhyZWYgfHwgfmVsZW0udGFiSW5kZXggKTsKCQl9LAoKCQkvLyBCb29sZWFuIHByb3BlcnRpZXMKCQkiZW5hYmxlZCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCBmYWxzZSApLAoJCSJkaXNhYmxlZCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCB0cnVlICksCgoJCSJjaGVja2VkIjogZnVuY3Rpb24oIGVsZW0gKSB7CgoJCQkvLyBJbiBDU1MzLCA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIGJvdGggY2hlY2tlZCBhbmQgc2VsZWN0ZWQgZWxlbWVudHMKCQkJLy8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWQKCQkJdmFyIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwoJCQlyZXR1cm4gKCBub2RlTmFtZSA9PT0gImlucHV0IiAmJiAhIWVsZW0uY2hlY2tlZCApIHx8CgkJCQkoIG5vZGVOYW1lID09PSAib3B0aW9uIiAmJiAhIWVsZW0uc2VsZWN0ZWQgKTsKCQl9LAoKCQkic2VsZWN0ZWQiOiBmdW5jdGlvbiggZWxlbSApIHsKCgkJCS8vIEFjY2Vzc2luZyB0aGlzIHByb3BlcnR5IG1ha2VzIHNlbGVjdGVkLWJ5LWRlZmF1bHQKCQkJLy8gb3B0aW9ucyBpbiBTYWZhcmkgd29yayBwcm9wZXJseQoJCQlpZiAoIGVsZW0ucGFyZW50Tm9kZSApIHsKCQkJCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnMKCQkJCWVsZW0ucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4OwoJCQl9CgoJCQlyZXR1cm4gZWxlbS5zZWxlY3RlZCA9PT0gdHJ1ZTsKCQl9LAoKCQkvLyBDb250ZW50cwoJCSJlbXB0eSI6IGZ1bmN0aW9uKCBlbGVtICkgewoKCQkJLy8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNlbXB0eS1wc2V1ZG8KCQkJLy8gOmVtcHR5IGlzIG5lZ2F0ZWQgYnkgZWxlbWVudCAoMSkgb3IgY29udGVudCBub2RlcyAodGV4dDogMzsgY2RhdGE6IDQ7IGVudGl0eSByZWY6IDUpLAoJCQkvLyAgIGJ1dCBub3QgYnkgb3RoZXJzIChjb21tZW50OiA4OyBwcm9jZXNzaW5nIGluc3RydWN0aW9uOiA3OyBldGMuKQoJCQkvLyBub2RlVHlwZSA8IDYgd29ya3MgYmVjYXVzZSBhdHRyaWJ1dGVzICgyKSBkbyBub3QgYXBwZWFyIGFzIGNoaWxkcmVuCgkJCWZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkgewoJCQkJaWYgKCBlbGVtLm5vZGVUeXBlIDwgNiApIHsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIHRydWU7CgkJfSwKCgkJInBhcmVudCI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQlyZXR1cm4gIUV4cHIucHNldWRvc1sgImVtcHR5IiBdKCBlbGVtICk7CgkJfSwKCgkJLy8gRWxlbWVudC9pbnB1dCB0eXBlcwoJCSJoZWFkZXIiOiBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIHJoZWFkZXIudGVzdCggZWxlbS5ub2RlTmFtZSApOwoJCX0sCgoJCSJpbnB1dCI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQlyZXR1cm4gcmlucHV0cy50ZXN0KCBlbGVtLm5vZGVOYW1lICk7CgkJfSwKCgkJImJ1dHRvbiI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQl2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCQkJcmV0dXJuIG5hbWUgPT09ICJpbnB1dCIgJiYgZWxlbS50eXBlID09PSAiYnV0dG9uIiB8fCBuYW1lID09PSAiYnV0dG9uIjsKCQl9LAoKCQkidGV4dCI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQl2YXIgYXR0cjsKCQkJcmV0dXJuIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gImlucHV0IiAmJgoJCQkJZWxlbS50eXBlID09PSAidGV4dCIgJiYKCgkJCQkvLyBTdXBwb3J0OiBJRTw4CgkJCQkvLyBOZXcgSFRNTDUgYXR0cmlidXRlIHZhbHVlcyAoZS5nLiwgInNlYXJjaCIpIGFwcGVhciB3aXRoIGVsZW0udHlwZSA9PT0gInRleHQiCgkJCQkoICggYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKCAidHlwZSIgKSApID09IG51bGwgfHwKCQkJCQlhdHRyLnRvTG93ZXJDYXNlKCkgPT09ICJ0ZXh0IiApOwoJCX0sCgoJCS8vIFBvc2l0aW9uLWluLWNvbGxlY3Rpb24KCQkiZmlyc3QiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIFsgMCBdOwoJCX0gKSwKCgkJImxhc3QiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggX21hdGNoSW5kZXhlcywgbGVuZ3RoICkgewoJCQlyZXR1cm4gWyBsZW5ndGggLSAxIF07CgkJfSApLAoKCQkiZXEiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggX21hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHsKCQkJcmV0dXJuIFsgYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudCBdOwoJCX0gKSwKCgkJImV2ZW4iOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7CgkJCXZhciBpID0gMDsKCQkJZm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7CgkJCQltYXRjaEluZGV4ZXMucHVzaCggaSApOwoJCQl9CgkJCXJldHVybiBtYXRjaEluZGV4ZXM7CgkJfSApLAoKCQkib2RkIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkgewoJCQl2YXIgaSA9IDE7CgkJCWZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkgewoJCQkJbWF0Y2hJbmRleGVzLnB1c2goIGkgKTsKCQkJfQoJCQlyZXR1cm4gbWF0Y2hJbmRleGVzOwoJCX0gKSwKCgkJImx0IjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHsKCQkJdmFyIGkgPSBhcmd1bWVudCA8IDAgPwoJCQkJYXJndW1lbnQgKyBsZW5ndGggOgoJCQkJYXJndW1lbnQgPiBsZW5ndGggPwoJCQkJCWxlbmd0aCA6CgkJCQkJYXJndW1lbnQ7CgkJCWZvciAoIDsgLS1pID49IDA7ICkgewoJCQkJbWF0Y2hJbmRleGVzLnB1c2goIGkgKTsKCQkJfQoJCQlyZXR1cm4gbWF0Y2hJbmRleGVzOwoJCX0gKSwKCgkJImd0IjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHsKCQkJdmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50OwoJCQlmb3IgKCA7ICsraSA8IGxlbmd0aDsgKSB7CgkJCQltYXRjaEluZGV4ZXMucHVzaCggaSApOwoJCQl9CgkJCXJldHVybiBtYXRjaEluZGV4ZXM7CgkJfSApCgl9Cn07CgpFeHByLnBzZXVkb3NbICJudGgiIF0gPSBFeHByLnBzZXVkb3NbICJlcSIgXTsKCi8vIEFkZCBidXR0b24vaW5wdXQgdHlwZSBwc2V1ZG9zCmZvciAoIGkgaW4geyByYWRpbzogdHJ1ZSwgY2hlY2tib3g6IHRydWUsIGZpbGU6IHRydWUsIHBhc3N3b3JkOiB0cnVlLCBpbWFnZTogdHJ1ZSB9ICkgewoJRXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVJbnB1dFBzZXVkbyggaSApOwp9CmZvciAoIGkgaW4geyBzdWJtaXQ6IHRydWUsIHJlc2V0OiB0cnVlIH0gKSB7CglFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUJ1dHRvblBzZXVkbyggaSApOwp9CgovLyBFYXN5IEFQSSBmb3IgY3JlYXRpbmcgbmV3IHNldEZpbHRlcnMKZnVuY3Rpb24gc2V0RmlsdGVycygpIHt9CnNldEZpbHRlcnMucHJvdG90eXBlID0gRXhwci5maWx0ZXJzID0gRXhwci5wc2V1ZG9zOwpFeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpOwoKdG9rZW5pemUgPSBTaXp6bGUudG9rZW5pemUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIHBhcnNlT25seSApIHsKCXZhciBtYXRjaGVkLCBtYXRjaCwgdG9rZW5zLCB0eXBlLAoJCXNvRmFyLCBncm91cHMsIHByZUZpbHRlcnMsCgkJY2FjaGVkID0gdG9rZW5DYWNoZVsgc2VsZWN0b3IgKyAiICIgXTsKCglpZiAoIGNhY2hlZCApIHsKCQlyZXR1cm4gcGFyc2VPbmx5ID8gMCA6IGNhY2hlZC5zbGljZSggMCApOwoJfQoKCXNvRmFyID0gc2VsZWN0b3I7Cglncm91cHMgPSBbXTsKCXByZUZpbHRlcnMgPSBFeHByLnByZUZpbHRlcjsKCgl3aGlsZSAoIHNvRmFyICkgewoKCQkvLyBDb21tYSBhbmQgZmlyc3QgcnVuCgkJaWYgKCAhbWF0Y2hlZCB8fCAoIG1hdGNoID0gcmNvbW1hLmV4ZWMoIHNvRmFyICkgKSApIHsKCQkJaWYgKCBtYXRjaCApIHsKCgkJCQkvLyBEb24ndCBjb25zdW1lIHRyYWlsaW5nIGNvbW1hcyBhcyB2YWxpZAoJCQkJc29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hbIDAgXS5sZW5ndGggKSB8fCBzb0ZhcjsKCQkJfQoJCQlncm91cHMucHVzaCggKCB0b2tlbnMgPSBbXSApICk7CgkJfQoKCQltYXRjaGVkID0gZmFsc2U7CgoJCS8vIENvbWJpbmF0b3JzCgkJaWYgKCAoIG1hdGNoID0gcmNvbWJpbmF0b3JzLmV4ZWMoIHNvRmFyICkgKSApIHsKCQkJbWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7CgkJCXRva2Vucy5wdXNoKCB7CgkJCQl2YWx1ZTogbWF0Y2hlZCwKCgkJCQkvLyBDYXN0IGRlc2NlbmRhbnQgY29tYmluYXRvcnMgdG8gc3BhY2UKCQkJCXR5cGU6IG1hdGNoWyAwIF0ucmVwbGFjZSggcnRyaW0sICIgIiApCgkJCX0gKTsKCQkJc29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTsKCQl9CgoJCS8vIEZpbHRlcnMKCQlmb3IgKCB0eXBlIGluIEV4cHIuZmlsdGVyICkgewoJCQlpZiAoICggbWF0Y2ggPSBtYXRjaEV4cHJbIHR5cGUgXS5leGVjKCBzb0ZhciApICkgJiYgKCAhcHJlRmlsdGVyc1sgdHlwZSBdIHx8CgkJCQkoIG1hdGNoID0gcHJlRmlsdGVyc1sgdHlwZSBdKCBtYXRjaCApICkgKSApIHsKCQkJCW1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpOwoJCQkJdG9rZW5zLnB1c2goIHsKCQkJCQl2YWx1ZTogbWF0Y2hlZCwKCQkJCQl0eXBlOiB0eXBlLAoJCQkJCW1hdGNoZXM6IG1hdGNoCgkJCQl9ICk7CgkJCQlzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApOwoJCQl9CgkJfQoKCQlpZiAoICFtYXRjaGVkICkgewoJCQlicmVhazsKCQl9Cgl9CgoJLy8gUmV0dXJuIHRoZSBsZW5ndGggb2YgdGhlIGludmFsaWQgZXhjZXNzCgkvLyBpZiB3ZSdyZSBqdXN0IHBhcnNpbmcKCS8vIE90aGVyd2lzZSwgdGhyb3cgYW4gZXJyb3Igb3IgcmV0dXJuIHRva2VucwoJcmV0dXJuIHBhcnNlT25seSA/CgkJc29GYXIubGVuZ3RoIDoKCQlzb0ZhciA/CgkJCVNpenpsZS5lcnJvciggc2VsZWN0b3IgKSA6CgoJCQkvLyBDYWNoZSB0aGUgdG9rZW5zCgkJCXRva2VuQ2FjaGUoIHNlbGVjdG9yLCBncm91cHMgKS5zbGljZSggMCApOwp9OwoKZnVuY3Rpb24gdG9TZWxlY3RvciggdG9rZW5zICkgewoJdmFyIGkgPSAwLAoJCWxlbiA9IHRva2Vucy5sZW5ndGgsCgkJc2VsZWN0b3IgPSAiIjsKCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgewoJCXNlbGVjdG9yICs9IHRva2Vuc1sgaSBdLnZhbHVlOwoJfQoJcmV0dXJuIHNlbGVjdG9yOwp9CgpmdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkgewoJdmFyIGRpciA9IGNvbWJpbmF0b3IuZGlyLAoJCXNraXAgPSBjb21iaW5hdG9yLm5leHQsCgkJa2V5ID0gc2tpcCB8fCBkaXIsCgkJY2hlY2tOb25FbGVtZW50cyA9IGJhc2UgJiYga2V5ID09PSAicGFyZW50Tm9kZSIsCgkJZG9uZU5hbWUgPSBkb25lKys7CgoJcmV0dXJuIGNvbWJpbmF0b3IuZmlyc3QgPwoKCQkvLyBDaGVjayBhZ2FpbnN0IGNsb3Nlc3QgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnQKCQlmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkgewoJCQl3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgKSB7CgkJCQlpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHsKCQkJCQlyZXR1cm4gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICk7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIGZhbHNlOwoJCX0gOgoKCQkvLyBDaGVjayBhZ2FpbnN0IGFsbCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudHMKCQlmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkgewoJCQl2YXIgb2xkQ2FjaGUsIHVuaXF1ZUNhY2hlLCBvdXRlckNhY2hlLAoJCQkJbmV3Q2FjaGUgPSBbIGRpcnJ1bnMsIGRvbmVOYW1lIF07CgoJCQkvLyBXZSBjYW4ndCBzZXQgYXJiaXRyYXJ5IGRhdGEgb24gWE1MIG5vZGVzLCBzbyB0aGV5IGRvbid0IGJlbmVmaXQgZnJvbSBjb21iaW5hdG9yIGNhY2hpbmcKCQkJaWYgKCB4bWwgKSB7CgkJCQl3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgKSB7CgkJCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7CgkJCQkJCWlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7CgkJCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfSBlbHNlIHsKCQkJCXdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSApIHsKCQkJCQlpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHsKCQkJCQkJb3V0ZXJDYWNoZSA9IGVsZW1bIGV4cGFuZG8gXSB8fCAoIGVsZW1bIGV4cGFuZG8gXSA9IHt9ICk7CgoJCQkJCQkvLyBTdXBwb3J0OiBJRSA8OSBvbmx5CgkJCQkJCS8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KQoJCQkJCQl1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSB8fAoJCQkJCQkJKCBvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gPSB7fSApOwoKCQkJCQkJaWYgKCBza2lwICYmIHNraXAgPT09IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSApIHsKCQkJCQkJCWVsZW0gPSBlbGVtWyBkaXIgXSB8fCBlbGVtOwoJCQkJCQl9IGVsc2UgaWYgKCAoIG9sZENhY2hlID0gdW5pcXVlQ2FjaGVbIGtleSBdICkgJiYKCQkJCQkJCW9sZENhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbIDEgXSA9PT0gZG9uZU5hbWUgKSB7CgoJCQkJCQkJLy8gQXNzaWduIHRvIG5ld0NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHMKCQkJCQkJCXJldHVybiAoIG5ld0NhY2hlWyAyIF0gPSBvbGRDYWNoZVsgMiBdICk7CgkJCQkJCX0gZWxzZSB7CgoJCQkJCQkJLy8gUmV1c2UgbmV3Y2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50cwoJCQkJCQkJdW5pcXVlQ2FjaGVbIGtleSBdID0gbmV3Q2FjaGU7CgoJCQkJCQkJLy8gQSBtYXRjaCBtZWFucyB3ZSdyZSBkb25lOyBhIGZhaWwgbWVhbnMgd2UgaGF2ZSB0byBrZWVwIGNoZWNraW5nCgkJCQkJCQlpZiAoICggbmV3Q2FjaGVbIDIgXSA9IG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkgKSB7CgkJCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0KCQkJcmV0dXJuIGZhbHNlOwoJCX07Cn0KCmZ1bmN0aW9uIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApIHsKCXJldHVybiBtYXRjaGVycy5sZW5ndGggPiAxID8KCQlmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkgewoJCQl2YXIgaSA9IG1hdGNoZXJzLmxlbmd0aDsKCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQlpZiAoICFtYXRjaGVyc1sgaSBdKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIHRydWU7CgkJfSA6CgkJbWF0Y2hlcnNbIDAgXTsKfQoKZnVuY3Rpb24gbXVsdGlwbGVDb250ZXh0cyggc2VsZWN0b3IsIGNvbnRleHRzLCByZXN1bHRzICkgewoJdmFyIGkgPSAwLAoJCWxlbiA9IGNvbnRleHRzLmxlbmd0aDsKCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgewoJCVNpenpsZSggc2VsZWN0b3IsIGNvbnRleHRzWyBpIF0sIHJlc3VsdHMgKTsKCX0KCXJldHVybiByZXN1bHRzOwp9CgpmdW5jdGlvbiBjb25kZW5zZSggdW5tYXRjaGVkLCBtYXAsIGZpbHRlciwgY29udGV4dCwgeG1sICkgewoJdmFyIGVsZW0sCgkJbmV3VW5tYXRjaGVkID0gW10sCgkJaSA9IDAsCgkJbGVuID0gdW5tYXRjaGVkLmxlbmd0aCwKCQltYXBwZWQgPSBtYXAgIT0gbnVsbDsKCglmb3IgKCA7IGkgPCBsZW47IGkrKyApIHsKCQlpZiAoICggZWxlbSA9IHVubWF0Y2hlZFsgaSBdICkgKSB7CgkJCWlmICggIWZpbHRlciB8fCBmaWx0ZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkgewoJCQkJbmV3VW5tYXRjaGVkLnB1c2goIGVsZW0gKTsKCQkJCWlmICggbWFwcGVkICkgewoJCQkJCW1hcC5wdXNoKCBpICk7CgkJCQl9CgkJCX0KCQl9Cgl9CgoJcmV0dXJuIG5ld1VubWF0Y2hlZDsKfQoKZnVuY3Rpb24gc2V0TWF0Y2hlciggcHJlRmlsdGVyLCBzZWxlY3RvciwgbWF0Y2hlciwgcG9zdEZpbHRlciwgcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICkgewoJaWYgKCBwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyWyBleHBhbmRvIF0gKSB7CgkJcG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTsKCX0KCWlmICggcG9zdEZpbmRlciAmJiAhcG9zdEZpbmRlclsgZXhwYW5kbyBdICkgewoJCXBvc3RGaW5kZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IgKTsKCX0KCXJldHVybiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCByZXN1bHRzLCBjb250ZXh0LCB4bWwgKSB7CgkJdmFyIHRlbXAsIGksIGVsZW0sCgkJCXByZU1hcCA9IFtdLAoJCQlwb3N0TWFwID0gW10sCgkJCXByZWV4aXN0aW5nID0gcmVzdWx0cy5sZW5ndGgsCgoJCQkvLyBHZXQgaW5pdGlhbCBlbGVtZW50cyBmcm9tIHNlZWQgb3IgY29udGV4dAoJCQllbGVtcyA9IHNlZWQgfHwgbXVsdGlwbGVDb250ZXh0cygKCQkJCXNlbGVjdG9yIHx8ICIqIiwKCQkJCWNvbnRleHQubm9kZVR5cGUgPyBbIGNvbnRleHQgXSA6IGNvbnRleHQsCgkJCQlbXQoJCQkpLAoKCQkJLy8gUHJlZmlsdGVyIHRvIGdldCBtYXRjaGVyIGlucHV0LCBwcmVzZXJ2aW5nIGEgbWFwIGZvciBzZWVkLXJlc3VsdHMgc3luY2hyb25pemF0aW9uCgkJCW1hdGNoZXJJbiA9IHByZUZpbHRlciAmJiAoIHNlZWQgfHwgIXNlbGVjdG9yICkgPwoJCQkJY29uZGVuc2UoIGVsZW1zLCBwcmVNYXAsIHByZUZpbHRlciwgY29udGV4dCwgeG1sICkgOgoJCQkJZWxlbXMsCgoJCQltYXRjaGVyT3V0ID0gbWF0Y2hlciA/CgoJCQkJLy8gSWYgd2UgaGF2ZSBhIHBvc3RGaW5kZXIsIG9yIGZpbHRlcmVkIHNlZWQsIG9yIG5vbi1zZWVkIHBvc3RGaWx0ZXIgb3IgcHJlZXhpc3RpbmcgcmVzdWx0cywKCQkJCXBvc3RGaW5kZXIgfHwgKCBzZWVkID8gcHJlRmlsdGVyIDogcHJlZXhpc3RpbmcgfHwgcG9zdEZpbHRlciApID8KCgkJCQkJLy8gLi4uaW50ZXJtZWRpYXRlIHByb2Nlc3NpbmcgaXMgbmVjZXNzYXJ5CgkJCQkJW10gOgoKCQkJCQkvLyAuLi5vdGhlcndpc2UgdXNlIHJlc3VsdHMgZGlyZWN0bHkKCQkJCQlyZXN1bHRzIDoKCQkJCW1hdGNoZXJJbjsKCgkJLy8gRmluZCBwcmltYXJ5IG1hdGNoZXMKCQlpZiAoIG1hdGNoZXIgKSB7CgkJCW1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sICk7CgkJfQoKCQkvLyBBcHBseSBwb3N0RmlsdGVyCgkJaWYgKCBwb3N0RmlsdGVyICkgewoJCQl0ZW1wID0gY29uZGVuc2UoIG1hdGNoZXJPdXQsIHBvc3RNYXAgKTsKCQkJcG9zdEZpbHRlciggdGVtcCwgW10sIGNvbnRleHQsIHhtbCApOwoKCQkJLy8gVW4tbWF0Y2ggZmFpbGluZyBlbGVtZW50cyBieSBtb3ZpbmcgdGhlbSBiYWNrIHRvIG1hdGNoZXJJbgoJCQlpID0gdGVtcC5sZW5ndGg7CgkJCXdoaWxlICggaS0tICkgewoJCQkJaWYgKCAoIGVsZW0gPSB0ZW1wWyBpIF0gKSApIHsKCQkJCQltYXRjaGVyT3V0WyBwb3N0TWFwWyBpIF0gXSA9ICEoIG1hdGNoZXJJblsgcG9zdE1hcFsgaSBdIF0gPSBlbGVtICk7CgkJCQl9CgkJCX0KCQl9CgoJCWlmICggc2VlZCApIHsKCQkJaWYgKCBwb3N0RmluZGVyIHx8IHByZUZpbHRlciApIHsKCQkJCWlmICggcG9zdEZpbmRlciApIHsKCgkJCQkJLy8gR2V0IHRoZSBmaW5hbCBtYXRjaGVyT3V0IGJ5IGNvbmRlbnNpbmcgdGhpcyBpbnRlcm1lZGlhdGUgaW50byBwb3N0RmluZGVyIGNvbnRleHRzCgkJCQkJdGVtcCA9IFtdOwoJCQkJCWkgPSBtYXRjaGVyT3V0Lmxlbmd0aDsKCQkJCQl3aGlsZSAoIGktLSApIHsKCQkJCQkJaWYgKCAoIGVsZW0gPSBtYXRjaGVyT3V0WyBpIF0gKSApIHsKCgkJCQkJCQkvLyBSZXN0b3JlIG1hdGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaAoJCQkJCQkJdGVtcC5wdXNoKCAoIG1hdGNoZXJJblsgaSBdID0gZWxlbSApICk7CgkJCQkJCX0KCQkJCQl9CgkJCQkJcG9zdEZpbmRlciggbnVsbCwgKCBtYXRjaGVyT3V0ID0gW10gKSwgdGVtcCwgeG1sICk7CgkJCQl9CgoJCQkJLy8gTW92ZSBtYXRjaGVkIGVsZW1lbnRzIGZyb20gc2VlZCB0byByZXN1bHRzIHRvIGtlZXAgdGhlbSBzeW5jaHJvbml6ZWQKCQkJCWkgPSBtYXRjaGVyT3V0Lmxlbmd0aDsKCQkJCXdoaWxlICggaS0tICkgewoJCQkJCWlmICggKCBlbGVtID0gbWF0Y2hlck91dFsgaSBdICkgJiYKCQkJCQkJKCB0ZW1wID0gcG9zdEZpbmRlciA/IGluZGV4T2YoIHNlZWQsIGVsZW0gKSA6IHByZU1hcFsgaSBdICkgPiAtMSApIHsKCgkJCQkJCXNlZWRbIHRlbXAgXSA9ICEoIHJlc3VsdHNbIHRlbXAgXSA9IGVsZW0gKTsKCQkJCQl9CgkJCQl9CgkJCX0KCgkJLy8gQWRkIGVsZW1lbnRzIHRvIHJlc3VsdHMsIHRocm91Z2ggcG9zdEZpbmRlciBpZiBkZWZpbmVkCgkJfSBlbHNlIHsKCQkJbWF0Y2hlck91dCA9IGNvbmRlbnNlKAoJCQkJbWF0Y2hlck91dCA9PT0gcmVzdWx0cyA/CgkJCQkJbWF0Y2hlck91dC5zcGxpY2UoIHByZWV4aXN0aW5nLCBtYXRjaGVyT3V0Lmxlbmd0aCApIDoKCQkJCQltYXRjaGVyT3V0CgkJCSk7CgkJCWlmICggcG9zdEZpbmRlciApIHsKCQkJCXBvc3RGaW5kZXIoIG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCApOwoJCQl9IGVsc2UgewoJCQkJcHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApOwoJCQl9CgkJfQoJfSApOwp9CgpmdW5jdGlvbiBtYXRjaGVyRnJvbVRva2VucyggdG9rZW5zICkgewoJdmFyIGNoZWNrQ29udGV4dCwgbWF0Y2hlciwgaiwKCQlsZW4gPSB0b2tlbnMubGVuZ3RoLAoJCWxlYWRpbmdSZWxhdGl2ZSA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1sgMCBdLnR5cGUgXSwKCQlpbXBsaWNpdFJlbGF0aXZlID0gbGVhZGluZ1JlbGF0aXZlIHx8IEV4cHIucmVsYXRpdmVbICIgIiBdLAoJCWkgPSBsZWFkaW5nUmVsYXRpdmUgPyAxIDogMCwKCgkJLy8gVGhlIGZvdW5kYXRpb25hbCBtYXRjaGVyIGVuc3VyZXMgdGhhdCBlbGVtZW50cyBhcmUgcmVhY2hhYmxlIGZyb20gdG9wLWxldmVsIGNvbnRleHQocykKCQltYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIGVsZW0gPT09IGNoZWNrQ29udGV4dDsKCQl9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksCgkJbWF0Y2hBbnlDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7CgkJCXJldHVybiBpbmRleE9mKCBjaGVja0NvbnRleHQsIGVsZW0gKSA+IC0xOwoJCX0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSwKCQltYXRjaGVycyA9IFsgZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHsKCQkJdmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRlcm1vc3RDb250ZXh0ICkgKSB8fCAoCgkJCQkoIGNoZWNrQ29udGV4dCA9IGNvbnRleHQgKS5ub2RlVHlwZSA/CgkJCQkJbWF0Y2hDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSA6CgkJCQkJbWF0Y2hBbnlDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSApOwoKCQkJLy8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnQgKGlzc3VlICMyOTkpCgkJCWNoZWNrQ29udGV4dCA9IG51bGw7CgkJCXJldHVybiByZXQ7CgkJfSBdOwoKCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgewoJCWlmICggKCBtYXRjaGVyID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zWyBpIF0udHlwZSBdICkgKSB7CgkJCW1hdGNoZXJzID0gWyBhZGRDb21iaW5hdG9yKCBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSwgbWF0Y2hlciApIF07CgkJfSBlbHNlIHsKCQkJbWF0Y2hlciA9IEV4cHIuZmlsdGVyWyB0b2tlbnNbIGkgXS50eXBlIF0uYXBwbHkoIG51bGwsIHRva2Vuc1sgaSBdLm1hdGNoZXMgKTsKCgkJCS8vIFJldHVybiBzcGVjaWFsIHVwb24gc2VlaW5nIGEgcG9zaXRpb25hbCBtYXRjaGVyCgkJCWlmICggbWF0Y2hlclsgZXhwYW5kbyBdICkgewoKCQkJCS8vIEZpbmQgdGhlIG5leHQgcmVsYXRpdmUgb3BlcmF0b3IgKGlmIGFueSkgZm9yIHByb3BlciBoYW5kbGluZwoJCQkJaiA9ICsraTsKCQkJCWZvciAoIDsgaiA8IGxlbjsgaisrICkgewoJCQkJCWlmICggRXhwci5yZWxhdGl2ZVsgdG9rZW5zWyBqIF0udHlwZSBdICkgewoJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9CgkJCQlyZXR1cm4gc2V0TWF0Y2hlcigKCQkJCQlpID4gMSAmJiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSwKCQkJCQlpID4gMSAmJiB0b1NlbGVjdG9yKAoKCQkJCQkvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYAoJCQkJCXRva2VucwoJCQkJCQkuc2xpY2UoIDAsIGkgLSAxICkKCQkJCQkJLmNvbmNhdCggeyB2YWx1ZTogdG9rZW5zWyBpIC0gMiBdLnR5cGUgPT09ICIgIiA/ICIqIiA6ICIiIH0gKQoJCQkJCSkucmVwbGFjZSggcnRyaW0sICIkMSIgKSwKCQkJCQltYXRjaGVyLAoJCQkJCWkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLAoJCQkJCWogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICggdG9rZW5zID0gdG9rZW5zLnNsaWNlKCBqICkgKSApLAoJCQkJCWogPCBsZW4gJiYgdG9TZWxlY3RvciggdG9rZW5zICkKCQkJCSk7CgkJCX0KCQkJbWF0Y2hlcnMucHVzaCggbWF0Y2hlciApOwoJCX0KCX0KCglyZXR1cm4gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICk7Cn0KCmZ1bmN0aW9uIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApIHsKCXZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsCgkJYnlFbGVtZW50ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsCgkJc3VwZXJNYXRjaGVyID0gZnVuY3Rpb24oIHNlZWQsIGNvbnRleHQsIHhtbCwgcmVzdWx0cywgb3V0ZXJtb3N0ICkgewoJCQl2YXIgZWxlbSwgaiwgbWF0Y2hlciwKCQkJCW1hdGNoZWRDb3VudCA9IDAsCgkJCQlpID0gIjAiLAoJCQkJdW5tYXRjaGVkID0gc2VlZCAmJiBbXSwKCQkJCXNldE1hdGNoZWQgPSBbXSwKCQkJCWNvbnRleHRCYWNrdXAgPSBvdXRlcm1vc3RDb250ZXh0LAoKCQkJCS8vIFdlIG11c3QgYWx3YXlzIGhhdmUgZWl0aGVyIHNlZWQgZWxlbWVudHMgb3Igb3V0ZXJtb3N0IGNvbnRleHQKCQkJCWVsZW1zID0gc2VlZCB8fCBieUVsZW1lbnQgJiYgRXhwci5maW5kWyAiVEFHIiBdKCAiKiIsIG91dGVybW9zdCApLAoKCQkJCS8vIFVzZSBpbnRlZ2VyIGRpcnJ1bnMgaWZmIHRoaXMgaXMgdGhlIG91dGVybW9zdCBtYXRjaGVyCgkJCQlkaXJydW5zVW5pcXVlID0gKCBkaXJydW5zICs9IGNvbnRleHRCYWNrdXAgPT0gbnVsbCA/IDEgOiBNYXRoLnJhbmRvbSgpIHx8IDAuMSApLAoJCQkJbGVuID0gZWxlbXMubGVuZ3RoOwoKCQkJaWYgKCBvdXRlcm1vc3QgKSB7CgoJCQkJLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrCgkJCQkvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhICJQZXJtaXNzaW9uIGRlbmllZCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nCgkJCQkvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuCgkJCQkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxCgkJCQlvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dCA9PSBkb2N1bWVudCB8fCBjb250ZXh0IHx8IG91dGVybW9zdDsKCQkJfQoKCQkJLy8gQWRkIGVsZW1lbnRzIHBhc3NpbmcgZWxlbWVudE1hdGNoZXJzIGRpcmVjdGx5IHRvIHJlc3VsdHMKCQkJLy8gU3VwcG9ydDogSUU8OSwgU2FmYXJpCgkJCS8vIFRvbGVyYXRlIE5vZGVMaXN0IHByb3BlcnRpZXMgKElFOiAibGVuZ3RoIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcgZWxlbWVudHMgYnkgaWQKCQkJZm9yICggOyBpICE9PSBsZW4gJiYgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9IG51bGw7IGkrKyApIHsKCQkJCWlmICggYnlFbGVtZW50ICYmIGVsZW0gKSB7CgkJCQkJaiA9IDA7CgoJCQkJCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4KwoJCQkJCS8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgIlBlcm1pc3Npb24gZGVuaWVkIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmcKCQkJCQkvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuCgkJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQoJCQkJCWlmICggIWNvbnRleHQgJiYgZWxlbS5vd25lckRvY3VtZW50ICE9IGRvY3VtZW50ICkgewoJCQkJCQlzZXREb2N1bWVudCggZWxlbSApOwoJCQkJCQl4bWwgPSAhZG9jdW1lbnRJc0hUTUw7CgkJCQkJfQoJCQkJCXdoaWxlICggKCBtYXRjaGVyID0gZWxlbWVudE1hdGNoZXJzWyBqKysgXSApICkgewoJCQkJCQlpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQgfHwgZG9jdW1lbnQsIHhtbCApICkgewoJCQkJCQkJcmVzdWx0cy5wdXNoKCBlbGVtICk7CgkJCQkJCQlicmVhazsKCQkJCQkJfQoJCQkJCX0KCQkJCQlpZiAoIG91dGVybW9zdCApIHsKCQkJCQkJZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7CgkJCQkJfQoJCQkJfQoKCQkJCS8vIFRyYWNrIHVubWF0Y2hlZCBlbGVtZW50cyBmb3Igc2V0IGZpbHRlcnMKCQkJCWlmICggYnlTZXQgKSB7CgoJCQkJCS8vIFRoZXkgd2lsbCBoYXZlIGdvbmUgdGhyb3VnaCBhbGwgcG9zc2libGUgbWF0Y2hlcnMKCQkJCQlpZiAoICggZWxlbSA9ICFtYXRjaGVyICYmIGVsZW0gKSApIHsKCQkJCQkJbWF0Y2hlZENvdW50LS07CgkJCQkJfQoKCQkJCQkvLyBMZW5ndGhlbiB0aGUgYXJyYXkgZm9yIGV2ZXJ5IGVsZW1lbnQsIG1hdGNoZWQgb3Igbm90CgkJCQkJaWYgKCBzZWVkICkgewoJCQkJCQl1bm1hdGNoZWQucHVzaCggZWxlbSApOwoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJLy8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlzaXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YAoJCQkvLyBtYWtlcyB0aGUgbGF0dGVyIG5vbm5lZ2F0aXZlLgoJCQltYXRjaGVkQ291bnQgKz0gaTsKCgkJCS8vIEFwcGx5IHNldCBmaWx0ZXJzIHRvIHVubWF0Y2hlZCBlbGVtZW50cwoJCQkvLyBOT1RFOiBUaGlzIGNhbiBiZSBza2lwcGVkIGlmIHRoZXJlIGFyZSBubyB1bm1hdGNoZWQgZWxlbWVudHMgKGkuZS4sIGBtYXRjaGVkQ291bnRgCgkJCS8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZQoJCQkvLyBubyBlbGVtZW50IG1hdGNoZXJzIGFuZCBubyBzZWVkLgoJCQkvLyBJbmNyZW1lbnRpbmcgYW4gaW5pdGlhbGx5LXN0cmluZyAiMCIgYGlgIGFsbG93cyBgaWAgdG8gcmVtYWluIGEgc3RyaW5nIG9ubHkgaW4gdGhhdAoJCQkvLyBjYXNlLCB3aGljaCB3aWxsIHJlc3VsdCBpbiBhICIwMCIgYG1hdGNoZWRDb3VudGAgdGhhdCBkaWZmZXJzIGZyb20gYGlgIGJ1dCBpcyBhbHNvCgkJCS8vIG51bWVyaWNhbGx5IHplcm8uCgkJCWlmICggYnlTZXQgJiYgaSAhPT0gbWF0Y2hlZENvdW50ICkgewoJCQkJaiA9IDA7CgkJCQl3aGlsZSAoICggbWF0Y2hlciA9IHNldE1hdGNoZXJzWyBqKysgXSApICkgewoJCQkJCW1hdGNoZXIoIHVubWF0Y2hlZCwgc2V0TWF0Y2hlZCwgY29udGV4dCwgeG1sICk7CgkJCQl9CgoJCQkJaWYgKCBzZWVkICkgewoKCQkJCQkvLyBSZWludGVncmF0ZSBlbGVtZW50IG1hdGNoZXMgdG8gZWxpbWluYXRlIHRoZSBuZWVkIGZvciBzb3J0aW5nCgkJCQkJaWYgKCBtYXRjaGVkQ291bnQgPiAwICkgewoJCQkJCQl3aGlsZSAoIGktLSApIHsKCQkJCQkJCWlmICggISggdW5tYXRjaGVkWyBpIF0gfHwgc2V0TWF0Y2hlZFsgaSBdICkgKSB7CgkJCQkJCQkJc2V0TWF0Y2hlZFsgaSBdID0gcG9wLmNhbGwoIHJlc3VsdHMgKTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0KCgkJCQkJLy8gRGlzY2FyZCBpbmRleCBwbGFjZWhvbGRlciB2YWx1ZXMgdG8gZ2V0IG9ubHkgYWN0dWFsIG1hdGNoZXMKCQkJCQlzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTsKCQkJCX0KCgkJCQkvLyBBZGQgbWF0Y2hlcyB0byByZXN1bHRzCgkJCQlwdXNoLmFwcGx5KCByZXN1bHRzLCBzZXRNYXRjaGVkICk7CgoJCQkJLy8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBsZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nCgkJCQlpZiAoIG91dGVybW9zdCAmJiAhc2VlZCAmJiBzZXRNYXRjaGVkLmxlbmd0aCA+IDAgJiYKCQkJCQkoIG1hdGNoZWRDb3VudCArIHNldE1hdGNoZXJzLmxlbmd0aCApID4gMSApIHsKCgkJCQkJU2l6emxlLnVuaXF1ZVNvcnQoIHJlc3VsdHMgKTsKCQkJCX0KCQkJfQoKCQkJLy8gT3ZlcnJpZGUgbWFuaXB1bGF0aW9uIG9mIGdsb2JhbHMgYnkgbmVzdGVkIG1hdGNoZXJzCgkJCWlmICggb3V0ZXJtb3N0ICkgewoJCQkJZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7CgkJCQlvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dEJhY2t1cDsKCQkJfQoKCQkJcmV0dXJuIHVubWF0Y2hlZDsKCQl9OwoKCXJldHVybiBieVNldCA/CgkJbWFya0Z1bmN0aW9uKCBzdXBlck1hdGNoZXIgKSA6CgkJc3VwZXJNYXRjaGVyOwp9Cgpjb21waWxlID0gU2l6emxlLmNvbXBpbGUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIG1hdGNoIC8qIEludGVybmFsIFVzZSBPbmx5ICovICkgewoJdmFyIGksCgkJc2V0TWF0Y2hlcnMgPSBbXSwKCQllbGVtZW50TWF0Y2hlcnMgPSBbXSwKCQljYWNoZWQgPSBjb21waWxlckNhY2hlWyBzZWxlY3RvciArICIgIiBdOwoKCWlmICggIWNhY2hlZCApIHsKCgkJLy8gR2VuZXJhdGUgYSBmdW5jdGlvbiBvZiByZWN1cnNpdmUgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2hlY2sgZWFjaCBlbGVtZW50CgkJaWYgKCAhbWF0Y2ggKSB7CgkJCW1hdGNoID0gdG9rZW5pemUoIHNlbGVjdG9yICk7CgkJfQoJCWkgPSBtYXRjaC5sZW5ndGg7CgkJd2hpbGUgKCBpLS0gKSB7CgkJCWNhY2hlZCA9IG1hdGNoZXJGcm9tVG9rZW5zKCBtYXRjaFsgaSBdICk7CgkJCWlmICggY2FjaGVkWyBleHBhbmRvIF0gKSB7CgkJCQlzZXRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTsKCQkJfSBlbHNlIHsKCQkJCWVsZW1lbnRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTsKCQkJfQoJCX0KCgkJLy8gQ2FjaGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uCgkJY2FjaGVkID0gY29tcGlsZXJDYWNoZSgKCQkJc2VsZWN0b3IsCgkJCW1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApCgkJKTsKCgkJLy8gU2F2ZSBzZWxlY3RvciBhbmQgdG9rZW5pemF0aW9uCgkJY2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7Cgl9CglyZXR1cm4gY2FjaGVkOwp9OwoKLyoqCiAqIEEgbG93LWxldmVsIHNlbGVjdGlvbiBmdW5jdGlvbiB0aGF0IHdvcmtzIHdpdGggU2l6emxlJ3MgY29tcGlsZWQKICogIHNlbGVjdG9yIGZ1bmN0aW9ucwogKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc2VsZWN0b3IgQSBzZWxlY3RvciBvciBhIHByZS1jb21waWxlZAogKiAgc2VsZWN0b3IgZnVuY3Rpb24gYnVpbHQgd2l0aCBTaXp6bGUuY29tcGlsZQogKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRleHQKICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdHNdCiAqIEBwYXJhbSB7QXJyYXl9IFtzZWVkXSBBIHNldCBvZiBlbGVtZW50cyB0byBtYXRjaCBhZ2FpbnN0CiAqLwpzZWxlY3QgPSBTaXp6bGUuc2VsZWN0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkgewoJdmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsCgkJY29tcGlsZWQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09ICJmdW5jdGlvbiIgJiYgc2VsZWN0b3IsCgkJbWF0Y2ggPSAhc2VlZCAmJiB0b2tlbml6ZSggKCBzZWxlY3RvciA9IGNvbXBpbGVkLnNlbGVjdG9yIHx8IHNlbGVjdG9yICkgKTsKCglyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTsKCgkvLyBUcnkgdG8gbWluaW1pemUgb3BlcmF0aW9ucyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBzZWxlY3RvciBpbiB0aGUgbGlzdCBhbmQgbm8gc2VlZAoJLy8gKHRoZSBsYXR0ZXIgb2Ygd2hpY2ggZ3VhcmFudGVlcyB1cyBjb250ZXh0KQoJaWYgKCBtYXRjaC5sZW5ndGggPT09IDEgKSB7CgoJCS8vIFJlZHVjZSBjb250ZXh0IGlmIHRoZSBsZWFkaW5nIGNvbXBvdW5kIHNlbGVjdG9yIGlzIGFuIElECgkJdG9rZW5zID0gbWF0Y2hbIDAgXSA9IG1hdGNoWyAwIF0uc2xpY2UoIDAgKTsKCQlpZiAoIHRva2Vucy5sZW5ndGggPiAyICYmICggdG9rZW4gPSB0b2tlbnNbIDAgXSApLnR5cGUgPT09ICJJRCIgJiYKCQkJY29udGV4dC5ub2RlVHlwZSA9PT0gOSAmJiBkb2N1bWVudElzSFRNTCAmJiBFeHByLnJlbGF0aXZlWyB0b2tlbnNbIDEgXS50eXBlIF0gKSB7CgoJCQljb250ZXh0ID0gKCBFeHByLmZpbmRbICJJRCIgXSggdG9rZW4ubWF0Y2hlc1sgMCBdCgkJCQkucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKSwgY29udGV4dCApIHx8IFtdIClbIDAgXTsKCQkJaWYgKCAhY29udGV4dCApIHsKCQkJCXJldHVybiByZXN1bHRzOwoKCQkJLy8gUHJlY29tcGlsZWQgbWF0Y2hlcnMgd2lsbCBzdGlsbCB2ZXJpZnkgYW5jZXN0cnksIHNvIHN0ZXAgdXAgYSBsZXZlbAoJCQl9IGVsc2UgaWYgKCBjb21waWxlZCApIHsKCQkJCWNvbnRleHQgPSBjb250ZXh0LnBhcmVudE5vZGU7CgkJCX0KCgkJCXNlbGVjdG9yID0gc2VsZWN0b3Iuc2xpY2UoIHRva2Vucy5zaGlmdCgpLnZhbHVlLmxlbmd0aCApOwoJCX0KCgkJLy8gRmV0Y2ggYSBzZWVkIHNldCBmb3IgcmlnaHQtdG8tbGVmdCBtYXRjaGluZwoJCWkgPSBtYXRjaEV4cHJbICJuZWVkc0NvbnRleHQiIF0udGVzdCggc2VsZWN0b3IgKSA/IDAgOiB0b2tlbnMubGVuZ3RoOwoJCXdoaWxlICggaS0tICkgewoJCQl0b2tlbiA9IHRva2Vuc1sgaSBdOwoKCQkJLy8gQWJvcnQgaWYgd2UgaGl0IGEgY29tYmluYXRvcgoJCQlpZiAoIEV4cHIucmVsYXRpdmVbICggdHlwZSA9IHRva2VuLnR5cGUgKSBdICkgewoJCQkJYnJlYWs7CgkJCX0KCQkJaWYgKCAoIGZpbmQgPSBFeHByLmZpbmRbIHR5cGUgXSApICkgewoKCQkJCS8vIFNlYXJjaCwgZXhwYW5kaW5nIGNvbnRleHQgZm9yIGxlYWRpbmcgc2libGluZyBjb21iaW5hdG9ycwoJCQkJaWYgKCAoIHNlZWQgPSBmaW5kKAoJCQkJCXRva2VuLm1hdGNoZXNbIDAgXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLAoJCQkJCXJzaWJsaW5nLnRlc3QoIHRva2Vuc1sgMCBdLnR5cGUgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwKCQkJCQkJY29udGV4dAoJCQkJKSApICkgewoKCQkJCQkvLyBJZiBzZWVkIGlzIGVtcHR5IG9yIG5vIHRva2VucyByZW1haW4sIHdlIGNhbiByZXR1cm4gZWFybHkKCQkJCQl0b2tlbnMuc3BsaWNlKCBpLCAxICk7CgkJCQkJc2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTsKCQkJCQlpZiAoICFzZWxlY3RvciApIHsKCQkJCQkJcHVzaC5hcHBseSggcmVzdWx0cywgc2VlZCApOwoJCQkJCQlyZXR1cm4gcmVzdWx0czsKCQkJCQl9CgoJCQkJCWJyZWFrOwoJCQkJfQoJCQl9CgkJfQoJfQoKCS8vIENvbXBpbGUgYW5kIGV4ZWN1dGUgYSBmaWx0ZXJpbmcgZnVuY3Rpb24gaWYgb25lIGlzIG5vdCBwcm92aWRlZAoJLy8gUHJvdmlkZSBgbWF0Y2hgIHRvIGF2b2lkIHJldG9rZW5pemF0aW9uIGlmIHdlIG1vZGlmaWVkIHRoZSBzZWxlY3RvciBhYm92ZQoJKCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKAoJCXNlZWQsCgkJY29udGV4dCwKCQkhZG9jdW1lbnRJc0hUTUwsCgkJcmVzdWx0cywKCQkhY29udGV4dCB8fCByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0CgkpOwoJcmV0dXJuIHJlc3VsdHM7Cn07CgovLyBPbmUtdGltZSBhc3NpZ25tZW50cwoKLy8gU29ydCBzdGFiaWxpdHkKc3VwcG9ydC5zb3J0U3RhYmxlID0gZXhwYW5kby5zcGxpdCggIiIgKS5zb3J0KCBzb3J0T3JkZXIgKS5qb2luKCAiIiApID09PSBleHBhbmRvOwoKLy8gU3VwcG9ydDogQ2hyb21lIDE0LTM1KwovLyBBbHdheXMgYXNzdW1lIGR1cGxpY2F0ZXMgaWYgdGhleSBhcmVuJ3QgcGFzc2VkIHRvIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uCnN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcyA9ICEhaGFzRHVwbGljYXRlOwoKLy8gSW5pdGlhbGl6ZSBhZ2FpbnN0IHRoZSBkZWZhdWx0IGRvY3VtZW50CnNldERvY3VtZW50KCk7CgovLyBTdXBwb3J0OiBXZWJraXQ8NTM3LjMyIC0gU2FmYXJpIDYuMC4zL0Nocm9tZSAyNSAoZml4ZWQgaW4gQ2hyb21lIDI3KQovLyBEZXRhY2hlZCBub2RlcyBjb25mb3VuZGluZ2x5IGZvbGxvdyAqZWFjaCBvdGhlcioKc3VwcG9ydC5zb3J0RGV0YWNoZWQgPSBhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHsKCgkvLyBTaG91bGQgcmV0dXJuIDEsIGJ1dCByZXR1cm5zIDQgKGZvbGxvd2luZykKCXJldHVybiBlbC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImZpZWxkc2V0IiApICkgJiAxOwp9ICk7CgovLyBTdXBwb3J0OiBJRTw4Ci8vIFByZXZlbnQgYXR0cmlidXRlL3Byb3BlcnR5ICJpbnRlcnBvbGF0aW9uIgovLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTM2NDI5JTI4VlMuODUlMjkuYXNweAppZiAoICFhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHsKCWVsLmlubmVySFRNTCA9ICI8YSBocmVmPScjJz48L2E+IjsKCXJldHVybiBlbC5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSggImhyZWYiICkgPT09ICIjIjsKfSApICkgewoJYWRkSGFuZGxlKCAidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHsKCQlpZiAoICFpc1hNTCApIHsKCQkJcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICJ0eXBlIiA/IDEgOiAyICk7CgkJfQoJfSApOwp9CgovLyBTdXBwb3J0OiBJRTw5Ci8vIFVzZSBkZWZhdWx0VmFsdWUgaW4gcGxhY2Ugb2YgZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpCmlmICggIXN1cHBvcnQuYXR0cmlidXRlcyB8fCAhYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7CgllbC5pbm5lckhUTUwgPSAiPGlucHV0Lz4iOwoJZWwuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoICJ2YWx1ZSIsICIiICk7CglyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoICJ2YWx1ZSIgKSA9PT0gIiI7Cn0gKSApIHsKCWFkZEhhbmRsZSggInZhbHVlIiwgZnVuY3Rpb24oIGVsZW0sIF9uYW1lLCBpc1hNTCApIHsKCQlpZiAoICFpc1hNTCAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICJpbnB1dCIgKSB7CgkJCXJldHVybiBlbGVtLmRlZmF1bHRWYWx1ZTsKCQl9Cgl9ICk7Cn0KCi8vIFN1cHBvcnQ6IElFPDkKLy8gVXNlIGdldEF0dHJpYnV0ZU5vZGUgdG8gZmV0Y2ggYm9vbGVhbnMgd2hlbiBnZXRBdHRyaWJ1dGUgbGllcwppZiAoICFhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHsKCXJldHVybiBlbC5nZXRBdHRyaWJ1dGUoICJkaXNhYmxlZCIgKSA9PSBudWxsOwp9ICkgKSB7CglhZGRIYW5kbGUoIGJvb2xlYW5zLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7CgkJdmFyIHZhbDsKCQlpZiAoICFpc1hNTCApIHsKCQkJcmV0dXJuIGVsZW1bIG5hbWUgXSA9PT0gdHJ1ZSA/IG5hbWUudG9Mb3dlckNhc2UoKSA6CgkJCQkoIHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApICkgJiYgdmFsLnNwZWNpZmllZCA/CgkJCQkJdmFsLnZhbHVlIDoKCQkJCQludWxsOwoJCX0KCX0gKTsKfQoKcmV0dXJuIFNpenpsZTsKCn0gKSggd2luZG93ICk7CgoKCmpRdWVyeS5maW5kID0gU2l6emxlOwpqUXVlcnkuZXhwciA9IFNpenpsZS5zZWxlY3RvcnM7CgovLyBEZXByZWNhdGVkCmpRdWVyeS5leHByWyAiOiIgXSA9IGpRdWVyeS5leHByLnBzZXVkb3M7CmpRdWVyeS51bmlxdWVTb3J0ID0galF1ZXJ5LnVuaXF1ZSA9IFNpenpsZS51bmlxdWVTb3J0OwpqUXVlcnkudGV4dCA9IFNpenpsZS5nZXRUZXh0OwpqUXVlcnkuaXNYTUxEb2MgPSBTaXp6bGUuaXNYTUw7CmpRdWVyeS5jb250YWlucyA9IFNpenpsZS5jb250YWluczsKalF1ZXJ5LmVzY2FwZVNlbGVjdG9yID0gU2l6emxlLmVzY2FwZTsKCgoKCnZhciBkaXIgPSBmdW5jdGlvbiggZWxlbSwgZGlyLCB1bnRpbCApIHsKCXZhciBtYXRjaGVkID0gW10sCgkJdHJ1bmNhdGUgPSB1bnRpbCAhPT0gdW5kZWZpbmVkOwoKCXdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSAmJiBlbGVtLm5vZGVUeXBlICE9PSA5ICkgewoJCWlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHsKCQkJaWYgKCB0cnVuY2F0ZSAmJiBqUXVlcnkoIGVsZW0gKS5pcyggdW50aWwgKSApIHsKCQkJCWJyZWFrOwoJCQl9CgkJCW1hdGNoZWQucHVzaCggZWxlbSApOwoJCX0KCX0KCXJldHVybiBtYXRjaGVkOwp9OwoKCnZhciBzaWJsaW5ncyA9IGZ1bmN0aW9uKCBuLCBlbGVtICkgewoJdmFyIG1hdGNoZWQgPSBbXTsKCglmb3IgKCA7IG47IG4gPSBuLm5leHRTaWJsaW5nICkgewoJCWlmICggbi5ub2RlVHlwZSA9PT0gMSAmJiBuICE9PSBlbGVtICkgewoJCQltYXRjaGVkLnB1c2goIG4gKTsKCQl9Cgl9CgoJcmV0dXJuIG1hdGNoZWQ7Cn07CgoKdmFyIHJuZWVkc0NvbnRleHQgPSBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7CgoKCmZ1bmN0aW9uIG5vZGVOYW1lKCBlbGVtLCBuYW1lICkgewoKCXJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpOwoKfQp2YXIgcnNpbmdsZVRhZyA9ICggL148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2kgKTsKCgoKLy8gSW1wbGVtZW50IHRoZSBpZGVudGljYWwgZnVuY3Rpb25hbGl0eSBmb3IgZmlsdGVyIGFuZCBub3QKZnVuY3Rpb24gd2lubm93KCBlbGVtZW50cywgcXVhbGlmaWVyLCBub3QgKSB7CglpZiAoIGlzRnVuY3Rpb24oIHF1YWxpZmllciApICkgewoJCXJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtLCBpICkgewoJCQlyZXR1cm4gISFxdWFsaWZpZXIuY2FsbCggZWxlbSwgaSwgZWxlbSApICE9PSBub3Q7CgkJfSApOwoJfQoKCS8vIFNpbmdsZSBlbGVtZW50CglpZiAoIHF1YWxpZmllci5ub2RlVHlwZSApIHsKCQlyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuICggZWxlbSA9PT0gcXVhbGlmaWVyICkgIT09IG5vdDsKCQl9ICk7Cgl9CgoJLy8gQXJyYXlsaWtlIG9mIGVsZW1lbnRzIChqUXVlcnksIGFyZ3VtZW50cywgQXJyYXkpCglpZiAoIHR5cGVvZiBxdWFsaWZpZXIgIT09ICJzdHJpbmciICkgewoJCXJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkgewoJCQlyZXR1cm4gKCBpbmRleE9mLmNhbGwoIHF1YWxpZmllciwgZWxlbSApID4gLTEgKSAhPT0gbm90OwoJCX0gKTsKCX0KCgkvLyBGaWx0ZXJlZCBkaXJlY3RseSBmb3IgYm90aCBzaW1wbGUgYW5kIGNvbXBsZXggc2VsZWN0b3JzCglyZXR1cm4galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cywgbm90ICk7Cn0KCmpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHsKCXZhciBlbGVtID0gZWxlbXNbIDAgXTsKCglpZiAoIG5vdCApIHsKCQlleHByID0gIjpub3QoIiArIGV4cHIgKyAiKSI7Cgl9CgoJaWYgKCBlbGVtcy5sZW5ndGggPT09IDEgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHsKCQlyZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBleHByICkgPyBbIGVsZW0gXSA6IFtdOwoJfQoKCXJldHVybiBqUXVlcnkuZmluZC5tYXRjaGVzKCBleHByLCBqUXVlcnkuZ3JlcCggZWxlbXMsIGZ1bmN0aW9uKCBlbGVtICkgewoJCXJldHVybiBlbGVtLm5vZGVUeXBlID09PSAxOwoJfSApICk7Cn07CgpqUXVlcnkuZm4uZXh0ZW5kKCB7CglmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7CgkJdmFyIGksIHJldCwKCQkJbGVuID0gdGhpcy5sZW5ndGgsCgkJCXNlbGYgPSB0aGlzOwoKCQlpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gInN0cmluZyIgKSB7CgkJCXJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5KCBzZWxlY3RvciApLmZpbHRlciggZnVuY3Rpb24oKSB7CgkJCQlmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkgewoJCQkJCWlmICggalF1ZXJ5LmNvbnRhaW5zKCBzZWxmWyBpIF0sIHRoaXMgKSApIHsKCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJfQoJCQkJfQoJCQl9ICkgKTsKCQl9CgoJCXJldCA9IHRoaXMucHVzaFN0YWNrKCBbXSApOwoKCQlmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkgewoJCQlqUXVlcnkuZmluZCggc2VsZWN0b3IsIHNlbGZbIGkgXSwgcmV0ICk7CgkJfQoKCQlyZXR1cm4gbGVuID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCByZXQgKSA6IHJldDsKCX0sCglmaWx0ZXI6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHsKCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIGZhbHNlICkgKTsKCX0sCglub3Q6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHsKCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIHRydWUgKSApOwoJfSwKCWlzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7CgkJcmV0dXJuICEhd2lubm93KAoJCQl0aGlzLAoKCQkJLy8gSWYgdGhpcyBpcyBhIHBvc2l0aW9uYWwvcmVsYXRpdmUgc2VsZWN0b3IsIGNoZWNrIG1lbWJlcnNoaXAgaW4gdGhlIHJldHVybmVkIHNldAoJCQkvLyBzbyAkKCJwOmZpcnN0IikuaXMoInA6bGFzdCIpIHdvbid0IHJldHVybiB0cnVlIGZvciBhIGRvYyB3aXRoIHR3byAicCIuCgkJCXR5cGVvZiBzZWxlY3RvciA9PT0gInN0cmluZyIgJiYgcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApID8KCQkJCWpRdWVyeSggc2VsZWN0b3IgKSA6CgkJCQlzZWxlY3RvciB8fCBbXSwKCQkJZmFsc2UKCQkpLmxlbmd0aDsKCX0KfSApOwoKCi8vIEluaXRpYWxpemUgYSBqUXVlcnkgb2JqZWN0CgoKLy8gQSBjZW50cmFsIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBqUXVlcnkoZG9jdW1lbnQpCnZhciByb290alF1ZXJ5LAoKCS8vIEEgc2ltcGxlIHdheSB0byBjaGVjayBmb3IgSFRNTCBzdHJpbmdzCgkvLyBQcmlvcml0aXplICNpZCBvdmVyIDx0YWc+IHRvIGF2b2lkIFhTUyB2aWEgbG9jYXRpb24uaGFzaCAoIzk1MjEpCgkvLyBTdHJpY3QgSFRNTCByZWNvZ25pdGlvbiAoIzExMjkwOiBtdXN0IHN0YXJ0IHdpdGggPCkKCS8vIFNob3J0Y3V0IHNpbXBsZSAjaWQgY2FzZSBmb3Igc3BlZWQKCXJxdWlja0V4cHIgPSAvXig/OlxzKig8W1x3XFddKz4pW14+XSp8IyhbXHctXSspKSQvLAoKCWluaXQgPSBqUXVlcnkuZm4uaW5pdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcm9vdCApIHsKCQl2YXIgbWF0Y2gsIGVsZW07CgoJCS8vIEhBTkRMRTogJCgiIiksICQobnVsbCksICQodW5kZWZpbmVkKSwgJChmYWxzZSkKCQlpZiAoICFzZWxlY3RvciApIHsKCQkJcmV0dXJuIHRoaXM7CgkJfQoKCQkvLyBNZXRob2QgaW5pdCgpIGFjY2VwdHMgYW4gYWx0ZXJuYXRlIHJvb3RqUXVlcnkKCQkvLyBzbyBtaWdyYXRlIGNhbiBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpCgkJcm9vdCA9IHJvb3QgfHwgcm9vdGpRdWVyeTsKCgkJLy8gSGFuZGxlIEhUTUwgc3RyaW5ncwoJCWlmICggdHlwZW9mIHNlbGVjdG9yID09PSAic3RyaW5nIiApIHsKCQkJaWYgKCBzZWxlY3RvclsgMCBdID09PSAiPCIgJiYKCQkJCXNlbGVjdG9yWyBzZWxlY3Rvci5sZW5ndGggLSAxIF0gPT09ICI+IiAmJgoJCQkJc2VsZWN0b3IubGVuZ3RoID49IDMgKSB7CgoJCQkJLy8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2sKCQkJCW1hdGNoID0gWyBudWxsLCBzZWxlY3RvciwgbnVsbCBdOwoKCQkJfSBlbHNlIHsKCQkJCW1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApOwoJCQl9CgoJCQkvLyBNYXRjaCBodG1sIG9yIG1ha2Ugc3VyZSBubyBjb250ZXh0IGlzIHNwZWNpZmllZCBmb3IgI2lkCgkJCWlmICggbWF0Y2ggJiYgKCBtYXRjaFsgMSBdIHx8ICFjb250ZXh0ICkgKSB7CgoJCQkJLy8gSEFORExFOiAkKGh0bWwpIC0+ICQoYXJyYXkpCgkJCQlpZiAoIG1hdGNoWyAxIF0gKSB7CgkJCQkJY29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WyAwIF0gOiBjb250ZXh0OwoKCQkJCQkvLyBPcHRpb24gdG8gcnVuIHNjcmlwdHMgaXMgdHJ1ZSBmb3IgYmFjay1jb21wYXQKCQkJCQkvLyBJbnRlbnRpb25hbGx5IGxldCB0aGUgZXJyb3IgYmUgdGhyb3duIGlmIHBhcnNlSFRNTCBpcyBub3QgcHJlc2VudAoJCQkJCWpRdWVyeS5tZXJnZSggdGhpcywgalF1ZXJ5LnBhcnNlSFRNTCgKCQkJCQkJbWF0Y2hbIDEgXSwKCQkJCQkJY29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCwKCQkJCQkJdHJ1ZQoJCQkJCSkgKTsKCgkJCQkJLy8gSEFORExFOiAkKGh0bWwsIHByb3BzKQoJCQkJCWlmICggcnNpbmdsZVRhZy50ZXN0KCBtYXRjaFsgMSBdICkgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvbnRleHQgKSApIHsKCQkJCQkJZm9yICggbWF0Y2ggaW4gY29udGV4dCApIHsKCgkJCQkJCQkvLyBQcm9wZXJ0aWVzIG9mIGNvbnRleHQgYXJlIGNhbGxlZCBhcyBtZXRob2RzIGlmIHBvc3NpYmxlCgkJCQkJCQlpZiAoIGlzRnVuY3Rpb24oIHRoaXNbIG1hdGNoIF0gKSApIHsKCQkJCQkJCQl0aGlzWyBtYXRjaCBdKCBjb250ZXh0WyBtYXRjaCBdICk7CgoJCQkJCQkJLy8gLi4uYW5kIG90aGVyd2lzZSBzZXQgYXMgYXR0cmlidXRlcwoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQl0aGlzLmF0dHIoIG1hdGNoLCBjb250ZXh0WyBtYXRjaCBdICk7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgoJCQkJCXJldHVybiB0aGlzOwoKCQkJCS8vIEhBTkRMRTogJCgjaWQpCgkJCQl9IGVsc2UgewoJCQkJCWVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbWF0Y2hbIDIgXSApOwoKCQkJCQlpZiAoIGVsZW0gKSB7CgoJCQkJCQkvLyBJbmplY3QgdGhlIGVsZW1lbnQgZGlyZWN0bHkgaW50byB0aGUgalF1ZXJ5IG9iamVjdAoJCQkJCQl0aGlzWyAwIF0gPSBlbGVtOwoJCQkJCQl0aGlzLmxlbmd0aCA9IDE7CgkJCQkJfQoJCQkJCXJldHVybiB0aGlzOwoJCQkJfQoKCQkJLy8gSEFORExFOiAkKGV4cHIsICQoLi4uKSkKCQkJfSBlbHNlIGlmICggIWNvbnRleHQgfHwgY29udGV4dC5qcXVlcnkgKSB7CgkJCQlyZXR1cm4gKCBjb250ZXh0IHx8IHJvb3QgKS5maW5kKCBzZWxlY3RvciApOwoKCQkJLy8gSEFORExFOiAkKGV4cHIsIGNvbnRleHQpCgkJCS8vICh3aGljaCBpcyBqdXN0IGVxdWl2YWxlbnQgdG86ICQoY29udGV4dCkuZmluZChleHByKQoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIHRoaXMuY29uc3RydWN0b3IoIGNvbnRleHQgKS5maW5kKCBzZWxlY3RvciApOwoJCQl9CgoJCS8vIEhBTkRMRTogJChET01FbGVtZW50KQoJCX0gZWxzZSBpZiAoIHNlbGVjdG9yLm5vZGVUeXBlICkgewoJCQl0aGlzWyAwIF0gPSBzZWxlY3RvcjsKCQkJdGhpcy5sZW5ndGggPSAxOwoJCQlyZXR1cm4gdGhpczsKCgkJLy8gSEFORExFOiAkKGZ1bmN0aW9uKQoJCS8vIFNob3J0Y3V0IGZvciBkb2N1bWVudCByZWFkeQoJCX0gZWxzZSBpZiAoIGlzRnVuY3Rpb24oIHNlbGVjdG9yICkgKSB7CgkJCXJldHVybiByb290LnJlYWR5ICE9PSB1bmRlZmluZWQgPwoJCQkJcm9vdC5yZWFkeSggc2VsZWN0b3IgKSA6CgoJCQkJLy8gRXhlY3V0ZSBpbW1lZGlhdGVseSBpZiByZWFkeSBpcyBub3QgcHJlc2VudAoJCQkJc2VsZWN0b3IoIGpRdWVyeSApOwoJCX0KCgkJcmV0dXJuIGpRdWVyeS5tYWtlQXJyYXkoIHNlbGVjdG9yLCB0aGlzICk7Cgl9OwoKLy8gR2l2ZSB0aGUgaW5pdCBmdW5jdGlvbiB0aGUgalF1ZXJ5IHByb3RvdHlwZSBmb3IgbGF0ZXIgaW5zdGFudGlhdGlvbgppbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjsKCi8vIEluaXRpYWxpemUgY2VudHJhbCByZWZlcmVuY2UKcm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTsKCgp2YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sCgoJLy8gTWV0aG9kcyBndWFyYW50ZWVkIHRvIHByb2R1Y2UgYSB1bmlxdWUgc2V0IHdoZW4gc3RhcnRpbmcgZnJvbSBhIHVuaXF1ZSBzZXQKCWd1YXJhbnRlZWRVbmlxdWUgPSB7CgkJY2hpbGRyZW46IHRydWUsCgkJY29udGVudHM6IHRydWUsCgkJbmV4dDogdHJ1ZSwKCQlwcmV2OiB0cnVlCgl9OwoKalF1ZXJ5LmZuLmV4dGVuZCggewoJaGFzOiBmdW5jdGlvbiggdGFyZ2V0ICkgewoJCXZhciB0YXJnZXRzID0galF1ZXJ5KCB0YXJnZXQsIHRoaXMgKSwKCQkJbCA9IHRhcmdldHMubGVuZ3RoOwoKCQlyZXR1cm4gdGhpcy5maWx0ZXIoIGZ1bmN0aW9uKCkgewoJCQl2YXIgaSA9IDA7CgkJCWZvciAoIDsgaSA8IGw7IGkrKyApIHsKCQkJCWlmICggalF1ZXJ5LmNvbnRhaW5zKCB0aGlzLCB0YXJnZXRzWyBpIF0gKSApIHsKCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCX0KCQkJfQoJCX0gKTsKCX0sCgoJY2xvc2VzdDogZnVuY3Rpb24oIHNlbGVjdG9ycywgY29udGV4dCApIHsKCQl2YXIgY3VyLAoJCQlpID0gMCwKCQkJbCA9IHRoaXMubGVuZ3RoLAoJCQltYXRjaGVkID0gW10sCgkJCXRhcmdldHMgPSB0eXBlb2Ygc2VsZWN0b3JzICE9PSAic3RyaW5nIiAmJiBqUXVlcnkoIHNlbGVjdG9ycyApOwoKCQkvLyBQb3NpdGlvbmFsIHNlbGVjdG9ycyBuZXZlciBtYXRjaCwgc2luY2UgdGhlcmUncyBubyBfc2VsZWN0aW9uXyBjb250ZXh0CgkJaWYgKCAhcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvcnMgKSApIHsKCQkJZm9yICggOyBpIDwgbDsgaSsrICkgewoJCQkJZm9yICggY3VyID0gdGhpc1sgaSBdOyBjdXIgJiYgY3VyICE9PSBjb250ZXh0OyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHsKCgkJCQkJLy8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzCgkJCQkJaWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAoIHRhcmdldHMgPwoJCQkJCQl0YXJnZXRzLmluZGV4KCBjdXIgKSA+IC0xIDoKCgkJCQkJCS8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIFNpenpsZQoJCQkJCQljdXIubm9kZVR5cGUgPT09IDEgJiYKCQkJCQkJCWpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggY3VyLCBzZWxlY3RvcnMgKSApICkgewoKCQkJCQkJbWF0Y2hlZC5wdXNoKCBjdXIgKTsKCQkJCQkJYnJlYWs7CgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoKCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQubGVuZ3RoID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICkgOiBtYXRjaGVkICk7Cgl9LAoKCS8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gdGhlIHNldAoJaW5kZXg6IGZ1bmN0aW9uKCBlbGVtICkgewoKCQkvLyBObyBhcmd1bWVudCwgcmV0dXJuIGluZGV4IGluIHBhcmVudAoJCWlmICggIWVsZW0gKSB7CgkJCXJldHVybiAoIHRoaXNbIDAgXSAmJiB0aGlzWyAwIF0ucGFyZW50Tm9kZSApID8gdGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGggOiAtMTsKCQl9CgoJCS8vIEluZGV4IGluIHNlbGVjdG9yCgkJaWYgKCB0eXBlb2YgZWxlbSA9PT0gInN0cmluZyIgKSB7CgkJCXJldHVybiBpbmRleE9mLmNhbGwoIGpRdWVyeSggZWxlbSApLCB0aGlzWyAwIF0gKTsKCQl9CgoJCS8vIExvY2F0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGRlc2lyZWQgZWxlbWVudAoJCXJldHVybiBpbmRleE9mLmNhbGwoIHRoaXMsCgoJCQkvLyBJZiBpdCByZWNlaXZlcyBhIGpRdWVyeSBvYmplY3QsIHRoZSBmaXJzdCBlbGVtZW50IGlzIHVzZWQKCQkJZWxlbS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtCgkJKTsKCX0sCgoJYWRkOiBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQgKSB7CgkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKAoJCQlqUXVlcnkudW5pcXVlU29ydCgKCQkJCWpRdWVyeS5tZXJnZSggdGhpcy5nZXQoKSwgalF1ZXJ5KCBzZWxlY3RvciwgY29udGV4dCApICkKCQkJKQoJCSk7Cgl9LAoKCWFkZEJhY2s6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHsKCQlyZXR1cm4gdGhpcy5hZGQoIHNlbGVjdG9yID09IG51bGwgPwoJCQl0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKCBzZWxlY3RvciApCgkJKTsKCX0KfSApOwoKZnVuY3Rpb24gc2libGluZyggY3VyLCBkaXIgKSB7Cgl3aGlsZSAoICggY3VyID0gY3VyWyBkaXIgXSApICYmIGN1ci5ub2RlVHlwZSAhPT0gMSApIHt9CglyZXR1cm4gY3VyOwp9CgpqUXVlcnkuZWFjaCggewoJcGFyZW50OiBmdW5jdGlvbiggZWxlbSApIHsKCQl2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlOwoJCXJldHVybiBwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlICE9PSAxMSA/IHBhcmVudCA6IG51bGw7Cgl9LAoJcGFyZW50czogZnVuY3Rpb24oIGVsZW0gKSB7CgkJcmV0dXJuIGRpciggZWxlbSwgInBhcmVudE5vZGUiICk7Cgl9LAoJcGFyZW50c1VudGlsOiBmdW5jdGlvbiggZWxlbSwgX2ksIHVudGlsICkgewoJCXJldHVybiBkaXIoIGVsZW0sICJwYXJlbnROb2RlIiwgdW50aWwgKTsKCX0sCgluZXh0OiBmdW5jdGlvbiggZWxlbSApIHsKCQlyZXR1cm4gc2libGluZyggZWxlbSwgIm5leHRTaWJsaW5nIiApOwoJfSwKCXByZXY6IGZ1bmN0aW9uKCBlbGVtICkgewoJCXJldHVybiBzaWJsaW5nKCBlbGVtLCAicHJldmlvdXNTaWJsaW5nIiApOwoJfSwKCW5leHRBbGw6IGZ1bmN0aW9uKCBlbGVtICkgewoJCXJldHVybiBkaXIoIGVsZW0sICJuZXh0U2libGluZyIgKTsKCX0sCglwcmV2QWxsOiBmdW5jdGlvbiggZWxlbSApIHsKCQlyZXR1cm4gZGlyKCBlbGVtLCAicHJldmlvdXNTaWJsaW5nIiApOwoJfSwKCW5leHRVbnRpbDogZnVuY3Rpb24oIGVsZW0sIF9pLCB1bnRpbCApIHsKCQlyZXR1cm4gZGlyKCBlbGVtLCAibmV4dFNpYmxpbmciLCB1bnRpbCApOwoJfSwKCXByZXZVbnRpbDogZnVuY3Rpb24oIGVsZW0sIF9pLCB1bnRpbCApIHsKCQlyZXR1cm4gZGlyKCBlbGVtLCAicHJldmlvdXNTaWJsaW5nIiwgdW50aWwgKTsKCX0sCglzaWJsaW5nczogZnVuY3Rpb24oIGVsZW0gKSB7CgkJcmV0dXJuIHNpYmxpbmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTsKCX0sCgljaGlsZHJlbjogZnVuY3Rpb24oIGVsZW0gKSB7CgkJcmV0dXJuIHNpYmxpbmdzKCBlbGVtLmZpcnN0Q2hpbGQgKTsKCX0sCgljb250ZW50czogZnVuY3Rpb24oIGVsZW0gKSB7CgkJaWYgKCBlbGVtLmNvbnRlbnREb2N1bWVudCAhPSBudWxsICYmCgoJCQkvLyBTdXBwb3J0OiBJRSAxMSsKCQkJLy8gPG9iamVjdD4gZWxlbWVudHMgd2l0aCBubyBgZGF0YWAgYXR0cmlidXRlIGhhcyBhbiBvYmplY3QKCQkJLy8gYGNvbnRlbnREb2N1bWVudGAgd2l0aCBhIGBudWxsYCBwcm90b3R5cGUuCgkJCWdldFByb3RvKCBlbGVtLmNvbnRlbnREb2N1bWVudCApICkgewoKCQkJcmV0dXJuIGVsZW0uY29udGVudERvY3VtZW50OwoJCX0KCgkJLy8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHksIGlPUyA3IG9ubHksIEFuZHJvaWQgQnJvd3NlciA8PTQuMyBvbmx5CgkJLy8gVHJlYXQgdGhlIHRlbXBsYXRlIGVsZW1lbnQgYXMgYSByZWd1bGFyIG9uZSBpbiBicm93c2VycyB0aGF0CgkJLy8gZG9uJ3Qgc3VwcG9ydCBpdC4KCQlpZiAoIG5vZGVOYW1lKCBlbGVtLCAidGVtcGxhdGUiICkgKSB7CgkJCWVsZW0gPSBlbGVtLmNvbnRlbnQgfHwgZWxlbTsKCQl9CgoJCXJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBlbGVtLmNoaWxkTm9kZXMgKTsKCX0KfSwgZnVuY3Rpb24oIG5hbWUsIGZuICkgewoJalF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggdW50aWwsIHNlbGVjdG9yICkgewoJCXZhciBtYXRjaGVkID0galF1ZXJ5Lm1hcCggdGhpcywgZm4sIHVudGlsICk7CgoJCWlmICggbmFtZS5zbGljZSggLTUgKSAhPT0gIlVudGlsIiApIHsKCQkJc2VsZWN0b3IgPSB1bnRpbDsKCQl9CgoJCWlmICggc2VsZWN0b3IgJiYgdHlwZW9mIHNlbGVjdG9yID09PSAic3RyaW5nIiApIHsKCQkJbWF0Y2hlZCA9IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBtYXRjaGVkICk7CgkJfQoKCQlpZiAoIHRoaXMubGVuZ3RoID4gMSApIHsKCgkJCS8vIFJlbW92ZSBkdXBsaWNhdGVzCgkJCWlmICggIWd1YXJhbnRlZWRVbmlxdWVbIG5hbWUgXSApIHsKCQkJCWpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICk7CgkJCX0KCgkJCS8vIFJldmVyc2Ugb3JkZXIgZm9yIHBhcmVudHMqIGFuZCBwcmV2LWRlcml2YXRpdmVzCgkJCWlmICggcnBhcmVudHNwcmV2LnRlc3QoIG5hbWUgKSApIHsKCQkJCW1hdGNoZWQucmV2ZXJzZSgpOwoJCQl9CgkJfQoKCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQgKTsKCX07Cn0gKTsKdmFyIHJub3RodG1sd2hpdGUgPSAoIC9bXlx4MjBcdFxyXG5cZl0rL2cgKTsKCgoKLy8gQ29udmVydCBTdHJpbmctZm9ybWF0dGVkIG9wdGlvbnMgaW50byBPYmplY3QtZm9ybWF0dGVkIG9uZXMKZnVuY3Rpb24gY3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIHsKCXZhciBvYmplY3QgPSB7fTsKCWpRdWVyeS5lYWNoKCBvcHRpb25zLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkgewoJCW9iamVjdFsgZmxhZyBdID0gdHJ1ZTsKCX0gKTsKCXJldHVybiBvYmplY3Q7Cn0KCi8qCiAqIENyZWF0ZSBhIGNhbGxiYWNrIGxpc3QgdXNpbmcgdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOgogKgogKglvcHRpb25zOiBhbiBvcHRpb25hbCBsaXN0IG9mIHNwYWNlLXNlcGFyYXRlZCBvcHRpb25zIHRoYXQgd2lsbCBjaGFuZ2UgaG93CiAqCQkJdGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdAogKgogKiBCeSBkZWZhdWx0IGEgY2FsbGJhY2sgbGlzdCB3aWxsIGFjdCBsaWtlIGFuIGV2ZW50IGNhbGxiYWNrIGxpc3QgYW5kIGNhbiBiZQogKiAiZmlyZWQiIG11bHRpcGxlIHRpbWVzLgogKgogKiBQb3NzaWJsZSBvcHRpb25zOgogKgogKglvbmNlOgkJCXdpbGwgZW5zdXJlIHRoZSBjYWxsYmFjayBsaXN0IGNhbiBvbmx5IGJlIGZpcmVkIG9uY2UgKGxpa2UgYSBEZWZlcnJlZCkKICoKICoJbWVtb3J5OgkJCXdpbGwga2VlcCB0cmFjayBvZiBwcmV2aW91cyB2YWx1ZXMgYW5kIHdpbGwgY2FsbCBhbnkgY2FsbGJhY2sgYWRkZWQKICoJCQkJCWFmdGVyIHRoZSBsaXN0IGhhcyBiZWVuIGZpcmVkIHJpZ2h0IGF3YXkgd2l0aCB0aGUgbGF0ZXN0ICJtZW1vcml6ZWQiCiAqCQkJCQl2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZCkKICoKICoJdW5pcXVlOgkJCXdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KQogKgogKglzdG9wT25GYWxzZToJaW50ZXJydXB0IGNhbGxpbmdzIHdoZW4gYSBjYWxsYmFjayByZXR1cm5zIGZhbHNlCiAqCiAqLwpqUXVlcnkuQ2FsbGJhY2tzID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7CgoJLy8gQ29udmVydCBvcHRpb25zIGZyb20gU3RyaW5nLWZvcm1hdHRlZCB0byBPYmplY3QtZm9ybWF0dGVkIGlmIG5lZWRlZAoJLy8gKHdlIGNoZWNrIGluIGNhY2hlIGZpcnN0KQoJb3B0aW9ucyA9IHR5cGVvZiBvcHRpb25zID09PSAic3RyaW5nIiA/CgkJY3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIDoKCQlqUXVlcnkuZXh0ZW5kKCB7fSwgb3B0aW9ucyApOwoKCXZhciAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCBpcyBjdXJyZW50bHkgZmlyaW5nCgkJZmlyaW5nLAoKCQkvLyBMYXN0IGZpcmUgdmFsdWUgZm9yIG5vbi1mb3JnZXR0YWJsZSBsaXN0cwoJCW1lbW9yeSwKCgkJLy8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWQKCQlmaXJlZCwKCgkJLy8gRmxhZyB0byBwcmV2ZW50IGZpcmluZwoJCWxvY2tlZCwKCgkJLy8gQWN0dWFsIGNhbGxiYWNrIGxpc3QKCQlsaXN0ID0gW10sCgoJCS8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzCgkJcXVldWUgPSBbXSwKCgkJLy8gSW5kZXggb2YgY3VycmVudGx5IGZpcmluZyBjYWxsYmFjayAobW9kaWZpZWQgYnkgYWRkL3JlbW92ZSBhcyBuZWVkZWQpCgkJZmlyaW5nSW5kZXggPSAtMSwKCgkJLy8gRmlyZSBjYWxsYmFja3MKCQlmaXJlID0gZnVuY3Rpb24oKSB7CgoJCQkvLyBFbmZvcmNlIHNpbmdsZS1maXJpbmcKCQkJbG9ja2VkID0gbG9ja2VkIHx8IG9wdGlvbnMub25jZTsKCgkJCS8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLAoJCQkvLyByZXNwZWN0aW5nIGZpcmluZ0luZGV4IG92ZXJyaWRlcyBhbmQgcnVudGltZSBjaGFuZ2VzCgkJCWZpcmVkID0gZmlyaW5nID0gdHJ1ZTsKCQkJZm9yICggOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEgKSB7CgkJCQltZW1vcnkgPSBxdWV1ZS5zaGlmdCgpOwoJCQkJd2hpbGUgKCArK2ZpcmluZ0luZGV4IDwgbGlzdC5sZW5ndGggKSB7CgoJCQkJCS8vIFJ1biBjYWxsYmFjayBhbmQgY2hlY2sgZm9yIGVhcmx5IHRlcm1pbmF0aW9uCgkJCQkJaWYgKCBsaXN0WyBmaXJpbmdJbmRleCBdLmFwcGx5KCBtZW1vcnlbIDAgXSwgbWVtb3J5WyAxIF0gKSA9PT0gZmFsc2UgJiYKCQkJCQkJb3B0aW9ucy5zdG9wT25GYWxzZSApIHsKCgkJCQkJCS8vIEp1bXAgdG8gZW5kIGFuZCBmb3JnZXQgdGhlIGRhdGEgc28gLmFkZCBkb2Vzbid0IHJlLWZpcmUKCQkJCQkJZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aDsKCQkJCQkJbWVtb3J5ID0gZmFsc2U7CgkJCQkJfQoJCQkJfQoJCQl9CgoJCQkvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0CgkJCWlmICggIW9wdGlvbnMubWVtb3J5ICkgewoJCQkJbWVtb3J5ID0gZmFsc2U7CgkJCX0KCgkJCWZpcmluZyA9IGZhbHNlOwoKCQkJLy8gQ2xlYW4gdXAgaWYgd2UncmUgZG9uZSBmaXJpbmcgZm9yIGdvb2QKCQkJaWYgKCBsb2NrZWQgKSB7CgoJCQkJLy8gS2VlcCBhbiBlbXB0eSBsaXN0IGlmIHdlIGhhdmUgZGF0YSBmb3IgZnV0dXJlIGFkZCBjYWxscwoJCQkJaWYgKCBtZW1vcnkgKSB7CgkJCQkJbGlzdCA9IFtdOwoKCQkJCS8vIE90aGVyd2lzZSwgdGhpcyBvYmplY3QgaXMgc3BlbnQKCQkJCX0gZWxzZSB7CgkJCQkJbGlzdCA9ICIiOwoJCQkJfQoJCQl9CgkJfSwKCgkJLy8gQWN0dWFsIENhbGxiYWNrcyBvYmplY3QKCQlzZWxmID0gewoKCQkJLy8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdAoJCQlhZGQ6IGZ1bmN0aW9uKCkgewoJCQkJaWYgKCBsaXN0ICkgewoKCQkJCQkvLyBJZiB3ZSBoYXZlIG1lbW9yeSBmcm9tIGEgcGFzdCBydW4sIHdlIHNob3VsZCBmaXJlIGFmdGVyIGFkZGluZwoJCQkJCWlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7CgkJCQkJCWZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGggLSAxOwoJCQkJCQlxdWV1ZS5wdXNoKCBtZW1vcnkgKTsKCQkJCQl9CgoJCQkJCSggZnVuY3Rpb24gYWRkKCBhcmdzICkgewoJCQkJCQlqUXVlcnkuZWFjaCggYXJncywgZnVuY3Rpb24oIF8sIGFyZyApIHsKCQkJCQkJCWlmICggaXNGdW5jdGlvbiggYXJnICkgKSB7CgkJCQkJCQkJaWYgKCAhb3B0aW9ucy51bmlxdWUgfHwgIXNlbGYuaGFzKCBhcmcgKSApIHsKCQkJCQkJCQkJbGlzdC5wdXNoKCBhcmcgKTsKCQkJCQkJCQl9CgkJCQkJCQl9IGVsc2UgaWYgKCBhcmcgJiYgYXJnLmxlbmd0aCAmJiB0b1R5cGUoIGFyZyApICE9PSAic3RyaW5nIiApIHsKCgkJCQkJCQkJLy8gSW5zcGVjdCByZWN1cnNpdmVseQoJCQkJCQkJCWFkZCggYXJnICk7CgkJCQkJCQl9CgkJCQkJCX0gKTsKCQkJCQl9ICkoIGFyZ3VtZW50cyApOwoKCQkJCQlpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkgewoJCQkJCQlmaXJlKCk7CgkJCQkJfQoJCQkJfQoJCQkJcmV0dXJuIHRoaXM7CgkJCX0sCgoJCQkvLyBSZW1vdmUgYSBjYWxsYmFjayBmcm9tIHRoZSBsaXN0CgkJCXJlbW92ZTogZnVuY3Rpb24oKSB7CgkJCQlqUXVlcnkuZWFjaCggYXJndW1lbnRzLCBmdW5jdGlvbiggXywgYXJnICkgewoJCQkJCXZhciBpbmRleDsKCQkJCQl3aGlsZSAoICggaW5kZXggPSBqUXVlcnkuaW5BcnJheSggYXJnLCBsaXN0LCBpbmRleCApICkgPiAtMSApIHsKCQkJCQkJbGlzdC5zcGxpY2UoIGluZGV4LCAxICk7CgoJCQkJCQkvLyBIYW5kbGUgZmlyaW5nIGluZGV4ZXMKCQkJCQkJaWYgKCBpbmRleCA8PSBmaXJpbmdJbmRleCApIHsKCQkJCQkJCWZpcmluZ0luZGV4LS07CgkJCQkJCX0KCQkJCQl9CgkJCQl9ICk7CgkJCQlyZXR1cm4gdGhpczsKCQkJfSwKCgkJCS8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuCgkJCS8vIElmIG5vIGFyZ3VtZW50IGlzIGdpdmVuLCByZXR1cm4gd2hldGhlciBvciBub3QgbGlzdCBoYXMgY2FsbGJhY2tzIGF0dGFjaGVkLgoJCQloYXM6IGZ1bmN0aW9uKCBmbiApIHsKCQkJCXJldHVybiBmbiA/CgkJCQkJalF1ZXJ5LmluQXJyYXkoIGZuLCBsaXN0ICkgPiAtMSA6CgkJCQkJbGlzdC5sZW5ndGggPiAwOwoJCQl9LAoKCQkJLy8gUmVtb3ZlIGFsbCBjYWxsYmFja3MgZnJvbSB0aGUgbGlzdAoJCQllbXB0eTogZnVuY3Rpb24oKSB7CgkJCQlpZiAoIGxpc3QgKSB7CgkJCQkJbGlzdCA9IFtdOwoJCQkJfQoJCQkJcmV0dXJuIHRoaXM7CgkJCX0sCgoJCQkvLyBEaXNhYmxlIC5maXJlIGFuZCAuYWRkCgkJCS8vIEFib3J0IGFueSBjdXJyZW50L3BlbmRpbmcgZXhlY3V0aW9ucwoJCQkvLyBDbGVhciBhbGwgY2FsbGJhY2tzIGFuZCB2YWx1ZXMKCQkJZGlzYWJsZTogZnVuY3Rpb24oKSB7CgkJCQlsb2NrZWQgPSBxdWV1ZSA9IFtdOwoJCQkJbGlzdCA9IG1lbW9yeSA9ICIiOwoJCQkJcmV0dXJuIHRoaXM7CgkJCX0sCgkJCWRpc2FibGVkOiBmdW5jdGlvbigpIHsKCQkJCXJldHVybiAhbGlzdDsKCQkJfSwKCgkJCS8vIERpc2FibGUgLmZpcmUKCQkJLy8gQWxzbyBkaXNhYmxlIC5hZGQgdW5sZXNzIHdlIGhhdmUgbWVtb3J5IChzaW5jZSBpdCB3b3VsZCBoYXZlIG5vIGVmZmVjdCkKCQkJLy8gQWJvcnQgYW55IHBlbmRpbmcgZXhlY3V0aW9ucwoJCQlsb2NrOiBmdW5jdGlvbigpIHsKCQkJCWxvY2tlZCA9IHF1ZXVlID0gW107CgkJCQlpZiAoICFtZW1vcnkgJiYgIWZpcmluZyApIHsKCQkJCQlsaXN0ID0gbWVtb3J5ID0gIiI7CgkJCQl9CgkJCQlyZXR1cm4gdGhpczsKCQkJfSwKCQkJbG9ja2VkOiBmdW5jdGlvbigpIHsKCQkJCXJldHVybiAhIWxvY2tlZDsKCQkJfSwKCgkJCS8vIENhbGwgYWxsIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBjb250ZXh0IGFuZCBhcmd1bWVudHMKCQkJZmlyZVdpdGg6IGZ1bmN0aW9uKCBjb250ZXh0LCBhcmdzICkgewoJCQkJaWYgKCAhbG9ja2VkICkgewoJCQkJCWFyZ3MgPSBhcmdzIHx8IFtdOwoJCQkJCWFyZ3MgPSBbIGNvbnRleHQsIGFyZ3Muc2xpY2UgPyBhcmdzLnNsaWNlKCkgOiBhcmdzIF07CgkJCQkJcXVldWUucHVzaCggYXJncyApOwoJCQkJCWlmICggIWZpcmluZyApIHsKCQkJCQkJZmlyZSgpOwoJCQkJCX0KCQkJCX0KCQkJCXJldHVybiB0aGlzOwoJCQl9LAoKCQkJLy8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHMKCQkJZmlyZTogZnVuY3Rpb24oKSB7CgkJCQlzZWxmLmZpcmVXaXRoKCB0aGlzLCBhcmd1bWVudHMgKTsKCQkJCXJldHVybiB0aGlzOwoJCQl9LAoKCQkJLy8gVG8ga25vdyBpZiB0aGUgY2FsbGJhY2tzIGhhdmUgYWxyZWFkeSBiZWVuIGNhbGxlZCBhdCBsZWFzdCBvbmNlCgkJCWZpcmVkOiBmdW5jdGlvbigpIHsKCQkJCXJldHVybiAhIWZpcmVkOwoJCQl9CgkJfTsKCglyZXR1cm4gc2VsZjsKfTsKCgpmdW5jdGlvbiBJZGVudGl0eSggdiApIHsKCXJldHVybiB2Owp9CmZ1bmN0aW9uIFRocm93ZXIoIGV4ICkgewoJdGhyb3cgZXg7Cn0KCmZ1bmN0aW9uIGFkb3B0VmFsdWUoIHZhbHVlLCByZXNvbHZlLCByZWplY3QsIG5vVmFsdWUgKSB7Cgl2YXIgbWV0aG9kOwoKCXRyeSB7CgoJCS8vIENoZWNrIGZvciBwcm9taXNlIGFzcGVjdCBmaXJzdCB0byBwcml2aWxlZ2Ugc3luY2hyb25vdXMgYmVoYXZpb3IKCQlpZiAoIHZhbHVlICYmIGlzRnVuY3Rpb24oICggbWV0aG9kID0gdmFsdWUucHJvbWlzZSApICkgKSB7CgkJCW1ldGhvZC5jYWxsKCB2YWx1ZSApLmRvbmUoIHJlc29sdmUgKS5mYWlsKCByZWplY3QgKTsKCgkJLy8gT3RoZXIgdGhlbmFibGVzCgkJfSBlbHNlIGlmICggdmFsdWUgJiYgaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS50aGVuICkgKSApIHsKCQkJbWV0aG9kLmNhbGwoIHZhbHVlLCByZXNvbHZlLCByZWplY3QgKTsKCgkJLy8gT3RoZXIgbm9uLXRoZW5hYmxlcwoJCX0gZWxzZSB7CgoJCQkvLyBDb250cm9sIGByZXNvbHZlYCBhcmd1bWVudHMgYnkgbGV0dGluZyBBcnJheSNzbGljZSBjYXN0IGJvb2xlYW4gYG5vVmFsdWVgIHRvIGludGVnZXI6CgkJCS8vICogZmFsc2U6IFsgdmFsdWUgXS5zbGljZSggMCApID0+IHJlc29sdmUoIHZhbHVlICkKCQkJLy8gKiB0cnVlOiBbIHZhbHVlIF0uc2xpY2UoIDEgKSA9PiByZXNvbHZlKCkKCQkJcmVzb2x2ZS5hcHBseSggdW5kZWZpbmVkLCBbIHZhbHVlIF0uc2xpY2UoIG5vVmFsdWUgKSApOwoJCX0KCgkvLyBGb3IgUHJvbWlzZXMvQSssIGNvbnZlcnQgZXhjZXB0aW9ucyBpbnRvIHJlamVjdGlvbnMKCS8vIFNpbmNlIGpRdWVyeS53aGVuIGRvZXNuJ3QgdW53cmFwIHRoZW5hYmxlcywgd2UgY2FuIHNraXAgdGhlIGV4dHJhIGNoZWNrcyBhcHBlYXJpbmcgaW4KCS8vIERlZmVycmVkI3RoZW4gdG8gY29uZGl0aW9uYWxseSBzdXBwcmVzcyByZWplY3Rpb24uCgl9IGNhdGNoICggdmFsdWUgKSB7CgoJCS8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIG9ubHkKCQkvLyBTdHJpY3QgbW9kZSBmdW5jdGlvbnMgaW52b2tlZCB3aXRob3V0IC5jYWxsLy5hcHBseSBnZXQgZ2xvYmFsLW9iamVjdCBjb250ZXh0CgkJcmVqZWN0LmFwcGx5KCB1bmRlZmluZWQsIFsgdmFsdWUgXSApOwoJfQp9CgpqUXVlcnkuZXh0ZW5kKCB7CgoJRGVmZXJyZWQ6IGZ1bmN0aW9uKCBmdW5jICkgewoJCXZhciB0dXBsZXMgPSBbCgoJCQkJLy8gYWN0aW9uLCBhZGQgbGlzdGVuZXIsIGNhbGxiYWNrcywKCQkJCS8vIC4uLiAudGhlbiBoYW5kbGVycywgYXJndW1lbnQgaW5kZXgsIFtmaW5hbCBzdGF0ZV0KCQkJCVsgIm5vdGlmeSIsICJwcm9ncmVzcyIsIGpRdWVyeS5DYWxsYmFja3MoICJtZW1vcnkiICksCgkJCQkJalF1ZXJ5LkNhbGxiYWNrcyggIm1lbW9yeSIgKSwgMiBdLAoJCQkJWyAicmVzb2x2ZSIsICJkb25lIiwgalF1ZXJ5LkNhbGxiYWNrcyggIm9uY2UgbWVtb3J5IiApLAoJCQkJCWpRdWVyeS5DYWxsYmFja3MoICJvbmNlIG1lbW9yeSIgKSwgMCwgInJlc29sdmVkIiBdLAoJCQkJWyAicmVqZWN0IiwgImZhaWwiLCBqUXVlcnkuQ2FsbGJhY2tzKCAib25jZSBtZW1vcnkiICksCgkJCQkJalF1ZXJ5LkNhbGxiYWNrcyggIm9uY2UgbWVtb3J5IiApLCAxLCAicmVqZWN0ZWQiIF0KCQkJXSwKCQkJc3RhdGUgPSAicGVuZGluZyIsCgkJCXByb21pc2UgPSB7CgkJCQlzdGF0ZTogZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIHN0YXRlOwoJCQkJfSwKCQkJCWFsd2F5czogZnVuY3Rpb24oKSB7CgkJCQkJZGVmZXJyZWQuZG9uZSggYXJndW1lbnRzICkuZmFpbCggYXJndW1lbnRzICk7CgkJCQkJcmV0dXJuIHRoaXM7CgkJCQl9LAoJCQkJImNhdGNoIjogZnVuY3Rpb24oIGZuICkgewoJCQkJCXJldHVybiBwcm9taXNlLnRoZW4oIG51bGwsIGZuICk7CgkJCQl9LAoKCQkJCS8vIEtlZXAgcGlwZSBmb3IgYmFjay1jb21wYXQKCQkJCXBpcGU6IGZ1bmN0aW9uKCAvKiBmbkRvbmUsIGZuRmFpbCwgZm5Qcm9ncmVzcyAqLyApIHsKCQkJCQl2YXIgZm5zID0gYXJndW1lbnRzOwoKCQkJCQlyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBmdW5jdGlvbiggbmV3RGVmZXIgKSB7CgkJCQkJCWpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBfaSwgdHVwbGUgKSB7CgoJCQkJCQkJLy8gTWFwIHR1cGxlcyAocHJvZ3Jlc3MsIGRvbmUsIGZhaWwpIHRvIGFyZ3VtZW50cyAoZG9uZSwgZmFpbCwgcHJvZ3Jlc3MpCgkJCQkJCQl2YXIgZm4gPSBpc0Z1bmN0aW9uKCBmbnNbIHR1cGxlWyA0IF0gXSApICYmIGZuc1sgdHVwbGVbIDQgXSBdOwoKCQkJCQkJCS8vIGRlZmVycmVkLnByb2dyZXNzKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLm5vdGlmeSB9KQoJCQkJCQkJLy8gZGVmZXJyZWQuZG9uZShmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5yZXNvbHZlIH0pCgkJCQkJCQkvLyBkZWZlcnJlZC5mYWlsKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlamVjdCB9KQoJCQkJCQkJZGVmZXJyZWRbIHR1cGxlWyAxIF0gXSggZnVuY3Rpb24oKSB7CgkJCQkJCQkJdmFyIHJldHVybmVkID0gZm4gJiYgZm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApOwoJCQkJCQkJCWlmICggcmV0dXJuZWQgJiYgaXNGdW5jdGlvbiggcmV0dXJuZWQucHJvbWlzZSApICkgewoJCQkJCQkJCQlyZXR1cm5lZC5wcm9taXNlKCkKCQkJCQkJCQkJCS5wcm9ncmVzcyggbmV3RGVmZXIubm90aWZ5ICkKCQkJCQkJCQkJCS5kb25lKCBuZXdEZWZlci5yZXNvbHZlICkKCQkJCQkJCQkJCS5mYWlsKCBuZXdEZWZlci5yZWplY3QgKTsKCQkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCQluZXdEZWZlclsgdHVwbGVbIDAgXSArICJXaXRoIiBdKAoJCQkJCQkJCQkJdGhpcywKCQkJCQkJCQkJCWZuID8gWyByZXR1cm5lZCBdIDogYXJndW1lbnRzCgkJCQkJCQkJCSk7CgkJCQkJCQkJfQoJCQkJCQkJfSApOwoJCQkJCQl9ICk7CgkJCQkJCWZucyA9IG51bGw7CgkJCQkJfSApLnByb21pc2UoKTsKCQkJCX0sCgkJCQl0aGVuOiBmdW5jdGlvbiggb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG9uUHJvZ3Jlc3MgKSB7CgkJCQkJdmFyIG1heERlcHRoID0gMDsKCQkJCQlmdW5jdGlvbiByZXNvbHZlKCBkZXB0aCwgZGVmZXJyZWQsIGhhbmRsZXIsIHNwZWNpYWwgKSB7CgkJCQkJCXJldHVybiBmdW5jdGlvbigpIHsKCQkJCQkJCXZhciB0aGF0ID0gdGhpcywKCQkJCQkJCQlhcmdzID0gYXJndW1lbnRzLAoJCQkJCQkJCW1pZ2h0VGhyb3cgPSBmdW5jdGlvbigpIHsKCQkJCQkJCQkJdmFyIHJldHVybmVkLCB0aGVuOwoKCQkJCQkJCQkJLy8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjMKCQkJCQkJCQkJLy8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTkKCQkJCQkJCQkJLy8gSWdub3JlIGRvdWJsZS1yZXNvbHV0aW9uIGF0dGVtcHRzCgkJCQkJCQkJCWlmICggZGVwdGggPCBtYXhEZXB0aCApIHsKCQkJCQkJCQkJCXJldHVybjsKCQkJCQkJCQkJfQoKCQkJCQkJCQkJcmV0dXJuZWQgPSBoYW5kbGVyLmFwcGx5KCB0aGF0LCBhcmdzICk7CgoJCQkJCQkJCQkvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4xCgkJCQkJCQkJCS8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTQ4CgkJCQkJCQkJCWlmICggcmV0dXJuZWQgPT09IGRlZmVycmVkLnByb21pc2UoKSApIHsKCQkJCQkJCQkJCXRocm93IG5ldyBUeXBlRXJyb3IoICJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iICk7CgkJCQkJCQkJCX0KCgkJCQkJCQkJCS8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb25zIDIuMy4zLjEsIDMuNQoJCQkJCQkJCQkvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01NAoJCQkJCQkJCQkvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC03NQoJCQkJCQkJCQkvLyBSZXRyaWV2ZSBgdGhlbmAgb25seSBvbmNlCgkJCQkJCQkJCXRoZW4gPSByZXR1cm5lZCAmJgoKCQkJCQkJCQkJCS8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjQKCQkJCQkJCQkJCS8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTY0CgkJCQkJCQkJCQkvLyBPbmx5IGNoZWNrIG9iamVjdHMgYW5kIGZ1bmN0aW9ucyBmb3IgdGhlbmFiaWxpdHkKCQkJCQkJCQkJCSggdHlwZW9mIHJldHVybmVkID09PSAib2JqZWN0IiB8fAoJCQkJCQkJCQkJCXR5cGVvZiByZXR1cm5lZCA9PT0gImZ1bmN0aW9uIiApICYmCgkJCQkJCQkJCQlyZXR1cm5lZC50aGVuOwoKCQkJCQkJCQkJLy8gSGFuZGxlIGEgcmV0dXJuZWQgdGhlbmFibGUKCQkJCQkJCQkJaWYgKCBpc0Z1bmN0aW9uKCB0aGVuICkgKSB7CgoJCQkJCQkJCQkJLy8gU3BlY2lhbCBwcm9jZXNzb3JzIChub3RpZnkpIGp1c3Qgd2FpdCBmb3IgcmVzb2x1dGlvbgoJCQkJCQkJCQkJaWYgKCBzcGVjaWFsICkgewoJCQkJCQkJCQkJCXRoZW4uY2FsbCgKCQkJCQkJCQkJCQkJcmV0dXJuZWQsCgkJCQkJCQkJCQkJCXJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIHNwZWNpYWwgKSwKCQkJCQkJCQkJCQkJcmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsICkKCQkJCQkJCQkJCQkpOwoKCQkJCQkJCQkJCS8vIE5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBhbHNvIGhvb2sgaW50byBwcm9ncmVzcwoJCQkJCQkJCQkJfSBlbHNlIHsKCgkJCQkJCQkJCQkJLy8gLi4uYW5kIGRpc3JlZ2FyZCBvbGRlciByZXNvbHV0aW9uIHZhbHVlcwoJCQkJCQkJCQkJCW1heERlcHRoKys7CgoJCQkJCQkJCQkJCXRoZW4uY2FsbCgKCQkJCQkJCQkJCQkJcmV0dXJuZWQsCgkJCQkJCQkJCQkJCXJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIHNwZWNpYWwgKSwKCQkJCQkJCQkJCQkJcmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsICksCgkJCQkJCQkJCQkJCXJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksCgkJCQkJCQkJCQkJCQlkZWZlcnJlZC5ub3RpZnlXaXRoICkKCQkJCQkJCQkJCQkpOwoJCQkJCQkJCQkJfQoKCQkJCQkJCQkJLy8gSGFuZGxlIGFsbCBvdGhlciByZXR1cm5lZCB2YWx1ZXMKCQkJCQkJCQkJfSBlbHNlIHsKCgkJCQkJCQkJCQkvLyBPbmx5IHN1YnN0aXR1dGUgaGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0CgkJCQkJCQkJCQkvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcikKCQkJCQkJCQkJCWlmICggaGFuZGxlciAhPT0gSWRlbnRpdHkgKSB7CgkJCQkJCQkJCQkJdGhhdCA9IHVuZGVmaW5lZDsKCQkJCQkJCQkJCQlhcmdzID0gWyByZXR1cm5lZCBdOwoJCQkJCQkJCQkJfQoKCQkJCQkJCQkJCS8vIFByb2Nlc3MgdGhlIHZhbHVlKHMpCgkJCQkJCQkJCQkvLyBEZWZhdWx0IHByb2Nlc3MgaXMgcmVzb2x2ZQoJCQkJCQkJCQkJKCBzcGVjaWFsIHx8IGRlZmVycmVkLnJlc29sdmVXaXRoICkoIHRoYXQsIGFyZ3MgKTsKCQkJCQkJCQkJfQoJCQkJCQkJCX0sCgoJCQkJCQkJCS8vIE9ubHkgbm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGNhdGNoIGFuZCByZWplY3QgZXhjZXB0aW9ucwoJCQkJCQkJCXByb2Nlc3MgPSBzcGVjaWFsID8KCQkJCQkJCQkJbWlnaHRUaHJvdyA6CgkJCQkJCQkJCWZ1bmN0aW9uKCkgewoJCQkJCQkJCQkJdHJ5IHsKCQkJCQkJCQkJCQltaWdodFRocm93KCk7CgkJCQkJCQkJCQl9IGNhdGNoICggZSApIHsKCgkJCQkJCQkJCQkJaWYgKCBqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayApIHsKCQkJCQkJCQkJCQkJalF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soIGUsCgkJCQkJCQkJCQkJCQlwcm9jZXNzLnN0YWNrVHJhY2UgKTsKCQkJCQkJCQkJCQl9CgoJCQkJCQkJCQkJCS8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy40LjEKCQkJCQkJCQkJCQkvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02MQoJCQkJCQkJCQkJCS8vIElnbm9yZSBwb3N0LXJlc29sdXRpb24gZXhjZXB0aW9ucwoJCQkJCQkJCQkJCWlmICggZGVwdGggKyAxID49IG1heERlcHRoICkgewoKCQkJCQkJCQkJCQkJLy8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dAoJCQkJCQkJCQkJCQkvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcikKCQkJCQkJCQkJCQkJaWYgKCBoYW5kbGVyICE9PSBUaHJvd2VyICkgewoJCQkJCQkJCQkJCQkJdGhhdCA9IHVuZGVmaW5lZDsKCQkJCQkJCQkJCQkJCWFyZ3MgPSBbIGUgXTsKCQkJCQkJCQkJCQkJfQoKCQkJCQkJCQkJCQkJZGVmZXJyZWQucmVqZWN0V2l0aCggdGhhdCwgYXJncyApOwoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCX0KCQkJCQkJCQkJfTsKCgkJCQkJCQkvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuMQoJCQkJCQkJLy8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTcKCQkJCQkJCS8vIFJlLXJlc29sdmUgcHJvbWlzZXMgaW1tZWRpYXRlbHkgdG8gZG9kZ2UgZmFsc2UgcmVqZWN0aW9uIGZyb20KCQkJCQkJCS8vIHN1YnNlcXVlbnQgZXJyb3JzCgkJCQkJCQlpZiAoIGRlcHRoICkgewoJCQkJCQkJCXByb2Nlc3MoKTsKCQkJCQkJCX0gZWxzZSB7CgoJCQkJCQkJCS8vIENhbGwgYW4gb3B0aW9uYWwgaG9vayB0byByZWNvcmQgdGhlIHN0YWNrLCBpbiBjYXNlIG9mIGV4Y2VwdGlvbgoJCQkJCQkJCS8vIHNpbmNlIGl0J3Mgb3RoZXJ3aXNlIGxvc3Qgd2hlbiBleGVjdXRpb24gZ29lcyBhc3luYwoJCQkJCQkJCWlmICggalF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vayApIHsKCQkJCQkJCQkJcHJvY2Vzcy5zdGFja1RyYWNlID0galF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaygpOwoJCQkJCQkJCX0KCQkJCQkJCQl3aW5kb3cuc2V0VGltZW91dCggcHJvY2VzcyApOwoJCQkJCQkJfQoJCQkJCQl9OwoJCQkJCX0KCgkJCQkJcmV0dXJuIGpRdWVyeS5EZWZlcnJlZCggZnVuY3Rpb24oIG5ld0RlZmVyICkgewoKCQkJCQkJLy8gcHJvZ3Jlc3NfaGFuZGxlcnMuYWRkKCAuLi4gKQoJCQkJCQl0dXBsZXNbIDAgXVsgMyBdLmFkZCgKCQkJCQkJCXJlc29sdmUoCgkJCQkJCQkJMCwKCQkJCQkJCQluZXdEZWZlciwKCQkJCQkJCQlpc0Z1bmN0aW9uKCBvblByb2dyZXNzICkgPwoJCQkJCQkJCQlvblByb2dyZXNzIDoKCQkJCQkJCQkJSWRlbnRpdHksCgkJCQkJCQkJbmV3RGVmZXIubm90aWZ5V2l0aAoJCQkJCQkJKQoJCQkJCQkpOwoKCQkJCQkJLy8gZnVsZmlsbGVkX2hhbmRsZXJzLmFkZCggLi4uICkKCQkJCQkJdHVwbGVzWyAxIF1bIDMgXS5hZGQoCgkJCQkJCQlyZXNvbHZlKAoJCQkJCQkJCTAsCgkJCQkJCQkJbmV3RGVmZXIsCgkJCQkJCQkJaXNGdW5jdGlvbiggb25GdWxmaWxsZWQgKSA/CgkJCQkJCQkJCW9uRnVsZmlsbGVkIDoKCQkJCQkJCQkJSWRlbnRpdHkKCQkJCQkJCSkKCQkJCQkJKTsKCgkJCQkJCS8vIHJlamVjdGVkX2hhbmRsZXJzLmFkZCggLi4uICkKCQkJCQkJdHVwbGVzWyAyIF1bIDMgXS5hZGQoCgkJCQkJCQlyZXNvbHZlKAoJCQkJCQkJCTAsCgkJCQkJCQkJbmV3RGVmZXIsCgkJCQkJCQkJaXNGdW5jdGlvbiggb25SZWplY3RlZCApID8KCQkJCQkJCQkJb25SZWplY3RlZCA6CgkJCQkJCQkJCVRocm93ZXIKCQkJCQkJCSkKCQkJCQkJKTsKCQkJCQl9ICkucHJvbWlzZSgpOwoJCQkJfSwKCgkJCQkvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkCgkJCQkvLyBJZiBvYmogaXMgcHJvdmlkZWQsIHRoZSBwcm9taXNlIGFzcGVjdCBpcyBhZGRlZCB0byB0aGUgb2JqZWN0CgkJCQlwcm9taXNlOiBmdW5jdGlvbiggb2JqICkgewoJCQkJCXJldHVybiBvYmogIT0gbnVsbCA/IGpRdWVyeS5leHRlbmQoIG9iaiwgcHJvbWlzZSApIDogcHJvbWlzZTsKCQkJCX0KCQkJfSwKCQkJZGVmZXJyZWQgPSB7fTsKCgkJLy8gQWRkIGxpc3Qtc3BlY2lmaWMgbWV0aG9kcwoJCWpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHsKCQkJdmFyIGxpc3QgPSB0dXBsZVsgMiBdLAoJCQkJc3RhdGVTdHJpbmcgPSB0dXBsZVsgNSBdOwoKCQkJLy8gcHJvbWlzZS5wcm9ncmVzcyA9IGxpc3QuYWRkCgkJCS8vIHByb21pc2UuZG9uZSA9IGxpc3QuYWRkCgkJCS8vIHByb21pc2UuZmFpbCA9IGxpc3QuYWRkCgkJCXByb21pc2VbIHR1cGxlWyAxIF0gXSA9IGxpc3QuYWRkOwoKCQkJLy8gSGFuZGxlIHN0YXRlCgkJCWlmICggc3RhdGVTdHJpbmcgKSB7CgkJCQlsaXN0LmFkZCgKCQkJCQlmdW5jdGlvbigpIHsKCgkJCQkJCS8vIHN0YXRlID0gInJlc29sdmVkIiAoaS5lLiwgZnVsZmlsbGVkKQoJCQkJCQkvLyBzdGF0ZSA9ICJyZWplY3RlZCIKCQkJCQkJc3RhdGUgPSBzdGF0ZVN0cmluZzsKCQkJCQl9LAoKCQkJCQkvLyByZWplY3RlZF9jYWxsYmFja3MuZGlzYWJsZQoJCQkJCS8vIGZ1bGZpbGxlZF9jYWxsYmFja3MuZGlzYWJsZQoJCQkJCXR1cGxlc1sgMyAtIGkgXVsgMiBdLmRpc2FibGUsCgoJCQkJCS8vIHJlamVjdGVkX2hhbmRsZXJzLmRpc2FibGUKCQkJCQkvLyBmdWxmaWxsZWRfaGFuZGxlcnMuZGlzYWJsZQoJCQkJCXR1cGxlc1sgMyAtIGkgXVsgMyBdLmRpc2FibGUsCgoJCQkJCS8vIHByb2dyZXNzX2NhbGxiYWNrcy5sb2NrCgkJCQkJdHVwbGVzWyAwIF1bIDIgXS5sb2NrLAoKCQkJCQkvLyBwcm9ncmVzc19oYW5kbGVycy5sb2NrCgkJCQkJdHVwbGVzWyAwIF1bIDMgXS5sb2NrCgkJCQkpOwoJCQl9CgoJCQkvLyBwcm9ncmVzc19oYW5kbGVycy5maXJlCgkJCS8vIGZ1bGZpbGxlZF9oYW5kbGVycy5maXJlCgkJCS8vIHJlamVjdGVkX2hhbmRsZXJzLmZpcmUKCQkJbGlzdC5hZGQoIHR1cGxlWyAzIF0uZmlyZSApOwoKCQkJLy8gZGVmZXJyZWQubm90aWZ5ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLm5vdGlmeVdpdGgoLi4uKSB9CgkJCS8vIGRlZmVycmVkLnJlc29sdmUgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVzb2x2ZVdpdGgoLi4uKSB9CgkJCS8vIGRlZmVycmVkLnJlamVjdCA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5yZWplY3RXaXRoKC4uLikgfQoJCQlkZWZlcnJlZFsgdHVwbGVbIDAgXSBdID0gZnVuY3Rpb24oKSB7CgkJCQlkZWZlcnJlZFsgdHVwbGVbIDAgXSArICJXaXRoIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHVuZGVmaW5lZCA6IHRoaXMsIGFyZ3VtZW50cyApOwoJCQkJcmV0dXJuIHRoaXM7CgkJCX07CgoJCQkvLyBkZWZlcnJlZC5ub3RpZnlXaXRoID0gbGlzdC5maXJlV2l0aAoJCQkvLyBkZWZlcnJlZC5yZXNvbHZlV2l0aCA9IGxpc3QuZmlyZVdpdGgKCQkJLy8gZGVmZXJyZWQucmVqZWN0V2l0aCA9IGxpc3QuZmlyZVdpdGgKCQkJZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyAiV2l0aCIgXSA9IGxpc3QuZmlyZVdpdGg7CgkJfSApOwoKCQkvLyBNYWtlIHRoZSBkZWZlcnJlZCBhIHByb21pc2UKCQlwcm9taXNlLnByb21pc2UoIGRlZmVycmVkICk7CgoJCS8vIENhbGwgZ2l2ZW4gZnVuYyBpZiBhbnkKCQlpZiAoIGZ1bmMgKSB7CgkJCWZ1bmMuY2FsbCggZGVmZXJyZWQsIGRlZmVycmVkICk7CgkJfQoKCQkvLyBBbGwgZG9uZSEKCQlyZXR1cm4gZGVmZXJyZWQ7Cgl9LAoKCS8vIERlZmVycmVkIGhlbHBlcgoJd2hlbjogZnVuY3Rpb24oIHNpbmdsZVZhbHVlICkgewoJCXZhcgoKCQkJLy8gY291bnQgb2YgdW5jb21wbGV0ZWQgc3Vib3JkaW5hdGVzCgkJCXJlbWFpbmluZyA9IGFyZ3VtZW50cy5sZW5ndGgsCgoJCQkvLyBjb3VudCBvZiB1bnByb2Nlc3NlZCBhcmd1bWVudHMKCQkJaSA9IHJlbWFpbmluZywKCgkJCS8vIHN1Ym9yZGluYXRlIGZ1bGZpbGxtZW50IGRhdGEKCQkJcmVzb2x2ZUNvbnRleHRzID0gQXJyYXkoIGkgKSwKCQkJcmVzb2x2ZVZhbHVlcyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApLAoKCQkJLy8gdGhlIHByaW1hcnkgRGVmZXJyZWQKCQkJcHJpbWFyeSA9IGpRdWVyeS5EZWZlcnJlZCgpLAoKCQkJLy8gc3Vib3JkaW5hdGUgY2FsbGJhY2sgZmFjdG9yeQoJCQl1cGRhdGVGdW5jID0gZnVuY3Rpb24oIGkgKSB7CgkJCQlyZXR1cm4gZnVuY3Rpb24oIHZhbHVlICkgewoJCQkJCXJlc29sdmVDb250ZXh0c1sgaSBdID0gdGhpczsKCQkJCQlyZXNvbHZlVmFsdWVzWyBpIF0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApIDogdmFsdWU7CgkJCQkJaWYgKCAhKCAtLXJlbWFpbmluZyApICkgewoJCQkJCQlwcmltYXJ5LnJlc29sdmVXaXRoKCByZXNvbHZlQ29udGV4dHMsIHJlc29sdmVWYWx1ZXMgKTsKCQkJCQl9CgkJCQl9OwoJCQl9OwoKCQkvLyBTaW5nbGUtIGFuZCBlbXB0eSBhcmd1bWVudHMgYXJlIGFkb3B0ZWQgbGlrZSBQcm9taXNlLnJlc29sdmUKCQlpZiAoIHJlbWFpbmluZyA8PSAxICkgewoJCQlhZG9wdFZhbHVlKCBzaW5nbGVWYWx1ZSwgcHJpbWFyeS5kb25lKCB1cGRhdGVGdW5jKCBpICkgKS5yZXNvbHZlLCBwcmltYXJ5LnJlamVjdCwKCQkJCSFyZW1haW5pbmcgKTsKCgkJCS8vIFVzZSAudGhlbigpIHRvIHVud3JhcCBzZWNvbmRhcnkgdGhlbmFibGVzIChjZi4gZ2gtMzAwMCkKCQkJaWYgKCBwcmltYXJ5LnN0YXRlKCkgPT09ICJwZW5kaW5nIiB8fAoJCQkJaXNGdW5jdGlvbiggcmVzb2x2ZVZhbHVlc1sgaSBdICYmIHJlc29sdmVWYWx1ZXNbIGkgXS50aGVuICkgKSB7CgoJCQkJcmV0dXJuIHByaW1hcnkudGhlbigpOwoJCQl9CgkJfQoKCQkvLyBNdWx0aXBsZSBhcmd1bWVudHMgYXJlIGFnZ3JlZ2F0ZWQgbGlrZSBQcm9taXNlLmFsbCBhcnJheSBlbGVtZW50cwoJCXdoaWxlICggaS0tICkgewoJCQlhZG9wdFZhbHVlKCByZXNvbHZlVmFsdWVzWyBpIF0sIHVwZGF0ZUZ1bmMoIGkgKSwgcHJpbWFyeS5yZWplY3QgKTsKCQl9CgoJCXJldHVybiBwcmltYXJ5LnByb21pc2UoKTsKCX0KfSApOwoKCi8vIFRoZXNlIHVzdWFsbHkgaW5kaWNhdGUgYSBwcm9ncmFtbWVyIG1pc3Rha2UgZHVyaW5nIGRldmVsb3BtZW50LAovLyB3YXJuIGFib3V0IHRoZW0gQVNBUCByYXRoZXIgdGhhbiBzd2FsbG93aW5nIHRoZW0gYnkgZGVmYXVsdC4KdmFyIHJlcnJvck5hbWVzID0gL14oRXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJKUVycm9yJC87CgpqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayA9IGZ1bmN0aW9uKCBlcnJvciwgc3RhY2sgKSB7CgoJLy8gU3VwcG9ydDogSUUgOCAtIDkgb25seQoJLy8gQ29uc29sZSBleGlzdHMgd2hlbiBkZXYgdG9vbHMgYXJlIG9wZW4sIHdoaWNoIGNhbiBoYXBwZW4gYXQgYW55IHRpbWUKCWlmICggd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUud2FybiAmJiBlcnJvciAmJiByZXJyb3JOYW1lcy50ZXN0KCBlcnJvci5uYW1lICkgKSB7CgkJd2luZG93LmNvbnNvbGUud2FybiggImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIgKyBlcnJvci5tZXNzYWdlLCBlcnJvci5zdGFjaywgc3RhY2sgKTsKCX0KfTsKCgoKCmpRdWVyeS5yZWFkeUV4Y2VwdGlvbiA9IGZ1bmN0aW9uKCBlcnJvciApIHsKCXdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHsKCQl0aHJvdyBlcnJvcjsKCX0gKTsKfTsKCgoKCi8vIFRoZSBkZWZlcnJlZCB1c2VkIG9uIERPTSByZWFkeQp2YXIgcmVhZHlMaXN0ID0galF1ZXJ5LkRlZmVycmVkKCk7CgpqUXVlcnkuZm4ucmVhZHkgPSBmdW5jdGlvbiggZm4gKSB7CgoJcmVhZHlMaXN0CgkJLnRoZW4oIGZuICkKCgkJLy8gV3JhcCBqUXVlcnkucmVhZHlFeGNlcHRpb24gaW4gYSBmdW5jdGlvbiBzbyB0aGF0IHRoZSBsb29rdXAKCQkvLyBoYXBwZW5zIGF0IHRoZSB0aW1lIG9mIGVycm9yIGhhbmRsaW5nIGluc3RlYWQgb2YgY2FsbGJhY2sKCQkvLyByZWdpc3RyYXRpb24uCgkJLmNhdGNoKCBmdW5jdGlvbiggZXJyb3IgKSB7CgkJCWpRdWVyeS5yZWFkeUV4Y2VwdGlvbiggZXJyb3IgKTsKCQl9ICk7CgoJcmV0dXJuIHRoaXM7Cn07CgpqUXVlcnkuZXh0ZW5kKCB7CgoJLy8gSXMgdGhlIERPTSByZWFkeSB0byBiZSB1c2VkPyBTZXQgdG8gdHJ1ZSBvbmNlIGl0IG9jY3Vycy4KCWlzUmVhZHk6IGZhbHNlLAoKCS8vIEEgY291bnRlciB0byB0cmFjayBob3cgbWFueSBpdGVtcyB0byB3YWl0IGZvciBiZWZvcmUKCS8vIHRoZSByZWFkeSBldmVudCBmaXJlcy4gU2VlICM2NzgxCglyZWFkeVdhaXQ6IDEsCgoJLy8gSGFuZGxlIHdoZW4gdGhlIERPTSBpcyByZWFkeQoJcmVhZHk6IGZ1bmN0aW9uKCB3YWl0ICkgewoKCQkvLyBBYm9ydCBpZiB0aGVyZSBhcmUgcGVuZGluZyBob2xkcyBvciB3ZSdyZSBhbHJlYWR5IHJlYWR5CgkJaWYgKCB3YWl0ID09PSB0cnVlID8gLS1qUXVlcnkucmVhZHlXYWl0IDogalF1ZXJ5LmlzUmVhZHkgKSB7CgkJCXJldHVybjsKCQl9CgoJCS8vIFJlbWVtYmVyIHRoYXQgdGhlIERPTSBpcyByZWFkeQoJCWpRdWVyeS5pc1JlYWR5ID0gdHJ1ZTsKCgkJLy8gSWYgYSBub3JtYWwgRE9NIFJlYWR5IGV2ZW50IGZpcmVkLCBkZWNyZW1lbnQsIGFuZCB3YWl0IGlmIG5lZWQgYmUKCQlpZiAoIHdhaXQgIT09IHRydWUgJiYgLS1qUXVlcnkucmVhZHlXYWl0ID4gMCApIHsKCQkJcmV0dXJuOwoJCX0KCgkJLy8gSWYgdGhlcmUgYXJlIGZ1bmN0aW9ucyBib3VuZCwgdG8gZXhlY3V0ZQoJCXJlYWR5TGlzdC5yZXNvbHZlV2l0aCggZG9jdW1lbnQsIFsgalF1ZXJ5IF0gKTsKCX0KfSApOwoKalF1ZXJ5LnJlYWR5LnRoZW4gPSByZWFkeUxpc3QudGhlbjsKCi8vIFRoZSByZWFkeSBldmVudCBoYW5kbGVyIGFuZCBzZWxmIGNsZWFudXAgbWV0aG9kCmZ1bmN0aW9uIGNvbXBsZXRlZCgpIHsKCWRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICJET01Db250ZW50TG9hZGVkIiwgY29tcGxldGVkICk7Cgl3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggImxvYWQiLCBjb21wbGV0ZWQgKTsKCWpRdWVyeS5yZWFkeSgpOwp9CgovLyBDYXRjaCBjYXNlcyB3aGVyZSAkKGRvY3VtZW50KS5yZWFkeSgpIGlzIGNhbGxlZAovLyBhZnRlciB0aGUgYnJvd3NlciBldmVudCBoYXMgYWxyZWFkeSBvY2N1cnJlZC4KLy8gU3VwcG9ydDogSUUgPD05IC0gMTAgb25seQovLyBPbGRlciBJRSBzb21ldGltZXMgc2lnbmFscyAiaW50ZXJhY3RpdmUiIHRvbyBzb29uCmlmICggZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gImNvbXBsZXRlIiB8fAoJKCBkb2N1bWVudC5yZWFkeVN0YXRlICE9PSAibG9hZGluZyIgJiYgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCApICkgewoKCS8vIEhhbmRsZSBpdCBhc3luY2hyb25vdXNseSB0byBhbGxvdyBzY3JpcHRzIHRoZSBvcHBvcnR1bml0eSB0byBkZWxheSByZWFkeQoJd2luZG93LnNldFRpbWVvdXQoIGpRdWVyeS5yZWFkeSApOwoKfSBlbHNlIHsKCgkvLyBVc2UgdGhlIGhhbmR5IGV2ZW50IGNhbGxiYWNrCglkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAiRE9NQ29udGVudExvYWRlZCIsIGNvbXBsZXRlZCApOwoKCS8vIEEgZmFsbGJhY2sgdG8gd2luZG93Lm9ubG9hZCwgdGhhdCB3aWxsIGFsd2F5cyB3b3JrCgl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggImxvYWQiLCBjb21wbGV0ZWQgKTsKfQoKCgoKLy8gTXVsdGlmdW5jdGlvbmFsIG1ldGhvZCB0byBnZXQgYW5kIHNldCB2YWx1ZXMgb2YgYSBjb2xsZWN0aW9uCi8vIFRoZSB2YWx1ZS9zIGNhbiBvcHRpb25hbGx5IGJlIGV4ZWN1dGVkIGlmIGl0J3MgYSBmdW5jdGlvbgp2YXIgYWNjZXNzID0gZnVuY3Rpb24oIGVsZW1zLCBmbiwga2V5LCB2YWx1ZSwgY2hhaW5hYmxlLCBlbXB0eUdldCwgcmF3ICkgewoJdmFyIGkgPSAwLAoJCWxlbiA9IGVsZW1zLmxlbmd0aCwKCQlidWxrID0ga2V5ID09IG51bGw7CgoJLy8gU2V0cyBtYW55IHZhbHVlcwoJaWYgKCB0b1R5cGUoIGtleSApID09PSAib2JqZWN0IiApIHsKCQljaGFpbmFibGUgPSB0cnVlOwoJCWZvciAoIGkgaW4ga2V5ICkgewoJCQlhY2Nlc3MoIGVsZW1zLCBmbiwgaSwga2V5WyBpIF0sIHRydWUsIGVtcHR5R2V0LCByYXcgKTsKCQl9CgoJLy8gU2V0cyBvbmUgdmFsdWUKCX0gZWxzZSBpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7CgkJY2hhaW5hYmxlID0gdHJ1ZTsKCgkJaWYgKCAhaXNGdW5jdGlvbiggdmFsdWUgKSApIHsKCQkJcmF3ID0gdHJ1ZTsKCQl9CgoJCWlmICggYnVsayApIHsKCgkJCS8vIEJ1bGsgb3BlcmF0aW9ucyBydW4gYWdhaW5zdCB0aGUgZW50aXJlIHNldAoJCQlpZiAoIHJhdyApIHsKCQkJCWZuLmNhbGwoIGVsZW1zLCB2YWx1ZSApOwoJCQkJZm4gPSBudWxsOwoKCQkJLy8gLi4uZXhjZXB0IHdoZW4gZXhlY3V0aW5nIGZ1bmN0aW9uIHZhbHVlcwoJCQl9IGVsc2UgewoJCQkJYnVsayA9IGZuOwoJCQkJZm4gPSBmdW5jdGlvbiggZWxlbSwgX2tleSwgdmFsdWUgKSB7CgkJCQkJcmV0dXJuIGJ1bGsuY2FsbCggalF1ZXJ5KCBlbGVtICksIHZhbHVlICk7CgkJCQl9OwoJCQl9CgkJfQoKCQlpZiAoIGZuICkgewoJCQlmb3IgKCA7IGkgPCBsZW47IGkrKyApIHsKCQkJCWZuKAoJCQkJCWVsZW1zWyBpIF0sIGtleSwgcmF3ID8KCQkJCQkJdmFsdWUgOgoJCQkJCQl2YWx1ZS5jYWxsKCBlbGVtc1sgaSBdLCBpLCBmbiggZWxlbXNbIGkgXSwga2V5ICkgKQoJCQkJKTsKCQkJfQoJCX0KCX0KCglpZiAoIGNoYWluYWJsZSApIHsKCQlyZXR1cm4gZWxlbXM7Cgl9CgoJLy8gR2V0cwoJaWYgKCBidWxrICkgewoJCXJldHVybiBmbi5jYWxsKCBlbGVtcyApOwoJfQoKCXJldHVybiBsZW4gPyBmbiggZWxlbXNbIDAgXSwga2V5ICkgOiBlbXB0eUdldDsKfTsKCgovLyBNYXRjaGVzIGRhc2hlZCBzdHJpbmcgZm9yIGNhbWVsaXppbmcKdmFyIHJtc1ByZWZpeCA9IC9eLW1zLS8sCglyZGFzaEFscGhhID0gLy0oW2Etel0pL2c7CgovLyBVc2VkIGJ5IGNhbWVsQ2FzZSBhcyBjYWxsYmFjayB0byByZXBsYWNlKCkKZnVuY3Rpb24gZmNhbWVsQ2FzZSggX2FsbCwgbGV0dGVyICkgewoJcmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpOwp9CgovLyBDb252ZXJ0IGRhc2hlZCB0byBjYW1lbENhc2U7IHVzZWQgYnkgdGhlIGNzcyBhbmQgZGF0YSBtb2R1bGVzCi8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTUKLy8gTWljcm9zb2Z0IGZvcmdvdCB0byBodW1wIHRoZWlyIHZlbmRvciBwcmVmaXggKCM5NTcyKQpmdW5jdGlvbiBjYW1lbENhc2UoIHN0cmluZyApIHsKCXJldHVybiBzdHJpbmcucmVwbGFjZSggcm1zUHJlZml4LCAibXMtIiApLnJlcGxhY2UoIHJkYXNoQWxwaGEsIGZjYW1lbENhc2UgKTsKfQp2YXIgYWNjZXB0RGF0YSA9IGZ1bmN0aW9uKCBvd25lciApIHsKCgkvLyBBY2NlcHRzIG9ubHk6CgkvLyAgLSBOb2RlCgkvLyAgICAtIE5vZGUuRUxFTUVOVF9OT0RFCgkvLyAgICAtIE5vZGUuRE9DVU1FTlRfTk9ERQoJLy8gIC0gT2JqZWN0CgkvLyAgICAtIEFueQoJcmV0dXJuIG93bmVyLm5vZGVUeXBlID09PSAxIHx8IG93bmVyLm5vZGVUeXBlID09PSA5IHx8ICEoICtvd25lci5ub2RlVHlwZSApOwp9OwoKCgoKZnVuY3Rpb24gRGF0YSgpIHsKCXRoaXMuZXhwYW5kbyA9IGpRdWVyeS5leHBhbmRvICsgRGF0YS51aWQrKzsKfQoKRGF0YS51aWQgPSAxOwoKRGF0YS5wcm90b3R5cGUgPSB7CgoJY2FjaGU6IGZ1bmN0aW9uKCBvd25lciApIHsKCgkJLy8gQ2hlY2sgaWYgdGhlIG93bmVyIG9iamVjdCBhbHJlYWR5IGhhcyBhIGNhY2hlCgkJdmFyIHZhbHVlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdOwoKCQkvLyBJZiBub3QsIGNyZWF0ZSBvbmUKCQlpZiAoICF2YWx1ZSApIHsKCQkJdmFsdWUgPSB7fTsKCgkJCS8vIFdlIGNhbiBhY2NlcHQgZGF0YSBmb3Igbm9uLWVsZW1lbnQgbm9kZXMgaW4gbW9kZXJuIGJyb3dzZXJzLAoJCQkvLyBidXQgd2Ugc2hvdWxkIG5vdCwgc2VlICM4MzM1LgoJCQkvLyBBbHdheXMgcmV0dXJuIGFuIGVtcHR5IG9iamVjdC4KCQkJaWYgKCBhY2NlcHREYXRhKCBvd25lciApICkgewoKCQkJCS8vIElmIGl0IGlzIGEgbm9kZSB1bmxpa2VseSB0byBiZSBzdHJpbmdpZnktZWQgb3IgbG9vcGVkIG92ZXIKCQkJCS8vIHVzZSBwbGFpbiBhc3NpZ25tZW50CgkJCQlpZiAoIG93bmVyLm5vZGVUeXBlICkgewoJCQkJCW93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHZhbHVlOwoKCQkJCS8vIE90aGVyd2lzZSBzZWN1cmUgaXQgaW4gYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eQoJCQkJLy8gY29uZmlndXJhYmxlIG11c3QgYmUgdHJ1ZSB0byBhbGxvdyB0aGUgcHJvcGVydHkgdG8gYmUKCQkJCS8vIGRlbGV0ZWQgd2hlbiBkYXRhIGlzIHJlbW92ZWQKCQkJCX0gZWxzZSB7CgkJCQkJT2JqZWN0LmRlZmluZVByb3BlcnR5KCBvd25lciwgdGhpcy5leHBhbmRvLCB7CgkJCQkJCXZhbHVlOiB2YWx1ZSwKCQkJCQkJY29uZmlndXJhYmxlOiB0cnVlCgkJCQkJfSApOwoJCQkJfQoJCQl9CgkJfQoKCQlyZXR1cm4gdmFsdWU7Cgl9LAoJc2V0OiBmdW5jdGlvbiggb3duZXIsIGRhdGEsIHZhbHVlICkgewoJCXZhciBwcm9wLAoJCQljYWNoZSA9IHRoaXMuY2FjaGUoIG93bmVyICk7CgoJCS8vIEhhbmRsZTogWyBvd25lciwga2V5LCB2YWx1ZSBdIGFyZ3MKCQkvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpCgkJaWYgKCB0eXBlb2YgZGF0YSA9PT0gInN0cmluZyIgKSB7CgkJCWNhY2hlWyBjYW1lbENhc2UoIGRhdGEgKSBdID0gdmFsdWU7CgoJCS8vIEhhbmRsZTogWyBvd25lciwgeyBwcm9wZXJ0aWVzIH0gXSBhcmdzCgkJfSBlbHNlIHsKCgkJCS8vIENvcHkgdGhlIHByb3BlcnRpZXMgb25lLWJ5LW9uZSB0byB0aGUgY2FjaGUgb2JqZWN0CgkJCWZvciAoIHByb3AgaW4gZGF0YSApIHsKCQkJCWNhY2hlWyBjYW1lbENhc2UoIHByb3AgKSBdID0gZGF0YVsgcHJvcCBdOwoJCQl9CgkJfQoJCXJldHVybiBjYWNoZTsKCX0sCglnZXQ6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkgewoJCXJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/CgkJCXRoaXMuY2FjaGUoIG93bmVyICkgOgoKCQkJLy8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KQoJCQlvd25lclsgdGhpcy5leHBhbmRvIF0gJiYgb3duZXJbIHRoaXMuZXhwYW5kbyBdWyBjYW1lbENhc2UoIGtleSApIF07Cgl9LAoJYWNjZXNzOiBmdW5jdGlvbiggb3duZXIsIGtleSwgdmFsdWUgKSB7CgoJCS8vIEluIGNhc2VzIHdoZXJlIGVpdGhlcjoKCQkvLwoJCS8vICAgMS4gTm8ga2V5IHdhcyBzcGVjaWZpZWQKCQkvLyAgIDIuIEEgc3RyaW5nIGtleSB3YXMgc3BlY2lmaWVkLCBidXQgbm8gdmFsdWUgcHJvdmlkZWQKCQkvLwoJCS8vIFRha2UgdGhlICJyZWFkIiBwYXRoIGFuZCBhbGxvdyB0aGUgZ2V0IG1ldGhvZCB0byBkZXRlcm1pbmUKCQkvLyB3aGljaCB2YWx1ZSB0byByZXR1cm4sIHJlc3BlY3RpdmVseSBlaXRoZXI6CgkJLy8KCQkvLyAgIDEuIFRoZSBlbnRpcmUgY2FjaGUgb2JqZWN0CgkJLy8gICAyLiBUaGUgZGF0YSBzdG9yZWQgYXQgdGhlIGtleQoJCS8vCgkJaWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fAoJCQkJKCAoIGtleSAmJiB0eXBlb2Yga2V5ID09PSAic3RyaW5nIiApICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSApIHsKCgkJCXJldHVybiB0aGlzLmdldCggb3duZXIsIGtleSApOwoJCX0KCgkJLy8gV2hlbiB0aGUga2V5IGlzIG5vdCBhIHN0cmluZywgb3IgYm90aCBhIGtleSBhbmQgdmFsdWUKCQkvLyBhcmUgc3BlY2lmaWVkLCBzZXQgb3IgZXh0ZW5kIChleGlzdGluZyBvYmplY3RzKSB3aXRoIGVpdGhlcjoKCQkvLwoJCS8vICAgMS4gQW4gb2JqZWN0IG9mIHByb3BlcnRpZXMKCQkvLyAgIDIuIEEga2V5IGFuZCB2YWx1ZQoJCS8vCgkJdGhpcy5zZXQoIG93bmVyLCBrZXksIHZhbHVlICk7CgoJCS8vIFNpbmNlIHRoZSAic2V0IiBwYXRoIGNhbiBoYXZlIHR3byBwb3NzaWJsZSBlbnRyeSBwb2ludHMKCQkvLyByZXR1cm4gdGhlIGV4cGVjdGVkIGRhdGEgYmFzZWQgb24gd2hpY2ggcGF0aCB3YXMgdGFrZW5bKl0KCQlyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoga2V5OwoJfSwKCXJlbW92ZTogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7CgkJdmFyIGksCgkJCWNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdOwoKCQlpZiAoIGNhY2hlID09PSB1bmRlZmluZWQgKSB7CgkJCXJldHVybjsKCQl9CgoJCWlmICgga2V5ICE9PSB1bmRlZmluZWQgKSB7CgoJCQkvLyBTdXBwb3J0IGFycmF5IG9yIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2Yga2V5cwoJCQlpZiAoIEFycmF5LmlzQXJyYXkoIGtleSApICkgewoKCQkJCS8vIElmIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzLi4uCgkJCQkvLyBXZSBhbHdheXMgc2V0IGNhbWVsQ2FzZSBrZXlzLCBzbyByZW1vdmUgdGhhdC4KCQkJCWtleSA9IGtleS5tYXAoIGNhbWVsQ2FzZSApOwoJCQl9IGVsc2UgewoJCQkJa2V5ID0gY2FtZWxDYXNlKCBrZXkgKTsKCgkJCQkvLyBJZiBhIGtleSB3aXRoIHRoZSBzcGFjZXMgZXhpc3RzLCB1c2UgaXQuCgkJCQkvLyBPdGhlcndpc2UsIGNyZWF0ZSBhbiBhcnJheSBieSBtYXRjaGluZyBub24td2hpdGVzcGFjZQoJCQkJa2V5ID0ga2V5IGluIGNhY2hlID8KCQkJCQlbIGtleSBdIDoKCQkJCQkoIGtleS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdICk7CgkJCX0KCgkJCWkgPSBrZXkubGVuZ3RoOwoKCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQlkZWxldGUgY2FjaGVbIGtleVsgaSBdIF07CgkJCX0KCQl9CgoJCS8vIFJlbW92ZSB0aGUgZXhwYW5kbyBpZiB0aGVyZSdzIG5vIG1vcmUgZGF0YQoJCWlmICgga2V5ID09PSB1bmRlZmluZWQgfHwgalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICkgKSB7CgoJCQkvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1CgkJCS8vIFdlYmtpdCAmIEJsaW5rIHBlcmZvcm1hbmNlIHN1ZmZlcnMgd2hlbiBkZWxldGluZyBwcm9wZXJ0aWVzCgkJCS8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGluc3RlYWQKCQkJLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc4NjA3IChidWcgcmVzdHJpY3RlZCkKCQkJaWYgKCBvd25lci5ub2RlVHlwZSApIHsKCQkJCW93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDsKCQkJfSBlbHNlIHsKCQkJCWRlbGV0ZSBvd25lclsgdGhpcy5leHBhbmRvIF07CgkJCX0KCQl9Cgl9LAoJaGFzRGF0YTogZnVuY3Rpb24oIG93bmVyICkgewoJCXZhciBjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTsKCQlyZXR1cm4gY2FjaGUgIT09IHVuZGVmaW5lZCAmJiAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICk7Cgl9Cn07CnZhciBkYXRhUHJpdiA9IG5ldyBEYXRhKCk7Cgp2YXIgZGF0YVVzZXIgPSBuZXcgRGF0YSgpOwoKCgovLwlJbXBsZW1lbnRhdGlvbiBTdW1tYXJ5Ci8vCi8vCTEuIEVuZm9yY2UgQVBJIHN1cmZhY2UgYW5kIHNlbWFudGljIGNvbXBhdGliaWxpdHkgd2l0aCAxLjkueCBicmFuY2gKLy8JMi4gSW1wcm92ZSB0aGUgbW9kdWxlJ3MgbWFpbnRhaW5hYmlsaXR5IGJ5IHJlZHVjaW5nIHRoZSBzdG9yYWdlCi8vCQlwYXRocyB0byBhIHNpbmdsZSBtZWNoYW5pc20uCi8vCTMuIFVzZSB0aGUgc2FtZSBzaW5nbGUgbWVjaGFuaXNtIHRvIHN1cHBvcnQgInByaXZhdGUiIGFuZCAidXNlciIgZGF0YS4KLy8JNC4gX05ldmVyXyBleHBvc2UgInByaXZhdGUiIGRhdGEgdG8gdXNlciBjb2RlIChUT0RPOiBEcm9wIF9kYXRhLCBfcmVtb3ZlRGF0YSkKLy8JNS4gQXZvaWQgZXhwb3NpbmcgaW1wbGVtZW50YXRpb24gZGV0YWlscyBvbiB1c2VyIG9iamVjdHMgKGVnLiBleHBhbmRvIHByb3BlcnRpZXMpCi8vCTYuIFByb3ZpZGUgYSBjbGVhciBwYXRoIGZvciBpbXBsZW1lbnRhdGlvbiB1cGdyYWRlIHRvIFdlYWtNYXAgaW4gMjAxNAoKdmFyIHJicmFjZSA9IC9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8sCglybXVsdGlEYXNoID0gL1tBLVpdL2c7CgpmdW5jdGlvbiBnZXREYXRhKCBkYXRhICkgewoJaWYgKCBkYXRhID09PSAidHJ1ZSIgKSB7CgkJcmV0dXJuIHRydWU7Cgl9CgoJaWYgKCBkYXRhID09PSAiZmFsc2UiICkgewoJCXJldHVybiBmYWxzZTsKCX0KCglpZiAoIGRhdGEgPT09ICJudWxsIiApIHsKCQlyZXR1cm4gbnVsbDsKCX0KCgkvLyBPbmx5IGNvbnZlcnQgdG8gYSBudW1iZXIgaWYgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIHN0cmluZwoJaWYgKCBkYXRhID09PSArZGF0YSArICIiICkgewoJCXJldHVybiArZGF0YTsKCX0KCglpZiAoIHJicmFjZS50ZXN0KCBkYXRhICkgKSB7CgkJcmV0dXJuIEpTT04ucGFyc2UoIGRhdGEgKTsKCX0KCglyZXR1cm4gZGF0YTsKfQoKZnVuY3Rpb24gZGF0YUF0dHIoIGVsZW0sIGtleSwgZGF0YSApIHsKCXZhciBuYW1lOwoKCS8vIElmIG5vdGhpbmcgd2FzIGZvdW5kIGludGVybmFsbHksIHRyeSB0byBmZXRjaCBhbnkKCS8vIGRhdGEgZnJvbSB0aGUgSFRNTDUgZGF0YS0qIGF0dHJpYnV0ZQoJaWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHsKCQluYW1lID0gImRhdGEtIiArIGtleS5yZXBsYWNlKCBybXVsdGlEYXNoLCAiLSQmIiApLnRvTG93ZXJDYXNlKCk7CgkJZGF0YSA9IGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICk7CgoJCWlmICggdHlwZW9mIGRhdGEgPT09ICJzdHJpbmciICkgewoJCQl0cnkgewoJCQkJZGF0YSA9IGdldERhdGEoIGRhdGEgKTsKCQkJfSBjYXRjaCAoIGUgKSB7fQoKCQkJLy8gTWFrZSBzdXJlIHdlIHNldCB0aGUgZGF0YSBzbyBpdCBpc24ndCBjaGFuZ2VkIGxhdGVyCgkJCWRhdGFVc2VyLnNldCggZWxlbSwga2V5LCBkYXRhICk7CgkJfSBlbHNlIHsKCQkJZGF0YSA9IHVuZGVmaW5lZDsKCQl9Cgl9CglyZXR1cm4gZGF0YTsKfQoKalF1ZXJ5LmV4dGVuZCggewoJaGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7CgkJcmV0dXJuIGRhdGFVc2VyLmhhc0RhdGEoIGVsZW0gKSB8fCBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICk7Cgl9LAoKCWRhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkgewoJCXJldHVybiBkYXRhVXNlci5hY2Nlc3MoIGVsZW0sIG5hbWUsIGRhdGEgKTsKCX0sCgoJcmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7CgkJZGF0YVVzZXIucmVtb3ZlKCBlbGVtLCBuYW1lICk7Cgl9LAoKCS8vIFRPRE86IE5vdyB0aGF0IGFsbCBjYWxscyB0byBfZGF0YSBhbmQgX3JlbW92ZURhdGEgaGF2ZSBiZWVuIHJlcGxhY2VkCgkvLyB3aXRoIGRpcmVjdCBjYWxscyB0byBkYXRhUHJpdiBtZXRob2RzLCB0aGVzZSBjYW4gYmUgZGVwcmVjYXRlZC4KCV9kYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHsKCQlyZXR1cm4gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7Cgl9LAoKCV9yZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHsKCQlkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIG5hbWUgKTsKCX0KfSApOwoKalF1ZXJ5LmZuLmV4dGVuZCggewoJZGF0YTogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7CgkJdmFyIGksIG5hbWUsIGRhdGEsCgkJCWVsZW0gPSB0aGlzWyAwIF0sCgkJCWF0dHJzID0gZWxlbSAmJiBlbGVtLmF0dHJpYnV0ZXM7CgoJCS8vIEdldHMgYWxsIHZhbHVlcwoJCWlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7CgkJCWlmICggdGhpcy5sZW5ndGggKSB7CgkJCQlkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtICk7CgoJCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICFkYXRhUHJpdi5nZXQoIGVsZW0sICJoYXNEYXRhQXR0cnMiICkgKSB7CgkJCQkJaSA9IGF0dHJzLmxlbmd0aDsKCQkJCQl3aGlsZSAoIGktLSApIHsKCgkJCQkJCS8vIFN1cHBvcnQ6IElFIDExIG9ubHkKCQkJCQkJLy8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICgjMTQ4OTQpCgkJCQkJCWlmICggYXR0cnNbIGkgXSApIHsKCQkJCQkJCW5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7CgkJCQkJCQlpZiAoIG5hbWUuaW5kZXhPZiggImRhdGEtIiApID09PSAwICkgewoJCQkJCQkJCW5hbWUgPSBjYW1lbENhc2UoIG5hbWUuc2xpY2UoIDUgKSApOwoJCQkJCQkJCWRhdGFBdHRyKCBlbGVtLCBuYW1lLCBkYXRhWyBuYW1lIF0gKTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0KCQkJCQlkYXRhUHJpdi5zZXQoIGVsZW0sICJoYXNEYXRhQXR0cnMiLCB0cnVlICk7CgkJCQl9CgkJCX0KCgkJCXJldHVybiBkYXRhOwoJCX0KCgkJLy8gU2V0cyBtdWx0aXBsZSB2YWx1ZXMKCQlpZiAoIHR5cGVvZiBrZXkgPT09ICJvYmplY3QiICkgewoJCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHsKCQkJCWRhdGFVc2VyLnNldCggdGhpcywga2V5ICk7CgkJCX0gKTsKCQl9CgoJCXJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHsKCQkJdmFyIGRhdGE7CgoJCQkvLyBUaGUgY2FsbGluZyBqUXVlcnkgb2JqZWN0IChlbGVtZW50IG1hdGNoZXMpIGlzIG5vdCBlbXB0eQoJCQkvLyAoYW5kIHRoZXJlZm9yZSBoYXMgYW4gZWxlbWVudCBhcHBlYXJzIGF0IHRoaXNbIDAgXSkgYW5kIHRoZQoJCQkvLyBgdmFsdWVgIHBhcmFtZXRlciB3YXMgbm90IHVuZGVmaW5lZC4gQW4gZW1wdHkgalF1ZXJ5IG9iamVjdAoJCQkvLyB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBmb3IgZWxlbSA9IHRoaXNbIDAgXSB3aGljaCB3aWxsCgkJCS8vIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhbiBhdHRlbXB0IHRvIHJlYWQgYSBkYXRhIGNhY2hlIGlzIG1hZGUuCgkJCWlmICggZWxlbSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkgewoKCQkJCS8vIEF0dGVtcHQgdG8gZ2V0IGRhdGEgZnJvbSB0aGUgY2FjaGUKCQkJCS8vIFRoZSBrZXkgd2lsbCBhbHdheXMgYmUgY2FtZWxDYXNlZCBpbiBEYXRhCgkJCQlkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtLCBrZXkgKTsKCQkJCWlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkgewoJCQkJCXJldHVybiBkYXRhOwoJCQkJfQoKCQkJCS8vIEF0dGVtcHQgdG8gImRpc2NvdmVyIiB0aGUgZGF0YSBpbgoJCQkJLy8gSFRNTDUgY3VzdG9tIGRhdGEtKiBhdHRycwoJCQkJZGF0YSA9IGRhdGFBdHRyKCBlbGVtLCBrZXkgKTsKCQkJCWlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkgewoJCQkJCXJldHVybiBkYXRhOwoJCQkJfQoKCQkJCS8vIFdlIHRyaWVkIHJlYWxseSBoYXJkLCBidXQgdGhlIGRhdGEgZG9lc24ndCBleGlzdC4KCQkJCXJldHVybjsKCQkJfQoKCQkJLy8gU2V0IHRoZSBkYXRhLi4uCgkJCXRoaXMuZWFjaCggZnVuY3Rpb24oKSB7CgoJCQkJLy8gV2UgYWx3YXlzIHN0b3JlIHRoZSBjYW1lbENhc2VkIGtleQoJCQkJZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXksIHZhbHVlICk7CgkJCX0gKTsKCQl9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEsIG51bGwsIHRydWUgKTsKCX0sCgoJcmVtb3ZlRGF0YTogZnVuY3Rpb24oIGtleSApIHsKCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHsKCQkJZGF0YVVzZXIucmVtb3ZlKCB0aGlzLCBrZXkgKTsKCQl9ICk7Cgl9Cn0gKTsKCgpqUXVlcnkuZXh0ZW5kKCB7CglxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGRhdGEgKSB7CgkJdmFyIHF1ZXVlOwoKCQlpZiAoIGVsZW0gKSB7CgkJCXR5cGUgPSAoIHR5cGUgfHwgImZ4IiApICsgInF1ZXVlIjsKCQkJcXVldWUgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIHR5cGUgKTsKCgkJCS8vIFNwZWVkIHVwIGRlcXVldWUgYnkgZ2V0dGluZyBvdXQgcXVpY2tseSBpZiB0aGlzIGlzIGp1c3QgYSBsb29rdXAKCQkJaWYgKCBkYXRhICkgewoJCQkJaWYgKCAhcXVldWUgfHwgQXJyYXkuaXNBcnJheSggZGF0YSApICkgewoJCQkJCXF1ZXVlID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCB0eXBlLCBqUXVlcnkubWFrZUFycmF5KCBkYXRhICkgKTsKCQkJCX0gZWxzZSB7CgkJCQkJcXVldWUucHVzaCggZGF0YSApOwoJCQkJfQoJCQl9CgkJCXJldHVybiBxdWV1ZSB8fCBbXTsKCQl9Cgl9LAoKCWRlcXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkgewoJCXR5cGUgPSB0eXBlIHx8ICJmeCI7CgoJCXZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggZWxlbSwgdHlwZSApLAoJCQlzdGFydExlbmd0aCA9IHF1ZXVlLmxlbmd0aCwKCQkJZm4gPSBxdWV1ZS5zaGlmdCgpLAoJCQlob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgdHlwZSApLAoJCQluZXh0ID0gZnVuY3Rpb24oKSB7CgkJCQlqUXVlcnkuZGVxdWV1ZSggZWxlbSwgdHlwZSApOwoJCQl9OwoKCQkvLyBJZiB0aGUgZnggcXVldWUgaXMgZGVxdWV1ZWQsIGFsd2F5cyByZW1vdmUgdGhlIHByb2dyZXNzIHNlbnRpbmVsCgkJaWYgKCBmbiA9PT0gImlucHJvZ3Jlc3MiICkgewoJCQlmbiA9IHF1ZXVlLnNoaWZ0KCk7CgkJCXN0YXJ0TGVuZ3RoLS07CgkJfQoKCQlpZiAoIGZuICkgewoKCQkJLy8gQWRkIGEgcHJvZ3Jlc3Mgc2VudGluZWwgdG8gcHJldmVudCB0aGUgZnggcXVldWUgZnJvbSBiZWluZwoJCQkvLyBhdXRvbWF0aWNhbGx5IGRlcXVldWVkCgkJCWlmICggdHlwZSA9PT0gImZ4IiApIHsKCQkJCXF1ZXVlLnVuc2hpZnQoICJpbnByb2dyZXNzIiApOwoJCQl9CgoJCQkvLyBDbGVhciB1cCB0aGUgbGFzdCBxdWV1ZSBzdG9wIGZ1bmN0aW9uCgkJCWRlbGV0ZSBob29rcy5zdG9wOwoJCQlmbi5jYWxsKCBlbGVtLCBuZXh0LCBob29rcyApOwoJCX0KCgkJaWYgKCAhc3RhcnRMZW5ndGggJiYgaG9va3MgKSB7CgkJCWhvb2tzLmVtcHR5LmZpcmUoKTsKCQl9Cgl9LAoKCS8vIE5vdCBwdWJsaWMgLSBnZW5lcmF0ZSBhIHF1ZXVlSG9va3Mgb2JqZWN0LCBvciByZXR1cm4gdGhlIGN1cnJlbnQgb25lCglfcXVldWVIb29rczogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7CgkJdmFyIGtleSA9IHR5cGUgKyAicXVldWVIb29rcyI7CgkJcmV0dXJuIGRhdGFQcml2LmdldCggZWxlbSwga2V5ICkgfHwgZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBrZXksIHsKCQkJZW1wdHk6IGpRdWVyeS5DYWxsYmFja3MoICJvbmNlIG1lbW9yeSIgKS5hZGQoIGZ1bmN0aW9uKCkgewoJCQkJZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBbIHR5cGUgKyAicXVldWUiLCBrZXkgXSApOwoJCQl9ICkKCQl9ICk7Cgl9Cn0gKTsKCmpRdWVyeS5mbi5leHRlbmQoIHsKCXF1ZXVlOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHsKCQl2YXIgc2V0dGVyID0gMjsKCgkJaWYgKCB0eXBlb2YgdHlwZSAhPT0gInN0cmluZyIgKSB7CgkJCWRhdGEgPSB0eXBlOwoJCQl0eXBlID0gImZ4IjsKCQkJc2V0dGVyLS07CgkJfQoKCQlpZiAoIGFyZ3VtZW50cy5sZW5ndGggPCBzZXR0ZXIgKSB7CgkJCXJldHVybiBqUXVlcnkucXVldWUoIHRoaXNbIDAgXSwgdHlwZSApOwoJCX0KCgkJcmV0dXJuIGRhdGEgPT09IHVuZGVmaW5lZCA/CgkJCXRoaXMgOgoJCQl0aGlzLmVhY2goIGZ1bmN0aW9uKCkgewoJCQkJdmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBkYXRhICk7CgoJCQkJLy8gRW5zdXJlIGEgaG9va3MgZm9yIHRoaXMgcXVldWUKCQkJCWpRdWVyeS5fcXVldWVIb29rcyggdGhpcywgdHlwZSApOwoKCQkJCWlmICggdHlwZSA9PT0gImZ4IiAmJiBxdWV1ZVsgMCBdICE9PSAiaW5wcm9ncmVzcyIgKSB7CgkJCQkJalF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTsKCQkJCX0KCQkJfSApOwoJfSwKCWRlcXVldWU6IGZ1bmN0aW9uKCB0eXBlICkgewoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgewoJCQlqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApOwoJCX0gKTsKCX0sCgljbGVhclF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHsKCQlyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSB8fCAiZngiLCBbXSApOwoJfSwKCgkvLyBHZXQgYSBwcm9taXNlIHJlc29sdmVkIHdoZW4gcXVldWVzIG9mIGEgY2VydGFpbiB0eXBlCgkvLyBhcmUgZW1wdGllZCAoZnggaXMgdGhlIHR5cGUgYnkgZGVmYXVsdCkKCXByb21pc2U6IGZ1bmN0aW9uKCB0eXBlLCBvYmogKSB7CgkJdmFyIHRtcCwKCQkJY291bnQgPSAxLAoJCQlkZWZlciA9IGpRdWVyeS5EZWZlcnJlZCgpLAoJCQllbGVtZW50cyA9IHRoaXMsCgkJCWkgPSB0aGlzLmxlbmd0aCwKCQkJcmVzb2x2ZSA9IGZ1bmN0aW9uKCkgewoJCQkJaWYgKCAhKCAtLWNvdW50ICkgKSB7CgkJCQkJZGVmZXIucmVzb2x2ZVdpdGgoIGVsZW1lbnRzLCBbIGVsZW1lbnRzIF0gKTsKCQkJCX0KCQkJfTsKCgkJaWYgKCB0eXBlb2YgdHlwZSAhPT0gInN0cmluZyIgKSB7CgkJCW9iaiA9IHR5cGU7CgkJCXR5cGUgPSB1bmRlZmluZWQ7CgkJfQoJCXR5cGUgPSB0eXBlIHx8ICJmeCI7CgoJCXdoaWxlICggaS0tICkgewoJCQl0bXAgPSBkYXRhUHJpdi5nZXQoIGVsZW1lbnRzWyBpIF0sIHR5cGUgKyAicXVldWVIb29rcyIgKTsKCQkJaWYgKCB0bXAgJiYgdG1wLmVtcHR5ICkgewoJCQkJY291bnQrKzsKCQkJCXRtcC5lbXB0eS5hZGQoIHJlc29sdmUgKTsKCQkJfQoJCX0KCQlyZXNvbHZlKCk7CgkJcmV0dXJuIGRlZmVyLnByb21pc2UoIG9iaiApOwoJfQp9ICk7CnZhciBwbnVtID0gKCAvWystXT8oPzpcZCpcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvICkuc291cmNlOwoKdmFyIHJjc3NOdW0gPSBuZXcgUmVnRXhwKCAiXig/OihbKy1dKT18KSgiICsgcG51bSArICIpKFthLXolXSopJCIsICJpIiApOwoKCnZhciBjc3NFeHBhbmQgPSBbICJUb3AiLCAiUmlnaHQiLCAiQm90dG9tIiwgIkxlZnQiIF07Cgp2YXIgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwoKCgoJdmFyIGlzQXR0YWNoZWQgPSBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7CgkJfSwKCQljb21wb3NlZCA9IHsgY29tcG9zZWQ6IHRydWUgfTsKCgkvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDEyIC0gMTgrLCBpT1MgMTAuMCAtIDEwLjIgb25seQoJLy8gQ2hlY2sgYXR0YWNobWVudCBhY3Jvc3Mgc2hhZG93IERPTSBib3VuZGFyaWVzIHdoZW4gcG9zc2libGUgKGdoLTM1MDQpCgkvLyBTdXBwb3J0OiBpT1MgMTAuMC0xMC4yIG9ubHkKCS8vIEVhcmx5IGlPUyAxMCB2ZXJzaW9ucyBzdXBwb3J0IGBhdHRhY2hTaGFkb3dgIGJ1dCBub3QgYGdldFJvb3ROb2RlYCwKCS8vIGxlYWRpbmcgdG8gZXJyb3JzLiBXZSBuZWVkIHRvIGNoZWNrIGZvciBgZ2V0Um9vdE5vZGVgLgoJaWYgKCBkb2N1bWVudEVsZW1lbnQuZ2V0Um9vdE5vZGUgKSB7CgkJaXNBdHRhY2hlZCA9IGZ1bmN0aW9uKCBlbGVtICkgewoJCQlyZXR1cm4galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSB8fAoJCQkJZWxlbS5nZXRSb290Tm9kZSggY29tcG9zZWQgKSA9PT0gZWxlbS5vd25lckRvY3VtZW50OwoJCX07Cgl9CnZhciBpc0hpZGRlbldpdGhpblRyZWUgPSBmdW5jdGlvbiggZWxlbSwgZWwgKSB7CgoJCS8vIGlzSGlkZGVuV2l0aGluVHJlZSBtaWdodCBiZSBjYWxsZWQgZnJvbSBqUXVlcnkjZmlsdGVyIGZ1bmN0aW9uOwoJCS8vIGluIHRoYXQgY2FzZSwgZWxlbWVudCB3aWxsIGJlIHNlY29uZCBhcmd1bWVudAoJCWVsZW0gPSBlbCB8fCBlbGVtOwoKCQkvLyBJbmxpbmUgc3R5bGUgdHJ1bXBzIGFsbAoJCXJldHVybiBlbGVtLnN0eWxlLmRpc3BsYXkgPT09ICJub25lIiB8fAoJCQllbGVtLnN0eWxlLmRpc3BsYXkgPT09ICIiICYmCgoJCQkvLyBPdGhlcndpc2UsIGNoZWNrIGNvbXB1dGVkIHN0eWxlCgkJCS8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MyAtIDQ1CgkJCS8vIERpc2Nvbm5lY3RlZCBlbGVtZW50cyBjYW4gaGF2ZSBjb21wdXRlZCBkaXNwbGF5OiBub25lLCBzbyBmaXJzdCBjb25maXJtIHRoYXQgZWxlbSBpcwoJCQkvLyBpbiB0aGUgZG9jdW1lbnQuCgkJCWlzQXR0YWNoZWQoIGVsZW0gKSAmJgoKCQkJalF1ZXJ5LmNzcyggZWxlbSwgImRpc3BsYXkiICkgPT09ICJub25lIjsKCX07CgoKCmZ1bmN0aW9uIGFkanVzdENTUyggZWxlbSwgcHJvcCwgdmFsdWVQYXJ0cywgdHdlZW4gKSB7Cgl2YXIgYWRqdXN0ZWQsIHNjYWxlLAoJCW1heEl0ZXJhdGlvbnMgPSAyMCwKCQljdXJyZW50VmFsdWUgPSB0d2VlbiA/CgkJCWZ1bmN0aW9uKCkgewoJCQkJcmV0dXJuIHR3ZWVuLmN1cigpOwoJCQl9IDoKCQkJZnVuY3Rpb24oKSB7CgkJCQlyZXR1cm4galF1ZXJ5LmNzcyggZWxlbSwgcHJvcCwgIiIgKTsKCQkJfSwKCQlpbml0aWFsID0gY3VycmVudFZhbHVlKCksCgkJdW5pdCA9IHZhbHVlUGFydHMgJiYgdmFsdWVQYXJ0c1sgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gIiIgOiAicHgiICksCgoJCS8vIFN0YXJ0aW5nIHZhbHVlIGNvbXB1dGF0aW9uIGlzIHJlcXVpcmVkIGZvciBwb3RlbnRpYWwgdW5pdCBtaXNtYXRjaGVzCgkJaW5pdGlhbEluVW5pdCA9IGVsZW0ubm9kZVR5cGUgJiYKCQkJKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gfHwgdW5pdCAhPT0gInB4IiAmJiAraW5pdGlhbCApICYmCgkJCXJjc3NOdW0uZXhlYyggalF1ZXJ5LmNzcyggZWxlbSwgcHJvcCApICk7CgoJaWYgKCBpbml0aWFsSW5Vbml0ICYmIGluaXRpYWxJblVuaXRbIDMgXSAhPT0gdW5pdCApIHsKCgkJLy8gU3VwcG9ydDogRmlyZWZveCA8PTU0CgkJLy8gSGFsdmUgdGhlIGl0ZXJhdGlvbiB0YXJnZXQgdmFsdWUgdG8gcHJldmVudCBpbnRlcmZlcmVuY2UgZnJvbSBDU1MgdXBwZXIgYm91bmRzIChnaC0yMTQ0KQoJCWluaXRpYWwgPSBpbml0aWFsIC8gMjsKCgkJLy8gVHJ1c3QgdW5pdHMgcmVwb3J0ZWQgYnkgalF1ZXJ5LmNzcwoJCXVuaXQgPSB1bml0IHx8IGluaXRpYWxJblVuaXRbIDMgXTsKCgkJLy8gSXRlcmF0aXZlbHkgYXBwcm94aW1hdGUgZnJvbSBhIG5vbnplcm8gc3RhcnRpbmcgcG9pbnQKCQlpbml0aWFsSW5Vbml0ID0gK2luaXRpYWwgfHwgMTsKCgkJd2hpbGUgKCBtYXhJdGVyYXRpb25zLS0gKSB7CgoJCQkvLyBFdmFsdWF0ZSBhbmQgdXBkYXRlIG91ciBiZXN0IGd1ZXNzIChkb3VibGluZyBndWVzc2VzIHRoYXQgemVybyBvdXQpLgoJCQkvLyBGaW5pc2ggaWYgdGhlIHNjYWxlIGVxdWFscyBvciBjcm9zc2VzIDEgKG1ha2luZyB0aGUgb2xkKm5ldyBwcm9kdWN0IG5vbi1wb3NpdGl2ZSkuCgkJCWpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQgKTsKCQkJaWYgKCAoIDEgLSBzY2FsZSApICogKCAxIC0gKCBzY2FsZSA9IGN1cnJlbnRWYWx1ZSgpIC8gaW5pdGlhbCB8fCAwLjUgKSApIDw9IDAgKSB7CgkJCQltYXhJdGVyYXRpb25zID0gMDsKCQkJfQoJCQlpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAvIHNjYWxlOwoKCQl9CgoJCWluaXRpYWxJblVuaXQgPSBpbml0aWFsSW5Vbml0ICogMjsKCQlqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIGluaXRpYWxJblVuaXQgKyB1bml0ICk7CgoJCS8vIE1ha2Ugc3VyZSB3ZSB1cGRhdGUgdGhlIHR3ZWVuIHByb3BlcnRpZXMgbGF0ZXIgb24KCQl2YWx1ZVBhcnRzID0gdmFsdWVQYXJ0cyB8fCBbXTsKCX0KCglpZiAoIHZhbHVlUGFydHMgKSB7CgkJaW5pdGlhbEluVW5pdCA9ICtpbml0aWFsSW5Vbml0IHx8ICtpbml0aWFsIHx8IDA7CgoJCS8vIEFwcGx5IHJlbGF0aXZlIG9mZnNldCAoKz0vLT0pIGlmIHNwZWNpZmllZAoJCWFkanVzdGVkID0gdmFsdWVQYXJ0c1sgMSBdID8KCQkJaW5pdGlhbEluVW5pdCArICggdmFsdWVQYXJ0c1sgMSBdICsgMSApICogdmFsdWVQYXJ0c1sgMiBdIDoKCQkJK3ZhbHVlUGFydHNbIDIgXTsKCQlpZiAoIHR3ZWVuICkgewoJCQl0d2Vlbi51bml0ID0gdW5pdDsKCQkJdHdlZW4uc3RhcnQgPSBpbml0aWFsSW5Vbml0OwoJCQl0d2Vlbi5lbmQgPSBhZGp1c3RlZDsKCQl9Cgl9CglyZXR1cm4gYWRqdXN0ZWQ7Cn0KCgp2YXIgZGVmYXVsdERpc3BsYXlNYXAgPSB7fTsKCmZ1bmN0aW9uIGdldERlZmF1bHREaXNwbGF5KCBlbGVtICkgewoJdmFyIHRlbXAsCgkJZG9jID0gZWxlbS5vd25lckRvY3VtZW50LAoJCW5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZSwKCQlkaXNwbGF5ID0gZGVmYXVsdERpc3BsYXlNYXBbIG5vZGVOYW1lIF07CgoJaWYgKCBkaXNwbGF5ICkgewoJCXJldHVybiBkaXNwbGF5OwoJfQoKCXRlbXAgPSBkb2MuYm9keS5hcHBlbmRDaGlsZCggZG9jLmNyZWF0ZUVsZW1lbnQoIG5vZGVOYW1lICkgKTsKCWRpc3BsYXkgPSBqUXVlcnkuY3NzKCB0ZW1wLCAiZGlzcGxheSIgKTsKCgl0ZW1wLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHRlbXAgKTsKCglpZiAoIGRpc3BsYXkgPT09ICJub25lIiApIHsKCQlkaXNwbGF5ID0gImJsb2NrIjsKCX0KCWRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdID0gZGlzcGxheTsKCglyZXR1cm4gZGlzcGxheTsKfQoKZnVuY3Rpb24gc2hvd0hpZGUoIGVsZW1lbnRzLCBzaG93ICkgewoJdmFyIGRpc3BsYXksIGVsZW0sCgkJdmFsdWVzID0gW10sCgkJaW5kZXggPSAwLAoJCWxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDsKCgkvLyBEZXRlcm1pbmUgbmV3IGRpc3BsYXkgdmFsdWUgZm9yIGVsZW1lbnRzIHRoYXQgbmVlZCB0byBjaGFuZ2UKCWZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7CgkJZWxlbSA9IGVsZW1lbnRzWyBpbmRleCBdOwoJCWlmICggIWVsZW0uc3R5bGUgKSB7CgkJCWNvbnRpbnVlOwoJCX0KCgkJZGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheTsKCQlpZiAoIHNob3cgKSB7CgoJCQkvLyBTaW5jZSB3ZSBmb3JjZSB2aXNpYmlsaXR5IHVwb24gY2FzY2FkZS1oaWRkZW4gZWxlbWVudHMsIGFuIGltbWVkaWF0ZSAoYW5kIHNsb3cpCgkJCS8vIGNoZWNrIGlzIHJlcXVpcmVkIGluIHRoaXMgZmlyc3QgbG9vcCB1bmxlc3Mgd2UgaGF2ZSBhIG5vbmVtcHR5IGRpc3BsYXkgdmFsdWUgKGVpdGhlcgoJCQkvLyBpbmxpbmUgb3IgYWJvdXQtdG8tYmUtcmVzdG9yZWQpCgkJCWlmICggZGlzcGxheSA9PT0gIm5vbmUiICkgewoJCQkJdmFsdWVzWyBpbmRleCBdID0gZGF0YVByaXYuZ2V0KCBlbGVtLCAiZGlzcGxheSIgKSB8fCBudWxsOwoJCQkJaWYgKCAhdmFsdWVzWyBpbmRleCBdICkgewoJCQkJCWVsZW0uc3R5bGUuZGlzcGxheSA9ICIiOwoJCQkJfQoJCQl9CgkJCWlmICggZWxlbS5zdHlsZS5kaXNwbGF5ID09PSAiIiAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSApIHsKCQkJCXZhbHVlc1sgaW5kZXggXSA9IGdldERlZmF1bHREaXNwbGF5KCBlbGVtICk7CgkJCX0KCQl9IGVsc2UgewoJCQlpZiAoIGRpc3BsYXkgIT09ICJub25lIiApIHsKCQkJCXZhbHVlc1sgaW5kZXggXSA9ICJub25lIjsKCgkJCQkvLyBSZW1lbWJlciB3aGF0IHdlJ3JlIG92ZXJ3cml0aW5nCgkJCQlkYXRhUHJpdi5zZXQoIGVsZW0sICJkaXNwbGF5IiwgZGlzcGxheSApOwoJCQl9CgkJfQoJfQoKCS8vIFNldCB0aGUgZGlzcGxheSBvZiB0aGUgZWxlbWVudHMgaW4gYSBzZWNvbmQgbG9vcCB0byBhdm9pZCBjb25zdGFudCByZWZsb3cKCWZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7CgkJaWYgKCB2YWx1ZXNbIGluZGV4IF0gIT0gbnVsbCApIHsKCQkJZWxlbWVudHNbIGluZGV4IF0uc3R5bGUuZGlzcGxheSA9IHZhbHVlc1sgaW5kZXggXTsKCQl9Cgl9CgoJcmV0dXJuIGVsZW1lbnRzOwp9CgpqUXVlcnkuZm4uZXh0ZW5kKCB7CglzaG93OiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gc2hvd0hpZGUoIHRoaXMsIHRydWUgKTsKCX0sCgloaWRlOiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gc2hvd0hpZGUoIHRoaXMgKTsKCX0sCgl0b2dnbGU6IGZ1bmN0aW9uKCBzdGF0ZSApIHsKCQlpZiAoIHR5cGVvZiBzdGF0ZSA9PT0gImJvb2xlYW4iICkgewoJCQlyZXR1cm4gc3RhdGUgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpOwoJCX0KCgkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7CgkJCWlmICggaXNIaWRkZW5XaXRoaW5UcmVlKCB0aGlzICkgKSB7CgkJCQlqUXVlcnkoIHRoaXMgKS5zaG93KCk7CgkJCX0gZWxzZSB7CgkJCQlqUXVlcnkoIHRoaXMgKS5oaWRlKCk7CgkJCX0KCQl9ICk7Cgl9Cn0gKTsKdmFyIHJjaGVja2FibGVUeXBlID0gKCAvXig/OmNoZWNrYm94fHJhZGlvKSQvaSApOwoKdmFyIHJ0YWdOYW1lID0gKCAvPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSApOwoKdmFyIHJzY3JpcHRUeXBlID0gKCAvXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2kgKTsKCgoKKCBmdW5jdGlvbigpIHsKCXZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwKCQlkaXYgPSBmcmFnbWVudC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImRpdiIgKSApLAoJCWlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImlucHV0IiApOwoKCS8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHkKCS8vIENoZWNrIHN0YXRlIGxvc3QgaWYgdGhlIG5hbWUgaXMgc2V0ICgjMTEyMTcpCgkvLyBTdXBwb3J0OiBXaW5kb3dzIFdlYiBBcHBzIChXV0EpCgkvLyBgbmFtZWAgYW5kIGB0eXBlYCBtdXN0IHVzZSAuc2V0QXR0cmlidXRlIGZvciBXV0EgKCMxNDkwMSkKCWlucHV0LnNldEF0dHJpYnV0ZSggInR5cGUiLCAicmFkaW8iICk7CglpbnB1dC5zZXRBdHRyaWJ1dGUoICJjaGVja2VkIiwgImNoZWNrZWQiICk7CglpbnB1dC5zZXRBdHRyaWJ1dGUoICJuYW1lIiwgInQiICk7CgoJZGl2LmFwcGVuZENoaWxkKCBpbnB1dCApOwoKCS8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjEgb25seQoJLy8gT2xkZXIgV2ViS2l0IGRvZXNuJ3QgY2xvbmUgY2hlY2tlZCBzdGF0ZSBjb3JyZWN0bHkgaW4gZnJhZ21lbnRzCglzdXBwb3J0LmNoZWNrQ2xvbmUgPSBkaXYuY2xvbmVOb2RlKCB0cnVlICkuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmNoZWNrZWQ7CgoJLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5CgkvLyBNYWtlIHN1cmUgdGV4dGFyZWEgKGFuZCBjaGVja2JveCkgZGVmYXVsdFZhbHVlIGlzIHByb3Blcmx5IGNsb25lZAoJZGl2LmlubmVySFRNTCA9ICI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IjsKCXN1cHBvcnQubm9DbG9uZUNoZWNrZWQgPSAhIWRpdi5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlOwoKCS8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5CgkvLyBJRSA8PTkgcmVwbGFjZXMgPG9wdGlvbj4gdGFncyB3aXRoIHRoZWlyIGNvbnRlbnRzIHdoZW4gaW5zZXJ0ZWQgb3V0c2lkZSBvZgoJLy8gdGhlIHNlbGVjdCBlbGVtZW50LgoJZGl2LmlubmVySFRNTCA9ICI8b3B0aW9uPjwvb3B0aW9uPiI7CglzdXBwb3J0Lm9wdGlvbiA9ICEhZGl2Lmxhc3RDaGlsZDsKfSApKCk7CgoKLy8gV2UgaGF2ZSB0byBjbG9zZSB0aGVzZSB0YWdzIHRvIHN1cHBvcnQgWEhUTUwgKCMxMzIwMCkKdmFyIHdyYXBNYXAgPSB7CgoJLy8gWEhUTUwgcGFyc2VycyBkbyBub3QgbWFnaWNhbGx5IGluc2VydCBlbGVtZW50cyBpbiB0aGUKCS8vIHNhbWUgd2F5IHRoYXQgdGFnIHNvdXAgcGFyc2VycyBkby4gU28gd2UgY2Fubm90IHNob3J0ZW4KCS8vIHRoaXMgYnkgb21pdHRpbmcgPHRib2R5PiBvciBvdGhlciByZXF1aXJlZCBlbGVtZW50cy4KCXRoZWFkOiBbIDEsICI8dGFibGU+IiwgIjwvdGFibGU+IiBdLAoJY29sOiBbIDIsICI8dGFibGU+PGNvbGdyb3VwPiIsICI8L2NvbGdyb3VwPjwvdGFibGU+IiBdLAoJdHI6IFsgMiwgIjx0YWJsZT48dGJvZHk+IiwgIjwvdGJvZHk+PC90YWJsZT4iIF0sCgl0ZDogWyAzLCAiPHRhYmxlPjx0Ym9keT48dHI+IiwgIjwvdHI+PC90Ym9keT48L3RhYmxlPiIgXSwKCglfZGVmYXVsdDogWyAwLCAiIiwgIiIgXQp9OwoKd3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDsKd3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7CgovLyBTdXBwb3J0OiBJRSA8PTkgb25seQppZiAoICFzdXBwb3J0Lm9wdGlvbiApIHsKCXdyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbiA9IFsgMSwgIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCAiPC9zZWxlY3Q+IiBdOwp9CgoKZnVuY3Rpb24gZ2V0QWxsKCBjb250ZXh0LCB0YWcgKSB7CgoJLy8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seQoJLy8gVXNlIHR5cGVvZiB0byBhdm9pZCB6ZXJvLWFyZ3VtZW50IG1ldGhvZCBpbnZvY2F0aW9uIG9uIGhvc3Qgb2JqZWN0cyAoIzE1MTUxKQoJdmFyIHJldDsKCglpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSAidW5kZWZpbmVkIiApIHsKCQlyZXQgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgfHwgIioiICk7CgoJfSBlbHNlIGlmICggdHlwZW9mIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCAhPT0gInVuZGVmaW5lZCIgKSB7CgkJcmV0ID0gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgfHwgIioiICk7CgoJfSBlbHNlIHsKCQlyZXQgPSBbXTsKCX0KCglpZiAoIHRhZyA9PT0gdW5kZWZpbmVkIHx8IHRhZyAmJiBub2RlTmFtZSggY29udGV4dCwgdGFnICkgKSB7CgkJcmV0dXJuIGpRdWVyeS5tZXJnZSggWyBjb250ZXh0IF0sIHJldCApOwoJfQoKCXJldHVybiByZXQ7Cn0KCgovLyBNYXJrIHNjcmlwdHMgYXMgaGF2aW5nIGFscmVhZHkgYmVlbiBldmFsdWF0ZWQKZnVuY3Rpb24gc2V0R2xvYmFsRXZhbCggZWxlbXMsIHJlZkVsZW1lbnRzICkgewoJdmFyIGkgPSAwLAoJCWwgPSBlbGVtcy5sZW5ndGg7CgoJZm9yICggOyBpIDwgbDsgaSsrICkgewoJCWRhdGFQcml2LnNldCgKCQkJZWxlbXNbIGkgXSwKCQkJImdsb2JhbEV2YWwiLAoJCQkhcmVmRWxlbWVudHMgfHwgZGF0YVByaXYuZ2V0KCByZWZFbGVtZW50c1sgaSBdLCAiZ2xvYmFsRXZhbCIgKQoJCSk7Cgl9Cn0KCgp2YXIgcmh0bWwgPSAvPHwmIz9cdys7LzsKCmZ1bmN0aW9uIGJ1aWxkRnJhZ21lbnQoIGVsZW1zLCBjb250ZXh0LCBzY3JpcHRzLCBzZWxlY3Rpb24sIGlnbm9yZWQgKSB7Cgl2YXIgZWxlbSwgdG1wLCB0YWcsIHdyYXAsIGF0dGFjaGVkLCBqLAoJCWZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksCgkJbm9kZXMgPSBbXSwKCQlpID0gMCwKCQlsID0gZWxlbXMubGVuZ3RoOwoKCWZvciAoIDsgaSA8IGw7IGkrKyApIHsKCQllbGVtID0gZWxlbXNbIGkgXTsKCgkJaWYgKCBlbGVtIHx8IGVsZW0gPT09IDAgKSB7CgoJCQkvLyBBZGQgbm9kZXMgZGlyZWN0bHkKCQkJaWYgKCB0b1R5cGUoIGVsZW0gKSA9PT0gIm9iamVjdCIgKSB7CgoJCQkJLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5CgkJCQkvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0CgkJCQlqUXVlcnkubWVyZ2UoIG5vZGVzLCBlbGVtLm5vZGVUeXBlID8gWyBlbGVtIF0gOiBlbGVtICk7CgoJCQkvLyBDb252ZXJ0IG5vbi1odG1sIGludG8gYSB0ZXh0IG5vZGUKCQkJfSBlbHNlIGlmICggIXJodG1sLnRlc3QoIGVsZW0gKSApIHsKCQkJCW5vZGVzLnB1c2goIGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoIGVsZW0gKSApOwoKCQkJLy8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzCgkJCX0gZWxzZSB7CgkJCQl0bXAgPSB0bXAgfHwgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGNvbnRleHQuY3JlYXRlRWxlbWVudCggImRpdiIgKSApOwoKCQkJCS8vIERlc2VyaWFsaXplIGEgc3RhbmRhcmQgcmVwcmVzZW50YXRpb24KCQkJCXRhZyA9ICggcnRhZ05hbWUuZXhlYyggZWxlbSApIHx8IFsgIiIsICIiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCk7CgkJCQl3cmFwID0gd3JhcE1hcFsgdGFnIF0gfHwgd3JhcE1hcC5fZGVmYXVsdDsKCQkJCXRtcC5pbm5lckhUTUwgPSB3cmFwWyAxIF0gKyBqUXVlcnkuaHRtbFByZWZpbHRlciggZWxlbSApICsgd3JhcFsgMiBdOwoKCQkJCS8vIERlc2NlbmQgdGhyb3VnaCB3cmFwcGVycyB0byB0aGUgcmlnaHQgY29udGVudAoJCQkJaiA9IHdyYXBbIDAgXTsKCQkJCXdoaWxlICggai0tICkgewoJCQkJCXRtcCA9IHRtcC5sYXN0Q2hpbGQ7CgkJCQl9CgoJCQkJLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5CgkJCQkvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0CgkJCQlqUXVlcnkubWVyZ2UoIG5vZGVzLCB0bXAuY2hpbGROb2RlcyApOwoKCQkJCS8vIFJlbWVtYmVyIHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyCgkJCQl0bXAgPSBmcmFnbWVudC5maXJzdENoaWxkOwoKCQkJCS8vIEVuc3VyZSB0aGUgY3JlYXRlZCBub2RlcyBhcmUgb3JwaGFuZWQgKCMxMjM5MikKCQkJCXRtcC50ZXh0Q29udGVudCA9ICIiOwoJCQl9CgkJfQoJfQoKCS8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnQKCWZyYWdtZW50LnRleHRDb250ZW50ID0gIiI7CgoJaSA9IDA7Cgl3aGlsZSAoICggZWxlbSA9IG5vZGVzWyBpKysgXSApICkgewoKCQkvLyBTa2lwIGVsZW1lbnRzIGFscmVhZHkgaW4gdGhlIGNvbnRleHQgY29sbGVjdGlvbiAodHJhYy00MDg3KQoJCWlmICggc2VsZWN0aW9uICYmIGpRdWVyeS5pbkFycmF5KCBlbGVtLCBzZWxlY3Rpb24gKSA+IC0xICkgewoJCQlpZiAoIGlnbm9yZWQgKSB7CgkJCQlpZ25vcmVkLnB1c2goIGVsZW0gKTsKCQkJfQoJCQljb250aW51ZTsKCQl9CgoJCWF0dGFjaGVkID0gaXNBdHRhY2hlZCggZWxlbSApOwoKCQkvLyBBcHBlbmQgdG8gZnJhZ21lbnQKCQl0bXAgPSBnZXRBbGwoIGZyYWdtZW50LmFwcGVuZENoaWxkKCBlbGVtICksICJzY3JpcHQiICk7CgoJCS8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3RvcnkKCQlpZiAoIGF0dGFjaGVkICkgewoJCQlzZXRHbG9iYWxFdmFsKCB0bXAgKTsKCQl9CgoJCS8vIENhcHR1cmUgZXhlY3V0YWJsZXMKCQlpZiAoIHNjcmlwdHMgKSB7CgkJCWogPSAwOwoJCQl3aGlsZSAoICggZWxlbSA9IHRtcFsgaisrIF0gKSApIHsKCQkJCWlmICggcnNjcmlwdFR5cGUudGVzdCggZWxlbS50eXBlIHx8ICIiICkgKSB7CgkJCQkJc2NyaXB0cy5wdXNoKCBlbGVtICk7CgkJCQl9CgkJCX0KCQl9Cgl9CgoJcmV0dXJuIGZyYWdtZW50Owp9CgoKdmFyIHJ0eXBlbmFtZXNwYWNlID0gL14oW14uXSopKD86XC4oLispfCkvOwoKZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHsKCXJldHVybiB0cnVlOwp9CgpmdW5jdGlvbiByZXR1cm5GYWxzZSgpIHsKCXJldHVybiBmYWxzZTsKfQoKLy8gU3VwcG9ydDogSUUgPD05IC0gMTErCi8vIGZvY3VzKCkgYW5kIGJsdXIoKSBhcmUgYXN5bmNocm9ub3VzLCBleGNlcHQgd2hlbiB0aGV5IGFyZSBuby1vcC4KLy8gU28gZXhwZWN0IGZvY3VzIHRvIGJlIHN5bmNocm9ub3VzIHdoZW4gdGhlIGVsZW1lbnQgaXMgYWxyZWFkeSBhY3RpdmUsCi8vIGFuZCBibHVyIHRvIGJlIHN5bmNocm9ub3VzIHdoZW4gdGhlIGVsZW1lbnQgaXMgbm90IGFscmVhZHkgYWN0aXZlLgovLyAoZm9jdXMgYW5kIGJsdXIgYXJlIGFsd2F5cyBzeW5jaHJvbm91cyBpbiBvdGhlciBzdXBwb3J0ZWQgYnJvd3NlcnMsCi8vIHRoaXMganVzdCBkZWZpbmVzIHdoZW4gd2UgY2FuIGNvdW50IG9uIGl0KS4KZnVuY3Rpb24gZXhwZWN0U3luYyggZWxlbSwgdHlwZSApIHsKCXJldHVybiAoIGVsZW0gPT09IHNhZmVBY3RpdmVFbGVtZW50KCkgKSA9PT0gKCB0eXBlID09PSAiZm9jdXMiICk7Cn0KCi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5Ci8vIEFjY2Vzc2luZyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGNhbiB0aHJvdyB1bmV4cGVjdGVkbHkKLy8gaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEzMzkzCmZ1bmN0aW9uIHNhZmVBY3RpdmVFbGVtZW50KCkgewoJdHJ5IHsKCQlyZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsKCX0gY2F0Y2ggKCBlcnIgKSB7IH0KfQoKZnVuY3Rpb24gb24oIGVsZW0sIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSApIHsKCXZhciBvcmlnRm4sIHR5cGU7CgoJLy8gVHlwZXMgY2FuIGJlIGEgbWFwIG9mIHR5cGVzL2hhbmRsZXJzCglpZiAoIHR5cGVvZiB0eXBlcyA9PT0gIm9iamVjdCIgKSB7CgoJCS8vICggdHlwZXMtT2JqZWN0LCBzZWxlY3RvciwgZGF0YSApCgkJaWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09ICJzdHJpbmciICkgewoKCQkJLy8gKCB0eXBlcy1PYmplY3QsIGRhdGEgKQoJCQlkYXRhID0gZGF0YSB8fCBzZWxlY3RvcjsKCQkJc2VsZWN0b3IgPSB1bmRlZmluZWQ7CgkJfQoJCWZvciAoIHR5cGUgaW4gdHlwZXMgKSB7CgkJCW9uKCBlbGVtLCB0eXBlLCBzZWxlY3RvciwgZGF0YSwgdHlwZXNbIHR5cGUgXSwgb25lICk7CgkJfQoJCXJldHVybiBlbGVtOwoJfQoKCWlmICggZGF0YSA9PSBudWxsICYmIGZuID09IG51bGwgKSB7CgoJCS8vICggdHlwZXMsIGZuICkKCQlmbiA9IHNlbGVjdG9yOwoJCWRhdGEgPSBzZWxlY3RvciA9IHVuZGVmaW5lZDsKCX0gZWxzZSBpZiAoIGZuID09IG51bGwgKSB7CgkJaWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09ICJzdHJpbmciICkgewoKCQkJLy8gKCB0eXBlcywgc2VsZWN0b3IsIGZuICkKCQkJZm4gPSBkYXRhOwoJCQlkYXRhID0gdW5kZWZpbmVkOwoJCX0gZWxzZSB7CgoJCQkvLyAoIHR5cGVzLCBkYXRhLCBmbiApCgkJCWZuID0gZGF0YTsKCQkJZGF0YSA9IHNlbGVjdG9yOwoJCQlzZWxlY3RvciA9IHVuZGVmaW5lZDsKCQl9Cgl9CglpZiAoIGZuID09PSBmYWxzZSApIHsKCQlmbiA9IHJldHVybkZhbHNlOwoJfSBlbHNlIGlmICggIWZuICkgewoJCXJldHVybiBlbGVtOwoJfQoKCWlmICggb25lID09PSAxICkgewoJCW9yaWdGbiA9IGZuOwoJCWZuID0gZnVuY3Rpb24oIGV2ZW50ICkgewoKCQkJLy8gQ2FuIHVzZSBhbiBlbXB0eSBzZXQsIHNpbmNlIGV2ZW50IGNvbnRhaW5zIHRoZSBpbmZvCgkJCWpRdWVyeSgpLm9mZiggZXZlbnQgKTsKCQkJcmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7CgkJfTsKCgkJLy8gVXNlIHNhbWUgZ3VpZCBzbyBjYWxsZXIgY2FuIHJlbW92ZSB1c2luZyBvcmlnRm4KCQlmbi5ndWlkID0gb3JpZ0ZuLmd1aWQgfHwgKCBvcmlnRm4uZ3VpZCA9IGpRdWVyeS5ndWlkKysgKTsKCX0KCXJldHVybiBlbGVtLmVhY2goIGZ1bmN0aW9uKCkgewoJCWpRdWVyeS5ldmVudC5hZGQoIHRoaXMsIHR5cGVzLCBmbiwgZGF0YSwgc2VsZWN0b3IgKTsKCX0gKTsKfQoKLyoKICogSGVscGVyIGZ1bmN0aW9ucyBmb3IgbWFuYWdpbmcgZXZlbnRzIC0tIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgaW50ZXJmYWNlLgogKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLgogKi8KalF1ZXJ5LmV2ZW50ID0gewoKCWdsb2JhbDoge30sCgoJYWRkOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIGRhdGEsIHNlbGVjdG9yICkgewoKCQl2YXIgaGFuZGxlT2JqSW4sIGV2ZW50SGFuZGxlLCB0bXAsCgkJCWV2ZW50cywgdCwgaGFuZGxlT2JqLAoJCQlzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsCgkJCWVsZW1EYXRhID0gZGF0YVByaXYuZ2V0KCBlbGVtICk7CgoJCS8vIE9ubHkgYXR0YWNoIGV2ZW50cyB0byBvYmplY3RzIHRoYXQgYWNjZXB0IGRhdGEKCQlpZiAoICFhY2NlcHREYXRhKCBlbGVtICkgKSB7CgkJCXJldHVybjsKCQl9CgoJCS8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlcgoJCWlmICggaGFuZGxlci5oYW5kbGVyICkgewoJCQloYW5kbGVPYmpJbiA9IGhhbmRsZXI7CgkJCWhhbmRsZXIgPSBoYW5kbGVPYmpJbi5oYW5kbGVyOwoJCQlzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yOwoJCX0KCgkJLy8gRW5zdXJlIHRoYXQgaW52YWxpZCBzZWxlY3RvcnMgdGhyb3cgZXhjZXB0aW9ucyBhdCBhdHRhY2ggdGltZQoJCS8vIEV2YWx1YXRlIGFnYWluc3QgZG9jdW1lbnRFbGVtZW50IGluIGNhc2UgZWxlbSBpcyBhIG5vbi1lbGVtZW50IG5vZGUgKGUuZy4sIGRvY3VtZW50KQoJCWlmICggc2VsZWN0b3IgKSB7CgkJCWpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZG9jdW1lbnRFbGVtZW50LCBzZWxlY3RvciApOwoJCX0KCgkJLy8gTWFrZSBzdXJlIHRoYXQgdGhlIGhhbmRsZXIgaGFzIGEgdW5pcXVlIElELCB1c2VkIHRvIGZpbmQvcmVtb3ZlIGl0IGxhdGVyCgkJaWYgKCAhaGFuZGxlci5ndWlkICkgewoJCQloYW5kbGVyLmd1aWQgPSBqUXVlcnkuZ3VpZCsrOwoJCX0KCgkJLy8gSW5pdCB0aGUgZWxlbWVudCdzIGV2ZW50IHN0cnVjdHVyZSBhbmQgbWFpbiBoYW5kbGVyLCBpZiB0aGlzIGlzIHRoZSBmaXJzdAoJCWlmICggISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7CgkJCWV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyA9IE9iamVjdC5jcmVhdGUoIG51bGwgKTsKCQl9CgkJaWYgKCAhKCBldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSApICkgewoJCQlldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSA9IGZ1bmN0aW9uKCBlICkgewoKCQkJCS8vIERpc2NhcmQgdGhlIHNlY29uZCBldmVudCBvZiBhIGpRdWVyeS5ldmVudC50cmlnZ2VyKCkgYW5kCgkJCQkvLyB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkCgkJCQlyZXR1cm4gdHlwZW9mIGpRdWVyeSAhPT0gInVuZGVmaW5lZCIgJiYgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCAhPT0gZS50eXBlID8KCQkJCQlqUXVlcnkuZXZlbnQuZGlzcGF0Y2guYXBwbHkoIGVsZW0sIGFyZ3VtZW50cyApIDogdW5kZWZpbmVkOwoJCQl9OwoJCX0KCgkJLy8gSGFuZGxlIG11bHRpcGxlIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBzcGFjZQoJCXR5cGVzID0gKCB0eXBlcyB8fCAiIiApLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyAiIiBdOwoJCXQgPSB0eXBlcy5sZW5ndGg7CgkJd2hpbGUgKCB0LS0gKSB7CgkJCXRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTsKCQkJdHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07CgkJCW5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8ICIiICkuc3BsaXQoICIuIiApLnNvcnQoKTsKCgkJCS8vIFRoZXJlICptdXN0KiBiZSBhIHR5cGUsIG5vIGF0dGFjaGluZyBuYW1lc3BhY2Utb25seSBoYW5kbGVycwoJCQlpZiAoICF0eXBlICkgewoJCQkJY29udGludWU7CgkJCX0KCgkJCS8vIElmIGV2ZW50IGNoYW5nZXMgaXRzIHR5cGUsIHVzZSB0aGUgc3BlY2lhbCBldmVudCBoYW5kbGVycyBmb3IgdGhlIGNoYW5nZWQgdHlwZQoJCQlzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTsKCgkJCS8vIElmIHNlbGVjdG9yIGRlZmluZWQsIGRldGVybWluZSBzcGVjaWFsIGV2ZW50IGFwaSB0eXBlLCBvdGhlcndpc2UgZ2l2ZW4gdHlwZQoJCQl0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7CgoJCQkvLyBVcGRhdGUgc3BlY2lhbCBiYXNlZCBvbiBuZXdseSByZXNldCB0eXBlCgkJCXNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9OwoKCQkJLy8gaGFuZGxlT2JqIGlzIHBhc3NlZCB0byBhbGwgZXZlbnQgaGFuZGxlcnMKCQkJaGFuZGxlT2JqID0galF1ZXJ5LmV4dGVuZCggewoJCQkJdHlwZTogdHlwZSwKCQkJCW9yaWdUeXBlOiBvcmlnVHlwZSwKCQkJCWRhdGE6IGRhdGEsCgkJCQloYW5kbGVyOiBoYW5kbGVyLAoJCQkJZ3VpZDogaGFuZGxlci5ndWlkLAoJCQkJc2VsZWN0b3I6IHNlbGVjdG9yLAoJCQkJbmVlZHNDb250ZXh0OiBzZWxlY3RvciAmJiBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSwKCQkJCW5hbWVzcGFjZTogbmFtZXNwYWNlcy5qb2luKCAiLiIgKQoJCQl9LCBoYW5kbGVPYmpJbiApOwoKCQkJLy8gSW5pdCB0aGUgZXZlbnQgaGFuZGxlciBxdWV1ZSBpZiB3ZSdyZSB0aGUgZmlyc3QKCQkJaWYgKCAhKCBoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdICkgKSB7CgkJCQloYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdID0gW107CgkJCQloYW5kbGVycy5kZWxlZ2F0ZUNvdW50ID0gMDsKCgkJCQkvLyBPbmx5IHVzZSBhZGRFdmVudExpc3RlbmVyIGlmIHRoZSBzcGVjaWFsIGV2ZW50cyBoYW5kbGVyIHJldHVybnMgZmFsc2UKCQkJCWlmICggIXNwZWNpYWwuc2V0dXAgfHwKCQkJCQlzcGVjaWFsLnNldHVwLmNhbGwoIGVsZW0sIGRhdGEsIG5hbWVzcGFjZXMsIGV2ZW50SGFuZGxlICkgPT09IGZhbHNlICkgewoKCQkJCQlpZiAoIGVsZW0uYWRkRXZlbnRMaXN0ZW5lciApIHsKCQkJCQkJZWxlbS5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBldmVudEhhbmRsZSApOwoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJaWYgKCBzcGVjaWFsLmFkZCApIHsKCQkJCXNwZWNpYWwuYWRkLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApOwoKCQkJCWlmICggIWhhbmRsZU9iai5oYW5kbGVyLmd1aWQgKSB7CgkJCQkJaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCA9IGhhbmRsZXIuZ3VpZDsKCQkJCX0KCQkJfQoKCQkJLy8gQWRkIHRvIHRoZSBlbGVtZW50J3MgaGFuZGxlciBsaXN0LCBkZWxlZ2F0ZXMgaW4gZnJvbnQKCQkJaWYgKCBzZWxlY3RvciApIHsKCQkJCWhhbmRsZXJzLnNwbGljZSggaGFuZGxlcnMuZGVsZWdhdGVDb3VudCsrLCAwLCBoYW5kbGVPYmogKTsKCQkJfSBlbHNlIHsKCQkJCWhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApOwoJCQl9CgoJCQkvLyBLZWVwIHRyYWNrIG9mIHdoaWNoIGV2ZW50cyBoYXZlIGV2ZXIgYmVlbiB1c2VkLCBmb3IgZXZlbnQgb3B0aW1pemF0aW9uCgkJCWpRdWVyeS5ldmVudC5nbG9iYWxbIHR5cGUgXSA9IHRydWU7CgkJfQoKCX0sCgoJLy8gRGV0YWNoIGFuIGV2ZW50IG9yIHNldCBvZiBldmVudHMgZnJvbSBhbiBlbGVtZW50CglyZW1vdmU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgc2VsZWN0b3IsIG1hcHBlZFR5cGVzICkgewoKCQl2YXIgaiwgb3JpZ0NvdW50LCB0bXAsCgkJCWV2ZW50cywgdCwgaGFuZGxlT2JqLAoJCQlzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsCgkJCWVsZW1EYXRhID0gZGF0YVByaXYuaGFzRGF0YSggZWxlbSApICYmIGRhdGFQcml2LmdldCggZWxlbSApOwoKCQlpZiAoICFlbGVtRGF0YSB8fCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHsKCQkJcmV0dXJuOwoJCX0KCgkJLy8gT25jZSBmb3IgZWFjaCB0eXBlLm5hbWVzcGFjZSBpbiB0eXBlczsgdHlwZSBtYXkgYmUgb21pdHRlZAoJCXR5cGVzID0gKCB0eXBlcyB8fCAiIiApLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyAiIiBdOwoJCXQgPSB0eXBlcy5sZW5ndGg7CgkJd2hpbGUgKCB0LS0gKSB7CgkJCXRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTsKCQkJdHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07CgkJCW5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8ICIiICkuc3BsaXQoICIuIiApLnNvcnQoKTsKCgkJCS8vIFVuYmluZCBhbGwgZXZlbnRzIChvbiB0aGlzIG5hbWVzcGFjZSwgaWYgcHJvdmlkZWQpIGZvciB0aGUgZWxlbWVudAoJCQlpZiAoICF0eXBlICkgewoJCQkJZm9yICggdHlwZSBpbiBldmVudHMgKSB7CgkJCQkJalF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSArIHR5cGVzWyB0IF0sIGhhbmRsZXIsIHNlbGVjdG9yLCB0cnVlICk7CgkJCQl9CgkJCQljb250aW51ZTsKCQkJfQoKCQkJc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307CgkJCXR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTsKCQkJaGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSB8fCBbXTsKCQkJdG1wID0gdG1wWyAyIF0gJiYKCQkJCW5ldyBSZWdFeHAoICIoXnxcXC4pIiArIG5hbWVzcGFjZXMuam9pbiggIlxcLig/Oi4qXFwufCkiICkgKyAiKFxcLnwkKSIgKTsKCgkJCS8vIFJlbW92ZSBtYXRjaGluZyBldmVudHMKCQkJb3JpZ0NvdW50ID0gaiA9IGhhbmRsZXJzLmxlbmd0aDsKCQkJd2hpbGUgKCBqLS0gKSB7CgkJCQloYW5kbGVPYmogPSBoYW5kbGVyc1sgaiBdOwoKCQkJCWlmICggKCBtYXBwZWRUeXBlcyB8fCBvcmlnVHlwZSA9PT0gaGFuZGxlT2JqLm9yaWdUeXBlICkgJiYKCQkJCQkoICFoYW5kbGVyIHx8IGhhbmRsZXIuZ3VpZCA9PT0gaGFuZGxlT2JqLmd1aWQgKSAmJgoJCQkJCSggIXRtcCB8fCB0bXAudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkgJiYKCQkJCQkoICFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gaGFuZGxlT2JqLnNlbGVjdG9yIHx8CgkJCQkJCXNlbGVjdG9yID09PSAiKioiICYmIGhhbmRsZU9iai5zZWxlY3RvciApICkgewoJCQkJCWhhbmRsZXJzLnNwbGljZSggaiwgMSApOwoKCQkJCQlpZiAoIGhhbmRsZU9iai5zZWxlY3RvciApIHsKCQkJCQkJaGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tOwoJCQkJCX0KCQkJCQlpZiAoIHNwZWNpYWwucmVtb3ZlICkgewoJCQkJCQlzcGVjaWFsLnJlbW92ZS5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTsKCQkJCQl9CgkJCQl9CgkJCX0KCgkJCS8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3QKCQkJLy8gKGF2b2lkcyBwb3RlbnRpYWwgZm9yIGVuZGxlc3MgcmVjdXJzaW9uIGR1cmluZyByZW1vdmFsIG9mIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMpCgkJCWlmICggb3JpZ0NvdW50ICYmICFoYW5kbGVycy5sZW5ndGggKSB7CgkJCQlpZiAoICFzcGVjaWFsLnRlYXJkb3duIHx8CgkJCQkJc3BlY2lhbC50ZWFyZG93bi5jYWxsKCBlbGVtLCBuYW1lc3BhY2VzLCBlbGVtRGF0YS5oYW5kbGUgKSA9PT0gZmFsc2UgKSB7CgoJCQkJCWpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZWxlbURhdGEuaGFuZGxlICk7CgkJCQl9CgoJCQkJZGVsZXRlIGV2ZW50c1sgdHlwZSBdOwoJCQl9CgkJfQoKCQkvLyBSZW1vdmUgZGF0YSBhbmQgdGhlIGV4cGFuZG8gaWYgaXQncyBubyBsb25nZXIgdXNlZAoJCWlmICggalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGV2ZW50cyApICkgewoJCQlkYXRhUHJpdi5yZW1vdmUoIGVsZW0sICJoYW5kbGUgZXZlbnRzIiApOwoJCX0KCX0sCgoJZGlzcGF0Y2g6IGZ1bmN0aW9uKCBuYXRpdmVFdmVudCApIHsKCgkJdmFyIGksIGosIHJldCwgbWF0Y2hlZCwgaGFuZGxlT2JqLCBoYW5kbGVyUXVldWUsCgkJCWFyZ3MgPSBuZXcgQXJyYXkoIGFyZ3VtZW50cy5sZW5ndGggKSwKCgkJCS8vIE1ha2UgYSB3cml0YWJsZSBqUXVlcnkuRXZlbnQgZnJvbSB0aGUgbmF0aXZlIGV2ZW50IG9iamVjdAoJCQlldmVudCA9IGpRdWVyeS5ldmVudC5maXgoIG5hdGl2ZUV2ZW50ICksCgoJCQloYW5kbGVycyA9ICgKCQkJCWRhdGFQcml2LmdldCggdGhpcywgImV2ZW50cyIgKSB8fCBPYmplY3QuY3JlYXRlKCBudWxsICkKCQkJKVsgZXZlbnQudHlwZSBdIHx8IFtdLAoJCQlzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGV2ZW50LnR5cGUgXSB8fCB7fTsKCgkJLy8gVXNlIHRoZSBmaXgtZWQgalF1ZXJ5LkV2ZW50IHJhdGhlciB0aGFuIHRoZSAocmVhZC1vbmx5KSBuYXRpdmUgZXZlbnQKCQlhcmdzWyAwIF0gPSBldmVudDsKCgkJZm9yICggaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKysgKSB7CgkJCWFyZ3NbIGkgXSA9IGFyZ3VtZW50c1sgaSBdOwoJCX0KCgkJZXZlbnQuZGVsZWdhdGVUYXJnZXQgPSB0aGlzOwoKCQkvLyBDYWxsIHRoZSBwcmVEaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGUsIGFuZCBsZXQgaXQgYmFpbCBpZiBkZXNpcmVkCgkJaWYgKCBzcGVjaWFsLnByZURpc3BhdGNoICYmIHNwZWNpYWwucHJlRGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKSA9PT0gZmFsc2UgKSB7CgkJCXJldHVybjsKCQl9CgoJCS8vIERldGVybWluZSBoYW5kbGVycwoJCWhhbmRsZXJRdWV1ZSA9IGpRdWVyeS5ldmVudC5oYW5kbGVycy5jYWxsKCB0aGlzLCBldmVudCwgaGFuZGxlcnMgKTsKCgkJLy8gUnVuIGRlbGVnYXRlcyBmaXJzdDsgdGhleSBtYXkgd2FudCB0byBzdG9wIHByb3BhZ2F0aW9uIGJlbmVhdGggdXMKCQlpID0gMDsKCQl3aGlsZSAoICggbWF0Y2hlZCA9IGhhbmRsZXJRdWV1ZVsgaSsrIF0gKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHsKCQkJZXZlbnQuY3VycmVudFRhcmdldCA9IG1hdGNoZWQuZWxlbTsKCgkJCWogPSAwOwoJCQl3aGlsZSAoICggaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1sgaisrIF0gKSAmJgoJCQkJIWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7CgoJCQkJLy8gSWYgdGhlIGV2ZW50IGlzIG5hbWVzcGFjZWQsIHRoZW4gZWFjaCBoYW5kbGVyIGlzIG9ubHkgaW52b2tlZCBpZiBpdCBpcwoJCQkJLy8gc3BlY2lhbGx5IHVuaXZlcnNhbCBvciBpdHMgbmFtZXNwYWNlcyBhcmUgYSBzdXBlcnNldCBvZiB0aGUgZXZlbnQncy4KCQkJCWlmICggIWV2ZW50LnJuYW1lc3BhY2UgfHwgaGFuZGxlT2JqLm5hbWVzcGFjZSA9PT0gZmFsc2UgfHwKCQkJCQlldmVudC5ybmFtZXNwYWNlLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApIHsKCgkJCQkJZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqOwoJCQkJCWV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTsKCgkJCQkJcmV0ID0gKCAoIGpRdWVyeS5ldmVudC5zcGVjaWFsWyBoYW5kbGVPYmoub3JpZ1R5cGUgXSB8fCB7fSApLmhhbmRsZSB8fAoJCQkJCQloYW5kbGVPYmouaGFuZGxlciApLmFwcGx5KCBtYXRjaGVkLmVsZW0sIGFyZ3MgKTsKCgkJCQkJaWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHsKCQkJCQkJaWYgKCAoIGV2ZW50LnJlc3VsdCA9IHJldCApID09PSBmYWxzZSApIHsKCQkJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCQlldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCgkJLy8gQ2FsbCB0aGUgcG9zdERpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZQoJCWlmICggc3BlY2lhbC5wb3N0RGlzcGF0Y2ggKSB7CgkJCXNwZWNpYWwucG9zdERpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICk7CgkJfQoKCQlyZXR1cm4gZXZlbnQucmVzdWx0OwoJfSwKCgloYW5kbGVyczogZnVuY3Rpb24oIGV2ZW50LCBoYW5kbGVycyApIHsKCQl2YXIgaSwgaGFuZGxlT2JqLCBzZWwsIG1hdGNoZWRIYW5kbGVycywgbWF0Y2hlZFNlbGVjdG9ycywKCQkJaGFuZGxlclF1ZXVlID0gW10sCgkJCWRlbGVnYXRlQ291bnQgPSBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LAoJCQljdXIgPSBldmVudC50YXJnZXQ7CgoJCS8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnMKCQlpZiAoIGRlbGVnYXRlQ291bnQgJiYKCgkJCS8vIFN1cHBvcnQ6IElFIDw9OQoJCQkvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAodHJhYy0xMzE4MCkKCQkJY3VyLm5vZGVUeXBlICYmCgoJCQkvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDIKCQkJLy8gU3VwcHJlc3Mgc3BlYy12aW9sYXRpbmcgY2xpY2tzIGluZGljYXRpbmcgYSBub24tcHJpbWFyeSBwb2ludGVyIGJ1dHRvbiAodHJhYy0zODYxKQoJCQkvLyBodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudC10eXBlLWNsaWNrCgkJCS8vIFN1cHBvcnQ6IElFIDExIG9ubHkKCQkJLy8gLi4uYnV0IG5vdCBhcnJvdyBrZXkgImNsaWNrcyIgb2YgcmFkaW8gaW5wdXRzLCB3aGljaCBjYW4gaGF2ZSBgYnV0dG9uYCAtMSAoZ2gtMjM0MykKCQkJISggZXZlbnQudHlwZSA9PT0gImNsaWNrIiAmJiBldmVudC5idXR0b24gPj0gMSApICkgewoKCQkJZm9yICggOyBjdXIgIT09IHRoaXM7IGN1ciA9IGN1ci5wYXJlbnROb2RlIHx8IHRoaXMgKSB7CgoJCQkJLy8gRG9uJ3QgY2hlY2sgbm9uLWVsZW1lbnRzICgjMTMyMDgpCgkJCQkvLyBEb24ndCBwcm9jZXNzIGNsaWNrcyBvbiBkaXNhYmxlZCBlbGVtZW50cyAoIzY5MTEsICM4MTY1LCAjMTEzODIsICMxMTc2NCkKCQkJCWlmICggY3VyLm5vZGVUeXBlID09PSAxICYmICEoIGV2ZW50LnR5cGUgPT09ICJjbGljayIgJiYgY3VyLmRpc2FibGVkID09PSB0cnVlICkgKSB7CgkJCQkJbWF0Y2hlZEhhbmRsZXJzID0gW107CgkJCQkJbWF0Y2hlZFNlbGVjdG9ycyA9IHt9OwoJCQkJCWZvciAoIGkgPSAwOyBpIDwgZGVsZWdhdGVDb3VudDsgaSsrICkgewoJCQkJCQloYW5kbGVPYmogPSBoYW5kbGVyc1sgaSBdOwoKCQkJCQkJLy8gRG9uJ3QgY29uZmxpY3Qgd2l0aCBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKCMxMzIwMykKCQkJCQkJc2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgIiAiOwoKCQkJCQkJaWYgKCBtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSA9PT0gdW5kZWZpbmVkICkgewoJCQkJCQkJbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID8KCQkJCQkJCQlqUXVlcnkoIHNlbCwgdGhpcyApLmluZGV4KCBjdXIgKSA+IC0xIDoKCQkJCQkJCQlqUXVlcnkuZmluZCggc2VsLCB0aGlzLCBudWxsLCBbIGN1ciBdICkubGVuZ3RoOwoJCQkJCQl9CgkJCQkJCWlmICggbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gKSB7CgkJCQkJCQltYXRjaGVkSGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7CgkJCQkJCX0KCQkJCQl9CgkJCQkJaWYgKCBtYXRjaGVkSGFuZGxlcnMubGVuZ3RoICkgewoJCQkJCQloYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVkSGFuZGxlcnMgfSApOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCgkJLy8gQWRkIHRoZSByZW1haW5pbmcgKGRpcmVjdGx5LWJvdW5kKSBoYW5kbGVycwoJCWN1ciA9IHRoaXM7CgkJaWYgKCBkZWxlZ2F0ZUNvdW50IDwgaGFuZGxlcnMubGVuZ3RoICkgewoJCQloYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBoYW5kbGVycy5zbGljZSggZGVsZWdhdGVDb3VudCApIH0gKTsKCQl9CgoJCXJldHVybiBoYW5kbGVyUXVldWU7Cgl9LAoKCWFkZFByb3A6IGZ1bmN0aW9uKCBuYW1lLCBob29rICkgewoJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eSggalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSwgbmFtZSwgewoJCQllbnVtZXJhYmxlOiB0cnVlLAoJCQljb25maWd1cmFibGU6IHRydWUsCgoJCQlnZXQ6IGlzRnVuY3Rpb24oIGhvb2sgKSA/CgkJCQlmdW5jdGlvbigpIHsKCQkJCQlpZiAoIHRoaXMub3JpZ2luYWxFdmVudCApIHsKCQkJCQkJcmV0dXJuIGhvb2soIHRoaXMub3JpZ2luYWxFdmVudCApOwoJCQkJCX0KCQkJCX0gOgoJCQkJZnVuY3Rpb24oKSB7CgkJCQkJaWYgKCB0aGlzLm9yaWdpbmFsRXZlbnQgKSB7CgkJCQkJCXJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbIG5hbWUgXTsKCQkJCQl9CgkJCQl9LAoKCQkJc2V0OiBmdW5jdGlvbiggdmFsdWUgKSB7CgkJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRoaXMsIG5hbWUsIHsKCQkJCQllbnVtZXJhYmxlOiB0cnVlLAoJCQkJCWNvbmZpZ3VyYWJsZTogdHJ1ZSwKCQkJCQl3cml0YWJsZTogdHJ1ZSwKCQkJCQl2YWx1ZTogdmFsdWUKCQkJCX0gKTsKCQkJfQoJCX0gKTsKCX0sCgoJZml4OiBmdW5jdGlvbiggb3JpZ2luYWxFdmVudCApIHsKCQlyZXR1cm4gb3JpZ2luYWxFdmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/CgkJCW9yaWdpbmFsRXZlbnQgOgoJCQluZXcgalF1ZXJ5LkV2ZW50KCBvcmlnaW5hbEV2ZW50ICk7Cgl9LAoKCXNwZWNpYWw6IHsKCQlsb2FkOiB7CgoJCQkvLyBQcmV2ZW50IHRyaWdnZXJlZCBpbWFnZS5sb2FkIGV2ZW50cyBmcm9tIGJ1YmJsaW5nIHRvIHdpbmRvdy5sb2FkCgkJCW5vQnViYmxlOiB0cnVlCgkJfSwKCQljbGljazogewoKCQkJLy8gVXRpbGl6ZSBuYXRpdmUgZXZlbnQgdG8gZW5zdXJlIGNvcnJlY3Qgc3RhdGUgZm9yIGNoZWNrYWJsZSBpbnB1dHMKCQkJc2V0dXA6IGZ1bmN0aW9uKCBkYXRhICkgewoKCQkJCS8vIEZvciBtdXR1YWwgY29tcHJlc3NpYmlsaXR5IHdpdGggX2RlZmF1bHQsIHJlcGxhY2UgYHRoaXNgIGFjY2VzcyB3aXRoIGEgbG9jYWwgdmFyLgoJCQkJLy8gYHx8IGRhdGFgIGlzIGRlYWQgY29kZSBtZWFudCBvbmx5IHRvIHByZXNlcnZlIHRoZSB2YXJpYWJsZSB0aHJvdWdoIG1pbmlmaWNhdGlvbi4KCQkJCXZhciBlbCA9IHRoaXMgfHwgZGF0YTsKCgkJCQkvLyBDbGFpbSB0aGUgZmlyc3QgaGFuZGxlcgoJCQkJaWYgKCByY2hlY2thYmxlVHlwZS50ZXN0KCBlbC50eXBlICkgJiYKCQkJCQllbC5jbGljayAmJiBub2RlTmFtZSggZWwsICJpbnB1dCIgKSApIHsKCgkJCQkJLy8gZGF0YVByaXYuc2V0KCBlbCwgImNsaWNrIiwgLi4uICkKCQkJCQlsZXZlcmFnZU5hdGl2ZSggZWwsICJjbGljayIsIHJldHVyblRydWUgKTsKCQkJCX0KCgkJCQkvLyBSZXR1cm4gZmFsc2UgdG8gYWxsb3cgbm9ybWFsIHByb2Nlc3NpbmcgaW4gdGhlIGNhbGxlcgoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9LAoJCQl0cmlnZ2VyOiBmdW5jdGlvbiggZGF0YSApIHsKCgkJCQkvLyBGb3IgbXV0dWFsIGNvbXByZXNzaWJpbGl0eSB3aXRoIF9kZWZhdWx0LCByZXBsYWNlIGB0aGlzYCBhY2Nlc3Mgd2l0aCBhIGxvY2FsIHZhci4KCQkJCS8vIGB8fCBkYXRhYCBpcyBkZWFkIGNvZGUgbWVhbnQgb25seSB0byBwcmVzZXJ2ZSB0aGUgdmFyaWFibGUgdGhyb3VnaCBtaW5pZmljYXRpb24uCgkJCQl2YXIgZWwgPSB0aGlzIHx8IGRhdGE7CgoJCQkJLy8gRm9yY2Ugc2V0dXAgYmVmb3JlIHRyaWdnZXJpbmcgYSBjbGljawoJCQkJaWYgKCByY2hlY2thYmxlVHlwZS50ZXN0KCBlbC50eXBlICkgJiYKCQkJCQllbC5jbGljayAmJiBub2RlTmFtZSggZWwsICJpbnB1dCIgKSApIHsKCgkJCQkJbGV2ZXJhZ2VOYXRpdmUoIGVsLCAiY2xpY2siICk7CgkJCQl9CgoJCQkJLy8gUmV0dXJuIG5vbi1mYWxzZSB0byBhbGxvdyBub3JtYWwgZXZlbnQtcGF0aCBwcm9wYWdhdGlvbgoJCQkJcmV0dXJuIHRydWU7CgkJCX0sCgoJCQkvLyBGb3IgY3Jvc3MtYnJvd3NlciBjb25zaXN0ZW5jeSwgc3VwcHJlc3MgbmF0aXZlIC5jbGljaygpIG9uIGxpbmtzCgkJCS8vIEFsc28gcHJldmVudCBpdCBpZiB3ZSdyZSBjdXJyZW50bHkgaW5zaWRlIGEgbGV2ZXJhZ2VkIG5hdGl2ZS1ldmVudCBzdGFjawoJCQlfZGVmYXVsdDogZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDsKCQkJCXJldHVybiByY2hlY2thYmxlVHlwZS50ZXN0KCB0YXJnZXQudHlwZSApICYmCgkJCQkJdGFyZ2V0LmNsaWNrICYmIG5vZGVOYW1lKCB0YXJnZXQsICJpbnB1dCIgKSAmJgoJCQkJCWRhdGFQcml2LmdldCggdGFyZ2V0LCAiY2xpY2siICkgfHwKCQkJCQlub2RlTmFtZSggdGFyZ2V0LCAiYSIgKTsKCQkJfQoJCX0sCgoJCWJlZm9yZXVubG9hZDogewoJCQlwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uKCBldmVudCApIHsKCgkJCQkvLyBTdXBwb3J0OiBGaXJlZm94IDIwKwoJCQkJLy8gRmlyZWZveCBkb2Vzbid0IGFsZXJ0IGlmIHRoZSByZXR1cm5WYWx1ZSBmaWVsZCBpcyBub3Qgc2V0LgoJCQkJaWYgKCBldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50ICkgewoJCQkJCWV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7CgkJCQl9CgkJCX0KCQl9Cgl9Cn07CgovLyBFbnN1cmUgdGhlIHByZXNlbmNlIG9mIGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgaGFuZGxlcyBtYW51YWxseS10cmlnZ2VyZWQKLy8gc3ludGhldGljIGV2ZW50cyBieSBpbnRlcnJ1cHRpbmcgcHJvZ3Jlc3MgdW50aWwgcmVpbnZva2VkIGluIHJlc3BvbnNlIHRvCi8vICpuYXRpdmUqIGV2ZW50cyB0aGF0IGl0IGZpcmVzIGRpcmVjdGx5LCBlbnN1cmluZyB0aGF0IHN0YXRlIGNoYW5nZXMgaGF2ZQovLyBhbHJlYWR5IG9jY3VycmVkIGJlZm9yZSBvdGhlciBsaXN0ZW5lcnMgYXJlIGludm9rZWQuCmZ1bmN0aW9uIGxldmVyYWdlTmF0aXZlKCBlbCwgdHlwZSwgZXhwZWN0U3luYyApIHsKCgkvLyBNaXNzaW5nIGV4cGVjdFN5bmMgaW5kaWNhdGVzIGEgdHJpZ2dlciBjYWxsLCB3aGljaCBtdXN0IGZvcmNlIHNldHVwIHRocm91Z2ggalF1ZXJ5LmV2ZW50LmFkZAoJaWYgKCAhZXhwZWN0U3luYyApIHsKCQlpZiAoIGRhdGFQcml2LmdldCggZWwsIHR5cGUgKSA9PT0gdW5kZWZpbmVkICkgewoJCQlqUXVlcnkuZXZlbnQuYWRkKCBlbCwgdHlwZSwgcmV0dXJuVHJ1ZSApOwoJCX0KCQlyZXR1cm47Cgl9CgoJLy8gUmVnaXN0ZXIgdGhlIGNvbnRyb2xsZXIgYXMgYSBzcGVjaWFsIHVuaXZlcnNhbCBoYW5kbGVyIGZvciBhbGwgZXZlbnQgbmFtZXNwYWNlcwoJZGF0YVByaXYuc2V0KCBlbCwgdHlwZSwgZmFsc2UgKTsKCWpRdWVyeS5ldmVudC5hZGQoIGVsLCB0eXBlLCB7CgkJbmFtZXNwYWNlOiBmYWxzZSwKCQloYW5kbGVyOiBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCXZhciBub3RBc3luYywgcmVzdWx0LAoJCQkJc2F2ZWQgPSBkYXRhUHJpdi5nZXQoIHRoaXMsIHR5cGUgKTsKCgkJCWlmICggKCBldmVudC5pc1RyaWdnZXIgJiAxICkgJiYgdGhpc1sgdHlwZSBdICkgewoKCQkJCS8vIEludGVycnVwdCBwcm9jZXNzaW5nIG9mIHRoZSBvdXRlciBzeW50aGV0aWMgLnRyaWdnZXIoKWVkIGV2ZW50CgkJCQkvLyBTYXZlZCBkYXRhIHNob3VsZCBiZSBmYWxzZSBpbiBzdWNoIGNhc2VzLCBidXQgbWlnaHQgYmUgYSBsZWZ0b3ZlciBjYXB0dXJlIG9iamVjdAoJCQkJLy8gZnJvbSBhbiBhc3luYyBuYXRpdmUgaGFuZGxlciAoZ2gtNDM1MCkKCQkJCWlmICggIXNhdmVkLmxlbmd0aCApIHsKCgkJCQkJLy8gU3RvcmUgYXJndW1lbnRzIGZvciB1c2Ugd2hlbiBoYW5kbGluZyB0aGUgaW5uZXIgbmF0aXZlIGV2ZW50CgkJCQkJLy8gVGhlcmUgd2lsbCBhbHdheXMgYmUgYXQgbGVhc3Qgb25lIGFyZ3VtZW50IChhbiBldmVudCBvYmplY3QpLCBzbyB0aGlzIGFycmF5CgkJCQkJLy8gd2lsbCBub3QgYmUgY29uZnVzZWQgd2l0aCBhIGxlZnRvdmVyIGNhcHR1cmUgb2JqZWN0LgoJCQkJCXNhdmVkID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICk7CgkJCQkJZGF0YVByaXYuc2V0KCB0aGlzLCB0eXBlLCBzYXZlZCApOwoKCQkJCQkvLyBUcmlnZ2VyIHRoZSBuYXRpdmUgZXZlbnQgYW5kIGNhcHR1cmUgaXRzIHJlc3VsdAoJCQkJCS8vIFN1cHBvcnQ6IElFIDw9OSAtIDExKwoJCQkJCS8vIGZvY3VzKCkgYW5kIGJsdXIoKSBhcmUgYXN5bmNocm9ub3VzCgkJCQkJbm90QXN5bmMgPSBleHBlY3RTeW5jKCB0aGlzLCB0eXBlICk7CgkJCQkJdGhpc1sgdHlwZSBdKCk7CgkJCQkJcmVzdWx0ID0gZGF0YVByaXYuZ2V0KCB0aGlzLCB0eXBlICk7CgkJCQkJaWYgKCBzYXZlZCAhPT0gcmVzdWx0IHx8IG5vdEFzeW5jICkgewoJCQkJCQlkYXRhUHJpdi5zZXQoIHRoaXMsIHR5cGUsIGZhbHNlICk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJcmVzdWx0ID0ge307CgkJCQkJfQoJCQkJCWlmICggc2F2ZWQgIT09IHJlc3VsdCApIHsKCgkJCQkJCS8vIENhbmNlbCB0aGUgb3V0ZXIgc3ludGhldGljIGV2ZW50CgkJCQkJCWV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwoJCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKCQkJCQkJLy8gU3VwcG9ydDogQ2hyb21lIDg2KwoJCQkJCQkvLyBJbiBDaHJvbWUsIGlmIGFuIGVsZW1lbnQgaGF2aW5nIGEgZm9jdXNvdXQgaGFuZGxlciBpcyBibHVycmVkIGJ5CgkJCQkJCS8vIGNsaWNraW5nIG91dHNpZGUgb2YgaXQsIGl0IGludm9rZXMgdGhlIGhhbmRsZXIgc3luY2hyb25vdXNseS4gSWYKCQkJCQkJLy8gdGhhdCBoYW5kbGVyIGNhbGxzIGAucmVtb3ZlKClgIG9uIHRoZSBlbGVtZW50LCB0aGUgZGF0YSBpcyBjbGVhcmVkLAoJCQkJCQkvLyBsZWF2aW5nIGByZXN1bHRgIHVuZGVmaW5lZC4gV2UgbmVlZCB0byBndWFyZCBhZ2FpbnN0IHRoaXMuCgkJCQkJCXJldHVybiByZXN1bHQgJiYgcmVzdWx0LnZhbHVlOwoJCQkJCX0KCgkJCQkvLyBJZiB0aGlzIGlzIGFuIGlubmVyIHN5bnRoZXRpYyBldmVudCBmb3IgYW4gZXZlbnQgd2l0aCBhIGJ1YmJsaW5nIHN1cnJvZ2F0ZQoJCQkJLy8gKGZvY3VzIG9yIGJsdXIpLCBhc3N1bWUgdGhhdCB0aGUgc3Vycm9nYXRlIGFscmVhZHkgcHJvcGFnYXRlZCBmcm9tIHRyaWdnZXJpbmcgdGhlCgkJCQkvLyBuYXRpdmUgZXZlbnQgYW5kIHByZXZlbnQgdGhhdCBmcm9tIGhhcHBlbmluZyBhZ2FpbiBoZXJlLgoJCQkJLy8gVGhpcyB0ZWNobmljYWxseSBnZXRzIHRoZSBvcmRlcmluZyB3cm9uZyB3LnIudC4gdG8gYC50cmlnZ2VyKClgIChpbiB3aGljaCB0aGUKCQkJCS8vIGJ1YmJsaW5nIHN1cnJvZ2F0ZSBwcm9wYWdhdGVzICphZnRlciogdGhlIG5vbi1idWJibGluZyBiYXNlKSwgYnV0IHRoYXQgc2VlbXMKCQkJCS8vIGxlc3MgYmFkIHRoYW4gZHVwbGljYXRpb24uCgkJCQl9IGVsc2UgaWYgKCAoIGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge30gKS5kZWxlZ2F0ZVR5cGUgKSB7CgkJCQkJZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQl9CgoJCQkvLyBJZiB0aGlzIGlzIGEgbmF0aXZlIGV2ZW50IHRyaWdnZXJlZCBhYm92ZSwgZXZlcnl0aGluZyBpcyBub3cgaW4gb3JkZXIKCQkJLy8gRmlyZSBhbiBpbm5lciBzeW50aGV0aWMgZXZlbnQgd2l0aCB0aGUgb3JpZ2luYWwgYXJndW1lbnRzCgkJCX0gZWxzZSBpZiAoIHNhdmVkLmxlbmd0aCApIHsKCgkJCQkvLyAuLi5hbmQgY2FwdHVyZSB0aGUgcmVzdWx0CgkJCQlkYXRhUHJpdi5zZXQoIHRoaXMsIHR5cGUsIHsKCQkJCQl2YWx1ZTogalF1ZXJ5LmV2ZW50LnRyaWdnZXIoCgoJCQkJCQkvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSsKCQkJCQkJLy8gRXh0ZW5kIHdpdGggdGhlIHByb3RvdHlwZSB0byByZXNldCB0aGUgYWJvdmUgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkKCQkJCQkJalF1ZXJ5LmV4dGVuZCggc2F2ZWRbIDAgXSwgalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSApLAoJCQkJCQlzYXZlZC5zbGljZSggMSApLAoJCQkJCQl0aGlzCgkJCQkJKQoJCQkJfSApOwoKCQkJCS8vIEFib3J0IGhhbmRsaW5nIG9mIHRoZSBuYXRpdmUgZXZlbnQKCQkJCWV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwoJCQl9CgkJfQoJfSApOwp9CgpqUXVlcnkucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiggZWxlbSwgdHlwZSwgaGFuZGxlICkgewoKCS8vIFRoaXMgImlmIiBpcyBuZWVkZWQgZm9yIHBsYWluIG9iamVjdHMKCWlmICggZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyICkgewoJCWVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgaGFuZGxlICk7Cgl9Cn07CgpqUXVlcnkuRXZlbnQgPSBmdW5jdGlvbiggc3JjLCBwcm9wcyApIHsKCgkvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlICduZXcnIGtleXdvcmQKCWlmICggISggdGhpcyBpbnN0YW5jZW9mIGpRdWVyeS5FdmVudCApICkgewoJCXJldHVybiBuZXcgalF1ZXJ5LkV2ZW50KCBzcmMsIHByb3BzICk7Cgl9CgoJLy8gRXZlbnQgb2JqZWN0CglpZiAoIHNyYyAmJiBzcmMudHlwZSApIHsKCQl0aGlzLm9yaWdpbmFsRXZlbnQgPSBzcmM7CgkJdGhpcy50eXBlID0gc3JjLnR5cGU7CgoJCS8vIEV2ZW50cyBidWJibGluZyB1cCB0aGUgZG9jdW1lbnQgbWF5IGhhdmUgYmVlbiBtYXJrZWQgYXMgcHJldmVudGVkCgkJLy8gYnkgYSBoYW5kbGVyIGxvd2VyIGRvd24gdGhlIHRyZWU7IHJlZmxlY3QgdGhlIGNvcnJlY3QgdmFsdWUuCgkJdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBzcmMuZGVmYXVsdFByZXZlbnRlZCB8fAoJCQkJc3JjLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHVuZGVmaW5lZCAmJgoKCQkJCS8vIFN1cHBvcnQ6IEFuZHJvaWQgPD0yLjMgb25seQoJCQkJc3JjLnJldHVyblZhbHVlID09PSBmYWxzZSA/CgkJCXJldHVyblRydWUgOgoJCQlyZXR1cm5GYWxzZTsKCgkJLy8gQ3JlYXRlIHRhcmdldCBwcm9wZXJ0aWVzCgkJLy8gU3VwcG9ydDogU2FmYXJpIDw9NiAtIDcgb25seQoJCS8vIFRhcmdldCBzaG91bGQgbm90IGJlIGEgdGV4dCBub2RlICgjNTA0LCAjMTMxNDMpCgkJdGhpcy50YXJnZXQgPSAoIHNyYy50YXJnZXQgJiYgc3JjLnRhcmdldC5ub2RlVHlwZSA9PT0gMyApID8KCQkJc3JjLnRhcmdldC5wYXJlbnROb2RlIDoKCQkJc3JjLnRhcmdldDsKCgkJdGhpcy5jdXJyZW50VGFyZ2V0ID0gc3JjLmN1cnJlbnRUYXJnZXQ7CgkJdGhpcy5yZWxhdGVkVGFyZ2V0ID0gc3JjLnJlbGF0ZWRUYXJnZXQ7CgoJLy8gRXZlbnQgdHlwZQoJfSBlbHNlIHsKCQl0aGlzLnR5cGUgPSBzcmM7Cgl9CgoJLy8gUHV0IGV4cGxpY2l0bHkgcHJvdmlkZWQgcHJvcGVydGllcyBvbnRvIHRoZSBldmVudCBvYmplY3QKCWlmICggcHJvcHMgKSB7CgkJalF1ZXJ5LmV4dGVuZCggdGhpcywgcHJvcHMgKTsKCX0KCgkvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZQoJdGhpcy50aW1lU3RhbXAgPSBzcmMgJiYgc3JjLnRpbWVTdGFtcCB8fCBEYXRlLm5vdygpOwoKCS8vIE1hcmsgaXQgYXMgZml4ZWQKCXRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0cnVlOwp9OwoKLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nCi8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDAzL1dELURPTS1MZXZlbC0zLUV2ZW50cy0yMDAzMDMzMS9lY21hLXNjcmlwdC1iaW5kaW5nLmh0bWwKalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSA9IHsKCWNvbnN0cnVjdG9yOiBqUXVlcnkuRXZlbnQsCglpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLAoJaXNQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLAoJaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLAoJaXNTaW11bGF0ZWQ6IGZhbHNlLAoKCXByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHsKCQl2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDsKCgkJdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSByZXR1cm5UcnVlOwoKCQlpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7CgkJCWUucHJldmVudERlZmF1bHQoKTsKCQl9Cgl9LAoJc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHsKCQl2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDsKCgkJdGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7CgoJCWlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHsKCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsKCQl9Cgl9LAoJc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHsKCQl2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDsKCgkJdGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7CgoJCWlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHsKCQkJZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTsKCQl9CgoJCXRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7Cgl9Cn07CgovLyBJbmNsdWRlcyBhbGwgY29tbW9uIGV2ZW50IHByb3BzIGluY2x1ZGluZyBLZXlFdmVudCBhbmQgTW91c2VFdmVudCBzcGVjaWZpYyBwcm9wcwpqUXVlcnkuZWFjaCggewoJYWx0S2V5OiB0cnVlLAoJYnViYmxlczogdHJ1ZSwKCWNhbmNlbGFibGU6IHRydWUsCgljaGFuZ2VkVG91Y2hlczogdHJ1ZSwKCWN0cmxLZXk6IHRydWUsCglkZXRhaWw6IHRydWUsCglldmVudFBoYXNlOiB0cnVlLAoJbWV0YUtleTogdHJ1ZSwKCXBhZ2VYOiB0cnVlLAoJcGFnZVk6IHRydWUsCglzaGlmdEtleTogdHJ1ZSwKCXZpZXc6IHRydWUsCgkiY2hhciI6IHRydWUsCgljb2RlOiB0cnVlLAoJY2hhckNvZGU6IHRydWUsCglrZXk6IHRydWUsCglrZXlDb2RlOiB0cnVlLAoJYnV0dG9uOiB0cnVlLAoJYnV0dG9uczogdHJ1ZSwKCWNsaWVudFg6IHRydWUsCgljbGllbnRZOiB0cnVlLAoJb2Zmc2V0WDogdHJ1ZSwKCW9mZnNldFk6IHRydWUsCglwb2ludGVySWQ6IHRydWUsCglwb2ludGVyVHlwZTogdHJ1ZSwKCXNjcmVlblg6IHRydWUsCglzY3JlZW5ZOiB0cnVlLAoJdGFyZ2V0VG91Y2hlczogdHJ1ZSwKCXRvRWxlbWVudDogdHJ1ZSwKCXRvdWNoZXM6IHRydWUsCgl3aGljaDogdHJ1ZQp9LCBqUXVlcnkuZXZlbnQuYWRkUHJvcCApOwoKalF1ZXJ5LmVhY2goIHsgZm9jdXM6ICJmb2N1c2luIiwgYmx1cjogImZvY3Vzb3V0IiB9LCBmdW5jdGlvbiggdHlwZSwgZGVsZWdhdGVUeXBlICkgewoJalF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSA9IHsKCgkJLy8gVXRpbGl6ZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0CgkJc2V0dXA6IGZ1bmN0aW9uKCkgewoKCQkJLy8gQ2xhaW0gdGhlIGZpcnN0IGhhbmRsZXIKCQkJLy8gZGF0YVByaXYuc2V0KCB0aGlzLCAiZm9jdXMiLCAuLi4gKQoJCQkvLyBkYXRhUHJpdi5zZXQoIHRoaXMsICJibHVyIiwgLi4uICkKCQkJbGV2ZXJhZ2VOYXRpdmUoIHRoaXMsIHR5cGUsIGV4cGVjdFN5bmMgKTsKCgkJCS8vIFJldHVybiBmYWxzZSB0byBhbGxvdyBub3JtYWwgcHJvY2Vzc2luZyBpbiB0aGUgY2FsbGVyCgkJCXJldHVybiBmYWxzZTsKCQl9LAoJCXRyaWdnZXI6IGZ1bmN0aW9uKCkgewoKCQkJLy8gRm9yY2Ugc2V0dXAgYmVmb3JlIHRyaWdnZXIKCQkJbGV2ZXJhZ2VOYXRpdmUoIHRoaXMsIHR5cGUgKTsKCgkJCS8vIFJldHVybiBub24tZmFsc2UgdG8gYWxsb3cgbm9ybWFsIGV2ZW50LXBhdGggcHJvcGFnYXRpb24KCQkJcmV0dXJuIHRydWU7CgkJfSwKCgkJLy8gU3VwcHJlc3MgbmF0aXZlIGZvY3VzIG9yIGJsdXIgYXMgaXQncyBhbHJlYWR5IGJlaW5nIGZpcmVkCgkJLy8gaW4gbGV2ZXJhZ2VOYXRpdmUuCgkJX2RlZmF1bHQ6IGZ1bmN0aW9uKCkgewoJCQlyZXR1cm4gdHJ1ZTsKCQl9LAoKCQlkZWxlZ2F0ZVR5cGU6IGRlbGVnYXRlVHlwZQoJfTsKfSApOwoKLy8gQ3JlYXRlIG1vdXNlZW50ZXIvbGVhdmUgZXZlbnRzIHVzaW5nIG1vdXNlb3Zlci9vdXQgYW5kIGV2ZW50LXRpbWUgY2hlY2tzCi8vIHNvIHRoYXQgZXZlbnQgZGVsZWdhdGlvbiB3b3JrcyBpbiBqUXVlcnkuCi8vIERvIHRoZSBzYW1lIGZvciBwb2ludGVyZW50ZXIvcG9pbnRlcmxlYXZlIGFuZCBwb2ludGVyb3Zlci9wb2ludGVyb3V0Ci8vCi8vIFN1cHBvcnQ6IFNhZmFyaSA3IG9ubHkKLy8gU2FmYXJpIHNlbmRzIG1vdXNlZW50ZXIgdG9vIG9mdGVuOyBzZWU6Ci8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ3MDI1OAovLyBmb3IgdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBidWcgKGl0IGV4aXN0ZWQgaW4gb2xkZXIgQ2hyb21lIHZlcnNpb25zIGFzIHdlbGwpLgpqUXVlcnkuZWFjaCggewoJbW91c2VlbnRlcjogIm1vdXNlb3ZlciIsCgltb3VzZWxlYXZlOiAibW91c2VvdXQiLAoJcG9pbnRlcmVudGVyOiAicG9pbnRlcm92ZXIiLAoJcG9pbnRlcmxlYXZlOiAicG9pbnRlcm91dCIKfSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHsKCWpRdWVyeS5ldmVudC5zcGVjaWFsWyBvcmlnIF0gPSB7CgkJZGVsZWdhdGVUeXBlOiBmaXgsCgkJYmluZFR5cGU6IGZpeCwKCgkJaGFuZGxlOiBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCXZhciByZXQsCgkJCQl0YXJnZXQgPSB0aGlzLAoJCQkJcmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQsCgkJCQloYW5kbGVPYmogPSBldmVudC5oYW5kbGVPYmo7CgoJCQkvLyBGb3IgbW91c2VlbnRlci9sZWF2ZSBjYWxsIHRoZSBoYW5kbGVyIGlmIHJlbGF0ZWQgaXMgb3V0c2lkZSB0aGUgdGFyZ2V0LgoJCQkvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvdwoJCQlpZiAoICFyZWxhdGVkIHx8ICggcmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqUXVlcnkuY29udGFpbnMoIHRhcmdldCwgcmVsYXRlZCApICkgKSB7CgkJCQlldmVudC50eXBlID0gaGFuZGxlT2JqLm9yaWdUeXBlOwoJCQkJcmV0ID0gaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApOwoJCQkJZXZlbnQudHlwZSA9IGZpeDsKCQkJfQoJCQlyZXR1cm4gcmV0OwoJCX0KCX07Cn0gKTsKCmpRdWVyeS5mbi5leHRlbmQoIHsKCglvbjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKSB7CgkJcmV0dXJuIG9uKCB0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7Cgl9LAoJb25lOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHsKCQlyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIDEgKTsKCX0sCglvZmY6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGZuICkgewoJCXZhciBoYW5kbGVPYmosIHR5cGU7CgkJaWYgKCB0eXBlcyAmJiB0eXBlcy5wcmV2ZW50RGVmYXVsdCAmJiB0eXBlcy5oYW5kbGVPYmogKSB7CgoJCQkvLyAoIGV2ZW50ICkgIGRpc3BhdGNoZWQgalF1ZXJ5LkV2ZW50CgkJCWhhbmRsZU9iaiA9IHR5cGVzLmhhbmRsZU9iajsKCQkJalF1ZXJ5KCB0eXBlcy5kZWxlZ2F0ZVRhcmdldCApLm9mZigKCQkJCWhhbmRsZU9iai5uYW1lc3BhY2UgPwoJCQkJCWhhbmRsZU9iai5vcmlnVHlwZSArICIuIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOgoJCQkJCWhhbmRsZU9iai5vcmlnVHlwZSwKCQkJCWhhbmRsZU9iai5zZWxlY3RvciwKCQkJCWhhbmRsZU9iai5oYW5kbGVyCgkJCSk7CgkJCXJldHVybiB0aGlzOwoJCX0KCQlpZiAoIHR5cGVvZiB0eXBlcyA9PT0gIm9iamVjdCIgKSB7CgoJCQkvLyAoIHR5cGVzLW9iamVjdCBbLCBzZWxlY3Rvcl0gKQoJCQlmb3IgKCB0eXBlIGluIHR5cGVzICkgewoJCQkJdGhpcy5vZmYoIHR5cGUsIHNlbGVjdG9yLCB0eXBlc1sgdHlwZSBdICk7CgkJCX0KCQkJcmV0dXJuIHRoaXM7CgkJfQoJCWlmICggc2VsZWN0b3IgPT09IGZhbHNlIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gImZ1bmN0aW9uIiApIHsKCgkJCS8vICggdHlwZXMgWywgZm5dICkKCQkJZm4gPSBzZWxlY3RvcjsKCQkJc2VsZWN0b3IgPSB1bmRlZmluZWQ7CgkJfQoJCWlmICggZm4gPT09IGZhbHNlICkgewoJCQlmbiA9IHJldHVybkZhbHNlOwoJCX0KCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHsKCQkJalF1ZXJ5LmV2ZW50LnJlbW92ZSggdGhpcywgdHlwZXMsIGZuLCBzZWxlY3RvciApOwoJCX0gKTsKCX0KfSApOwoKCnZhcgoKCS8vIFN1cHBvcnQ6IElFIDw9MTAgLSAxMSwgRWRnZSAxMiAtIDEzIG9ubHkKCS8vIEluIElFL0VkZ2UgdXNpbmcgcmVnZXggZ3JvdXBzIGhlcmUgY2F1c2VzIHNldmVyZSBzbG93ZG93bnMuCgkvLyBTZWUgaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy8xNzM2NTEyLwoJcm5vSW5uZXJodG1sID0gLzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksCgoJLy8gY2hlY2tlZD0iY2hlY2tlZCIgb3IgY2hlY2tlZAoJcmNoZWNrZWQgPSAvY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSwKCXJjbGVhblNjcmlwdCA9IC9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZzsKCi8vIFByZWZlciBhIHRib2R5IG92ZXIgaXRzIHBhcmVudCB0YWJsZSBmb3IgY29udGFpbmluZyBuZXcgcm93cwpmdW5jdGlvbiBtYW5pcHVsYXRpb25UYXJnZXQoIGVsZW0sIGNvbnRlbnQgKSB7CglpZiAoIG5vZGVOYW1lKCBlbGVtLCAidGFibGUiICkgJiYKCQlub2RlTmFtZSggY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCAidHIiICkgKSB7CgoJCXJldHVybiBqUXVlcnkoIGVsZW0gKS5jaGlsZHJlbiggInRib2R5IiApWyAwIF0gfHwgZWxlbTsKCX0KCglyZXR1cm4gZWxlbTsKfQoKLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvbgpmdW5jdGlvbiBkaXNhYmxlU2NyaXB0KCBlbGVtICkgewoJZWxlbS50eXBlID0gKCBlbGVtLmdldEF0dHJpYnV0ZSggInR5cGUiICkgIT09IG51bGwgKSArICIvIiArIGVsZW0udHlwZTsKCXJldHVybiBlbGVtOwp9CmZ1bmN0aW9uIHJlc3RvcmVTY3JpcHQoIGVsZW0gKSB7CglpZiAoICggZWxlbS50eXBlIHx8ICIiICkuc2xpY2UoIDAsIDUgKSA9PT0gInRydWUvIiApIHsKCQllbGVtLnR5cGUgPSBlbGVtLnR5cGUuc2xpY2UoIDUgKTsKCX0gZWxzZSB7CgkJZWxlbS5yZW1vdmVBdHRyaWJ1dGUoICJ0eXBlIiApOwoJfQoKCXJldHVybiBlbGVtOwp9CgpmdW5jdGlvbiBjbG9uZUNvcHlFdmVudCggc3JjLCBkZXN0ICkgewoJdmFyIGksIGwsIHR5cGUsIHBkYXRhT2xkLCB1ZGF0YU9sZCwgdWRhdGFDdXIsIGV2ZW50czsKCglpZiAoIGRlc3Qubm9kZVR5cGUgIT09IDEgKSB7CgkJcmV0dXJuOwoJfQoKCS8vIDEuIENvcHkgcHJpdmF0ZSBkYXRhOiBldmVudHMsIGhhbmRsZXJzLCBldGMuCglpZiAoIGRhdGFQcml2Lmhhc0RhdGEoIHNyYyApICkgewoJCXBkYXRhT2xkID0gZGF0YVByaXYuZ2V0KCBzcmMgKTsKCQlldmVudHMgPSBwZGF0YU9sZC5ldmVudHM7CgoJCWlmICggZXZlbnRzICkgewoJCQlkYXRhUHJpdi5yZW1vdmUoIGRlc3QsICJoYW5kbGUgZXZlbnRzIiApOwoKCQkJZm9yICggdHlwZSBpbiBldmVudHMgKSB7CgkJCQlmb3IgKCBpID0gMCwgbCA9IGV2ZW50c1sgdHlwZSBdLmxlbmd0aDsgaSA8IGw7IGkrKyApIHsKCQkJCQlqUXVlcnkuZXZlbnQuYWRkKCBkZXN0LCB0eXBlLCBldmVudHNbIHR5cGUgXVsgaSBdICk7CgkJCQl9CgkJCX0KCQl9Cgl9CgoJLy8gMi4gQ29weSB1c2VyIGRhdGEKCWlmICggZGF0YVVzZXIuaGFzRGF0YSggc3JjICkgKSB7CgkJdWRhdGFPbGQgPSBkYXRhVXNlci5hY2Nlc3MoIHNyYyApOwoJCXVkYXRhQ3VyID0galF1ZXJ5LmV4dGVuZCgge30sIHVkYXRhT2xkICk7CgoJCWRhdGFVc2VyLnNldCggZGVzdCwgdWRhdGFDdXIgKTsKCX0KfQoKLy8gRml4IElFIGJ1Z3MsIHNlZSBzdXBwb3J0IHRlc3RzCmZ1bmN0aW9uIGZpeElucHV0KCBzcmMsIGRlc3QgKSB7Cgl2YXIgbm9kZU5hbWUgPSBkZXN0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgoJLy8gRmFpbHMgdG8gcGVyc2lzdCB0aGUgY2hlY2tlZCBzdGF0ZSBvZiBhIGNsb25lZCBjaGVja2JveCBvciByYWRpbyBidXR0b24uCglpZiAoIG5vZGVOYW1lID09PSAiaW5wdXQiICYmIHJjaGVja2FibGVUeXBlLnRlc3QoIHNyYy50eXBlICkgKSB7CgkJZGVzdC5jaGVja2VkID0gc3JjLmNoZWNrZWQ7CgoJLy8gRmFpbHMgdG8gcmV0dXJuIHRoZSBzZWxlY3RlZCBvcHRpb24gdG8gdGhlIGRlZmF1bHQgc2VsZWN0ZWQgc3RhdGUgd2hlbiBjbG9uaW5nIG9wdGlvbnMKCX0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSAiaW5wdXQiIHx8IG5vZGVOYW1lID09PSAidGV4dGFyZWEiICkgewoJCWRlc3QuZGVmYXVsdFZhbHVlID0gc3JjLmRlZmF1bHRWYWx1ZTsKCX0KfQoKZnVuY3Rpb24gZG9tTWFuaXAoIGNvbGxlY3Rpb24sIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICkgewoKCS8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXMKCWFyZ3MgPSBmbGF0KCBhcmdzICk7CgoJdmFyIGZyYWdtZW50LCBmaXJzdCwgc2NyaXB0cywgaGFzU2NyaXB0cywgbm9kZSwgZG9jLAoJCWkgPSAwLAoJCWwgPSBjb2xsZWN0aW9uLmxlbmd0aCwKCQlpTm9DbG9uZSA9IGwgLSAxLAoJCXZhbHVlID0gYXJnc1sgMCBdLAoJCXZhbHVlSXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24oIHZhbHVlICk7CgoJLy8gV2UgY2FuJ3QgY2xvbmVOb2RlIGZyYWdtZW50cyB0aGF0IGNvbnRhaW4gY2hlY2tlZCwgaW4gV2ViS2l0CglpZiAoIHZhbHVlSXNGdW5jdGlvbiB8fAoJCQkoIGwgPiAxICYmIHR5cGVvZiB2YWx1ZSA9PT0gInN0cmluZyIgJiYKCQkJCSFzdXBwb3J0LmNoZWNrQ2xvbmUgJiYgcmNoZWNrZWQudGVzdCggdmFsdWUgKSApICkgewoJCXJldHVybiBjb2xsZWN0aW9uLmVhY2goIGZ1bmN0aW9uKCBpbmRleCApIHsKCQkJdmFyIHNlbGYgPSBjb2xsZWN0aW9uLmVxKCBpbmRleCApOwoJCQlpZiAoIHZhbHVlSXNGdW5jdGlvbiApIHsKCQkJCWFyZ3NbIDAgXSA9IHZhbHVlLmNhbGwoIHRoaXMsIGluZGV4LCBzZWxmLmh0bWwoKSApOwoJCQl9CgkJCWRvbU1hbmlwKCBzZWxmLCBhcmdzLCBjYWxsYmFjaywgaWdub3JlZCApOwoJCX0gKTsKCX0KCglpZiAoIGwgKSB7CgkJZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTsKCQlmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7CgoJCWlmICggZnJhZ21lbnQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDEgKSB7CgkJCWZyYWdtZW50ID0gZmlyc3Q7CgkJfQoKCQkvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVzdCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2sKCQlpZiAoIGZpcnN0IHx8IGlnbm9yZWQgKSB7CgkJCXNjcmlwdHMgPSBqUXVlcnkubWFwKCBnZXRBbGwoIGZyYWdtZW50LCAic2NyaXB0IiApLCBkaXNhYmxlU2NyaXB0ICk7CgkJCWhhc1NjcmlwdHMgPSBzY3JpcHRzLmxlbmd0aDsKCgkJCS8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW0KCQkJLy8gaW5zdGVhZCBvZiB0aGUgZmlyc3QgYmVjYXVzZSBpdCBjYW4gZW5kIHVwCgkJCS8vIGJlaW5nIGVtcHRpZWQgaW5jb3JyZWN0bHkgaW4gY2VydGFpbiBzaXR1YXRpb25zICgjODA3MCkuCgkJCWZvciAoIDsgaSA8IGw7IGkrKyApIHsKCQkJCW5vZGUgPSBmcmFnbWVudDsKCgkJCQlpZiAoIGkgIT09IGlOb0Nsb25lICkgewoJCQkJCW5vZGUgPSBqUXVlcnkuY2xvbmUoIG5vZGUsIHRydWUsIHRydWUgKTsKCgkJCQkJLy8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvbgoJCQkJCWlmICggaGFzU2NyaXB0cyApIHsKCgkJCQkJCS8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seQoJCQkJCQkvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0CgkJCQkJCWpRdWVyeS5tZXJnZSggc2NyaXB0cywgZ2V0QWxsKCBub2RlLCAic2NyaXB0IiApICk7CgkJCQkJfQoJCQkJfQoKCQkJCWNhbGxiYWNrLmNhbGwoIGNvbGxlY3Rpb25bIGkgXSwgbm9kZSwgaSApOwoJCQl9CgoJCQlpZiAoIGhhc1NjcmlwdHMgKSB7CgkJCQlkb2MgPSBzY3JpcHRzWyBzY3JpcHRzLmxlbmd0aCAtIDEgXS5vd25lckRvY3VtZW50OwoKCQkJCS8vIFJlZW5hYmxlIHNjcmlwdHMKCQkJCWpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTsKCgkJCQkvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uCgkJCQlmb3IgKCBpID0gMDsgaSA8IGhhc1NjcmlwdHM7IGkrKyApIHsKCQkJCQlub2RlID0gc2NyaXB0c1sgaSBdOwoJCQkJCWlmICggcnNjcmlwdFR5cGUudGVzdCggbm9kZS50eXBlIHx8ICIiICkgJiYKCQkJCQkJIWRhdGFQcml2LmFjY2Vzcyggbm9kZSwgImdsb2JhbEV2YWwiICkgJiYKCQkJCQkJalF1ZXJ5LmNvbnRhaW5zKCBkb2MsIG5vZGUgKSApIHsKCgkJCQkJCWlmICggbm9kZS5zcmMgJiYgKCBub2RlLnR5cGUgfHwgIiIgKS50b0xvd2VyQ2FzZSgpICAhPT0gIm1vZHVsZSIgKSB7CgoJCQkJCQkJLy8gT3B0aW9uYWwgQUpBWCBkZXBlbmRlbmN5LCBidXQgd29uJ3QgcnVuIHNjcmlwdHMgaWYgbm90IHByZXNlbnQKCQkJCQkJCWlmICggalF1ZXJ5Ll9ldmFsVXJsICYmICFub2RlLm5vTW9kdWxlICkgewoJCQkJCQkJCWpRdWVyeS5fZXZhbFVybCggbm9kZS5zcmMsIHsKCQkJCQkJCQkJbm9uY2U6IG5vZGUubm9uY2UgfHwgbm9kZS5nZXRBdHRyaWJ1dGUoICJub25jZSIgKQoJCQkJCQkJCX0sIGRvYyApOwoJCQkJCQkJfQoJCQkJCQl9IGVsc2UgewoJCQkJCQkJRE9NRXZhbCggbm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKCByY2xlYW5TY3JpcHQsICIiICksIG5vZGUsIGRvYyApOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoJfQoKCXJldHVybiBjb2xsZWN0aW9uOwp9CgpmdW5jdGlvbiByZW1vdmUoIGVsZW0sIHNlbGVjdG9yLCBrZWVwRGF0YSApIHsKCXZhciBub2RlLAoJCW5vZGVzID0gc2VsZWN0b3IgPyBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgZWxlbSApIDogZWxlbSwKCQlpID0gMDsKCglmb3IgKCA7ICggbm9kZSA9IG5vZGVzWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7CgkJaWYgKCAha2VlcERhdGEgJiYgbm9kZS5ub2RlVHlwZSA9PT0gMSApIHsKCQkJalF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBub2RlICkgKTsKCQl9CgoJCWlmICggbm9kZS5wYXJlbnROb2RlICkgewoJCQlpZiAoIGtlZXBEYXRhICYmIGlzQXR0YWNoZWQoIG5vZGUgKSApIHsKCQkJCXNldEdsb2JhbEV2YWwoIGdldEFsbCggbm9kZSwgInNjcmlwdCIgKSApOwoJCQl9CgkJCW5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggbm9kZSApOwoJCX0KCX0KCglyZXR1cm4gZWxlbTsKfQoKalF1ZXJ5LmV4dGVuZCggewoJaHRtbFByZWZpbHRlcjogZnVuY3Rpb24oIGh0bWwgKSB7CgkJcmV0dXJuIGh0bWw7Cgl9LAoKCWNsb25lOiBmdW5jdGlvbiggZWxlbSwgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7CgkJdmFyIGksIGwsIHNyY0VsZW1lbnRzLCBkZXN0RWxlbWVudHMsCgkJCWNsb25lID0gZWxlbS5jbG9uZU5vZGUoIHRydWUgKSwKCQkJaW5QYWdlID0gaXNBdHRhY2hlZCggZWxlbSApOwoKCQkvLyBGaXggSUUgY2xvbmluZyBpc3N1ZXMKCQlpZiAoICFzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkICYmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtLm5vZGVUeXBlID09PSAxMSApICYmCgkJCQkhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7CgoJCQkvLyBXZSBlc2NoZXcgU2l6emxlIGhlcmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnM6IGh0dHBzOi8vanNwZXJmLmNvbS9nZXRhbGwtdnMtc2l6emxlLzIKCQkJZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSApOwoJCQlzcmNFbGVtZW50cyA9IGdldEFsbCggZWxlbSApOwoKCQkJZm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7CgkJCQlmaXhJbnB1dCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTsKCQkJfQoJCX0KCgkJLy8gQ29weSB0aGUgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIHRvIHRoZSBjbG9uZQoJCWlmICggZGF0YUFuZEV2ZW50cyApIHsKCQkJaWYgKCBkZWVwRGF0YUFuZEV2ZW50cyApIHsKCQkJCXNyY0VsZW1lbnRzID0gc3JjRWxlbWVudHMgfHwgZ2V0QWxsKCBlbGVtICk7CgkJCQlkZXN0RWxlbWVudHMgPSBkZXN0RWxlbWVudHMgfHwgZ2V0QWxsKCBjbG9uZSApOwoKCQkJCWZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkgewoJCQkJCWNsb25lQ29weUV2ZW50KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJY2xvbmVDb3B5RXZlbnQoIGVsZW0sIGNsb25lICk7CgkJCX0KCQl9CgoJCS8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3RvcnkKCQlkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lLCAic2NyaXB0IiApOwoJCWlmICggZGVzdEVsZW1lbnRzLmxlbmd0aCA+IDAgKSB7CgkJCXNldEdsb2JhbEV2YWwoIGRlc3RFbGVtZW50cywgIWluUGFnZSAmJiBnZXRBbGwoIGVsZW0sICJzY3JpcHQiICkgKTsKCQl9CgoJCS8vIFJldHVybiB0aGUgY2xvbmVkIHNldAoJCXJldHVybiBjbG9uZTsKCX0sCgoJY2xlYW5EYXRhOiBmdW5jdGlvbiggZWxlbXMgKSB7CgkJdmFyIGRhdGEsIGVsZW0sIHR5cGUsCgkJCXNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbCwKCQkJaSA9IDA7CgoJCWZvciAoIDsgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9PSB1bmRlZmluZWQ7IGkrKyApIHsKCQkJaWYgKCBhY2NlcHREYXRhKCBlbGVtICkgKSB7CgkJCQlpZiAoICggZGF0YSA9IGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSApICkgewoJCQkJCWlmICggZGF0YS5ldmVudHMgKSB7CgkJCQkJCWZvciAoIHR5cGUgaW4gZGF0YS5ldmVudHMgKSB7CgkJCQkJCQlpZiAoIHNwZWNpYWxbIHR5cGUgXSApIHsKCQkJCQkJCQlqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICk7CgoJCQkJCQkJLy8gVGhpcyBpcyBhIHNob3J0Y3V0IHRvIGF2b2lkIGpRdWVyeS5ldmVudC5yZW1vdmUncyBvdmVyaGVhZAoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQlqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUsIGRhdGEuaGFuZGxlICk7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgoJCQkJCS8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrCgkJCQkJLy8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlCgkJCQkJZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdID0gdW5kZWZpbmVkOwoJCQkJfQoJCQkJaWYgKCBlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gKSB7CgoJCQkJCS8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrCgkJCQkJLy8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlCgkJCQkJZWxlbVsgZGF0YVVzZXIuZXhwYW5kbyBdID0gdW5kZWZpbmVkOwoJCQkJfQoJCQl9CgkJfQoJfQp9ICk7CgpqUXVlcnkuZm4uZXh0ZW5kKCB7CglkZXRhY2g6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHsKCQlyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciwgdHJ1ZSApOwoJfSwKCglyZW1vdmU6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHsKCQlyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciApOwoJfSwKCgl0ZXh0OiBmdW5jdGlvbiggdmFsdWUgKSB7CgkJcmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkgewoJCQlyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/CgkJCQlqUXVlcnkudGV4dCggdGhpcyApIDoKCQkJCXRoaXMuZW1wdHkoKS5lYWNoKCBmdW5jdGlvbigpIHsKCQkJCQlpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHsKCQkJCQkJdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlOwoJCQkJCX0KCQkJCX0gKTsKCQl9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApOwoJfSwKCglhcHBlbmQ6IGZ1bmN0aW9uKCkgewoJCXJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHsKCQkJaWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7CgkJCQl2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7CgkJCQl0YXJnZXQuYXBwZW5kQ2hpbGQoIGVsZW0gKTsKCQkJfQoJCX0gKTsKCX0sCgoJcHJlcGVuZDogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkgewoJCQlpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHsKCQkJCXZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTsKCQkJCXRhcmdldC5pbnNlcnRCZWZvcmUoIGVsZW0sIHRhcmdldC5maXJzdENoaWxkICk7CgkJCX0KCQl9ICk7Cgl9LAoKCWJlZm9yZTogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkgewoJCQlpZiAoIHRoaXMucGFyZW50Tm9kZSApIHsKCQkJCXRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMgKTsKCQkJfQoJCX0gKTsKCX0sCgoJYWZ0ZXI6IGZ1bmN0aW9uKCkgewoJCXJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHsKCQkJaWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7CgkJCQl0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzLm5leHRTaWJsaW5nICk7CgkJCX0KCQl9ICk7Cgl9LAoKCWVtcHR5OiBmdW5jdGlvbigpIHsKCQl2YXIgZWxlbSwKCQkJaSA9IDA7CgoJCWZvciAoIDsgKCBlbGVtID0gdGhpc1sgaSBdICkgIT0gbnVsbDsgaSsrICkgewoJCQlpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7CgoJCQkJLy8gUHJldmVudCBtZW1vcnkgbGVha3MKCQkJCWpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApOwoKCQkJCS8vIFJlbW92ZSBhbnkgcmVtYWluaW5nIG5vZGVzCgkJCQllbGVtLnRleHRDb250ZW50ID0gIiI7CgkJCX0KCQl9CgoJCXJldHVybiB0aGlzOwoJfSwKCgljbG9uZTogZnVuY3Rpb24oIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkgewoJCWRhdGFBbmRFdmVudHMgPSBkYXRhQW5kRXZlbnRzID09IG51bGwgPyBmYWxzZSA6IGRhdGFBbmRFdmVudHM7CgkJZGVlcERhdGFBbmRFdmVudHMgPSBkZWVwRGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZGF0YUFuZEV2ZW50cyA6IGRlZXBEYXRhQW5kRXZlbnRzOwoKCQlyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkgewoJCQlyZXR1cm4galF1ZXJ5LmNsb25lKCB0aGlzLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApOwoJCX0gKTsKCX0sCgoJaHRtbDogZnVuY3Rpb24oIHZhbHVlICkgewoJCXJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHsKCQkJdmFyIGVsZW0gPSB0aGlzWyAwIF0gfHwge30sCgkJCQlpID0gMCwKCQkJCWwgPSB0aGlzLmxlbmd0aDsKCgkJCWlmICggdmFsdWUgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkgewoJCQkJcmV0dXJuIGVsZW0uaW5uZXJIVE1MOwoJCQl9CgoJCQkvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MCgkJCWlmICggdHlwZW9mIHZhbHVlID09PSAic3RyaW5nIiAmJiAhcm5vSW5uZXJodG1sLnRlc3QoIHZhbHVlICkgJiYKCQkJCSF3cmFwTWFwWyAoIHJ0YWdOYW1lLmV4ZWMoIHZhbHVlICkgfHwgWyAiIiwgIiIgXSApWyAxIF0udG9Mb3dlckNhc2UoKSBdICkgewoKCQkJCXZhbHVlID0galF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoIHZhbHVlICk7CgoJCQkJdHJ5IHsKCQkJCQlmb3IgKCA7IGkgPCBsOyBpKysgKSB7CgkJCQkJCWVsZW0gPSB0aGlzWyBpIF0gfHwge307CgoJCQkJCQkvLyBSZW1vdmUgZWxlbWVudCBub2RlcyBhbmQgcHJldmVudCBtZW1vcnkgbGVha3MKCQkJCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkgewoJCQkJCQkJalF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7CgkJCQkJCQllbGVtLmlubmVySFRNTCA9IHZhbHVlOwoJCQkJCQl9CgkJCQkJfQoKCQkJCQllbGVtID0gMDsKCgkJCQkvLyBJZiB1c2luZyBpbm5lckhUTUwgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgdXNlIHRoZSBmYWxsYmFjayBtZXRob2QKCQkJCX0gY2F0Y2ggKCBlICkge30KCQkJfQoKCQkJaWYgKCBlbGVtICkgewoJCQkJdGhpcy5lbXB0eSgpLmFwcGVuZCggdmFsdWUgKTsKCQkJfQoJCX0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7Cgl9LAoKCXJlcGxhY2VXaXRoOiBmdW5jdGlvbigpIHsKCQl2YXIgaWdub3JlZCA9IFtdOwoKCQkvLyBNYWtlIHRoZSBjaGFuZ2VzLCByZXBsYWNpbmcgZWFjaCBub24taWdub3JlZCBjb250ZXh0IGVsZW1lbnQgd2l0aCB0aGUgbmV3IGNvbnRlbnQKCQlyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7CgkJCXZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7CgoJCQlpZiAoIGpRdWVyeS5pbkFycmF5KCB0aGlzLCBpZ25vcmVkICkgPCAwICkgewoJCQkJalF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCB0aGlzICkgKTsKCQkJCWlmICggcGFyZW50ICkgewoJCQkJCXBhcmVudC5yZXBsYWNlQ2hpbGQoIGVsZW0sIHRoaXMgKTsKCQkJCX0KCQkJfQoKCQkvLyBGb3JjZSBjYWxsYmFjayBpbnZvY2F0aW9uCgkJfSwgaWdub3JlZCApOwoJfQp9ICk7CgpqUXVlcnkuZWFjaCggewoJYXBwZW5kVG86ICJhcHBlbmQiLAoJcHJlcGVuZFRvOiAicHJlcGVuZCIsCglpbnNlcnRCZWZvcmU6ICJiZWZvcmUiLAoJaW5zZXJ0QWZ0ZXI6ICJhZnRlciIsCglyZXBsYWNlQWxsOiAicmVwbGFjZVdpdGgiCn0sIGZ1bmN0aW9uKCBuYW1lLCBvcmlnaW5hbCApIHsKCWpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNlbGVjdG9yICkgewoJCXZhciBlbGVtcywKCQkJcmV0ID0gW10sCgkJCWluc2VydCA9IGpRdWVyeSggc2VsZWN0b3IgKSwKCQkJbGFzdCA9IGluc2VydC5sZW5ndGggLSAxLAoJCQlpID0gMDsKCgkJZm9yICggOyBpIDw9IGxhc3Q7IGkrKyApIHsKCQkJZWxlbXMgPSBpID09PSBsYXN0ID8gdGhpcyA6IHRoaXMuY2xvbmUoIHRydWUgKTsKCQkJalF1ZXJ5KCBpbnNlcnRbIGkgXSApWyBvcmlnaW5hbCBdKCBlbGVtcyApOwoKCQkJLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5CgkJCS8vIC5nZXQoKSBiZWNhdXNlIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXQKCQkJcHVzaC5hcHBseSggcmV0LCBlbGVtcy5nZXQoKSApOwoJCX0KCgkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKCByZXQgKTsKCX07Cn0gKTsKdmFyIHJudW1ub25weCA9IG5ldyBSZWdFeHAoICJeKCIgKyBwbnVtICsgIikoPyFweClbYS16JV0rJCIsICJpIiApOwoKdmFyIGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkgewoKCQkvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHksIEZpcmVmb3ggPD0zMCAoIzE1MDk4LCAjMTQxNTApCgkJLy8gSUUgdGhyb3dzIG9uIGVsZW1lbnRzIGNyZWF0ZWQgaW4gcG9wdXBzCgkJLy8gRkYgbWVhbndoaWxlIHRocm93cyBvbiBmcmFtZSBlbGVtZW50cyB0aHJvdWdoICJkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlIgoJCXZhciB2aWV3ID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3OwoKCQlpZiAoICF2aWV3IHx8ICF2aWV3Lm9wZW5lciApIHsKCQkJdmlldyA9IHdpbmRvdzsKCQl9CgoJCXJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTsKCX07Cgp2YXIgc3dhcCA9IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBjYWxsYmFjayApIHsKCXZhciByZXQsIG5hbWUsCgkJb2xkID0ge307CgoJLy8gUmVtZW1iZXIgdGhlIG9sZCB2YWx1ZXMsIGFuZCBpbnNlcnQgdGhlIG5ldyBvbmVzCglmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7CgkJb2xkWyBuYW1lIF0gPSBlbGVtLnN0eWxlWyBuYW1lIF07CgkJZWxlbS5zdHlsZVsgbmFtZSBdID0gb3B0aW9uc1sgbmFtZSBdOwoJfQoKCXJldCA9IGNhbGxiYWNrLmNhbGwoIGVsZW0gKTsKCgkvLyBSZXZlcnQgdGhlIG9sZCB2YWx1ZXMKCWZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHsKCQllbGVtLnN0eWxlWyBuYW1lIF0gPSBvbGRbIG5hbWUgXTsKCX0KCglyZXR1cm4gcmV0Owp9OwoKCnZhciByYm94U3R5bGUgPSBuZXcgUmVnRXhwKCBjc3NFeHBhbmQuam9pbiggInwiICksICJpIiApOwoKCgooIGZ1bmN0aW9uKCkgewoKCS8vIEV4ZWN1dGluZyBib3RoIHBpeGVsUG9zaXRpb24gJiBib3hTaXppbmdSZWxpYWJsZSB0ZXN0cyByZXF1aXJlIG9ubHkgb25lIGxheW91dAoJLy8gc28gdGhleSdyZSBleGVjdXRlZCBhdCB0aGUgc2FtZSB0aW1lIHRvIHNhdmUgdGhlIHNlY29uZCBjb21wdXRhdGlvbi4KCWZ1bmN0aW9uIGNvbXB1dGVTdHlsZVRlc3RzKCkgewoKCQkvLyBUaGlzIGlzIGEgc2luZ2xldG9uLCB3ZSBuZWVkIHRvIGV4ZWN1dGUgaXQgb25seSBvbmNlCgkJaWYgKCAhZGl2ICkgewoJCQlyZXR1cm47CgkJfQoKCQljb250YWluZXIuc3R5bGUuY3NzVGV4dCA9ICJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O3dpZHRoOjYwcHg7IiArCgkJCSJtYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiOwoJCWRpdi5zdHlsZS5jc3NUZXh0ID0KCQkJInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93OnNjcm9sbDsiICsKCQkJIm1hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7IiArCgkJCSJ3aWR0aDo2MCU7dG9wOjElIjsKCQlkb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoIGNvbnRhaW5lciApLmFwcGVuZENoaWxkKCBkaXYgKTsKCgkJdmFyIGRpdlN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGRpdiApOwoJCXBpeGVsUG9zaXRpb25WYWwgPSBkaXZTdHlsZS50b3AgIT09ICIxJSI7CgoJCS8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHksIEZpcmVmb3ggPD0zIC0gNDQKCQlyZWxpYWJsZU1hcmdpbkxlZnRWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdlN0eWxlLm1hcmdpbkxlZnQgKSA9PT0gMTI7CgoJCS8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHksIFNhZmFyaSA8PTkuMSAtIDEwLjEsIGlPUyA8PTcuMCAtIDkuMwoJCS8vIFNvbWUgc3R5bGVzIGNvbWUgYmFjayB3aXRoIHBlcmNlbnRhZ2UgdmFsdWVzLCBldmVuIHRob3VnaCB0aGV5IHNob3VsZG4ndAoJCWRpdi5zdHlsZS5yaWdodCA9ICI2MCUiOwoJCXBpeGVsQm94U3R5bGVzVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXZTdHlsZS5yaWdodCApID09PSAzNjsKCgkJLy8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHkKCQkvLyBEZXRlY3QgbWlzcmVwb3J0aW5nIG9mIGNvbnRlbnQgZGltZW5zaW9ucyBmb3IgYm94LXNpemluZzpib3JkZXItYm94IGVsZW1lbnRzCgkJYm94U2l6aW5nUmVsaWFibGVWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdlN0eWxlLndpZHRoICkgPT09IDM2OwoKCQkvLyBTdXBwb3J0OiBJRSA5IG9ubHkKCQkvLyBEZXRlY3Qgb3ZlcmZsb3c6c2Nyb2xsIHNjcmV3aW5lc3MgKGdoLTM2OTkpCgkJLy8gU3VwcG9ydDogQ2hyb21lIDw9NjQKCQkvLyBEb24ndCBnZXQgdHJpY2tlZCB3aGVuIHpvb20gYWZmZWN0cyBvZmZzZXRXaWR0aCAoZ2gtNDAyOSkKCQlkaXYuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwoJCXNjcm9sbGJveFNpemVWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdi5vZmZzZXRXaWR0aCAvIDMgKSA9PT0gMTI7CgoJCWRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7CgoJCS8vIE51bGxpZnkgdGhlIGRpdiBzbyBpdCB3b3VsZG4ndCBiZSBzdG9yZWQgaW4gdGhlIG1lbW9yeSBhbmQKCQkvLyBpdCB3aWxsIGFsc28gYmUgYSBzaWduIHRoYXQgY2hlY2tzIGFscmVhZHkgcGVyZm9ybWVkCgkJZGl2ID0gbnVsbDsKCX0KCglmdW5jdGlvbiByb3VuZFBpeGVsTWVhc3VyZXMoIG1lYXN1cmUgKSB7CgkJcmV0dXJuIE1hdGgucm91bmQoIHBhcnNlRmxvYXQoIG1lYXN1cmUgKSApOwoJfQoKCXZhciBwaXhlbFBvc2l0aW9uVmFsLCBib3hTaXppbmdSZWxpYWJsZVZhbCwgc2Nyb2xsYm94U2l6ZVZhbCwgcGl4ZWxCb3hTdHlsZXNWYWwsCgkJcmVsaWFibGVUckRpbWVuc2lvbnNWYWwsIHJlbGlhYmxlTWFyZ2luTGVmdFZhbCwKCQljb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiZGl2IiApLAoJCWRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJkaXYiICk7CgoJLy8gRmluaXNoIGVhcmx5IGluIGxpbWl0ZWQgKG5vbi1icm93c2VyKSBlbnZpcm9ubWVudHMKCWlmICggIWRpdi5zdHlsZSApIHsKCQlyZXR1cm47Cgl9CgoJLy8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seQoJLy8gU3R5bGUgb2YgY2xvbmVkIGVsZW1lbnQgYWZmZWN0cyBzb3VyY2UgZWxlbWVudCBjbG9uZWQgKCM4OTA4KQoJZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID0gImNvbnRlbnQtYm94IjsKCWRpdi5jbG9uZU5vZGUoIHRydWUgKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9ICIiOwoJc3VwcG9ydC5jbGVhckNsb25lU3R5bGUgPSBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPT09ICJjb250ZW50LWJveCI7CgoJalF1ZXJ5LmV4dGVuZCggc3VwcG9ydCwgewoJCWJveFNpemluZ1JlbGlhYmxlOiBmdW5jdGlvbigpIHsKCQkJY29tcHV0ZVN0eWxlVGVzdHMoKTsKCQkJcmV0dXJuIGJveFNpemluZ1JlbGlhYmxlVmFsOwoJCX0sCgkJcGl4ZWxCb3hTdHlsZXM6IGZ1bmN0aW9uKCkgewoJCQljb21wdXRlU3R5bGVUZXN0cygpOwoJCQlyZXR1cm4gcGl4ZWxCb3hTdHlsZXNWYWw7CgkJfSwKCQlwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHsKCQkJY29tcHV0ZVN0eWxlVGVzdHMoKTsKCQkJcmV0dXJuIHBpeGVsUG9zaXRpb25WYWw7CgkJfSwKCQlyZWxpYWJsZU1hcmdpbkxlZnQ6IGZ1bmN0aW9uKCkgewoJCQljb21wdXRlU3R5bGVUZXN0cygpOwoJCQlyZXR1cm4gcmVsaWFibGVNYXJnaW5MZWZ0VmFsOwoJCX0sCgkJc2Nyb2xsYm94U2l6ZTogZnVuY3Rpb24oKSB7CgkJCWNvbXB1dGVTdHlsZVRlc3RzKCk7CgkJCXJldHVybiBzY3JvbGxib3hTaXplVmFsOwoJCX0sCgoJCS8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTUgLSAxOCsKCQkvLyBJRS9FZGdlIG1pc3JlcG9ydCBgZ2V0Q29tcHV0ZWRTdHlsZWAgb2YgdGFibGUgcm93cyB3aXRoIHdpZHRoL2hlaWdodAoJCS8vIHNldCBpbiBDU1Mgd2hpbGUgYG9mZnNldCpgIHByb3BlcnRpZXMgcmVwb3J0IGNvcnJlY3QgdmFsdWVzLgoJCS8vIEJlaGF2aW9yIGluIElFIDkgaXMgbW9yZSBzdWJ0bGUgdGhhbiBpbiBuZXdlciB2ZXJzaW9ucyAmIGl0IHBhc3NlcwoJCS8vIHNvbWUgdmVyc2lvbnMgb2YgdGhpcyB0ZXN0OyBtYWtlIHN1cmUgbm90IHRvIG1ha2UgaXQgcGFzcyB0aGVyZSEKCQkvLwoJCS8vIFN1cHBvcnQ6IEZpcmVmb3ggNzArCgkJLy8gT25seSBGaXJlZm94IGluY2x1ZGVzIGJvcmRlciB3aWR0aHMKCQkvLyBpbiBjb21wdXRlZCBkaW1lbnNpb25zLiAoZ2gtNDUyOSkKCQlyZWxpYWJsZVRyRGltZW5zaW9uczogZnVuY3Rpb24oKSB7CgkJCXZhciB0YWJsZSwgdHIsIHRyQ2hpbGQsIHRyU3R5bGU7CgkJCWlmICggcmVsaWFibGVUckRpbWVuc2lvbnNWYWwgPT0gbnVsbCApIHsKCQkJCXRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggInRhYmxlIiApOwoJCQkJdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAidHIiICk7CgkJCQl0ckNoaWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImRpdiIgKTsKCgkJCQl0YWJsZS5zdHlsZS5jc3NUZXh0ID0gInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7Ym9yZGVyLWNvbGxhcHNlOnNlcGFyYXRlIjsKCQkJCXRyLnN0eWxlLmNzc1RleHQgPSAiYm9yZGVyOjFweCBzb2xpZCI7CgoJCQkJLy8gU3VwcG9ydDogQ2hyb21lIDg2KwoJCQkJLy8gSGVpZ2h0IHNldCB0aHJvdWdoIGNzc1RleHQgZG9lcyBub3QgZ2V0IGFwcGxpZWQuCgkJCQkvLyBDb21wdXRlZCBoZWlnaHQgdGhlbiBjb21lcyBiYWNrIGFzIDAuCgkJCQl0ci5zdHlsZS5oZWlnaHQgPSAiMXB4IjsKCQkJCXRyQ2hpbGQuc3R5bGUuaGVpZ2h0ID0gIjlweCI7CgoJCQkJLy8gU3VwcG9ydDogQW5kcm9pZCA4IENocm9tZSA4NisKCQkJCS8vIEluIG91ciBib2R5QmFja2dyb3VuZC5odG1sIGlmcmFtZSwKCQkJCS8vIGRpc3BsYXkgZm9yIGFsbCBkaXYgZWxlbWVudHMgaXMgc2V0IHRvICJpbmxpbmUiLAoJCQkJLy8gd2hpY2ggY2F1c2VzIGEgcHJvYmxlbSBvbmx5IGluIEFuZHJvaWQgOCBDaHJvbWUgODYuCgkJCQkvLyBFbnN1cmluZyB0aGUgZGl2IGlzIGRpc3BsYXk6IGJsb2NrCgkJCQkvLyBnZXRzIGFyb3VuZCB0aGlzIGlzc3VlLgoJCQkJdHJDaGlsZC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCgkJCQlkb2N1bWVudEVsZW1lbnQKCQkJCQkuYXBwZW5kQ2hpbGQoIHRhYmxlICkKCQkJCQkuYXBwZW5kQ2hpbGQoIHRyICkKCQkJCQkuYXBwZW5kQ2hpbGQoIHRyQ2hpbGQgKTsKCgkJCQl0clN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIHRyICk7CgkJCQlyZWxpYWJsZVRyRGltZW5zaW9uc1ZhbCA9ICggcGFyc2VJbnQoIHRyU3R5bGUuaGVpZ2h0LCAxMCApICsKCQkJCQlwYXJzZUludCggdHJTdHlsZS5ib3JkZXJUb3BXaWR0aCwgMTAgKSArCgkJCQkJcGFyc2VJbnQoIHRyU3R5bGUuYm9yZGVyQm90dG9tV2lkdGgsIDEwICkgKSA9PT0gdHIub2Zmc2V0SGVpZ2h0OwoKCQkJCWRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggdGFibGUgKTsKCQkJfQoJCQlyZXR1cm4gcmVsaWFibGVUckRpbWVuc2lvbnNWYWw7CgkJfQoJfSApOwp9ICkoKTsKCgpmdW5jdGlvbiBjdXJDU1MoIGVsZW0sIG5hbWUsIGNvbXB1dGVkICkgewoJdmFyIHdpZHRoLCBtaW5XaWR0aCwgbWF4V2lkdGgsIHJldCwKCgkJLy8gU3VwcG9ydDogRmlyZWZveCA1MSsKCQkvLyBSZXRyaWV2aW5nIHN0eWxlIGJlZm9yZSBjb21wdXRlZCBzb21laG93CgkJLy8gZml4ZXMgYW4gaXNzdWUgd2l0aCBnZXR0aW5nIHdyb25nIHZhbHVlcwoJCS8vIG9uIGRldGFjaGVkIGVsZW1lbnRzCgkJc3R5bGUgPSBlbGVtLnN0eWxlOwoKCWNvbXB1dGVkID0gY29tcHV0ZWQgfHwgZ2V0U3R5bGVzKCBlbGVtICk7CgoJLy8gZ2V0UHJvcGVydHlWYWx1ZSBpcyBuZWVkZWQgZm9yOgoJLy8gICAuY3NzKCdmaWx0ZXInKSAoSUUgOSBvbmx5LCAjMTI1MzcpCgkvLyAgIC5jc3MoJy0tY3VzdG9tUHJvcGVydHkpICgjMzE0NCkKCWlmICggY29tcHV0ZWQgKSB7CgkJcmV0ID0gY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZSggbmFtZSApIHx8IGNvbXB1dGVkWyBuYW1lIF07CgoJCWlmICggcmV0ID09PSAiIiAmJiAhaXNBdHRhY2hlZCggZWxlbSApICkgewoJCQlyZXQgPSBqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUgKTsKCQl9CgoJCS8vIEEgdHJpYnV0ZSB0byB0aGUgImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHMiCgkJLy8gQW5kcm9pZCBCcm93c2VyIHJldHVybnMgcGVyY2VudGFnZSBmb3Igc29tZSB2YWx1ZXMsCgkJLy8gYnV0IHdpZHRoIHNlZW1zIHRvIGJlIHJlbGlhYmx5IHBpeGVscy4KCQkvLyBUaGlzIGlzIGFnYWluc3QgdGhlIENTU09NIGRyYWZ0IHNwZWM6CgkJLy8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzc29tLyNyZXNvbHZlZC12YWx1ZXMKCQlpZiAoICFzdXBwb3J0LnBpeGVsQm94U3R5bGVzKCkgJiYgcm51bW5vbnB4LnRlc3QoIHJldCApICYmIHJib3hTdHlsZS50ZXN0KCBuYW1lICkgKSB7CgoJCQkvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzCgkJCXdpZHRoID0gc3R5bGUud2lkdGg7CgkJCW1pbldpZHRoID0gc3R5bGUubWluV2lkdGg7CgkJCW1heFdpZHRoID0gc3R5bGUubWF4V2lkdGg7CgoJCQkvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0CgkJCXN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDsKCQkJcmV0ID0gY29tcHV0ZWQud2lkdGg7CgoJCQkvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzCgkJCXN0eWxlLndpZHRoID0gd2lkdGg7CgkJCXN0eWxlLm1pbldpZHRoID0gbWluV2lkdGg7CgkJCXN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7CgkJfQoJfQoKCXJldHVybiByZXQgIT09IHVuZGVmaW5lZCA/CgoJCS8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHkKCQkvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLgoJCXJldCArICIiIDoKCQlyZXQ7Cn0KCgpmdW5jdGlvbiBhZGRHZXRIb29rSWYoIGNvbmRpdGlvbkZuLCBob29rRm4gKSB7CgoJLy8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC4KCXJldHVybiB7CgkJZ2V0OiBmdW5jdGlvbigpIHsKCQkJaWYgKCBjb25kaXRpb25GbigpICkgewoKCQkJCS8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8gdXNlIGl0IGR1ZQoJCQkJLy8gdG8gbWlzc2luZyBkZXBlbmRlbmN5KSwgcmVtb3ZlIGl0LgoJCQkJZGVsZXRlIHRoaXMuZ2V0OwoJCQkJcmV0dXJuOwoJCQl9CgoJCQkvLyBIb29rIG5lZWRlZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBhZ2Fpbi4KCQkJcmV0dXJuICggdGhpcy5nZXQgPSBob29rRm4gKS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7CgkJfQoJfTsKfQoKCnZhciBjc3NQcmVmaXhlcyA9IFsgIldlYmtpdCIsICJNb3oiLCAibXMiIF0sCgllbXB0eVN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImRpdiIgKS5zdHlsZSwKCXZlbmRvclByb3BzID0ge307CgovLyBSZXR1cm4gYSB2ZW5kb3ItcHJlZml4ZWQgcHJvcGVydHkgb3IgdW5kZWZpbmVkCmZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKCBuYW1lICkgewoKCS8vIENoZWNrIGZvciB2ZW5kb3IgcHJlZml4ZWQgbmFtZXMKCXZhciBjYXBOYW1lID0gbmFtZVsgMCBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKCAxICksCgkJaSA9IGNzc1ByZWZpeGVzLmxlbmd0aDsKCgl3aGlsZSAoIGktLSApIHsKCQluYW1lID0gY3NzUHJlZml4ZXNbIGkgXSArIGNhcE5hbWU7CgkJaWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7CgkJCXJldHVybiBuYW1lOwoJCX0KCX0KfQoKLy8gUmV0dXJuIGEgcG90ZW50aWFsbHktbWFwcGVkIGpRdWVyeS5jc3NQcm9wcyBvciB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHkKZnVuY3Rpb24gZmluYWxQcm9wTmFtZSggbmFtZSApIHsKCXZhciBmaW5hbCA9IGpRdWVyeS5jc3NQcm9wc1sgbmFtZSBdIHx8IHZlbmRvclByb3BzWyBuYW1lIF07CgoJaWYgKCBmaW5hbCApIHsKCQlyZXR1cm4gZmluYWw7Cgl9CglpZiAoIG5hbWUgaW4gZW1wdHlTdHlsZSApIHsKCQlyZXR1cm4gbmFtZTsKCX0KCXJldHVybiB2ZW5kb3JQcm9wc1sgbmFtZSBdID0gdmVuZG9yUHJvcE5hbWUoIG5hbWUgKSB8fCBuYW1lOwp9CgoKdmFyCgoJLy8gU3dhcHBhYmxlIGlmIGRpc3BsYXkgaXMgbm9uZSBvciBzdGFydHMgd2l0aCB0YWJsZQoJLy8gZXhjZXB0ICJ0YWJsZSIsICJ0YWJsZS1jZWxsIiwgb3IgInRhYmxlLWNhcHRpb24iCgkvLyBTZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXkKCXJkaXNwbGF5c3dhcCA9IC9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLywKCXJjdXN0b21Qcm9wID0gL14tLS8sCgljc3NTaG93ID0geyBwb3NpdGlvbjogImFic29sdXRlIiwgdmlzaWJpbGl0eTogImhpZGRlbiIsIGRpc3BsYXk6ICJibG9jayIgfSwKCWNzc05vcm1hbFRyYW5zZm9ybSA9IHsKCQlsZXR0ZXJTcGFjaW5nOiAiMCIsCgkJZm9udFdlaWdodDogIjQwMCIKCX07CgpmdW5jdGlvbiBzZXRQb3NpdGl2ZU51bWJlciggX2VsZW0sIHZhbHVlLCBzdWJ0cmFjdCApIHsKCgkvLyBBbnkgcmVsYXRpdmUgKCsvLSkgdmFsdWVzIGhhdmUgYWxyZWFkeSBiZWVuCgkvLyBub3JtYWxpemVkIGF0IHRoaXMgcG9pbnQKCXZhciBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApOwoJcmV0dXJuIG1hdGNoZXMgPwoKCQkvLyBHdWFyZCBhZ2FpbnN0IHVuZGVmaW5lZCAic3VidHJhY3QiLCBlLmcuLCB3aGVuIHVzZWQgYXMgaW4gY3NzSG9va3MKCQlNYXRoLm1heCggMCwgbWF0Y2hlc1sgMiBdIC0gKCBzdWJ0cmFjdCB8fCAwICkgKSArICggbWF0Y2hlc1sgMyBdIHx8ICJweCIgKSA6CgkJdmFsdWU7Cn0KCmZ1bmN0aW9uIGJveE1vZGVsQWRqdXN0bWVudCggZWxlbSwgZGltZW5zaW9uLCBib3gsIGlzQm9yZGVyQm94LCBzdHlsZXMsIGNvbXB1dGVkVmFsICkgewoJdmFyIGkgPSBkaW1lbnNpb24gPT09ICJ3aWR0aCIgPyAxIDogMCwKCQlleHRyYSA9IDAsCgkJZGVsdGEgPSAwOwoKCS8vIEFkanVzdG1lbnQgbWF5IG5vdCBiZSBuZWNlc3NhcnkKCWlmICggYm94ID09PSAoIGlzQm9yZGVyQm94ID8gImJvcmRlciIgOiAiY29udGVudCIgKSApIHsKCQlyZXR1cm4gMDsKCX0KCglmb3IgKCA7IGkgPCA0OyBpICs9IDIgKSB7CgoJCS8vIEJvdGggYm94IG1vZGVscyBleGNsdWRlIG1hcmdpbgoJCWlmICggYm94ID09PSAibWFyZ2luIiApIHsKCQkJZGVsdGEgKz0galF1ZXJ5LmNzcyggZWxlbSwgYm94ICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApOwoJCX0KCgkJLy8gSWYgd2UgZ2V0IGhlcmUgd2l0aCBhIGNvbnRlbnQtYm94LCB3ZSdyZSBzZWVraW5nICJwYWRkaW5nIiBvciAiYm9yZGVyIiBvciAibWFyZ2luIgoJCWlmICggIWlzQm9yZGVyQm94ICkgewoKCQkJLy8gQWRkIHBhZGRpbmcKCQkJZGVsdGEgKz0galF1ZXJ5LmNzcyggZWxlbSwgInBhZGRpbmciICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApOwoKCQkJLy8gRm9yICJib3JkZXIiIG9yICJtYXJnaW4iLCBhZGQgYm9yZGVyCgkJCWlmICggYm94ICE9PSAicGFkZGluZyIgKSB7CgkJCQlkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCAiYm9yZGVyIiArIGNzc0V4cGFuZFsgaSBdICsgIldpZHRoIiwgdHJ1ZSwgc3R5bGVzICk7CgoJCQkvLyBCdXQgc3RpbGwga2VlcCB0cmFjayBvZiBpdCBvdGhlcndpc2UKCQkJfSBlbHNlIHsKCQkJCWV4dHJhICs9IGpRdWVyeS5jc3MoIGVsZW0sICJib3JkZXIiICsgY3NzRXhwYW5kWyBpIF0gKyAiV2lkdGgiLCB0cnVlLCBzdHlsZXMgKTsKCQkJfQoKCQkvLyBJZiB3ZSBnZXQgaGVyZSB3aXRoIGEgYm9yZGVyLWJveCAoY29udGVudCArIHBhZGRpbmcgKyBib3JkZXIpLCB3ZSdyZSBzZWVraW5nICJjb250ZW50IiBvcgoJCS8vICJwYWRkaW5nIiBvciAibWFyZ2luIgoJCX0gZWxzZSB7CgoJCQkvLyBGb3IgImNvbnRlbnQiLCBzdWJ0cmFjdCBwYWRkaW5nCgkJCWlmICggYm94ID09PSAiY29udGVudCIgKSB7CgkJCQlkZWx0YSAtPSBqUXVlcnkuY3NzKCBlbGVtLCAicGFkZGluZyIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7CgkJCX0KCgkJCS8vIEZvciAiY29udGVudCIgb3IgInBhZGRpbmciLCBzdWJ0cmFjdCBib3JkZXIKCQkJaWYgKCBib3ggIT09ICJtYXJnaW4iICkgewoJCQkJZGVsdGEgLT0galF1ZXJ5LmNzcyggZWxlbSwgImJvcmRlciIgKyBjc3NFeHBhbmRbIGkgXSArICJXaWR0aCIsIHRydWUsIHN0eWxlcyApOwoJCQl9CgkJfQoJfQoKCS8vIEFjY291bnQgZm9yIHBvc2l0aXZlIGNvbnRlbnQtYm94IHNjcm9sbCBndXR0ZXIgd2hlbiByZXF1ZXN0ZWQgYnkgcHJvdmlkaW5nIGNvbXB1dGVkVmFsCglpZiAoICFpc0JvcmRlckJveCAmJiBjb21wdXRlZFZhbCA+PSAwICkgewoKCQkvLyBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgaXMgYSByb3VuZGVkIHN1bSBvZiBjb250ZW50LCBwYWRkaW5nLCBzY3JvbGwgZ3V0dGVyLCBhbmQgYm9yZGVyCgkJLy8gQXNzdW1pbmcgaW50ZWdlciBzY3JvbGwgZ3V0dGVyLCBzdWJ0cmFjdCB0aGUgcmVzdCBhbmQgcm91bmQgZG93bgoJCWRlbHRhICs9IE1hdGgubWF4KCAwLCBNYXRoLmNlaWwoCgkJCWVsZW1bICJvZmZzZXQiICsgZGltZW5zaW9uWyAwIF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSggMSApIF0gLQoJCQljb21wdXRlZFZhbCAtCgkJCWRlbHRhIC0KCQkJZXh0cmEgLQoJCQkwLjUKCgkJLy8gSWYgb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGlzIHVua25vd24sIHRoZW4gd2UgY2FuJ3QgZGV0ZXJtaW5lIGNvbnRlbnQtYm94IHNjcm9sbCBndXR0ZXIKCQkvLyBVc2UgYW4gZXhwbGljaXQgemVybyB0byBhdm9pZCBOYU4gKGdoLTM5NjQpCgkJKSApIHx8IDA7Cgl9CgoJcmV0dXJuIGRlbHRhOwp9CgpmdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBkaW1lbnNpb24sIGV4dHJhICkgewoKCS8vIFN0YXJ0IHdpdGggY29tcHV0ZWQgc3R5bGUKCXZhciBzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSwKCgkJLy8gVG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdywgb25seSBmZXRjaCBib3hTaXppbmcgaWYgd2UgbmVlZCBpdCAoZ2gtNDMyMikuCgkJLy8gRmFrZSBjb250ZW50LWJveCB1bnRpbCB3ZSBrbm93IGl0J3MgbmVlZGVkIHRvIGtub3cgdGhlIHRydWUgdmFsdWUuCgkJYm94U2l6aW5nTmVlZGVkID0gIXN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSB8fCBleHRyYSwKCQlpc0JvcmRlckJveCA9IGJveFNpemluZ05lZWRlZCAmJgoJCQlqUXVlcnkuY3NzKCBlbGVtLCAiYm94U2l6aW5nIiwgZmFsc2UsIHN0eWxlcyApID09PSAiYm9yZGVyLWJveCIsCgkJdmFsdWVJc0JvcmRlckJveCA9IGlzQm9yZGVyQm94LAoKCQl2YWwgPSBjdXJDU1MoIGVsZW0sIGRpbWVuc2lvbiwgc3R5bGVzICksCgkJb2Zmc2V0UHJvcCA9ICJvZmZzZXQiICsgZGltZW5zaW9uWyAwIF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSggMSApOwoKCS8vIFN1cHBvcnQ6IEZpcmVmb3ggPD01NAoJLy8gUmV0dXJuIGEgY29uZm91bmRpbmcgbm9uLXBpeGVsIHZhbHVlIG9yIGZlaWduIGlnbm9yYW5jZSwgYXMgYXBwcm9wcmlhdGUuCglpZiAoIHJudW1ub25weC50ZXN0KCB2YWwgKSApIHsKCQlpZiAoICFleHRyYSApIHsKCQkJcmV0dXJuIHZhbDsKCQl9CgkJdmFsID0gImF1dG8iOwoJfQoKCgkvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seQoJLy8gVXNlIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBmb3Igd2hlbiBib3ggc2l6aW5nIGlzIHVucmVsaWFibGUuCgkvLyBJbiB0aG9zZSBjYXNlcywgdGhlIGNvbXB1dGVkIHZhbHVlIGNhbiBiZSB0cnVzdGVkIHRvIGJlIGJvcmRlci1ib3guCglpZiAoICggIXN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSAmJiBpc0JvcmRlckJveCB8fAoKCQkvLyBTdXBwb3J0OiBJRSAxMCAtIDExKywgRWRnZSAxNSAtIDE4KwoJCS8vIElFL0VkZ2UgbWlzcmVwb3J0IGBnZXRDb21wdXRlZFN0eWxlYCBvZiB0YWJsZSByb3dzIHdpdGggd2lkdGgvaGVpZ2h0CgkJLy8gc2V0IGluIENTUyB3aGlsZSBgb2Zmc2V0KmAgcHJvcGVydGllcyByZXBvcnQgY29ycmVjdCB2YWx1ZXMuCgkJLy8gSW50ZXJlc3RpbmdseSwgaW4gc29tZSBjYXNlcyBJRSA5IGRvZXNuJ3Qgc3VmZmVyIGZyb20gdGhpcyBpc3N1ZS4KCQkhc3VwcG9ydC5yZWxpYWJsZVRyRGltZW5zaW9ucygpICYmIG5vZGVOYW1lKCBlbGVtLCAidHIiICkgfHwKCgkJLy8gRmFsbCBiYWNrIHRvIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCB3aGVuIHZhbHVlIGlzICJhdXRvIgoJCS8vIFRoaXMgaGFwcGVucyBmb3IgaW5saW5lIGVsZW1lbnRzIHdpdGggbm8gZXhwbGljaXQgc2V0dGluZyAoZ2gtMzU3MSkKCQl2YWwgPT09ICJhdXRvIiB8fAoKCQkvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4xIC0gNC4zIG9ubHkKCQkvLyBBbHNvIHVzZSBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgZm9yIG1pc3JlcG9ydGVkIGlubGluZSBkaW1lbnNpb25zIChnaC0zNjAyKQoJCSFwYXJzZUZsb2F0KCB2YWwgKSAmJiBqUXVlcnkuY3NzKCBlbGVtLCAiZGlzcGxheSIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gImlubGluZSIgKSAmJgoKCQkvLyBNYWtlIHN1cmUgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZSAmIGNvbm5lY3RlZAoJCWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7CgoJCWlzQm9yZGVyQm94ID0galF1ZXJ5LmNzcyggZWxlbSwgImJveFNpemluZyIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gImJvcmRlci1ib3giOwoKCQkvLyBXaGVyZSBhdmFpbGFibGUsIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBhcHByb3hpbWF0ZSBib3JkZXIgYm94IGRpbWVuc2lvbnMuCgkJLy8gV2hlcmUgbm90IGF2YWlsYWJsZSAoZS5nLiwgU1ZHKSwgYXNzdW1lIHVucmVsaWFibGUgYm94LXNpemluZyBhbmQgaW50ZXJwcmV0IHRoZQoJCS8vIHJldHJpZXZlZCB2YWx1ZSBhcyBhIGNvbnRlbnQgYm94IGRpbWVuc2lvbi4KCQl2YWx1ZUlzQm9yZGVyQm94ID0gb2Zmc2V0UHJvcCBpbiBlbGVtOwoJCWlmICggdmFsdWVJc0JvcmRlckJveCApIHsKCQkJdmFsID0gZWxlbVsgb2Zmc2V0UHJvcCBdOwoJCX0KCX0KCgkvLyBOb3JtYWxpemUgIiIgYW5kIGF1dG8KCXZhbCA9IHBhcnNlRmxvYXQoIHZhbCApIHx8IDA7CgoJLy8gQWRqdXN0IGZvciB0aGUgZWxlbWVudCdzIGJveCBtb2RlbAoJcmV0dXJuICggdmFsICsKCQlib3hNb2RlbEFkanVzdG1lbnQoCgkJCWVsZW0sCgkJCWRpbWVuc2lvbiwKCQkJZXh0cmEgfHwgKCBpc0JvcmRlckJveCA/ICJib3JkZXIiIDogImNvbnRlbnQiICksCgkJCXZhbHVlSXNCb3JkZXJCb3gsCgkJCXN0eWxlcywKCgkJCS8vIFByb3ZpZGUgdGhlIGN1cnJlbnQgY29tcHV0ZWQgc2l6ZSB0byByZXF1ZXN0IHNjcm9sbCBndXR0ZXIgY2FsY3VsYXRpb24gKGdoLTM1ODkpCgkJCXZhbAoJCSkKCSkgKyAicHgiOwp9CgpqUXVlcnkuZXh0ZW5kKCB7CgoJLy8gQWRkIGluIHN0eWxlIHByb3BlcnR5IGhvb2tzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0CgkvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHkKCWNzc0hvb2tzOiB7CgkJb3BhY2l0eTogewoJCQlnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHsKCQkJCWlmICggY29tcHV0ZWQgKSB7CgoJCQkJCS8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5CgkJCQkJdmFyIHJldCA9IGN1ckNTUyggZWxlbSwgIm9wYWNpdHkiICk7CgkJCQkJcmV0dXJuIHJldCA9PT0gIiIgPyAiMSIgOiByZXQ7CgkJCQl9CgkJCX0KCQl9Cgl9LAoKCS8vIERvbid0IGF1dG9tYXRpY2FsbHkgYWRkICJweCIgdG8gdGhlc2UgcG9zc2libHktdW5pdGxlc3MgcHJvcGVydGllcwoJY3NzTnVtYmVyOiB7CgkJImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IjogdHJ1ZSwKCQkiY29sdW1uQ291bnQiOiB0cnVlLAoJCSJmaWxsT3BhY2l0eSI6IHRydWUsCgkJImZsZXhHcm93IjogdHJ1ZSwKCQkiZmxleFNocmluayI6IHRydWUsCgkJImZvbnRXZWlnaHQiOiB0cnVlLAoJCSJncmlkQXJlYSI6IHRydWUsCgkJImdyaWRDb2x1bW4iOiB0cnVlLAoJCSJncmlkQ29sdW1uRW5kIjogdHJ1ZSwKCQkiZ3JpZENvbHVtblN0YXJ0IjogdHJ1ZSwKCQkiZ3JpZFJvdyI6IHRydWUsCgkJImdyaWRSb3dFbmQiOiB0cnVlLAoJCSJncmlkUm93U3RhcnQiOiB0cnVlLAoJCSJsaW5lSGVpZ2h0IjogdHJ1ZSwKCQkib3BhY2l0eSI6IHRydWUsCgkJIm9yZGVyIjogdHJ1ZSwKCQkib3JwaGFucyI6IHRydWUsCgkJIndpZG93cyI6IHRydWUsCgkJInpJbmRleCI6IHRydWUsCgkJInpvb20iOiB0cnVlCgl9LAoKCS8vIEFkZCBpbiBwcm9wZXJ0aWVzIHdob3NlIG5hbWVzIHlvdSB3aXNoIHRvIGZpeCBiZWZvcmUKCS8vIHNldHRpbmcgb3IgZ2V0dGluZyB0aGUgdmFsdWUKCWNzc1Byb3BzOiB7fSwKCgkvLyBHZXQgYW5kIHNldCB0aGUgc3R5bGUgcHJvcGVydHkgb24gYSBET00gTm9kZQoJc3R5bGU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSwgZXh0cmEgKSB7CgoJCS8vIERvbid0IHNldCBzdHlsZXMgb24gdGV4dCBhbmQgY29tbWVudCBub2RlcwoJCWlmICggIWVsZW0gfHwgZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4IHx8ICFlbGVtLnN0eWxlICkgewoJCQlyZXR1cm47CgkJfQoKCQkvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUKCQl2YXIgcmV0LCB0eXBlLCBob29rcywKCQkJb3JpZ05hbWUgPSBjYW1lbENhc2UoIG5hbWUgKSwKCQkJaXNDdXN0b21Qcm9wID0gcmN1c3RvbVByb3AudGVzdCggbmFtZSApLAoJCQlzdHlsZSA9IGVsZW0uc3R5bGU7CgoJCS8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3QKCQkvLyB3YW50IHRvIHF1ZXJ5IHRoZSB2YWx1ZSBpZiBpdCBpcyBhIENTUyBjdXN0b20gcHJvcGVydHkKCQkvLyBzaW5jZSB0aGV5IGFyZSB1c2VyLWRlZmluZWQuCgkJaWYgKCAhaXNDdXN0b21Qcm9wICkgewoJCQluYW1lID0gZmluYWxQcm9wTmFtZSggb3JpZ05hbWUgKTsKCQl9CgoJCS8vIEdldHMgaG9vayBmb3IgdGhlIHByZWZpeGVkIHZlcnNpb24sIHRoZW4gdW5wcmVmaXhlZCB2ZXJzaW9uCgkJaG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07CgoJCS8vIENoZWNrIGlmIHdlJ3JlIHNldHRpbmcgYSB2YWx1ZQoJCWlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHsKCQkJdHlwZSA9IHR5cGVvZiB2YWx1ZTsKCgkJCS8vIENvbnZlcnQgIis9IiBvciAiLT0iIHRvIHJlbGF0aXZlIG51bWJlcnMgKCM3MzQ1KQoJCQlpZiAoIHR5cGUgPT09ICJzdHJpbmciICYmICggcmV0ID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiYgcmV0WyAxIF0gKSB7CgkJCQl2YWx1ZSA9IGFkanVzdENTUyggZWxlbSwgbmFtZSwgcmV0ICk7CgoJCQkJLy8gRml4ZXMgYnVnICM5MjM3CgkJCQl0eXBlID0gIm51bWJlciI7CgkJCX0KCgkJCS8vIE1ha2Ugc3VyZSB0aGF0IG51bGwgYW5kIE5hTiB2YWx1ZXMgYXJlbid0IHNldCAoIzcxMTYpCgkJCWlmICggdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUgKSB7CgkJCQlyZXR1cm47CgkJCX0KCgkJCS8vIElmIGEgbnVtYmVyIHdhcyBwYXNzZWQgaW4sIGFkZCB0aGUgdW5pdCAoZXhjZXB0IGZvciBjZXJ0YWluIENTUyBwcm9wZXJ0aWVzKQoJCQkvLyBUaGUgaXNDdXN0b21Qcm9wIGNoZWNrIGNhbiBiZSByZW1vdmVkIGluIGpRdWVyeSA0LjAgd2hlbiB3ZSBvbmx5IGF1dG8tYXBwZW5kCgkJCS8vICJweCIgdG8gYSBmZXcgaGFyZGNvZGVkIHZhbHVlcy4KCQkJaWYgKCB0eXBlID09PSAibnVtYmVyIiAmJiAhaXNDdXN0b21Qcm9wICkgewoJCQkJdmFsdWUgKz0gcmV0ICYmIHJldFsgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgb3JpZ05hbWUgXSA/ICIiIDogInB4IiApOwoJCQl9CgoJCQkvLyBiYWNrZ3JvdW5kLSogcHJvcHMgYWZmZWN0IG9yaWdpbmFsIGNsb25lJ3MgdmFsdWVzCgkJCWlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSAiIiAmJiBuYW1lLmluZGV4T2YoICJiYWNrZ3JvdW5kIiApID09PSAwICkgewoJCQkJc3R5bGVbIG5hbWUgXSA9ICJpbmhlcml0IjsKCQkJfQoKCQkJLy8gSWYgYSBob29rIHdhcyBwcm92aWRlZCwgdXNlIHRoYXQgdmFsdWUsIG90aGVyd2lzZSBqdXN0IHNldCB0aGUgc3BlY2lmaWVkIHZhbHVlCgkJCWlmICggIWhvb2tzIHx8ICEoICJzZXQiIGluIGhvb2tzICkgfHwKCQkJCSggdmFsdWUgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHsKCgkJCQlpZiAoIGlzQ3VzdG9tUHJvcCApIHsKCQkJCQlzdHlsZS5zZXRQcm9wZXJ0eSggbmFtZSwgdmFsdWUgKTsKCQkJCX0gZWxzZSB7CgkJCQkJc3R5bGVbIG5hbWUgXSA9IHZhbHVlOwoJCQkJfQoJCQl9CgoJCX0gZWxzZSB7CgoJCQkvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgbm9uLWNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmUKCQkJaWYgKCBob29rcyAmJiAiZ2V0IiBpbiBob29rcyAmJgoJCQkJKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHsKCgkJCQlyZXR1cm4gcmV0OwoJCQl9CgoJCQkvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdAoJCQlyZXR1cm4gc3R5bGVbIG5hbWUgXTsKCQl9Cgl9LAoKCWNzczogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGV4dHJhLCBzdHlsZXMgKSB7CgkJdmFyIHZhbCwgbnVtLCBob29rcywKCQkJb3JpZ05hbWUgPSBjYW1lbENhc2UoIG5hbWUgKSwKCQkJaXNDdXN0b21Qcm9wID0gcmN1c3RvbVByb3AudGVzdCggbmFtZSApOwoKCQkvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUuIFdlIGRvbid0CgkJLy8gd2FudCB0byBtb2RpZnkgdGhlIHZhbHVlIGlmIGl0IGlzIGEgQ1NTIGN1c3RvbSBwcm9wZXJ0eQoJCS8vIHNpbmNlIHRoZXkgYXJlIHVzZXItZGVmaW5lZC4KCQlpZiAoICFpc0N1c3RvbVByb3AgKSB7CgkJCW5hbWUgPSBmaW5hbFByb3BOYW1lKCBvcmlnTmFtZSApOwoJCX0KCgkJLy8gVHJ5IHByZWZpeGVkIG5hbWUgZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgbmFtZQoJCWhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdOwoKCQkvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZQoJCWlmICggaG9va3MgJiYgImdldCIgaW4gaG9va3MgKSB7CgkJCXZhbCA9IGhvb2tzLmdldCggZWxlbSwgdHJ1ZSwgZXh0cmEgKTsKCQl9CgoJCS8vIE90aGVyd2lzZSwgaWYgYSB3YXkgdG8gZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBleGlzdHMsIHVzZSB0aGF0CgkJaWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHsKCQkJdmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTsKCQl9CgoJCS8vIENvbnZlcnQgIm5vcm1hbCIgdG8gY29tcHV0ZWQgdmFsdWUKCQlpZiAoIHZhbCA9PT0gIm5vcm1hbCIgJiYgbmFtZSBpbiBjc3NOb3JtYWxUcmFuc2Zvcm0gKSB7CgkJCXZhbCA9IGNzc05vcm1hbFRyYW5zZm9ybVsgbmFtZSBdOwoJCX0KCgkJLy8gTWFrZSBudW1lcmljIGlmIGZvcmNlZCBvciBhIHF1YWxpZmllciB3YXMgcHJvdmlkZWQgYW5kIHZhbCBsb29rcyBudW1lcmljCgkJaWYgKCBleHRyYSA9PT0gIiIgfHwgZXh0cmEgKSB7CgkJCW51bSA9IHBhcnNlRmxvYXQoIHZhbCApOwoJCQlyZXR1cm4gZXh0cmEgPT09IHRydWUgfHwgaXNGaW5pdGUoIG51bSApID8gbnVtIHx8IDAgOiB2YWw7CgkJfQoKCQlyZXR1cm4gdmFsOwoJfQp9ICk7CgpqUXVlcnkuZWFjaCggWyAiaGVpZ2h0IiwgIndpZHRoIiBdLCBmdW5jdGlvbiggX2ksIGRpbWVuc2lvbiApIHsKCWpRdWVyeS5jc3NIb29rc1sgZGltZW5zaW9uIF0gPSB7CgkJZ2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQsIGV4dHJhICkgewoJCQlpZiAoIGNvbXB1dGVkICkgewoKCQkJCS8vIENlcnRhaW4gZWxlbWVudHMgY2FuIGhhdmUgZGltZW5zaW9uIGluZm8gaWYgd2UgaW52aXNpYmx5IHNob3cgdGhlbQoJCQkJLy8gYnV0IGl0IG11c3QgaGF2ZSBhIGN1cnJlbnQgZGlzcGxheSBzdHlsZSB0aGF0IHdvdWxkIGJlbmVmaXQKCQkJCXJldHVybiByZGlzcGxheXN3YXAudGVzdCggalF1ZXJ5LmNzcyggZWxlbSwgImRpc3BsYXkiICkgKSAmJgoKCQkJCQkvLyBTdXBwb3J0OiBTYWZhcmkgOCsKCQkJCQkvLyBUYWJsZSBjb2x1bW5zIGluIFNhZmFyaSBoYXZlIG5vbi16ZXJvIG9mZnNldFdpZHRoICYgemVybwoJCQkJCS8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIHVubGVzcyBkaXNwbGF5IGlzIGNoYW5nZWQuCgkJCQkJLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5CgkJCQkJLy8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZQoJCQkJCS8vIGluIElFIHRocm93cyBhbiBlcnJvci4KCQkJCQkoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoIHx8ICFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICkgPwoJCQkJCXN3YXAoIGVsZW0sIGNzc1Nob3csIGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApOwoJCQkJCX0gKSA6CgkJCQkJZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApOwoJCQl9CgkJfSwKCgkJc2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIGV4dHJhICkgewoJCQl2YXIgbWF0Y2hlcywKCQkJCXN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApLAoKCQkJCS8vIE9ubHkgcmVhZCBzdHlsZXMucG9zaXRpb24gaWYgdGhlIHRlc3QgaGFzIGEgY2hhbmNlIHRvIGZhaWwKCQkJCS8vIHRvIGF2b2lkIGZvcmNpbmcgYSByZWZsb3cuCgkJCQlzY3JvbGxib3hTaXplQnVnZ3kgPSAhc3VwcG9ydC5zY3JvbGxib3hTaXplKCkgJiYKCQkJCQlzdHlsZXMucG9zaXRpb24gPT09ICJhYnNvbHV0ZSIsCgoJCQkJLy8gVG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdywgb25seSBmZXRjaCBib3hTaXppbmcgaWYgd2UgbmVlZCBpdCAoZ2gtMzk5MSkKCQkJCWJveFNpemluZ05lZWRlZCA9IHNjcm9sbGJveFNpemVCdWdneSB8fCBleHRyYSwKCQkJCWlzQm9yZGVyQm94ID0gYm94U2l6aW5nTmVlZGVkICYmCgkJCQkJalF1ZXJ5LmNzcyggZWxlbSwgImJveFNpemluZyIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gImJvcmRlci1ib3giLAoJCQkJc3VidHJhY3QgPSBleHRyYSA/CgkJCQkJYm94TW9kZWxBZGp1c3RtZW50KAoJCQkJCQllbGVtLAoJCQkJCQlkaW1lbnNpb24sCgkJCQkJCWV4dHJhLAoJCQkJCQlpc0JvcmRlckJveCwKCQkJCQkJc3R5bGVzCgkJCQkJKSA6CgkJCQkJMDsKCgkJCS8vIEFjY291bnQgZm9yIHVucmVsaWFibGUgYm9yZGVyLWJveCBkaW1lbnNpb25zIGJ5IGNvbXBhcmluZyBvZmZzZXQqIHRvIGNvbXB1dGVkIGFuZAoJCQkvLyBmYWtpbmcgYSBjb250ZW50LWJveCB0byBnZXQgYm9yZGVyIGFuZCBwYWRkaW5nIChnaC0zNjk5KQoJCQlpZiAoIGlzQm9yZGVyQm94ICYmIHNjcm9sbGJveFNpemVCdWdneSApIHsKCQkJCXN1YnRyYWN0IC09IE1hdGguY2VpbCgKCQkJCQllbGVtWyAib2Zmc2V0IiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKSBdIC0KCQkJCQlwYXJzZUZsb2F0KCBzdHlsZXNbIGRpbWVuc2lvbiBdICkgLQoJCQkJCWJveE1vZGVsQWRqdXN0bWVudCggZWxlbSwgZGltZW5zaW9uLCAiYm9yZGVyIiwgZmFsc2UsIHN0eWxlcyApIC0KCQkJCQkwLjUKCQkJCSk7CgkJCX0KCgkJCS8vIENvbnZlcnQgdG8gcGl4ZWxzIGlmIHZhbHVlIGFkanVzdG1lbnQgaXMgbmVlZGVkCgkJCWlmICggc3VidHJhY3QgJiYgKCBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiYKCQkJCSggbWF0Y2hlc1sgMyBdIHx8ICJweCIgKSAhPT0gInB4IiApIHsKCgkJCQllbGVtLnN0eWxlWyBkaW1lbnNpb24gXSA9IHZhbHVlOwoJCQkJdmFsdWUgPSBqUXVlcnkuY3NzKCBlbGVtLCBkaW1lbnNpb24gKTsKCQkJfQoKCQkJcmV0dXJuIHNldFBvc2l0aXZlTnVtYmVyKCBlbGVtLCB2YWx1ZSwgc3VidHJhY3QgKTsKCQl9Cgl9Owp9ICk7CgpqUXVlcnkuY3NzSG9va3MubWFyZ2luTGVmdCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpbkxlZnQsCglmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7CgkJaWYgKCBjb21wdXRlZCApIHsKCQkJcmV0dXJuICggcGFyc2VGbG9hdCggY3VyQ1NTKCBlbGVtLCAibWFyZ2luTGVmdCIgKSApIHx8CgkJCQllbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLQoJCQkJCXN3YXAoIGVsZW0sIHsgbWFyZ2luTGVmdDogMCB9LCBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDsKCQkJCQl9ICkKCQkJKSArICJweCI7CgkJfQoJfQopOwoKLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllcwpqUXVlcnkuZWFjaCggewoJbWFyZ2luOiAiIiwKCXBhZGRpbmc6ICIiLAoJYm9yZGVyOiAiV2lkdGgiCn0sIGZ1bmN0aW9uKCBwcmVmaXgsIHN1ZmZpeCApIHsKCWpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0gPSB7CgkJZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUgKSB7CgkJCXZhciBpID0gMCwKCQkJCWV4cGFuZGVkID0ge30sCgoJCQkJLy8gQXNzdW1lcyBhIHNpbmdsZSBudW1iZXIgaWYgbm90IGEgc3RyaW5nCgkJCQlwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gInN0cmluZyIgPyB2YWx1ZS5zcGxpdCggIiAiICkgOiBbIHZhbHVlIF07CgoJCQlmb3IgKCA7IGkgPCA0OyBpKysgKSB7CgkJCQlleHBhbmRlZFsgcHJlZml4ICsgY3NzRXhwYW5kWyBpIF0gKyBzdWZmaXggXSA9CgkJCQkJcGFydHNbIGkgXSB8fCBwYXJ0c1sgaSAtIDIgXSB8fCBwYXJ0c1sgMCBdOwoJCQl9CgoJCQlyZXR1cm4gZXhwYW5kZWQ7CgkJfQoJfTsKCglpZiAoIHByZWZpeCAhPT0gIm1hcmdpbiIgKSB7CgkJalF1ZXJ5LmNzc0hvb2tzWyBwcmVmaXggKyBzdWZmaXggXS5zZXQgPSBzZXRQb3NpdGl2ZU51bWJlcjsKCX0KfSApOwoKalF1ZXJ5LmZuLmV4dGVuZCggewoJY3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7CgkJcmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkgewoJCQl2YXIgc3R5bGVzLCBsZW4sCgkJCQltYXAgPSB7fSwKCQkJCWkgPSAwOwoKCQkJaWYgKCBBcnJheS5pc0FycmF5KCBuYW1lICkgKSB7CgkJCQlzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKTsKCQkJCWxlbiA9IG5hbWUubGVuZ3RoOwoKCQkJCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgewoJCQkJCW1hcFsgbmFtZVsgaSBdIF0gPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lWyBpIF0sIGZhbHNlLCBzdHlsZXMgKTsKCQkJCX0KCgkJCQlyZXR1cm4gbWFwOwoJCQl9CgoJCQlyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/CgkJCQlqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUsIHZhbHVlICkgOgoJCQkJalF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApOwoJCX0sIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApOwoJfQp9ICk7CgoKZnVuY3Rpb24gVHdlZW4oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICkgewoJcmV0dXJuIG5ldyBUd2Vlbi5wcm90b3R5cGUuaW5pdCggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKTsKfQpqUXVlcnkuVHdlZW4gPSBUd2VlbjsKClR3ZWVuLnByb3RvdHlwZSA9IHsKCWNvbnN0cnVjdG9yOiBUd2VlbiwKCWluaXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZywgdW5pdCApIHsKCQl0aGlzLmVsZW0gPSBlbGVtOwoJCXRoaXMucHJvcCA9IHByb3A7CgkJdGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgalF1ZXJ5LmVhc2luZy5fZGVmYXVsdDsKCQl0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwoJCXRoaXMuc3RhcnQgPSB0aGlzLm5vdyA9IHRoaXMuY3VyKCk7CgkJdGhpcy5lbmQgPSBlbmQ7CgkJdGhpcy51bml0ID0gdW5pdCB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/ICIiIDogInB4IiApOwoJfSwKCWN1cjogZnVuY3Rpb24oKSB7CgkJdmFyIGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTsKCgkJcmV0dXJuIGhvb2tzICYmIGhvb2tzLmdldCA/CgkJCWhvb2tzLmdldCggdGhpcyApIDoKCQkJVHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCggdGhpcyApOwoJfSwKCXJ1bjogZnVuY3Rpb24oIHBlcmNlbnQgKSB7CgkJdmFyIGVhc2VkLAoJCQlob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07CgoJCWlmICggdGhpcy5vcHRpb25zLmR1cmF0aW9uICkgewoJCQl0aGlzLnBvcyA9IGVhc2VkID0galF1ZXJ5LmVhc2luZ1sgdGhpcy5lYXNpbmcgXSgKCQkJCXBlcmNlbnQsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAqIHBlcmNlbnQsIDAsIDEsIHRoaXMub3B0aW9ucy5kdXJhdGlvbgoJCQkpOwoJCX0gZWxzZSB7CgkJCXRoaXMucG9zID0gZWFzZWQgPSBwZXJjZW50OwoJCX0KCQl0aGlzLm5vdyA9ICggdGhpcy5lbmQgLSB0aGlzLnN0YXJ0ICkgKiBlYXNlZCArIHRoaXMuc3RhcnQ7CgoJCWlmICggdGhpcy5vcHRpb25zLnN0ZXAgKSB7CgkJCXRoaXMub3B0aW9ucy5zdGVwLmNhbGwoIHRoaXMuZWxlbSwgdGhpcy5ub3csIHRoaXMgKTsKCQl9CgoJCWlmICggaG9va3MgJiYgaG9va3Muc2V0ICkgewoJCQlob29rcy5zZXQoIHRoaXMgKTsKCQl9IGVsc2UgewoJCQlUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KCB0aGlzICk7CgkJfQoJCXJldHVybiB0aGlzOwoJfQp9OwoKVHdlZW4ucHJvdG90eXBlLmluaXQucHJvdG90eXBlID0gVHdlZW4ucHJvdG90eXBlOwoKVHdlZW4ucHJvcEhvb2tzID0gewoJX2RlZmF1bHQ6IHsKCQlnZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHsKCQkJdmFyIHJlc3VsdDsKCgkJCS8vIFVzZSBhIHByb3BlcnR5IG9uIHRoZSBlbGVtZW50IGRpcmVjdGx5IHdoZW4gaXQgaXMgbm90IGEgRE9NIGVsZW1lbnQsCgkJCS8vIG9yIHdoZW4gdGhlcmUgaXMgbm8gbWF0Y2hpbmcgc3R5bGUgcHJvcGVydHkgdGhhdCBleGlzdHMuCgkJCWlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSAhPT0gMSB8fAoJCQkJdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdICE9IG51bGwgJiYgdHdlZW4uZWxlbS5zdHlsZVsgdHdlZW4ucHJvcCBdID09IG51bGwgKSB7CgkJCQlyZXR1cm4gdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdOwoJCQl9CgoJCQkvLyBQYXNzaW5nIGFuIGVtcHR5IHN0cmluZyBhcyBhIDNyZCBwYXJhbWV0ZXIgdG8gLmNzcyB3aWxsIGF1dG9tYXRpY2FsbHkKCQkJLy8gYXR0ZW1wdCBhIHBhcnNlRmxvYXQgYW5kIGZhbGxiYWNrIHRvIGEgc3RyaW5nIGlmIHRoZSBwYXJzZSBmYWlscy4KCQkJLy8gU2ltcGxlIHZhbHVlcyBzdWNoIGFzICIxMHB4IiBhcmUgcGFyc2VkIHRvIEZsb2F0OwoJCQkvLyBjb21wbGV4IHZhbHVlcyBzdWNoIGFzICJyb3RhdGUoMXJhZCkiIGFyZSByZXR1cm5lZCBhcy1pcy4KCQkJcmVzdWx0ID0galF1ZXJ5LmNzcyggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgIiIgKTsKCgkJCS8vIEVtcHR5IHN0cmluZ3MsIG51bGwsIHVuZGVmaW5lZCBhbmQgImF1dG8iIGFyZSBjb252ZXJ0ZWQgdG8gMC4KCQkJcmV0dXJuICFyZXN1bHQgfHwgcmVzdWx0ID09PSAiYXV0byIgPyAwIDogcmVzdWx0OwoJCX0sCgkJc2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7CgoJCQkvLyBVc2Ugc3RlcCBob29rIGZvciBiYWNrIGNvbXBhdC4KCQkJLy8gVXNlIGNzc0hvb2sgaWYgaXRzIHRoZXJlLgoJCQkvLyBVc2UgLnN0eWxlIGlmIGF2YWlsYWJsZSBhbmQgdXNlIHBsYWluIHByb3BlcnRpZXMgd2hlcmUgYXZhaWxhYmxlLgoJCQlpZiAoIGpRdWVyeS5meC5zdGVwWyB0d2Vlbi5wcm9wIF0gKSB7CgkJCQlqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdKCB0d2VlbiApOwoJCQl9IGVsc2UgaWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlID09PSAxICYmICgKCQkJCWpRdWVyeS5jc3NIb29rc1sgdHdlZW4ucHJvcCBdIHx8CgkJCQkJdHdlZW4uZWxlbS5zdHlsZVsgZmluYWxQcm9wTmFtZSggdHdlZW4ucHJvcCApIF0gIT0gbnVsbCApICkgewoJCQkJalF1ZXJ5LnN0eWxlKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCB0d2Vlbi5ub3cgKyB0d2Vlbi51bml0ICk7CgkJCX0gZWxzZSB7CgkJCQl0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7CgkJCX0KCQl9Cgl9Cn07CgovLyBTdXBwb3J0OiBJRSA8PTkgb25seQovLyBQYW5pYyBiYXNlZCBhcHByb2FjaCB0byBzZXR0aW5nIHRoaW5ncyBvbiBkaXNjb25uZWN0ZWQgbm9kZXMKVHdlZW4ucHJvcEhvb2tzLnNjcm9sbFRvcCA9IFR3ZWVuLnByb3BIb29rcy5zY3JvbGxMZWZ0ID0gewoJc2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7CgkJaWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSApIHsKCQkJdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93OwoJCX0KCX0KfTsKCmpRdWVyeS5lYXNpbmcgPSB7CglsaW5lYXI6IGZ1bmN0aW9uKCBwICkgewoJCXJldHVybiBwOwoJfSwKCXN3aW5nOiBmdW5jdGlvbiggcCApIHsKCQlyZXR1cm4gMC41IC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJICkgLyAyOwoJfSwKCV9kZWZhdWx0OiAic3dpbmciCn07CgpqUXVlcnkuZnggPSBUd2Vlbi5wcm90b3R5cGUuaW5pdDsKCi8vIEJhY2sgY29tcGF0IDwxLjggZXh0ZW5zaW9uIHBvaW50CmpRdWVyeS5meC5zdGVwID0ge307CgoKCgp2YXIKCWZ4Tm93LCBpblByb2dyZXNzLAoJcmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sCglycnVuID0gL3F1ZXVlSG9va3MkLzsKCmZ1bmN0aW9uIHNjaGVkdWxlKCkgewoJaWYgKCBpblByb2dyZXNzICkgewoJCWlmICggZG9jdW1lbnQuaGlkZGVuID09PSBmYWxzZSAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICkgewoJCQl3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBzY2hlZHVsZSApOwoJCX0gZWxzZSB7CgkJCXdpbmRvdy5zZXRUaW1lb3V0KCBzY2hlZHVsZSwgalF1ZXJ5LmZ4LmludGVydmFsICk7CgkJfQoKCQlqUXVlcnkuZngudGljaygpOwoJfQp9CgovLyBBbmltYXRpb25zIGNyZWF0ZWQgc3luY2hyb25vdXNseSB3aWxsIHJ1biBzeW5jaHJvbm91c2x5CmZ1bmN0aW9uIGNyZWF0ZUZ4Tm93KCkgewoJd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkgewoJCWZ4Tm93ID0gdW5kZWZpbmVkOwoJfSApOwoJcmV0dXJuICggZnhOb3cgPSBEYXRlLm5vdygpICk7Cn0KCi8vIEdlbmVyYXRlIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEgc3RhbmRhcmQgYW5pbWF0aW9uCmZ1bmN0aW9uIGdlbkZ4KCB0eXBlLCBpbmNsdWRlV2lkdGggKSB7Cgl2YXIgd2hpY2gsCgkJaSA9IDAsCgkJYXR0cnMgPSB7IGhlaWdodDogdHlwZSB9OwoKCS8vIElmIHdlIGluY2x1ZGUgd2lkdGgsIHN0ZXAgdmFsdWUgaXMgMSB0byBkbyBhbGwgY3NzRXhwYW5kIHZhbHVlcywKCS8vIG90aGVyd2lzZSBzdGVwIHZhbHVlIGlzIDIgdG8gc2tpcCBvdmVyIExlZnQgYW5kIFJpZ2h0CglpbmNsdWRlV2lkdGggPSBpbmNsdWRlV2lkdGggPyAxIDogMDsKCWZvciAoIDsgaSA8IDQ7IGkgKz0gMiAtIGluY2x1ZGVXaWR0aCApIHsKCQl3aGljaCA9IGNzc0V4cGFuZFsgaSBdOwoJCWF0dHJzWyAibWFyZ2luIiArIHdoaWNoIF0gPSBhdHRyc1sgInBhZGRpbmciICsgd2hpY2ggXSA9IHR5cGU7Cgl9CgoJaWYgKCBpbmNsdWRlV2lkdGggKSB7CgkJYXR0cnMub3BhY2l0eSA9IGF0dHJzLndpZHRoID0gdHlwZTsKCX0KCglyZXR1cm4gYXR0cnM7Cn0KCmZ1bmN0aW9uIGNyZWF0ZVR3ZWVuKCB2YWx1ZSwgcHJvcCwgYW5pbWF0aW9uICkgewoJdmFyIHR3ZWVuLAoJCWNvbGxlY3Rpb24gPSAoIEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdICkuY29uY2F0KCBBbmltYXRpb24udHdlZW5lcnNbICIqIiBdICksCgkJaW5kZXggPSAwLAoJCWxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoOwoJZm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHsKCQlpZiAoICggdHdlZW4gPSBjb2xsZWN0aW9uWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgcHJvcCwgdmFsdWUgKSApICkgewoKCQkJLy8gV2UncmUgZG9uZSB3aXRoIHRoaXMgcHJvcGVydHkKCQkJcmV0dXJuIHR3ZWVuOwoJCX0KCX0KfQoKZnVuY3Rpb24gZGVmYXVsdFByZWZpbHRlciggZWxlbSwgcHJvcHMsIG9wdHMgKSB7Cgl2YXIgcHJvcCwgdmFsdWUsIHRvZ2dsZSwgaG9va3MsIG9sZGZpcmUsIHByb3BUd2VlbiwgcmVzdG9yZURpc3BsYXksIGRpc3BsYXksCgkJaXNCb3ggPSAid2lkdGgiIGluIHByb3BzIHx8ICJoZWlnaHQiIGluIHByb3BzLAoJCWFuaW0gPSB0aGlzLAoJCW9yaWcgPSB7fSwKCQlzdHlsZSA9IGVsZW0uc3R5bGUsCgkJaGlkZGVuID0gZWxlbS5ub2RlVHlwZSAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSwKCQlkYXRhU2hvdyA9IGRhdGFQcml2LmdldCggZWxlbSwgImZ4c2hvdyIgKTsKCgkvLyBRdWV1ZS1za2lwcGluZyBhbmltYXRpb25zIGhpamFjayB0aGUgZnggaG9va3MKCWlmICggIW9wdHMucXVldWUgKSB7CgkJaG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sICJmeCIgKTsKCQlpZiAoIGhvb2tzLnVucXVldWVkID09IG51bGwgKSB7CgkJCWhvb2tzLnVucXVldWVkID0gMDsKCQkJb2xkZmlyZSA9IGhvb2tzLmVtcHR5LmZpcmU7CgkJCWhvb2tzLmVtcHR5LmZpcmUgPSBmdW5jdGlvbigpIHsKCQkJCWlmICggIWhvb2tzLnVucXVldWVkICkgewoJCQkJCW9sZGZpcmUoKTsKCQkJCX0KCQkJfTsKCQl9CgkJaG9va3MudW5xdWV1ZWQrKzsKCgkJYW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkgewoKCQkJLy8gRW5zdXJlIHRoZSBjb21wbGV0ZSBoYW5kbGVyIGlzIGNhbGxlZCBiZWZvcmUgdGhpcyBjb21wbGV0ZXMKCQkJYW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkgewoJCQkJaG9va3MudW5xdWV1ZWQtLTsKCQkJCWlmICggIWpRdWVyeS5xdWV1ZSggZWxlbSwgImZ4IiApLmxlbmd0aCApIHsKCQkJCQlob29rcy5lbXB0eS5maXJlKCk7CgkJCQl9CgkJCX0gKTsKCQl9ICk7Cgl9CgoJLy8gRGV0ZWN0IHNob3cvaGlkZSBhbmltYXRpb25zCglmb3IgKCBwcm9wIGluIHByb3BzICkgewoJCXZhbHVlID0gcHJvcHNbIHByb3AgXTsKCQlpZiAoIHJmeHR5cGVzLnRlc3QoIHZhbHVlICkgKSB7CgkJCWRlbGV0ZSBwcm9wc1sgcHJvcCBdOwoJCQl0b2dnbGUgPSB0b2dnbGUgfHwgdmFsdWUgPT09ICJ0b2dnbGUiOwoJCQlpZiAoIHZhbHVlID09PSAoIGhpZGRlbiA/ICJoaWRlIiA6ICJzaG93IiApICkgewoKCQkJCS8vIFByZXRlbmQgdG8gYmUgaGlkZGVuIGlmIHRoaXMgaXMgYSAic2hvdyIgYW5kCgkJCQkvLyB0aGVyZSBpcyBzdGlsbCBkYXRhIGZyb20gYSBzdG9wcGVkIHNob3cvaGlkZQoJCQkJaWYgKCB2YWx1ZSA9PT0gInNob3ciICYmIGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gIT09IHVuZGVmaW5lZCApIHsKCQkJCQloaWRkZW4gPSB0cnVlOwoKCQkJCS8vIElnbm9yZSBhbGwgb3RoZXIgbm8tb3Agc2hvdy9oaWRlIGRhdGEKCQkJCX0gZWxzZSB7CgkJCQkJY29udGludWU7CgkJCQl9CgkJCX0KCQkJb3JpZ1sgcHJvcCBdID0gZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSB8fCBqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AgKTsKCQl9Cgl9CgoJLy8gQmFpbCBvdXQgaWYgdGhpcyBpcyBhIG5vLW9wIGxpa2UgLmhpZGUoKS5oaWRlKCkKCXByb3BUd2VlbiA9ICFqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcHMgKTsKCWlmICggIXByb3BUd2VlbiAmJiBqUXVlcnkuaXNFbXB0eU9iamVjdCggb3JpZyApICkgewoJCXJldHVybjsKCX0KCgkvLyBSZXN0cmljdCAib3ZlcmZsb3ciIGFuZCAiZGlzcGxheSIgc3R5bGVzIGR1cmluZyBib3ggYW5pbWF0aW9ucwoJaWYgKCBpc0JveCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkgewoKCQkvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSwgRWRnZSAxMiAtIDE1CgkJLy8gUmVjb3JkIGFsbCAzIG92ZXJmbG93IGF0dHJpYnV0ZXMgYmVjYXVzZSBJRSBkb2VzIG5vdCBpbmZlciB0aGUgc2hvcnRoYW5kCgkJLy8gZnJvbSBpZGVudGljYWxseS12YWx1ZWQgb3ZlcmZsb3dYIGFuZCBvdmVyZmxvd1kgYW5kIEVkZ2UganVzdCBtaXJyb3JzCgkJLy8gdGhlIG92ZXJmbG93WCB2YWx1ZSB0aGVyZS4KCQlvcHRzLm92ZXJmbG93ID0gWyBzdHlsZS5vdmVyZmxvdywgc3R5bGUub3ZlcmZsb3dYLCBzdHlsZS5vdmVyZmxvd1kgXTsKCgkJLy8gSWRlbnRpZnkgYSBkaXNwbGF5IHR5cGUsIHByZWZlcnJpbmcgb2xkIHNob3cvaGlkZSBkYXRhIG92ZXIgdGhlIENTUyBjYXNjYWRlCgkJcmVzdG9yZURpc3BsYXkgPSBkYXRhU2hvdyAmJiBkYXRhU2hvdy5kaXNwbGF5OwoJCWlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHsKCQkJcmVzdG9yZURpc3BsYXkgPSBkYXRhUHJpdi5nZXQoIGVsZW0sICJkaXNwbGF5IiApOwoJCX0KCQlkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgImRpc3BsYXkiICk7CgkJaWYgKCBkaXNwbGF5ID09PSAibm9uZSIgKSB7CgkJCWlmICggcmVzdG9yZURpc3BsYXkgKSB7CgkJCQlkaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7CgkJCX0gZWxzZSB7CgoJCQkJLy8gR2V0IG5vbmVtcHR5IHZhbHVlKHMpIGJ5IHRlbXBvcmFyaWx5IGZvcmNpbmcgdmlzaWJpbGl0eQoJCQkJc2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7CgkJCQlyZXN0b3JlRGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheSB8fCByZXN0b3JlRGlzcGxheTsKCQkJCWRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCAiZGlzcGxheSIgKTsKCQkJCXNob3dIaWRlKCBbIGVsZW0gXSApOwoJCQl9CgkJfQoKCQkvLyBBbmltYXRlIGlubGluZSBlbGVtZW50cyBhcyBpbmxpbmUtYmxvY2sKCQlpZiAoIGRpc3BsYXkgPT09ICJpbmxpbmUiIHx8IGRpc3BsYXkgPT09ICJpbmxpbmUtYmxvY2siICYmIHJlc3RvcmVEaXNwbGF5ICE9IG51bGwgKSB7CgkJCWlmICggalF1ZXJ5LmNzcyggZWxlbSwgImZsb2F0IiApID09PSAibm9uZSIgKSB7CgoJCQkJLy8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZSBhdCB0aGUgZW5kIG9mIHB1cmUgc2hvdy9oaWRlIGFuaW1hdGlvbnMKCQkJCWlmICggIXByb3BUd2VlbiApIHsKCQkJCQlhbmltLmRvbmUoIGZ1bmN0aW9uKCkgewoJCQkJCQlzdHlsZS5kaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7CgkJCQkJfSApOwoJCQkJCWlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHsKCQkJCQkJZGlzcGxheSA9IHN0eWxlLmRpc3BsYXk7CgkJCQkJCXJlc3RvcmVEaXNwbGF5ID0gZGlzcGxheSA9PT0gIm5vbmUiID8gIiIgOiBkaXNwbGF5OwoJCQkJCX0KCQkJCX0KCQkJCXN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2NrIjsKCQkJfQoJCX0KCX0KCglpZiAoIG9wdHMub3ZlcmZsb3cgKSB7CgkJc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKCQlhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7CgkJCXN0eWxlLm92ZXJmbG93ID0gb3B0cy5vdmVyZmxvd1sgMCBdOwoJCQlzdHlsZS5vdmVyZmxvd1ggPSBvcHRzLm92ZXJmbG93WyAxIF07CgkJCXN0eWxlLm92ZXJmbG93WSA9IG9wdHMub3ZlcmZsb3dbIDIgXTsKCQl9ICk7Cgl9CgoJLy8gSW1wbGVtZW50IHNob3cvaGlkZSBhbmltYXRpb25zCglwcm9wVHdlZW4gPSBmYWxzZTsKCWZvciAoIHByb3AgaW4gb3JpZyApIHsKCgkJLy8gR2VuZXJhbCBzaG93L2hpZGUgc2V0dXAgZm9yIHRoaXMgZWxlbWVudCBhbmltYXRpb24KCQlpZiAoICFwcm9wVHdlZW4gKSB7CgkJCWlmICggZGF0YVNob3cgKSB7CgkJCQlpZiAoICJoaWRkZW4iIGluIGRhdGFTaG93ICkgewoJCQkJCWhpZGRlbiA9IGRhdGFTaG93LmhpZGRlbjsKCQkJCX0KCQkJfSBlbHNlIHsKCQkJCWRhdGFTaG93ID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCAiZnhzaG93IiwgeyBkaXNwbGF5OiByZXN0b3JlRGlzcGxheSB9ICk7CgkJCX0KCgkJCS8vIFN0b3JlIGhpZGRlbi92aXNpYmxlIGZvciB0b2dnbGUgc28gYC5zdG9wKCkudG9nZ2xlKClgICJyZXZlcnNlcyIKCQkJaWYgKCB0b2dnbGUgKSB7CgkJCQlkYXRhU2hvdy5oaWRkZW4gPSAhaGlkZGVuOwoJCQl9CgoJCQkvLyBTaG93IGVsZW1lbnRzIGJlZm9yZSBhbmltYXRpbmcgdGhlbQoJCQlpZiAoIGhpZGRlbiApIHsKCQkJCXNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApOwoJCQl9CgoJCQkvKiBlc2xpbnQtZGlzYWJsZSBuby1sb29wLWZ1bmMgKi8KCgkJCWFuaW0uZG9uZSggZnVuY3Rpb24oKSB7CgoJCQkJLyogZXNsaW50LWVuYWJsZSBuby1sb29wLWZ1bmMgKi8KCgkJCQkvLyBUaGUgZmluYWwgc3RlcCBvZiBhICJoaWRlIiBhbmltYXRpb24gaXMgYWN0dWFsbHkgaGlkaW5nIHRoZSBlbGVtZW50CgkJCQlpZiAoICFoaWRkZW4gKSB7CgkJCQkJc2hvd0hpZGUoIFsgZWxlbSBdICk7CgkJCQl9CgkJCQlkYXRhUHJpdi5yZW1vdmUoIGVsZW0sICJmeHNob3ciICk7CgkJCQlmb3IgKCBwcm9wIGluIG9yaWcgKSB7CgkJCQkJalF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBvcmlnWyBwcm9wIF0gKTsKCQkJCX0KCQkJfSApOwoJCX0KCgkJLy8gUGVyLXByb3BlcnR5IHNldHVwCgkJcHJvcFR3ZWVuID0gY3JlYXRlVHdlZW4oIGhpZGRlbiA/IGRhdGFTaG93WyBwcm9wIF0gOiAwLCBwcm9wLCBhbmltICk7CgkJaWYgKCAhKCBwcm9wIGluIGRhdGFTaG93ICkgKSB7CgkJCWRhdGFTaG93WyBwcm9wIF0gPSBwcm9wVHdlZW4uc3RhcnQ7CgkJCWlmICggaGlkZGVuICkgewoJCQkJcHJvcFR3ZWVuLmVuZCA9IHByb3BUd2Vlbi5zdGFydDsKCQkJCXByb3BUd2Vlbi5zdGFydCA9IDA7CgkJCX0KCQl9Cgl9Cn0KCmZ1bmN0aW9uIHByb3BGaWx0ZXIoIHByb3BzLCBzcGVjaWFsRWFzaW5nICkgewoJdmFyIGluZGV4LCBuYW1lLCBlYXNpbmcsIHZhbHVlLCBob29rczsKCgkvLyBjYW1lbENhc2UsIHNwZWNpYWxFYXNpbmcgYW5kIGV4cGFuZCBjc3NIb29rIHBhc3MKCWZvciAoIGluZGV4IGluIHByb3BzICkgewoJCW5hbWUgPSBjYW1lbENhc2UoIGluZGV4ICk7CgkJZWFzaW5nID0gc3BlY2lhbEVhc2luZ1sgbmFtZSBdOwoJCXZhbHVlID0gcHJvcHNbIGluZGV4IF07CgkJaWYgKCBBcnJheS5pc0FycmF5KCB2YWx1ZSApICkgewoJCQllYXNpbmcgPSB2YWx1ZVsgMSBdOwoJCQl2YWx1ZSA9IHByb3BzWyBpbmRleCBdID0gdmFsdWVbIDAgXTsKCQl9CgoJCWlmICggaW5kZXggIT09IG5hbWUgKSB7CgkJCXByb3BzWyBuYW1lIF0gPSB2YWx1ZTsKCQkJZGVsZXRlIHByb3BzWyBpbmRleCBdOwoJCX0KCgkJaG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXTsKCQlpZiAoIGhvb2tzICYmICJleHBhbmQiIGluIGhvb2tzICkgewoJCQl2YWx1ZSA9IGhvb2tzLmV4cGFuZCggdmFsdWUgKTsKCQkJZGVsZXRlIHByb3BzWyBuYW1lIF07CgoJCQkvLyBOb3QgcXVpdGUgJC5leHRlbmQsIHRoaXMgd29uJ3Qgb3ZlcndyaXRlIGV4aXN0aW5nIGtleXMuCgkJCS8vIFJldXNpbmcgJ2luZGV4JyBiZWNhdXNlIHdlIGhhdmUgdGhlIGNvcnJlY3QgIm5hbWUiCgkJCWZvciAoIGluZGV4IGluIHZhbHVlICkgewoJCQkJaWYgKCAhKCBpbmRleCBpbiBwcm9wcyApICkgewoJCQkJCXByb3BzWyBpbmRleCBdID0gdmFsdWVbIGluZGV4IF07CgkJCQkJc3BlY2lhbEVhc2luZ1sgaW5kZXggXSA9IGVhc2luZzsKCQkJCX0KCQkJfQoJCX0gZWxzZSB7CgkJCXNwZWNpYWxFYXNpbmdbIG5hbWUgXSA9IGVhc2luZzsKCQl9Cgl9Cn0KCmZ1bmN0aW9uIEFuaW1hdGlvbiggZWxlbSwgcHJvcGVydGllcywgb3B0aW9ucyApIHsKCXZhciByZXN1bHQsCgkJc3RvcHBlZCwKCQlpbmRleCA9IDAsCgkJbGVuZ3RoID0gQW5pbWF0aW9uLnByZWZpbHRlcnMubGVuZ3RoLAoJCWRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCkuYWx3YXlzKCBmdW5jdGlvbigpIHsKCgkJCS8vIERvbid0IG1hdGNoIGVsZW0gaW4gdGhlIDphbmltYXRlZCBzZWxlY3RvcgoJCQlkZWxldGUgdGljay5lbGVtOwoJCX0gKSwKCQl0aWNrID0gZnVuY3Rpb24oKSB7CgkJCWlmICggc3RvcHBlZCApIHsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoJCQl2YXIgY3VycmVudFRpbWUgPSBmeE5vdyB8fCBjcmVhdGVGeE5vdygpLAoJCQkJcmVtYWluaW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSApLAoKCQkJCS8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zIG9ubHkKCQkJCS8vIEFyY2hhaWMgY3Jhc2ggYnVnIHdvbid0IGFsbG93IHVzIHRvIHVzZSBgMSAtICggMC41IHx8IDAgKWAgKCMxMjQ5NykKCQkJCXRlbXAgPSByZW1haW5pbmcgLyBhbmltYXRpb24uZHVyYXRpb24gfHwgMCwKCQkJCXBlcmNlbnQgPSAxIC0gdGVtcCwKCQkJCWluZGV4ID0gMCwKCQkJCWxlbmd0aCA9IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoOwoKCQkJZm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHsKCQkJCWFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCBwZXJjZW50ICk7CgkJCX0KCgkJCWRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBwZXJjZW50LCByZW1haW5pbmcgXSApOwoKCQkJLy8gSWYgdGhlcmUncyBtb3JlIHRvIGRvLCB5aWVsZAoJCQlpZiAoIHBlcmNlbnQgPCAxICYmIGxlbmd0aCApIHsKCQkJCXJldHVybiByZW1haW5pbmc7CgkJCX0KCgkJCS8vIElmIHRoaXMgd2FzIGFuIGVtcHR5IGFuaW1hdGlvbiwgc3ludGhlc2l6ZSBhIGZpbmFsIHByb2dyZXNzIG5vdGlmaWNhdGlvbgoJCQlpZiAoICFsZW5ndGggKSB7CgkJCQlkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgMSwgMCBdICk7CgkJCX0KCgkJCS8vIFJlc29sdmUgdGhlIGFuaW1hdGlvbiBhbmQgcmVwb3J0IGl0cyBjb25jbHVzaW9uCgkJCWRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiBdICk7CgkJCXJldHVybiBmYWxzZTsKCQl9LAoJCWFuaW1hdGlvbiA9IGRlZmVycmVkLnByb21pc2UoIHsKCQkJZWxlbTogZWxlbSwKCQkJcHJvcHM6IGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wZXJ0aWVzICksCgkJCW9wdHM6IGpRdWVyeS5leHRlbmQoIHRydWUsIHsKCQkJCXNwZWNpYWxFYXNpbmc6IHt9LAoJCQkJZWFzaW5nOiBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0CgkJCX0sIG9wdGlvbnMgKSwKCQkJb3JpZ2luYWxQcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzLAoJCQlvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsCgkJCXN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSwKCQkJZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sCgkJCXR3ZWVuczogW10sCgkJCWNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiggcHJvcCwgZW5kICkgewoJCQkJdmFyIHR3ZWVuID0galF1ZXJ5LlR3ZWVuKCBlbGVtLCBhbmltYXRpb24ub3B0cywgcHJvcCwgZW5kLAoJCQkJCWFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmdbIHByb3AgXSB8fCBhbmltYXRpb24ub3B0cy5lYXNpbmcgKTsKCQkJCWFuaW1hdGlvbi50d2VlbnMucHVzaCggdHdlZW4gKTsKCQkJCXJldHVybiB0d2VlbjsKCQkJfSwKCQkJc3RvcDogZnVuY3Rpb24oIGdvdG9FbmQgKSB7CgkJCQl2YXIgaW5kZXggPSAwLAoKCQkJCQkvLyBJZiB3ZSBhcmUgZ29pbmcgdG8gdGhlIGVuZCwgd2Ugd2FudCB0byBydW4gYWxsIHRoZSB0d2VlbnMKCQkJCQkvLyBvdGhlcndpc2Ugd2Ugc2tpcCB0aGlzIHBhcnQKCQkJCQlsZW5ndGggPSBnb3RvRW5kID8gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGggOiAwOwoJCQkJaWYgKCBzdG9wcGVkICkgewoJCQkJCXJldHVybiB0aGlzOwoJCQkJfQoJCQkJc3RvcHBlZCA9IHRydWU7CgkJCQlmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkgewoJCQkJCWFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCAxICk7CgkJCQl9CgoJCQkJLy8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3QKCQkJCWlmICggZ290b0VuZCApIHsKCQkJCQlkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgMSwgMCBdICk7CgkJCQkJZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTsKCQkJCX0gZWxzZSB7CgkJCQkJZGVmZXJyZWQucmVqZWN0V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApOwoJCQkJfQoJCQkJcmV0dXJuIHRoaXM7CgkJCX0KCQl9ICksCgkJcHJvcHMgPSBhbmltYXRpb24ucHJvcHM7CgoJcHJvcEZpbHRlciggcHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcgKTsKCglmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkgewoJCXJlc3VsdCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgZWxlbSwgcHJvcHMsIGFuaW1hdGlvbi5vcHRzICk7CgkJaWYgKCByZXN1bHQgKSB7CgkJCWlmICggaXNGdW5jdGlvbiggcmVzdWx0LnN0b3AgKSApIHsKCQkJCWpRdWVyeS5fcXVldWVIb29rcyggYW5pbWF0aW9uLmVsZW0sIGFuaW1hdGlvbi5vcHRzLnF1ZXVlICkuc3RvcCA9CgkJCQkJcmVzdWx0LnN0b3AuYmluZCggcmVzdWx0ICk7CgkJCX0KCQkJcmV0dXJuIHJlc3VsdDsKCQl9Cgl9CgoJalF1ZXJ5Lm1hcCggcHJvcHMsIGNyZWF0ZVR3ZWVuLCBhbmltYXRpb24gKTsKCglpZiAoIGlzRnVuY3Rpb24oIGFuaW1hdGlvbi5vcHRzLnN0YXJ0ICkgKSB7CgkJYW5pbWF0aW9uLm9wdHMuc3RhcnQuY2FsbCggZWxlbSwgYW5pbWF0aW9uICk7Cgl9CgoJLy8gQXR0YWNoIGNhbGxiYWNrcyBmcm9tIG9wdGlvbnMKCWFuaW1hdGlvbgoJCS5wcm9ncmVzcyggYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MgKQoJCS5kb25lKCBhbmltYXRpb24ub3B0cy5kb25lLCBhbmltYXRpb24ub3B0cy5jb21wbGV0ZSApCgkJLmZhaWwoIGFuaW1hdGlvbi5vcHRzLmZhaWwgKQoJCS5hbHdheXMoIGFuaW1hdGlvbi5vcHRzLmFsd2F5cyApOwoKCWpRdWVyeS5meC50aW1lcigKCQlqUXVlcnkuZXh0ZW5kKCB0aWNrLCB7CgkJCWVsZW06IGVsZW0sCgkJCWFuaW06IGFuaW1hdGlvbiwKCQkJcXVldWU6IGFuaW1hdGlvbi5vcHRzLnF1ZXVlCgkJfSApCgkpOwoKCXJldHVybiBhbmltYXRpb247Cn0KCmpRdWVyeS5BbmltYXRpb24gPSBqUXVlcnkuZXh0ZW5kKCBBbmltYXRpb24sIHsKCgl0d2VlbmVyczogewoJCSIqIjogWyBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7CgkJCXZhciB0d2VlbiA9IHRoaXMuY3JlYXRlVHdlZW4oIHByb3AsIHZhbHVlICk7CgkJCWFkanVzdENTUyggdHdlZW4uZWxlbSwgcHJvcCwgcmNzc051bS5leGVjKCB2YWx1ZSApLCB0d2VlbiApOwoJCQlyZXR1cm4gdHdlZW47CgkJfSBdCgl9LAoKCXR3ZWVuZXI6IGZ1bmN0aW9uKCBwcm9wcywgY2FsbGJhY2sgKSB7CgkJaWYgKCBpc0Z1bmN0aW9uKCBwcm9wcyApICkgewoJCQljYWxsYmFjayA9IHByb3BzOwoJCQlwcm9wcyA9IFsgIioiIF07CgkJfSBlbHNlIHsKCQkJcHJvcHMgPSBwcm9wcy5tYXRjaCggcm5vdGh0bWx3aGl0ZSApOwoJCX0KCgkJdmFyIHByb3AsCgkJCWluZGV4ID0gMCwKCQkJbGVuZ3RoID0gcHJvcHMubGVuZ3RoOwoKCQlmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkgewoJCQlwcm9wID0gcHJvcHNbIGluZGV4IF07CgkJCUFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdID0gQW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gfHwgW107CgkJCUFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdLnVuc2hpZnQoIGNhbGxiYWNrICk7CgkJfQoJfSwKCglwcmVmaWx0ZXJzOiBbIGRlZmF1bHRQcmVmaWx0ZXIgXSwKCglwcmVmaWx0ZXI6IGZ1bmN0aW9uKCBjYWxsYmFjaywgcHJlcGVuZCApIHsKCQlpZiAoIHByZXBlbmQgKSB7CgkJCUFuaW1hdGlvbi5wcmVmaWx0ZXJzLnVuc2hpZnQoIGNhbGxiYWNrICk7CgkJfSBlbHNlIHsKCQkJQW5pbWF0aW9uLnByZWZpbHRlcnMucHVzaCggY2FsbGJhY2sgKTsKCQl9Cgl9Cn0gKTsKCmpRdWVyeS5zcGVlZCA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBmbiApIHsKCXZhciBvcHQgPSBzcGVlZCAmJiB0eXBlb2Ygc3BlZWQgPT09ICJvYmplY3QiID8galF1ZXJ5LmV4dGVuZCgge30sIHNwZWVkICkgOiB7CgkJY29tcGxldGU6IGZuIHx8ICFmbiAmJiBlYXNpbmcgfHwKCQkJaXNGdW5jdGlvbiggc3BlZWQgKSAmJiBzcGVlZCwKCQlkdXJhdGlvbjogc3BlZWQsCgkJZWFzaW5nOiBmbiAmJiBlYXNpbmcgfHwgZWFzaW5nICYmICFpc0Z1bmN0aW9uKCBlYXNpbmcgKSAmJiBlYXNpbmcKCX07CgoJLy8gR28gdG8gdGhlIGVuZCBzdGF0ZSBpZiBmeCBhcmUgb2ZmCglpZiAoIGpRdWVyeS5meC5vZmYgKSB7CgkJb3B0LmR1cmF0aW9uID0gMDsKCgl9IGVsc2UgewoJCWlmICggdHlwZW9mIG9wdC5kdXJhdGlvbiAhPT0gIm51bWJlciIgKSB7CgkJCWlmICggb3B0LmR1cmF0aW9uIGluIGpRdWVyeS5meC5zcGVlZHMgKSB7CgkJCQlvcHQuZHVyYXRpb24gPSBqUXVlcnkuZnguc3BlZWRzWyBvcHQuZHVyYXRpb24gXTsKCgkJCX0gZWxzZSB7CgkJCQlvcHQuZHVyYXRpb24gPSBqUXVlcnkuZnguc3BlZWRzLl9kZWZhdWx0OwoJCQl9CgkJfQoJfQoKCS8vIE5vcm1hbGl6ZSBvcHQucXVldWUgLSB0cnVlL3VuZGVmaW5lZC9udWxsIC0+ICJmeCIKCWlmICggb3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkgewoJCW9wdC5xdWV1ZSA9ICJmeCI7Cgl9CgoJLy8gUXVldWVpbmcKCW9wdC5vbGQgPSBvcHQuY29tcGxldGU7CgoJb3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7CgkJaWYgKCBpc0Z1bmN0aW9uKCBvcHQub2xkICkgKSB7CgkJCW9wdC5vbGQuY2FsbCggdGhpcyApOwoJCX0KCgkJaWYgKCBvcHQucXVldWUgKSB7CgkJCWpRdWVyeS5kZXF1ZXVlKCB0aGlzLCBvcHQucXVldWUgKTsKCQl9Cgl9OwoKCXJldHVybiBvcHQ7Cn07CgpqUXVlcnkuZm4uZXh0ZW5kKCB7CglmYWRlVG86IGZ1bmN0aW9uKCBzcGVlZCwgdG8sIGVhc2luZywgY2FsbGJhY2sgKSB7CgoJCS8vIFNob3cgYW55IGhpZGRlbiBlbGVtZW50cyBhZnRlciBzZXR0aW5nIG9wYWNpdHkgdG8gMAoJCXJldHVybiB0aGlzLmZpbHRlciggaXNIaWRkZW5XaXRoaW5UcmVlICkuY3NzKCAib3BhY2l0eSIsIDAgKS5zaG93KCkKCgkJCS8vIEFuaW1hdGUgdG8gdGhlIHZhbHVlIHNwZWNpZmllZAoJCQkuZW5kKCkuYW5pbWF0ZSggeyBvcGFjaXR5OiB0byB9LCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApOwoJfSwKCWFuaW1hdGU6IGZ1bmN0aW9uKCBwcm9wLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHsKCQl2YXIgZW1wdHkgPSBqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcCApLAoJCQlvcHRhbGwgPSBqUXVlcnkuc3BlZWQoIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICksCgkJCWRvQW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7CgoJCQkJLy8gT3BlcmF0ZSBvbiBhIGNvcHkgb2YgcHJvcCBzbyBwZXItcHJvcGVydHkgZWFzaW5nIHdvbid0IGJlIGxvc3QKCQkJCXZhciBhbmltID0gQW5pbWF0aW9uKCB0aGlzLCBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcCApLCBvcHRhbGwgKTsKCgkJCQkvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHkKCQkJCWlmICggZW1wdHkgfHwgZGF0YVByaXYuZ2V0KCB0aGlzLCAiZmluaXNoIiApICkgewoJCQkJCWFuaW0uc3RvcCggdHJ1ZSApOwoJCQkJfQoJCQl9OwoKCQlkb0FuaW1hdGlvbi5maW5pc2ggPSBkb0FuaW1hdGlvbjsKCgkJcmV0dXJuIGVtcHR5IHx8IG9wdGFsbC5xdWV1ZSA9PT0gZmFsc2UgPwoJCQl0aGlzLmVhY2goIGRvQW5pbWF0aW9uICkgOgoJCQl0aGlzLnF1ZXVlKCBvcHRhbGwucXVldWUsIGRvQW5pbWF0aW9uICk7Cgl9LAoJc3RvcDogZnVuY3Rpb24oIHR5cGUsIGNsZWFyUXVldWUsIGdvdG9FbmQgKSB7CgkJdmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uKCBob29rcyApIHsKCQkJdmFyIHN0b3AgPSBob29rcy5zdG9wOwoJCQlkZWxldGUgaG9va3Muc3RvcDsKCQkJc3RvcCggZ290b0VuZCApOwoJCX07CgoJCWlmICggdHlwZW9mIHR5cGUgIT09ICJzdHJpbmciICkgewoJCQlnb3RvRW5kID0gY2xlYXJRdWV1ZTsKCQkJY2xlYXJRdWV1ZSA9IHR5cGU7CgkJCXR5cGUgPSB1bmRlZmluZWQ7CgkJfQoJCWlmICggY2xlYXJRdWV1ZSApIHsKCQkJdGhpcy5xdWV1ZSggdHlwZSB8fCAiZngiLCBbXSApOwoJCX0KCgkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7CgkJCXZhciBkZXF1ZXVlID0gdHJ1ZSwKCQkJCWluZGV4ID0gdHlwZSAhPSBudWxsICYmIHR5cGUgKyAicXVldWVIb29rcyIsCgkJCQl0aW1lcnMgPSBqUXVlcnkudGltZXJzLAoJCQkJZGF0YSA9IGRhdGFQcml2LmdldCggdGhpcyApOwoKCQkJaWYgKCBpbmRleCApIHsKCQkJCWlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgKSB7CgkJCQkJc3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlmb3IgKCBpbmRleCBpbiBkYXRhICkgewoJCQkJCWlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgJiYgcnJ1bi50ZXN0KCBpbmRleCApICkgewoJCQkJCQlzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTsKCQkJCQl9CgkJCQl9CgkJCX0KCgkJCWZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7CgkJCQlpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmCgkJCQkJKCB0eXBlID09IG51bGwgfHwgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkgKSB7CgoJCQkJCXRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIGdvdG9FbmQgKTsKCQkJCQlkZXF1ZXVlID0gZmFsc2U7CgkJCQkJdGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTsKCQkJCX0KCQkJfQoKCQkJLy8gU3RhcnQgdGhlIG5leHQgaW4gdGhlIHF1ZXVlIGlmIHRoZSBsYXN0IHN0ZXAgd2Fzbid0IGZvcmNlZC4KCQkJLy8gVGltZXJzIGN1cnJlbnRseSB3aWxsIGNhbGwgdGhlaXIgY29tcGxldGUgY2FsbGJhY2tzLCB3aGljaAoJCQkvLyB3aWxsIGRlcXVldWUgYnV0IG9ubHkgaWYgdGhleSB3ZXJlIGdvdG9FbmQuCgkJCWlmICggZGVxdWV1ZSB8fCAhZ290b0VuZCApIHsKCQkJCWpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7CgkJCX0KCQl9ICk7Cgl9LAoJZmluaXNoOiBmdW5jdGlvbiggdHlwZSApIHsKCQlpZiAoIHR5cGUgIT09IGZhbHNlICkgewoJCQl0eXBlID0gdHlwZSB8fCAiZngiOwoJCX0KCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHsKCQkJdmFyIGluZGV4LAoJCQkJZGF0YSA9IGRhdGFQcml2LmdldCggdGhpcyApLAoJCQkJcXVldWUgPSBkYXRhWyB0eXBlICsgInF1ZXVlIiBdLAoJCQkJaG9va3MgPSBkYXRhWyB0eXBlICsgInF1ZXVlSG9va3MiIF0sCgkJCQl0aW1lcnMgPSBqUXVlcnkudGltZXJzLAoJCQkJbGVuZ3RoID0gcXVldWUgPyBxdWV1ZS5sZW5ndGggOiAwOwoKCQkJLy8gRW5hYmxlIGZpbmlzaGluZyBmbGFnIG9uIHByaXZhdGUgZGF0YQoJCQlkYXRhLmZpbmlzaCA9IHRydWU7CgoJCQkvLyBFbXB0eSB0aGUgcXVldWUgZmlyc3QKCQkJalF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBbXSApOwoKCQkJaWYgKCBob29rcyAmJiBob29rcy5zdG9wICkgewoJCQkJaG9va3Muc3RvcC5jYWxsKCB0aGlzLCB0cnVlICk7CgkJCX0KCgkJCS8vIExvb2sgZm9yIGFueSBhY3RpdmUgYW5pbWF0aW9ucywgYW5kIGZpbmlzaCB0aGVtCgkJCWZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7CgkJCQlpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmIHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApIHsKCQkJCQl0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCB0cnVlICk7CgkJCQkJdGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTsKCQkJCX0KCQkJfQoKCQkJLy8gTG9vayBmb3IgYW55IGFuaW1hdGlvbnMgaW4gdGhlIG9sZCBxdWV1ZSBhbmQgZmluaXNoIHRoZW0KCQkJZm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHsKCQkJCWlmICggcXVldWVbIGluZGV4IF0gJiYgcXVldWVbIGluZGV4IF0uZmluaXNoICkgewoJCQkJCXF1ZXVlWyBpbmRleCBdLmZpbmlzaC5jYWxsKCB0aGlzICk7CgkJCQl9CgkJCX0KCgkJCS8vIFR1cm4gb2ZmIGZpbmlzaGluZyBmbGFnCgkJCWRlbGV0ZSBkYXRhLmZpbmlzaDsKCQl9ICk7Cgl9Cn0gKTsKCmpRdWVyeS5lYWNoKCBbICJ0b2dnbGUiLCAic2hvdyIsICJoaWRlIiBdLCBmdW5jdGlvbiggX2ksIG5hbWUgKSB7Cgl2YXIgY3NzRm4gPSBqUXVlcnkuZm5bIG5hbWUgXTsKCWpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkgewoJCXJldHVybiBzcGVlZCA9PSBudWxsIHx8IHR5cGVvZiBzcGVlZCA9PT0gImJvb2xlYW4iID8KCQkJY3NzRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIDoKCQkJdGhpcy5hbmltYXRlKCBnZW5GeCggbmFtZSwgdHJ1ZSApLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApOwoJfTsKfSApOwoKLy8gR2VuZXJhdGUgc2hvcnRjdXRzIGZvciBjdXN0b20gYW5pbWF0aW9ucwpqUXVlcnkuZWFjaCggewoJc2xpZGVEb3duOiBnZW5GeCggInNob3ciICksCglzbGlkZVVwOiBnZW5GeCggImhpZGUiICksCglzbGlkZVRvZ2dsZTogZ2VuRngoICJ0b2dnbGUiICksCglmYWRlSW46IHsgb3BhY2l0eTogInNob3ciIH0sCglmYWRlT3V0OiB7IG9wYWNpdHk6ICJoaWRlIiB9LAoJZmFkZVRvZ2dsZTogeyBvcGFjaXR5OiAidG9nZ2xlIiB9Cn0sIGZ1bmN0aW9uKCBuYW1lLCBwcm9wcyApIHsKCWpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkgewoJCXJldHVybiB0aGlzLmFuaW1hdGUoIHByb3BzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApOwoJfTsKfSApOwoKalF1ZXJ5LnRpbWVycyA9IFtdOwpqUXVlcnkuZngudGljayA9IGZ1bmN0aW9uKCkgewoJdmFyIHRpbWVyLAoJCWkgPSAwLAoJCXRpbWVycyA9IGpRdWVyeS50aW1lcnM7CgoJZnhOb3cgPSBEYXRlLm5vdygpOwoKCWZvciAoIDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKyApIHsKCQl0aW1lciA9IHRpbWVyc1sgaSBdOwoKCQkvLyBSdW4gdGhlIHRpbWVyIGFuZCBzYWZlbHkgcmVtb3ZlIGl0IHdoZW4gZG9uZSAoYWxsb3dpbmcgZm9yIGV4dGVybmFsIHJlbW92YWwpCgkJaWYgKCAhdGltZXIoKSAmJiB0aW1lcnNbIGkgXSA9PT0gdGltZXIgKSB7CgkJCXRpbWVycy5zcGxpY2UoIGktLSwgMSApOwoJCX0KCX0KCglpZiAoICF0aW1lcnMubGVuZ3RoICkgewoJCWpRdWVyeS5meC5zdG9wKCk7Cgl9CglmeE5vdyA9IHVuZGVmaW5lZDsKfTsKCmpRdWVyeS5meC50aW1lciA9IGZ1bmN0aW9uKCB0aW1lciApIHsKCWpRdWVyeS50aW1lcnMucHVzaCggdGltZXIgKTsKCWpRdWVyeS5meC5zdGFydCgpOwp9OwoKalF1ZXJ5LmZ4LmludGVydmFsID0gMTM7CmpRdWVyeS5meC5zdGFydCA9IGZ1bmN0aW9uKCkgewoJaWYgKCBpblByb2dyZXNzICkgewoJCXJldHVybjsKCX0KCglpblByb2dyZXNzID0gdHJ1ZTsKCXNjaGVkdWxlKCk7Cn07CgpqUXVlcnkuZnguc3RvcCA9IGZ1bmN0aW9uKCkgewoJaW5Qcm9ncmVzcyA9IG51bGw7Cn07CgpqUXVlcnkuZnguc3BlZWRzID0gewoJc2xvdzogNjAwLAoJZmFzdDogMjAwLAoKCS8vIERlZmF1bHQgc3BlZWQKCV9kZWZhdWx0OiA0MDAKfTsKCgovLyBCYXNlZCBvZmYgb2YgdGhlIHBsdWdpbiBieSBDbGludCBIZWxmZXJzLCB3aXRoIHBlcm1pc3Npb24uCi8vIGh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDEwMDMyNDAxNDc0Ny9odHRwOi8vYmxpbmRzaWduYWxzLmNvbS9pbmRleC5waHAvMjAwOS8wNy9qcXVlcnktZGVsYXkvCmpRdWVyeS5mbi5kZWxheSA9IGZ1bmN0aW9uKCB0aW1lLCB0eXBlICkgewoJdGltZSA9IGpRdWVyeS5meCA/IGpRdWVyeS5meC5zcGVlZHNbIHRpbWUgXSB8fCB0aW1lIDogdGltZTsKCXR5cGUgPSB0eXBlIHx8ICJmeCI7CgoJcmV0dXJuIHRoaXMucXVldWUoIHR5cGUsIGZ1bmN0aW9uKCBuZXh0LCBob29rcyApIHsKCQl2YXIgdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCBuZXh0LCB0aW1lICk7CgkJaG9va3Muc3RvcCA9IGZ1bmN0aW9uKCkgewoJCQl3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7CgkJfTsKCX0gKTsKfTsKCgooIGZ1bmN0aW9uKCkgewoJdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImlucHV0IiApLAoJCXNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJzZWxlY3QiICksCgkJb3B0ID0gc2VsZWN0LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAib3B0aW9uIiApICk7CgoJaW5wdXQudHlwZSA9ICJjaGVja2JveCI7CgoJLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMyBvbmx5CgkvLyBEZWZhdWx0IHZhbHVlIGZvciBhIGNoZWNrYm94IHNob3VsZCBiZSAib24iCglzdXBwb3J0LmNoZWNrT24gPSBpbnB1dC52YWx1ZSAhPT0gIiI7CgoJLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5CgkvLyBNdXN0IGFjY2VzcyBzZWxlY3RlZEluZGV4IHRvIG1ha2UgZGVmYXVsdCBvcHRpb25zIHNlbGVjdAoJc3VwcG9ydC5vcHRTZWxlY3RlZCA9IG9wdC5zZWxlY3RlZDsKCgkvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHkKCS8vIEFuIGlucHV0IGxvc2VzIGl0cyB2YWx1ZSBhZnRlciBiZWNvbWluZyBhIHJhZGlvCglpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJpbnB1dCIgKTsKCWlucHV0LnZhbHVlID0gInQiOwoJaW5wdXQudHlwZSA9ICJyYWRpbyI7CglzdXBwb3J0LnJhZGlvVmFsdWUgPSBpbnB1dC52YWx1ZSA9PT0gInQiOwp9ICkoKTsKCgp2YXIgYm9vbEhvb2ssCglhdHRySGFuZGxlID0galF1ZXJ5LmV4cHIuYXR0ckhhbmRsZTsKCmpRdWVyeS5mbi5leHRlbmQoIHsKCWF0dHI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHsKCQlyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkuYXR0ciwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7Cgl9LAoKCXJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBuYW1lICkgewoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgewoJCQlqUXVlcnkucmVtb3ZlQXR0ciggdGhpcywgbmFtZSApOwoJCX0gKTsKCX0KfSApOwoKalF1ZXJ5LmV4dGVuZCggewoJYXR0cjogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkgewoJCXZhciByZXQsIGhvb2tzLAoJCQluVHlwZSA9IGVsZW0ubm9kZVR5cGU7CgoJCS8vIERvbid0IGdldC9zZXQgYXR0cmlidXRlcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXMKCQlpZiAoIG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkgewoJCQlyZXR1cm47CgkJfQoKCQkvLyBGYWxsYmFjayB0byBwcm9wIHdoZW4gYXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZAoJCWlmICggdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlID09PSAidW5kZWZpbmVkIiApIHsKCQkJcmV0dXJuIGpRdWVyeS5wcm9wKCBlbGVtLCBuYW1lLCB2YWx1ZSApOwoJCX0KCgkJLy8gQXR0cmlidXRlIGhvb2tzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBsb3dlcmNhc2UgdmVyc2lvbgoJCS8vIEdyYWIgbmVjZXNzYXJ5IGhvb2sgaWYgb25lIGlzIGRlZmluZWQKCQlpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHsKCQkJaG9va3MgPSBqUXVlcnkuYXR0ckhvb2tzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSB8fAoJCQkJKCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnRlc3QoIG5hbWUgKSA/IGJvb2xIb29rIDogdW5kZWZpbmVkICk7CgkJfQoKCQlpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7CgkJCWlmICggdmFsdWUgPT09IG51bGwgKSB7CgkJCQlqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApOwoJCQkJcmV0dXJuOwoJCQl9CgoJCQlpZiAoIGhvb2tzICYmICJzZXQiIGluIGhvb2tzICYmCgkJCQkoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7CgkJCQlyZXR1cm4gcmV0OwoJCQl9CgoJCQllbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgdmFsdWUgKyAiIiApOwoJCQlyZXR1cm4gdmFsdWU7CgkJfQoKCQlpZiAoIGhvb2tzICYmICJnZXQiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHsKCQkJcmV0dXJuIHJldDsKCQl9CgoJCXJldCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIG5hbWUgKTsKCgkJLy8gTm9uLWV4aXN0ZW50IGF0dHJpYnV0ZXMgcmV0dXJuIG51bGwsIHdlIG5vcm1hbGl6ZSB0byB1bmRlZmluZWQKCQlyZXR1cm4gcmV0ID09IG51bGwgPyB1bmRlZmluZWQgOiByZXQ7Cgl9LAoKCWF0dHJIb29rczogewoJCXR5cGU6IHsKCQkJc2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7CgkJCQlpZiAoICFzdXBwb3J0LnJhZGlvVmFsdWUgJiYgdmFsdWUgPT09ICJyYWRpbyIgJiYKCQkJCQlub2RlTmFtZSggZWxlbSwgImlucHV0IiApICkgewoJCQkJCXZhciB2YWwgPSBlbGVtLnZhbHVlOwoJCQkJCWVsZW0uc2V0QXR0cmlidXRlKCAidHlwZSIsIHZhbHVlICk7CgkJCQkJaWYgKCB2YWwgKSB7CgkJCQkJCWVsZW0udmFsdWUgPSB2YWw7CgkJCQkJfQoJCQkJCXJldHVybiB2YWx1ZTsKCQkJCX0KCQkJfQoJCX0KCX0sCgoJcmVtb3ZlQXR0cjogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkgewoJCXZhciBuYW1lLAoJCQlpID0gMCwKCgkJCS8vIEF0dHJpYnV0ZSBuYW1lcyBjYW4gY29udGFpbiBub24tSFRNTCB3aGl0ZXNwYWNlIGNoYXJhY3RlcnMKCQkJLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjYXR0cmlidXRlcy0yCgkJCWF0dHJOYW1lcyA9IHZhbHVlICYmIHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICk7CgoJCWlmICggYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7CgkJCXdoaWxlICggKCBuYW1lID0gYXR0ck5hbWVzWyBpKysgXSApICkgewoJCQkJZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIG5hbWUgKTsKCQkJfQoJCX0KCX0KfSApOwoKLy8gSG9va3MgZm9yIGJvb2xlYW4gYXR0cmlidXRlcwpib29sSG9vayA9IHsKCXNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkgewoJCWlmICggdmFsdWUgPT09IGZhbHNlICkgewoKCQkJLy8gUmVtb3ZlIGJvb2xlYW4gYXR0cmlidXRlcyB3aGVuIHNldCB0byBmYWxzZQoJCQlqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApOwoJCX0gZWxzZSB7CgkJCWVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lICk7CgkJfQoJCXJldHVybiBuYW1lOwoJfQp9OwoKalF1ZXJ5LmVhY2goIGpRdWVyeS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKCAvXHcrL2cgKSwgZnVuY3Rpb24oIF9pLCBuYW1lICkgewoJdmFyIGdldHRlciA9IGF0dHJIYW5kbGVbIG5hbWUgXSB8fCBqUXVlcnkuZmluZC5hdHRyOwoKCWF0dHJIYW5kbGVbIG5hbWUgXSA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHsKCQl2YXIgcmV0LCBoYW5kbGUsCgkJCWxvd2VyY2FzZU5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7CgoJCWlmICggIWlzWE1MICkgewoKCQkJLy8gQXZvaWQgYW4gaW5maW5pdGUgbG9vcCBieSB0ZW1wb3JhcmlseSByZW1vdmluZyB0aGlzIGZ1bmN0aW9uIGZyb20gdGhlIGdldHRlcgoJCQloYW5kbGUgPSBhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF07CgkJCWF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXSA9IHJldDsKCQkJcmV0ID0gZ2V0dGVyKCBlbGVtLCBuYW1lLCBpc1hNTCApICE9IG51bGwgPwoJCQkJbG93ZXJjYXNlTmFtZSA6CgkJCQludWxsOwoJCQlhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF0gPSBoYW5kbGU7CgkJfQoJCXJldHVybiByZXQ7Cgl9Owp9ICk7CgoKCgp2YXIgcmZvY3VzYWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksCglyY2xpY2thYmxlID0gL14oPzphfGFyZWEpJC9pOwoKalF1ZXJ5LmZuLmV4dGVuZCggewoJcHJvcDogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkgewoJCXJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5wcm9wLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTsKCX0sCgoJcmVtb3ZlUHJvcDogZnVuY3Rpb24oIG5hbWUgKSB7CgkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7CgkJCWRlbGV0ZSB0aGlzWyBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWUgXTsKCQl9ICk7Cgl9Cn0gKTsKCmpRdWVyeS5leHRlbmQoIHsKCXByb3A6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHsKCQl2YXIgcmV0LCBob29rcywKCQkJblR5cGUgPSBlbGVtLm5vZGVUeXBlOwoKCQkvLyBEb24ndCBnZXQvc2V0IHByb3BlcnRpZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzCgkJaWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHsKCQkJcmV0dXJuOwoJCX0KCgkJaWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7CgoJCQkvLyBGaXggbmFtZSBhbmQgYXR0YWNoIGhvb2tzCgkJCW5hbWUgPSBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWU7CgkJCWhvb2tzID0galF1ZXJ5LnByb3BIb29rc1sgbmFtZSBdOwoJCX0KCgkJaWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkgewoJCQlpZiAoIGhvb2tzICYmICJzZXQiIGluIGhvb2tzICYmCgkJCQkoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7CgkJCQlyZXR1cm4gcmV0OwoJCQl9CgoJCQlyZXR1cm4gKCBlbGVtWyBuYW1lIF0gPSB2YWx1ZSApOwoJCX0KCgkJaWYgKCBob29rcyAmJiAiZ2V0IiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7CgkJCXJldHVybiByZXQ7CgkJfQoKCQlyZXR1cm4gZWxlbVsgbmFtZSBdOwoJfSwKCglwcm9wSG9va3M6IHsKCQl0YWJJbmRleDogewoJCQlnZXQ6IGZ1bmN0aW9uKCBlbGVtICkgewoKCQkJCS8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHkKCQkJCS8vIGVsZW0udGFiSW5kZXggZG9lc24ndCBhbHdheXMgcmV0dXJuIHRoZQoJCQkJLy8gY29ycmVjdCB2YWx1ZSB3aGVuIGl0IGhhc24ndCBiZWVuIGV4cGxpY2l0bHkgc2V0CgkJCQkvLyBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxNDExMTYyMzMzNDcvaHR0cDovL2ZsdWlkcHJvamVjdC5vcmcvYmxvZy8yMDA4LzAxLzA5L2dldHRpbmctc2V0dGluZy1hbmQtcmVtb3ZpbmctdGFiaW5kZXgtdmFsdWVzLXdpdGgtamF2YXNjcmlwdC8KCQkJCS8vIFVzZSBwcm9wZXIgYXR0cmlidXRlIHJldHJpZXZhbCgjMTIwNzIpCgkJCQl2YXIgdGFiaW5kZXggPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCAidGFiaW5kZXgiICk7CgoJCQkJaWYgKCB0YWJpbmRleCApIHsKCQkJCQlyZXR1cm4gcGFyc2VJbnQoIHRhYmluZGV4LCAxMCApOwoJCQkJfQoKCQkJCWlmICgKCQkJCQlyZm9jdXNhYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSB8fAoJCQkJCXJjbGlja2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApICYmCgkJCQkJZWxlbS5ocmVmCgkJCQkpIHsKCQkJCQlyZXR1cm4gMDsKCQkJCX0KCgkJCQlyZXR1cm4gLTE7CgkJCX0KCQl9Cgl9LAoKCXByb3BGaXg6IHsKCQkiZm9yIjogImh0bWxGb3IiLAoJCSJjbGFzcyI6ICJjbGFzc05hbWUiCgl9Cn0gKTsKCi8vIFN1cHBvcnQ6IElFIDw9MTEgb25seQovLyBBY2Nlc3NpbmcgdGhlIHNlbGVjdGVkSW5kZXggcHJvcGVydHkKLy8gZm9yY2VzIHRoZSBicm93c2VyIHRvIHJlc3BlY3Qgc2V0dGluZyBzZWxlY3RlZAovLyBvbiB0aGUgb3B0aW9uCi8vIFRoZSBnZXR0ZXIgZW5zdXJlcyBhIGRlZmF1bHQgb3B0aW9uIGlzIHNlbGVjdGVkCi8vIHdoZW4gaW4gYW4gb3B0Z3JvdXAKLy8gZXNsaW50IHJ1bGUgIm5vLXVudXNlZC1leHByZXNzaW9ucyIgaXMgZGlzYWJsZWQgZm9yIHRoaXMgY29kZQovLyBzaW5jZSBpdCBjb25zaWRlcnMgc3VjaCBhY2Nlc3Npb25zIG5vb3AKaWYgKCAhc3VwcG9ydC5vcHRTZWxlY3RlZCApIHsKCWpRdWVyeS5wcm9wSG9va3Muc2VsZWN0ZWQgPSB7CgkJZ2V0OiBmdW5jdGlvbiggZWxlbSApIHsKCgkJCS8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6ICJvZmYiICovCgoJCQl2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlOwoJCQlpZiAoIHBhcmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZSApIHsKCQkJCXBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7CgkJCX0KCQkJcmV0dXJuIG51bGw7CgkJfSwKCQlzZXQ6IGZ1bmN0aW9uKCBlbGVtICkgewoKCQkJLyogZXNsaW50IG5vLXVudXNlZC1leHByZXNzaW9uczogIm9mZiIgKi8KCgkJCXZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7CgkJCWlmICggcGFyZW50ICkgewoJCQkJcGFyZW50LnNlbGVjdGVkSW5kZXg7CgoJCQkJaWYgKCBwYXJlbnQucGFyZW50Tm9kZSApIHsKCQkJCQlwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4OwoJCQkJfQoJCQl9CgkJfQoJfTsKfQoKalF1ZXJ5LmVhY2goIFsKCSJ0YWJJbmRleCIsCgkicmVhZE9ubHkiLAoJIm1heExlbmd0aCIsCgkiY2VsbFNwYWNpbmciLAoJImNlbGxQYWRkaW5nIiwKCSJyb3dTcGFuIiwKCSJjb2xTcGFuIiwKCSJ1c2VNYXAiLAoJImZyYW1lQm9yZGVyIiwKCSJjb250ZW50RWRpdGFibGUiCl0sIGZ1bmN0aW9uKCkgewoJalF1ZXJ5LnByb3BGaXhbIHRoaXMudG9Mb3dlckNhc2UoKSBdID0gdGhpczsKfSApOwoKCgoKCS8vIFN0cmlwIGFuZCBjb2xsYXBzZSB3aGl0ZXNwYWNlIGFjY29yZGluZyB0byBIVE1MIHNwZWMKCS8vIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNzdHJpcC1hbmQtY29sbGFwc2UtYXNjaWktd2hpdGVzcGFjZQoJZnVuY3Rpb24gc3RyaXBBbmRDb2xsYXBzZSggdmFsdWUgKSB7CgkJdmFyIHRva2VucyA9IHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107CgkJcmV0dXJuIHRva2Vucy5qb2luKCAiICIgKTsKCX0KCgpmdW5jdGlvbiBnZXRDbGFzcyggZWxlbSApIHsKCXJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSAmJiBlbGVtLmdldEF0dHJpYnV0ZSggImNsYXNzIiApIHx8ICIiOwp9CgpmdW5jdGlvbiBjbGFzc2VzVG9BcnJheSggdmFsdWUgKSB7CglpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7CgkJcmV0dXJuIHZhbHVlOwoJfQoJaWYgKCB0eXBlb2YgdmFsdWUgPT09ICJzdHJpbmciICkgewoJCXJldHVybiB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdOwoJfQoJcmV0dXJuIFtdOwp9CgpqUXVlcnkuZm4uZXh0ZW5kKCB7CglhZGRDbGFzczogZnVuY3Rpb24oIHZhbHVlICkgewoJCXZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSwKCQkJaSA9IDA7CgoJCWlmICggaXNGdW5jdGlvbiggdmFsdWUgKSApIHsKCQkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7CgkJCQlqUXVlcnkoIHRoaXMgKS5hZGRDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7CgkJCX0gKTsKCQl9CgoJCWNsYXNzZXMgPSBjbGFzc2VzVG9BcnJheSggdmFsdWUgKTsKCgkJaWYgKCBjbGFzc2VzLmxlbmd0aCApIHsKCQkJd2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkgewoJCQkJY3VyVmFsdWUgPSBnZXRDbGFzcyggZWxlbSApOwoJCQkJY3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoICIgIiArIHN0cmlwQW5kQ29sbGFwc2UoIGN1clZhbHVlICkgKyAiICIgKTsKCgkJCQlpZiAoIGN1ciApIHsKCQkJCQlqID0gMDsKCQkJCQl3aGlsZSAoICggY2xhenogPSBjbGFzc2VzWyBqKysgXSApICkgewoJCQkJCQlpZiAoIGN1ci5pbmRleE9mKCAiICIgKyBjbGF6eiArICIgIiApIDwgMCApIHsKCQkJCQkJCWN1ciArPSBjbGF6eiArICIgIjsKCQkJCQkJfQoJCQkJCX0KCgkJCQkJLy8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy4KCQkJCQlmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZSggY3VyICk7CgkJCQkJaWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHsKCQkJCQkJZWxlbS5zZXRBdHRyaWJ1dGUoICJjbGFzcyIsIGZpbmFsVmFsdWUgKTsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9CgoJCXJldHVybiB0aGlzOwoJfSwKCglyZW1vdmVDbGFzczogZnVuY3Rpb24oIHZhbHVlICkgewoJCXZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSwKCQkJaSA9IDA7CgoJCWlmICggaXNGdW5jdGlvbiggdmFsdWUgKSApIHsKCQkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7CgkJCQlqUXVlcnkoIHRoaXMgKS5yZW1vdmVDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7CgkJCX0gKTsKCQl9CgoJCWlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7CgkJCXJldHVybiB0aGlzLmF0dHIoICJjbGFzcyIsICIiICk7CgkJfQoKCQljbGFzc2VzID0gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICk7CgoJCWlmICggY2xhc3Nlcy5sZW5ndGggKSB7CgkJCXdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHsKCQkJCWN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTsKCgkJCQkvLyBUaGlzIGV4cHJlc3Npb24gaXMgaGVyZSBmb3IgYmV0dGVyIGNvbXByZXNzaWJpbGl0eSAoc2VlIGFkZENsYXNzKQoJCQkJY3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoICIgIiArIHN0cmlwQW5kQ29sbGFwc2UoIGN1clZhbHVlICkgKyAiICIgKTsKCgkJCQlpZiAoIGN1ciApIHsKCQkJCQlqID0gMDsKCQkJCQl3aGlsZSAoICggY2xhenogPSBjbGFzc2VzWyBqKysgXSApICkgewoKCQkJCQkJLy8gUmVtb3ZlICphbGwqIGluc3RhbmNlcwoJCQkJCQl3aGlsZSAoIGN1ci5pbmRleE9mKCAiICIgKyBjbGF6eiArICIgIiApID4gLTEgKSB7CgkJCQkJCQljdXIgPSBjdXIucmVwbGFjZSggIiAiICsgY2xhenogKyAiICIsICIgIiApOwoJCQkJCQl9CgkJCQkJfQoKCQkJCQkvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLgoJCQkJCWZpbmFsVmFsdWUgPSBzdHJpcEFuZENvbGxhcHNlKCBjdXIgKTsKCQkJCQlpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkgewoJCQkJCQllbGVtLnNldEF0dHJpYnV0ZSggImNsYXNzIiwgZmluYWxWYWx1ZSApOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCgkJcmV0dXJuIHRoaXM7Cgl9LAoKCXRvZ2dsZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUsIHN0YXRlVmFsICkgewoJCXZhciB0eXBlID0gdHlwZW9mIHZhbHVlLAoJCQlpc1ZhbGlkVmFsdWUgPSB0eXBlID09PSAic3RyaW5nIiB8fCBBcnJheS5pc0FycmF5KCB2YWx1ZSApOwoKCQlpZiAoIHR5cGVvZiBzdGF0ZVZhbCA9PT0gImJvb2xlYW4iICYmIGlzVmFsaWRWYWx1ZSApIHsKCQkJcmV0dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyggdmFsdWUgKSA6IHRoaXMucmVtb3ZlQ2xhc3MoIHZhbHVlICk7CgkJfQoKCQlpZiAoIGlzRnVuY3Rpb24oIHZhbHVlICkgKSB7CgkJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkgewoJCQkJalF1ZXJ5KCB0aGlzICkudG9nZ2xlQ2xhc3MoCgkJCQkJdmFsdWUuY2FsbCggdGhpcywgaSwgZ2V0Q2xhc3MoIHRoaXMgKSwgc3RhdGVWYWwgKSwKCQkJCQlzdGF0ZVZhbAoJCQkJKTsKCQkJfSApOwoJCX0KCgkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7CgkJCXZhciBjbGFzc05hbWUsIGksIHNlbGYsIGNsYXNzTmFtZXM7CgoJCQlpZiAoIGlzVmFsaWRWYWx1ZSApIHsKCgkJCQkvLyBUb2dnbGUgaW5kaXZpZHVhbCBjbGFzcyBuYW1lcwoJCQkJaSA9IDA7CgkJCQlzZWxmID0galF1ZXJ5KCB0aGlzICk7CgkJCQljbGFzc05hbWVzID0gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICk7CgoJCQkJd2hpbGUgKCAoIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbIGkrKyBdICkgKSB7CgoJCQkJCS8vIENoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdAoJCQkJCWlmICggc2VsZi5oYXNDbGFzcyggY2xhc3NOYW1lICkgKSB7CgkJCQkJCXNlbGYucmVtb3ZlQ2xhc3MoIGNsYXNzTmFtZSApOwoJCQkJCX0gZWxzZSB7CgkJCQkJCXNlbGYuYWRkQ2xhc3MoIGNsYXNzTmFtZSApOwoJCQkJCX0KCQkJCX0KCgkJCS8vIFRvZ2dsZSB3aG9sZSBjbGFzcyBuYW1lCgkJCX0gZWxzZSBpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgfHwgdHlwZSA9PT0gImJvb2xlYW4iICkgewoJCQkJY2xhc3NOYW1lID0gZ2V0Q2xhc3MoIHRoaXMgKTsKCQkJCWlmICggY2xhc3NOYW1lICkgewoKCQkJCQkvLyBTdG9yZSBjbGFzc05hbWUgaWYgc2V0CgkJCQkJZGF0YVByaXYuc2V0KCB0aGlzLCAiX19jbGFzc05hbWVfXyIsIGNsYXNzTmFtZSApOwoJCQkJfQoKCQkJCS8vIElmIHRoZSBlbGVtZW50IGhhcyBhIGNsYXNzIG5hbWUgb3IgaWYgd2UncmUgcGFzc2VkIGBmYWxzZWAsCgkJCQkvLyB0aGVuIHJlbW92ZSB0aGUgd2hvbGUgY2xhc3NuYW1lIChpZiB0aGVyZSB3YXMgb25lLCB0aGUgYWJvdmUgc2F2ZWQgaXQpLgoJCQkJLy8gT3RoZXJ3aXNlIGJyaW5nIGJhY2sgd2hhdGV2ZXIgd2FzIHByZXZpb3VzbHkgc2F2ZWQgKGlmIGFueXRoaW5nKSwKCQkJCS8vIGZhbGxpbmcgYmFjayB0byB0aGUgZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIHN0b3JlZC4KCQkJCWlmICggdGhpcy5zZXRBdHRyaWJ1dGUgKSB7CgkJCQkJdGhpcy5zZXRBdHRyaWJ1dGUoICJjbGFzcyIsCgkJCQkJCWNsYXNzTmFtZSB8fCB2YWx1ZSA9PT0gZmFsc2UgPwoJCQkJCQkJIiIgOgoJCQkJCQkJZGF0YVByaXYuZ2V0KCB0aGlzLCAiX19jbGFzc05hbWVfXyIgKSB8fCAiIgoJCQkJCSk7CgkJCQl9CgkJCX0KCQl9ICk7Cgl9LAoKCWhhc0NsYXNzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7CgkJdmFyIGNsYXNzTmFtZSwgZWxlbSwKCQkJaSA9IDA7CgoJCWNsYXNzTmFtZSA9ICIgIiArIHNlbGVjdG9yICsgIiAiOwoJCXdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHsKCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmCgkJCQkoICIgIiArIHN0cmlwQW5kQ29sbGFwc2UoIGdldENsYXNzKCBlbGVtICkgKSArICIgIiApLmluZGV4T2YoIGNsYXNzTmFtZSApID4gLTEgKSB7CgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfQoJCX0KCgkJcmV0dXJuIGZhbHNlOwoJfQp9ICk7CgoKCgp2YXIgcnJldHVybiA9IC9cci9nOwoKalF1ZXJ5LmZuLmV4dGVuZCggewoJdmFsOiBmdW5jdGlvbiggdmFsdWUgKSB7CgkJdmFyIGhvb2tzLCByZXQsIHZhbHVlSXNGdW5jdGlvbiwKCQkJZWxlbSA9IHRoaXNbIDAgXTsKCgkJaWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHsKCQkJaWYgKCBlbGVtICkgewoJCQkJaG9va3MgPSBqUXVlcnkudmFsSG9va3NbIGVsZW0udHlwZSBdIHx8CgkJCQkJalF1ZXJ5LnZhbEhvb2tzWyBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTsKCgkJCQlpZiAoIGhvb2tzICYmCgkJCQkJImdldCIgaW4gaG9va3MgJiYKCQkJCQkoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgInZhbHVlIiApICkgIT09IHVuZGVmaW5lZAoJCQkJKSB7CgkJCQkJcmV0dXJuIHJldDsKCQkJCX0KCgkJCQlyZXQgPSBlbGVtLnZhbHVlOwoKCQkJCS8vIEhhbmRsZSBtb3N0IGNvbW1vbiBzdHJpbmcgY2FzZXMKCQkJCWlmICggdHlwZW9mIHJldCA9PT0gInN0cmluZyIgKSB7CgkJCQkJcmV0dXJuIHJldC5yZXBsYWNlKCBycmV0dXJuLCAiIiApOwoJCQkJfQoKCQkJCS8vIEhhbmRsZSBjYXNlcyB3aGVyZSB2YWx1ZSBpcyBudWxsL3VuZGVmIG9yIG51bWJlcgoJCQkJcmV0dXJuIHJldCA9PSBudWxsID8gIiIgOiByZXQ7CgkJCX0KCgkJCXJldHVybjsKCQl9CgoJCXZhbHVlSXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24oIHZhbHVlICk7CgoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkgewoJCQl2YXIgdmFsOwoKCQkJaWYgKCB0aGlzLm5vZGVUeXBlICE9PSAxICkgewoJCQkJcmV0dXJuOwoJCQl9CgoJCQlpZiAoIHZhbHVlSXNGdW5jdGlvbiApIHsKCQkJCXZhbCA9IHZhbHVlLmNhbGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7CgkJCX0gZWxzZSB7CgkJCQl2YWwgPSB2YWx1ZTsKCQkJfQoKCQkJLy8gVHJlYXQgbnVsbC91bmRlZmluZWQgYXMgIiI7IGNvbnZlcnQgbnVtYmVycyB0byBzdHJpbmcKCQkJaWYgKCB2YWwgPT0gbnVsbCApIHsKCQkJCXZhbCA9ICIiOwoKCQkJfSBlbHNlIGlmICggdHlwZW9mIHZhbCA9PT0gIm51bWJlciIgKSB7CgkJCQl2YWwgKz0gIiI7CgoJCQl9IGVsc2UgaWYgKCBBcnJheS5pc0FycmF5KCB2YWwgKSApIHsKCQkJCXZhbCA9IGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbHVlICkgewoJCQkJCXJldHVybiB2YWx1ZSA9PSBudWxsID8gIiIgOiB2YWx1ZSArICIiOwoJCQkJfSApOwoJCQl9CgoJCQlob29rcyA9IGpRdWVyeS52YWxIb29rc1sgdGhpcy50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyB0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTsKCgkJCS8vIElmIHNldCByZXR1cm5zIHVuZGVmaW5lZCwgZmFsbCBiYWNrIHRvIG5vcm1hbCBzZXR0aW5nCgkJCWlmICggIWhvb2tzIHx8ICEoICJzZXQiIGluIGhvb2tzICkgfHwgaG9va3Muc2V0KCB0aGlzLCB2YWwsICJ2YWx1ZSIgKSA9PT0gdW5kZWZpbmVkICkgewoJCQkJdGhpcy52YWx1ZSA9IHZhbDsKCQkJfQoJCX0gKTsKCX0KfSApOwoKalF1ZXJ5LmV4dGVuZCggewoJdmFsSG9va3M6IHsKCQlvcHRpb246IHsKCQkJZ2V0OiBmdW5jdGlvbiggZWxlbSApIHsKCgkJCQl2YXIgdmFsID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgInZhbHVlIiApOwoJCQkJcmV0dXJuIHZhbCAhPSBudWxsID8KCQkJCQl2YWwgOgoKCQkJCQkvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEgb25seQoJCQkJCS8vIG9wdGlvbi50ZXh0IHRocm93cyBleGNlcHRpb25zICgjMTQ2ODYsICMxNDg1OCkKCQkJCQkvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZQoJCQkJCS8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS13aGl0ZXNwYWNlCgkJCQkJc3RyaXBBbmRDb2xsYXBzZSggalF1ZXJ5LnRleHQoIGVsZW0gKSApOwoJCQl9CgkJfSwKCQlzZWxlY3Q6IHsKCQkJZ2V0OiBmdW5jdGlvbiggZWxlbSApIHsKCQkJCXZhciB2YWx1ZSwgb3B0aW9uLCBpLAoJCQkJCW9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsCgkJCQkJaW5kZXggPSBlbGVtLnNlbGVjdGVkSW5kZXgsCgkJCQkJb25lID0gZWxlbS50eXBlID09PSAic2VsZWN0LW9uZSIsCgkJCQkJdmFsdWVzID0gb25lID8gbnVsbCA6IFtdLAoJCQkJCW1heCA9IG9uZSA/IGluZGV4ICsgMSA6IG9wdGlvbnMubGVuZ3RoOwoKCQkJCWlmICggaW5kZXggPCAwICkgewoJCQkJCWkgPSBtYXg7CgoJCQkJfSBlbHNlIHsKCQkJCQlpID0gb25lID8gaW5kZXggOiAwOwoJCQkJfQoKCQkJCS8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHNlbGVjdGVkIG9wdGlvbnMKCQkJCWZvciAoIDsgaSA8IG1heDsgaSsrICkgewoJCQkJCW9wdGlvbiA9IG9wdGlvbnNbIGkgXTsKCgkJCQkJLy8gU3VwcG9ydDogSUUgPD05IG9ubHkKCQkJCQkvLyBJRTgtOSBkb2Vzbid0IHVwZGF0ZSBzZWxlY3RlZCBhZnRlciBmb3JtIHJlc2V0ICgjMjU1MSkKCQkJCQlpZiAoICggb3B0aW9uLnNlbGVjdGVkIHx8IGkgPT09IGluZGV4ICkgJiYKCgkJCQkJCQkvLyBEb24ndCByZXR1cm4gb3B0aW9ucyB0aGF0IGFyZSBkaXNhYmxlZCBvciBpbiBhIGRpc2FibGVkIG9wdGdyb3VwCgkJCQkJCQkhb3B0aW9uLmRpc2FibGVkICYmCgkJCQkJCQkoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fAoJCQkJCQkJCSFub2RlTmFtZSggb3B0aW9uLnBhcmVudE5vZGUsICJvcHRncm91cCIgKSApICkgewoKCQkJCQkJLy8gR2V0IHRoZSBzcGVjaWZpYyB2YWx1ZSBmb3IgdGhlIG9wdGlvbgoJCQkJCQl2YWx1ZSA9IGpRdWVyeSggb3B0aW9uICkudmFsKCk7CgoJCQkJCQkvLyBXZSBkb24ndCBuZWVkIGFuIGFycmF5IGZvciBvbmUgc2VsZWN0cwoJCQkJCQlpZiAoIG9uZSApIHsKCQkJCQkJCXJldHVybiB2YWx1ZTsKCQkJCQkJfQoKCQkJCQkJLy8gTXVsdGktU2VsZWN0cyByZXR1cm4gYW4gYXJyYXkKCQkJCQkJdmFsdWVzLnB1c2goIHZhbHVlICk7CgkJCQkJfQoJCQkJfQoKCQkJCXJldHVybiB2YWx1ZXM7CgkJCX0sCgoJCQlzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHsKCQkJCXZhciBvcHRpb25TZXQsIG9wdGlvbiwKCQkJCQlvcHRpb25zID0gZWxlbS5vcHRpb25zLAoJCQkJCXZhbHVlcyA9IGpRdWVyeS5tYWtlQXJyYXkoIHZhbHVlICksCgkJCQkJaSA9IG9wdGlvbnMubGVuZ3RoOwoKCQkJCXdoaWxlICggaS0tICkgewoJCQkJCW9wdGlvbiA9IG9wdGlvbnNbIGkgXTsKCgkJCQkJLyogZXNsaW50LWRpc2FibGUgbm8tY29uZC1hc3NpZ24gKi8KCgkJCQkJaWYgKCBvcHRpb24uc2VsZWN0ZWQgPQoJCQkJCQlqUXVlcnkuaW5BcnJheSggalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQoIG9wdGlvbiApLCB2YWx1ZXMgKSA+IC0xCgkJCQkJKSB7CgkJCQkJCW9wdGlvblNldCA9IHRydWU7CgkJCQkJfQoKCQkJCQkvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbmQtYXNzaWduICovCgkJCQl9CgoJCQkJLy8gRm9yY2UgYnJvd3NlcnMgdG8gYmVoYXZlIGNvbnNpc3RlbnRseSB3aGVuIG5vbi1tYXRjaGluZyB2YWx1ZSBpcyBzZXQKCQkJCWlmICggIW9wdGlvblNldCApIHsKCQkJCQllbGVtLnNlbGVjdGVkSW5kZXggPSAtMTsKCQkJCX0KCQkJCXJldHVybiB2YWx1ZXM7CgkJCX0KCQl9Cgl9Cn0gKTsKCi8vIFJhZGlvcyBhbmQgY2hlY2tib3hlcyBnZXR0ZXIvc2V0dGVyCmpRdWVyeS5lYWNoKCBbICJyYWRpbyIsICJjaGVja2JveCIgXSwgZnVuY3Rpb24oKSB7CglqUXVlcnkudmFsSG9va3NbIHRoaXMgXSA9IHsKCQlzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHsKCQkJaWYgKCBBcnJheS5pc0FycmF5KCB2YWx1ZSApICkgewoJCQkJcmV0dXJuICggZWxlbS5jaGVja2VkID0galF1ZXJ5LmluQXJyYXkoIGpRdWVyeSggZWxlbSApLnZhbCgpLCB2YWx1ZSApID4gLTEgKTsKCQkJfQoJCX0KCX07CglpZiAoICFzdXBwb3J0LmNoZWNrT24gKSB7CgkJalF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0uZ2V0ID0gZnVuY3Rpb24oIGVsZW0gKSB7CgkJCXJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggInZhbHVlIiApID09PSBudWxsID8gIm9uIiA6IGVsZW0udmFsdWU7CgkJfTsKCX0KfSApOwoKCgoKLy8gUmV0dXJuIGpRdWVyeSBmb3IgYXR0cmlidXRlcy1vbmx5IGluY2x1c2lvbgoKCnN1cHBvcnQuZm9jdXNpbiA9ICJvbmZvY3VzaW4iIGluIHdpbmRvdzsKCgp2YXIgcmZvY3VzTW9ycGggPSAvXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sCglzdG9wUHJvcGFnYXRpb25DYWxsYmFjayA9IGZ1bmN0aW9uKCBlICkgewoJCWUuc3RvcFByb3BhZ2F0aW9uKCk7Cgl9OwoKalF1ZXJ5LmV4dGVuZCggalF1ZXJ5LmV2ZW50LCB7CgoJdHJpZ2dlcjogZnVuY3Rpb24oIGV2ZW50LCBkYXRhLCBlbGVtLCBvbmx5SGFuZGxlcnMgKSB7CgoJCXZhciBpLCBjdXIsIHRtcCwgYnViYmxlVHlwZSwgb250eXBlLCBoYW5kbGUsIHNwZWNpYWwsIGxhc3RFbGVtZW50LAoJCQlldmVudFBhdGggPSBbIGVsZW0gfHwgZG9jdW1lbnQgXSwKCQkJdHlwZSA9IGhhc093bi5jYWxsKCBldmVudCwgInR5cGUiICkgPyBldmVudC50eXBlIDogZXZlbnQsCgkJCW5hbWVzcGFjZXMgPSBoYXNPd24uY2FsbCggZXZlbnQsICJuYW1lc3BhY2UiICkgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoICIuIiApIDogW107CgoJCWN1ciA9IGxhc3RFbGVtZW50ID0gdG1wID0gZWxlbSA9IGVsZW0gfHwgZG9jdW1lbnQ7CgoJCS8vIERvbid0IGRvIGV2ZW50cyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzCgkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggKSB7CgkJCXJldHVybjsKCQl9CgoJCS8vIGZvY3VzL2JsdXIgbW9ycGhzIHRvIGZvY3VzaW4vb3V0OyBlbnN1cmUgd2UncmUgbm90IGZpcmluZyB0aGVtIHJpZ2h0IG5vdwoJCWlmICggcmZvY3VzTW9ycGgudGVzdCggdHlwZSArIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgKSApIHsKCQkJcmV0dXJuOwoJCX0KCgkJaWYgKCB0eXBlLmluZGV4T2YoICIuIiApID4gLTEgKSB7CgoJCQkvLyBOYW1lc3BhY2VkIHRyaWdnZXI7IGNyZWF0ZSBhIHJlZ2V4cCB0byBtYXRjaCBldmVudCB0eXBlIGluIGhhbmRsZSgpCgkJCW5hbWVzcGFjZXMgPSB0eXBlLnNwbGl0KCAiLiIgKTsKCQkJdHlwZSA9IG5hbWVzcGFjZXMuc2hpZnQoKTsKCQkJbmFtZXNwYWNlcy5zb3J0KCk7CgkJfQoJCW9udHlwZSA9IHR5cGUuaW5kZXhPZiggIjoiICkgPCAwICYmICJvbiIgKyB0eXBlOwoKCQkvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYSBqUXVlcnkuRXZlbnQgb2JqZWN0LCBPYmplY3QsIG9yIGp1c3QgYW4gZXZlbnQgdHlwZSBzdHJpbmcKCQlldmVudCA9IGV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID8KCQkJZXZlbnQgOgoJCQluZXcgalF1ZXJ5LkV2ZW50KCB0eXBlLCB0eXBlb2YgZXZlbnQgPT09ICJvYmplY3QiICYmIGV2ZW50ICk7CgoJCS8vIFRyaWdnZXIgYml0bWFzazogJiAxIGZvciBuYXRpdmUgaGFuZGxlcnM7ICYgMiBmb3IgalF1ZXJ5IChhbHdheXMgdHJ1ZSkKCQlldmVudC5pc1RyaWdnZXIgPSBvbmx5SGFuZGxlcnMgPyAyIDogMzsKCQlldmVudC5uYW1lc3BhY2UgPSBuYW1lc3BhY2VzLmpvaW4oICIuIiApOwoJCWV2ZW50LnJuYW1lc3BhY2UgPSBldmVudC5uYW1lc3BhY2UgPwoJCQluZXcgUmVnRXhwKCAiKF58XFwuKSIgKyBuYW1lc3BhY2VzLmpvaW4oICJcXC4oPzouKlxcLnwpIiApICsgIihcXC58JCkiICkgOgoJCQludWxsOwoKCQkvLyBDbGVhbiB1cCB0aGUgZXZlbnQgaW4gY2FzZSBpdCBpcyBiZWluZyByZXVzZWQKCQlldmVudC5yZXN1bHQgPSB1bmRlZmluZWQ7CgkJaWYgKCAhZXZlbnQudGFyZ2V0ICkgewoJCQlldmVudC50YXJnZXQgPSBlbGVtOwoJCX0KCgkJLy8gQ2xvbmUgYW55IGluY29taW5nIGRhdGEgYW5kIHByZXBlbmQgdGhlIGV2ZW50LCBjcmVhdGluZyB0aGUgaGFuZGxlciBhcmcgbGlzdAoJCWRhdGEgPSBkYXRhID09IG51bGwgPwoJCQlbIGV2ZW50IF0gOgoJCQlqUXVlcnkubWFrZUFycmF5KCBkYXRhLCBbIGV2ZW50IF0gKTsKCgkJLy8gQWxsb3cgc3BlY2lhbCBldmVudHMgdG8gZHJhdyBvdXRzaWRlIHRoZSBsaW5lcwoJCXNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9OwoJCWlmICggIW9ubHlIYW5kbGVycyAmJiBzcGVjaWFsLnRyaWdnZXIgJiYgc3BlY2lhbC50cmlnZ2VyLmFwcGx5KCBlbGVtLCBkYXRhICkgPT09IGZhbHNlICkgewoJCQlyZXR1cm47CgkJfQoKCQkvLyBEZXRlcm1pbmUgZXZlbnQgcHJvcGFnYXRpb24gcGF0aCBpbiBhZHZhbmNlLCBwZXIgVzNDIGV2ZW50cyBzcGVjICgjOTk1MSkKCQkvLyBCdWJibGUgdXAgdG8gZG9jdW1lbnQsIHRoZW4gdG8gd2luZG93OyB3YXRjaCBmb3IgYSBnbG9iYWwgb3duZXJEb2N1bWVudCB2YXIgKCM5NzI0KQoJCWlmICggIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhaXNXaW5kb3coIGVsZW0gKSApIHsKCgkJCWJ1YmJsZVR5cGUgPSBzcGVjaWFsLmRlbGVnYXRlVHlwZSB8fCB0eXBlOwoJCQlpZiAoICFyZm9jdXNNb3JwaC50ZXN0KCBidWJibGVUeXBlICsgdHlwZSApICkgewoJCQkJY3VyID0gY3VyLnBhcmVudE5vZGU7CgkJCX0KCQkJZm9yICggOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkgewoJCQkJZXZlbnRQYXRoLnB1c2goIGN1ciApOwoJCQkJdG1wID0gY3VyOwoJCQl9CgoJCQkvLyBPbmx5IGFkZCB3aW5kb3cgaWYgd2UgZ290IHRvIGRvY3VtZW50IChlLmcuLCBub3QgcGxhaW4gb2JqIG9yIGRldGFjaGVkIERPTSkKCQkJaWYgKCB0bXAgPT09ICggZWxlbS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50ICkgKSB7CgkJCQlldmVudFBhdGgucHVzaCggdG1wLmRlZmF1bHRWaWV3IHx8IHRtcC5wYXJlbnRXaW5kb3cgfHwgd2luZG93ICk7CgkJCX0KCQl9CgoJCS8vIEZpcmUgaGFuZGxlcnMgb24gdGhlIGV2ZW50IHBhdGgKCQlpID0gMDsKCQl3aGlsZSAoICggY3VyID0gZXZlbnRQYXRoWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkgewoJCQlsYXN0RWxlbWVudCA9IGN1cjsKCQkJZXZlbnQudHlwZSA9IGkgPiAxID8KCQkJCWJ1YmJsZVR5cGUgOgoJCQkJc3BlY2lhbC5iaW5kVHlwZSB8fCB0eXBlOwoKCQkJLy8galF1ZXJ5IGhhbmRsZXIKCQkJaGFuZGxlID0gKCBkYXRhUHJpdi5nZXQoIGN1ciwgImV2ZW50cyIgKSB8fCBPYmplY3QuY3JlYXRlKCBudWxsICkgKVsgZXZlbnQudHlwZSBdICYmCgkJCQlkYXRhUHJpdi5nZXQoIGN1ciwgImhhbmRsZSIgKTsKCQkJaWYgKCBoYW5kbGUgKSB7CgkJCQloYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApOwoJCQl9CgoJCQkvLyBOYXRpdmUgaGFuZGxlcgoJCQloYW5kbGUgPSBvbnR5cGUgJiYgY3VyWyBvbnR5cGUgXTsKCQkJaWYgKCBoYW5kbGUgJiYgaGFuZGxlLmFwcGx5ICYmIGFjY2VwdERhdGEoIGN1ciApICkgewoJCQkJZXZlbnQucmVzdWx0ID0gaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTsKCQkJCWlmICggZXZlbnQucmVzdWx0ID09PSBmYWxzZSApIHsKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJfQoJCQl9CgkJfQoJCWV2ZW50LnR5cGUgPSB0eXBlOwoKCQkvLyBJZiBub2JvZHkgcHJldmVudGVkIHRoZSBkZWZhdWx0IGFjdGlvbiwgZG8gaXQgbm93CgkJaWYgKCAhb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHsKCgkJCWlmICggKCAhc3BlY2lhbC5fZGVmYXVsdCB8fAoJCQkJc3BlY2lhbC5fZGVmYXVsdC5hcHBseSggZXZlbnRQYXRoLnBvcCgpLCBkYXRhICkgPT09IGZhbHNlICkgJiYKCQkJCWFjY2VwdERhdGEoIGVsZW0gKSApIHsKCgkJCQkvLyBDYWxsIGEgbmF0aXZlIERPTSBtZXRob2Qgb24gdGhlIHRhcmdldCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV2ZW50LgoJCQkJLy8gRG9uJ3QgZG8gZGVmYXVsdCBhY3Rpb25zIG9uIHdpbmRvdywgdGhhdCdzIHdoZXJlIGdsb2JhbCB2YXJpYWJsZXMgYmUgKCM2MTcwKQoJCQkJaWYgKCBvbnR5cGUgJiYgaXNGdW5jdGlvbiggZWxlbVsgdHlwZSBdICkgJiYgIWlzV2luZG93KCBlbGVtICkgKSB7CgoJCQkJCS8vIERvbid0IHJlLXRyaWdnZXIgYW4gb25GT08gZXZlbnQgd2hlbiB3ZSBjYWxsIGl0cyBGT08oKSBtZXRob2QKCQkJCQl0bXAgPSBlbGVtWyBvbnR5cGUgXTsKCgkJCQkJaWYgKCB0bXAgKSB7CgkJCQkJCWVsZW1bIG9udHlwZSBdID0gbnVsbDsKCQkJCQl9CgoJCQkJCS8vIFByZXZlbnQgcmUtdHJpZ2dlcmluZyBvZiB0aGUgc2FtZSBldmVudCwgc2luY2Ugd2UgYWxyZWFkeSBidWJibGVkIGl0IGFib3ZlCgkJCQkJalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHR5cGU7CgoJCQkJCWlmICggZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHsKCQkJCQkJbGFzdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggdHlwZSwgc3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2sgKTsKCQkJCQl9CgoJCQkJCWVsZW1bIHR5cGUgXSgpOwoKCQkJCQlpZiAoIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7CgkJCQkJCWxhc3RFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIHN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrICk7CgkJCQkJfQoKCQkJCQlqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdW5kZWZpbmVkOwoKCQkJCQlpZiAoIHRtcCApIHsKCQkJCQkJZWxlbVsgb250eXBlIF0gPSB0bXA7CgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoKCQlyZXR1cm4gZXZlbnQucmVzdWx0OwoJfSwKCgkvLyBQaWdneWJhY2sgb24gYSBkb25vciBldmVudCB0byBzaW11bGF0ZSBhIGRpZmZlcmVudCBvbmUKCS8vIFVzZWQgb25seSBmb3IgYGZvY3VzKGluIHwgb3V0KWAgZXZlbnRzCglzaW11bGF0ZTogZnVuY3Rpb24oIHR5cGUsIGVsZW0sIGV2ZW50ICkgewoJCXZhciBlID0galF1ZXJ5LmV4dGVuZCgKCQkJbmV3IGpRdWVyeS5FdmVudCgpLAoJCQlldmVudCwKCQkJewoJCQkJdHlwZTogdHlwZSwKCQkJCWlzU2ltdWxhdGVkOiB0cnVlCgkJCX0KCQkpOwoKCQlqUXVlcnkuZXZlbnQudHJpZ2dlciggZSwgbnVsbCwgZWxlbSApOwoJfQoKfSApOwoKalF1ZXJ5LmZuLmV4dGVuZCggewoKCXRyaWdnZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkgewoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgewoJCQlqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgdGhpcyApOwoJCX0gKTsKCX0sCgl0cmlnZ2VySGFuZGxlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7CgkJdmFyIGVsZW0gPSB0aGlzWyAwIF07CgkJaWYgKCBlbGVtICkgewoJCQlyZXR1cm4galF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIGVsZW0sIHRydWUgKTsKCQl9Cgl9Cn0gKTsKCgovLyBTdXBwb3J0OiBGaXJlZm94IDw9NDQKLy8gRmlyZWZveCBkb2Vzbid0IGhhdmUgZm9jdXMoaW4gfCBvdXQpIGV2ZW50cwovLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY4Nzc4NwovLwovLyBTdXBwb3J0OiBDaHJvbWUgPD00OCAtIDQ5LCBTYWZhcmkgPD05LjAgLSA5LjEKLy8gZm9jdXMoaW4gfCBvdXQpIGV2ZW50cyBmaXJlIGFmdGVyIGZvY3VzICYgYmx1ciBldmVudHMsCi8vIHdoaWNoIGlzIHNwZWMgdmlvbGF0aW9uIC0gaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudHMtZm9jdXNldmVudC1ldmVudC1vcmRlcgovLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0OTg1NwppZiAoICFzdXBwb3J0LmZvY3VzaW4gKSB7CglqUXVlcnkuZWFjaCggeyBmb2N1czogImZvY3VzaW4iLCBibHVyOiAiZm9jdXNvdXQiIH0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7CgoJCS8vIEF0dGFjaCBhIHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQgd2hpbGUgc29tZW9uZSB3YW50cyBmb2N1c2luL2ZvY3Vzb3V0CgkJdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCWpRdWVyeS5ldmVudC5zaW11bGF0ZSggZml4LCBldmVudC50YXJnZXQsIGpRdWVyeS5ldmVudC5maXgoIGV2ZW50ICkgKTsKCQl9OwoKCQlqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZml4IF0gPSB7CgkJCXNldHVwOiBmdW5jdGlvbigpIHsKCgkJCQkvLyBIYW5kbGU6IHJlZ3VsYXIgbm9kZXMgKHZpYSBgdGhpcy5vd25lckRvY3VtZW50YCksIHdpbmRvdwoJCQkJLy8gKHZpYSBgdGhpcy5kb2N1bWVudGApICYgZG9jdW1lbnQgKHZpYSBgdGhpc2ApLgoJCQkJdmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLmRvY3VtZW50IHx8IHRoaXMsCgkJCQkJYXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4ICk7CgoJCQkJaWYgKCAhYXR0YWNoZXMgKSB7CgkJCQkJZG9jLmFkZEV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTsKCQkJCX0KCQkJCWRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXgsICggYXR0YWNoZXMgfHwgMCApICsgMSApOwoJCQl9LAoJCQl0ZWFyZG93bjogZnVuY3Rpb24oKSB7CgkJCQl2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMuZG9jdW1lbnQgfHwgdGhpcywKCQkJCQlhdHRhY2hlcyA9IGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXggKSAtIDE7CgoJCQkJaWYgKCAhYXR0YWNoZXMgKSB7CgkJCQkJZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTsKCQkJCQlkYXRhUHJpdi5yZW1vdmUoIGRvYywgZml4ICk7CgoJCQkJfSBlbHNlIHsKCQkJCQlkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCBhdHRhY2hlcyApOwoJCQkJfQoJCQl9CgkJfTsKCX0gKTsKfQp2YXIgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247Cgp2YXIgbm9uY2UgPSB7IGd1aWQ6IERhdGUubm93KCkgfTsKCnZhciBycXVlcnkgPSAoIC9cPy8gKTsKCgoKLy8gQ3Jvc3MtYnJvd3NlciB4bWwgcGFyc2luZwpqUXVlcnkucGFyc2VYTUwgPSBmdW5jdGlvbiggZGF0YSApIHsKCXZhciB4bWwsIHBhcnNlckVycm9yRWxlbTsKCWlmICggIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09ICJzdHJpbmciICkgewoJCXJldHVybiBudWxsOwoJfQoKCS8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5CgkvLyBJRSB0aHJvd3Mgb24gcGFyc2VGcm9tU3RyaW5nIHdpdGggaW52YWxpZCBpbnB1dC4KCXRyeSB7CgkJeG1sID0gKCBuZXcgd2luZG93LkRPTVBhcnNlcigpICkucGFyc2VGcm9tU3RyaW5nKCBkYXRhLCAidGV4dC94bWwiICk7Cgl9IGNhdGNoICggZSApIHt9CgoJcGFyc2VyRXJyb3JFbGVtID0geG1sICYmIHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggInBhcnNlcmVycm9yIiApWyAwIF07CglpZiAoICF4bWwgfHwgcGFyc2VyRXJyb3JFbGVtICkgewoJCWpRdWVyeS5lcnJvciggIkludmFsaWQgWE1MOiAiICsgKAoJCQlwYXJzZXJFcnJvckVsZW0gPwoJCQkJalF1ZXJ5Lm1hcCggcGFyc2VyRXJyb3JFbGVtLmNoaWxkTm9kZXMsIGZ1bmN0aW9uKCBlbCApIHsKCQkJCQlyZXR1cm4gZWwudGV4dENvbnRlbnQ7CgkJCQl9ICkuam9pbiggIlxuIiApIDoKCQkJCWRhdGEKCQkpICk7Cgl9CglyZXR1cm4geG1sOwp9OwoKCnZhcgoJcmJyYWNrZXQgPSAvXFtcXSQvLAoJckNSTEYgPSAvXHI/XG4vZywKCXJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSwKCXJzdWJtaXR0YWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTsKCmZ1bmN0aW9uIGJ1aWxkUGFyYW1zKCBwcmVmaXgsIG9iaiwgdHJhZGl0aW9uYWwsIGFkZCApIHsKCXZhciBuYW1lOwoKCWlmICggQXJyYXkuaXNBcnJheSggb2JqICkgKSB7CgoJCS8vIFNlcmlhbGl6ZSBhcnJheSBpdGVtLgoJCWpRdWVyeS5lYWNoKCBvYmosIGZ1bmN0aW9uKCBpLCB2ICkgewoJCQlpZiAoIHRyYWRpdGlvbmFsIHx8IHJicmFja2V0LnRlc3QoIHByZWZpeCApICkgewoKCQkJCS8vIFRyZWF0IGVhY2ggYXJyYXkgaXRlbSBhcyBhIHNjYWxhci4KCQkJCWFkZCggcHJlZml4LCB2ICk7CgoJCQl9IGVsc2UgewoKCQkJCS8vIEl0ZW0gaXMgbm9uLXNjYWxhciAoYXJyYXkgb3Igb2JqZWN0KSwgZW5jb2RlIGl0cyBudW1lcmljIGluZGV4LgoJCQkJYnVpbGRQYXJhbXMoCgkJCQkJcHJlZml4ICsgIlsiICsgKCB0eXBlb2YgdiA9PT0gIm9iamVjdCIgJiYgdiAhPSBudWxsID8gaSA6ICIiICkgKyAiXSIsCgkJCQkJdiwKCQkJCQl0cmFkaXRpb25hbCwKCQkJCQlhZGQKCQkJCSk7CgkJCX0KCQl9ICk7CgoJfSBlbHNlIGlmICggIXRyYWRpdGlvbmFsICYmIHRvVHlwZSggb2JqICkgPT09ICJvYmplY3QiICkgewoKCQkvLyBTZXJpYWxpemUgb2JqZWN0IGl0ZW0uCgkJZm9yICggbmFtZSBpbiBvYmogKSB7CgkJCWJ1aWxkUGFyYW1zKCBwcmVmaXggKyAiWyIgKyBuYW1lICsgIl0iLCBvYmpbIG5hbWUgXSwgdHJhZGl0aW9uYWwsIGFkZCApOwoJCX0KCgl9IGVsc2UgewoKCQkvLyBTZXJpYWxpemUgc2NhbGFyIGl0ZW0uCgkJYWRkKCBwcmVmaXgsIG9iaiApOwoJfQp9CgovLyBTZXJpYWxpemUgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cyBvciBhIHNldCBvZgovLyBrZXkvdmFsdWVzIGludG8gYSBxdWVyeSBzdHJpbmcKalF1ZXJ5LnBhcmFtID0gZnVuY3Rpb24oIGEsIHRyYWRpdGlvbmFsICkgewoJdmFyIHByZWZpeCwKCQlzID0gW10sCgkJYWRkID0gZnVuY3Rpb24oIGtleSwgdmFsdWVPckZ1bmN0aW9uICkgewoKCQkJLy8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaW52b2tlIGl0IGFuZCB1c2UgaXRzIHJldHVybiB2YWx1ZQoJCQl2YXIgdmFsdWUgPSBpc0Z1bmN0aW9uKCB2YWx1ZU9yRnVuY3Rpb24gKSA/CgkJCQl2YWx1ZU9yRnVuY3Rpb24oKSA6CgkJCQl2YWx1ZU9yRnVuY3Rpb247CgoJCQlzWyBzLmxlbmd0aCBdID0gZW5jb2RlVVJJQ29tcG9uZW50KCBrZXkgKSArICI9IiArCgkJCQllbmNvZGVVUklDb21wb25lbnQoIHZhbHVlID09IG51bGwgPyAiIiA6IHZhbHVlICk7CgkJfTsKCglpZiAoIGEgPT0gbnVsbCApIHsKCQlyZXR1cm4gIiI7Cgl9CgoJLy8gSWYgYW4gYXJyYXkgd2FzIHBhc3NlZCBpbiwgYXNzdW1lIHRoYXQgaXQgaXMgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cy4KCWlmICggQXJyYXkuaXNBcnJheSggYSApIHx8ICggYS5qcXVlcnkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KCBhICkgKSApIHsKCgkJLy8gU2VyaWFsaXplIHRoZSBmb3JtIGVsZW1lbnRzCgkJalF1ZXJ5LmVhY2goIGEsIGZ1bmN0aW9uKCkgewoJCQlhZGQoIHRoaXMubmFtZSwgdGhpcy52YWx1ZSApOwoJCX0gKTsKCgl9IGVsc2UgewoKCQkvLyBJZiB0cmFkaXRpb25hbCwgZW5jb2RlIHRoZSAib2xkIiB3YXkgKHRoZSB3YXkgMS4zLjIgb3Igb2xkZXIKCQkvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS4KCQlmb3IgKCBwcmVmaXggaW4gYSApIHsKCQkJYnVpbGRQYXJhbXMoIHByZWZpeCwgYVsgcHJlZml4IF0sIHRyYWRpdGlvbmFsLCBhZGQgKTsKCQl9Cgl9CgoJLy8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvbgoJcmV0dXJuIHMuam9pbiggIiYiICk7Cn07CgpqUXVlcnkuZm4uZXh0ZW5kKCB7CglzZXJpYWxpemU6IGZ1bmN0aW9uKCkgewoJCXJldHVybiBqUXVlcnkucGFyYW0oIHRoaXMuc2VyaWFsaXplQXJyYXkoKSApOwoJfSwKCXNlcmlhbGl6ZUFycmF5OiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkgewoKCQkJLy8gQ2FuIGFkZCBwcm9wSG9vayBmb3IgImVsZW1lbnRzIiB0byBmaWx0ZXIgb3IgYWRkIGZvcm0gZWxlbWVudHMKCQkJdmFyIGVsZW1lbnRzID0galF1ZXJ5LnByb3AoIHRoaXMsICJlbGVtZW50cyIgKTsKCQkJcmV0dXJuIGVsZW1lbnRzID8galF1ZXJ5Lm1ha2VBcnJheSggZWxlbWVudHMgKSA6IHRoaXM7CgkJfSApLmZpbHRlciggZnVuY3Rpb24oKSB7CgkJCXZhciB0eXBlID0gdGhpcy50eXBlOwoKCQkJLy8gVXNlIC5pcyggIjpkaXNhYmxlZCIgKSBzbyB0aGF0IGZpZWxkc2V0W2Rpc2FibGVkXSB3b3JrcwoJCQlyZXR1cm4gdGhpcy5uYW1lICYmICFqUXVlcnkoIHRoaXMgKS5pcyggIjpkaXNhYmxlZCIgKSAmJgoJCQkJcnN1Ym1pdHRhYmxlLnRlc3QoIHRoaXMubm9kZU5hbWUgKSAmJiAhcnN1Ym1pdHRlclR5cGVzLnRlc3QoIHR5cGUgKSAmJgoJCQkJKCB0aGlzLmNoZWNrZWQgfHwgIXJjaGVja2FibGVUeXBlLnRlc3QoIHR5cGUgKSApOwoJCX0gKS5tYXAoIGZ1bmN0aW9uKCBfaSwgZWxlbSApIHsKCQkJdmFyIHZhbCA9IGpRdWVyeSggdGhpcyApLnZhbCgpOwoKCQkJaWYgKCB2YWwgPT0gbnVsbCApIHsKCQkJCXJldHVybiBudWxsOwoJCQl9CgoJCQlpZiAoIEFycmF5LmlzQXJyYXkoIHZhbCApICkgewoJCQkJcmV0dXJuIGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbCApIHsKCQkJCQlyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsICJcclxuIiApIH07CgkJCQl9ICk7CgkJCX0KCgkJCXJldHVybiB7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKCByQ1JMRiwgIlxyXG4iICkgfTsKCQl9ICkuZ2V0KCk7Cgl9Cn0gKTsKCgp2YXIKCXIyMCA9IC8lMjAvZywKCXJoYXNoID0gLyMuKiQvLAoJcmFudGlDYWNoZSA9IC8oWz8mXSlfPVteJl0qLywKCXJoZWFkZXJzID0gL14oLio/KTpbIFx0XSooW15cclxuXSopJC9tZywKCgkvLyAjNzY1MywgIzgxMjUsICM4MTUyOiBsb2NhbCBwcm90b2NvbCBkZXRlY3Rpb24KCXJsb2NhbFByb3RvY29sID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sCglybm9Db250ZW50ID0gL14oPzpHRVR8SEVBRCkkLywKCXJwcm90b2NvbCA9IC9eXC9cLy8sCgoJLyogUHJlZmlsdGVycwoJICogMSkgVGhleSBhcmUgdXNlZnVsIHRvIGludHJvZHVjZSBjdXN0b20gZGF0YVR5cGVzIChzZWUgYWpheC9qc29ucC5qcyBmb3IgYW4gZXhhbXBsZSkKCSAqIDIpIFRoZXNlIGFyZSBjYWxsZWQ6CgkgKiAgICAtIEJFRk9SRSBhc2tpbmcgZm9yIGEgdHJhbnNwb3J0CgkgKiAgICAtIEFGVEVSIHBhcmFtIHNlcmlhbGl6YXRpb24gKHMuZGF0YSBpcyBhIHN0cmluZyBpZiBzLnByb2Nlc3NEYXRhIGlzIHRydWUpCgkgKiAzKSBrZXkgaXMgdGhlIGRhdGFUeXBlCgkgKiA0KSB0aGUgY2F0Y2hhbGwgc3ltYm9sICIqIiBjYW4gYmUgdXNlZAoJICogNSkgZXhlY3V0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gY29udGludWUgZG93biB0byAiKiIgaWYgbmVlZGVkCgkgKi8KCXByZWZpbHRlcnMgPSB7fSwKCgkvKiBUcmFuc3BvcnRzIGJpbmRpbmdzCgkgKiAxKSBrZXkgaXMgdGhlIGRhdGFUeXBlCgkgKiAyKSB0aGUgY2F0Y2hhbGwgc3ltYm9sICIqIiBjYW4gYmUgdXNlZAoJICogMykgc2VsZWN0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gZ28gdG8gIioiIGlmIG5lZWRlZAoJICovCgl0cmFuc3BvcnRzID0ge30sCgoJLy8gQXZvaWQgY29tbWVudC1wcm9sb2cgY2hhciBzZXF1ZW5jZSAoIzEwMDk4KTsgbXVzdCBhcHBlYXNlIGxpbnQgYW5kIGV2YWRlIGNvbXByZXNzaW9uCglhbGxUeXBlcyA9ICIqLyIuY29uY2F0KCAiKiIgKSwKCgkvLyBBbmNob3IgdGFnIGZvciBwYXJzaW5nIHRoZSBkb2N1bWVudCBvcmlnaW4KCW9yaWdpbkFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJhIiApOwoKb3JpZ2luQW5jaG9yLmhyZWYgPSBsb2NhdGlvbi5ocmVmOwoKLy8gQmFzZSAiY29uc3RydWN0b3IiIGZvciBqUXVlcnkuYWpheFByZWZpbHRlciBhbmQgalF1ZXJ5LmFqYXhUcmFuc3BvcnQKZnVuY3Rpb24gYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUgKSB7CgoJLy8gZGF0YVR5cGVFeHByZXNzaW9uIGlzIG9wdGlvbmFsIGFuZCBkZWZhdWx0cyB0byAiKiIKCXJldHVybiBmdW5jdGlvbiggZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jICkgewoKCQlpZiAoIHR5cGVvZiBkYXRhVHlwZUV4cHJlc3Npb24gIT09ICJzdHJpbmciICkgewoJCQlmdW5jID0gZGF0YVR5cGVFeHByZXNzaW9uOwoJCQlkYXRhVHlwZUV4cHJlc3Npb24gPSAiKiI7CgkJfQoKCQl2YXIgZGF0YVR5cGUsCgkJCWkgPSAwLAoJCQlkYXRhVHlwZXMgPSBkYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdOwoKCQlpZiAoIGlzRnVuY3Rpb24oIGZ1bmMgKSApIHsKCgkJCS8vIEZvciBlYWNoIGRhdGFUeXBlIGluIHRoZSBkYXRhVHlwZUV4cHJlc3Npb24KCQkJd2hpbGUgKCAoIGRhdGFUeXBlID0gZGF0YVR5cGVzWyBpKysgXSApICkgewoKCQkJCS8vIFByZXBlbmQgaWYgcmVxdWVzdGVkCgkJCQlpZiAoIGRhdGFUeXBlWyAwIF0gPT09ICIrIiApIHsKCQkJCQlkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKCAxICkgfHwgIioiOwoJCQkJCSggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkudW5zaGlmdCggZnVuYyApOwoKCQkJCS8vIE90aGVyd2lzZSBhcHBlbmQKCQkJCX0gZWxzZSB7CgkJCQkJKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS5wdXNoKCBmdW5jICk7CgkJCQl9CgkJCX0KCQl9Cgl9Owp9CgovLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHMKZnVuY3Rpb24gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApIHsKCgl2YXIgaW5zcGVjdGVkID0ge30sCgkJc2Vla2luZ1RyYW5zcG9ydCA9ICggc3RydWN0dXJlID09PSB0cmFuc3BvcnRzICk7CgoJZnVuY3Rpb24gaW5zcGVjdCggZGF0YVR5cGUgKSB7CgkJdmFyIHNlbGVjdGVkOwoJCWluc3BlY3RlZFsgZGF0YVR5cGUgXSA9IHRydWU7CgkJalF1ZXJ5LmVhY2goIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSwgZnVuY3Rpb24oIF8sIHByZWZpbHRlck9yRmFjdG9yeSApIHsKCQkJdmFyIGRhdGFUeXBlT3JUcmFuc3BvcnQgPSBwcmVmaWx0ZXJPckZhY3RvcnkoIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKTsKCQkJaWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gInN0cmluZyIgJiYKCQkJCSFzZWVraW5nVHJhbnNwb3J0ICYmICFpbnNwZWN0ZWRbIGRhdGFUeXBlT3JUcmFuc3BvcnQgXSApIHsKCgkJCQlvcHRpb25zLmRhdGFUeXBlcy51bnNoaWZ0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7CgkJCQlpbnNwZWN0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0gZWxzZSBpZiAoIHNlZWtpbmdUcmFuc3BvcnQgKSB7CgkJCQlyZXR1cm4gISggc2VsZWN0ZWQgPSBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7CgkJCX0KCQl9ICk7CgkJcmV0dXJuIHNlbGVjdGVkOwoJfQoKCXJldHVybiBpbnNwZWN0KCBvcHRpb25zLmRhdGFUeXBlc1sgMCBdICkgfHwgIWluc3BlY3RlZFsgIioiIF0gJiYgaW5zcGVjdCggIioiICk7Cn0KCi8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9ucwovLyB0aGF0IHRha2VzICJmbGF0IiBvcHRpb25zIChub3QgdG8gYmUgZGVlcCBleHRlbmRlZCkKLy8gRml4ZXMgIzk4ODcKZnVuY3Rpb24gYWpheEV4dGVuZCggdGFyZ2V0LCBzcmMgKSB7Cgl2YXIga2V5LCBkZWVwLAoJCWZsYXRPcHRpb25zID0galF1ZXJ5LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9ucyB8fCB7fTsKCglmb3IgKCBrZXkgaW4gc3JjICkgewoJCWlmICggc3JjWyBrZXkgXSAhPT0gdW5kZWZpbmVkICkgewoJCQkoIGZsYXRPcHRpb25zWyBrZXkgXSA/IHRhcmdldCA6ICggZGVlcCB8fCAoIGRlZXAgPSB7fSApICkgKVsga2V5IF0gPSBzcmNbIGtleSBdOwoJCX0KCX0KCWlmICggZGVlcCApIHsKCQlqUXVlcnkuZXh0ZW5kKCB0cnVlLCB0YXJnZXQsIGRlZXAgKTsKCX0KCglyZXR1cm4gdGFyZ2V0Owp9CgovKiBIYW5kbGVzIHJlc3BvbnNlcyB0byBhbiBhamF4IHJlcXVlc3Q6CiAqIC0gZmluZHMgdGhlIHJpZ2h0IGRhdGFUeXBlIChtZWRpYXRlcyBiZXR3ZWVuIGNvbnRlbnQtdHlwZSBhbmQgZXhwZWN0ZWQgZGF0YVR5cGUpCiAqIC0gcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZQogKi8KZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApIHsKCgl2YXIgY3QsIHR5cGUsIGZpbmFsRGF0YVR5cGUsIGZpcnN0RGF0YVR5cGUsCgkJY29udGVudHMgPSBzLmNvbnRlbnRzLAoJCWRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzOwoKCS8vIFJlbW92ZSBhdXRvIGRhdGFUeXBlIGFuZCBnZXQgY29udGVudC10eXBlIGluIHRoZSBwcm9jZXNzCgl3aGlsZSAoIGRhdGFUeXBlc1sgMCBdID09PSAiKiIgKSB7CgkJZGF0YVR5cGVzLnNoaWZ0KCk7CgkJaWYgKCBjdCA9PT0gdW5kZWZpbmVkICkgewoJCQljdCA9IHMubWltZVR5cGUgfHwganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoICJDb250ZW50LVR5cGUiICk7CgkJfQoJfQoKCS8vIENoZWNrIGlmIHdlJ3JlIGRlYWxpbmcgd2l0aCBhIGtub3duIGNvbnRlbnQtdHlwZQoJaWYgKCBjdCApIHsKCQlmb3IgKCB0eXBlIGluIGNvbnRlbnRzICkgewoJCQlpZiAoIGNvbnRlbnRzWyB0eXBlIF0gJiYgY29udGVudHNbIHR5cGUgXS50ZXN0KCBjdCApICkgewoJCQkJZGF0YVR5cGVzLnVuc2hpZnQoIHR5cGUgKTsKCQkJCWJyZWFrOwoJCQl9CgkJfQoJfQoKCS8vIENoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGEgcmVzcG9uc2UgZm9yIHRoZSBleHBlY3RlZCBkYXRhVHlwZQoJaWYgKCBkYXRhVHlwZXNbIDAgXSBpbiByZXNwb25zZXMgKSB7CgkJZmluYWxEYXRhVHlwZSA9IGRhdGFUeXBlc1sgMCBdOwoJfSBlbHNlIHsKCgkJLy8gVHJ5IGNvbnZlcnRpYmxlIGRhdGFUeXBlcwoJCWZvciAoIHR5cGUgaW4gcmVzcG9uc2VzICkgewoJCQlpZiAoICFkYXRhVHlwZXNbIDAgXSB8fCBzLmNvbnZlcnRlcnNbIHR5cGUgKyAiICIgKyBkYXRhVHlwZXNbIDAgXSBdICkgewoJCQkJZmluYWxEYXRhVHlwZSA9IHR5cGU7CgkJCQlicmVhazsKCQkJfQoJCQlpZiAoICFmaXJzdERhdGFUeXBlICkgewoJCQkJZmlyc3REYXRhVHlwZSA9IHR5cGU7CgkJCX0KCQl9CgoJCS8vIE9yIGp1c3QgdXNlIGZpcnN0IG9uZQoJCWZpbmFsRGF0YVR5cGUgPSBmaW5hbERhdGFUeXBlIHx8IGZpcnN0RGF0YVR5cGU7Cgl9CgoJLy8gSWYgd2UgZm91bmQgYSBkYXRhVHlwZQoJLy8gV2UgYWRkIHRoZSBkYXRhVHlwZSB0byB0aGUgbGlzdCBpZiBuZWVkZWQKCS8vIGFuZCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2UKCWlmICggZmluYWxEYXRhVHlwZSApIHsKCQlpZiAoIGZpbmFsRGF0YVR5cGUgIT09IGRhdGFUeXBlc1sgMCBdICkgewoJCQlkYXRhVHlwZXMudW5zaGlmdCggZmluYWxEYXRhVHlwZSApOwoJCX0KCQlyZXR1cm4gcmVzcG9uc2VzWyBmaW5hbERhdGFUeXBlIF07Cgl9Cn0KCi8qIENoYWluIGNvbnZlcnNpb25zIGdpdmVuIHRoZSByZXF1ZXN0IGFuZCB0aGUgb3JpZ2luYWwgcmVzcG9uc2UKICogQWxzbyBzZXRzIHRoZSByZXNwb25zZVhYWCBmaWVsZHMgb24gdGhlIGpxWEhSIGluc3RhbmNlCiAqLwpmdW5jdGlvbiBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKSB7Cgl2YXIgY29udjIsIGN1cnJlbnQsIGNvbnYsIHRtcCwgcHJldiwKCQljb252ZXJ0ZXJzID0ge30sCgoJCS8vIFdvcmsgd2l0aCBhIGNvcHkgb2YgZGF0YVR5cGVzIGluIGNhc2Ugd2UgbmVlZCB0byBtb2RpZnkgaXQgZm9yIGNvbnZlcnNpb24KCQlkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcy5zbGljZSgpOwoKCS8vIENyZWF0ZSBjb252ZXJ0ZXJzIG1hcCB3aXRoIGxvd2VyY2FzZWQga2V5cwoJaWYgKCBkYXRhVHlwZXNbIDEgXSApIHsKCQlmb3IgKCBjb252IGluIHMuY29udmVydGVycyApIHsKCQkJY29udmVydGVyc1sgY29udi50b0xvd2VyQ2FzZSgpIF0gPSBzLmNvbnZlcnRlcnNbIGNvbnYgXTsKCQl9Cgl9CgoJY3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpOwoKCS8vIENvbnZlcnQgdG8gZWFjaCBzZXF1ZW50aWFsIGRhdGFUeXBlCgl3aGlsZSAoIGN1cnJlbnQgKSB7CgoJCWlmICggcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdICkgewoJCQlqcVhIUlsgcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdIF0gPSByZXNwb25zZTsKCQl9CgoJCS8vIEFwcGx5IHRoZSBkYXRhRmlsdGVyIGlmIHByb3ZpZGVkCgkJaWYgKCAhcHJldiAmJiBpc1N1Y2Nlc3MgJiYgcy5kYXRhRmlsdGVyICkgewoJCQlyZXNwb25zZSA9IHMuZGF0YUZpbHRlciggcmVzcG9uc2UsIHMuZGF0YVR5cGUgKTsKCQl9CgoJCXByZXYgPSBjdXJyZW50OwoJCWN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTsKCgkJaWYgKCBjdXJyZW50ICkgewoKCQkJLy8gVGhlcmUncyBvbmx5IHdvcmsgdG8gZG8gaWYgY3VycmVudCBkYXRhVHlwZSBpcyBub24tYXV0bwoJCQlpZiAoIGN1cnJlbnQgPT09ICIqIiApIHsKCgkJCQljdXJyZW50ID0gcHJldjsKCgkJCS8vIENvbnZlcnQgcmVzcG9uc2UgaWYgcHJldiBkYXRhVHlwZSBpcyBub24tYXV0byBhbmQgZGlmZmVycyBmcm9tIGN1cnJlbnQKCQkJfSBlbHNlIGlmICggcHJldiAhPT0gIioiICYmIHByZXYgIT09IGN1cnJlbnQgKSB7CgoJCQkJLy8gU2VlayBhIGRpcmVjdCBjb252ZXJ0ZXIKCQkJCWNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgIiAiICsgY3VycmVudCBdIHx8IGNvbnZlcnRlcnNbICIqICIgKyBjdXJyZW50IF07CgoJCQkJLy8gSWYgbm9uZSBmb3VuZCwgc2VlayBhIHBhaXIKCQkJCWlmICggIWNvbnYgKSB7CgkJCQkJZm9yICggY29udjIgaW4gY29udmVydGVycyApIHsKCgkJCQkJCS8vIElmIGNvbnYyIG91dHB1dHMgY3VycmVudAoJCQkJCQl0bXAgPSBjb252Mi5zcGxpdCggIiAiICk7CgkJCQkJCWlmICggdG1wWyAxIF0gPT09IGN1cnJlbnQgKSB7CgoJCQkJCQkJLy8gSWYgcHJldiBjYW4gYmUgY29udmVydGVkIHRvIGFjY2VwdGVkIGlucHV0CgkJCQkJCQljb252ID0gY29udmVydGVyc1sgcHJldiArICIgIiArIHRtcFsgMCBdIF0gfHwKCQkJCQkJCQljb252ZXJ0ZXJzWyAiKiAiICsgdG1wWyAwIF0gXTsKCQkJCQkJCWlmICggY29udiApIHsKCgkJCQkJCQkJLy8gQ29uZGVuc2UgZXF1aXZhbGVuY2UgY29udmVydGVycwoJCQkJCQkJCWlmICggY29udiA9PT0gdHJ1ZSApIHsKCQkJCQkJCQkJY29udiA9IGNvbnZlcnRlcnNbIGNvbnYyIF07CgoJCQkJCQkJCS8vIE90aGVyd2lzZSwgaW5zZXJ0IHRoZSBpbnRlcm1lZGlhdGUgZGF0YVR5cGUKCQkJCQkJCQl9IGVsc2UgaWYgKCBjb252ZXJ0ZXJzWyBjb252MiBdICE9PSB0cnVlICkgewoJCQkJCQkJCQljdXJyZW50ID0gdG1wWyAwIF07CgkJCQkJCQkJCWRhdGFUeXBlcy51bnNoaWZ0KCB0bXBbIDEgXSApOwoJCQkJCQkJCX0KCQkJCQkJCQlicmVhazsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0KCQkJCX0KCgkJCQkvLyBBcHBseSBjb252ZXJ0ZXIgKGlmIG5vdCBhbiBlcXVpdmFsZW5jZSkKCQkJCWlmICggY29udiAhPT0gdHJ1ZSApIHsKCgkJCQkJLy8gVW5sZXNzIGVycm9ycyBhcmUgYWxsb3dlZCB0byBidWJibGUsIGNhdGNoIGFuZCByZXR1cm4gdGhlbQoJCQkJCWlmICggY29udiAmJiBzLnRocm93cyApIHsKCQkJCQkJcmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApOwoJCQkJCX0gZWxzZSB7CgkJCQkJCXRyeSB7CgkJCQkJCQlyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7CgkJCQkJCX0gY2F0Y2ggKCBlICkgewoJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQlzdGF0ZTogInBhcnNlcmVycm9yIiwKCQkJCQkJCQllcnJvcjogY29udiA/IGUgOiAiTm8gY29udmVyc2lvbiBmcm9tICIgKyBwcmV2ICsgIiB0byAiICsgY3VycmVudAoJCQkJCQkJfTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCX0KCglyZXR1cm4geyBzdGF0ZTogInN1Y2Nlc3MiLCBkYXRhOiByZXNwb25zZSB9Owp9CgpqUXVlcnkuZXh0ZW5kKCB7CgoJLy8gQ291bnRlciBmb3IgaG9sZGluZyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBxdWVyaWVzCglhY3RpdmU6IDAsCgoJLy8gTGFzdC1Nb2RpZmllZCBoZWFkZXIgY2FjaGUgZm9yIG5leHQgcmVxdWVzdAoJbGFzdE1vZGlmaWVkOiB7fSwKCWV0YWc6IHt9LAoKCWFqYXhTZXR0aW5nczogewoJCXVybDogbG9jYXRpb24uaHJlZiwKCQl0eXBlOiAiR0VUIiwKCQlpc0xvY2FsOiBybG9jYWxQcm90b2NvbC50ZXN0KCBsb2NhdGlvbi5wcm90b2NvbCApLAoJCWdsb2JhbDogdHJ1ZSwKCQlwcm9jZXNzRGF0YTogdHJ1ZSwKCQlhc3luYzogdHJ1ZSwKCQljb250ZW50VHlwZTogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsCgoJCS8qCgkJdGltZW91dDogMCwKCQlkYXRhOiBudWxsLAoJCWRhdGFUeXBlOiBudWxsLAoJCXVzZXJuYW1lOiBudWxsLAoJCXBhc3N3b3JkOiBudWxsLAoJCWNhY2hlOiBudWxsLAoJCXRocm93czogZmFsc2UsCgkJdHJhZGl0aW9uYWw6IGZhbHNlLAoJCWhlYWRlcnM6IHt9LAoJCSovCgoJCWFjY2VwdHM6IHsKCQkJIioiOiBhbGxUeXBlcywKCQkJdGV4dDogInRleHQvcGxhaW4iLAoJCQlodG1sOiAidGV4dC9odG1sIiwKCQkJeG1sOiAiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsCgkJCWpzb246ICJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQiCgkJfSwKCgkJY29udGVudHM6IHsKCQkJeG1sOiAvXGJ4bWxcYi8sCgkJCWh0bWw6IC9cYmh0bWwvLAoJCQlqc29uOiAvXGJqc29uXGIvCgkJfSwKCgkJcmVzcG9uc2VGaWVsZHM6IHsKCQkJeG1sOiAicmVzcG9uc2VYTUwiLAoJCQl0ZXh0OiAicmVzcG9uc2VUZXh0IiwKCQkJanNvbjogInJlc3BvbnNlSlNPTiIKCQl9LAoKCQkvLyBEYXRhIGNvbnZlcnRlcnMKCQkvLyBLZXlzIHNlcGFyYXRlIHNvdXJjZSAob3IgY2F0Y2hhbGwgIioiKSBhbmQgZGVzdGluYXRpb24gdHlwZXMgd2l0aCBhIHNpbmdsZSBzcGFjZQoJCWNvbnZlcnRlcnM6IHsKCgkJCS8vIENvbnZlcnQgYW55dGhpbmcgdG8gdGV4dAoJCQkiKiB0ZXh0IjogU3RyaW5nLAoKCQkJLy8gVGV4dCB0byBodG1sICh0cnVlID0gbm8gdHJhbnNmb3JtYXRpb24pCgkJCSJ0ZXh0IGh0bWwiOiB0cnVlLAoKCQkJLy8gRXZhbHVhdGUgdGV4dCBhcyBhIGpzb24gZXhwcmVzc2lvbgoJCQkidGV4dCBqc29uIjogSlNPTi5wYXJzZSwKCgkJCS8vIFBhcnNlIHRleHQgYXMgeG1sCgkJCSJ0ZXh0IHhtbCI6IGpRdWVyeS5wYXJzZVhNTAoJCX0sCgoJCS8vIEZvciBvcHRpb25zIHRoYXQgc2hvdWxkbid0IGJlIGRlZXAgZXh0ZW5kZWQ6CgkJLy8geW91IGNhbiBhZGQgeW91ciBvd24gY3VzdG9tIG9wdGlvbnMgaGVyZSBpZgoJCS8vIGFuZCB3aGVuIHlvdSBjcmVhdGUgb25lIHRoYXQgc2hvdWxkbid0IGJlCgkJLy8gZGVlcCBleHRlbmRlZCAoc2VlIGFqYXhFeHRlbmQpCgkJZmxhdE9wdGlvbnM6IHsKCQkJdXJsOiB0cnVlLAoJCQljb250ZXh0OiB0cnVlCgkJfQoJfSwKCgkvLyBDcmVhdGVzIGEgZnVsbCBmbGVkZ2VkIHNldHRpbmdzIG9iamVjdCBpbnRvIHRhcmdldAoJLy8gd2l0aCBib3RoIGFqYXhTZXR0aW5ncyBhbmQgc2V0dGluZ3MgZmllbGRzLgoJLy8gSWYgdGFyZ2V0IGlzIG9taXR0ZWQsIHdyaXRlcyBpbnRvIGFqYXhTZXR0aW5ncy4KCWFqYXhTZXR1cDogZnVuY3Rpb24oIHRhcmdldCwgc2V0dGluZ3MgKSB7CgkJcmV0dXJuIHNldHRpbmdzID8KCgkJCS8vIEJ1aWxkaW5nIGEgc2V0dGluZ3Mgb2JqZWN0CgkJCWFqYXhFeHRlbmQoIGFqYXhFeHRlbmQoIHRhcmdldCwgalF1ZXJ5LmFqYXhTZXR0aW5ncyApLCBzZXR0aW5ncyApIDoKCgkJCS8vIEV4dGVuZGluZyBhamF4U2V0dGluZ3MKCQkJYWpheEV4dGVuZCggalF1ZXJ5LmFqYXhTZXR0aW5ncywgdGFyZ2V0ICk7Cgl9LAoKCWFqYXhQcmVmaWx0ZXI6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycyApLAoJYWpheFRyYW5zcG9ydDogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzICksCgoJLy8gTWFpbiBtZXRob2QKCWFqYXg6IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMgKSB7CgoJCS8vIElmIHVybCBpcyBhbiBvYmplY3QsIHNpbXVsYXRlIHByZS0xLjUgc2lnbmF0dXJlCgkJaWYgKCB0eXBlb2YgdXJsID09PSAib2JqZWN0IiApIHsKCQkJb3B0aW9ucyA9IHVybDsKCQkJdXJsID0gdW5kZWZpbmVkOwoJCX0KCgkJLy8gRm9yY2Ugb3B0aW9ucyB0byBiZSBhbiBvYmplY3QKCQlvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKCgkJdmFyIHRyYW5zcG9ydCwKCgkJCS8vIFVSTCB3aXRob3V0IGFudGktY2FjaGUgcGFyYW0KCQkJY2FjaGVVUkwsCgoJCQkvLyBSZXNwb25zZSBoZWFkZXJzCgkJCXJlc3BvbnNlSGVhZGVyc1N0cmluZywKCQkJcmVzcG9uc2VIZWFkZXJzLAoKCQkJLy8gdGltZW91dCBoYW5kbGUKCQkJdGltZW91dFRpbWVyLAoKCQkJLy8gVXJsIGNsZWFudXAgdmFyCgkJCXVybEFuY2hvciwKCgkJCS8vIFJlcXVlc3Qgc3RhdGUgKGJlY29tZXMgZmFsc2UgdXBvbiBzZW5kIGFuZCB0cnVlIHVwb24gY29tcGxldGlvbikKCQkJY29tcGxldGVkLAoKCQkJLy8gVG8ga25vdyBpZiBnbG9iYWwgZXZlbnRzIGFyZSB0byBiZSBkaXNwYXRjaGVkCgkJCWZpcmVHbG9iYWxzLAoKCQkJLy8gTG9vcCB2YXJpYWJsZQoJCQlpLAoKCQkJLy8gdW5jYWNoZWQgcGFydCBvZiB0aGUgdXJsCgkJCXVuY2FjaGVkLAoKCQkJLy8gQ3JlYXRlIHRoZSBmaW5hbCBvcHRpb25zIG9iamVjdAoJCQlzID0galF1ZXJ5LmFqYXhTZXR1cCgge30sIG9wdGlvbnMgKSwKCgkJCS8vIENhbGxiYWNrcyBjb250ZXh0CgkJCWNhbGxiYWNrQ29udGV4dCA9IHMuY29udGV4dCB8fCBzLAoKCQkJLy8gQ29udGV4dCBmb3IgZ2xvYmFsIGV2ZW50cyBpcyBjYWxsYmFja0NvbnRleHQgaWYgaXQgaXMgYSBET00gbm9kZSBvciBqUXVlcnkgY29sbGVjdGlvbgoJCQlnbG9iYWxFdmVudENvbnRleHQgPSBzLmNvbnRleHQgJiYKCQkJCSggY2FsbGJhY2tDb250ZXh0Lm5vZGVUeXBlIHx8IGNhbGxiYWNrQ29udGV4dC5qcXVlcnkgKSA/CgkJCQlqUXVlcnkoIGNhbGxiYWNrQ29udGV4dCApIDoKCQkJCWpRdWVyeS5ldmVudCwKCgkJCS8vIERlZmVycmVkcwoJCQlkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLAoJCQljb21wbGV0ZURlZmVycmVkID0galF1ZXJ5LkNhbGxiYWNrcyggIm9uY2UgbWVtb3J5IiApLAoKCQkJLy8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3MKCQkJc3RhdHVzQ29kZSA9IHMuc3RhdHVzQ29kZSB8fCB7fSwKCgkJCS8vIEhlYWRlcnMgKHRoZXkgYXJlIHNlbnQgYWxsIGF0IG9uY2UpCgkJCXJlcXVlc3RIZWFkZXJzID0ge30sCgkJCXJlcXVlc3RIZWFkZXJzTmFtZXMgPSB7fSwKCgkJCS8vIERlZmF1bHQgYWJvcnQgbWVzc2FnZQoJCQlzdHJBYm9ydCA9ICJjYW5jZWxlZCIsCgoJCQkvLyBGYWtlIHhocgoJCQlqcVhIUiA9IHsKCQkJCXJlYWR5U3RhdGU6IDAsCgoJCQkJLy8gQnVpbGRzIGhlYWRlcnMgaGFzaHRhYmxlIGlmIG5lZWRlZAoJCQkJZ2V0UmVzcG9uc2VIZWFkZXI6IGZ1bmN0aW9uKCBrZXkgKSB7CgkJCQkJdmFyIG1hdGNoOwoJCQkJCWlmICggY29tcGxldGVkICkgewoJCQkJCQlpZiAoICFyZXNwb25zZUhlYWRlcnMgKSB7CgkJCQkJCQlyZXNwb25zZUhlYWRlcnMgPSB7fTsKCQkJCQkJCXdoaWxlICggKCBtYXRjaCA9IHJoZWFkZXJzLmV4ZWMoIHJlc3BvbnNlSGVhZGVyc1N0cmluZyApICkgKSB7CgkJCQkJCQkJcmVzcG9uc2VIZWFkZXJzWyBtYXRjaFsgMSBdLnRvTG93ZXJDYXNlKCkgKyAiICIgXSA9CgkJCQkJCQkJCSggcmVzcG9uc2VIZWFkZXJzWyBtYXRjaFsgMSBdLnRvTG93ZXJDYXNlKCkgKyAiICIgXSB8fCBbXSApCgkJCQkJCQkJCQkuY29uY2F0KCBtYXRjaFsgMiBdICk7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJbWF0Y2ggPSByZXNwb25zZUhlYWRlcnNbIGtleS50b0xvd2VyQ2FzZSgpICsgIiAiIF07CgkJCQkJfQoJCQkJCXJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoLmpvaW4oICIsICIgKTsKCQkJCX0sCgoJCQkJLy8gUmF3IHN0cmluZwoJCQkJZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gY29tcGxldGVkID8gcmVzcG9uc2VIZWFkZXJzU3RyaW5nIDogbnVsbDsKCQkJCX0sCgoJCQkJLy8gQ2FjaGVzIHRoZSBoZWFkZXIKCQkJCXNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHsKCQkJCQlpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkgewoJCQkJCQluYW1lID0gcmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gPQoJCQkJCQkJcmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHwgbmFtZTsKCQkJCQkJcmVxdWVzdEhlYWRlcnNbIG5hbWUgXSA9IHZhbHVlOwoJCQkJCX0KCQkJCQlyZXR1cm4gdGhpczsKCQkJCX0sCgoJCQkJLy8gT3ZlcnJpZGVzIHJlc3BvbnNlIGNvbnRlbnQtdHlwZSBoZWFkZXIKCQkJCW92ZXJyaWRlTWltZVR5cGU6IGZ1bmN0aW9uKCB0eXBlICkgewoJCQkJCWlmICggY29tcGxldGVkID09IG51bGwgKSB7CgkJCQkJCXMubWltZVR5cGUgPSB0eXBlOwoJCQkJCX0KCQkJCQlyZXR1cm4gdGhpczsKCQkJCX0sCgoJCQkJLy8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3MKCQkJCXN0YXR1c0NvZGU6IGZ1bmN0aW9uKCBtYXAgKSB7CgkJCQkJdmFyIGNvZGU7CgkJCQkJaWYgKCBtYXAgKSB7CgkJCQkJCWlmICggY29tcGxldGVkICkgewoKCQkJCQkJCS8vIEV4ZWN1dGUgdGhlIGFwcHJvcHJpYXRlIGNhbGxiYWNrcwoJCQkJCQkJanFYSFIuYWx3YXlzKCBtYXBbIGpxWEhSLnN0YXR1cyBdICk7CgkJCQkJCX0gZWxzZSB7CgoJCQkJCQkJLy8gTGF6eS1hZGQgdGhlIG5ldyBjYWxsYmFja3MgaW4gYSB3YXkgdGhhdCBwcmVzZXJ2ZXMgb2xkIG9uZXMKCQkJCQkJCWZvciAoIGNvZGUgaW4gbWFwICkgewoJCQkJCQkJCXN0YXR1c0NvZGVbIGNvZGUgXSA9IFsgc3RhdHVzQ29kZVsgY29kZSBdLCBtYXBbIGNvZGUgXSBdOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJCQkJCXJldHVybiB0aGlzOwoJCQkJfSwKCgkJCQkvLyBDYW5jZWwgdGhlIHJlcXVlc3QKCQkJCWFib3J0OiBmdW5jdGlvbiggc3RhdHVzVGV4dCApIHsKCQkJCQl2YXIgZmluYWxUZXh0ID0gc3RhdHVzVGV4dCB8fCBzdHJBYm9ydDsKCQkJCQlpZiAoIHRyYW5zcG9ydCApIHsKCQkJCQkJdHJhbnNwb3J0LmFib3J0KCBmaW5hbFRleHQgKTsKCQkJCQl9CgkJCQkJZG9uZSggMCwgZmluYWxUZXh0ICk7CgkJCQkJcmV0dXJuIHRoaXM7CgkJCQl9CgkJCX07CgoJCS8vIEF0dGFjaCBkZWZlcnJlZHMKCQlkZWZlcnJlZC5wcm9taXNlKCBqcVhIUiApOwoKCQkvLyBBZGQgcHJvdG9jb2wgaWYgbm90IHByb3ZpZGVkIChwcmVmaWx0ZXJzIG1pZ2h0IGV4cGVjdCBpdCkKCQkvLyBIYW5kbGUgZmFsc3kgdXJsIGluIHRoZSBzZXR0aW5ncyBvYmplY3QgKCMxMDA5MzogY29uc2lzdGVuY3kgd2l0aCBvbGQgc2lnbmF0dXJlKQoJCS8vIFdlIGFsc28gdXNlIHRoZSB1cmwgcGFyYW1ldGVyIGlmIGF2YWlsYWJsZQoJCXMudXJsID0gKCAoIHVybCB8fCBzLnVybCB8fCBsb2NhdGlvbi5ocmVmICkgKyAiIiApCgkJCS5yZXBsYWNlKCBycHJvdG9jb2wsIGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiApOwoKCQkvLyBBbGlhcyBtZXRob2Qgb3B0aW9uIHRvIHR5cGUgYXMgcGVyIHRpY2tldCAjMTIwMDQKCQlzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlOwoKCQkvLyBFeHRyYWN0IGRhdGFUeXBlcyBsaXN0CgkJcy5kYXRhVHlwZXMgPSAoIHMuZGF0YVR5cGUgfHwgIioiICkudG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgIiIgXTsKCgkJLy8gQSBjcm9zcy1kb21haW4gcmVxdWVzdCBpcyBpbiBvcmRlciB3aGVuIHRoZSBvcmlnaW4gZG9lc24ndCBtYXRjaCB0aGUgY3VycmVudCBvcmlnaW4uCgkJaWYgKCBzLmNyb3NzRG9tYWluID09IG51bGwgKSB7CgkJCXVybEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJhIiApOwoKCQkJLy8gU3VwcG9ydDogSUUgPD04IC0gMTEsIEVkZ2UgMTIgLSAxNQoJCQkvLyBJRSB0aHJvd3MgZXhjZXB0aW9uIG9uIGFjY2Vzc2luZyB0aGUgaHJlZiBwcm9wZXJ0eSBpZiB1cmwgaXMgbWFsZm9ybWVkLAoJCQkvLyBlLmcuIGh0dHA6Ly9leGFtcGxlLmNvbTo4MHgvCgkJCXRyeSB7CgkJCQl1cmxBbmNob3IuaHJlZiA9IHMudXJsOwoKCQkJCS8vIFN1cHBvcnQ6IElFIDw9OCAtIDExIG9ubHkKCQkJCS8vIEFuY2hvcidzIGhvc3QgcHJvcGVydHkgaXNuJ3QgY29ycmVjdGx5IHNldCB3aGVuIHMudXJsIGlzIHJlbGF0aXZlCgkJCQl1cmxBbmNob3IuaHJlZiA9IHVybEFuY2hvci5ocmVmOwoJCQkJcy5jcm9zc0RvbWFpbiA9IG9yaWdpbkFuY2hvci5wcm90b2NvbCArICIvLyIgKyBvcmlnaW5BbmNob3IuaG9zdCAhPT0KCQkJCQl1cmxBbmNob3IucHJvdG9jb2wgKyAiLy8iICsgdXJsQW5jaG9yLmhvc3Q7CgkJCX0gY2F0Y2ggKCBlICkgewoKCQkJCS8vIElmIHRoZXJlIGlzIGFuIGVycm9yIHBhcnNpbmcgdGhlIFVSTCwgYXNzdW1lIGl0IGlzIGNyb3NzRG9tYWluLAoJCQkJLy8gaXQgY2FuIGJlIHJlamVjdGVkIGJ5IHRoZSB0cmFuc3BvcnQgaWYgaXQgaXMgaW52YWxpZAoJCQkJcy5jcm9zc0RvbWFpbiA9IHRydWU7CgkJCX0KCQl9CgoJCS8vIENvbnZlcnQgZGF0YSBpZiBub3QgYWxyZWFkeSBhIHN0cmluZwoJCWlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiYgdHlwZW9mIHMuZGF0YSAhPT0gInN0cmluZyIgKSB7CgkJCXMuZGF0YSA9IGpRdWVyeS5wYXJhbSggcy5kYXRhLCBzLnRyYWRpdGlvbmFsICk7CgkJfQoKCQkvLyBBcHBseSBwcmVmaWx0ZXJzCgkJaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMsIHMsIG9wdGlvbnMsIGpxWEhSICk7CgoJCS8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGEgcHJlZmlsdGVyLCBzdG9wIHRoZXJlCgkJaWYgKCBjb21wbGV0ZWQgKSB7CgkJCXJldHVybiBqcVhIUjsKCQl9CgoJCS8vIFdlIGNhbiBmaXJlIGdsb2JhbCBldmVudHMgYXMgb2Ygbm93IGlmIGFza2VkIHRvCgkJLy8gRG9uJ3QgZmlyZSBldmVudHMgaWYgalF1ZXJ5LmV2ZW50IGlzIHVuZGVmaW5lZCBpbiBhbiBBTUQtdXNhZ2Ugc2NlbmFyaW8gKCMxNTExOCkKCQlmaXJlR2xvYmFscyA9IGpRdWVyeS5ldmVudCAmJiBzLmdsb2JhbDsKCgkJLy8gV2F0Y2ggZm9yIGEgbmV3IHNldCBvZiByZXF1ZXN0cwoJCWlmICggZmlyZUdsb2JhbHMgJiYgalF1ZXJ5LmFjdGl2ZSsrID09PSAwICkgewoJCQlqUXVlcnkuZXZlbnQudHJpZ2dlciggImFqYXhTdGFydCIgKTsKCQl9CgoJCS8vIFVwcGVyY2FzZSB0aGUgdHlwZQoJCXMudHlwZSA9IHMudHlwZS50b1VwcGVyQ2FzZSgpOwoKCQkvLyBEZXRlcm1pbmUgaWYgcmVxdWVzdCBoYXMgY29udGVudAoJCXMuaGFzQ29udGVudCA9ICFybm9Db250ZW50LnRlc3QoIHMudHlwZSApOwoKCQkvLyBTYXZlIHRoZSBVUkwgaW4gY2FzZSB3ZSdyZSB0b3lpbmcgd2l0aCB0aGUgSWYtTW9kaWZpZWQtU2luY2UKCQkvLyBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIgbGF0ZXIgb24KCQkvLyBSZW1vdmUgaGFzaCB0byBzaW1wbGlmeSB1cmwgbWFuaXB1bGF0aW9uCgkJY2FjaGVVUkwgPSBzLnVybC5yZXBsYWNlKCByaGFzaCwgIiIgKTsKCgkJLy8gTW9yZSBvcHRpb25zIGhhbmRsaW5nIGZvciByZXF1ZXN0cyB3aXRoIG5vIGNvbnRlbnQKCQlpZiAoICFzLmhhc0NvbnRlbnQgKSB7CgoJCQkvLyBSZW1lbWJlciB0aGUgaGFzaCBzbyB3ZSBjYW4gcHV0IGl0IGJhY2sKCQkJdW5jYWNoZWQgPSBzLnVybC5zbGljZSggY2FjaGVVUkwubGVuZ3RoICk7CgoJCQkvLyBJZiBkYXRhIGlzIGF2YWlsYWJsZSBhbmQgc2hvdWxkIGJlIHByb2Nlc3NlZCwgYXBwZW5kIGRhdGEgdG8gdXJsCgkJCWlmICggcy5kYXRhICYmICggcy5wcm9jZXNzRGF0YSB8fCB0eXBlb2Ygcy5kYXRhID09PSAic3RyaW5nIiApICkgewoJCQkJY2FjaGVVUkwgKz0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/ICImIiA6ICI/IiApICsgcy5kYXRhOwoKCQkJCS8vICM5NjgyOiByZW1vdmUgZGF0YSBzbyB0aGF0IGl0J3Mgbm90IHVzZWQgaW4gYW4gZXZlbnR1YWwgcmV0cnkKCQkJCWRlbGV0ZSBzLmRhdGE7CgkJCX0KCgkJCS8vIEFkZCBvciB1cGRhdGUgYW50aS1jYWNoZSBwYXJhbSBpZiBuZWVkZWQKCQkJaWYgKCBzLmNhY2hlID09PSBmYWxzZSApIHsKCQkJCWNhY2hlVVJMID0gY2FjaGVVUkwucmVwbGFjZSggcmFudGlDYWNoZSwgIiQxIiApOwoJCQkJdW5jYWNoZWQgPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gIiYiIDogIj8iICkgKyAiXz0iICsgKCBub25jZS5ndWlkKysgKSArCgkJCQkJdW5jYWNoZWQ7CgkJCX0KCgkJCS8vIFB1dCBoYXNoIGFuZCBhbnRpLWNhY2hlIG9uIHRoZSBVUkwgdGhhdCB3aWxsIGJlIHJlcXVlc3RlZCAoZ2gtMTczMikKCQkJcy51cmwgPSBjYWNoZVVSTCArIHVuY2FjaGVkOwoKCQkvLyBDaGFuZ2UgJyUyMCcgdG8gJysnIGlmIHRoaXMgaXMgZW5jb2RlZCBmb3JtIGJvZHkgY29udGVudCAoZ2gtMjY1OCkKCQl9IGVsc2UgaWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJgoJCQkoIHMuY29udGVudFR5cGUgfHwgIiIgKS5pbmRleE9mKCAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiApID09PSAwICkgewoJCQlzLmRhdGEgPSBzLmRhdGEucmVwbGFjZSggcjIwLCAiKyIgKTsKCQl9CgoJCS8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuCgkJaWYgKCBzLmlmTW9kaWZpZWQgKSB7CgkJCWlmICggalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApIHsKCQkJCWpxWEhSLnNldFJlcXVlc3RIZWFkZXIoICJJZi1Nb2RpZmllZC1TaW5jZSIsIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKTsKCQkJfQoJCQlpZiAoIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICkgewoJCQkJanFYSFIuc2V0UmVxdWVzdEhlYWRlciggIklmLU5vbmUtTWF0Y2giLCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApOwoJCQl9CgkJfQoKCQkvLyBTZXQgdGhlIGNvcnJlY3QgaGVhZGVyLCBpZiBkYXRhIGlzIGJlaW5nIHNlbnQKCQlpZiAoIHMuZGF0YSAmJiBzLmhhc0NvbnRlbnQgJiYgcy5jb250ZW50VHlwZSAhPT0gZmFsc2UgfHwgb3B0aW9ucy5jb250ZW50VHlwZSApIHsKCQkJanFYSFIuc2V0UmVxdWVzdEhlYWRlciggIkNvbnRlbnQtVHlwZSIsIHMuY29udGVudFR5cGUgKTsKCQl9CgoJCS8vIFNldCB0aGUgQWNjZXB0cyBoZWFkZXIgZm9yIHRoZSBzZXJ2ZXIsIGRlcGVuZGluZyBvbiB0aGUgZGF0YVR5cGUKCQlqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKAoJCQkiQWNjZXB0IiwKCQkJcy5kYXRhVHlwZXNbIDAgXSAmJiBzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSA/CgkJCQlzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSArCgkJCQkJKCBzLmRhdGFUeXBlc1sgMCBdICE9PSAiKiIgPyAiLCAiICsgYWxsVHlwZXMgKyAiOyBxPTAuMDEiIDogIiIgKSA6CgkJCQlzLmFjY2VwdHNbICIqIiBdCgkJKTsKCgkJLy8gQ2hlY2sgZm9yIGhlYWRlcnMgb3B0aW9uCgkJZm9yICggaSBpbiBzLmhlYWRlcnMgKSB7CgkJCWpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIGksIHMuaGVhZGVyc1sgaSBdICk7CgkJfQoKCQkvLyBBbGxvdyBjdXN0b20gaGVhZGVycy9taW1ldHlwZXMgYW5kIGVhcmx5IGFib3J0CgkJaWYgKCBzLmJlZm9yZVNlbmQgJiYKCQkJKCBzLmJlZm9yZVNlbmQuY2FsbCggY2FsbGJhY2tDb250ZXh0LCBqcVhIUiwgcyApID09PSBmYWxzZSB8fCBjb21wbGV0ZWQgKSApIHsKCgkJCS8vIEFib3J0IGlmIG5vdCBkb25lIGFscmVhZHkgYW5kIHJldHVybgoJCQlyZXR1cm4ganFYSFIuYWJvcnQoKTsKCQl9CgoJCS8vIEFib3J0aW5nIGlzIG5vIGxvbmdlciBhIGNhbmNlbGxhdGlvbgoJCXN0ckFib3J0ID0gImFib3J0IjsKCgkJLy8gSW5zdGFsbCBjYWxsYmFja3Mgb24gZGVmZXJyZWRzCgkJY29tcGxldGVEZWZlcnJlZC5hZGQoIHMuY29tcGxldGUgKTsKCQlqcVhIUi5kb25lKCBzLnN1Y2Nlc3MgKTsKCQlqcVhIUi5mYWlsKCBzLmVycm9yICk7CgoJCS8vIEdldCB0cmFuc3BvcnQKCQl0cmFuc3BvcnQgPSBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cywgcywgb3B0aW9ucywganFYSFIgKTsKCgkJLy8gSWYgbm8gdHJhbnNwb3J0LCB3ZSBhdXRvLWFib3J0CgkJaWYgKCAhdHJhbnNwb3J0ICkgewoJCQlkb25lKCAtMSwgIk5vIFRyYW5zcG9ydCIgKTsKCQl9IGVsc2UgewoJCQlqcVhIUi5yZWFkeVN0YXRlID0gMTsKCgkJCS8vIFNlbmQgZ2xvYmFsIGV2ZW50CgkJCWlmICggZmlyZUdsb2JhbHMgKSB7CgkJCQlnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggImFqYXhTZW5kIiwgWyBqcVhIUiwgcyBdICk7CgkJCX0KCgkJCS8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGFqYXhTZW5kLCBzdG9wIHRoZXJlCgkJCWlmICggY29tcGxldGVkICkgewoJCQkJcmV0dXJuIGpxWEhSOwoJCQl9CgoJCQkvLyBUaW1lb3V0CgkJCWlmICggcy5hc3luYyAmJiBzLnRpbWVvdXQgPiAwICkgewoJCQkJdGltZW91dFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkgewoJCQkJCWpxWEhSLmFib3J0KCAidGltZW91dCIgKTsKCQkJCX0sIHMudGltZW91dCApOwoJCQl9CgoJCQl0cnkgewoJCQkJY29tcGxldGVkID0gZmFsc2U7CgkJCQl0cmFuc3BvcnQuc2VuZCggcmVxdWVzdEhlYWRlcnMsIGRvbmUgKTsKCQkJfSBjYXRjaCAoIGUgKSB7CgoJCQkJLy8gUmV0aHJvdyBwb3N0LWNvbXBsZXRpb24gZXhjZXB0aW9ucwoJCQkJaWYgKCBjb21wbGV0ZWQgKSB7CgkJCQkJdGhyb3cgZTsKCQkJCX0KCgkJCQkvLyBQcm9wYWdhdGUgb3RoZXJzIGFzIHJlc3VsdHMKCQkJCWRvbmUoIC0xLCBlICk7CgkJCX0KCQl9CgoJCS8vIENhbGxiYWNrIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgZG9uZQoJCWZ1bmN0aW9uIGRvbmUoIHN0YXR1cywgbmF0aXZlU3RhdHVzVGV4dCwgcmVzcG9uc2VzLCBoZWFkZXJzICkgewoJCQl2YXIgaXNTdWNjZXNzLCBzdWNjZXNzLCBlcnJvciwgcmVzcG9uc2UsIG1vZGlmaWVkLAoJCQkJc3RhdHVzVGV4dCA9IG5hdGl2ZVN0YXR1c1RleHQ7CgoJCQkvLyBJZ25vcmUgcmVwZWF0IGludm9jYXRpb25zCgkJCWlmICggY29tcGxldGVkICkgewoJCQkJcmV0dXJuOwoJCQl9CgoJCQljb21wbGV0ZWQgPSB0cnVlOwoKCQkJLy8gQ2xlYXIgdGltZW91dCBpZiBpdCBleGlzdHMKCQkJaWYgKCB0aW1lb3V0VGltZXIgKSB7CgkJCQl3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0VGltZXIgKTsKCQkJfQoKCQkJLy8gRGVyZWZlcmVuY2UgdHJhbnNwb3J0IGZvciBlYXJseSBnYXJiYWdlIGNvbGxlY3Rpb24KCQkJLy8gKG5vIG1hdHRlciBob3cgbG9uZyB0aGUganFYSFIgb2JqZWN0IHdpbGwgYmUgdXNlZCkKCQkJdHJhbnNwb3J0ID0gdW5kZWZpbmVkOwoKCQkJLy8gQ2FjaGUgcmVzcG9uc2UgaGVhZGVycwoJCQlyZXNwb25zZUhlYWRlcnNTdHJpbmcgPSBoZWFkZXJzIHx8ICIiOwoKCQkJLy8gU2V0IHJlYWR5U3RhdGUKCQkJanFYSFIucmVhZHlTdGF0ZSA9IHN0YXR1cyA+IDAgPyA0IDogMDsKCgkJCS8vIERldGVybWluZSBpZiBzdWNjZXNzZnVsCgkJCWlzU3VjY2VzcyA9IHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwIHx8IHN0YXR1cyA9PT0gMzA0OwoKCQkJLy8gR2V0IHJlc3BvbnNlIGRhdGEKCQkJaWYgKCByZXNwb25zZXMgKSB7CgkJCQlyZXNwb25zZSA9IGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKTsKCQkJfQoKCQkJLy8gVXNlIGEgbm9vcCBjb252ZXJ0ZXIgZm9yIG1pc3Npbmcgc2NyaXB0IGJ1dCBub3QgaWYganNvbnAKCQkJaWYgKCAhaXNTdWNjZXNzICYmCgkJCQlqUXVlcnkuaW5BcnJheSggInNjcmlwdCIsIHMuZGF0YVR5cGVzICkgPiAtMSAmJgoJCQkJalF1ZXJ5LmluQXJyYXkoICJqc29uIiwgcy5kYXRhVHlwZXMgKSA8IDAgKSB7CgkJCQlzLmNvbnZlcnRlcnNbICJ0ZXh0IHNjcmlwdCIgXSA9IGZ1bmN0aW9uKCkge307CgkJCX0KCgkJCS8vIENvbnZlcnQgbm8gbWF0dGVyIHdoYXQgKHRoYXQgd2F5IHJlc3BvbnNlWFhYIGZpZWxkcyBhcmUgYWx3YXlzIHNldCkKCQkJcmVzcG9uc2UgPSBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKTsKCgkJCS8vIElmIHN1Y2Nlc3NmdWwsIGhhbmRsZSB0eXBlIGNoYWluaW5nCgkJCWlmICggaXNTdWNjZXNzICkgewoKCQkJCS8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuCgkJCQlpZiAoIHMuaWZNb2RpZmllZCApIHsKCQkJCQltb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCAiTGFzdC1Nb2RpZmllZCIgKTsKCQkJCQlpZiAoIG1vZGlmaWVkICkgewoJCQkJCQlqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7CgkJCQkJfQoJCQkJCW1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoICJldGFnIiApOwoJCQkJCWlmICggbW9kaWZpZWQgKSB7CgkJCQkJCWpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7CgkJCQkJfQoJCQkJfQoKCQkJCS8vIGlmIG5vIGNvbnRlbnQKCQkJCWlmICggc3RhdHVzID09PSAyMDQgfHwgcy50eXBlID09PSAiSEVBRCIgKSB7CgkJCQkJc3RhdHVzVGV4dCA9ICJub2NvbnRlbnQiOwoKCQkJCS8vIGlmIG5vdCBtb2RpZmllZAoJCQkJfSBlbHNlIGlmICggc3RhdHVzID09PSAzMDQgKSB7CgkJCQkJc3RhdHVzVGV4dCA9ICJub3Rtb2RpZmllZCI7CgoJCQkJLy8gSWYgd2UgaGF2ZSBkYXRhLCBsZXQncyBjb252ZXJ0IGl0CgkJCQl9IGVsc2UgewoJCQkJCXN0YXR1c1RleHQgPSByZXNwb25zZS5zdGF0ZTsKCQkJCQlzdWNjZXNzID0gcmVzcG9uc2UuZGF0YTsKCQkJCQllcnJvciA9IHJlc3BvbnNlLmVycm9yOwoJCQkJCWlzU3VjY2VzcyA9ICFlcnJvcjsKCQkJCX0KCQkJfSBlbHNlIHsKCgkJCQkvLyBFeHRyYWN0IGVycm9yIGZyb20gc3RhdHVzVGV4dCBhbmQgbm9ybWFsaXplIGZvciBub24tYWJvcnRzCgkJCQllcnJvciA9IHN0YXR1c1RleHQ7CgkJCQlpZiAoIHN0YXR1cyB8fCAhc3RhdHVzVGV4dCApIHsKCQkJCQlzdGF0dXNUZXh0ID0gImVycm9yIjsKCQkJCQlpZiAoIHN0YXR1cyA8IDAgKSB7CgkJCQkJCXN0YXR1cyA9IDA7CgkJCQkJfQoJCQkJfQoJCQl9CgoJCQkvLyBTZXQgZGF0YSBmb3IgdGhlIGZha2UgeGhyIG9iamVjdAoJCQlqcVhIUi5zdGF0dXMgPSBzdGF0dXM7CgkJCWpxWEhSLnN0YXR1c1RleHQgPSAoIG5hdGl2ZVN0YXR1c1RleHQgfHwgc3RhdHVzVGV4dCApICsgIiI7CgoJCQkvLyBTdWNjZXNzL0Vycm9yCgkJCWlmICggaXNTdWNjZXNzICkgewoJCQkJZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBzdWNjZXNzLCBzdGF0dXNUZXh0LCBqcVhIUiBdICk7CgkJCX0gZWxzZSB7CgkJCQlkZWZlcnJlZC5yZWplY3RXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsganFYSFIsIHN0YXR1c1RleHQsIGVycm9yIF0gKTsKCQkJfQoKCQkJLy8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3MKCQkJanFYSFIuc3RhdHVzQ29kZSggc3RhdHVzQ29kZSApOwoJCQlzdGF0dXNDb2RlID0gdW5kZWZpbmVkOwoKCQkJaWYgKCBmaXJlR2xvYmFscyApIHsKCQkJCWdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBpc1N1Y2Nlc3MgPyAiYWpheFN1Y2Nlc3MiIDogImFqYXhFcnJvciIsCgkJCQkJWyBqcVhIUiwgcywgaXNTdWNjZXNzID8gc3VjY2VzcyA6IGVycm9yIF0gKTsKCQkJfQoKCQkJLy8gQ29tcGxldGUKCQkJY29tcGxldGVEZWZlcnJlZC5maXJlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0IF0gKTsKCgkJCWlmICggZmlyZUdsb2JhbHMgKSB7CgkJCQlnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggImFqYXhDb21wbGV0ZSIsIFsganFYSFIsIHMgXSApOwoKCQkJCS8vIEhhbmRsZSB0aGUgZ2xvYmFsIEFKQVggY291bnRlcgoJCQkJaWYgKCAhKCAtLWpRdWVyeS5hY3RpdmUgKSApIHsKCQkJCQlqUXVlcnkuZXZlbnQudHJpZ2dlciggImFqYXhTdG9wIiApOwoJCQkJfQoJCQl9CgkJfQoKCQlyZXR1cm4ganFYSFI7Cgl9LAoKCWdldEpTT046IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrICkgewoJCXJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIGRhdGEsIGNhbGxiYWNrLCAianNvbiIgKTsKCX0sCgoJZ2V0U2NyaXB0OiBmdW5jdGlvbiggdXJsLCBjYWxsYmFjayApIHsKCQlyZXR1cm4galF1ZXJ5LmdldCggdXJsLCB1bmRlZmluZWQsIGNhbGxiYWNrLCAic2NyaXB0IiApOwoJfQp9ICk7CgpqUXVlcnkuZWFjaCggWyAiZ2V0IiwgInBvc3QiIF0sIGZ1bmN0aW9uKCBfaSwgbWV0aG9kICkgewoJalF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkgewoKCQkvLyBTaGlmdCBhcmd1bWVudHMgaWYgZGF0YSBhcmd1bWVudCB3YXMgb21pdHRlZAoJCWlmICggaXNGdW5jdGlvbiggZGF0YSApICkgewoJCQl0eXBlID0gdHlwZSB8fCBjYWxsYmFjazsKCQkJY2FsbGJhY2sgPSBkYXRhOwoJCQlkYXRhID0gdW5kZWZpbmVkOwoJCX0KCgkJLy8gVGhlIHVybCBjYW4gYmUgYW4gb3B0aW9ucyBvYmplY3QgKHdoaWNoIHRoZW4gbXVzdCBoYXZlIC51cmwpCgkJcmV0dXJuIGpRdWVyeS5hamF4KCBqUXVlcnkuZXh0ZW5kKCB7CgkJCXVybDogdXJsLAoJCQl0eXBlOiBtZXRob2QsCgkJCWRhdGFUeXBlOiB0eXBlLAoJCQlkYXRhOiBkYXRhLAoJCQlzdWNjZXNzOiBjYWxsYmFjawoJCX0sIGpRdWVyeS5pc1BsYWluT2JqZWN0KCB1cmwgKSAmJiB1cmwgKSApOwoJfTsKfSApOwoKalF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIGZ1bmN0aW9uKCBzICkgewoJdmFyIGk7Cglmb3IgKCBpIGluIHMuaGVhZGVycyApIHsKCQlpZiAoIGkudG9Mb3dlckNhc2UoKSA9PT0gImNvbnRlbnQtdHlwZSIgKSB7CgkJCXMuY29udGVudFR5cGUgPSBzLmhlYWRlcnNbIGkgXSB8fCAiIjsKCQl9Cgl9Cn0gKTsKCgpqUXVlcnkuX2V2YWxVcmwgPSBmdW5jdGlvbiggdXJsLCBvcHRpb25zLCBkb2MgKSB7CglyZXR1cm4galF1ZXJ5LmFqYXgoIHsKCQl1cmw6IHVybCwKCgkJLy8gTWFrZSB0aGlzIGV4cGxpY2l0LCBzaW5jZSB1c2VyIGNhbiBvdmVycmlkZSB0aGlzIHRocm91Z2ggYWpheFNldHVwICgjMTEyNjQpCgkJdHlwZTogIkdFVCIsCgkJZGF0YVR5cGU6ICJzY3JpcHQiLAoJCWNhY2hlOiB0cnVlLAoJCWFzeW5jOiBmYWxzZSwKCQlnbG9iYWw6IGZhbHNlLAoKCQkvLyBPbmx5IGV2YWx1YXRlIHRoZSByZXNwb25zZSBpZiBpdCBpcyBzdWNjZXNzZnVsIChnaC00MTI2KQoJCS8vIGRhdGFGaWx0ZXIgaXMgbm90IGludm9rZWQgZm9yIGZhaWx1cmUgcmVzcG9uc2VzLCBzbyB1c2luZyBpdCBpbnN0ZWFkCgkJLy8gb2YgdGhlIGRlZmF1bHQgY29udmVydGVyIGlzIGtsdWRneSBidXQgaXQgd29ya3MuCgkJY29udmVydGVyczogewoJCQkidGV4dCBzY3JpcHQiOiBmdW5jdGlvbigpIHt9CgkJfSwKCQlkYXRhRmlsdGVyOiBmdW5jdGlvbiggcmVzcG9uc2UgKSB7CgkJCWpRdWVyeS5nbG9iYWxFdmFsKCByZXNwb25zZSwgb3B0aW9ucywgZG9jICk7CgkJfQoJfSApOwp9OwoKCmpRdWVyeS5mbi5leHRlbmQoIHsKCXdyYXBBbGw6IGZ1bmN0aW9uKCBodG1sICkgewoJCXZhciB3cmFwOwoKCQlpZiAoIHRoaXNbIDAgXSApIHsKCQkJaWYgKCBpc0Z1bmN0aW9uKCBodG1sICkgKSB7CgkJCQlodG1sID0gaHRtbC5jYWxsKCB0aGlzWyAwIF0gKTsKCQkJfQoKCQkJLy8gVGhlIGVsZW1lbnRzIHRvIHdyYXAgdGhlIHRhcmdldCBhcm91bmQKCQkJd3JhcCA9IGpRdWVyeSggaHRtbCwgdGhpc1sgMCBdLm93bmVyRG9jdW1lbnQgKS5lcSggMCApLmNsb25lKCB0cnVlICk7CgoJCQlpZiAoIHRoaXNbIDAgXS5wYXJlbnROb2RlICkgewoJCQkJd3JhcC5pbnNlcnRCZWZvcmUoIHRoaXNbIDAgXSApOwoJCQl9CgoJCQl3cmFwLm1hcCggZnVuY3Rpb24oKSB7CgkJCQl2YXIgZWxlbSA9IHRoaXM7CgoJCQkJd2hpbGUgKCBlbGVtLmZpcnN0RWxlbWVudENoaWxkICkgewoJCQkJCWVsZW0gPSBlbGVtLmZpcnN0RWxlbWVudENoaWxkOwoJCQkJfQoKCQkJCXJldHVybiBlbGVtOwoJCQl9ICkuYXBwZW5kKCB0aGlzICk7CgkJfQoKCQlyZXR1cm4gdGhpczsKCX0sCgoJd3JhcElubmVyOiBmdW5jdGlvbiggaHRtbCApIHsKCQlpZiAoIGlzRnVuY3Rpb24oIGh0bWwgKSApIHsKCQkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7CgkJCQlqUXVlcnkoIHRoaXMgKS53cmFwSW5uZXIoIGh0bWwuY2FsbCggdGhpcywgaSApICk7CgkJCX0gKTsKCQl9CgoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgewoJCQl2YXIgc2VsZiA9IGpRdWVyeSggdGhpcyApLAoJCQkJY29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCk7CgoJCQlpZiAoIGNvbnRlbnRzLmxlbmd0aCApIHsKCQkJCWNvbnRlbnRzLndyYXBBbGwoIGh0bWwgKTsKCgkJCX0gZWxzZSB7CgkJCQlzZWxmLmFwcGVuZCggaHRtbCApOwoJCQl9CgkJfSApOwoJfSwKCgl3cmFwOiBmdW5jdGlvbiggaHRtbCApIHsKCQl2YXIgaHRtbElzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKCBodG1sICk7CgoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkgewoJCQlqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBodG1sSXNGdW5jdGlvbiA/IGh0bWwuY2FsbCggdGhpcywgaSApIDogaHRtbCApOwoJCX0gKTsKCX0sCgoJdW53cmFwOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7CgkJdGhpcy5wYXJlbnQoIHNlbGVjdG9yICkubm90KCAiYm9keSIgKS5lYWNoKCBmdW5jdGlvbigpIHsKCQkJalF1ZXJ5KCB0aGlzICkucmVwbGFjZVdpdGgoIHRoaXMuY2hpbGROb2RlcyApOwoJCX0gKTsKCQlyZXR1cm4gdGhpczsKCX0KfSApOwoKCmpRdWVyeS5leHByLnBzZXVkb3MuaGlkZGVuID0gZnVuY3Rpb24oIGVsZW0gKSB7CglyZXR1cm4gIWpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSggZWxlbSApOwp9OwpqUXVlcnkuZXhwci5wc2V1ZG9zLnZpc2libGUgPSBmdW5jdGlvbiggZWxlbSApIHsKCXJldHVybiAhISggZWxlbS5vZmZzZXRXaWR0aCB8fCBlbGVtLm9mZnNldEhlaWdodCB8fCBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICk7Cn07CgoKCgpqUXVlcnkuYWpheFNldHRpbmdzLnhociA9IGZ1bmN0aW9uKCkgewoJdHJ5IHsKCQlyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpOwoJfSBjYXRjaCAoIGUgKSB7fQp9OwoKdmFyIHhoclN1Y2Nlc3NTdGF0dXMgPSB7CgoJCS8vIEZpbGUgcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgY29kZSAwLCBhc3N1bWUgMjAwCgkJMDogMjAwLAoKCQkvLyBTdXBwb3J0OiBJRSA8PTkgb25seQoJCS8vICMxNDUwOiBzb21ldGltZXMgSUUgcmV0dXJucyAxMjIzIHdoZW4gaXQgc2hvdWxkIGJlIDIwNAoJCTEyMjM6IDIwNAoJfSwKCXhoclN1cHBvcnRlZCA9IGpRdWVyeS5hamF4U2V0dGluZ3MueGhyKCk7CgpzdXBwb3J0LmNvcnMgPSAhIXhoclN1cHBvcnRlZCAmJiAoICJ3aXRoQ3JlZGVudGlhbHMiIGluIHhoclN1cHBvcnRlZCApOwpzdXBwb3J0LmFqYXggPSB4aHJTdXBwb3J0ZWQgPSAhIXhoclN1cHBvcnRlZDsKCmpRdWVyeS5hamF4VHJhbnNwb3J0KCBmdW5jdGlvbiggb3B0aW9ucyApIHsKCXZhciBjYWxsYmFjaywgZXJyb3JDYWxsYmFjazsKCgkvLyBDcm9zcyBkb21haW4gb25seSBhbGxvd2VkIGlmIHN1cHBvcnRlZCB0aHJvdWdoIFhNTEh0dHBSZXF1ZXN0CglpZiAoIHN1cHBvcnQuY29ycyB8fCB4aHJTdXBwb3J0ZWQgJiYgIW9wdGlvbnMuY3Jvc3NEb21haW4gKSB7CgkJcmV0dXJuIHsKCQkJc2VuZDogZnVuY3Rpb24oIGhlYWRlcnMsIGNvbXBsZXRlICkgewoJCQkJdmFyIGksCgkJCQkJeGhyID0gb3B0aW9ucy54aHIoKTsKCgkJCQl4aHIub3BlbigKCQkJCQlvcHRpb25zLnR5cGUsCgkJCQkJb3B0aW9ucy51cmwsCgkJCQkJb3B0aW9ucy5hc3luYywKCQkJCQlvcHRpb25zLnVzZXJuYW1lLAoJCQkJCW9wdGlvbnMucGFzc3dvcmQKCQkJCSk7CgoJCQkJLy8gQXBwbHkgY3VzdG9tIGZpZWxkcyBpZiBwcm92aWRlZAoJCQkJaWYgKCBvcHRpb25zLnhockZpZWxkcyApIHsKCQkJCQlmb3IgKCBpIGluIG9wdGlvbnMueGhyRmllbGRzICkgewoJCQkJCQl4aHJbIGkgXSA9IG9wdGlvbnMueGhyRmllbGRzWyBpIF07CgkJCQkJfQoJCQkJfQoKCQkJCS8vIE92ZXJyaWRlIG1pbWUgdHlwZSBpZiBuZWVkZWQKCQkJCWlmICggb3B0aW9ucy5taW1lVHlwZSAmJiB4aHIub3ZlcnJpZGVNaW1lVHlwZSApIHsKCQkJCQl4aHIub3ZlcnJpZGVNaW1lVHlwZSggb3B0aW9ucy5taW1lVHlwZSApOwoJCQkJfQoKCQkJCS8vIFgtUmVxdWVzdGVkLVdpdGggaGVhZGVyCgkJCQkvLyBGb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzLCBzZWVpbmcgYXMgY29uZGl0aW9ucyBmb3IgYSBwcmVmbGlnaHQgYXJlCgkJCQkvLyBha2luIHRvIGEgamlnc2F3IHB1enpsZSwgd2Ugc2ltcGx5IG5ldmVyIHNldCBpdCB0byBiZSBzdXJlLgoJCQkJLy8gKGl0IGNhbiBhbHdheXMgYmUgc2V0IG9uIGEgcGVyLXJlcXVlc3QgYmFzaXMgb3IgZXZlbiB1c2luZyBhamF4U2V0dXApCgkJCQkvLyBGb3Igc2FtZS1kb21haW4gcmVxdWVzdHMsIHdvbid0IGNoYW5nZSBoZWFkZXIgaWYgYWxyZWFkeSBwcm92aWRlZC4KCQkJCWlmICggIW9wdGlvbnMuY3Jvc3NEb21haW4gJiYgIWhlYWRlcnNbICJYLVJlcXVlc3RlZC1XaXRoIiBdICkgewoJCQkJCWhlYWRlcnNbICJYLVJlcXVlc3RlZC1XaXRoIiBdID0gIlhNTEh0dHBSZXF1ZXN0IjsKCQkJCX0KCgkJCQkvLyBTZXQgaGVhZGVycwoJCQkJZm9yICggaSBpbiBoZWFkZXJzICkgewoJCQkJCXhoci5zZXRSZXF1ZXN0SGVhZGVyKCBpLCBoZWFkZXJzWyBpIF0gKTsKCQkJCX0KCgkJCQkvLyBDYWxsYmFjawoJCQkJY2FsbGJhY2sgPSBmdW5jdGlvbiggdHlwZSApIHsKCQkJCQlyZXR1cm4gZnVuY3Rpb24oKSB7CgkJCQkJCWlmICggY2FsbGJhY2sgKSB7CgkJCQkJCQljYWxsYmFjayA9IGVycm9yQ2FsbGJhY2sgPSB4aHIub25sb2FkID0KCQkJCQkJCQl4aHIub25lcnJvciA9IHhoci5vbmFib3J0ID0geGhyLm9udGltZW91dCA9CgkJCQkJCQkJCXhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsOwoKCQkJCQkJCWlmICggdHlwZSA9PT0gImFib3J0IiApIHsKCQkJCQkJCQl4aHIuYWJvcnQoKTsKCQkJCQkJCX0gZWxzZSBpZiAoIHR5cGUgPT09ICJlcnJvciIgKSB7CgoJCQkJCQkJCS8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5CgkJCQkJCQkJLy8gT24gYSBtYW51YWwgbmF0aXZlIGFib3J0LCBJRTkgdGhyb3dzCgkJCQkJCQkJLy8gZXJyb3JzIG9uIGFueSBwcm9wZXJ0eSBhY2Nlc3MgdGhhdCBpcyBub3QgcmVhZHlTdGF0ZQoJCQkJCQkJCWlmICggdHlwZW9mIHhoci5zdGF0dXMgIT09ICJudW1iZXIiICkgewoJCQkJCQkJCQljb21wbGV0ZSggMCwgImVycm9yIiApOwoJCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJCWNvbXBsZXRlKAoKCQkJCQkJCQkJCS8vIEZpbGU6IHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIDA7IHNlZSAjODYwNSwgIzE0MjA3CgkJCQkJCQkJCQl4aHIuc3RhdHVzLAoJCQkJCQkJCQkJeGhyLnN0YXR1c1RleHQKCQkJCQkJCQkJKTsKCQkJCQkJCQl9CgkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCWNvbXBsZXRlKAoJCQkJCQkJCQl4aHJTdWNjZXNzU3RhdHVzWyB4aHIuc3RhdHVzIF0gfHwgeGhyLnN0YXR1cywKCQkJCQkJCQkJeGhyLnN0YXR1c1RleHQsCgoJCQkJCQkJCQkvLyBTdXBwb3J0OiBJRSA8PTkgb25seQoJCQkJCQkJCQkvLyBJRTkgaGFzIG5vIFhIUjIgYnV0IHRocm93cyBvbiBiaW5hcnkgKHRyYWMtMTE0MjYpCgkJCQkJCQkJCS8vIEZvciBYSFIyIG5vbi10ZXh0LCBsZXQgdGhlIGNhbGxlciBoYW5kbGUgaXQgKGdoLTI0OTgpCgkJCQkJCQkJCSggeGhyLnJlc3BvbnNlVHlwZSB8fCAidGV4dCIgKSAhPT0gInRleHQiICB8fAoJCQkJCQkJCQl0eXBlb2YgeGhyLnJlc3BvbnNlVGV4dCAhPT0gInN0cmluZyIgPwoJCQkJCQkJCQkJeyBiaW5hcnk6IHhoci5yZXNwb25zZSB9IDoKCQkJCQkJCQkJCXsgdGV4dDogeGhyLnJlc3BvbnNlVGV4dCB9LAoJCQkJCQkJCQl4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkKCQkJCQkJCQkpOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfTsKCQkJCX07CgoJCQkJLy8gTGlzdGVuIHRvIGV2ZW50cwoJCQkJeGhyLm9ubG9hZCA9IGNhbGxiYWNrKCk7CgkJCQllcnJvckNhbGxiYWNrID0geGhyLm9uZXJyb3IgPSB4aHIub250aW1lb3V0ID0gY2FsbGJhY2soICJlcnJvciIgKTsKCgkJCQkvLyBTdXBwb3J0OiBJRSA5IG9ubHkKCQkJCS8vIFVzZSBvbnJlYWR5c3RhdGVjaGFuZ2UgdG8gcmVwbGFjZSBvbmFib3J0CgkJCQkvLyB0byBoYW5kbGUgdW5jYXVnaHQgYWJvcnRzCgkJCQlpZiAoIHhoci5vbmFib3J0ICE9PSB1bmRlZmluZWQgKSB7CgkJCQkJeGhyLm9uYWJvcnQgPSBlcnJvckNhbGxiYWNrOwoJCQkJfSBlbHNlIHsKCQkJCQl4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CgoJCQkJCQkvLyBDaGVjayByZWFkeVN0YXRlIGJlZm9yZSB0aW1lb3V0IGFzIGl0IGNoYW5nZXMKCQkJCQkJaWYgKCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApIHsKCgkJCQkJCQkvLyBBbGxvdyBvbmVycm9yIHRvIGJlIGNhbGxlZCBmaXJzdCwKCQkJCQkJCS8vIGJ1dCB0aGF0IHdpbGwgbm90IGhhbmRsZSBhIG5hdGl2ZSBhYm9ydAoJCQkJCQkJLy8gQWxzbywgc2F2ZSBlcnJvckNhbGxiYWNrIHRvIGEgdmFyaWFibGUKCQkJCQkJCS8vIGFzIHhoci5vbmVycm9yIGNhbm5vdCBiZSBhY2Nlc3NlZAoJCQkJCQkJd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkgewoJCQkJCQkJCWlmICggY2FsbGJhY2sgKSB7CgkJCQkJCQkJCWVycm9yQ2FsbGJhY2soKTsKCQkJCQkJCQl9CgkJCQkJCQl9ICk7CgkJCQkJCX0KCQkJCQl9OwoJCQkJfQoKCQkJCS8vIENyZWF0ZSB0aGUgYWJvcnQgY2FsbGJhY2sKCQkJCWNhbGxiYWNrID0gY2FsbGJhY2soICJhYm9ydCIgKTsKCgkJCQl0cnkgewoKCQkJCQkvLyBEbyBzZW5kIHRoZSByZXF1ZXN0ICh0aGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24pCgkJCQkJeGhyLnNlbmQoIG9wdGlvbnMuaGFzQ29udGVudCAmJiBvcHRpb25zLmRhdGEgfHwgbnVsbCApOwoJCQkJfSBjYXRjaCAoIGUgKSB7CgoJCQkJCS8vICMxNDY4MzogT25seSByZXRocm93IGlmIHRoaXMgaGFzbid0IGJlZW4gbm90aWZpZWQgYXMgYW4gZXJyb3IgeWV0CgkJCQkJaWYgKCBjYWxsYmFjayApIHsKCQkJCQkJdGhyb3cgZTsKCQkJCQl9CgkJCQl9CgkJCX0sCgoJCQlhYm9ydDogZnVuY3Rpb24oKSB7CgkJCQlpZiAoIGNhbGxiYWNrICkgewoJCQkJCWNhbGxiYWNrKCk7CgkJCQl9CgkJCX0KCQl9OwoJfQp9ICk7CgoKCgovLyBQcmV2ZW50IGF1dG8tZXhlY3V0aW9uIG9mIHNjcmlwdHMgd2hlbiBubyBleHBsaWNpdCBkYXRhVHlwZSB3YXMgcHJvdmlkZWQgKFNlZSBnaC0yNDMyKQpqUXVlcnkuYWpheFByZWZpbHRlciggZnVuY3Rpb24oIHMgKSB7CglpZiAoIHMuY3Jvc3NEb21haW4gKSB7CgkJcy5jb250ZW50cy5zY3JpcHQgPSBmYWxzZTsKCX0KfSApOwoKLy8gSW5zdGFsbCBzY3JpcHQgZGF0YVR5cGUKalF1ZXJ5LmFqYXhTZXR1cCggewoJYWNjZXB0czogewoJCXNjcmlwdDogInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgIiArCgkJCSJhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQiCgl9LAoJY29udGVudHM6IHsKCQlzY3JpcHQ6IC9cYig/OmphdmF8ZWNtYSlzY3JpcHRcYi8KCX0sCgljb252ZXJ0ZXJzOiB7CgkJInRleHQgc2NyaXB0IjogZnVuY3Rpb24oIHRleHQgKSB7CgkJCWpRdWVyeS5nbG9iYWxFdmFsKCB0ZXh0ICk7CgkJCXJldHVybiB0ZXh0OwoJCX0KCX0KfSApOwoKLy8gSGFuZGxlIGNhY2hlJ3Mgc3BlY2lhbCBjYXNlIGFuZCBjcm9zc0RvbWFpbgpqUXVlcnkuYWpheFByZWZpbHRlciggInNjcmlwdCIsIGZ1bmN0aW9uKCBzICkgewoJaWYgKCBzLmNhY2hlID09PSB1bmRlZmluZWQgKSB7CgkJcy5jYWNoZSA9IGZhbHNlOwoJfQoJaWYgKCBzLmNyb3NzRG9tYWluICkgewoJCXMudHlwZSA9ICJHRVQiOwoJfQp9ICk7CgovLyBCaW5kIHNjcmlwdCB0YWcgaGFjayB0cmFuc3BvcnQKalF1ZXJ5LmFqYXhUcmFuc3BvcnQoICJzY3JpcHQiLCBmdW5jdGlvbiggcyApIHsKCgkvLyBUaGlzIHRyYW5zcG9ydCBvbmx5IGRlYWxzIHdpdGggY3Jvc3MgZG9tYWluIG9yIGZvcmNlZC1ieS1hdHRycyByZXF1ZXN0cwoJaWYgKCBzLmNyb3NzRG9tYWluIHx8IHMuc2NyaXB0QXR0cnMgKSB7CgkJdmFyIHNjcmlwdCwgY2FsbGJhY2s7CgkJcmV0dXJuIHsKCQkJc2VuZDogZnVuY3Rpb24oIF8sIGNvbXBsZXRlICkgewoJCQkJc2NyaXB0ID0galF1ZXJ5KCAiPHNjcmlwdD4iICkKCQkJCQkuYXR0ciggcy5zY3JpcHRBdHRycyB8fCB7fSApCgkJCQkJLnByb3AoIHsgY2hhcnNldDogcy5zY3JpcHRDaGFyc2V0LCBzcmM6IHMudXJsIH0gKQoJCQkJCS5vbiggImxvYWQgZXJyb3IiLCBjYWxsYmFjayA9IGZ1bmN0aW9uKCBldnQgKSB7CgkJCQkJCXNjcmlwdC5yZW1vdmUoKTsKCQkJCQkJY2FsbGJhY2sgPSBudWxsOwoJCQkJCQlpZiAoIGV2dCApIHsKCQkJCQkJCWNvbXBsZXRlKCBldnQudHlwZSA9PT0gImVycm9yIiA/IDQwNCA6IDIwMCwgZXZ0LnR5cGUgKTsKCQkJCQkJfQoJCQkJCX0gKTsKCgkJCQkvLyBVc2UgbmF0aXZlIERPTSBtYW5pcHVsYXRpb24gdG8gYXZvaWQgb3VyIGRvbU1hbmlwIEFKQVggdHJpY2tlcnkKCQkJCWRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdFsgMCBdICk7CgkJCX0sCgkJCWFib3J0OiBmdW5jdGlvbigpIHsKCQkJCWlmICggY2FsbGJhY2sgKSB7CgkJCQkJY2FsbGJhY2soKTsKCQkJCX0KCQkJfQoJCX07Cgl9Cn0gKTsKCgoKCnZhciBvbGRDYWxsYmFja3MgPSBbXSwKCXJqc29ucCA9IC8oPSlcPyg/PSZ8JCl8XD9cPy87CgovLyBEZWZhdWx0IGpzb25wIHNldHRpbmdzCmpRdWVyeS5hamF4U2V0dXAoIHsKCWpzb25wOiAiY2FsbGJhY2siLAoJanNvbnBDYWxsYmFjazogZnVuY3Rpb24oKSB7CgkJdmFyIGNhbGxiYWNrID0gb2xkQ2FsbGJhY2tzLnBvcCgpIHx8ICggalF1ZXJ5LmV4cGFuZG8gKyAiXyIgKyAoIG5vbmNlLmd1aWQrKyApICk7CgkJdGhpc1sgY2FsbGJhY2sgXSA9IHRydWU7CgkJcmV0dXJuIGNhbGxiYWNrOwoJfQp9ICk7CgovLyBEZXRlY3QsIG5vcm1hbGl6ZSBvcHRpb25zIGFuZCBpbnN0YWxsIGNhbGxiYWNrcyBmb3IganNvbnAgcmVxdWVzdHMKalF1ZXJ5LmFqYXhQcmVmaWx0ZXIoICJqc29uIGpzb25wIiwgZnVuY3Rpb24oIHMsIG9yaWdpbmFsU2V0dGluZ3MsIGpxWEhSICkgewoKCXZhciBjYWxsYmFja05hbWUsIG92ZXJ3cml0dGVuLCByZXNwb25zZUNvbnRhaW5lciwKCQlqc29uUHJvcCA9IHMuanNvbnAgIT09IGZhbHNlICYmICggcmpzb25wLnRlc3QoIHMudXJsICkgPwoJCQkidXJsIiA6CgkJCXR5cGVvZiBzLmRhdGEgPT09ICJzdHJpbmciICYmCgkJCQkoIHMuY29udGVudFR5cGUgfHwgIiIgKQoJCQkJCS5pbmRleE9mKCAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiApID09PSAwICYmCgkJCQlyanNvbnAudGVzdCggcy5kYXRhICkgJiYgImRhdGEiCgkJKTsKCgkvLyBIYW5kbGUgaWZmIHRoZSBleHBlY3RlZCBkYXRhIHR5cGUgaXMgImpzb25wIiBvciB3ZSBoYXZlIGEgcGFyYW1ldGVyIHRvIHNldAoJaWYgKCBqc29uUHJvcCB8fCBzLmRhdGFUeXBlc1sgMCBdID09PSAianNvbnAiICkgewoKCQkvLyBHZXQgY2FsbGJhY2sgbmFtZSwgcmVtZW1iZXJpbmcgcHJlZXhpc3RpbmcgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGl0CgkJY2FsbGJhY2tOYW1lID0gcy5qc29ucENhbGxiYWNrID0gaXNGdW5jdGlvbiggcy5qc29ucENhbGxiYWNrICkgPwoJCQlzLmpzb25wQ2FsbGJhY2soKSA6CgkJCXMuanNvbnBDYWxsYmFjazsKCgkJLy8gSW5zZXJ0IGNhbGxiYWNrIGludG8gdXJsIG9yIGZvcm0gZGF0YQoJCWlmICgganNvblByb3AgKSB7CgkJCXNbIGpzb25Qcm9wIF0gPSBzWyBqc29uUHJvcCBdLnJlcGxhY2UoIHJqc29ucCwgIiQxIiArIGNhbGxiYWNrTmFtZSApOwoJCX0gZWxzZSBpZiAoIHMuanNvbnAgIT09IGZhbHNlICkgewoJCQlzLnVybCArPSAoIHJxdWVyeS50ZXN0KCBzLnVybCApID8gIiYiIDogIj8iICkgKyBzLmpzb25wICsgIj0iICsgY2FsbGJhY2tOYW1lOwoJCX0KCgkJLy8gVXNlIGRhdGEgY29udmVydGVyIHRvIHJldHJpZXZlIGpzb24gYWZ0ZXIgc2NyaXB0IGV4ZWN1dGlvbgoJCXMuY29udmVydGVyc1sgInNjcmlwdCBqc29uIiBdID0gZnVuY3Rpb24oKSB7CgkJCWlmICggIXJlc3BvbnNlQ29udGFpbmVyICkgewoJCQkJalF1ZXJ5LmVycm9yKCBjYWxsYmFja05hbWUgKyAiIHdhcyBub3QgY2FsbGVkIiApOwoJCQl9CgkJCXJldHVybiByZXNwb25zZUNvbnRhaW5lclsgMCBdOwoJCX07CgoJCS8vIEZvcmNlIGpzb24gZGF0YVR5cGUKCQlzLmRhdGFUeXBlc1sgMCBdID0gImpzb24iOwoKCQkvLyBJbnN0YWxsIGNhbGxiYWNrCgkJb3ZlcndyaXR0ZW4gPSB3aW5kb3dbIGNhbGxiYWNrTmFtZSBdOwoJCXdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBmdW5jdGlvbigpIHsKCQkJcmVzcG9uc2VDb250YWluZXIgPSBhcmd1bWVudHM7CgkJfTsKCgkJLy8gQ2xlYW4tdXAgZnVuY3Rpb24gKGZpcmVzIGFmdGVyIGNvbnZlcnRlcnMpCgkJanFYSFIuYWx3YXlzKCBmdW5jdGlvbigpIHsKCgkJCS8vIElmIHByZXZpb3VzIHZhbHVlIGRpZG4ndCBleGlzdCAtIHJlbW92ZSBpdAoJCQlpZiAoIG92ZXJ3cml0dGVuID09PSB1bmRlZmluZWQgKSB7CgkJCQlqUXVlcnkoIHdpbmRvdyApLnJlbW92ZVByb3AoIGNhbGxiYWNrTmFtZSApOwoKCQkJLy8gT3RoZXJ3aXNlIHJlc3RvcmUgcHJlZXhpc3RpbmcgdmFsdWUKCQkJfSBlbHNlIHsKCQkJCXdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBvdmVyd3JpdHRlbjsKCQkJfQoKCQkJLy8gU2F2ZSBiYWNrIGFzIGZyZWUKCQkJaWYgKCBzWyBjYWxsYmFja05hbWUgXSApIHsKCgkJCQkvLyBNYWtlIHN1cmUgdGhhdCByZS11c2luZyB0aGUgb3B0aW9ucyBkb2Vzbid0IHNjcmV3IHRoaW5ncyBhcm91bmQKCQkJCXMuanNvbnBDYWxsYmFjayA9IG9yaWdpbmFsU2V0dGluZ3MuanNvbnBDYWxsYmFjazsKCgkJCQkvLyBTYXZlIHRoZSBjYWxsYmFjayBuYW1lIGZvciBmdXR1cmUgdXNlCgkJCQlvbGRDYWxsYmFja3MucHVzaCggY2FsbGJhY2tOYW1lICk7CgkJCX0KCgkJCS8vIENhbGwgaWYgaXQgd2FzIGEgZnVuY3Rpb24gYW5kIHdlIGhhdmUgYSByZXNwb25zZQoJCQlpZiAoIHJlc3BvbnNlQ29udGFpbmVyICYmIGlzRnVuY3Rpb24oIG92ZXJ3cml0dGVuICkgKSB7CgkJCQlvdmVyd3JpdHRlbiggcmVzcG9uc2VDb250YWluZXJbIDAgXSApOwoJCQl9CgoJCQlyZXNwb25zZUNvbnRhaW5lciA9IG92ZXJ3cml0dGVuID0gdW5kZWZpbmVkOwoJCX0gKTsKCgkJLy8gRGVsZWdhdGUgdG8gc2NyaXB0CgkJcmV0dXJuICJzY3JpcHQiOwoJfQp9ICk7CgoKCgovLyBTdXBwb3J0OiBTYWZhcmkgOCBvbmx5Ci8vIEluIFNhZmFyaSA4IGRvY3VtZW50cyBjcmVhdGVkIHZpYSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQKLy8gY29sbGFwc2Ugc2libGluZyBmb3JtczogdGhlIHNlY29uZCBvbmUgYmVjb21lcyBhIGNoaWxkIG9mIHRoZSBmaXJzdCBvbmUuCi8vIEJlY2F1c2Ugb2YgdGhhdCwgdGhpcyBzZWN1cml0eSBtZWFzdXJlIGhhcyB0byBiZSBkaXNhYmxlZCBpbiBTYWZhcmkgOC4KLy8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNzMzNwpzdXBwb3J0LmNyZWF0ZUhUTUxEb2N1bWVudCA9ICggZnVuY3Rpb24oKSB7Cgl2YXIgYm9keSA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggIiIgKS5ib2R5OwoJYm9keS5pbm5lckhUTUwgPSAiPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iOwoJcmV0dXJuIGJvZHkuY2hpbGROb2Rlcy5sZW5ndGggPT09IDI7Cn0gKSgpOwoKCi8vIEFyZ3VtZW50ICJkYXRhIiBzaG91bGQgYmUgc3RyaW5nIG9mIGh0bWwKLy8gY29udGV4dCAob3B0aW9uYWwpOiBJZiBzcGVjaWZpZWQsIHRoZSBmcmFnbWVudCB3aWxsIGJlIGNyZWF0ZWQgaW4gdGhpcyBjb250ZXh0LAovLyBkZWZhdWx0cyB0byBkb2N1bWVudAovLyBrZWVwU2NyaXB0cyAob3B0aW9uYWwpOiBJZiB0cnVlLCB3aWxsIGluY2x1ZGUgc2NyaXB0cyBwYXNzZWQgaW4gdGhlIGh0bWwgc3RyaW5nCmpRdWVyeS5wYXJzZUhUTUwgPSBmdW5jdGlvbiggZGF0YSwgY29udGV4dCwga2VlcFNjcmlwdHMgKSB7CglpZiAoIHR5cGVvZiBkYXRhICE9PSAic3RyaW5nIiApIHsKCQlyZXR1cm4gW107Cgl9CglpZiAoIHR5cGVvZiBjb250ZXh0ID09PSAiYm9vbGVhbiIgKSB7CgkJa2VlcFNjcmlwdHMgPSBjb250ZXh0OwoJCWNvbnRleHQgPSBmYWxzZTsKCX0KCgl2YXIgYmFzZSwgcGFyc2VkLCBzY3JpcHRzOwoKCWlmICggIWNvbnRleHQgKSB7CgoJCS8vIFN0b3Agc2NyaXB0cyBvciBpbmxpbmUgZXZlbnQgaGFuZGxlcnMgZnJvbSBiZWluZyBleGVjdXRlZCBpbW1lZGlhdGVseQoJCS8vIGJ5IHVzaW5nIGRvY3VtZW50LmltcGxlbWVudGF0aW9uCgkJaWYgKCBzdXBwb3J0LmNyZWF0ZUhUTUxEb2N1bWVudCApIHsKCQkJY29udGV4dCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggIiIgKTsKCgkJCS8vIFNldCB0aGUgYmFzZSBocmVmIGZvciB0aGUgY3JlYXRlZCBkb2N1bWVudAoJCQkvLyBzbyBhbnkgcGFyc2VkIGVsZW1lbnRzIHdpdGggVVJMcwoJCQkvLyBhcmUgYmFzZWQgb24gdGhlIGRvY3VtZW50J3MgVVJMIChnaC0yOTY1KQoJCQliYXNlID0gY29udGV4dC5jcmVhdGVFbGVtZW50KCAiYmFzZSIgKTsKCQkJYmFzZS5ocmVmID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZjsKCQkJY29udGV4dC5oZWFkLmFwcGVuZENoaWxkKCBiYXNlICk7CgkJfSBlbHNlIHsKCQkJY29udGV4dCA9IGRvY3VtZW50OwoJCX0KCX0KCglwYXJzZWQgPSByc2luZ2xlVGFnLmV4ZWMoIGRhdGEgKTsKCXNjcmlwdHMgPSAha2VlcFNjcmlwdHMgJiYgW107CgoJLy8gU2luZ2xlIHRhZwoJaWYgKCBwYXJzZWQgKSB7CgkJcmV0dXJuIFsgY29udGV4dC5jcmVhdGVFbGVtZW50KCBwYXJzZWRbIDEgXSApIF07Cgl9CgoJcGFyc2VkID0gYnVpbGRGcmFnbWVudCggWyBkYXRhIF0sIGNvbnRleHQsIHNjcmlwdHMgKTsKCglpZiAoIHNjcmlwdHMgJiYgc2NyaXB0cy5sZW5ndGggKSB7CgkJalF1ZXJ5KCBzY3JpcHRzICkucmVtb3ZlKCk7Cgl9CgoJcmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIHBhcnNlZC5jaGlsZE5vZGVzICk7Cn07CgoKLyoqCiAqIExvYWQgYSB1cmwgaW50byBhIHBhZ2UKICovCmpRdWVyeS5mbi5sb2FkID0gZnVuY3Rpb24oIHVybCwgcGFyYW1zLCBjYWxsYmFjayApIHsKCXZhciBzZWxlY3RvciwgdHlwZSwgcmVzcG9uc2UsCgkJc2VsZiA9IHRoaXMsCgkJb2ZmID0gdXJsLmluZGV4T2YoICIgIiApOwoKCWlmICggb2ZmID4gLTEgKSB7CgkJc2VsZWN0b3IgPSBzdHJpcEFuZENvbGxhcHNlKCB1cmwuc2xpY2UoIG9mZiApICk7CgkJdXJsID0gdXJsLnNsaWNlKCAwLCBvZmYgKTsKCX0KCgkvLyBJZiBpdCdzIGEgZnVuY3Rpb24KCWlmICggaXNGdW5jdGlvbiggcGFyYW1zICkgKSB7CgoJCS8vIFdlIGFzc3VtZSB0aGF0IGl0J3MgdGhlIGNhbGxiYWNrCgkJY2FsbGJhY2sgPSBwYXJhbXM7CgkJcGFyYW1zID0gdW5kZWZpbmVkOwoKCS8vIE90aGVyd2lzZSwgYnVpbGQgYSBwYXJhbSBzdHJpbmcKCX0gZWxzZSBpZiAoIHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zID09PSAib2JqZWN0IiApIHsKCQl0eXBlID0gIlBPU1QiOwoJfQoKCS8vIElmIHdlIGhhdmUgZWxlbWVudHMgdG8gbW9kaWZ5LCBtYWtlIHRoZSByZXF1ZXN0CglpZiAoIHNlbGYubGVuZ3RoID4gMCApIHsKCQlqUXVlcnkuYWpheCggewoJCQl1cmw6IHVybCwKCgkJCS8vIElmICJ0eXBlIiB2YXJpYWJsZSBpcyB1bmRlZmluZWQsIHRoZW4gIkdFVCIgbWV0aG9kIHdpbGwgYmUgdXNlZC4KCQkJLy8gTWFrZSB2YWx1ZSBvZiB0aGlzIGZpZWxkIGV4cGxpY2l0IHNpbmNlCgkJCS8vIHVzZXIgY2FuIG92ZXJyaWRlIGl0IHRocm91Z2ggYWpheFNldHVwIG1ldGhvZAoJCQl0eXBlOiB0eXBlIHx8ICJHRVQiLAoJCQlkYXRhVHlwZTogImh0bWwiLAoJCQlkYXRhOiBwYXJhbXMKCQl9ICkuZG9uZSggZnVuY3Rpb24oIHJlc3BvbnNlVGV4dCApIHsKCgkJCS8vIFNhdmUgcmVzcG9uc2UgZm9yIHVzZSBpbiBjb21wbGV0ZSBjYWxsYmFjawoJCQlyZXNwb25zZSA9IGFyZ3VtZW50czsKCgkJCXNlbGYuaHRtbCggc2VsZWN0b3IgPwoKCQkJCS8vIElmIGEgc2VsZWN0b3Igd2FzIHNwZWNpZmllZCwgbG9jYXRlIHRoZSByaWdodCBlbGVtZW50cyBpbiBhIGR1bW15IGRpdgoJCQkJLy8gRXhjbHVkZSBzY3JpcHRzIHRvIGF2b2lkIElFICdQZXJtaXNzaW9uIERlbmllZCcgZXJyb3JzCgkJCQlqUXVlcnkoICI8ZGl2PiIgKS5hcHBlbmQoIGpRdWVyeS5wYXJzZUhUTUwoIHJlc3BvbnNlVGV4dCApICkuZmluZCggc2VsZWN0b3IgKSA6CgoJCQkJLy8gT3RoZXJ3aXNlIHVzZSB0aGUgZnVsbCByZXN1bHQKCQkJCXJlc3BvbnNlVGV4dCApOwoKCQkvLyBJZiB0aGUgcmVxdWVzdCBzdWNjZWVkcywgdGhpcyBmdW5jdGlvbiBnZXRzICJkYXRhIiwgInN0YXR1cyIsICJqcVhIUiIKCQkvLyBidXQgdGhleSBhcmUgaWdub3JlZCBiZWNhdXNlIHJlc3BvbnNlIHdhcyBzZXQgYWJvdmUuCgkJLy8gSWYgaXQgZmFpbHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyAianFYSFIiLCAic3RhdHVzIiwgImVycm9yIgoJCX0gKS5hbHdheXMoIGNhbGxiYWNrICYmIGZ1bmN0aW9uKCBqcVhIUiwgc3RhdHVzICkgewoJCQlzZWxmLmVhY2goIGZ1bmN0aW9uKCkgewoJCQkJY2FsbGJhY2suYXBwbHkoIHRoaXMsIHJlc3BvbnNlIHx8IFsganFYSFIucmVzcG9uc2VUZXh0LCBzdGF0dXMsIGpxWEhSIF0gKTsKCQkJfSApOwoJCX0gKTsKCX0KCglyZXR1cm4gdGhpczsKfTsKCgoKCmpRdWVyeS5leHByLnBzZXVkb3MuYW5pbWF0ZWQgPSBmdW5jdGlvbiggZWxlbSApIHsKCXJldHVybiBqUXVlcnkuZ3JlcCggalF1ZXJ5LnRpbWVycywgZnVuY3Rpb24oIGZuICkgewoJCXJldHVybiBlbGVtID09PSBmbi5lbGVtOwoJfSApLmxlbmd0aDsKfTsKCgoKCmpRdWVyeS5vZmZzZXQgPSB7CglzZXRPZmZzZXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBpICkgewoJCXZhciBjdXJQb3NpdGlvbiwgY3VyTGVmdCwgY3VyQ1NTVG9wLCBjdXJUb3AsIGN1ck9mZnNldCwgY3VyQ1NTTGVmdCwgY2FsY3VsYXRlUG9zaXRpb24sCgkJCXBvc2l0aW9uID0galF1ZXJ5LmNzcyggZWxlbSwgInBvc2l0aW9uIiApLAoJCQljdXJFbGVtID0galF1ZXJ5KCBlbGVtICksCgkJCXByb3BzID0ge307CgoJCS8vIFNldCBwb3NpdGlvbiBmaXJzdCwgaW4tY2FzZSB0b3AvbGVmdCBhcmUgc2V0IGV2ZW4gb24gc3RhdGljIGVsZW0KCQlpZiAoIHBvc2l0aW9uID09PSAic3RhdGljIiApIHsKCQkJZWxlbS5zdHlsZS5wb3NpdGlvbiA9ICJyZWxhdGl2ZSI7CgkJfQoKCQljdXJPZmZzZXQgPSBjdXJFbGVtLm9mZnNldCgpOwoJCWN1ckNTU1RvcCA9IGpRdWVyeS5jc3MoIGVsZW0sICJ0b3AiICk7CgkJY3VyQ1NTTGVmdCA9IGpRdWVyeS5jc3MoIGVsZW0sICJsZWZ0IiApOwoJCWNhbGN1bGF0ZVBvc2l0aW9uID0gKCBwb3NpdGlvbiA9PT0gImFic29sdXRlIiB8fCBwb3NpdGlvbiA9PT0gImZpeGVkIiApICYmCgkJCSggY3VyQ1NTVG9wICsgY3VyQ1NTTGVmdCApLmluZGV4T2YoICJhdXRvIiApID4gLTE7CgoJCS8vIE5lZWQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGUgcG9zaXRpb24gaWYgZWl0aGVyCgkJLy8gdG9wIG9yIGxlZnQgaXMgYXV0byBhbmQgcG9zaXRpb24gaXMgZWl0aGVyIGFic29sdXRlIG9yIGZpeGVkCgkJaWYgKCBjYWxjdWxhdGVQb3NpdGlvbiApIHsKCQkJY3VyUG9zaXRpb24gPSBjdXJFbGVtLnBvc2l0aW9uKCk7CgkJCWN1clRvcCA9IGN1clBvc2l0aW9uLnRvcDsKCQkJY3VyTGVmdCA9IGN1clBvc2l0aW9uLmxlZnQ7CgoJCX0gZWxzZSB7CgkJCWN1clRvcCA9IHBhcnNlRmxvYXQoIGN1ckNTU1RvcCApIHx8IDA7CgkJCWN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDsKCQl9CgoJCWlmICggaXNGdW5jdGlvbiggb3B0aW9ucyApICkgewoKCQkJLy8gVXNlIGpRdWVyeS5leHRlbmQgaGVyZSB0byBhbGxvdyBtb2RpZmljYXRpb24gb2YgY29vcmRpbmF0ZXMgYXJndW1lbnQgKGdoLTE4NDgpCgkJCW9wdGlvbnMgPSBvcHRpb25zLmNhbGwoIGVsZW0sIGksIGpRdWVyeS5leHRlbmQoIHt9LCBjdXJPZmZzZXQgKSApOwoJCX0KCgkJaWYgKCBvcHRpb25zLnRvcCAhPSBudWxsICkgewoJCQlwcm9wcy50b3AgPSAoIG9wdGlvbnMudG9wIC0gY3VyT2Zmc2V0LnRvcCApICsgY3VyVG9wOwoJCX0KCQlpZiAoIG9wdGlvbnMubGVmdCAhPSBudWxsICkgewoJCQlwcm9wcy5sZWZ0ID0gKCBvcHRpb25zLmxlZnQgLSBjdXJPZmZzZXQubGVmdCApICsgY3VyTGVmdDsKCQl9CgoJCWlmICggInVzaW5nIiBpbiBvcHRpb25zICkgewoJCQlvcHRpb25zLnVzaW5nLmNhbGwoIGVsZW0sIHByb3BzICk7CgoJCX0gZWxzZSB7CgkJCWN1ckVsZW0uY3NzKCBwcm9wcyApOwoJCX0KCX0KfTsKCmpRdWVyeS5mbi5leHRlbmQoIHsKCgkvLyBvZmZzZXQoKSByZWxhdGVzIGFuIGVsZW1lbnQncyBib3JkZXIgYm94IHRvIHRoZSBkb2N1bWVudCBvcmlnaW4KCW9mZnNldDogZnVuY3Rpb24oIG9wdGlvbnMgKSB7CgoJCS8vIFByZXNlcnZlIGNoYWluaW5nIGZvciBzZXR0ZXIKCQlpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7CgkJCXJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgPwoJCQkJdGhpcyA6CgkJCQl0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkgewoJCQkJCWpRdWVyeS5vZmZzZXQuc2V0T2Zmc2V0KCB0aGlzLCBvcHRpb25zLCBpICk7CgkJCQl9ICk7CgkJfQoKCQl2YXIgcmVjdCwgd2luLAoJCQllbGVtID0gdGhpc1sgMCBdOwoKCQlpZiAoICFlbGVtICkgewoJCQlyZXR1cm47CgkJfQoKCQkvLyBSZXR1cm4gemVyb3MgZm9yIGRpc2Nvbm5lY3RlZCBhbmQgaGlkZGVuIChkaXNwbGF5OiBub25lKSBlbGVtZW50cyAoZ2gtMjMxMCkKCQkvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHkKCQkvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhCgkJLy8gZGlzY29ubmVjdGVkIG5vZGUgaW4gSUUgdGhyb3dzIGFuIGVycm9yCgkJaWYgKCAhZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApIHsKCQkJcmV0dXJuIHsgdG9wOiAwLCBsZWZ0OiAwIH07CgkJfQoKCQkvLyBHZXQgZG9jdW1lbnQtcmVsYXRpdmUgcG9zaXRpb24gYnkgYWRkaW5nIHZpZXdwb3J0IHNjcm9sbCB0byB2aWV3cG9ydC1yZWxhdGl2ZSBnQkNSCgkJcmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgkJd2luID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3OwoJCXJldHVybiB7CgkJCXRvcDogcmVjdC50b3AgKyB3aW4ucGFnZVlPZmZzZXQsCgkJCWxlZnQ6IHJlY3QubGVmdCArIHdpbi5wYWdlWE9mZnNldAoJCX07Cgl9LAoKCS8vIHBvc2l0aW9uKCkgcmVsYXRlcyBhbiBlbGVtZW50J3MgbWFyZ2luIGJveCB0byBpdHMgb2Zmc2V0IHBhcmVudCdzIHBhZGRpbmcgYm94CgkvLyBUaGlzIGNvcnJlc3BvbmRzIHRvIHRoZSBiZWhhdmlvciBvZiBDU1MgYWJzb2x1dGUgcG9zaXRpb25pbmcKCXBvc2l0aW9uOiBmdW5jdGlvbigpIHsKCQlpZiAoICF0aGlzWyAwIF0gKSB7CgkJCXJldHVybjsKCQl9CgoJCXZhciBvZmZzZXRQYXJlbnQsIG9mZnNldCwgZG9jLAoJCQllbGVtID0gdGhpc1sgMCBdLAoJCQlwYXJlbnRPZmZzZXQgPSB7IHRvcDogMCwgbGVmdDogMCB9OwoKCQkvLyBwb3NpdGlvbjpmaXhlZCBlbGVtZW50cyBhcmUgb2Zmc2V0IGZyb20gdGhlIHZpZXdwb3J0LCB3aGljaCBpdHNlbGYgYWx3YXlzIGhhcyB6ZXJvIG9mZnNldAoJCWlmICggalF1ZXJ5LmNzcyggZWxlbSwgInBvc2l0aW9uIiApID09PSAiZml4ZWQiICkgewoKCQkJLy8gQXNzdW1lIHBvc2l0aW9uOmZpeGVkIGltcGxpZXMgYXZhaWxhYmlsaXR5IG9mIGdldEJvdW5kaW5nQ2xpZW50UmVjdAoJCQlvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKCQl9IGVsc2UgewoJCQlvZmZzZXQgPSB0aGlzLm9mZnNldCgpOwoKCQkJLy8gQWNjb3VudCBmb3IgdGhlICpyZWFsKiBvZmZzZXQgcGFyZW50LCB3aGljaCBjYW4gYmUgdGhlIGRvY3VtZW50IG9yIGl0cyByb290IGVsZW1lbnQKCQkJLy8gd2hlbiBhIHN0YXRpY2FsbHkgcG9zaXRpb25lZCBlbGVtZW50IGlzIGlkZW50aWZpZWQKCQkJZG9jID0gZWxlbS5vd25lckRvY3VtZW50OwoJCQlvZmZzZXRQYXJlbnQgPSBlbGVtLm9mZnNldFBhcmVudCB8fCBkb2MuZG9jdW1lbnRFbGVtZW50OwoJCQl3aGlsZSAoIG9mZnNldFBhcmVudCAmJgoJCQkJKCBvZmZzZXRQYXJlbnQgPT09IGRvYy5ib2R5IHx8IG9mZnNldFBhcmVudCA9PT0gZG9jLmRvY3VtZW50RWxlbWVudCApICYmCgkJCQlqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsICJwb3NpdGlvbiIgKSA9PT0gInN0YXRpYyIgKSB7CgoJCQkJb2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50LnBhcmVudE5vZGU7CgkJCX0KCQkJaWYgKCBvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0UGFyZW50ICE9PSBlbGVtICYmIG9mZnNldFBhcmVudC5ub2RlVHlwZSA9PT0gMSApIHsKCgkJCQkvLyBJbmNvcnBvcmF0ZSBib3JkZXJzIGludG8gaXRzIG9mZnNldCwgc2luY2UgdGhleSBhcmUgb3V0c2lkZSBpdHMgY29udGVudCBvcmlnaW4KCQkJCXBhcmVudE9mZnNldCA9IGpRdWVyeSggb2Zmc2V0UGFyZW50ICkub2Zmc2V0KCk7CgkJCQlwYXJlbnRPZmZzZXQudG9wICs9IGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgImJvcmRlclRvcFdpZHRoIiwgdHJ1ZSApOwoJCQkJcGFyZW50T2Zmc2V0LmxlZnQgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCAiYm9yZGVyTGVmdFdpZHRoIiwgdHJ1ZSApOwoJCQl9CgkJfQoKCQkvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zCgkJcmV0dXJuIHsKCQkJdG9wOiBvZmZzZXQudG9wIC0gcGFyZW50T2Zmc2V0LnRvcCAtIGpRdWVyeS5jc3MoIGVsZW0sICJtYXJnaW5Ub3AiLCB0cnVlICksCgkJCWxlZnQ6IG9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnQgLSBqUXVlcnkuY3NzKCBlbGVtLCAibWFyZ2luTGVmdCIsIHRydWUgKQoJCX07Cgl9LAoKCS8vIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIGRvY3VtZW50RWxlbWVudCBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOgoJLy8gMSkgRm9yIHRoZSBlbGVtZW50IGluc2lkZSB0aGUgaWZyYW1lIHdpdGhvdXQgb2Zmc2V0UGFyZW50LCB0aGlzIG1ldGhvZCB3aWxsIHJldHVybgoJLy8gICAgZG9jdW1lbnRFbGVtZW50IG9mIHRoZSBwYXJlbnQgd2luZG93CgkvLyAyKSBGb3IgdGhlIGhpZGRlbiBvciBkZXRhY2hlZCBlbGVtZW50CgkvLyAzKSBGb3IgYm9keSBvciBodG1sIGVsZW1lbnQsIGkuZS4gaW4gY2FzZSBvZiB0aGUgaHRtbCBub2RlIC0gaXQgd2lsbCByZXR1cm4gaXRzZWxmCgkvLwoJLy8gYnV0IHRob3NlIGV4Y2VwdGlvbnMgd2VyZSBuZXZlciBwcmVzZW50ZWQgYXMgYSByZWFsIGxpZmUgdXNlLWNhc2VzCgkvLyBhbmQgbWlnaHQgYmUgY29uc2lkZXJlZCBhcyBtb3JlIHByZWZlcmFibGUgcmVzdWx0cy4KCS8vCgkvLyBUaGlzIGxvZ2ljLCBob3dldmVyLCBpcyBub3QgZ3VhcmFudGVlZCBhbmQgY2FuIGNoYW5nZSBhdCBhbnkgcG9pbnQgaW4gdGhlIGZ1dHVyZQoJb2Zmc2V0UGFyZW50OiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkgewoJCQl2YXIgb2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQ7CgoJCQl3aGlsZSAoIG9mZnNldFBhcmVudCAmJiBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsICJwb3NpdGlvbiIgKSA9PT0gInN0YXRpYyIgKSB7CgkJCQlvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50OwoJCQl9CgoJCQlyZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY3VtZW50RWxlbWVudDsKCQl9ICk7Cgl9Cn0gKTsKCi8vIENyZWF0ZSBzY3JvbGxMZWZ0IGFuZCBzY3JvbGxUb3AgbWV0aG9kcwpqUXVlcnkuZWFjaCggeyBzY3JvbGxMZWZ0OiAicGFnZVhPZmZzZXQiLCBzY3JvbGxUb3A6ICJwYWdlWU9mZnNldCIgfSwgZnVuY3Rpb24oIG1ldGhvZCwgcHJvcCApIHsKCXZhciB0b3AgPSAicGFnZVlPZmZzZXQiID09PSBwcm9wOwoKCWpRdWVyeS5mblsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdmFsICkgewoJCXJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBtZXRob2QsIHZhbCApIHsKCgkJCS8vIENvYWxlc2NlIGRvY3VtZW50cyBhbmQgd2luZG93cwoJCQl2YXIgd2luOwoJCQlpZiAoIGlzV2luZG93KCBlbGVtICkgKSB7CgkJCQl3aW4gPSBlbGVtOwoJCQl9IGVsc2UgaWYgKCBlbGVtLm5vZGVUeXBlID09PSA5ICkgewoJCQkJd2luID0gZWxlbS5kZWZhdWx0VmlldzsKCQkJfQoKCQkJaWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHsKCQkJCXJldHVybiB3aW4gPyB3aW5bIHByb3AgXSA6IGVsZW1bIG1ldGhvZCBdOwoJCQl9CgoJCQlpZiAoIHdpbiApIHsKCQkJCXdpbi5zY3JvbGxUbygKCQkJCQkhdG9wID8gdmFsIDogd2luLnBhZ2VYT2Zmc2V0LAoJCQkJCXRvcCA/IHZhbCA6IHdpbi5wYWdlWU9mZnNldAoJCQkJKTsKCgkJCX0gZWxzZSB7CgkJCQllbGVtWyBtZXRob2QgXSA9IHZhbDsKCQkJfQoJCX0sIG1ldGhvZCwgdmFsLCBhcmd1bWVudHMubGVuZ3RoICk7Cgl9Owp9ICk7CgovLyBTdXBwb3J0OiBTYWZhcmkgPD03IC0gOS4xLCBDaHJvbWUgPD0zNyAtIDQ5Ci8vIEFkZCB0aGUgdG9wL2xlZnQgY3NzSG9va3MgdXNpbmcgalF1ZXJ5LmZuLnBvc2l0aW9uCi8vIFdlYmtpdCBidWc6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yOTA4NAovLyBCbGluayBidWc6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTU4OTM0NwovLyBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgcGVyY2VudCB3aGVuIHNwZWNpZmllZCBmb3IgdG9wL2xlZnQvYm90dG9tL3JpZ2h0OwovLyByYXRoZXIgdGhhbiBtYWtlIHRoZSBjc3MgbW9kdWxlIGRlcGVuZCBvbiB0aGUgb2Zmc2V0IG1vZHVsZSwganVzdCBjaGVjayBmb3IgaXQgaGVyZQpqUXVlcnkuZWFjaCggWyAidG9wIiwgImxlZnQiIF0sIGZ1bmN0aW9uKCBfaSwgcHJvcCApIHsKCWpRdWVyeS5jc3NIb29rc1sgcHJvcCBdID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnBpeGVsUG9zaXRpb24sCgkJZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkgewoJCQlpZiAoIGNvbXB1dGVkICkgewoJCQkJY29tcHV0ZWQgPSBjdXJDU1MoIGVsZW0sIHByb3AgKTsKCgkJCQkvLyBJZiBjdXJDU1MgcmV0dXJucyBwZXJjZW50YWdlLCBmYWxsYmFjayB0byBvZmZzZXQKCQkJCXJldHVybiBybnVtbm9ucHgudGVzdCggY29tcHV0ZWQgKSA/CgkJCQkJalF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgInB4IiA6CgkJCQkJY29tcHV0ZWQ7CgkJCX0KCQl9CgkpOwp9ICk7CgoKLy8gQ3JlYXRlIGlubmVySGVpZ2h0LCBpbm5lcldpZHRoLCBoZWlnaHQsIHdpZHRoLCBvdXRlckhlaWdodCBhbmQgb3V0ZXJXaWR0aCBtZXRob2RzCmpRdWVyeS5lYWNoKCB7IEhlaWdodDogImhlaWdodCIsIFdpZHRoOiAid2lkdGgiIH0sIGZ1bmN0aW9uKCBuYW1lLCB0eXBlICkgewoJalF1ZXJ5LmVhY2goIHsKCQlwYWRkaW5nOiAiaW5uZXIiICsgbmFtZSwKCQljb250ZW50OiB0eXBlLAoJCSIiOiAib3V0ZXIiICsgbmFtZQoJfSwgZnVuY3Rpb24oIGRlZmF1bHRFeHRyYSwgZnVuY05hbWUgKSB7CgoJCS8vIE1hcmdpbiBpcyBvbmx5IGZvciBvdXRlckhlaWdodCwgb3V0ZXJXaWR0aAoJCWpRdWVyeS5mblsgZnVuY05hbWUgXSA9IGZ1bmN0aW9uKCBtYXJnaW4sIHZhbHVlICkgewoJCQl2YXIgY2hhaW5hYmxlID0gYXJndW1lbnRzLmxlbmd0aCAmJiAoIGRlZmF1bHRFeHRyYSB8fCB0eXBlb2YgbWFyZ2luICE9PSAiYm9vbGVhbiIgKSwKCQkJCWV4dHJhID0gZGVmYXVsdEV4dHJhIHx8ICggbWFyZ2luID09PSB0cnVlIHx8IHZhbHVlID09PSB0cnVlID8gIm1hcmdpbiIgOiAiYm9yZGVyIiApOwoKCQkJcmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIHR5cGUsIHZhbHVlICkgewoJCQkJdmFyIGRvYzsKCgkJCQlpZiAoIGlzV2luZG93KCBlbGVtICkgKSB7CgoJCQkJCS8vICQoIHdpbmRvdyApLm91dGVyV2lkdGgvSGVpZ2h0IHJldHVybiB3L2ggaW5jbHVkaW5nIHNjcm9sbGJhcnMgKGdoLTE3MjkpCgkJCQkJcmV0dXJuIGZ1bmNOYW1lLmluZGV4T2YoICJvdXRlciIgKSA9PT0gMCA/CgkJCQkJCWVsZW1bICJpbm5lciIgKyBuYW1lIF0gOgoJCQkJCQllbGVtLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsgImNsaWVudCIgKyBuYW1lIF07CgkJCQl9CgoJCQkJLy8gR2V0IGRvY3VtZW50IHdpZHRoIG9yIGhlaWdodAoJCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSA5ICkgewoJCQkJCWRvYyA9IGVsZW0uZG9jdW1lbnRFbGVtZW50OwoKCQkJCQkvLyBFaXRoZXIgc2Nyb2xsW1dpZHRoL0hlaWdodF0gb3Igb2Zmc2V0W1dpZHRoL0hlaWdodF0gb3IgY2xpZW50W1dpZHRoL0hlaWdodF0sCgkJCQkJLy8gd2hpY2hldmVyIGlzIGdyZWF0ZXN0CgkJCQkJcmV0dXJuIE1hdGgubWF4KAoJCQkJCQllbGVtLmJvZHlbICJzY3JvbGwiICsgbmFtZSBdLCBkb2NbICJzY3JvbGwiICsgbmFtZSBdLAoJCQkJCQllbGVtLmJvZHlbICJvZmZzZXQiICsgbmFtZSBdLCBkb2NbICJvZmZzZXQiICsgbmFtZSBdLAoJCQkJCQlkb2NbICJjbGllbnQiICsgbmFtZSBdCgkJCQkJKTsKCQkJCX0KCgkJCQlyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/CgoJCQkJCS8vIEdldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnQsIHJlcXVlc3RpbmcgYnV0IG5vdCBmb3JjaW5nIHBhcnNlRmxvYXQKCQkJCQlqUXVlcnkuY3NzKCBlbGVtLCB0eXBlLCBleHRyYSApIDoKCgkJCQkJLy8gU2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudAoJCQkJCWpRdWVyeS5zdHlsZSggZWxlbSwgdHlwZSwgdmFsdWUsIGV4dHJhICk7CgkJCX0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlICk7CgkJfTsKCX0gKTsKfSApOwoKCmpRdWVyeS5lYWNoKCBbCgkiYWpheFN0YXJ0IiwKCSJhamF4U3RvcCIsCgkiYWpheENvbXBsZXRlIiwKCSJhamF4RXJyb3IiLAoJImFqYXhTdWNjZXNzIiwKCSJhamF4U2VuZCIKXSwgZnVuY3Rpb24oIF9pLCB0eXBlICkgewoJalF1ZXJ5LmZuWyB0eXBlIF0gPSBmdW5jdGlvbiggZm4gKSB7CgkJcmV0dXJuIHRoaXMub24oIHR5cGUsIGZuICk7Cgl9Owp9ICk7CgoKCgpqUXVlcnkuZm4uZXh0ZW5kKCB7CgoJYmluZDogZnVuY3Rpb24oIHR5cGVzLCBkYXRhLCBmbiApIHsKCQlyZXR1cm4gdGhpcy5vbiggdHlwZXMsIG51bGwsIGRhdGEsIGZuICk7Cgl9LAoJdW5iaW5kOiBmdW5jdGlvbiggdHlwZXMsIGZuICkgewoJCXJldHVybiB0aGlzLm9mZiggdHlwZXMsIG51bGwsIGZuICk7Cgl9LAoKCWRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBkYXRhLCBmbiApIHsKCQlyZXR1cm4gdGhpcy5vbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApOwoJfSwKCXVuZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkgewoKCQkvLyAoIG5hbWVzcGFjZSApIG9yICggc2VsZWN0b3IsIHR5cGVzIFssIGZuXSApCgkJcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPwoJCQl0aGlzLm9mZiggc2VsZWN0b3IsICIqKiIgKSA6CgkJCXRoaXMub2ZmKCB0eXBlcywgc2VsZWN0b3IgfHwgIioqIiwgZm4gKTsKCX0sCgoJaG92ZXI6IGZ1bmN0aW9uKCBmbk92ZXIsIGZuT3V0ICkgewoJCXJldHVybiB0aGlzLm1vdXNlZW50ZXIoIGZuT3ZlciApLm1vdXNlbGVhdmUoIGZuT3V0IHx8IGZuT3ZlciApOwoJfQp9ICk7CgpqUXVlcnkuZWFjaCgKCSggImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrICIgKwoJIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlICIgKwoJImNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnUiICkuc3BsaXQoICIgIiApLAoJZnVuY3Rpb24oIF9pLCBuYW1lICkgewoKCQkvLyBIYW5kbGUgZXZlbnQgYmluZGluZwoJCWpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIGRhdGEsIGZuICkgewoJCQlyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDAgPwoJCQkJdGhpcy5vbiggbmFtZSwgbnVsbCwgZGF0YSwgZm4gKSA6CgkJCQl0aGlzLnRyaWdnZXIoIG5hbWUgKTsKCQl9OwoJfQopOwoKCgoKLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5Ci8vIE1ha2Ugc3VyZSB3ZSB0cmltIEJPTSBhbmQgTkJTUAp2YXIgcnRyaW0gPSAvXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7CgovLyBCaW5kIGEgZnVuY3Rpb24gdG8gYSBjb250ZXh0LCBvcHRpb25hbGx5IHBhcnRpYWxseSBhcHBseWluZyBhbnkKLy8gYXJndW1lbnRzLgovLyBqUXVlcnkucHJveHkgaXMgZGVwcmVjYXRlZCB0byBwcm9tb3RlIHN0YW5kYXJkcyAoc3BlY2lmaWNhbGx5IEZ1bmN0aW9uI2JpbmQpCi8vIEhvd2V2ZXIsIGl0IGlzIG5vdCBzbGF0ZWQgZm9yIHJlbW92YWwgYW55IHRpbWUgc29vbgpqUXVlcnkucHJveHkgPSBmdW5jdGlvbiggZm4sIGNvbnRleHQgKSB7Cgl2YXIgdG1wLCBhcmdzLCBwcm94eTsKCglpZiAoIHR5cGVvZiBjb250ZXh0ID09PSAic3RyaW5nIiApIHsKCQl0bXAgPSBmblsgY29udGV4dCBdOwoJCWNvbnRleHQgPSBmbjsKCQlmbiA9IHRtcDsKCX0KCgkvLyBRdWljayBjaGVjayB0byBkZXRlcm1pbmUgaWYgdGFyZ2V0IGlzIGNhbGxhYmxlLCBpbiB0aGUgc3BlYwoJLy8gdGhpcyB0aHJvd3MgYSBUeXBlRXJyb3IsIGJ1dCB3ZSB3aWxsIGp1c3QgcmV0dXJuIHVuZGVmaW5lZC4KCWlmICggIWlzRnVuY3Rpb24oIGZuICkgKSB7CgkJcmV0dXJuIHVuZGVmaW5lZDsKCX0KCgkvLyBTaW11bGF0ZWQgYmluZAoJYXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMiApOwoJcHJveHkgPSBmdW5jdGlvbigpIHsKCQlyZXR1cm4gZm4uYXBwbHkoIGNvbnRleHQgfHwgdGhpcywgYXJncy5jb25jYXQoIHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApICkgKTsKCX07CgoJLy8gU2V0IHRoZSBndWlkIG9mIHVuaXF1ZSBoYW5kbGVyIHRvIHRoZSBzYW1lIG9mIG9yaWdpbmFsIGhhbmRsZXIsIHNvIGl0IGNhbiBiZSByZW1vdmVkCglwcm94eS5ndWlkID0gZm4uZ3VpZCA9IGZuLmd1aWQgfHwgalF1ZXJ5Lmd1aWQrKzsKCglyZXR1cm4gcHJveHk7Cn07CgpqUXVlcnkuaG9sZFJlYWR5ID0gZnVuY3Rpb24oIGhvbGQgKSB7CglpZiAoIGhvbGQgKSB7CgkJalF1ZXJ5LnJlYWR5V2FpdCsrOwoJfSBlbHNlIHsKCQlqUXVlcnkucmVhZHkoIHRydWUgKTsKCX0KfTsKalF1ZXJ5LmlzQXJyYXkgPSBBcnJheS5pc0FycmF5OwpqUXVlcnkucGFyc2VKU09OID0gSlNPTi5wYXJzZTsKalF1ZXJ5Lm5vZGVOYW1lID0gbm9kZU5hbWU7CmpRdWVyeS5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjsKalF1ZXJ5LmlzV2luZG93ID0gaXNXaW5kb3c7CmpRdWVyeS5jYW1lbENhc2UgPSBjYW1lbENhc2U7CmpRdWVyeS50eXBlID0gdG9UeXBlOwoKalF1ZXJ5Lm5vdyA9IERhdGUubm93OwoKalF1ZXJ5LmlzTnVtZXJpYyA9IGZ1bmN0aW9uKCBvYmogKSB7CgoJLy8gQXMgb2YgalF1ZXJ5IDMuMCwgaXNOdW1lcmljIGlzIGxpbWl0ZWQgdG8KCS8vIHN0cmluZ3MgYW5kIG51bWJlcnMgKHByaW1pdGl2ZXMgb3Igb2JqZWN0cykKCS8vIHRoYXQgY2FuIGJlIGNvZXJjZWQgdG8gZmluaXRlIG51bWJlcnMgKGdoLTI2NjIpCgl2YXIgdHlwZSA9IGpRdWVyeS50eXBlKCBvYmogKTsKCXJldHVybiAoIHR5cGUgPT09ICJudW1iZXIiIHx8IHR5cGUgPT09ICJzdHJpbmciICkgJiYKCgkJLy8gcGFyc2VGbG9hdCBOYU5zIG51bWVyaWMtY2FzdCBmYWxzZSBwb3NpdGl2ZXMgKCIiKQoJCS8vIC4uLmJ1dCBtaXNpbnRlcnByZXRzIGxlYWRpbmctbnVtYmVyIHN0cmluZ3MsIHBhcnRpY3VsYXJseSBoZXggbGl0ZXJhbHMgKCIweC4uLiIpCgkJLy8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOCgkJIWlzTmFOKCBvYmogLSBwYXJzZUZsb2F0KCBvYmogKSApOwp9OwoKalF1ZXJ5LnRyaW0gPSBmdW5jdGlvbiggdGV4dCApIHsKCXJldHVybiB0ZXh0ID09IG51bGwgPwoJCSIiIDoKCQkoIHRleHQgKyAiIiApLnJlcGxhY2UoIHJ0cmltLCAiIiApOwp9OwoKCgovLyBSZWdpc3RlciBhcyBhIG5hbWVkIEFNRCBtb2R1bGUsIHNpbmNlIGpRdWVyeSBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGggb3RoZXIKLy8gZmlsZXMgdGhhdCBtYXkgdXNlIGRlZmluZSwgYnV0IG5vdCB2aWEgYSBwcm9wZXIgY29uY2F0ZW5hdGlvbiBzY3JpcHQgdGhhdAovLyB1bmRlcnN0YW5kcyBhbm9ueW1vdXMgQU1EIG1vZHVsZXMuIEEgbmFtZWQgQU1EIGlzIHNhZmVzdCBhbmQgbW9zdCByb2J1c3QKLy8gd2F5IHRvIHJlZ2lzdGVyLiBMb3dlcmNhc2UganF1ZXJ5IGlzIHVzZWQgYmVjYXVzZSBBTUQgbW9kdWxlIG5hbWVzIGFyZQovLyBkZXJpdmVkIGZyb20gZmlsZSBuYW1lcywgYW5kIGpRdWVyeSBpcyBub3JtYWxseSBkZWxpdmVyZWQgaW4gYSBsb3dlcmNhc2UKLy8gZmlsZSBuYW1lLiBEbyB0aGlzIGFmdGVyIGNyZWF0aW5nIHRoZSBnbG9iYWwgc28gdGhhdCBpZiBhbiBBTUQgbW9kdWxlIHdhbnRzCi8vIHRvIGNhbGwgbm9Db25mbGljdCB0byBoaWRlIHRoaXMgdmVyc2lvbiBvZiBqUXVlcnksIGl0IHdpbGwgd29yay4KCi8vIE5vdGUgdGhhdCBmb3IgbWF4aW11bSBwb3J0YWJpbGl0eSwgbGlicmFyaWVzIHRoYXQgYXJlIG5vdCBqUXVlcnkgc2hvdWxkCi8vIGRlY2xhcmUgdGhlbXNlbHZlcyBhcyBhbm9ueW1vdXMgbW9kdWxlcywgYW5kIGF2b2lkIHNldHRpbmcgYSBnbG9iYWwgaWYgYW4KLy8gQU1EIGxvYWRlciBpcyBwcmVzZW50LiBqUXVlcnkgaXMgYSBzcGVjaWFsIGNhc2UuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUKLy8gaHR0cHM6Ly9naXRodWIuY29tL2pyYnVya2UvcmVxdWlyZWpzL3dpa2kvVXBkYXRpbmctZXhpc3RpbmctbGlicmFyaWVzI3dpa2ktYW5vbgoKaWYgKCB0eXBlb2YgZGVmaW5lID09PSAiZnVuY3Rpb24iICYmIGRlZmluZS5hbWQgKSB7CglkZWZpbmUoICJqcXVlcnkiLCBbXSwgZnVuY3Rpb24oKSB7CgkJcmV0dXJuIGpRdWVyeTsKCX0gKTsKfQoKCgoKdmFyCgoJLy8gTWFwIG92ZXIgalF1ZXJ5IGluIGNhc2Ugb2Ygb3ZlcndyaXRlCglfalF1ZXJ5ID0gd2luZG93LmpRdWVyeSwKCgkvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3cml0ZQoJXyQgPSB3aW5kb3cuJDsKCmpRdWVyeS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oIGRlZXAgKSB7CglpZiAoIHdpbmRvdy4kID09PSBqUXVlcnkgKSB7CgkJd2luZG93LiQgPSBfJDsKCX0KCglpZiAoIGRlZXAgJiYgd2luZG93LmpRdWVyeSA9PT0galF1ZXJ5ICkgewoJCXdpbmRvdy5qUXVlcnkgPSBfalF1ZXJ5OwoJfQoKCXJldHVybiBqUXVlcnk7Cn07CgovLyBFeHBvc2UgalF1ZXJ5IGFuZCAkIGlkZW50aWZpZXJzLCBldmVuIGluIEFNRAovLyAoIzcxMDIjY29tbWVudDoxMCwgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvcHVsbC81NTcpCi8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKCMxMzU2NikKaWYgKCB0eXBlb2Ygbm9HbG9iYWwgPT09ICJ1bmRlZmluZWQiICkgewoJd2luZG93LmpRdWVyeSA9IHdpbmRvdy4kID0galF1ZXJ5Owp9CgoKCgpyZXR1cm4galF1ZXJ5Owp9ICk7Cg=="},{"meta":{"name":"sweetalert.min.js","url":"https://lib.baomitu.com/sweetalert/2.1.2/sweetalert.min.js","ts":1657549998504,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuc3dhbD1lKCk6dC5zd2FsPWUoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKG8pe2lmKG5bb10pcmV0dXJuIG5bb10uZXhwb3J0czt2YXIgcj1uW29dPXtpOm8sbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtvXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxlKSxyLmw9ITAsci5leHBvcnRzfXZhciBuPXt9O3JldHVybiBlLm09dCxlLmM9bixlLmQ9ZnVuY3Rpb24odCxuLG8pe2Uubyh0LG4pfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6b30pfSxlLm49ZnVuY3Rpb24odCl7dmFyIG49dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIGUuZChuLCJhIixuKSxufSxlLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LGUucD0iIixlKGUucz04KX0oW2Z1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPSJzd2FsLWJ1dHRvbiI7ZS5DTEFTU19OQU1FUz17TU9EQUw6InN3YWwtbW9kYWwiLE9WRVJMQVk6InN3YWwtb3ZlcmxheSIsU0hPV19NT0RBTDoic3dhbC1vdmVybGF5LS1zaG93LW1vZGFsIixNT0RBTF9USVRMRToic3dhbC10aXRsZSIsTU9EQUxfVEVYVDoic3dhbC10ZXh0IixJQ09OOiJzd2FsLWljb24iLElDT05fQ1VTVE9NOiJzd2FsLWljb24tLWN1c3RvbSIsQ09OVEVOVDoic3dhbC1jb250ZW50IixGT09URVI6InN3YWwtZm9vdGVyIixCVVRUT05fQ09OVEFJTkVSOiJzd2FsLWJ1dHRvbi1jb250YWluZXIiLEJVVFRPTjpvLENPTkZJUk1fQlVUVE9OOm8rIi0tY29uZmlybSIsQ0FOQ0VMX0JVVFRPTjpvKyItLWNhbmNlbCIsREFOR0VSX0JVVFRPTjpvKyItLWRhbmdlciIsQlVUVE9OX0xPQURJTkc6bysiLS1sb2FkaW5nIixCVVRUT05fTE9BREVSOm8rIl9fbG9hZGVyIn0sZS5kZWZhdWx0PWUuQ0xBU1NfTkFNRVN9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZ2V0Tm9kZT1mdW5jdGlvbih0KXt2YXIgZT0iLiIrdDtyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKX0sZS5zdHJpbmdUb05vZGU9ZnVuY3Rpb24odCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGUuaW5uZXJIVE1MPXQudHJpbSgpLGUuZmlyc3RDaGlsZH0sZS5pbnNlcnRBZnRlcj1mdW5jdGlvbih0LGUpe3ZhciBuPWUubmV4dFNpYmxpbmc7ZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LG4pfSxlLnJlbW92ZU5vZGU9ZnVuY3Rpb24odCl7dC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHQpfSxlLnRocm93RXJyPWZ1bmN0aW9uKHQpe3Rocm93IHQ9dC5yZXBsYWNlKC8gKyg/PSApL2csIiIpLCJTd2VldEFsZXJ0OiAiKyh0PXQudHJpbSgpKX0sZS5pc1BsYWluT2JqZWN0PWZ1bmN0aW9uKHQpe2lmKCJbb2JqZWN0IE9iamVjdF0iIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiExO3ZhciBlPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtyZXR1cm4gbnVsbD09PWV8fGU9PT1PYmplY3QucHJvdG90eXBlfSxlLm9yZGluYWxTdWZmaXhPZj1mdW5jdGlvbih0KXt2YXIgZT10JTEwLG49dCUxMDA7cmV0dXJuIDE9PT1lJiYxMSE9PW4/dCsic3QiOjI9PT1lJiYxMiE9PW4/dCsibmQiOjM9PT1lJiYxMyE9PW4/dCsicmQiOnQrInRoIn19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyh0KXtmb3IodmFyIG4gaW4gdCllLmhhc093blByb3BlcnR5KG4pfHwoZVtuXT10W25dKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbyhuKDI1KSk7dmFyIHI9bigyNik7ZS5vdmVybGF5TWFya3VwPXIuZGVmYXVsdCxvKG4oMjcpKSxvKG4oMjgpKSxvKG4oMjkpKTt2YXIgaT1uKDApLGE9aS5kZWZhdWx0Lk1PREFMX1RJVExFLHM9aS5kZWZhdWx0Lk1PREFMX1RFWFQsYz1pLmRlZmF1bHQuSUNPTixsPWkuZGVmYXVsdC5GT09URVI7ZS5pY29uTWFya3VwPSdcbiAgPGRpdiBjbGFzcz0iJytjKyciPjwvZGl2PicsZS50aXRsZU1hcmt1cD0nXG4gIDxkaXYgY2xhc3M9IicrYSsnIj48L2Rpdj5cbicsZS50ZXh0TWFya3VwPSdcbiAgPGRpdiBjbGFzcz0iJytzKyciPjwvZGl2PicsZS5mb290ZXJNYXJrdXA9J1xuICA8ZGl2IGNsYXNzPSInK2wrJyI+PC9kaXY+XG4nfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpO2UuQ09ORklSTV9LRVk9ImNvbmZpcm0iLGUuQ0FOQ0VMX0tFWT0iY2FuY2VsIjt2YXIgcj17dmlzaWJsZTohMCx0ZXh0Om51bGwsdmFsdWU6bnVsbCxjbGFzc05hbWU6IiIsY2xvc2VNb2RhbDohMH0saT1PYmplY3QuYXNzaWduKHt9LHIse3Zpc2libGU6ITEsdGV4dDoiQ2FuY2VsIix2YWx1ZTpudWxsfSksYT1PYmplY3QuYXNzaWduKHt9LHIse3RleHQ6Ik9LIix2YWx1ZTohMH0pO2UuZGVmYXVsdEJ1dHRvbkxpc3Q9e2NhbmNlbDppLGNvbmZpcm06YX07dmFyIHM9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgZS5DT05GSVJNX0tFWTpyZXR1cm4gYTtjYXNlIGUuQ0FOQ0VMX0tFWTpyZXR1cm4gaTtkZWZhdWx0OnZhciBuPXQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxyLHt0ZXh0Om4sdmFsdWU6dH0pfX0sYz1mdW5jdGlvbih0LGUpe3ZhciBuPXModCk7cmV0dXJuITA9PT1lP09iamVjdC5hc3NpZ24oe30sbix7dmlzaWJsZTohMH0pOiJzdHJpbmciPT10eXBlb2YgZT9PYmplY3QuYXNzaWduKHt9LG4se3Zpc2libGU6ITAsdGV4dDplfSk6by5pc1BsYWluT2JqZWN0KGUpP09iamVjdC5hc3NpZ24oe3Zpc2libGU6ITB9LG4sZSk6T2JqZWN0LmFzc2lnbih7fSxuLHt2aXNpYmxlOiExfSl9LGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXt9LG49MCxvPU9iamVjdC5rZXlzKHQpO248by5sZW5ndGg7bisrKXt2YXIgcj1vW25dLGE9dFtyXSxzPWMocixhKTtlW3JdPXN9cmV0dXJuIGUuY2FuY2VsfHwoZS5jYW5jZWw9aSksZX0sdT1mdW5jdGlvbih0KXt2YXIgbj17fTtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMTpuW2UuQ0FOQ0VMX0tFWV09T2JqZWN0LmFzc2lnbih7fSxpLHt2aXNpYmxlOiExfSk7YnJlYWs7Y2FzZSAyOm5bZS5DQU5DRUxfS0VZXT1jKGUuQ0FOQ0VMX0tFWSx0WzBdKSxuW2UuQ09ORklSTV9LRVldPWMoZS5DT05GSVJNX0tFWSx0WzFdKTticmVhaztkZWZhdWx0Om8udGhyb3dFcnIoIkludmFsaWQgbnVtYmVyIG9mICdidXR0b25zJyBpbiBhcnJheSAoIit0Lmxlbmd0aCsiKS5cbiAgICAgIElmIHlvdSB3YW50IG1vcmUgdGhhbiAyIGJ1dHRvbnMsIHlvdSBuZWVkIHRvIHVzZSBhbiBvYmplY3QhIil9cmV0dXJuIG59O2UuZ2V0QnV0dG9uTGlzdE9wdHM9ZnVuY3Rpb24odCl7dmFyIG49ZS5kZWZhdWx0QnV0dG9uTGlzdDtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/bltlLkNPTkZJUk1fS0VZXT1jKGUuQ09ORklSTV9LRVksdCk6QXJyYXkuaXNBcnJheSh0KT9uPXUodCk6by5pc1BsYWluT2JqZWN0KHQpP249bCh0KTohMD09PXQ/bj11KFshMCwhMF0pOiExPT09dD9uPXUoWyExLCExXSk6dm9pZCAwPT09dCYmKG49ZS5kZWZhdWx0QnV0dG9uTGlzdCksbn19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMSkscj1uKDIpLGk9bigwKSxhPWkuZGVmYXVsdC5NT0RBTCxzPWkuZGVmYXVsdC5PVkVSTEFZLGM9bigzMCksbD1uKDMxKSx1PW4oMzIpLGY9bigzMyk7ZS5pbmplY3RFbEludG9Nb2RhbD1mdW5jdGlvbih0KXt2YXIgZT1vLmdldE5vZGUoYSksbj1vLnN0cmluZ1RvTm9kZSh0KTtyZXR1cm4gZS5hcHBlbmRDaGlsZChuKSxufTt2YXIgZD1mdW5jdGlvbih0KXt0LmNsYXNzTmFtZT1hLHQudGV4dENvbnRlbnQ9IiJ9LHA9ZnVuY3Rpb24odCxlKXtkKHQpO3ZhciBuPWUuY2xhc3NOYW1lO24mJnQuY2xhc3NMaXN0LmFkZChuKX07ZS5pbml0TW9kYWxDb250ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPW8uZ2V0Tm9kZShhKTtwKGUsdCksYy5kZWZhdWx0KHQuaWNvbiksbC5pbml0VGl0bGUodC50aXRsZSksbC5pbml0VGV4dCh0LnRleHQpLGYuZGVmYXVsdCh0LmNvbnRlbnQpLHUuZGVmYXVsdCh0LmJ1dHRvbnMsdC5kYW5nZXJNb2RlKX07dmFyIG09ZnVuY3Rpb24oKXt2YXIgdD1vLmdldE5vZGUocyksZT1vLnN0cmluZ1RvTm9kZShyLm1vZGFsTWFya3VwKTt0LmFwcGVuZENoaWxkKGUpfTtlLmRlZmF1bHQ9bX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89bigzKSxyPXtpc09wZW46ITEscHJvbWlzZTpudWxsLGFjdGlvbnM6e30sdGltZXI6bnVsbH0saT1PYmplY3QuYXNzaWduKHt9LHIpO2UucmVzZXRTdGF0ZT1mdW5jdGlvbigpe2k9T2JqZWN0LmFzc2lnbih7fSxyKX0sZS5zZXRBY3Rpb25WYWx1ZT1mdW5jdGlvbih0KXtpZigic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIGEoby5DT05GSVJNX0tFWSx0KTtmb3IodmFyIGUgaW4gdClhKGUsdFtlXSl9O3ZhciBhPWZ1bmN0aW9uKHQsZSl7aS5hY3Rpb25zW3RdfHwoaS5hY3Rpb25zW3RdPXt9KSxPYmplY3QuYXNzaWduKGkuYWN0aW9uc1t0XSx7dmFsdWU6ZX0pfTtlLnNldEFjdGlvbk9wdGlvbnNGb3I9ZnVuY3Rpb24odCxlKXt2YXIgbj0odm9pZCAwPT09ZT97fTplKS5jbG9zZU1vZGFsLG89dm9pZCAwPT09bnx8bjtPYmplY3QuYXNzaWduKGkuYWN0aW9uc1t0XSx7Y2xvc2VNb2RhbDpvfSl9LGUuZGVmYXVsdD1pfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpLHI9bigzKSxpPW4oMCksYT1pLmRlZmF1bHQuT1ZFUkxBWSxzPWkuZGVmYXVsdC5TSE9XX01PREFMLGM9aS5kZWZhdWx0LkJVVFRPTixsPWkuZGVmYXVsdC5CVVRUT05fTE9BRElORyx1PW4oNSk7ZS5vcGVuTW9kYWw9ZnVuY3Rpb24oKXtvLmdldE5vZGUoYSkuY2xhc3NMaXN0LmFkZChzKSx1LmRlZmF1bHQuaXNPcGVuPSEwfTt2YXIgZj1mdW5jdGlvbigpe28uZ2V0Tm9kZShhKS5jbGFzc0xpc3QucmVtb3ZlKHMpLHUuZGVmYXVsdC5pc09wZW49ITF9O2Uub25BY3Rpb249ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9ci5DQU5DRUxfS0VZKTt2YXIgZT11LmRlZmF1bHQuYWN0aW9uc1t0XSxuPWUudmFsdWU7aWYoITE9PT1lLmNsb3NlTW9kYWwpe3ZhciBpPWMrIi0tIit0O28uZ2V0Tm9kZShpKS5jbGFzc0xpc3QuYWRkKGwpfWVsc2UgZigpO3UuZGVmYXVsdC5wcm9taXNlLnJlc29sdmUobil9LGUuZ2V0U3RhdGU9ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3QuYXNzaWduKHt9LHUuZGVmYXVsdCk7cmV0dXJuIGRlbGV0ZSB0LnByb21pc2UsZGVsZXRlIHQudGltZXIsdH0sZS5zdG9wTG9hZGluZz1mdW5jdGlvbigpe2Zvcih2YXIgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuIitjKSxlPTA7ZTx0Lmxlbmd0aDtlKyspe3RbZV0uY2xhc3NMaXN0LnJlbW92ZShsKX19fSxmdW5jdGlvbih0LGUpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfHwoMCxldmFsKSgidGhpcyIpfWNhdGNoKHQpeyJvYmplY3QiPT10eXBlb2Ygd2luZG93JiYobj13aW5kb3cpfXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUpe3QuZXhwb3J0cz1lLnN3ZWV0QWxlcnQ9big5KX0pLmNhbGwoZSxuKDcpKX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlKXt0LmV4cG9ydHM9ZS5zd2FsPW4oMTApfSkuY2FsbChlLG4oNykpfSxmdW5jdGlvbih0LGUsbil7InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJm4oMTEpLG4oMTYpO3ZhciBvPW4oMjMpLmRlZmF1bHQ7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uKDEyKTsic3RyaW5nIj09dHlwZW9mIG8mJihvPVtbdC5pLG8sIiJdXSk7dmFyIHI9e2luc2VydEF0OiJ0b3AifTtyLnRyYW5zZm9ybT12b2lkIDA7bigxNCkobyxyKTtvLmxvY2FscyYmKHQuZXhwb3J0cz1vLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSxuKXtlPXQuZXhwb3J0cz1uKDEzKSh2b2lkIDApLGUucHVzaChbdC5pLCcuc3dhbC1pY29uLS1lcnJvcntib3JkZXItY29sb3I6I2YyNzQ3NDstd2Via2l0LWFuaW1hdGlvbjphbmltYXRlRXJyb3JJY29uIC41czthbmltYXRpb246YW5pbWF0ZUVycm9ySWNvbiAuNXN9LnN3YWwtaWNvbi0tZXJyb3JfX3gtbWFya3twb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrOy13ZWJraXQtYW5pbWF0aW9uOmFuaW1hdGVYTWFyayAuNXM7YW5pbWF0aW9uOmFuaW1hdGVYTWFyayAuNXN9LnN3YWwtaWNvbi0tZXJyb3JfX2xpbmV7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OjVweDt3aWR0aDo0N3B4O2JhY2tncm91bmQtY29sb3I6I2YyNzQ3NDtkaXNwbGF5OmJsb2NrO3RvcDozN3B4O2JvcmRlci1yYWRpdXM6MnB4fS5zd2FsLWljb24tLWVycm9yX19saW5lLS1sZWZ0ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7bGVmdDoxN3B4fS5zd2FsLWljb24tLWVycm9yX19saW5lLS1yaWdodHstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7cmlnaHQ6MTZweH1ALXdlYmtpdC1rZXlmcmFtZXMgYW5pbWF0ZUVycm9ySWNvbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGVYKDEwMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZVgoMTAwZGVnKTtvcGFjaXR5OjB9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlWCgwZGVnKTt0cmFuc2Zvcm06cm90YXRlWCgwZGVnKTtvcGFjaXR5OjF9fUBrZXlmcmFtZXMgYW5pbWF0ZUVycm9ySWNvbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGVYKDEwMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZVgoMTAwZGVnKTtvcGFjaXR5OjB9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlWCgwZGVnKTt0cmFuc2Zvcm06cm90YXRlWCgwZGVnKTtvcGFjaXR5OjF9fUAtd2Via2l0LWtleWZyYW1lcyBhbmltYXRlWE1hcmt7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjQpO3RyYW5zZm9ybTpzY2FsZSguNCk7bWFyZ2luLXRvcDoyNnB4O29wYWNpdHk6MH01MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjQpO3RyYW5zZm9ybTpzY2FsZSguNCk7bWFyZ2luLXRvcDoyNnB4O29wYWNpdHk6MH04MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xNSk7dHJhbnNmb3JtOnNjYWxlKDEuMTUpO21hcmdpbi10b3A6LTZweH10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSk7bWFyZ2luLXRvcDowO29wYWNpdHk6MX19QGtleWZyYW1lcyBhbmltYXRlWE1hcmt7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjQpO3RyYW5zZm9ybTpzY2FsZSguNCk7bWFyZ2luLXRvcDoyNnB4O29wYWNpdHk6MH01MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjQpO3RyYW5zZm9ybTpzY2FsZSguNCk7bWFyZ2luLXRvcDoyNnB4O29wYWNpdHk6MH04MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xNSk7dHJhbnNmb3JtOnNjYWxlKDEuMTUpO21hcmdpbi10b3A6LTZweH10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSk7bWFyZ2luLXRvcDowO29wYWNpdHk6MX19LnN3YWwtaWNvbi0td2FybmluZ3tib3JkZXItY29sb3I6I2Y4YmI4Njstd2Via2l0LWFuaW1hdGlvbjpwdWxzZVdhcm5pbmcgLjc1cyBpbmZpbml0ZSBhbHRlcm5hdGU7YW5pbWF0aW9uOnB1bHNlV2FybmluZyAuNzVzIGluZmluaXRlIGFsdGVybmF0ZX0uc3dhbC1pY29uLS13YXJuaW5nX19ib2R5e3dpZHRoOjVweDtoZWlnaHQ6NDdweDt0b3A6MTBweDtib3JkZXItcmFkaXVzOjJweDttYXJnaW4tbGVmdDotMnB4fS5zd2FsLWljb24tLXdhcm5pbmdfX2JvZHksLnN3YWwtaWNvbi0td2FybmluZ19fZG90e3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO2JhY2tncm91bmQtY29sb3I6I2Y4YmI4Nn0uc3dhbC1pY29uLS13YXJuaW5nX19kb3R7d2lkdGg6N3B4O2hlaWdodDo3cHg7Ym9yZGVyLXJhZGl1czo1MCU7bWFyZ2luLWxlZnQ6LTRweDtib3R0b206LTExcHh9QC13ZWJraXQta2V5ZnJhbWVzIHB1bHNlV2FybmluZ3swJXtib3JkZXItY29sb3I6I2Y4ZDQ4Nn10b3tib3JkZXItY29sb3I6I2Y4YmI4Nn19QGtleWZyYW1lcyBwdWxzZVdhcm5pbmd7MCV7Ym9yZGVyLWNvbG9yOiNmOGQ0ODZ9dG97Ym9yZGVyLWNvbG9yOiNmOGJiODZ9fS5zd2FsLWljb24tLXN1Y2Nlc3N7Ym9yZGVyLWNvbG9yOiNhNWRjODZ9LnN3YWwtaWNvbi0tc3VjY2VzczphZnRlciwuc3dhbC1pY29uLS1zdWNjZXNzOmJlZm9yZXtjb250ZW50OiIiO2JvcmRlci1yYWRpdXM6NTAlO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjYwcHg7aGVpZ2h0OjEyMHB4O2JhY2tncm91bmQ6I2ZmZjstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfS5zd2FsLWljb24tLXN1Y2Nlc3M6YmVmb3Jle2JvcmRlci1yYWRpdXM6MTIwcHggMCAwIDEyMHB4O3RvcDotN3B4O2xlZnQ6LTMzcHg7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo2MHB4IDYwcHg7dHJhbnNmb3JtLW9yaWdpbjo2MHB4IDYwcHh9LnN3YWwtaWNvbi0tc3VjY2VzczphZnRlcntib3JkZXItcmFkaXVzOjAgMTIwcHggMTIwcHggMDt0b3A6LTExcHg7bGVmdDozMHB4Oy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46MCA2MHB4O3RyYW5zZm9ybS1vcmlnaW46MCA2MHB4Oy13ZWJraXQtYW5pbWF0aW9uOnJvdGF0ZVBsYWNlaG9sZGVyIDQuMjVzIGVhc2UtaW47YW5pbWF0aW9uOnJvdGF0ZVBsYWNlaG9sZGVyIDQuMjVzIGVhc2UtaW59LnN3YWwtaWNvbi0tc3VjY2Vzc19fcmluZ3t3aWR0aDo4MHB4O2hlaWdodDo4MHB4O2JvcmRlcjo0cHggc29saWQgaHNsYSg5OCw1NSUsNjklLC4yKTtib3JkZXItcmFkaXVzOjUwJTtib3gtc2l6aW5nOmNvbnRlbnQtYm94O3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTRweDt0b3A6LTRweDt6LWluZGV4OjJ9LnN3YWwtaWNvbi0tc3VjY2Vzc19faGlkZS1jb3JuZXJze3dpZHRoOjVweDtoZWlnaHQ6OTBweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7cGFkZGluZzoxcHg7cG9zaXRpb246YWJzb2x1dGU7bGVmdDoyOHB4O3RvcDo4cHg7ei1pbmRleDoxOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX0uc3dhbC1pY29uLS1zdWNjZXNzX19saW5le2hlaWdodDo1cHg7YmFja2dyb3VuZC1jb2xvcjojYTVkYzg2O2Rpc3BsYXk6YmxvY2s7Ym9yZGVyLXJhZGl1czoycHg7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoyfS5zd2FsLWljb24tLXN1Y2Nlc3NfX2xpbmUtLXRpcHt3aWR0aDoyNXB4O2xlZnQ6MTRweDt0b3A6NDZweDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpOy13ZWJraXQtYW5pbWF0aW9uOmFuaW1hdGVTdWNjZXNzVGlwIC43NXM7YW5pbWF0aW9uOmFuaW1hdGVTdWNjZXNzVGlwIC43NXN9LnN3YWwtaWNvbi0tc3VjY2Vzc19fbGluZS0tbG9uZ3t3aWR0aDo0N3B4O3JpZ2h0OjhweDt0b3A6MzhweDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7LXdlYmtpdC1hbmltYXRpb246YW5pbWF0ZVN1Y2Nlc3NMb25nIC43NXM7YW5pbWF0aW9uOmFuaW1hdGVTdWNjZXNzTG9uZyAuNzVzfUAtd2Via2l0LWtleWZyYW1lcyByb3RhdGVQbGFjZWhvbGRlcnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9NSV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpfTEyJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQwNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQwNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKX19QGtleWZyYW1lcyByb3RhdGVQbGFjZWhvbGRlcnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9NSV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpfTEyJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQwNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQwNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKX19QC13ZWJraXQta2V5ZnJhbWVzIGFuaW1hdGVTdWNjZXNzVGlwezAle3dpZHRoOjA7bGVmdDoxcHg7dG9wOjE5cHh9NTQle3dpZHRoOjA7bGVmdDoxcHg7dG9wOjE5cHh9NzAle3dpZHRoOjUwcHg7bGVmdDotOHB4O3RvcDozN3B4fTg0JXt3aWR0aDoxN3B4O2xlZnQ6MjFweDt0b3A6NDhweH10b3t3aWR0aDoyNXB4O2xlZnQ6MTRweDt0b3A6NDVweH19QGtleWZyYW1lcyBhbmltYXRlU3VjY2Vzc1RpcHswJXt3aWR0aDowO2xlZnQ6MXB4O3RvcDoxOXB4fTU0JXt3aWR0aDowO2xlZnQ6MXB4O3RvcDoxOXB4fTcwJXt3aWR0aDo1MHB4O2xlZnQ6LThweDt0b3A6MzdweH04NCV7d2lkdGg6MTdweDtsZWZ0OjIxcHg7dG9wOjQ4cHh9dG97d2lkdGg6MjVweDtsZWZ0OjE0cHg7dG9wOjQ1cHh9fUAtd2Via2l0LWtleWZyYW1lcyBhbmltYXRlU3VjY2Vzc0xvbmd7MCV7d2lkdGg6MDtyaWdodDo0NnB4O3RvcDo1NHB4fTY1JXt3aWR0aDowO3JpZ2h0OjQ2cHg7dG9wOjU0cHh9ODQle3dpZHRoOjU1cHg7cmlnaHQ6MDt0b3A6MzVweH10b3t3aWR0aDo0N3B4O3JpZ2h0OjhweDt0b3A6MzhweH19QGtleWZyYW1lcyBhbmltYXRlU3VjY2Vzc0xvbmd7MCV7d2lkdGg6MDtyaWdodDo0NnB4O3RvcDo1NHB4fTY1JXt3aWR0aDowO3JpZ2h0OjQ2cHg7dG9wOjU0cHh9ODQle3dpZHRoOjU1cHg7cmlnaHQ6MDt0b3A6MzVweH10b3t3aWR0aDo0N3B4O3JpZ2h0OjhweDt0b3A6MzhweH19LnN3YWwtaWNvbi0taW5mb3tib3JkZXItY29sb3I6I2M5ZGFlMX0uc3dhbC1pY29uLS1pbmZvOmJlZm9yZXt3aWR0aDo1cHg7aGVpZ2h0OjI5cHg7Ym90dG9tOjE3cHg7Ym9yZGVyLXJhZGl1czoycHg7bWFyZ2luLWxlZnQ6LTJweH0uc3dhbC1pY29uLS1pbmZvOmFmdGVyLC5zd2FsLWljb24tLWluZm86YmVmb3Jle2NvbnRlbnQ6IiI7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7YmFja2dyb3VuZC1jb2xvcjojYzlkYWUxfS5zd2FsLWljb24tLWluZm86YWZ0ZXJ7d2lkdGg6N3B4O2hlaWdodDo3cHg7Ym9yZGVyLXJhZGl1czo1MCU7bWFyZ2luLWxlZnQ6LTNweDt0b3A6MTlweH0uc3dhbC1pY29ue3dpZHRoOjgwcHg7aGVpZ2h0OjgwcHg7Ym9yZGVyLXdpZHRoOjRweDtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLXJhZGl1czo1MCU7cGFkZGluZzowO3Bvc2l0aW9uOnJlbGF0aXZlO2JveC1zaXppbmc6Y29udGVudC1ib3g7bWFyZ2luOjIwcHggYXV0b30uc3dhbC1pY29uOmZpcnN0LWNoaWxke21hcmdpbi10b3A6MzJweH0uc3dhbC1pY29uLS1jdXN0b217d2lkdGg6YXV0bztoZWlnaHQ6YXV0bzttYXgtd2lkdGg6MTAwJTtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjB9LnN3YWwtaWNvbiBpbWd7bWF4LXdpZHRoOjEwMCU7bWF4LWhlaWdodDoxMDAlfS5zd2FsLXRpdGxle2NvbG9yOnJnYmEoMCwwLDAsLjY1KTtmb250LXdlaWdodDo2MDA7dGV4dC10cmFuc2Zvcm06bm9uZTtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6MTNweCAxNnB4O2ZvbnQtc2l6ZToyN3B4O2xpbmUtaGVpZ2h0Om5vcm1hbDt0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW4tYm90dG9tOjB9LnN3YWwtdGl0bGU6Zmlyc3QtY2hpbGR7bWFyZ2luLXRvcDoyNnB4fS5zd2FsLXRpdGxlOm5vdCg6Zmlyc3QtY2hpbGQpe3BhZGRpbmctYm90dG9tOjB9LnN3YWwtdGl0bGU6bm90KDpsYXN0LWNoaWxkKXttYXJnaW4tYm90dG9tOjEzcHh9LnN3YWwtdGV4dHtmb250LXNpemU6MTZweDtwb3NpdGlvbjpyZWxhdGl2ZTtmbG9hdDpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDt2ZXJ0aWNhbC1hbGlnbjp0b3A7dGV4dC1hbGlnbjpsZWZ0O2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbjowO3BhZGRpbmc6MCAxMHB4O2ZvbnQtd2VpZ2h0OjQwMDtjb2xvcjpyZ2JhKDAsMCwwLC42NCk7bWF4LXdpZHRoOmNhbGMoMTAwJSAtIDIwcHgpO292ZXJmbG93LXdyYXA6YnJlYWstd29yZDtib3gtc2l6aW5nOmJvcmRlci1ib3h9LnN3YWwtdGV4dDpmaXJzdC1jaGlsZHttYXJnaW4tdG9wOjQ1cHh9LnN3YWwtdGV4dDpsYXN0LWNoaWxke21hcmdpbi1ib3R0b206NDVweH0uc3dhbC1mb290ZXJ7dGV4dC1hbGlnbjpyaWdodDtwYWRkaW5nLXRvcDoxM3B4O21hcmdpbi10b3A6MTNweDtwYWRkaW5nOjEzcHggMTZweDtib3JkZXItcmFkaXVzOmluaGVyaXQ7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjB9LnN3YWwtYnV0dG9uLWNvbnRhaW5lcnttYXJnaW46NXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlfS5zd2FsLWJ1dHRvbntiYWNrZ3JvdW5kLWNvbG9yOiM3Y2QxZjk7Y29sb3I6I2ZmZjtib3JkZXI6bm9uZTtib3gtc2hhZG93Om5vbmU7Ym9yZGVyLXJhZGl1czo1cHg7Zm9udC13ZWlnaHQ6NjAwO2ZvbnQtc2l6ZToxNHB4O3BhZGRpbmc6MTBweCAyNHB4O21hcmdpbjowO2N1cnNvcjpwb2ludGVyfS5zd2FsLWJ1dHRvbjpub3QoW2Rpc2FibGVkXSk6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojNzhjYmYyfS5zd2FsLWJ1dHRvbjphY3RpdmV7YmFja2dyb3VuZC1jb2xvcjojNzBiY2UwfS5zd2FsLWJ1dHRvbjpmb2N1c3tvdXRsaW5lOm5vbmU7Ym94LXNoYWRvdzowIDAgMCAxcHggI2ZmZiwwIDAgMCAzcHggcmdiYSg0MywxMTQsMTY1LC4yOSl9LnN3YWwtYnV0dG9uW2Rpc2FibGVkXXtvcGFjaXR5Oi41O2N1cnNvcjpkZWZhdWx0fS5zd2FsLWJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lcntib3JkZXI6MH0uc3dhbC1idXR0b24tLWNhbmNlbHtjb2xvcjojNTU1O2JhY2tncm91bmQtY29sb3I6I2VmZWZlZn0uc3dhbC1idXR0b24tLWNhbmNlbDpub3QoW2Rpc2FibGVkXSk6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZThlOGU4fS5zd2FsLWJ1dHRvbi0tY2FuY2VsOmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOiNkN2Q3ZDd9LnN3YWwtYnV0dG9uLS1jYW5jZWw6Zm9jdXN7Ym94LXNoYWRvdzowIDAgMCAxcHggI2ZmZiwwIDAgMCAzcHggcmdiYSgxMTYsMTM2LDE1MCwuMjkpfS5zd2FsLWJ1dHRvbi0tZGFuZ2Vye2JhY2tncm91bmQtY29sb3I6I2U2NDk0Mn0uc3dhbC1idXR0b24tLWRhbmdlcjpub3QoW2Rpc2FibGVkXSk6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZGY0NzQwfS5zd2FsLWJ1dHRvbi0tZGFuZ2VyOmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOiNjZjQyM2J9LnN3YWwtYnV0dG9uLS1kYW5nZXI6Zm9jdXN7Ym94LXNoYWRvdzowIDAgMCAxcHggI2ZmZiwwIDAgMCAzcHggcmdiYSgxNjUsNDMsNDMsLjI5KX0uc3dhbC1jb250ZW50e3BhZGRpbmc6MCAyMHB4O21hcmdpbi10b3A6MjBweDtmb250LXNpemU6bWVkaXVtfS5zd2FsLWNvbnRlbnQ6bGFzdC1jaGlsZHttYXJnaW4tYm90dG9tOjIwcHh9LnN3YWwtY29udGVudF9faW5wdXQsLnN3YWwtY29udGVudF9fdGV4dGFyZWF7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjpub25lO2ZvbnQtc2l6ZToxNHB4O2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O3dpZHRoOjEwMCU7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDAsMCwwLC4xNCk7cGFkZGluZzoxMHB4IDEzcHg7Ym9yZGVyLXJhZGl1czoycHg7dHJhbnNpdGlvbjpib3JkZXItY29sb3IgLjJzfS5zd2FsLWNvbnRlbnRfX2lucHV0OmZvY3VzLC5zd2FsLWNvbnRlbnRfX3RleHRhcmVhOmZvY3Vze291dGxpbmU6bm9uZTtib3JkZXItY29sb3I6IzZkYjhmZn0uc3dhbC1jb250ZW50X190ZXh0YXJlYXtyZXNpemU6dmVydGljYWx9LnN3YWwtYnV0dG9uLS1sb2FkaW5ne2NvbG9yOnRyYW5zcGFyZW50fS5zd2FsLWJ1dHRvbi0tbG9hZGluZ34uc3dhbC1idXR0b25fX2xvYWRlcntvcGFjaXR5OjF9LnN3YWwtYnV0dG9uX19sb2FkZXJ7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OmF1dG87d2lkdGg6NDNweDt6LWluZGV4OjI7bGVmdDo1MCU7dG9wOjUwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgtNTAlKTt0ZXh0LWFsaWduOmNlbnRlcjtwb2ludGVyLWV2ZW50czpub25lO29wYWNpdHk6MH0uc3dhbC1idXR0b25fX2xvYWRlciBkaXZ7ZGlzcGxheTppbmxpbmUtYmxvY2s7ZmxvYXQ6bm9uZTt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZTt3aWR0aDo5cHg7aGVpZ2h0OjlweDtwYWRkaW5nOjA7Ym9yZGVyOm5vbmU7bWFyZ2luOjJweDtvcGFjaXR5Oi40O2JvcmRlci1yYWRpdXM6N3B4O2JhY2tncm91bmQtY29sb3I6aHNsYSgwLDAlLDEwMCUsLjkpO3RyYW5zaXRpb246YmFja2dyb3VuZCAuMnM7LXdlYmtpdC1hbmltYXRpb246c3dhbC1sb2FkaW5nLWFuaW0gMXMgaW5maW5pdGU7YW5pbWF0aW9uOnN3YWwtbG9hZGluZy1hbmltIDFzIGluZmluaXRlfS5zd2FsLWJ1dHRvbl9fbG9hZGVyIGRpdjpudGgtY2hpbGQoM24rMil7LXdlYmtpdC1hbmltYXRpb24tZGVsYXk6LjE1czthbmltYXRpb24tZGVsYXk6LjE1c30uc3dhbC1idXR0b25fX2xvYWRlciBkaXY6bnRoLWNoaWxkKDNuKzMpey13ZWJraXQtYW5pbWF0aW9uLWRlbGF5Oi4zczthbmltYXRpb24tZGVsYXk6LjNzfUAtd2Via2l0LWtleWZyYW1lcyBzd2FsLWxvYWRpbmctYW5pbXswJXtvcGFjaXR5Oi40fTIwJXtvcGFjaXR5Oi40fTUwJXtvcGFjaXR5OjF9dG97b3BhY2l0eTouNH19QGtleWZyYW1lcyBzd2FsLWxvYWRpbmctYW5pbXswJXtvcGFjaXR5Oi40fTIwJXtvcGFjaXR5Oi40fTUwJXtvcGFjaXR5OjF9dG97b3BhY2l0eTouNH19LnN3YWwtb3ZlcmxheXtwb3NpdGlvbjpmaXhlZDt0b3A6MDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6MDtvdmVyZmxvdy15OmF1dG87YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC40KTt6LWluZGV4OjEwMDAwO3BvaW50ZXItZXZlbnRzOm5vbmU7b3BhY2l0eTowO3RyYW5zaXRpb246b3BhY2l0eSAuM3N9LnN3YWwtb3ZlcmxheTpiZWZvcmV7Y29udGVudDoiICI7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlO2hlaWdodDoxMDAlfS5zd2FsLW92ZXJsYXktLXNob3ctbW9kYWx7b3BhY2l0eToxO3BvaW50ZXItZXZlbnRzOmF1dG99LnN3YWwtb3ZlcmxheS0tc2hvdy1tb2RhbCAuc3dhbC1tb2RhbHtvcGFjaXR5OjE7cG9pbnRlci1ldmVudHM6YXV0bztib3gtc2l6aW5nOmJvcmRlci1ib3g7LXdlYmtpdC1hbmltYXRpb246c2hvd1N3ZWV0QWxlcnQgLjNzO2FuaW1hdGlvbjpzaG93U3dlZXRBbGVydCAuM3M7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtfS5zd2FsLW1vZGFse3dpZHRoOjQ3OHB4O29wYWNpdHk6MDtwb2ludGVyLWV2ZW50czpub25lO2JhY2tncm91bmQtY29sb3I6I2ZmZjt0ZXh0LWFsaWduOmNlbnRlcjtib3JkZXItcmFkaXVzOjVweDtwb3NpdGlvbjpzdGF0aWM7bWFyZ2luOjIwcHggYXV0bztkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgNTAlO3RyYW5zZm9ybS1vcmlnaW46NTAlIDUwJTt6LWluZGV4OjEwMDAxO3RyYW5zaXRpb246b3BhY2l0eSAuMnMsLXdlYmtpdC10cmFuc2Zvcm0gLjNzO3RyYW5zaXRpb246dHJhbnNmb3JtIC4zcyxvcGFjaXR5IC4yczt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuM3Msb3BhY2l0eSAuMnMsLXdlYmtpdC10cmFuc2Zvcm0gLjNzfUBtZWRpYSAobWF4LXdpZHRoOjUwMHB4KXsuc3dhbC1tb2RhbHt3aWR0aDpjYWxjKDEwMCUgLSAyMHB4KX19QC13ZWJraXQta2V5ZnJhbWVzIHNob3dTd2VldEFsZXJ0ezAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX0xJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguNSk7dHJhbnNmb3JtOnNjYWxlKC41KX00NSV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4wNSk7dHJhbnNmb3JtOnNjYWxlKDEuMDUpfTgwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguOTUpO3RyYW5zZm9ybTpzY2FsZSguOTUpfXRvey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX19QGtleWZyYW1lcyBzaG93U3dlZXRBbGVydHswJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9MSV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjUpO3RyYW5zZm9ybTpzY2FsZSguNSl9NDUley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMDUpO3RyYW5zZm9ybTpzY2FsZSgxLjA1KX04MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjk1KTt0cmFuc2Zvcm06c2NhbGUoLjk1KX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9fScsIiJdKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQsZSl7dmFyIG49dFsxXXx8IiIscj10WzNdO2lmKCFyKXJldHVybiBuO2lmKGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBidG9hKXt2YXIgaT1vKHIpO3JldHVybltuXS5jb25jYXQoci5zb3VyY2VzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4iLyojIHNvdXJjZVVSTD0iK3Iuc291cmNlUm9vdCt0KyIgKi8ifSkpLmNvbmNhdChbaV0pLmpvaW4oIlxuIil9cmV0dXJuW25dLmpvaW4oIlxuIil9ZnVuY3Rpb24gbyh0KXtyZXR1cm4iLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodCkpKSkrIiAqLyJ9dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGUpe3ZhciBvPW4oZSx0KTtyZXR1cm4gZVsyXT8iQG1lZGlhICIrZVsyXSsieyIrbysifSI6b30pLmpvaW4oIiIpfSxlLmk9ZnVuY3Rpb24odCxuKXsic3RyaW5nIj09dHlwZW9mIHQmJih0PVtbbnVsbCx0LCIiXV0pO2Zvcih2YXIgbz17fSxyPTA7cjx0aGlzLmxlbmd0aDtyKyspe3ZhciBpPXRoaXNbcl1bMF07Im51bWJlciI9PXR5cGVvZiBpJiYob1tpXT0hMCl9Zm9yKHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGE9dFtyXTsibnVtYmVyIj09dHlwZW9mIGFbMF0mJm9bYVswXV18fChuJiYhYVsyXT9hWzJdPW46biYmKGFbMl09IigiK2FbMl0rIikgYW5kICgiK24rIikiKSxlLnB1c2goYSkpfX0sZX19LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBvKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl0scj1tW28uaWRdO2lmKHIpe3IucmVmcysrO2Zvcih2YXIgaT0wO2k8ci5wYXJ0cy5sZW5ndGg7aSsrKXIucGFydHNbaV0oby5wYXJ0c1tpXSk7Zm9yKDtpPG8ucGFydHMubGVuZ3RoO2krKylyLnBhcnRzLnB1c2godShvLnBhcnRzW2ldLGUpKX1lbHNle2Zvcih2YXIgYT1bXSxpPTA7aTxvLnBhcnRzLmxlbmd0aDtpKyspYS5wdXNoKHUoby5wYXJ0c1tpXSxlKSk7bVtvLmlkXT17aWQ6by5pZCxyZWZzOjEscGFydHM6YX19fX1mdW5jdGlvbiByKHQsZSl7Zm9yKHZhciBuPVtdLG89e30scj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdLGE9ZS5iYXNlP2lbMF0rZS5iYXNlOmlbMF0scz1pWzFdLGM9aVsyXSxsPWlbM10sdT17Y3NzOnMsbWVkaWE6Yyxzb3VyY2VNYXA6bH07b1thXT9vW2FdLnBhcnRzLnB1c2godSk6bi5wdXNoKG9bYV09e2lkOmEscGFydHM6W3VdfSl9cmV0dXJuIG59ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPXYodC5pbnNlcnRJbnRvKTtpZighbil0aHJvdyBuZXcgRXJyb3IoIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuIik7dmFyIG89d1t3Lmxlbmd0aC0xXTtpZigidG9wIj09PXQuaW5zZXJ0QXQpbz9vLm5leHRTaWJsaW5nP24uaW5zZXJ0QmVmb3JlKGUsby5uZXh0U2libGluZyk6bi5hcHBlbmRDaGlsZChlKTpuLmluc2VydEJlZm9yZShlLG4uZmlyc3RDaGlsZCksdy5wdXNoKGUpO2Vsc2V7aWYoImJvdHRvbSIhPT10Lmluc2VydEF0KXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuIik7bi5hcHBlbmRDaGlsZChlKX19ZnVuY3Rpb24gYSh0KXtpZihudWxsPT09dC5wYXJlbnROb2RlKXJldHVybiExO3QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTt2YXIgZT13LmluZGV4T2YodCk7ZT49MCYmdy5zcGxpY2UoZSwxKX1mdW5jdGlvbiBzKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7cmV0dXJuIHQuYXR0cnMudHlwZT0idGV4dC9jc3MiLGwoZSx0LmF0dHJzKSxpKHQsZSksZX1mdW5jdGlvbiBjKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpbmsiKTtyZXR1cm4gdC5hdHRycy50eXBlPSJ0ZXh0L2NzcyIsdC5hdHRycy5yZWw9InN0eWxlc2hlZXQiLGwoZSx0LmF0dHJzKSxpKHQsZSksZX1mdW5jdGlvbiBsKHQsZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihuKXt0LnNldEF0dHJpYnV0ZShuLGVbbl0pfSl9ZnVuY3Rpb24gdSh0LGUpe3ZhciBuLG8scixpO2lmKGUudHJhbnNmb3JtJiZ0LmNzcyl7aWYoIShpPWUudHJhbnNmb3JtKHQuY3NzKSkpcmV0dXJuIGZ1bmN0aW9uKCl7fTt0LmNzcz1pfWlmKGUuc2luZ2xldG9uKXt2YXIgbD1oKys7bj1nfHwoZz1zKGUpKSxvPWYuYmluZChudWxsLG4sbCwhMSkscj1mLmJpbmQobnVsbCxuLGwsITApfWVsc2UgdC5zb3VyY2VNYXAmJiJmdW5jdGlvbiI9PXR5cGVvZiBVUkwmJiJmdW5jdGlvbiI9PXR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMJiYiZnVuY3Rpb24iPT10eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCYmImZ1bmN0aW9uIj09dHlwZW9mIEJsb2ImJiJmdW5jdGlvbiI9PXR5cGVvZiBidG9hPyhuPWMoZSksbz1wLmJpbmQobnVsbCxuLGUpLHI9ZnVuY3Rpb24oKXthKG4pLG4uaHJlZiYmVVJMLnJldm9rZU9iamVjdFVSTChuLmhyZWYpfSk6KG49cyhlKSxvPWQuYmluZChudWxsLG4pLHI9ZnVuY3Rpb24oKXthKG4pfSk7cmV0dXJuIG8odCksZnVuY3Rpb24oZSl7aWYoZSl7aWYoZS5jc3M9PT10LmNzcyYmZS5tZWRpYT09PXQubWVkaWEmJmUuc291cmNlTWFwPT09dC5zb3VyY2VNYXApcmV0dXJuO28odD1lKX1lbHNlIHIoKX19ZnVuY3Rpb24gZih0LGUsbixvKXt2YXIgcj1uPyIiOm8uY3NzO2lmKHQuc3R5bGVTaGVldCl0LnN0eWxlU2hlZXQuY3NzVGV4dD14KGUscik7ZWxzZXt2YXIgaT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShyKSxhPXQuY2hpbGROb2RlczthW2VdJiZ0LnJlbW92ZUNoaWxkKGFbZV0pLGEubGVuZ3RoP3QuaW5zZXJ0QmVmb3JlKGksYVtlXSk6dC5hcHBlbmRDaGlsZChpKX19ZnVuY3Rpb24gZCh0LGUpe3ZhciBuPWUuY3NzLG89ZS5tZWRpYTtpZihvJiZ0LnNldEF0dHJpYnV0ZSgibWVkaWEiLG8pLHQuc3R5bGVTaGVldCl0LnN0eWxlU2hlZXQuY3NzVGV4dD1uO2Vsc2V7Zm9yKDt0LmZpcnN0Q2hpbGQ7KXQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKTt0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4pKX19ZnVuY3Rpb24gcCh0LGUsbil7dmFyIG89bi5jc3Mscj1uLnNvdXJjZU1hcCxpPXZvaWQgMD09PWUuY29udmVydFRvQWJzb2x1dGVVcmxzJiZyOyhlLmNvbnZlcnRUb0Fic29sdXRlVXJsc3x8aSkmJihvPXkobykpLHImJihvKz0iXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocikpKSkrIiAqLyIpO3ZhciBhPW5ldyBCbG9iKFtvXSx7dHlwZToidGV4dC9jc3MifSkscz10LmhyZWY7dC5ocmVmPVVSTC5jcmVhdGVPYmplY3RVUkwoYSkscyYmVVJMLnJldm9rZU9iamVjdFVSTChzKX12YXIgbT17fSxiPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1lJiYoZT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSksZX19KGZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdyYmZG9jdW1lbnQmJmRvY3VtZW50LmFsbCYmIXdpbmRvdy5hdG9ifSksdj1mdW5jdGlvbih0KXt2YXIgZT17fTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHZvaWQgMD09PWVbbl0mJihlW25dPXQuY2FsbCh0aGlzLG4pKSxlW25dfX0oZnVuY3Rpb24odCl7cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCl9KSxnPW51bGwsaD0wLHc9W10seT1uKDE1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIERFQlVHJiZERUJVRyYmIm9iamVjdCIhPXR5cGVvZiBkb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudCIpO2U9ZXx8e30sZS5hdHRycz0ib2JqZWN0Ij09dHlwZW9mIGUuYXR0cnM/ZS5hdHRyczp7fSxlLnNpbmdsZXRvbnx8KGUuc2luZ2xldG9uPWIoKSksZS5pbnNlcnRJbnRvfHwoZS5pbnNlcnRJbnRvPSJoZWFkIiksZS5pbnNlcnRBdHx8KGUuaW5zZXJ0QXQ9ImJvdHRvbSIpO3ZhciBuPXIodCxlKTtyZXR1cm4gbyhuLGUpLGZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1bXSxhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBzPW5bYV0sYz1tW3MuaWRdO2MucmVmcy0tLGkucHVzaChjKX1pZih0KXtvKHIodCxlKSxlKX1mb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIGM9aVthXTtpZigwPT09Yy5yZWZzKXtmb3IodmFyIGw9MDtsPGMucGFydHMubGVuZ3RoO2wrKyljLnBhcnRzW2xdKCk7ZGVsZXRlIG1bYy5pZF19fX19O3ZhciB4PWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuIHRbZV09bix0LmZpbHRlcihCb29sZWFuKS5qb2luKCJcbiIpfX0oKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5sb2NhdGlvbjtpZighZSl0aHJvdyBuZXcgRXJyb3IoImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uIik7aWYoIXR8fCJzdHJpbmciIT10eXBlb2YgdClyZXR1cm4gdDt2YXIgbj1lLnByb3RvY29sKyIvLyIrZS5ob3N0LG89bitlLnBhdGhuYW1lLnJlcGxhY2UoL1wvW15cL10qJC8sIi8iKTtyZXR1cm4gdC5yZXBsYWNlKC91cmxccypcKCgoPzpbXikoXXxcKCg/OlteKShdK3xcKFteKShdKlwpKSpcKSkqKVwpL2dpLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS50cmltKCkucmVwbGFjZSgvXiIoLiopIiQvLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV9KS5yZXBsYWNlKC9eJyguKiknJC8sZnVuY3Rpb24odCxlKXtyZXR1cm4gZX0pO2lmKC9eKCN8ZGF0YTp8aHR0cDpcL1wvfGh0dHBzOlwvXC98ZmlsZTpcL1wvXC8pL2kudGVzdChyKSlyZXR1cm4gdDt2YXIgaTtyZXR1cm4gaT0wPT09ci5pbmRleE9mKCIvLyIpP3I6MD09PXIuaW5kZXhPZigiLyIpP24rcjpvK3IucmVwbGFjZSgvXlwuXC8vLCIiKSwidXJsKCIrSlNPTi5zdHJpbmdpZnkoaSkrIikifSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIG89bigxNyk7InVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3d8fHdpbmRvdy5Qcm9taXNlfHwod2luZG93LlByb21pc2U9byksbigyMSksU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc3x8KFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7cmV0dXJuIm51bWJlciIhPXR5cGVvZiBlJiYoZT0wKSwhKGUrdC5sZW5ndGg+dGhpcy5sZW5ndGgpJiYtMSE9PXRoaXMuaW5kZXhPZih0LGUpfSksQXJyYXkucHJvdG90eXBlLmluY2x1ZGVzfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCJpbmNsdWRlcyIse3ZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYobnVsbD09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKCcidGhpcyIgaXMgbnVsbCBvciBub3QgZGVmaW5lZCcpO3ZhciBuPU9iamVjdCh0aGlzKSxvPW4ubGVuZ3RoPj4+MDtpZigwPT09bylyZXR1cm4hMTtmb3IodmFyIHI9MHxlLGk9TWF0aC5tYXgocj49MD9yOm8tTWF0aC5hYnMociksMCk7aTxvOyl7aWYoZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV8fCJudW1iZXIiPT10eXBlb2YgdCYmIm51bWJlciI9PXR5cGVvZiBlJiZpc05hTih0KSYmaXNOYU4oZSl9KG5baV0sdCkpcmV0dXJuITA7aSsrfXJldHVybiExfX0pLCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZmdW5jdGlvbih0KXt0LmZvckVhY2goZnVuY3Rpb24odCl7dC5oYXNPd25Qcm9wZXJ0eSgicmVtb3ZlIil8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJyZW1vdmUiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKX19KX0pfShbRWxlbWVudC5wcm90b3R5cGUsQ2hhcmFjdGVyRGF0YS5wcm90b3R5cGUsRG9jdW1lbnRUeXBlLnByb3RvdHlwZV0pfSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUpeyFmdW5jdGlvbihuKXtmdW5jdGlvbiBvKCl7fWZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gZnVuY3Rpb24oKXt0LmFwcGx5KGUsYXJndW1lbnRzKX19ZnVuY3Rpb24gaSh0KXtpZigib2JqZWN0IiE9dHlwZW9mIHRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcigiUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigibm90IGEgZnVuY3Rpb24iKTt0aGlzLl9zdGF0ZT0wLHRoaXMuX2hhbmRsZWQ9ITEsdGhpcy5fdmFsdWU9dm9pZCAwLHRoaXMuX2RlZmVycmVkcz1bXSxmKHQsdGhpcyl9ZnVuY3Rpb24gYSh0LGUpe2Zvcig7Mz09PXQuX3N0YXRlOyl0PXQuX3ZhbHVlO2lmKDA9PT10Ll9zdGF0ZSlyZXR1cm4gdm9pZCB0Ll9kZWZlcnJlZHMucHVzaChlKTt0Ll9oYW5kbGVkPSEwLGkuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCl7dmFyIG49MT09PXQuX3N0YXRlP2Uub25GdWxmaWxsZWQ6ZS5vblJlamVjdGVkO2lmKG51bGw9PT1uKXJldHVybiB2b2lkKDE9PT10Ll9zdGF0ZT9zOmMpKGUucHJvbWlzZSx0Ll92YWx1ZSk7dmFyIG87dHJ5e289bih0Ll92YWx1ZSl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgYyhlLnByb21pc2UsdCl9cyhlLnByb21pc2Usbyl9KX1mdW5jdGlvbiBzKHQsZSl7dHJ5e2lmKGU9PT10KXRocm93IG5ldyBUeXBlRXJyb3IoIkEgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuIik7aWYoZSYmKCJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUpKXt2YXIgbj1lLnRoZW47aWYoZSBpbnN0YW5jZW9mIGkpcmV0dXJuIHQuX3N0YXRlPTMsdC5fdmFsdWU9ZSx2b2lkIGwodCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4pcmV0dXJuIHZvaWQgZihyKG4sZSksdCl9dC5fc3RhdGU9MSx0Ll92YWx1ZT1lLGwodCl9Y2F0Y2goZSl7Yyh0LGUpfX1mdW5jdGlvbiBjKHQsZSl7dC5fc3RhdGU9Mix0Ll92YWx1ZT1lLGwodCl9ZnVuY3Rpb24gbCh0KXsyPT09dC5fc3RhdGUmJjA9PT10Ll9kZWZlcnJlZHMubGVuZ3RoJiZpLl9pbW1lZGlhdGVGbihmdW5jdGlvbigpe3QuX2hhbmRsZWR8fGkuX3VuaGFuZGxlZFJlamVjdGlvbkZuKHQuX3ZhbHVlKX0pO2Zvcih2YXIgZT0wLG49dC5fZGVmZXJyZWRzLmxlbmd0aDtlPG47ZSsrKWEodCx0Ll9kZWZlcnJlZHNbZV0pO3QuX2RlZmVycmVkcz1udWxsfWZ1bmN0aW9uIHUodCxlLG4pe3RoaXMub25GdWxmaWxsZWQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpudWxsLHRoaXMub25SZWplY3RlZD0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOm51bGwsdGhpcy5wcm9taXNlPW59ZnVuY3Rpb24gZih0LGUpe3ZhciBuPSExO3RyeXt0KGZ1bmN0aW9uKHQpe258fChuPSEwLHMoZSx0KSl9LGZ1bmN0aW9uKHQpe258fChuPSEwLGMoZSx0KSl9KX1jYXRjaCh0KXtpZihuKXJldHVybjtuPSEwLGMoZSx0KX19dmFyIGQ9c2V0VGltZW91dDtpLnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKG51bGwsdCl9LGkucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgdGhpcy5jb25zdHJ1Y3RvcihvKTtyZXR1cm4gYSh0aGlzLG5ldyB1KHQsZSxuKSksbn0saS5hbGw9ZnVuY3Rpb24odCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCk7cmV0dXJuIG5ldyBpKGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gbyhpLGEpe3RyeXtpZihhJiYoIm9iamVjdCI9PXR5cGVvZiBhfHwiZnVuY3Rpb24iPT10eXBlb2YgYSkpe3ZhciBzPWEudGhlbjtpZigiZnVuY3Rpb24iPT10eXBlb2YgcylyZXR1cm4gdm9pZCBzLmNhbGwoYSxmdW5jdGlvbih0KXtvKGksdCl9LG4pfWVbaV09YSwwPT0tLXImJnQoZSl9Y2F0Y2godCl7bih0KX19aWYoMD09PWUubGVuZ3RoKXJldHVybiB0KFtdKTtmb3IodmFyIHI9ZS5sZW5ndGgsaT0wO2k8ZS5sZW5ndGg7aSsrKW8oaSxlW2ldKX0pfSxpLnJlc29sdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJvYmplY3QiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3Rvcj09PWk/dDpuZXcgaShmdW5jdGlvbihlKXtlKHQpfSl9LGkucmVqZWN0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaShmdW5jdGlvbihlLG4pe24odCl9KX0saS5yYWNlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaShmdW5jdGlvbihlLG4pe2Zvcih2YXIgbz0wLHI9dC5sZW5ndGg7bzxyO28rKyl0W29dLnRoZW4oZSxuKX0pfSxpLl9pbW1lZGlhdGVGbj0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZnVuY3Rpb24odCl7ZSh0KX18fGZ1bmN0aW9uKHQpe2QodCwwKX0saS5fdW5oYW5kbGVkUmVqZWN0aW9uRm49ZnVuY3Rpb24odCl7InVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlJiZjb25zb2xlLndhcm4oIlBvc3NpYmxlIFVuaGFuZGxlZCBQcm9taXNlIFJlamVjdGlvbjoiLHQpfSxpLl9zZXRJbW1lZGlhdGVGbj1mdW5jdGlvbih0KXtpLl9pbW1lZGlhdGVGbj10fSxpLl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Gbj1mdW5jdGlvbih0KXtpLl91bmhhbmRsZWRSZWplY3Rpb25Gbj10fSx2b2lkIDAhPT10JiZ0LmV4cG9ydHM/dC5leHBvcnRzPWk6bi5Qcm9taXNlfHwobi5Qcm9taXNlPWkpfSh0aGlzKX0pLmNhbGwoZSxuKDE4KS5zZXRJbW1lZGlhdGUpfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbyh0LGUpe3RoaXMuX2lkPXQsdGhpcy5fY2xlYXJGbj1lfXZhciByPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtlLnNldFRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG8oci5jYWxsKHNldFRpbWVvdXQsd2luZG93LGFyZ3VtZW50cyksY2xlYXJUaW1lb3V0KX0sZS5zZXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgbyhyLmNhbGwoc2V0SW50ZXJ2YWwsd2luZG93LGFyZ3VtZW50cyksY2xlYXJJbnRlcnZhbCl9LGUuY2xlYXJUaW1lb3V0PWUuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbih0KXt0JiZ0LmNsb3NlKCl9LG8ucHJvdG90eXBlLnVucmVmPW8ucHJvdG90eXBlLnJlZj1mdW5jdGlvbigpe30sby5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LHRoaXMuX2lkKX0sZS5lbnJvbGw9ZnVuY3Rpb24odCxlKXtjbGVhclRpbWVvdXQodC5faWRsZVRpbWVvdXRJZCksdC5faWRsZVRpbWVvdXQ9ZX0sZS51bmVucm9sbD1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodC5faWRsZVRpbWVvdXRJZCksdC5faWRsZVRpbWVvdXQ9LTF9LGUuX3VucmVmQWN0aXZlPWUuYWN0aXZlPWZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dCh0Ll9pZGxlVGltZW91dElkKTt2YXIgZT10Ll9pZGxlVGltZW91dDtlPj0wJiYodC5faWRsZVRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fb25UaW1lb3V0JiZ0Ll9vblRpbWVvdXQoKX0sZSkpfSxuKDE5KSxlLnNldEltbWVkaWF0ZT1zZXRJbW1lZGlhdGUsZS5jbGVhckltbWVkaWF0ZT1jbGVhckltbWVkaWF0ZX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0LGUpeyFmdW5jdGlvbih0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKHQpeyJmdW5jdGlvbiIhPXR5cGVvZiB0JiYodD1uZXcgRnVuY3Rpb24oIiIrdCkpO2Zvcih2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSxuPTA7bjxlLmxlbmd0aDtuKyspZVtuXT1hcmd1bWVudHNbbisxXTt2YXIgbz17Y2FsbGJhY2s6dCxhcmdzOmV9O3JldHVybiBsW2NdPW8scyhjKSxjKyt9ZnVuY3Rpb24gcih0KXtkZWxldGUgbFt0XX1mdW5jdGlvbiBpKHQpe3ZhciBlPXQuY2FsbGJhY2ssbz10LmFyZ3M7c3dpdGNoKG8ubGVuZ3RoKXtjYXNlIDA6ZSgpO2JyZWFrO2Nhc2UgMTplKG9bMF0pO2JyZWFrO2Nhc2UgMjplKG9bMF0sb1sxXSk7YnJlYWs7Y2FzZSAzOmUob1swXSxvWzFdLG9bMl0pO2JyZWFrO2RlZmF1bHQ6ZS5hcHBseShuLG8pfX1mdW5jdGlvbiBhKHQpe2lmKHUpc2V0VGltZW91dChhLDAsdCk7ZWxzZXt2YXIgZT1sW3RdO2lmKGUpe3U9ITA7dHJ5e2koZSl9ZmluYWxseXtyKHQpLHU9ITF9fX19aWYoIXQuc2V0SW1tZWRpYXRlKXt2YXIgcyxjPTEsbD17fSx1PSExLGY9dC5kb2N1bWVudCxkPU9iamVjdC5nZXRQcm90b3R5cGVPZiYmT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpO2Q9ZCYmZC5zZXRUaW1lb3V0P2Q6dCwiW29iamVjdCBwcm9jZXNzXSI9PT17fS50b1N0cmluZy5jYWxsKHQucHJvY2Vzcyk/ZnVuY3Rpb24oKXtzPWZ1bmN0aW9uKHQpe2UubmV4dFRpY2soZnVuY3Rpb24oKXthKHQpfSl9fSgpOmZ1bmN0aW9uKCl7aWYodC5wb3N0TWVzc2FnZSYmIXQuaW1wb3J0U2NyaXB0cyl7dmFyIGU9ITAsbj10Lm9ubWVzc2FnZTtyZXR1cm4gdC5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtlPSExfSx0LnBvc3RNZXNzYWdlKCIiLCIqIiksdC5vbm1lc3NhZ2U9bixlfX0oKT9mdW5jdGlvbigpe3ZhciBlPSJzZXRJbW1lZGlhdGUkIitNYXRoLnJhbmRvbSgpKyIkIixuPWZ1bmN0aW9uKG4pe24uc291cmNlPT09dCYmInN0cmluZyI9PXR5cGVvZiBuLmRhdGEmJjA9PT1uLmRhdGEuaW5kZXhPZihlKSYmYSgrbi5kYXRhLnNsaWNlKGUubGVuZ3RoKSl9O3QuYWRkRXZlbnRMaXN0ZW5lcj90LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG4sITEpOnQuYXR0YWNoRXZlbnQoIm9ubWVzc2FnZSIsbikscz1mdW5jdGlvbihuKXt0LnBvc3RNZXNzYWdlKGUrbiwiKiIpfX0oKTp0Lk1lc3NhZ2VDaGFubmVsP2Z1bmN0aW9uKCl7dmFyIHQ9bmV3IE1lc3NhZ2VDaGFubmVsO3QucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKHQpe2EodC5kYXRhKX0scz1mdW5jdGlvbihlKXt0LnBvcnQyLnBvc3RNZXNzYWdlKGUpfX0oKTpmJiYib25yZWFkeXN0YXRlY2hhbmdlImluIGYuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik/ZnVuY3Rpb24oKXt2YXIgdD1mLmRvY3VtZW50RWxlbWVudDtzPWZ1bmN0aW9uKGUpe3ZhciBuPWYuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7bi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXthKGUpLG4ub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdC5yZW1vdmVDaGlsZChuKSxuPW51bGx9LHQuYXBwZW5kQ2hpbGQobil9fSgpOmZ1bmN0aW9uKCl7cz1mdW5jdGlvbih0KXtzZXRUaW1lb3V0KGEsMCx0KX19KCksZC5zZXRJbW1lZGlhdGU9byxkLmNsZWFySW1tZWRpYXRlPXJ9fSgidW5kZWZpbmVkIj09dHlwZW9mIHNlbGY/dm9pZCAwPT09dD90aGlzOnQ6c2VsZil9KS5jYWxsKGUsbig3KSxuKDIwKSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3Rocm93IG5ldyBFcnJvcigic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIG8oKXt0aHJvdyBuZXcgRXJyb3IoImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIHIodCl7aWYodT09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQodCwwKTtpZigodT09PW58fCF1KSYmc2V0VGltZW91dClyZXR1cm4gdT1zZXRUaW1lb3V0LHNldFRpbWVvdXQodCwwKTt0cnl7cmV0dXJuIHUodCwwKX1jYXRjaChlKXt0cnl7cmV0dXJuIHUuY2FsbChudWxsLHQsMCl9Y2F0Y2goZSl7cmV0dXJuIHUuY2FsbCh0aGlzLHQsMCl9fX1mdW5jdGlvbiBpKHQpe2lmKGY9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dCh0KTtpZigoZj09PW98fCFmKSYmY2xlYXJUaW1lb3V0KXJldHVybiBmPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQodCk7dHJ5e3JldHVybiBmKHQpfWNhdGNoKGUpe3RyeXtyZXR1cm4gZi5jYWxsKG51bGwsdCl9Y2F0Y2goZSl7cmV0dXJuIGYuY2FsbCh0aGlzLHQpfX19ZnVuY3Rpb24gYSgpe2ImJnAmJihiPSExLHAubGVuZ3RoP209cC5jb25jYXQobSk6dj0tMSxtLmxlbmd0aCYmcygpKX1mdW5jdGlvbiBzKCl7aWYoIWIpe3ZhciB0PXIoYSk7Yj0hMDtmb3IodmFyIGU9bS5sZW5ndGg7ZTspe2ZvcihwPW0sbT1bXTsrK3Y8ZTspcCYmcFt2XS5ydW4oKTt2PS0xLGU9bS5sZW5ndGh9cD1udWxsLGI9ITEsaSh0KX19ZnVuY3Rpb24gYyh0LGUpe3RoaXMuZnVuPXQsdGhpcy5hcnJheT1lfWZ1bmN0aW9uIGwoKXt9dmFyIHUsZixkPXQuZXhwb3J0cz17fTshZnVuY3Rpb24oKXt0cnl7dT0iZnVuY3Rpb24iPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om59Y2F0Y2godCl7dT1ufXRyeXtmPSJmdW5jdGlvbiI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0Om99Y2F0Y2godCl7Zj1vfX0oKTt2YXIgcCxtPVtdLGI9ITEsdj0tMTtkLm5leHRUaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07bS5wdXNoKG5ldyBjKHQsZSkpLDEhPT1tLmxlbmd0aHx8Ynx8cihzKX0sYy5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0sZC50aXRsZT0iYnJvd3NlciIsZC5icm93c2VyPSEwLGQuZW52PXt9LGQuYXJndj1bXSxkLnZlcnNpb249IiIsZC52ZXJzaW9ucz17fSxkLm9uPWwsZC5hZGRMaXN0ZW5lcj1sLGQub25jZT1sLGQub2ZmPWwsZC5yZW1vdmVMaXN0ZW5lcj1sLGQucmVtb3ZlQWxsTGlzdGVuZXJzPWwsZC5lbWl0PWwsZC5wcmVwZW5kTGlzdGVuZXI9bCxkLnByZXBlbmRPbmNlTGlzdGVuZXI9bCxkLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm5bXX0sZC5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQiKX0sZC5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm4iLyJ9LGQuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKX0sZC51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuKDIyKS5wb2x5ZmlsbCgpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8odCxlKXtpZih2b2lkIDA9PT10fHxudWxsPT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY29udmVydCBmaXJzdCBhcmd1bWVudCB0byBvYmplY3QiKTtmb3IodmFyIG49T2JqZWN0KHQpLG89MTtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKXt2YXIgcj1hcmd1bWVudHNbb107aWYodm9pZCAwIT09ciYmbnVsbCE9PXIpZm9yKHZhciBpPU9iamVjdC5rZXlzKE9iamVjdChyKSksYT0wLHM9aS5sZW5ndGg7YTxzO2ErKyl7dmFyIGM9aVthXSxsPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixjKTt2b2lkIDAhPT1sJiZsLmVudW1lcmFibGUmJihuW2NdPXJbY10pfX1yZXR1cm4gbn1mdW5jdGlvbiByKCl7T2JqZWN0LmFzc2lnbnx8T2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdCwiYXNzaWduIix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6b30pfXQuZXhwb3J0cz17YXNzaWduOm8scG9seWZpbGw6cn19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMjQpLHI9big2KSxpPW4oNSksYT1uKDM2KSxzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO2lmKCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93KXt2YXIgbj1hLmdldE9wdHMuYXBwbHkodm9pZCAwLHQpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0LGUpe2kuZGVmYXVsdC5wcm9taXNlPXtyZXNvbHZlOnQscmVqZWN0OmV9LG8uZGVmYXVsdChuKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5vcGVuTW9kYWwoKX0pfSl9fTtzLmNsb3NlPXIub25BY3Rpb24scy5nZXRTdGF0ZT1yLmdldFN0YXRlLHMuc2V0QWN0aW9uVmFsdWU9aS5zZXRBY3Rpb25WYWx1ZSxzLnN0b3BMb2FkaW5nPXIuc3RvcExvYWRpbmcscy5zZXREZWZhdWx0cz1hLnNldERlZmF1bHRzLGUuZGVmYXVsdD1zfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpLHI9bigwKSxpPXIuZGVmYXVsdC5NT0RBTCxhPW4oNCkscz1uKDM0KSxjPW4oMzUpLGw9bigxKTtlLmluaXQ9ZnVuY3Rpb24odCl7by5nZXROb2RlKGkpfHwoZG9jdW1lbnQuYm9keXx8bC50aHJvd0VycigiWW91IGNhbiBvbmx5IHVzZSBTd2VldEFsZXJ0IEFGVEVSIHRoZSBET00gaGFzIGxvYWRlZCEiKSxzLmRlZmF1bHQoKSxhLmRlZmF1bHQoKSksYS5pbml0TW9kYWxDb250ZW50KHQpLGMuZGVmYXVsdCh0KX0sZS5kZWZhdWx0PWUuaW5pdH0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxyPW8uZGVmYXVsdC5NT0RBTDtlLm1vZGFsTWFya3VwPSdcbiAgPGRpdiBjbGFzcz0iJytyKyciIHJvbGU9ImRpYWxvZyIgYXJpYS1tb2RhbD0idHJ1ZSI+PC9kaXY+JyxlLmRlZmF1bHQ9ZS5tb2RhbE1hcmt1cH0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxyPW8uZGVmYXVsdC5PVkVSTEFZLGk9JzxkaXYgXG4gICAgY2xhc3M9IicrcisnIlxuICAgIHRhYkluZGV4PSItMSI+XG4gIDwvZGl2Pic7ZS5kZWZhdWx0PWl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCkscj1vLmRlZmF1bHQuSUNPTjtlLmVycm9ySWNvbk1hcmt1cD1mdW5jdGlvbigpe3ZhciB0PXIrIi0tZXJyb3IiLGU9dCsiX19saW5lIjtyZXR1cm4nXG4gICAgPGRpdiBjbGFzcz0iJyt0KydfX3gtbWFyayI+XG4gICAgICA8c3BhbiBjbGFzcz0iJytlKyIgIitlKyctLWxlZnQiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPSInK2UrIiAiK2UrJy0tcmlnaHQiPjwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgJ30sZS53YXJuaW5nSWNvbk1hcmt1cD1mdW5jdGlvbigpe3ZhciB0PXIrIi0td2FybmluZyI7cmV0dXJuJ1xuICAgIDxzcGFuIGNsYXNzPSInK3QrJ19fYm9keSI+XG4gICAgICA8c3BhbiBjbGFzcz0iJyt0KydfX2RvdCI+PC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgJ30sZS5zdWNjZXNzSWNvbk1hcmt1cD1mdW5jdGlvbigpe3ZhciB0PXIrIi0tc3VjY2VzcyI7cmV0dXJuJ1xuICAgIDxzcGFuIGNsYXNzPSInK3QrIl9fbGluZSAiK3QrJ19fbGluZS0tbG9uZyI+PC9zcGFuPlxuICAgIDxzcGFuIGNsYXNzPSInK3QrIl9fbGluZSAiK3QrJ19fbGluZS0tdGlwIj48L3NwYW4+XG5cbiAgICA8ZGl2IGNsYXNzPSInK3QrJ19fcmluZyI+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz0iJyt0KydfX2hpZGUtY29ybmVycyI+PC9kaXY+XG4gICd9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLHI9by5kZWZhdWx0LkNPTlRFTlQ7ZS5jb250ZW50TWFya3VwPSdcbiAgPGRpdiBjbGFzcz0iJytyKyciPlxuXG4gIDwvZGl2PlxuJ30sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxyPW8uZGVmYXVsdC5CVVRUT05fQ09OVEFJTkVSLGk9by5kZWZhdWx0LkJVVFRPTixhPW8uZGVmYXVsdC5CVVRUT05fTE9BREVSO2UuYnV0dG9uTWFya3VwPSdcbiAgPGRpdiBjbGFzcz0iJytyKyciPlxuXG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3M9IicraSsnIlxuICAgID48L2J1dHRvbj5cblxuICAgIDxkaXYgY2xhc3M9IicrYSsnIj5cbiAgICAgIDxkaXY+PC9kaXY+XG4gICAgICA8ZGl2PjwvZGl2PlxuICAgICAgPGRpdj48L2Rpdj5cbiAgICA8L2Rpdj5cblxuICA8L2Rpdj5cbid9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPW4oNCkscj1uKDIpLGk9bigwKSxhPWkuZGVmYXVsdC5JQ09OLHM9aS5kZWZhdWx0LklDT05fQ1VTVE9NLGM9WyJlcnJvciIsIndhcm5pbmciLCJzdWNjZXNzIiwiaW5mbyJdLGw9e2Vycm9yOnIuZXJyb3JJY29uTWFya3VwKCksd2FybmluZzpyLndhcm5pbmdJY29uTWFya3VwKCksc3VjY2VzczpyLnN1Y2Nlc3NJY29uTWFya3VwKCl9LHU9ZnVuY3Rpb24odCxlKXt2YXIgbj1hKyItLSIrdDtlLmNsYXNzTGlzdC5hZGQobik7dmFyIG89bFt0XTtvJiYoZS5pbm5lckhUTUw9byl9LGY9ZnVuY3Rpb24odCxlKXtlLmNsYXNzTGlzdC5hZGQocyk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7bi5zcmM9dCxlLmFwcGVuZENoaWxkKG4pfSxkPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPW8uaW5qZWN0RWxJbnRvTW9kYWwoci5pY29uTWFya3VwKTtjLmluY2x1ZGVzKHQpP3UodCxlKTpmKHQsZSl9fTtlLmRlZmF1bHQ9ZH0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89bigyKSxyPW4oNCksaT1mdW5jdGlvbih0KXtuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCJBcHBsZVdlYktpdCIpJiYodC5zdHlsZS5kaXNwbGF5PSJub25lIix0Lm9mZnNldEhlaWdodCx0LnN0eWxlLmRpc3BsYXk9IiIpfTtlLmluaXRUaXRsZT1mdW5jdGlvbih0KXtpZih0KXt2YXIgZT1yLmluamVjdEVsSW50b01vZGFsKG8udGl0bGVNYXJrdXApO2UudGV4dENvbnRlbnQ9dCxpKGUpfX0sZS5pbml0VGV4dD1mdW5jdGlvbih0KXtpZih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7dC5zcGxpdCgiXG4iKS5mb3JFYWNoKGZ1bmN0aW9uKHQsbixvKXtlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpKSxuPG8ubGVuZ3RoLTEmJmUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKSl9KTt2YXIgbj1yLmluamVjdEVsSW50b01vZGFsKG8udGV4dE1hcmt1cCk7bi5hcHBlbmRDaGlsZChlKSxpKG4pfX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMSkscj1uKDQpLGk9bigwKSxhPWkuZGVmYXVsdC5CVVRUT04scz1pLmRlZmF1bHQuREFOR0VSX0JVVFRPTixjPW4oMyksbD1uKDIpLHU9big2KSxmPW4oNSksZD1mdW5jdGlvbih0LGUsbil7dmFyIHI9ZS50ZXh0LGk9ZS52YWx1ZSxkPWUuY2xhc3NOYW1lLHA9ZS5jbG9zZU1vZGFsLG09by5zdHJpbmdUb05vZGUobC5idXR0b25NYXJrdXApLGI9bS5xdWVyeVNlbGVjdG9yKCIuIithKSx2PWErIi0tIit0O2lmKGIuY2xhc3NMaXN0LmFkZCh2KSxkKXsoQXJyYXkuaXNBcnJheShkKT9kOmQuc3BsaXQoIiAiKSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aD4wfSkuZm9yRWFjaChmdW5jdGlvbih0KXtiLmNsYXNzTGlzdC5hZGQodCl9KX1uJiZ0PT09Yy5DT05GSVJNX0tFWSYmYi5jbGFzc0xpc3QuYWRkKHMpLGIudGV4dENvbnRlbnQ9cjt2YXIgZz17fTtyZXR1cm4gZ1t0XT1pLGYuc2V0QWN0aW9uVmFsdWUoZyksZi5zZXRBY3Rpb25PcHRpb25zRm9yKHQse2Nsb3NlTW9kYWw6cH0pLGIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIHUub25BY3Rpb24odCl9KSxtfSxwPWZ1bmN0aW9uKHQsZSl7dmFyIG49ci5pbmplY3RFbEludG9Nb2RhbChsLmZvb3Rlck1hcmt1cCk7Zm9yKHZhciBvIGluIHQpe3ZhciBpPXRbb10sYT1kKG8saSxlKTtpLnZpc2libGUmJm4uYXBwZW5kQ2hpbGQoYSl9MD09PW4uY2hpbGRyZW4ubGVuZ3RoJiZuLnJlbW92ZSgpfTtlLmRlZmF1bHQ9cH0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89bigzKSxyPW4oNCksaT1uKDIpLGE9big1KSxzPW4oNiksYz1uKDApLGw9Yy5kZWZhdWx0LkNPTlRFTlQsdT1mdW5jdGlvbih0KXt0LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IixmdW5jdGlvbih0KXt2YXIgZT10LnRhcmdldCxuPWUudmFsdWU7YS5zZXRBY3Rpb25WYWx1ZShuKX0pLHQuYWRkRXZlbnRMaXN0ZW5lcigia2V5dXAiLGZ1bmN0aW9uKHQpe2lmKCJFbnRlciI9PT10LmtleSlyZXR1cm4gcy5vbkFjdGlvbihvLkNPTkZJUk1fS0VZKX0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmZvY3VzKCksYS5zZXRBY3Rpb25WYWx1ZSgiIil9LDApfSxmPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpLHI9bCsiX18iK2U7by5jbGFzc0xpc3QuYWRkKHIpO2Zvcih2YXIgaSBpbiBuKXt2YXIgYT1uW2ldO29baV09YX0iaW5wdXQiPT09ZSYmdShvKSx0LmFwcGVuZENoaWxkKG8pfSxkPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXIuaW5qZWN0RWxJbnRvTW9kYWwoaS5jb250ZW50TWFya3VwKSxuPXQuZWxlbWVudCxvPXQuYXR0cmlidXRlczsic3RyaW5nIj09dHlwZW9mIG4/ZihlLG4sbyk6ZS5hcHBlbmRDaGlsZChuKX19O2UuZGVmYXVsdD1kfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpLHI9bigyKSxpPWZ1bmN0aW9uKCl7dmFyIHQ9by5zdHJpbmdUb05vZGUoci5vdmVybGF5TWFya3VwKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQpfTtlLmRlZmF1bHQ9aX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89big1KSxyPW4oNiksaT1uKDEpLGE9bigzKSxzPW4oMCksYz1zLmRlZmF1bHQuTU9EQUwsbD1zLmRlZmF1bHQuQlVUVE9OLHU9cy5kZWZhdWx0Lk9WRVJMQVksZj1mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdigpfSxkPWZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxnKCl9LHA9ZnVuY3Rpb24odCl7aWYoby5kZWZhdWx0LmlzT3Blbilzd2l0Y2godC5rZXkpe2Nhc2UiRXNjYXBlIjpyZXR1cm4gci5vbkFjdGlvbihhLkNBTkNFTF9LRVkpfX0sbT1mdW5jdGlvbih0KXtpZihvLmRlZmF1bHQuaXNPcGVuKXN3aXRjaCh0LmtleSl7Y2FzZSJUYWIiOnJldHVybiBmKHQpfX0sYj1mdW5jdGlvbih0KXtpZihvLmRlZmF1bHQuaXNPcGVuKXJldHVybiJUYWIiPT09dC5rZXkmJnQuc2hpZnRLZXk/ZCh0KTp2b2lkIDB9LHY9ZnVuY3Rpb24oKXt2YXIgdD1pLmdldE5vZGUobCk7dCYmKHQudGFiSW5kZXg9MCx0LmZvY3VzKCkpfSxnPWZ1bmN0aW9uKCl7dmFyIHQ9aS5nZXROb2RlKGMpLGU9dC5xdWVyeVNlbGVjdG9yQWxsKCIuIitsKSxuPWUubGVuZ3RoLTEsbz1lW25dO28mJm8uZm9jdXMoKX0saD1mdW5jdGlvbih0KXt0W3QubGVuZ3RoLTFdLmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLG0pfSx3PWZ1bmN0aW9uKHQpe3RbMF0uYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsYil9LHk9ZnVuY3Rpb24oKXt2YXIgdD1pLmdldE5vZGUoYyksZT10LnF1ZXJ5U2VsZWN0b3JBbGwoIi4iK2wpO2UubGVuZ3RoJiYoaChlKSx3KGUpKX0seD1mdW5jdGlvbih0KXtpZihpLmdldE5vZGUodSk9PT10LnRhcmdldClyZXR1cm4gci5vbkFjdGlvbihhLkNBTkNFTF9LRVkpfSxfPWZ1bmN0aW9uKHQpe3ZhciBlPWkuZ2V0Tm9kZSh1KTtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIix4KSx0JiZlLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIix4KX0saz1mdW5jdGlvbih0KXtvLmRlZmF1bHQudGltZXImJmNsZWFyVGltZW91dChvLmRlZmF1bHQudGltZXIpLHQmJihvLmRlZmF1bHQudGltZXI9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gci5vbkFjdGlvbihhLkNBTkNFTF9LRVkpfSx0KSl9LE89ZnVuY3Rpb24odCl7dC5jbG9zZU9uRXNjP2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIixwKTpkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXl1cCIscCksdC5kYW5nZXJNb2RlP3YoKTpnKCkseSgpLF8odC5jbG9zZU9uQ2xpY2tPdXRzaWRlKSxrKHQudGltZXIpfTtlLmRlZmF1bHQ9T30sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89bigxKSxyPW4oMyksaT1uKDM3KSxhPW4oMzgpLHM9e3RpdGxlOm51bGwsdGV4dDpudWxsLGljb246bnVsbCxidXR0b25zOnIuZGVmYXVsdEJ1dHRvbkxpc3QsY29udGVudDpudWxsLGNsYXNzTmFtZTpudWxsLGNsb3NlT25DbGlja091dHNpZGU6ITAsY2xvc2VPbkVzYzohMCxkYW5nZXJNb2RlOiExLHRpbWVyOm51bGx9LGM9T2JqZWN0LmFzc2lnbih7fSxzKTtlLnNldERlZmF1bHRzPWZ1bmN0aW9uKHQpe2M9T2JqZWN0LmFzc2lnbih7fSxzLHQpfTt2YXIgbD1mdW5jdGlvbih0KXt2YXIgZT10JiZ0LmJ1dHRvbixuPXQmJnQuYnV0dG9ucztyZXR1cm4gdm9pZCAwIT09ZSYmdm9pZCAwIT09biYmby50aHJvd0VycigiQ2Fubm90IHNldCBib3RoICdidXR0b24nIGFuZCAnYnV0dG9ucycgb3B0aW9ucyEiKSx2b2lkIDAhPT1lP3tjb25maXJtOmV9Om59LHU9ZnVuY3Rpb24odCl7cmV0dXJuIG8ub3JkaW5hbFN1ZmZpeE9mKHQrMSl9LGY9ZnVuY3Rpb24odCxlKXtvLnRocm93RXJyKHUoZSkrIiBhcmd1bWVudCAoJyIrdCsiJykgaXMgaW52YWxpZCIpfSxkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dCsxLHI9ZVtuXTtvLmlzUGxhaW5PYmplY3Qocil8fHZvaWQgMD09PXJ8fG8udGhyb3dFcnIoIkV4cGVjdGVkICIrdShuKSsiIGFyZ3VtZW50ICgnIityKyInKSB0byBiZSBhIHBsYWluIG9iamVjdCIpfSxwPWZ1bmN0aW9uKHQsZSl7dmFyIG49dCsxLHI9ZVtuXTt2b2lkIDAhPT1yJiZvLnRocm93RXJyKCJVbmV4cGVjdGVkICIrdShuKSsiIGFyZ3VtZW50ICgiK3IrIikiKX0sbT1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10eXBlb2YgZSxhPSJzdHJpbmciPT09aSxzPWUgaW5zdGFuY2VvZiBFbGVtZW50O2lmKGEpe2lmKDA9PT1uKXJldHVybnt0ZXh0OmV9O2lmKDE9PT1uKXJldHVybnt0ZXh0OmUsdGl0bGU6clswXX07aWYoMj09PW4pcmV0dXJuIGQobixyKSx7aWNvbjplfTtmKGUsbil9ZWxzZXtpZihzJiYwPT09bilyZXR1cm4gZChuLHIpLHtjb250ZW50OmV9O2lmKG8uaXNQbGFpbk9iamVjdChlKSlyZXR1cm4gcChuLHIpLGU7ZihlLG4pfX07ZS5nZXRPcHRzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3ZhciBuPXt9O3QuZm9yRWFjaChmdW5jdGlvbihlLG8pe3ZhciByPW0oMCxlLG8sdCk7T2JqZWN0LmFzc2lnbihuLHIpfSk7dmFyIG89bChuKTtuLmJ1dHRvbnM9ci5nZXRCdXR0b25MaXN0T3B0cyhvKSxkZWxldGUgbi5idXR0b24sbi5jb250ZW50PWkuZ2V0Q29udGVudE9wdHMobi5jb250ZW50KTt2YXIgdT1PYmplY3QuYXNzaWduKHt9LHMsYyxuKTtyZXR1cm4gT2JqZWN0LmtleXModSkuZm9yRWFjaChmdW5jdGlvbih0KXthLkRFUFJFQ0FURURfT1BUU1t0XSYmYS5sb2dEZXByZWNhdGlvbih0KX0pLHV9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpLHI9e2VsZW1lbnQ6ImlucHV0IixhdHRyaWJ1dGVzOntwbGFjZWhvbGRlcjoiIn19O2UuZ2V0Q29udGVudE9wdHM9ZnVuY3Rpb24odCl7dmFyIGU9e307cmV0dXJuIG8uaXNQbGFpbk9iamVjdCh0KT9PYmplY3QuYXNzaWduKGUsdCk6dCBpbnN0YW5jZW9mIEVsZW1lbnQ/e2VsZW1lbnQ6dH06ImlucHV0Ij09PXQ/cjpudWxsfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5sb2dEZXByZWNhdGlvbj1mdW5jdGlvbih0KXt2YXIgbj1lLkRFUFJFQ0FURURfT1BUU1t0XSxvPW4ub25seVJlbmFtZSxyPW4ucmVwbGFjZW1lbnQsaT1uLnN1Yk9wdGlvbixhPW4ubGluayxzPW8/InJlbmFtZWQiOiJkZXByZWNhdGVkIixjPSdTd2VldEFsZXJ0IHdhcm5pbmc6ICInK3QrJyIgb3B0aW9uIGhhcyBiZWVuICcrcysiLiI7aWYocil7Yys9IiBQbGVhc2UgdXNlIisoaT8nICInK2krJyIgaW4gJzoiICIpKyciJytyKyciIGluc3RlYWQuJ312YXIgbD0iaHR0cHM6Ly9zd2VldGFsZXJ0LmpzLm9yZyI7Yys9YT8iIE1vcmUgZGV0YWlsczogIitsK2E6IiBNb3JlIGRldGFpbHM6ICIrbCsiL2d1aWRlcy8jdXBncmFkaW5nLWZyb20tMXgiLGNvbnNvbGUud2FybihjKX0sZS5ERVBSRUNBVEVEX09QVFM9e3R5cGU6e3JlcGxhY2VtZW50OiJpY29uIixsaW5rOiIvZG9jcy8jaWNvbiJ9LGltYWdlVXJsOntyZXBsYWNlbWVudDoiaWNvbiIsbGluazoiL2RvY3MvI2ljb24ifSxjdXN0b21DbGFzczp7cmVwbGFjZW1lbnQ6ImNsYXNzTmFtZSIsb25seVJlbmFtZTohMCxsaW5rOiIvZG9jcy8jY2xhc3NuYW1lIn0saW1hZ2VTaXplOnt9LHNob3dDYW5jZWxCdXR0b246e3JlcGxhY2VtZW50OiJidXR0b25zIixsaW5rOiIvZG9jcy8jYnV0dG9ucyJ9LHNob3dDb25maXJtQnV0dG9uOntyZXBsYWNlbWVudDoiYnV0dG9uIixsaW5rOiIvZG9jcy8jYnV0dG9uIn0sY29uZmlybUJ1dHRvblRleHQ6e3JlcGxhY2VtZW50OiJidXR0b24iLGxpbms6Ii9kb2NzLyNidXR0b24ifSxjb25maXJtQnV0dG9uQ29sb3I6e30sY2FuY2VsQnV0dG9uVGV4dDp7cmVwbGFjZW1lbnQ6ImJ1dHRvbnMiLGxpbms6Ii9kb2NzLyNidXR0b25zIn0sY2xvc2VPbkNvbmZpcm06e3JlcGxhY2VtZW50OiJidXR0b24iLHN1Yk9wdGlvbjoiY2xvc2VNb2RhbCIsbGluazoiL2RvY3MvI2J1dHRvbiJ9LGNsb3NlT25DYW5jZWw6e3JlcGxhY2VtZW50OiJidXR0b25zIixzdWJPcHRpb246ImNsb3NlTW9kYWwiLGxpbms6Ii9kb2NzLyNidXR0b25zIn0sc2hvd0xvYWRlck9uQ29uZmlybTp7cmVwbGFjZW1lbnQ6ImJ1dHRvbnMifSxhbmltYXRpb246e30saW5wdXRUeXBlOntyZXBsYWNlbWVudDoiY29udGVudCIsbGluazoiL2RvY3MvI2NvbnRlbnQifSxpbnB1dFZhbHVlOntyZXBsYWNlbWVudDoiY29udGVudCIsbGluazoiL2RvY3MvI2NvbnRlbnQifSxpbnB1dFBsYWNlaG9sZGVyOntyZXBsYWNlbWVudDoiY29udGVudCIsbGluazoiL2RvY3MvI2NvbnRlbnQifSxodG1sOntyZXBsYWNlbWVudDoiY29udGVudCIsbGluazoiL2RvY3MvI2NvbnRlbnQifSxhbGxvd0VzY2FwZUtleTp7cmVwbGFjZW1lbnQ6ImNsb3NlT25Fc2MiLG9ubHlSZW5hbWU6ITAsbGluazoiL2RvY3MvI2Nsb3Nlb25lc2MifSxhbGxvd0NsaWNrT3V0c2lkZTp7cmVwbGFjZW1lbnQ6ImNsb3NlT25DbGlja091dHNpZGUiLG9ubHlSZW5hbWU6ITAsbGluazoiL2RvY3MvI2Nsb3Nlb25jbGlja291dHNpZGUifX19XSl9KTs="},{"meta":{"name":"clipboard.min.js","url":"https://lib.baomitu.com/clipboard.js/2.0.6/clipboard.min.js","ts":1657549998505,"mimetype":"text/javascript"},"source":"LyohCiAqIGNsaXBib2FyZC5qcyB2Mi4wLjYKICogaHR0cHM6Ly9jbGlwYm9hcmRqcy5jb20vCiAqIAogKiBMaWNlbnNlZCBNSVQgwqkgWmVubyBSb2NoYQogKi8KIWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuQ2xpcGJvYXJkSlM9ZSgpOnQuQ2xpcGJvYXJkSlM9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIG89e30sci5tPW49W2Z1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlO2lmKCJTRUxFQ1QiPT09dC5ub2RlTmFtZSl0LmZvY3VzKCksZT10LnZhbHVlO2Vsc2UgaWYoIklOUFVUIj09PXQubm9kZU5hbWV8fCJURVhUQVJFQSI9PT10Lm5vZGVOYW1lKXt2YXIgbj10Lmhhc0F0dHJpYnV0ZSgicmVhZG9ubHkiKTtufHx0LnNldEF0dHJpYnV0ZSgicmVhZG9ubHkiLCIiKSx0LnNlbGVjdCgpLHQuc2V0U2VsZWN0aW9uUmFuZ2UoMCx0LnZhbHVlLmxlbmd0aCksbnx8dC5yZW1vdmVBdHRyaWJ1dGUoInJlYWRvbmx5IiksZT10LnZhbHVlfWVsc2V7dC5oYXNBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIpJiZ0LmZvY3VzKCk7dmFyIG89d2luZG93LmdldFNlbGVjdGlvbigpLHI9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyLnNlbGVjdE5vZGVDb250ZW50cyh0KSxvLnJlbW92ZUFsbFJhbmdlcygpLG8uYWRkUmFuZ2UociksZT1vLnRvU3RyaW5nKCl9cmV0dXJuIGV9fSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt9bi5wcm90b3R5cGU9e29uOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzLmV8fCh0aGlzLmU9e30pO3JldHVybihvW3RdfHwob1t0XT1bXSkpLnB1c2goe2ZuOmUsY3R4Om59KSx0aGlzfSxvbmNlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzO2Z1bmN0aW9uIHIoKXtvLm9mZih0LHIpLGUuYXBwbHkobixhcmd1bWVudHMpfXJldHVybiByLl89ZSx0aGlzLm9uKHQscixuKX0sZW1pdDpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbj0oKHRoaXMuZXx8KHRoaXMuZT17fSkpW3RdfHxbXSkuc2xpY2UoKSxvPTAscj1uLmxlbmd0aDtvPHI7bysrKW5bb10uZm4uYXBwbHkobltvXS5jdHgsZSk7cmV0dXJuIHRoaXN9LG9mZjpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZXx8KHRoaXMuZT17fSksbz1uW3RdLHI9W107aWYobyYmZSlmb3IodmFyIGk9MCxhPW8ubGVuZ3RoO2k8YTtpKyspb1tpXS5mbiE9PWUmJm9baV0uZm4uXyE9PWUmJnIucHVzaChvW2ldKTtyZXR1cm4gci5sZW5ndGg/blt0XT1yOmRlbGV0ZSBuW3RdLHRoaXN9fSx0LmV4cG9ydHM9bix0LmV4cG9ydHMuVGlueUVtaXR0ZXI9bn0sZnVuY3Rpb24odCxlLG4pe3ZhciBkPW4oMyksaD1uKDQpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7aWYoIXQmJiFlJiYhbil0aHJvdyBuZXcgRXJyb3IoIk1pc3NpbmcgcmVxdWlyZWQgYXJndW1lbnRzIik7aWYoIWQuc3RyaW5nKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIlNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nIik7aWYoIWQuZm4obikpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhpcmQgYXJndW1lbnQgbXVzdCBiZSBhIEZ1bmN0aW9uIik7aWYoZC5ub2RlKHQpKXJldHVybiBzPWUsZj1uLCh1PXQpLmFkZEV2ZW50TGlzdGVuZXIocyxmKSx7ZGVzdHJveTpmdW5jdGlvbigpe3UucmVtb3ZlRXZlbnRMaXN0ZW5lcihzLGYpfX07aWYoZC5ub2RlTGlzdCh0KSlyZXR1cm4gYT10LGM9ZSxsPW4sQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKHQpe3QuYWRkRXZlbnRMaXN0ZW5lcihjLGwpfSkse2Rlc3Ryb3k6ZnVuY3Rpb24oKXtBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24odCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKGMsbCl9KX19O2lmKGQuc3RyaW5nKHQpKXJldHVybiBvPXQscj1lLGk9bixoKGRvY3VtZW50LmJvZHksbyxyLGkpO3Rocm93IG5ldyBUeXBlRXJyb3IoIkZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmcsIEhUTUxFbGVtZW50LCBIVE1MQ29sbGVjdGlvbiwgb3IgTm9kZUxpc3QiKTt2YXIgbyxyLGksYSxjLGwsdSxzLGZ9fSxmdW5jdGlvbih0LG4pe24ubm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiYxPT09dC5ub2RlVHlwZX0sbi5ub2RlTGlzdD1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCk7cmV0dXJuIHZvaWQgMCE9PXQmJigiW29iamVjdCBOb2RlTGlzdF0iPT09ZXx8IltvYmplY3QgSFRNTENvbGxlY3Rpb25dIj09PWUpJiYibGVuZ3RoImluIHQmJigwPT09dC5sZW5ndGh8fG4ubm9kZSh0WzBdKSl9LG4uc3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIFN0cmluZ30sbi5mbj1mdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBGdW5jdGlvbl0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciBhPW4oNSk7ZnVuY3Rpb24gaSh0LGUsbixvLHIpe3ZhciBpPWZ1bmN0aW9uKGUsbix0LG8pe3JldHVybiBmdW5jdGlvbih0KXt0LmRlbGVnYXRlVGFyZ2V0PWEodC50YXJnZXQsbiksdC5kZWxlZ2F0ZVRhcmdldCYmby5jYWxsKGUsdCl9fS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcihuLGkscikse2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIobixpLHIpfX19dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLG8scil7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQuYWRkRXZlbnRMaXN0ZW5lcj9pLmFwcGx5KG51bGwsYXJndW1lbnRzKToiZnVuY3Rpb24iPT10eXBlb2Ygbj9pLmJpbmQobnVsbCxkb2N1bWVudCkuYXBwbHkobnVsbCxhcmd1bWVudHMpOigic3RyaW5nIj09dHlwZW9mIHQmJih0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodCkpLEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbCh0LGZ1bmN0aW9uKHQpe3JldHVybiBpKHQsZSxuLG8scil9KSl9fSxmdW5jdGlvbih0LGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgRWxlbWVudCYmIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpe3ZhciBuPUVsZW1lbnQucHJvdG90eXBlO24ubWF0Y2hlcz1uLm1hdGNoZXNTZWxlY3Rvcnx8bi5tb3pNYXRjaGVzU2VsZWN0b3J8fG4ubXNNYXRjaGVzU2VsZWN0b3J8fG4ub01hdGNoZXNTZWxlY3Rvcnx8bi53ZWJraXRNYXRjaGVzU2VsZWN0b3J9dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7Zm9yKDt0JiY5IT09dC5ub2RlVHlwZTspe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0Lm1hdGNoZXMmJnQubWF0Y2hlcyhlKSlyZXR1cm4gdDt0PXQucGFyZW50Tm9kZX19fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24ucihlKTt2YXIgbz1uKDApLHI9bi5uKG8pLGk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIHR9O2Z1bmN0aW9uIGEodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIG89ZVtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1mdW5jdGlvbiBjKHQpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSh0aGlzLGMpLHRoaXMucmVzb2x2ZU9wdGlvbnModCksdGhpcy5pbml0U2VsZWN0aW9uKCl9dmFyIGw9KGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmYSh0LnByb3RvdHlwZSxlKSxuJiZhKHQsbiksdH0oYyxbe2tleToicmVzb2x2ZU9wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Ont9O3RoaXMuYWN0aW9uPWUuYWN0aW9uLHRoaXMuY29udGFpbmVyPWUuY29udGFpbmVyLHRoaXMuZW1pdHRlcj1lLmVtaXR0ZXIsdGhpcy50YXJnZXQ9ZS50YXJnZXQsdGhpcy50ZXh0PWUudGV4dCx0aGlzLnRyaWdnZXI9ZS50cmlnZ2VyLHRoaXMuc2VsZWN0ZWRUZXh0PSIifX0se2tleToiaW5pdFNlbGVjdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnRleHQ/dGhpcy5zZWxlY3RGYWtlKCk6dGhpcy50YXJnZXQmJnRoaXMuc2VsZWN0VGFyZ2V0KCl9fSx7a2V5OiJzZWxlY3RGYWtlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT0icnRsIj09ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgiZGlyIik7dGhpcy5yZW1vdmVGYWtlKCksdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHQucmVtb3ZlRmFrZSgpfSx0aGlzLmZha2VIYW5kbGVyPXRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIix0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spfHwhMCx0aGlzLmZha2VFbGVtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIiksdGhpcy5mYWtlRWxlbS5zdHlsZS5mb250U2l6ZT0iMTJwdCIsdGhpcy5mYWtlRWxlbS5zdHlsZS5ib3JkZXI9IjAiLHRoaXMuZmFrZUVsZW0uc3R5bGUucGFkZGluZz0iMCIsdGhpcy5mYWtlRWxlbS5zdHlsZS5tYXJnaW49IjAiLHRoaXMuZmFrZUVsZW0uc3R5bGUucG9zaXRpb249ImFic29sdXRlIix0aGlzLmZha2VFbGVtLnN0eWxlW2U/InJpZ2h0IjoibGVmdCJdPSItOTk5OXB4Ijt2YXIgbj13aW5kb3cucGFnZVlPZmZzZXR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7dGhpcy5mYWtlRWxlbS5zdHlsZS50b3A9bisicHgiLHRoaXMuZmFrZUVsZW0uc2V0QXR0cmlidXRlKCJyZWFkb25seSIsIiIpLHRoaXMuZmFrZUVsZW0udmFsdWU9dGhpcy50ZXh0LHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZmFrZUVsZW0pLHRoaXMuc2VsZWN0ZWRUZXh0PXIoKSh0aGlzLmZha2VFbGVtKSx0aGlzLmNvcHlUZXh0KCl9fSx7a2V5OiJyZW1vdmVGYWtlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZmFrZUhhbmRsZXImJih0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKSx0aGlzLmZha2VIYW5kbGVyPW51bGwsdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrPW51bGwpLHRoaXMuZmFrZUVsZW0mJih0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLmZha2VFbGVtKSx0aGlzLmZha2VFbGVtPW51bGwpfX0se2tleToic2VsZWN0VGFyZ2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWRUZXh0PXIoKSh0aGlzLnRhcmdldCksdGhpcy5jb3B5VGV4dCgpfX0se2tleToiY29weVRleHQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwO3RyeXtlPWRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuYWN0aW9uKX1jYXRjaCh0KXtlPSExfXRoaXMuaGFuZGxlUmVzdWx0KGUpfX0se2tleToiaGFuZGxlUmVzdWx0Iix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmVtaXR0ZXIuZW1pdCh0PyJzdWNjZXNzIjoiZXJyb3IiLHthY3Rpb246dGhpcy5hY3Rpb24sdGV4dDp0aGlzLnNlbGVjdGVkVGV4dCx0cmlnZ2VyOnRoaXMudHJpZ2dlcixjbGVhclNlbGVjdGlvbjp0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcyl9KX19LHtrZXk6ImNsZWFyU2VsZWN0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudHJpZ2dlciYmdGhpcy50cmlnZ2VyLmZvY3VzKCksZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCksd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpfX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUZha2UoKX19LHtrZXk6ImFjdGlvbiIsc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90OiJjb3B5IjtpZih0aGlzLl9hY3Rpb249ZSwiY29weSIhPT10aGlzLl9hY3Rpb24mJiJjdXQiIT09dGhpcy5fYWN0aW9uKXRocm93IG5ldyBFcnJvcignSW52YWxpZCAiYWN0aW9uIiB2YWx1ZSwgdXNlIGVpdGhlciAiY29weSIgb3IgImN1dCInKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGlvbn19LHtrZXk6InRhcmdldCIsc2V0OmZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXQpe2lmKCF0fHwib2JqZWN0IiE9PSh2b2lkIDA9PT10PyJ1bmRlZmluZWQiOmkodCkpfHwxIT09dC5ub2RlVHlwZSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgInRhcmdldCIgdmFsdWUsIHVzZSBhIHZhbGlkIEVsZW1lbnQnKTtpZigiY29weSI9PT10aGlzLmFjdGlvbiYmdC5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJ0YXJnZXQiIGF0dHJpYnV0ZS4gUGxlYXNlIHVzZSAicmVhZG9ubHkiIGluc3RlYWQgb2YgImRpc2FibGVkIiBhdHRyaWJ1dGUnKTtpZigiY3V0Ij09PXRoaXMuYWN0aW9uJiYodC5oYXNBdHRyaWJ1dGUoInJlYWRvbmx5Iil8fHQuaGFzQXR0cmlidXRlKCJkaXNhYmxlZCIpKSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgInRhcmdldCIgYXR0cmlidXRlLiBZb3UgY2FuXCd0IGN1dCB0ZXh0IGZyb20gZWxlbWVudHMgd2l0aCAicmVhZG9ubHkiIG9yICJkaXNhYmxlZCIgYXR0cmlidXRlcycpO3RoaXMuX3RhcmdldD10fX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RhcmdldH19XSksYyksdT1uKDEpLHM9bi5uKHUpLGY9bigyKSxkPW4ubihmKSxoPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiB0fSxwPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmeSh0LnByb3RvdHlwZSxlKSxuJiZ5KHQsbiksdH07ZnVuY3Rpb24geSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgbz1lW25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXZhciBtPShmdW5jdGlvbih0LGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9KHYscy5hKSxwKHYsW3trZXk6InJlc29sdmVPcHRpb25zIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDp7fTt0aGlzLmFjdGlvbj0iZnVuY3Rpb24iPT10eXBlb2YgZS5hY3Rpb24/ZS5hY3Rpb246dGhpcy5kZWZhdWx0QWN0aW9uLHRoaXMudGFyZ2V0PSJmdW5jdGlvbiI9PXR5cGVvZiBlLnRhcmdldD9lLnRhcmdldDp0aGlzLmRlZmF1bHRUYXJnZXQsdGhpcy50ZXh0PSJmdW5jdGlvbiI9PXR5cGVvZiBlLnRleHQ/ZS50ZXh0OnRoaXMuZGVmYXVsdFRleHQsdGhpcy5jb250YWluZXI9Im9iamVjdCI9PT1oKGUuY29udGFpbmVyKT9lLmNvbnRhaW5lcjpkb2N1bWVudC5ib2R5fX0se2tleToibGlzdGVuQ2xpY2siLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5saXN0ZW5lcj1kKCkodCwiY2xpY2siLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uQ2xpY2sodCl9KX19LHtrZXk6Im9uQ2xpY2siLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZGVsZWdhdGVUYXJnZXR8fHQuY3VycmVudFRhcmdldDt0aGlzLmNsaXBib2FyZEFjdGlvbiYmKHRoaXMuY2xpcGJvYXJkQWN0aW9uPW51bGwpLHRoaXMuY2xpcGJvYXJkQWN0aW9uPW5ldyBsKHthY3Rpb246dGhpcy5hY3Rpb24oZSksdGFyZ2V0OnRoaXMudGFyZ2V0KGUpLHRleHQ6dGhpcy50ZXh0KGUpLGNvbnRhaW5lcjp0aGlzLmNvbnRhaW5lcix0cmlnZ2VyOmUsZW1pdHRlcjp0aGlzfSl9fSx7a2V5OiJkZWZhdWx0QWN0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gYigiYWN0aW9uIix0KX19LHtrZXk6ImRlZmF1bHRUYXJnZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWIoInRhcmdldCIsdCk7aWYoZSlyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKX19LHtrZXk6ImRlZmF1bHRUZXh0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gYigidGV4dCIsdCl9fSx7a2V5OiJkZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubGlzdGVuZXIuZGVzdHJveSgpLHRoaXMuY2xpcGJvYXJkQWN0aW9uJiYodGhpcy5jbGlwYm9hcmRBY3Rpb24uZGVzdHJveSgpLHRoaXMuY2xpcGJvYXJkQWN0aW9uPW51bGwpfX1dLFt7a2V5OiJpc1N1cHBvcnRlZCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6WyJjb3B5IiwiY3V0Il0sbj0ic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUsbz0hIWRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZDtyZXR1cm4gbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe289byYmISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQodCl9KSxvfX1dKSx2KTtmdW5jdGlvbiB2KHQsZSl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9KHRoaXMsdik7dmFyIG49ZnVuY3Rpb24odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiFlfHwib2JqZWN0IiE9dHlwZW9mIGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlP3Q6ZX0odGhpcywodi5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih2KSkuY2FsbCh0aGlzKSk7cmV0dXJuIG4ucmVzb2x2ZU9wdGlvbnMoZSksbi5saXN0ZW5DbGljayh0KSxufWZ1bmN0aW9uIGIodCxlKXt2YXIgbj0iZGF0YS1jbGlwYm9hcmQtIit0O2lmKGUuaGFzQXR0cmlidXRlKG4pKXJldHVybiBlLmdldEF0dHJpYnV0ZShuKX1lLmRlZmF1bHQ9bX1dLHIuYz1vLHIuZD1mdW5jdGlvbih0LGUsbil7ci5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Om59KX0sci5yPWZ1bmN0aW9uKHQpeyJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LHIudD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9cihlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmIm9iamVjdCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtpZihyLnIobiksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sImRlZmF1bHQiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJiJzdHJpbmciIT10eXBlb2YgZSlmb3IodmFyIG8gaW4gZSlyLmQobixvLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwsbykpO3JldHVybiBufSxyLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIHIuZChlLCJhIixlKSxlfSxyLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LHIucD0iIixyKHIucz02KS5kZWZhdWx0O2Z1bmN0aW9uIHIodCl7aWYob1t0XSlyZXR1cm4gb1t0XS5leHBvcnRzO3ZhciBlPW9bdF09e2k6dCxsOiExLGV4cG9ydHM6e319O3JldHVybiBuW3RdLmNhbGwoZS5leHBvcnRzLGUsZS5leHBvcnRzLHIpLGUubD0hMCxlLmV4cG9ydHN9dmFyIG4sb30pOw=="}]},{"name":"ÈòøÈáå‰∫ëÁõò","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["aliyundrive.com","alicloudccp.com","aliyuncs.com"],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.aliyundrive.com/s/*","https://www.aliyundrive.com/drive*"],"orig_noframes":null,"orig_run_at":"document-body","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1656858703200,"data":{}},"enabled":true,"position":7,"file_url":"https://greasyfork.org/scripts/425955-%E9%98%BF%E9%87%8C%E4%BA%91%E7%9B%98/code/%E9%98%BF%E9%87%8C%E4%BA%91%E7%9B%98.user.js","uuid":"51b6952f-00bf-4fe8-9552-c7667b26350e","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDpmL/ph4zkupHnm5gKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAyLjEuNQovLyBAZGVzY3JpcHRpb24gIOaUr+aMgeeUn+aIkOaWh+S7tuS4i+i9vemTvuaOpe+8iOWkmuenjeS4i+i9veWnv+WKv++8ie+8jOaUr+aMgeesrOS4ieaWueaSreaUvuWZqERQbGF5ZXLvvIjlj6/oh6rnlLHliIfmjaLvvIzmlK/mjIHoh6rliqgv5omL5Yqo5re75Yqg5a2X5bmV77yM56qB56C06KeG6aKRMuWIhumSn+mZkOWItu+8jOmAiembhu+8jOS4iuS4i+mbhu+8jOiHquWKqOiusOW/huaSreaUvu+8jOi3s+i/h+eJh+WktOeJh+Wwviwg5a2X5bmV6K6+572u6ZqP5b+D5omA5qyyLi4u77yJ77yM5pSv5oyB6Ieq5a6a5LmJ5YiG5Lqr5a+G56CB77yM5pSv5oyB5Y6f55Sf5pKt5pS+5Zmo5LyY5YyW77yMLi4uCi8vIEBhdXRob3IgICAgICAgWW91Ci8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly93d3cuYWxpeXVuZHJpdmUuY29tL3MvKgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vd3d3LmFsaXl1bmRyaXZlLmNvbS9kcml2ZSoKLy8gQGljb24gICAgICAgICBodHRwczovL2d3LmFsaWNkbi5jb20vaW1nZXh0cmEvaTMvTzFDTjAxYWo5cmREMUdTMEU4aW8xMXRfISE2MDAwMDAwMDAwNjIwLTczLXRwcy0xNi0xNi5pY28KLy8gQHJlcXVpcmUgICAgICBodHRwczovL2Nkbi5zdGF0aWNmaWxlLm9yZy9qcXVlcnkvMy42LjAvanF1ZXJ5Lm1pbi5qcwovLyBAcnVuLWF0ICAgICAgIGRvY3VtZW50LWJvZHkKLy8gQGNvbm5lY3QgICAgICBhbGl5dW5kcml2ZS5jb20KLy8gQGNvbm5lY3QgICAgICBhbGljbG91ZGNjcC5jb20KLy8gQGNvbm5lY3QgICAgICBhbGl5dW5jcy5jb20KLy8gQGdyYW50ICAgICAgICB1bnNhZmVXaW5kb3cKLy8gQGdyYW50ICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHVuc2FmZVdpbmRvdyA9IHVuc2FmZVdpbmRvdyB8fCB3aW5kb3c7CiAgICB2YXIgJCA9ICQgfHwgd2luZG93LiQ7CiAgICB2YXIgb2JqID0gewogICAgICAgIGZpbGVfcGFnZTogewogICAgICAgICAgICBwYXJlbnRfZmlsZV9pZDogInJvb3QiLAogICAgICAgICAgICBmaWxlX2luZm86IHt9LAogICAgICAgICAgICBvcmRlcl9ieTogIiIsCiAgICAgICAgICAgIG9yZGVyX2RpcmVjdGlvbjogIiIsCiAgICAgICAgICAgIG5leHRfbWFya2VyX2xpc3Q6IFtdLAogICAgICAgICAgICBpdGVtczogW10KICAgICAgICB9LAogICAgICAgIHZpZGVvX3BhZ2U6IHsKICAgICAgICAgICAgcGxheV9pbmZvOiB7fSwKICAgICAgICAgICAgc3VidGl0bGVfbGlzdDogW10sCiAgICAgICAgICAgIHBsYXllck9iamVjdDogewogICAgICAgICAgICAgICAgTmF0aXZlUGxheWVyIDogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICLljp/nlJ/mkq3mlL7lmagiLAogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogInZpZGVvIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIERQbGF5ZXIgOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIkRQbGF5ZXLmkq3mlL7lmagiLAogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogIi5kcGxheWVyIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBmaWxlX2lkOiAiIiwKICAgICAgICAgICAgZWxldmlkZW86ICIiLAogICAgICAgICAgICBkUGxheWVyOiBudWxsLAogICAgICAgICAgICBhdHRyaWJ1dGVzOiB7fSwKICAgICAgICAgICAgbWVkaWFfbnVtOiAwCiAgICAgICAgfQogICAgfTsKCiAgICBvYmouaW5pdFZpZGVvUGFnZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBvYmouaW5pdEJ1dHRvblZpZGVvUGFnZSgpOwoKICAgICAgICBvYmouaW5pdEV2ZW50VmlkZW9QYWdlKCk7CgogICAgICAgIG9iai5nZXRJdGVtKCJkZWZhdWx0X3BsYXllciIpID09ICJOYXRpdmVQbGF5ZXIiICYmIG9iai5vbk5hdGl2ZVZpZGVvUGFnZUV2ZW50KCk7CiAgICB9OwoKICAgIG9iai5pbml0QnV0dG9uVmlkZW9QYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICQoZG9jdW1lbnQpLm9uKCJjbGljayIsICIuaGVhZGVyLW1vcmUtLWE4TzBZLCAuYW50LWRyb3Bkb3duLXRyaWdnZXIiLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInZpZGVvIikpIHsKICAgICAgICAgICAgICAgIGlmICgkKCIuYW50LXN3aXRjaC1saWdodHMiKS5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgICAgICAgICQoIi5hbnQtZHJvcGRvd24tbWVudSIpLmFwcGVuZCgnPGxpIGNsYXNzPSJhbnQtZHJvcGRvd24tbWVudS1pdGVtIGFudC1zd2l0Y2gtbGlnaHRzIiByb2xlPSJtZW51aXRlbSI+PGRpdiBjbGFzcz0ib3V0ZXItbWVudS0taWhEVVIiPjxkaXY+5YWz54GvPC9kaXY+PC9kaXY+PC9saT4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoJCgiLmFudC1zd2l0Y2gtcGxheWVyIikubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcHJlZmVyZW5jZSA9IG9iai5nZXRJdGVtKCJkZWZhdWx0X3BsYXllciIpIHx8ICJEUGxheWVyIjsKICAgICAgICAgICAgICAgICAgICB2YXIgcGxheWVycyA9IG9iai52aWRlb19wYWdlLnBsYXllck9iamVjdDsKICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhwbGF5ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT0gcHJlZmVyZW5jZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiLmFudC1kcm9wZG93bi1tZW51IikuYXBwZW5kKCc8bGkgY2xhc3M9ImFudC1kcm9wZG93bi1tZW51LWl0ZW0gYW50LXN3aXRjaC1wbGF5ZXIiIHJvbGU9Im1lbnVpdGVtIiB0eXBlPScgKyBpdGVtICsgJz48ZGl2IGNsYXNzPSJvdXRlci1tZW51LS1paERVUiI+PGRpdj4nICsgcGxheWVyc1tpdGVtXS5uYW1lICsgJzwvZGl2PjwvZGl2PjwvbGk+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICQoIi5hbnQtc3dpdGNoLWxpZ2h0cyIpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgJCgiLmFudC1zd2l0Y2gtcGxheWVyIikucmVtb3ZlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH07CgogICAgb2JqLmluaXRFdmVudFZpZGVvUGFnZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBvYmouc3dpdGNoTGlnaHRzKCk7CgogICAgICAgIG9iai5zd2l0Y2hQbGF5ZXIoKTsKICAgIH07CgogICAgb2JqLnN3aXRjaExpZ2h0cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAkKGRvY3VtZW50KS5vbigiY2xpY2siLCAiLmFudC1zd2l0Y2gtbGlnaHRzIiwgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgdmFyIHRoaXNUZXh0ID0gJCh0aGlzKS5jaGlsZHJlbigpLmNoaWxkcmVuKCk7CiAgICAgICAgICAgIHZhciB2aWRlb1BhcmVudHMgPSAkKCJ2aWRlbyIpLmNsb3Nlc3QoIltjbGFzc149Y29udGVudF0iKS5jaGlsZHJlbigpOwogICAgICAgICAgICBpZiAodGhpc1RleHQudGV4dCgpID09ICLlhbPnga8iKSB7CiAgICAgICAgICAgICAgICB2aWRlb1BhcmVudHMuY3NzKCJiYWNrZ3JvdW5kIiwgIiMwMDAiKTsKICAgICAgICAgICAgICAgIHRoaXNUZXh0LnRleHQoIuW8gOeBryIpOwogICAgICAgICAgICAgICAgaWYgKG9iai5pc0hvbWVQYWdlKCkpIHsKICAgICAgICAgICAgICAgICAgICAkKCJbY2xhc3NePXRvb2xiYXItd3JhcHBlcl0iKS5jc3MoIm9wYWNpdHkiLCAuMSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2aWRlb1BhcmVudHMuY3NzKCJiYWNrZ3JvdW5kIiwgIiIpOwogICAgICAgICAgICAgICAgdGhpc1RleHQudGV4dCgi5YWz54GvIik7CiAgICAgICAgICAgICAgICBpZiAob2JqLmlzSG9tZVBhZ2UoKSkgewogICAgICAgICAgICAgICAgICAgICQoIltjbGFzc149dG9vbGJhci13cmFwcGVyXSIpLmNzcygib3BhY2l0eSIsIDEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgICQoZG9jdW1lbnQpLm9uKCJjbGljayIsICJbZGF0YS1pY29uLXR5cGU9UERTQ2xvc2VdIiwgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgdmFyIHRoaXNUZXh0ID0gJCgiLmFudC1zd2l0Y2gtbGlnaHRzIikuY2hpbGRyZW4oKS5jaGlsZHJlbigpOwogICAgICAgICAgICBpZiAodGhpc1RleHQudGV4dCgpID09ICLlvIDnga8iKSB7CiAgICAgICAgICAgICAgICAkKCJ2aWRlbyIpLmNsb3Nlc3QoIltjbGFzc149Y29udGVudF0iKS5jaGlsZHJlbigpLmNzcygiYmFja2dyb3VuZCIsICIiKTsKICAgICAgICAgICAgICAgIHRoaXNUZXh0LnRleHQoIuWFs+eBryIpOwogICAgICAgICAgICAgICAgaWYgKG9iai5pc0hvbWVQYWdlKCkpIHsKICAgICAgICAgICAgICAgICAgICAkKCJbY2xhc3NePXRvb2xiYXItd3JhcHBlcl0iKS5jc3MoIm9wYWNpdHkiLCAxKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfTsKCiAgICBvYmouc3dpdGNoUGxheWVyID0gZnVuY3Rpb24gKCkgewogICAgICAgICQoZG9jdW1lbnQpLm9uKCJjbGljayIsICIuYW50LXN3aXRjaC1wbGF5ZXIiLCBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLCAkdGhpc1R5cGUgPSAkdGhpcy5hdHRyKCJ0eXBlIik7CiAgICAgICAgICAgIHZhciBwbGF5ZXJzID0gb2JqLnZpZGVvX3BhZ2UucGxheWVyT2JqZWN0OwogICAgICAgICAgICBvYmouc2hvd1RpcFN1Y2Nlc3MoIuato+WcqOWIh+aNouWIsCIgKyBwbGF5ZXJzWyR0aGlzVHlwZV0ubmFtZSk7CgogICAgICAgICAgICB2YXIgY3VycmVudFBsYXllciA9IG9iai5nZXRJdGVtKCJkZWZhdWx0X3BsYXllciIpOwogICAgICAgICAgICB2YXIgY3VycmVudFBsYXllck9iamVjdCA9IHBsYXllcnNbY3VycmVudFBsYXllcl07CgogICAgICAgICAgICAkdGhpcy5hdHRyKCJ0eXBlIiwgY3VycmVudFBsYXllcik7CiAgICAgICAgICAgICR0aGlzLmNoaWxkcmVuKCkuY2hpbGRyZW4oKS50ZXh0KGN1cnJlbnRQbGF5ZXJPYmplY3QubmFtZSk7CgogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gY3VycmVudFBsYXllck9iamVjdC5jb250YWluZXI7CiAgICAgICAgICAgIGlmICgkdGhpc1R5cGUgPT0gIk5hdGl2ZVBsYXllciIpIHsKICAgICAgICAgICAgICAgICQoY29udGFpbmVyKS5wYXJlbnQoKS5hcHBlbmQob2JqLnZpZGVvX3BhZ2UuZWxldmlkZW8pOwogICAgICAgICAgICAgICAgJChjb250YWluZXIpLnJlbW92ZSgpOwoKICAgICAgICAgICAgICAgIG9iai52aWRlb19wYWdlLmRQbGF5ZXIgPSBudWxsOwogICAgICAgICAgICAgICAgb2JqLm9uTmF0aXZlVmlkZW9QYWdlRXZlbnQoKTsKCiAgICAgICAgICAgICAgICAkKCIudmlkZW8tcGxheWVyLS0yOV83MiIpLmNzcyh7ZGlzcGxheTogImJsb2NrIn0pOwogICAgICAgICAgICAgICAgJCgiLnZpZGVvLXBsYXllci0tMjlfNzIgLmJ0bi0tMWNaZkEiKS5jbGljaygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgb2JqLm9mZk5hdGl2ZVZpZGVvUGFnZUV2ZW50KCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG9iai5zZXRJdGVtKCJkZWZhdWx0X3BsYXllciIsICR0aGlzVHlwZSk7CiAgICAgICAgICAgIG9iai5hdXRvUGxheWVyKCk7CiAgICAgICAgfSk7CiAgICB9OwoKICAgIG9iai5vbk5hdGl2ZVZpZGVvUGFnZUV2ZW50ID0gZnVuY3Rpb24gKCkgewogICAgICAgICQoZG9jdW1lbnQpLm9uKCJET01Ob2RlSW5zZXJ0ZWQiLCAiLnZpZGVvLXBsYXllci0tMjlfNzIgLmJ0bi0tMWNaZkEiLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigidmlkZW8iKTsKICAgICAgICAgICAgaWYgKHZpZGVvLnBhdXNlZCkgewogICAgICAgICAgICAgICAgJCh0aGlzKS5jbGljaygpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW8ucGF1c2VkICYmIHZpZGVvLnBsYXkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiLnZpZGVvLXBsYXllci0tMjlfNzIiKS5jc3Moe29wYWNpdHk6IDB9KTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChhKSB7fTsKICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgJChkb2N1bWVudCkub24oImNsaWNrIiwgInZpZGVvIiwgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgdmFyIGVsZXZpZGVvID0gJCh0aGlzKS5nZXQoMCk7CiAgICAgICAgICAgIGVsZXZpZGVvLnBhdXNlZCAmJiBlbGV2aWRlby5wbGF5KCkgfHwgZWxldmlkZW8ucGF1c2UoKTsKCiAgICAgICAgICAgIHZhciBvcGFjaXR5ID0gZWxldmlkZW8ucGF1c2VkID8gLjkgOiAwOwogICAgICAgICAgICAkKCIudmlkZW8tcGxheWVyLS0yOV83MiIpLmNzcyh7b3BhY2l0eTogb3BhY2l0eX0pOwogICAgICAgIH0pOwoKICAgICAgICAkKGRvY3VtZW50KS5vbigibW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZG93biIsICIudmlkZW8tcGxheWVyLS0yOV83MiIsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT0gIm1vdXNlb3ZlciIgfHwgZXZlbnQudHlwZSA9PSAibW91c2VvdXQiKSB7CiAgICAgICAgICAgICAgICB2YXIgb3BhY2l0eSA9IGV2ZW50LnR5cGUgPT0gIm1vdXNlb3ZlciIgPyAuOSA6IDA7CiAgICAgICAgICAgICAgICAkKHRoYXQpLmNzcyh7b3BhY2l0eTogb3BhY2l0eX0pOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgcG9zaXRpb25EaXYgPSAkKHRoYXQpLmNoaWxkcmVuKCJkaXY6Zmlyc3QiKS5vZmZzZXQoKTsKICAgICAgICAgICAgdmFyIGRpc3RlbmNlWCA9IGV2ZW50LnBhZ2VYIC0gcG9zaXRpb25EaXYubGVmdDsKICAgICAgICAgICAgdmFyIGRpc3RlbmNlWSA9IGV2ZW50LnBhZ2VZIC0gcG9zaXRpb25EaXYudG9wOwoKICAgICAgICAgICAgJChkb2N1bWVudCkubW91c2Vtb3ZlKGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgICQodGhhdCkuY3NzKHtjdXJzb3I6ICJtb3ZlIn0pOwogICAgICAgICAgICAgICAgdmFyICR0aGF0ID0gJCh0aGF0KS5jaGlsZHJlbigiZGl2OmZpcnN0Iik7CiAgICAgICAgICAgICAgICB2YXIgJGRvY3VtZW50ID0gJChkb2N1bWVudCk7CgogICAgICAgICAgICAgICAgdmFyIG9mZnNldFggPSBldmVudC5wYWdlWCAtIGRpc3RlbmNlWDsKICAgICAgICAgICAgICAgIHZhciBvZmZzZXRZID0gZXZlbnQucGFnZVkgLSBkaXN0ZW5jZVk7CiAgICAgICAgICAgICAgICBpZihvZmZzZXRYIDwgMCkgewogICAgICAgICAgICAgICAgICAgIG9mZnNldFggPSAwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoRGlmZmVyZW5jZSA9ICRkb2N1bWVudC53aWR0aCgpIC0gJHRoYXQub3V0ZXJXaWR0aCh0cnVlKTsKICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0WCA+IHdpZHRoRGlmZmVyZW5jZSkgewogICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRYID0gd2lkdGhEaWZmZXJlbmNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZihvZmZzZXRZIDwgMCl7CiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WSA9IDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0RGlmZmVyZW5jZSA9ICRkb2N1bWVudC5oZWlnaHQoKSAtICR0aGF0Lm91dGVySGVpZ2h0KHRydWUpOwogICAgICAgICAgICAgICAgICAgIGlmKG9mZnNldFkgPiBoZWlnaHREaWZmZXJlbmNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFkgPSBoZWlnaHREaWZmZXJlbmNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAkdGhhdC5vZmZzZXQoewogICAgICAgICAgICAgICAgICAgIGxlZnQ6IG9mZnNldFgsCiAgICAgICAgICAgICAgICAgICAgdG9wOiBvZmZzZXRZCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQoKICAgICAgICAgICAgJChkb2N1bWVudCkubW91c2V1cChmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgICQodGhhdCkuY3NzKHtjdXJzb3I6ICIifSk7CiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vZmYoIm1vdXNlbW92ZSIpOwogICAgICAgICAgICB9KQogICAgICAgIH0pOwogICAgfTsKCiAgICBvYmoub2ZmTmF0aXZlVmlkZW9QYWdlRXZlbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgJChkb2N1bWVudCkub2ZmKCJET01Ob2RlSW5zZXJ0ZWQiLCAiLnZpZGVvLXBsYXllci0tMjlfNzIgLmJ0bi0tMWNaZkEiKTsKCiAgICAgICAgJChkb2N1bWVudCkub2ZmKCJjbGljayIsICJ2aWRlbyIpOwoKICAgICAgICAkKGRvY3VtZW50KS5vZmYoIm1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWRvd24iLCAiLnZpZGVvLXBsYXllci0tMjlfNzIiKTsKICAgIH07CgogICAgb2JqLmF1dG9QbGF5ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHByZWZlcmVuY2UgPSBvYmouZ2V0SXRlbSgiZGVmYXVsdF9wbGF5ZXIiKTsKICAgICAgICBpZiAoIXByZWZlcmVuY2UpIHsKICAgICAgICAgICAgb2JqLnNob3dUaXBTdWNjZXNzKCLohJrmnKzmj5DnpLrvvJrmiZPlvIDpobXpnaLlj7Pkvqdb5pu05aSaXeiPnOWNleWPr+OAkOWIh+aNouaSreaUvuWZqOOAkSIsIDEwMDAwKTsKICAgICAgICAgICAgb2JqLnNldEl0ZW0oImRlZmF1bHRfcGxheWVyIiwgIkRQbGF5ZXIiKTsKICAgICAgICAgICAgcHJlZmVyZW5jZSA9ICJEUGxheWVyIjsKICAgICAgICB9CgogICAgICAgIGlmIChwcmVmZXJlbmNlID09ICJEUGxheWVyIikgewogICAgICAgICAgICBvYmoudXNlRFBsYXllcigpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgb2JqLnVzZU5hdGl2ZVBsYXllcigpOwogICAgICAgIH0KICAgIH07CgogICAgb2JqLnVzZU5hdGl2ZVBsYXllciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudmlkZW8tcGxheWVyLS0yOV83MiIpLnNldEF0dHJpYnV0ZSgidGl0bGUiLCAi6ZW/5oyJ5ouW5Yqo5L2N572uIik7CiAgICB9OwoKICAgIG9iai51c2VEUGxheWVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIG9iai5kUGxheWVyU3VwcG9ydChmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgIG9iai5kUGxheWVyU3RhcnQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIG9iai5vbk5hdGl2ZVZpZGVvUGFnZUV2ZW50KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH07CgogICAgb2JqLmRQbGF5ZXJTdXBwb3J0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHVybEFyciA9IFsKICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgImh0dHBzOi8vY2RuLnN0YXRpY2ZpbGUub3JnL2hscy5qcy8xLjEuNC9obHMubWluLmpzIiwKICAgICAgICAgICAgICAgICJodHRwczovL2Nkbi5zdGF0aWNmaWxlLm9yZy9kcGxheWVyLzEuMjYuMC9EUGxheWVyLm1pbi5qcyIsCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICJodHRwczovL2Nkbi5ib290Y2RuLm5ldC9hamF4L2xpYnMvaGxzLmpzLzEuMS40L2hscy5taW4uanMiLAogICAgICAgICAgICAgICAgImh0dHBzOi8vY2RuLmJvb3RjZG4ubmV0L2FqYXgvbGlicy9kcGxheWVyLzEuMjYuMC9EUGxheWVyLm1pbi5qcyIsCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2hscy5qcy9kaXN0L2hscy5taW4uanMiLAogICAgICAgICAgICAgICAgImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vZHBsYXllci9kaXN0L0RQbGF5ZXIubWluLmpzIiwKICAgICAgICAgICAgXSwKICAgICAgICBdOwoKICAgICAgICAoZnVuY3Rpb24gbGFvZGNkbih1cmxBcnIsIGluZGV4ID0gMCkgewogICAgICAgICAgICB2YXIgYXJyID0gdXJsQXJyW2luZGV4XTsKICAgICAgICAgICAgaWYgKGFycikgewogICAgICAgICAgICAgICAgdmFyIHByb21pc2VzID0gW107CiAgICAgICAgICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAodXJsLCBpbmRleCkgewogICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2gob2JqLmxvYWRTY3JpcHQodXJsKSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihyZXN1bHRzKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHVuc2FmZVdpbmRvdy5EUGxheWVyKTsKICAgICAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigibGFvZGNkbiDlj5HnlJ/plJnor6/vvIEiLCBpbmRleCwgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgIGxhb2RjZG4odXJsQXJyLCArK2luZGV4KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sodW5zYWZlV2luZG93LkRQbGF5ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgfSkodXJsQXJyKTsKICAgIH07CgogICAgb2JqLmRQbGF5ZXJTdGFydCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZFBsYXllck5vZGUsIHZpZGVvTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInZpZGVvIik7CiAgICAgICAgaWYgKHZpZGVvTm9kZSkgewogICAgICAgICAgICBkUGxheWVyTm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkcGxheWVyIik7CiAgICAgICAgICAgIGlmICghZFBsYXllck5vZGUpIHsKICAgICAgICAgICAgICAgIGRQbGF5ZXJOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICBkUGxheWVyTm9kZS5zZXRBdHRyaWJ1dGUoImlkIiwgImRwbGF5ZXIiKTsKICAgICAgICAgICAgICAgIGRQbGF5ZXJOb2RlLnNldEF0dHJpYnV0ZSgic3R5bGUiLCAid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsiKTsKICAgICAgICAgICAgICAgIHZhciB2aWRlb1BhcmVudE5vZGUgPSB2aWRlb05vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgb2JqLnZpZGVvX3BhZ2UuZWxldmlkZW8gPSB2aWRlb1BhcmVudE5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZFBsYXllck5vZGUsIHZpZGVvUGFyZW50Tm9kZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQob2JqLmRQbGF5ZXJTdGFydCwgNTAwKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIHF1YWxpdHkgPSBbXSwgZGVmYXVsdFF1YWxpdHkgPSAwOwogICAgICAgIHZhciBwbGF5X2luZm8gPSBvYmoudmlkZW9fcGFnZS5wbGF5X2luZm8gfHwge307CiAgICAgICAgdmFyIHZpZGVvX3ByZXZpZXdfcGxheV9pbmZvID0gcGxheV9pbmZvLnZpZGVvX3ByZXZpZXdfcGxheV9pbmZvIHx8IHt9OwogICAgICAgIHZhciB0YXNrX2xpc3QgPSB2aWRlb19wcmV2aWV3X3BsYXlfaW5mby5saXZlX3RyYW5zY29kaW5nX3Rhc2tfbGlzdDsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXNrX2xpc3QpKSB7CiAgICAgICAgICAgIHZhciBwZHMgPSB7CiAgICAgICAgICAgICAgICBGSEQ6ICIxMDgwIOWFqOmrmOa4hSIsCiAgICAgICAgICAgICAgICBIRDogIjcyMCDpq5jmuIUiLAogICAgICAgICAgICAgICAgU0Q6ICI1NDAg5qCH5riFIiwKICAgICAgICAgICAgICAgIExEOiAiMzYwIOa1geeVhSIKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGFza19saXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIHF1YWxpdHkucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogcGRzW2l0ZW0udGVtcGxhdGVfaWRdLAogICAgICAgICAgICAgICAgICAgIHVybDogaXRlbS51cmwgfHwgaXRlbS5wcmV2aWV3X3VybCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiaGxzIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBkZWZhdWx0UXVhbGl0eSA9IHRhc2tfbGlzdC5sZW5ndGggLSAxOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgb2JqLnNob3dUaXBFcnJvcigi6I635Y+W5pKt5pS+5L+h5oGv5aSx6LSl77ya6K+35Yi35paw572R6aG16YeN6K+VIik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChvYmoudmlkZW9fcGFnZS5maWxlX2lkID09IHBsYXlfaW5mby5maWxlX2lkKSB7CiAgICAgICAgICAgIG9iai5oYXNNZW1vcnlEaXNwbGF5ID0gdHJ1ZTsKICAgICAgICAgICAgaWYgKG9iai52aWRlb19wYWdlLmRQbGF5ZXIgJiYgb2JqLnZpZGVvX3BhZ2UuZFBsYXllci5kZXN0cm95KSB7CiAgICAgICAgICAgICAgICB2YXIgdmlkZW8gPSBvYmoudmlkZW9fcGFnZS5kUGxheWVyLnZpZGVvOwogICAgICAgICAgICAgICAgb2JqLnZpZGVvX3BhZ2UuYXR0cmlidXRlcyA9IHsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGltZTogdmlkZW8uY3VycmVudFRpbWUsCiAgICAgICAgICAgICAgICAgICAgbXV0ZWQ6IHZpZGVvLm11dGVkCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIG9iai52aWRlb19wYWdlLmRQbGF5ZXIuZGVzdHJveSgpOwogICAgICAgICAgICAgICAgb2JqLnZpZGVvX3BhZ2UuZFBsYXllciA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIG9iai5oYXNNZW1vcnlEaXNwbGF5ID0gZmFsc2U7CiAgICAgICAgICAgIG9iai5vZmZzZXR0aW1lID0gMDsKCiAgICAgICAgICAgIG9iai52aWRlb19wYWdlLmZpbGVfaWQgPSBwbGF5X2luZm8uZmlsZV9pZDsKICAgICAgICAgICAgb2JqLnZpZGVvX3BhZ2UuYXR0cmlidXRlcyA9IHt9OwogICAgICAgIH0KCiAgICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgICAgIGNvbnRhaW5lcjogZFBsYXllck5vZGUsCiAgICAgICAgICAgIHZpZGVvOiB7CiAgICAgICAgICAgICAgICBxdWFsaXR5OiBxdWFsaXR5LAogICAgICAgICAgICAgICAgZGVmYXVsdFF1YWxpdHk6IGRlZmF1bHRRdWFsaXR5CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN1YnRpdGxlOiB7CiAgICAgICAgICAgICAgICB1cmw6ICIiLAogICAgICAgICAgICAgICAgdHlwZTogIndlYnZ0dCIsCiAgICAgICAgICAgICAgICBmb250U2l6ZTogKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJkcGxheWVyLXN1YnRpdGxlLWZvbnRTaXplIikgfHwgNSkgKyAidmgiLAogICAgICAgICAgICAgICAgYm90dG9tOiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oImRwbGF5ZXItc3VidGl0bGUtYm90dG9tIikgfHwgMTApICsgIiUiLAogICAgICAgICAgICAgICAgY29sb3I6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJkcGxheWVyLXN1YnRpdGxlLWNvbG9yIikgfHwgIiNmZmQ4MjEiLAogICAgICAgICAgICB9LAogICAgICAgICAgICBhdXRvcGxheTogdHJ1ZSwKICAgICAgICAgICAgc2NyZWVuc2hvdDogdHJ1ZSwKICAgICAgICAgICAgaG90a2V5OiBmYWxzZSwKICAgICAgICAgICAgYWlycGxheTogdHJ1ZSwKICAgICAgICAgICAgdm9sdW1lOiAxLjAsCiAgICAgICAgICAgIHBsYXliYWNrU3BlZWQ6IFswLjUsIDAuNzUsIDEsIDEuMjUsIDEuNSwgMl0sCiAgICAgICAgICAgIGNvbnRleHRtZW51OiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGV4dDogIuaUr+aMgeS9nOiAhSIsCiAgICAgICAgICAgICAgICAgICAgbGluazogImh0dHBzOi8vcGMtaW5kZXgtc2tpbi5jZG4uYmNlYm9zLmNvbS82Y2IwYmNjYjMxZTQ5ZGMwZGJhNjMzNjE2N2JlMGExOC5wbmciLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgICAgdGhlbWU6ICIjYjdkYWZmIgogICAgICAgIH07CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHZhciBwbGF5ZXIgPSBvYmoudmlkZW9fcGFnZS5kUGxheWVyID0gbmV3IHVuc2FmZVdpbmRvdy5EUGxheWVyKG9wdGlvbnMpOwoKICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBvYmoudmlkZW9fcGFnZS5hdHRyaWJ1dGVzOwogICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYXR0cmlidXRlcykubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBwbGF5ZXIuc2VlayhhdHRyaWJ1dGVzLmN1cnJlbnRUaW1lIC0gMSk7CiAgICAgICAgICAgICAgICBwbGF5ZXIudmlkZW8ubXV0ZWQgPSBhdHRyaWJ1dGVzLm11dGVkOwogICAgICAgICAgICB9CgogICAgICAgICAgICBwbGF5ZXIub24oImxvYWRzdGFydCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG9iai5zZWxlY3RFcGlzb2RlKCk7CiAgICAgICAgICAgICAgICBvYmoubWVtb3J5UGxheSgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcGxheWVyLm9uKCJsb2FkZWRtZXRhZGF0YSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG9wdGlvbnMuaG90a2V5IHx8IG9iai5kUGxheWVySG90a2V5KCk7CiAgICAgICAgICAgICAgICBvYmouYWRkQ3VlVmlkZW9TdWJ0aXRsZShmdW5jdGlvbiAodGV4dFRyYWNrTGlzdCkgewogICAgICAgICAgICAgICAgICAgIHRleHRUcmFja0xpc3QgJiYgb2JqLnNlbGVjdFN1YnRpdGxlcyh0ZXh0VHJhY2tMaXN0KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgb2JqLnBsYXlTZXR0aW5nKCk7CiAgICAgICAgICAgICAgICBvYmouYXV0b1BsYXlOZXh0KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBwbGF5ZXIub24oInF1YWxpdHlfZW5kIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgb2JqLmFkZEN1ZVZpZGVvU3VidGl0bGUoZnVuY3Rpb24gKHRleHRUcmFja0xpc3QpIHsKICAgICAgICAgICAgICAgICAgICB0ZXh0VHJhY2tMaXN0ICYmIG9iai5zZWxlY3RTdWJ0aXRsZXModGV4dFRyYWNrTGlzdCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBwbGF5ZXIuc3BlZWQobG9jYWxTdG9yYWdlLmdldEl0ZW0oImRwbGF5ZXItc3BlZWQiKSB8fCAxKTsKICAgICAgICAgICAgcGxheWVyLm9uKCJyYXRlY2hhbmdlIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcGxheWVyLm5vdGljZSgi5pKt5pS+6YCf5bqm77yaIiArIHBsYXllci52aWRlby5wbGF5YmFja1JhdGUpOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImRwbGF5ZXItc3BlZWQiKSA9PSBwbGF5ZXIudmlkZW8ucGxheWJhY2tSYXRlIHx8IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJkcGxheWVyLXNwZWVkIiwgcGxheWVyLnZpZGVvLnBsYXliYWNrUmF0ZSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy/pu5jorqTlhajlsY/vvIzlm57ovabliIfmjaLnvZHpobXlhajlsY/lkozmtY/op4jlmajlhajlsY8KICAgICAgICAgICAgLy9wbGF5ZXIuZnVsbFNjcmVlbi5yZXF1ZXN0KCJ3ZWIiKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImRwbGF5ZXItaXNmdWxsc2NyZWVuIikgPT0gInRydWUiICYmIHBsYXllci5mdWxsU2NyZWVuLnJlcXVlc3QoImJyb3dzZXIiKTsKICAgICAgICAgICAgcGxheWVyLm9uKCJmdWxsc2NyZWVuIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImRwbGF5ZXItaXNmdWxsc2NyZWVuIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBwbGF5ZXIub24oImZ1bGxzY3JlZW5fY2FuY2VsIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImRwbGF5ZXItaXNmdWxsc2NyZWVuIik7CiAgICAgICAgICAgICAgICBwbGF5ZXIuZnVsbFNjcmVlbi5yZXF1ZXN0KCJ3ZWIiKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigi5pKt5pS+5Zmo5Yib5bu65aSx6LSlIiwgZXJyb3IpOwogICAgICAgIH0KICAgIH07CgogICAgb2JqLnN1YnRpdGxlU2V0dGluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgc3ViU2V0Qm94ID0gJCgiLnN1YnRpdGxlLXNldHRpbmctYm94Iik7CiAgICAgICAgaWYgKHN1YlNldEJveC5sZW5ndGgpIHsKICAgICAgICAgICAgaWYgKHN1YlNldEJveC5jc3MoImRpc3BsYXkiKSA9PSAiYmxvY2siKSB7CiAgICAgICAgICAgICAgICBzdWJTZXRCb3guY3NzKCJkaXNwbGF5IiwgIm5vbmUiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHN1YlNldEJveC5jc3MoImRpc3BsYXkiLCAiYmxvY2siKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB2YXIgaHRtbCA9ICc8ZGl2IGNsYXNzPSJkcGxheWVyLWljb25zIGRwbGF5ZXItY29tbWVudC1ib3ggc3VidGl0bGUtc2V0dGluZy1ib3giIHN0eWxlPSJkaXNwbGF5OiBibG9jazsgei1pbmRleDogMTExOyBwb3NpdGlvbjogYWJzb2x1dGU7IGJvdHRvbTogMTBweDtsZWZ0OmF1dG87IHJpZ2h0OiA0MDBweCAhaW1wb3J0YW50OyI+PGRpdiBjbGFzcz0iZHBsYXllci1jb21tZW50LXNldHRpbmctYm94IGRwbGF5ZXItY29tbWVudC1zZXR0aW5nLW9wZW4iID4nOwogICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPSJkcGxheWVyLWNvbW1lbnQtc2V0dGluZy1jb2xvciI+PGRpdiBjbGFzcz0iZHBsYXllci1jb21tZW50LXNldHRpbmctdGl0bGUiPuWtl+W5leminOiJsjxzcGFuPuOAgDwvc3Bhbj48aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImNvbG9yLXZhbHVlIiBzdHlsZT0iaGVpZ2h0OiAxNnB4O3dpZHRoOiAxMTBweDtmb250LXNpemU6IDEzcHg7Y29sb3I6IGJsYWNrO3RleHQtYWxpZ246IGNlbnRlcjsiPjwvZGl2PjxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImRwbGF5ZXItZGFubWFrdS1jb2xvci0xIiB2YWx1ZT0iI2ZmZiIgY2hlY2tlZD0iIj48c3BhbiBzdHlsZT0iYmFja2dyb3VuZDogI2ZmZjsiPjwvc3Bhbj48L2xhYmVsPjxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImRwbGF5ZXItZGFubWFrdS1jb2xvci0xIiB2YWx1ZT0iI2U1NDI1NiI+PHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6ICNlNTQyNTYiPjwvc3Bhbj48L2xhYmVsPjxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImRwbGF5ZXItZGFubWFrdS1jb2xvci0xIiB2YWx1ZT0iI2ZmZTEzMyI+PHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6ICNmZmUxMzMiPjwvc3Bhbj48L2xhYmVsPjxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImRwbGF5ZXItZGFubWFrdS1jb2xvci0xIiB2YWx1ZT0iIzY0REQxNyI+PHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6ICM2NEREMTciPjwvc3Bhbj48L2xhYmVsPjxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImRwbGF5ZXItZGFubWFrdS1jb2xvci0xIiB2YWx1ZT0iIzM5Y2NmZiI+PHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6ICMzOWNjZmYiPjwvc3Bhbj48L2xhYmVsPjxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImRwbGF5ZXItZGFubWFrdS1jb2xvci0xIiB2YWx1ZT0iI0Q1MDBGOSI+PHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6ICNENTAwRjkiPjwvc3Bhbj48L2xhYmVsPjwvZGl2Pic7CiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9ImRwbGF5ZXItY29tbWVudC1zZXR0aW5nLXR5cGUiPjxkaXYgY2xhc3M9ImRwbGF5ZXItY29tbWVudC1zZXR0aW5nLXRpdGxlIj7lrZfluZXkvY3nva48L2Rpdj48bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJkcGxheWVyLWRhbm1ha3UtdHlwZS0xIiB2YWx1ZT0iMSI+PHNwYW4+5LiK56e7PC9zcGFuPjwvbGFiZWw+PGxhYmVsPjxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iZHBsYXllci1kYW5tYWt1LXR5cGUtMSIgdmFsdWU9IjAiIGNoZWNrZWQ9IiI+PHNwYW4+6buY6K6kPC9zcGFuPjwvbGFiZWw+PGxhYmVsPjxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iZHBsYXllci1kYW5tYWt1LXR5cGUtMSIgdmFsdWU9IjIiPjxzcGFuPuS4i+enuzwvc3Bhbj48L2xhYmVsPjwvZGl2Pic7CiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9ImRwbGF5ZXItY29tbWVudC1zZXR0aW5nLXR5cGUiPjxkaXYgY2xhc3M9ImRwbGF5ZXItY29tbWVudC1zZXR0aW5nLXRpdGxlIj7lrZfluZXlpKflsI88L2Rpdj48bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJkcGxheWVyLWRhbm1ha3UtdHlwZS0xIiB2YWx1ZT0iMSI+PHNwYW4+5Yqg5aSnPC9zcGFuPjwvbGFiZWw+PGxhYmVsPjxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iZHBsYXllci1kYW5tYWt1LXR5cGUtMSIgdmFsdWU9IjAiPjxzcGFuPum7mOiupDwvc3Bhbj48L2xhYmVsPjxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImRwbGF5ZXItZGFubWFrdS10eXBlLTEiIHZhbHVlPSIyIj48c3Bhbj7lh4/lsI88L3NwYW4+PC9sYWJlbD48L2Rpdj4nOwogICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPSJkcGxheWVyLWNvbW1lbnQtc2V0dGluZy10eXBlIj48ZGl2IGNsYXNzPSJkcGxheWVyLWNvbW1lbnQtc2V0dGluZy10aXRsZSI+5a2X5bmV5YGP56e7PHNwYW4gY2xhc3M9Im9mZnNldC10ZXh0IiBzdHlsZT0iYm9yZGVyOiAwcHg7Ij48L3NwYW4+5YGP56e76YePL3M8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9Im9mZnNldC12YWx1ZSIgc3R5bGU9ImhlaWdodDogMTZweDt3aWR0aDogMjVweDtmb250LXNpemU6IDEzcHg7Y29sb3I6IGJsYWNrO3RleHQtYWxpZ246IGNlbnRlcjsiPjwvZGl2PjxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImRwbGF5ZXItZGFubWFrdS10eXBlLTEiIHZhbHVlPSIxIj48c3Bhbj7liY3np7s8L3NwYW4+PC9sYWJlbD48bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJkcGxheWVyLWRhbm1ha3UtdHlwZS0xIiB2YWx1ZT0iMCI+PHNwYW4+6buY6K6kPC9zcGFuPjwvbGFiZWw+PGxhYmVsPjxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iZHBsYXllci1kYW5tYWt1LXR5cGUtMSIgdmFsdWU9IjIiPjxzcGFuPuWQjuenuzwvc3Bhbj48L2xhYmVsPjwvZGl2Pic7CiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9ImRwbGF5ZXItY29tbWVudC1zZXR0aW5nLXR5cGUiPjxkaXYgY2xhc3M9ImRwbGF5ZXItY29tbWVudC1zZXR0aW5nLXRpdGxlIj7mm7TlpJrlrZfluZXlip/og708L2Rpdj48bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJkcGxheWVyLWRhbm1ha3UtdHlwZS0xIiB2YWx1ZT0iMSI+PHNwYW4+5pys5Zyw5a2X5bmVPC9zcGFuPjwvbGFiZWw+PGxhYmVsPjxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iZHBsYXllci1kYW5tYWt1LXR5cGUtMSIgdmFsdWU9IjAiPjxzcGFuPuW+heWumjwvc3Bhbj48L2xhYmVsPjxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImRwbGF5ZXItZGFubWFrdS10eXBlLTEiIHZhbHVlPSIyIj48c3Bhbj7nvZHnu5zlrZfluZU8L3NwYW4+PC9sYWJlbD48L2Rpdj4nOwogICAgICAgICAgICBodG1sICs9ICc8L2Rpdj48L2Rpdj4nOwogICAgICAgICAgICAkKCIuZHBsYXllci1jb250cm9sbGVyIikuYXBwZW5kKGh0bWwpOwogICAgICAgICAgICBzdWJTZXRCb3ggPSAkKCIuc3VidGl0bGUtc2V0dGluZy1ib3giKTsKICAgICAgICAgICAgdmFyIGNvbG9ydHh0PSQoIi5jb2xvci12YWx1ZSIpOwogICAgICAgICAgICBjb2xvcnR4dC52YWwobG9jYWxTdG9yYWdlLmdldEl0ZW0oImRwbGF5ZXItc3VidGl0bGUtY29sb3IiKXx8IiNmZmUxMzMiKQogICAgICAgICAgICBjb2xvcnR4dC5vbignaW5wdXQgcHJvcGVydHljaGFuZ2UnLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBjb2xvcnR4dC52YWwoKTsKICAgICAgICAgICAgICAgIGNvbG9yID0gY29sb3IucmVwbGFjZSgvW14jMC05YS1mQS1GXS9nLCAiIik7Ly/mjpLpmaQj5ZKM5Y2B5YWt6L+b5Yi25a2X56ymCiAgICAgICAgICAgICAgICBjb2xvciA9IGNvbG9yLnJlcGxhY2UoL15bMC05YS1mQS1GXS9nLCAiIik7Ly/mjpLpmaTpnZ4j5byA5aS0CiAgICAgICAgICAgICAgICBjb2xvciA9IGNvbG9yLnJlcGxhY2UoIiMiLCAiJEAkIikucmVwbGFjZSgvXCMvZywgIiIpLnJlcGxhY2UoIiRAJCIsICIjIik7Ly/mjpLpmaTlpJrkuKojCiAgICAgICAgICAgICAgICBjb2xvciA9IGNvbG9yLnJlcGxhY2UoL14jKFswLTlhLWZBLUZdezMsNn0pLiokLywgJyMkMScpOy8v5o6S6Zmk5Y2B5YWt6L+b5Yi25a2X56ym6ZW/5bqm6LaF6L+HNuS9jQoKICAgICAgICAgICAgICAgIGNvbG9ydHh0LnZhbChjb2xvcik7CiAgICAgICAgICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oImRwbGF5ZXItc3VidGl0bGUtY29sb3IiKSAhPSBjb2xvcikgewogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJkcGxheWVyLXN1YnRpdGxlLWNvbG9yIiwgY29sb3IpOwogICAgICAgICAgICAgICAgICAgICQoIi5kcGxheWVyLXN1YnRpdGxlIikuY3NzKCJjb2xvciIsIGNvbG9yKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciB0eHQ9JCgiLm9mZnNldC12YWx1ZSIpOwogICAgICAgICAgICB0eHQudmFsKCI1Iik7CiAgICAgICAgICAgIHR4dC5vbignaW5wdXQgcHJvcGVydHljaGFuZ2UnLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IHR4dC52YWwoKS5yZXBsYWNlKC9bXlxkXS9nLCAiIik7CiAgICAgICAgICAgICAgICB0eHQudmFsKHRleHQpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgICQoIi5zdWJ0aXRsZS1zZXR0aW5nLWJveCAuZHBsYXllci1jb21tZW50LXNldHRpbmctY29sb3IgaW5wdXRbdHlwZT0ncmFkaW8nXSIpLm9uKCJjbGljayIsZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBjb2xvciA9IHRoaXMudmFsdWU7CiAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZHBsYXllci1zdWJ0aXRsZS1jb2xvciIpICE9IGNvbG9yKSB7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZHBsYXllci1zdWJ0aXRsZS1jb2xvciIsIGNvbG9yKTsKICAgICAgICAgICAgICAgICQoIi5kcGxheWVyLXN1YnRpdGxlIikuY3NzKCJjb2xvciIsIGNvbG9yKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb2xvcnR4dC52YWwoY29sb3IpCiAgICAgICAgfSk7CiAgICAgICAgJCgiLnN1YnRpdGxlLXNldHRpbmctYm94IC5kcGxheWVyLWNvbW1lbnQtc2V0dGluZy10eXBlIGlucHV0W3R5cGU9J3JhZGlvJ10iKS5vbigiY2xpY2siLGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlOwogICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLCAkbmFtZSA9ICR0aGlzLnBhcmVudCgpLnBhcmVudCgpLmNoaWxkcmVuKCI6Zmlyc3QiKS50ZXh0KCk7CiAgICAgICAgICAgIGlmICgkbmFtZSA9PSAi5a2X5bmV5L2N572uIikgewogICAgICAgICAgICAgICAgdmFyIGJvdHRvbSA9IE51bWJlcihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZHBsYXllci1zdWJ0aXRsZS1ib3R0b20iKSB8fCAxMCk7CiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gIjAiKSB7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImRwbGF5ZXItc3VidGl0bGUtYm90dG9tIiwgMTApOwogICAgICAgICAgICAgICAgICAgICQoIi5kcGxheWVyLXN1YnRpdGxlIikuY3NzKCJib3R0b20iLCAiMTAlIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PSAiMSIpIHsKICAgICAgICAgICAgICAgICAgICBib3R0b20gKz0gMTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZHBsYXllci1zdWJ0aXRsZS1ib3R0b20iLCBib3R0b20pOwogICAgICAgICAgICAgICAgICAgICQoIi5kcGxheWVyLXN1YnRpdGxlIikuY3NzKCJib3R0b20iLCBib3R0b20gKyAiJSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT0gIjIiKSB7CiAgICAgICAgICAgICAgICAgICAgYm90dG9tIC09IDE7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImRwbGF5ZXItc3VidGl0bGUtYm90dG9tIiwgYm90dG9tKTsKICAgICAgICAgICAgICAgICAgICAkKCIuZHBsYXllci1zdWJ0aXRsZSIpLmNzcygiYm90dG9tIiwgYm90dG9tICsgIiUiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmICgkbmFtZSA9PSAi5a2X5bmV5aSn5bCPIikgewogICAgICAgICAgICAgICAgdmFyIGZvbnRTaXplID0gTnVtYmVyKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJkcGxheWVyLXN1YnRpdGxlLWZvbnRTaXplIikgfHwgNSk7CiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gIjAiKSB7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImRwbGF5ZXItc3VidGl0bGUtZm9udFNpemUiLCA1KTsKICAgICAgICAgICAgICAgICAgICAkKCIuZHBsYXllci1zdWJ0aXRsZSIpLmNzcygiZm9udC1zaXplIiwgIjV2aCIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT0gIjEiKSB7CiAgICAgICAgICAgICAgICAgICAgZm9udFNpemUgKz0gLjE7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImRwbGF5ZXItc3VidGl0bGUtZm9udFNpemUiLCBmb250U2l6ZSk7CiAgICAgICAgICAgICAgICAgICAgJCgiLmRwbGF5ZXItc3VidGl0bGUiKS5jc3MoImZvbnQtc2l6ZSIsIGZvbnRTaXplICsgInZoIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PSAiMiIpIHsKICAgICAgICAgICAgICAgICAgICBmb250U2l6ZSAtPSAuMTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZHBsYXllci1zdWJ0aXRsZS1mb250U2l6ZSIsIGZvbnRTaXplKTsKICAgICAgICAgICAgICAgICAgICAkKCIuZHBsYXllci1zdWJ0aXRsZSIpLmNzcygiZm9udC1zaXplIiwgZm9udFNpemUgKyAidmgiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmICgkbmFtZS5pbmNsdWRlcygi5a2X5bmV5YGP56e7IikpewogICAgICAgICAgICAgICAgdmFyIHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigidmlkZW8iKTsKICAgICAgICAgICAgICAgIGlmICh2aWRlbykgewogICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0VHJhY2tzID0gdmlkZW8udGV4dFRyYWNrczsKICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0dGltZSA9IG9iai5vZmZzZXR0aW1lIHx8IDA7CiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldHZhbHVlID0gTnVtYmVyKCQoIi5vZmZzZXQtdmFsdWUiKS52YWwoKSl8fDUKICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gIjAiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vZmZzZXR0aW1lID0gMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT0gIjEiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vZmZzZXR0aW1lID0gb2Zmc2V0dGltZSAtIG9mZnNldHZhbHVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PSAiMiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLm9mZnNldHRpbWUgPSBvZmZzZXR0aW1lICsgb2Zmc2V0dmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmKG9iai5vZmZzZXR0aW1lPT0wKXsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiLm9mZnNldC10ZXh0IikudGV4dCgiIikKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiLm9mZnNldC10ZXh0IikudGV4dCgiICgiK29iai5vZmZzZXR0aW1lKyJzKSIpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG9iai5zdWJ0aXRsZU9mZnNldCh0ZXh0VHJhY2tzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmICgkbmFtZSA9PSAi5pu05aSa5a2X5bmV5Yqf6IO9IikgewogICAgICAgICAgICAgICAgaWYgKHZhbHVlID09ICIwIikgewogICAgICAgICAgICAgICAgICAgICR0aGlzLm5leHQoKS50ZXh0KCLjgILjgILjgILjgIIiKTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0IChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLm5leHQoKS50ZXh0KCLlvoXlrpoiKQogICAgICAgICAgICAgICAgICAgIH0sIDUwMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT0gIjEiKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCQoIiNhZGRzdWJ0aXRsZSIpLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQoImJvZHkiKS5hcHBlbmQoJzxpbnB1dCBpZD0iYWRkc3VidGl0bGUiIHR5cGU9ImZpbGUiIGFjY2VwdD0iLnNydCwuYXNzLC5zc2EsLnZ0dCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4nKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJCgiI2FkZHN1YnRpdGxlIikuY2xpY2soKTsKCiAgICAgICAgICAgICAgICAgICAgJHRoaXMubmV4dCgpLnRleHQoIuivt+etieW+hS4uLiIpOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMubmV4dCgpLnRleHQoIuacrOWcsOWtl+W5lSIpCiAgICAgICAgICAgICAgICAgICAgfSwgNTAwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PSAiMiIpIHsKICAgICAgICAgICAgICAgICAgICAkdGhpcy5uZXh0KCkudGV4dCgi44CC44CC44CC44CCIik7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5uZXh0KCkudGV4dCgi572R57uc5a2X5bmVIikKICAgICAgICAgICAgICAgICAgICB9LCA1MDAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfTsKCiAgICBvYmouc3VidGl0bGVPZmZzZXQgPSBmdW5jdGlvbiAodGV4dFRyYWNrTGlzdCl7CiAgICAgICAgdmFyIG9mZnNldHRpbWUgPSBvYmoub2Zmc2V0dGltZSB8fCAwOwogICAgICAgIHZhciBzdWJMaXN0ID0gb2JqLnZpZGVvX3BhZ2Uuc3VidGl0bGVfbGlzdDsKICAgICAgICB2YXIgaW5kZXggPSBvYmouc3ViTGlzdEluZGV4IHx8IDA7CiAgICAgICAgdmFyIGl0ZW0gPSBzdWJMaXN0W2luZGV4XTsKICAgICAgICBmb3IodmFyIGkgPSB0ZXh0VHJhY2tMaXN0WzBdLmN1ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgdGV4dFRyYWNrTGlzdFswXS5yZW1vdmVDdWUodGV4dFRyYWNrTGlzdFswXS5jdWVzW2ldKTsKICAgICAgICB9CiAgICAgICAgaXRlbS5zdWJhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAvPGI+Lio8XC9iPi8udGVzdChpdGVtLnRleHQpIHx8IChpdGVtLnRleHQgPSBpdGVtLnRleHQuc3BsaXQoL1xyP1xuLykubWFwKChpdGVtKSA9PiBgPGI+JHtpdGVtfTwvYj5gKS5qb2luKCJcbiIpKTsKICAgICAgICAgICAgdmFyIHRleHRUcmFja0N1ZSA9IG5ldyBWVFRDdWUoaXRlbS5zdGFydFRpbWUgKyBvZmZzZXR0aW1lLCBpdGVtLmVuZFRpbWUgKyBvZmZzZXR0aW1lLCBpdGVtLnRleHQpOwogICAgICAgICAgICB0ZXh0VHJhY2tDdWUuaWQgPSBpdGVtLmluZGV4OwogICAgICAgICAgICB0ZXh0VHJhY2tMaXN0WzBdICYmIHRleHRUcmFja0xpc3RbMF0uYWRkQ3VlKHRleHRUcmFja0N1ZSk7CiAgICAgICAgfSk7CiAgICB9OwoKICAgIG9iai5kUGxheWVySG90a2V5ID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh3aW5kb3cuZFBsYXllckhvdGtleSkgcmV0dXJuOwogICAgICAgIHdpbmRvdy5kUGxheWVySG90a2V5ID0gdHJ1ZTsKCiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIChmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIHZhciB0ID0gb2JqLnZpZGVvX3BhZ2UuZFBsYXllcjsKICAgICAgICAgICAgaWYgKHQgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRwbGF5ZXIiKSkgewogICAgICAgICAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50LnRhZ05hbWUudG9VcHBlckNhc2UoKQogICAgICAgICAgICAgICAgLCBuID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5nZXRBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIpOwogICAgICAgICAgICAgICAgaWYgKCJJTlBVVCIgIT09IGEgJiYgIlRFWFRBUkVBIiAhPT0gYSAmJiAiIiAhPT0gbiAmJiAidHJ1ZSIgIT09IG4pIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbywgciA9IGUgfHwgd2luZG93LmV2ZW50OwogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoci5rZXlDb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmZ1bGxTY3JlZW4udG9nZ2xlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQudG9nZ2xlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuc2Vlayh0LnZpZGVvLmN1cnJlbnRUaW1lIC0gNSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuc2Vlayh0LnZpZGVvLmN1cnJlbnRUaW1lICsgNSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSB0LnZvbHVtZSgpICsgLjAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdC52b2x1bWUobyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0MDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSB0LnZvbHVtZSgpIC0gLjAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdC52b2x1bWUobyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQubm90aWNlKCLkuIrkuIDpobkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJbZGF0YS1pY29uLXR5cGU9UERTQ2hldnJvbkxlZnRdIikgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiW2RhdGEtaWNvbi10eXBlPVBEU0xlZnROb3JtYWxdIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvICYmIG8uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgci5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5ub3RpY2UoIuS4i+S4gOmhuSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIltkYXRhLWljb24tdHlwZT1QRFNDaGV2cm9uUmlnaHRdIikgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiW2RhdGEtaWNvbi10eXBlPVBEU1JpZ2h0Tm9ybWFsXSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbyAmJiBvLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KSk7CiAgICB9OwoKICAgIG9iai5tZW1vcnlQbGF5ID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChvYmouaGFzTWVtb3J5RGlzcGxheSkgcmV0dXJuOwoKICAgICAgICB2YXIganVtcHN0YXJ0ID0gb2JqLmdldFBsYXlNZW1vcnkoImp1bXBzdGFydCIpIHx8ICI2MCI7IC8vIOm7mOiupOi3s+i/h+eJh+WktAogICAgICAgIHZhciBqdW1wZW5kID0gb2JqLmdldFBsYXlNZW1vcnkoImp1bXBlbmQiKSB8fCAiMTMwIjsgLy8g6buY6K6k6Lez6L+H54mH5bC+CiAgICAgICAgdmFyIHNraXBzdGFydCA9IG9iai5nZXRQbGF5TWVtb3J5KCJza2lwc3RhcnQiKTsKICAgICAgICB0eXBlb2Ygc2tpcHN0YXJ0ID09ICJib29sZWFuIiB8fCAoc2tpcHN0YXJ0ID0gdHJ1ZSk7IC8v6buY6K6k5byA5ZCv6Lez6L+H54mH5aS054mH5bC+CgogICAgICAgIHZhciBwbGF5ZXIgPSBvYmoudmlkZW9fcGFnZS5kUGxheWVyOwogICAgICAgIHZhciBwbGF5SW5mbyA9IG9iai52aWRlb19wYWdlLnBsYXlfaW5mbzsKICAgICAgICB2YXIgZmlsZUxpc3QgPSBvYmouZmlsZV9wYWdlLml0ZW1zCiAgICAgICAgLCBmaWxlID0gZmlsZUxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZmlsZV9pZCA9PSBwbGF5SW5mby5maWxlX2lkOwogICAgICAgIH0pCiAgICAgICAgLCBzaWduID0gZmlsZSA/IGZpbGUuZmlsZV9pZCA6ICIiCiAgICAgICAgLCBtZW1vcnlUaW1lID0gb2JqLmdldFBsYXlNZW1vcnkoc2lnbik7CiAgICAgICAgaWYgKG1lbW9yeVRpbWUgJiYgcGFyc2VJbnQobWVtb3J5VGltZSkpIHsKICAgICAgICAgICAgdmFyIGF1dG9Qb3NpdGlvbiA9IG9iai5nZXRJdGVtKCJkcGxheWVyLXBvc2l0aW9uIik7CiAgICAgICAgICAgIGlmIChhdXRvUG9zaXRpb24pIHsKICAgICAgICAgICAgICAgIHBsYXllci5zZWVrKG1lbW9yeVRpbWUgLSAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciBmb3JtYXRUaW1lID0gZm9ybWF0VmlkZW9UaW1lKG1lbW9yeVRpbWUpOwogICAgICAgICAgICAgICAgJChwbGF5ZXIuY29udGFpbmVyKS5hcHBlbmQoJzxkaXYgY2xhc3M9Im1lbW9yeS1wbGF5LXdyYXAiIHN0eWxlPSJkaXNwbGF5OiBibG9jaztwb3NpdGlvbjogYWJzb2x1dGU7bGVmdDogMzNweDtib3R0b206IDY2cHg7Zm9udC1zaXplOiAxNXB4O3BhZGRpbmc6IDdweDtib3JkZXItcmFkaXVzOiAzcHg7Y29sb3I6ICNmZmY7ei1pbmRleDoxMDA7YmFja2dyb3VuZDogcmdiYSgwLDAsMCwuNSk7Ij7kuIrmrKHmkq3mlL7liLDvvJonICsgZm9ybWF0VGltZSArICcmbmJzcDsmbmJzcDs8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBjbGFzcz0icGxheS1qdW1wIiBzdHlsZT0idGV4dC1kZWNvcmF0aW9uOiBub25lO2NvbG9yOiAjMDZjOyI+IOi3s+i9rOaSreaUviAmbmJzcDs8L2E+PGVtIGNsYXNzPSJjbG9zZS1idG4iIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7d2lkdGg6IDE1cHg7aGVpZ2h0OiAxNXB4O3ZlcnRpY2FsLWFsaWduOiBtaWRkbGU7Y3Vyc29yOiBwb2ludGVyO2JhY2tncm91bmQ6IHVybChodHRwczovL25kLXN0YXRpYy5iZHN0YXRpYy5jb20vbS1zdGF0aWMvZGlzay1zaGFyZS93aWRnZXQvcGFnZU1vZHVsZS9zaGFyZS1maWxlLW1haW4vZmlsZVR5cGUvdmlkZW8vaW1nL3ZpZGVvLWZsYXNoLWNsb3NlYnRuXzE1ZjBlOTcucG5nKSBuby1yZXBlYXQ7Ij48L2VtPjwvZGl2PicpOwogICAgICAgICAgICAgICAgdmFyIG1lbW9yeVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBza2lwc3RhcnQgJiYganVtcHN0YXJ0ICYmIGp1bXBzdGFydCA+IHBsYXllci52aWRlby5jdXJyZW50VGltZSAmJiBwbGF5ZXIuc2VlayhqdW1wc3RhcnQpOwogICAgICAgICAgICAgICAgICAgICQoIi5tZW1vcnktcGxheS13cmFwIikucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9LCAxNTAwMCk7CiAgICAgICAgICAgICAgICAkKCIubWVtb3J5LXBsYXktd3JhcCAuY2xvc2UtYnRuIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHNraXBzdGFydCAmJiBqdW1wc3RhcnQgJiYganVtcHN0YXJ0ID4gcGxheWVyLnZpZGVvLmN1cnJlbnRUaW1lICYmIHBsYXllci5zZWVrKGp1bXBzdGFydCk7CiAgICAgICAgICAgICAgICAgICAgJCgiLm1lbW9yeS1wbGF5LXdyYXAiKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQobWVtb3J5VGltZW91dCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICQoIi5tZW1vcnktcGxheS13cmFwIC5wbGF5LWp1bXAiKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNlZWsobWVtb3J5VGltZSAtIDEpOwogICAgICAgICAgICAgICAgICAgICQoIi5tZW1vcnktcGxheS13cmFwIikucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KG1lbW9yeVRpbWVvdXQpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2tpcHN0YXJ0ID09ICJib29sZWFuIikgewogICAgICAgICAgICAgICAgc2tpcHN0YXJ0ICYmIGp1bXBzdGFydCAmJiBwbGF5ZXIuc2VlayhqdW1wc3RhcnQpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgZHVyYXRpb24gPSBwbGF5ZXIudmlkZW8uZHVyYXRpb247CiAgICAgICAgZG9jdW1lbnQub252aXNpYmlsaXR5Y2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAiaGlkZGVuIikgewogICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gcGxheWVyLnZpZGVvLmN1cnJlbnRUaW1lOwogICAgICAgICAgICAgICAgY3VycmVudFRpbWUgJiYgb2JqLnNldFBsYXlNZW1vcnkoc2lnbiwgY3VycmVudFRpbWUsIGR1cmF0aW9uLCBqdW1wc3RhcnQsIGp1bXBlbmQpOwogICAgICAgICAgICAgICAgb2JqLnNldFBsYXlNZW1vcnkoImxhc3RuYW1lIiwgZmlsZS5uYW1lKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBwbGF5ZXIudmlkZW8uY3VycmVudFRpbWU7CiAgICAgICAgICAgIGN1cnJlbnRUaW1lICYmIG9iai5zZXRQbGF5TWVtb3J5KHNpZ24sIGN1cnJlbnRUaW1lLCBkdXJhdGlvbiwganVtcHN0YXJ0LCBqdW1wZW5kKTsKICAgICAgICAgICAgb2JqLnNldFBsYXlNZW1vcnkoImxhc3RuYW1lIiwgZmlsZS5uYW1lKTsKICAgICAgICB9OwogICAgICAgICQoIltkYXRhLWljb24tdHlwZT1QRFNDbG9zZV0iKS5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IHBsYXllci52aWRlby5jdXJyZW50VGltZTsKICAgICAgICAgICAgY3VycmVudFRpbWUgJiYgb2JqLnNldFBsYXlNZW1vcnkoc2lnbiwgY3VycmVudFRpbWUsIGR1cmF0aW9uLCBqdW1wc3RhcnQsIGp1bXBlbmQpOwogICAgICAgICAgICBvYmouc2V0UGxheU1lbW9yeSgibGFzdG5hbWUiLCBmaWxlLm5hbWUpOwogICAgICAgICAgICBvYmouYXV0b0xhc3RCdG4oKTsKICAgICAgICB9KTsKCiAgICAgICAgZnVuY3Rpb24gZm9ybWF0VmlkZW9UaW1lIChzZWNvbmRzKSB7CiAgICAgICAgICAgIHZhciBzZWNvbmRUb3RhbCA9IE1hdGgucm91bmQoc2Vjb25kcykKICAgICAgICAgICAgLCBob3VyID0gTWF0aC5mbG9vcihzZWNvbmRUb3RhbCAvIDM2MDApCiAgICAgICAgICAgICwgbWludXRlID0gTWF0aC5mbG9vcigoc2Vjb25kVG90YWwgLSBob3VyICogMzYwMCkgLyA2MCkKICAgICAgICAgICAgLCBzZWNvbmQgPSBzZWNvbmRUb3RhbCAtIGhvdXIgKiAzNjAwIC0gbWludXRlICogNjA7CiAgICAgICAgICAgIG1pbnV0ZSA8IDEwICYmIChtaW51dGUgPSAiMCIgKyBtaW51dGUpOwogICAgICAgICAgICBzZWNvbmQgPCAxMCAmJiAoc2Vjb25kID0gIjAiICsgc2Vjb25kKTsKICAgICAgICAgICAgcmV0dXJuIGhvdXIgPT09IDAgPyBtaW51dGUgKyAiOiIgKyBzZWNvbmQgOiBob3VyICsgIjoiICsgbWludXRlICsgIjoiICsgc2Vjb25kOwogICAgICAgIH0KICAgIH07CgogICAgb2JqLmF1dG9QbGF5TmV4dCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIganVtcHN0YXJ0ID0gb2JqLmdldFBsYXlNZW1vcnkoImp1bXBzdGFydCIpIHx8ICI2MCI7IC8vIOm7mOiupOi3s+i/h+eJh+WktAogICAgICAgIHZhciBqdW1wZW5kID0gb2JqLmdldFBsYXlNZW1vcnkoImp1bXBlbmQiKSB8fCAiMTMwIjsgLy8g6buY6K6k6Lez6L+H54mH5bC+CiAgICAgICAgdmFyIHNraXBzdGFydCA9IG9iai5nZXRQbGF5TWVtb3J5KCJza2lwc3RhcnQiKTsKICAgICAgICB0eXBlb2Ygc2tpcHN0YXJ0ID09ICJib29sZWFuIiB8fCAoc2tpcHN0YXJ0ID0gdHJ1ZSk7IC8v6buY6K6k5byA5ZCv6Lez6L+H54mH5aS054mH5bC+CgogICAgICAgIHZhciBwbGF5SW5mbyA9IG9iai52aWRlb19wYWdlLnBsYXlfaW5mbzsKICAgICAgICB2YXIgZmlsZUxpc3QgPSBvYmouZmlsZV9wYWdlLml0ZW1zCiAgICAgICAgLCBmaWxlID0gZmlsZUxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZmlsZV9pZCA9PSBwbGF5SW5mby5maWxlX2lkOwogICAgICAgIH0pCiAgICAgICAgLCBzaWduID0gZmlsZSA/IGZpbGUuZmlsZV9pZCA6ICIiCgogICAgICAgIHZhciBwbGF5ZXIgPSBvYmoudmlkZW9fcGFnZS5kUGxheWVyOwogICAgICAgIHZhciB2aWRlbyA9IHBsYXllci52aWRlbywgZHVyYXRpb24gPSB2aWRlby5kdXJhdGlvbjsKICAgICAgICBwbGF5ZXIub24oInRpbWV1cGRhdGUiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5hdXRvbmV4dCAmJiBza2lwc3RhcnQgJiYganVtcGVuZCkgewogICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdmlkZW8uY3VycmVudFRpbWU7CiAgICAgICAgICAgICAgICBpZiAoZHVyYXRpb24gLSBjdXJyZW50VGltZSA8PSBwYXJzZUludChqdW1wZW5kKSArIDEwICogdmlkZW8ucGxheWJhY2tSYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXRvbmV4dCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgb2JqLnNldFBsYXlNZW1vcnkoc2lnbiwgY3VycmVudFRpbWUgKyAyMCAqIHZpZGVvLnBsYXliYWNrUmF0ZSwgZHVyYXRpb24sIGp1bXBzdGFydCwganVtcGVuZCk7CiAgICAgICAgICAgICAgICAgICAgJChwbGF5ZXIuY29udGFpbmVyKS5hcHBlbmQoJzxkaXYgY2xhc3M9Im1lbW9yeS1wbGF5LXdyYXAiIHN0eWxlPSJkaXNwbGF5OiBibG9jaztwb3NpdGlvbjogYWJzb2x1dGU7bGVmdDogMzNweDtib3R0b206IDY2cHg7Zm9udC1zaXplOiAxNXB4O3BhZGRpbmc6IDdweDtib3JkZXItcmFkaXVzOiAzcHg7Y29sb3I6ICNmZmY7ei1pbmRleDoxMDA7YmFja2dyb3VuZDogcmdiYSgwLDAsMCwuNSk7Ij4xMOenkuWQjuiHquWKqOS4i+S4gOmbhiZuYnNwOyZuYnNwOzxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiIGNsYXNzPSJwbGF5LWp1bXAiIHN0eWxlPSJ0ZXh0LWRlY29yYXRpb246IG5vbmU7Y29sb3I6ICMwNmM7Ij4g5Y+W5raIICZuYnNwOzwvYT48ZW0gY2xhc3M9ImNsb3NlLWJ0biIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazt3aWR0aDogMTVweDtoZWlnaHQ6IDE1cHg7dmVydGljYWwtYWxpZ246IG1pZGRsZTtjdXJzb3I6IHBvaW50ZXI7YmFja2dyb3VuZDogdXJsKGh0dHBzOi8vbmQtc3RhdGljLmJkc3RhdGljLmNvbS9tLXN0YXRpYy9kaXNrLXNoYXJlL3dpZGdldC9wYWdlTW9kdWxlL3NoYXJlLWZpbGUtbWFpbi9maWxlVHlwZS92aWRlby9pbWcvdmlkZW8tZmxhc2gtY2xvc2VidG5fMTVmMGU5Ny5wbmcpIG5vLXJlcGVhdDsiPjwvZW0+PC9kaXY+Jyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIG1lbW9yeVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLkxhc3ROZXh0UGxheSgnbmV4dCcpOwogICAgICAgICAgICAgICAgICAgICAgICAkKCIubWVtb3J5LXBsYXktd3JhcCIpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIH0sIDEwMDAwKTsKICAgICAgICAgICAgICAgICAgICAkKCIubWVtb3J5LXBsYXktd3JhcCAuY2xvc2UtYnRuIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQobWVtb3J5VGltZW91dCk7CiAgICAgICAgICAgICAgICAgICAgICAgICQoIi5tZW1vcnktcGxheS13cmFwIikucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgJCgiLm1lbW9yeS1wbGF5LXdyYXAgLnBsYXktanVtcCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KG1lbW9yeVRpbWVvdXQpOwogICAgICAgICAgICAgICAgICAgICAgICAkKCIubWVtb3J5LXBsYXktd3JhcCIpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9OwoKICAgIG9iai5wbGF5U2V0dGluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvL+WwhueJh+WktOeJh+WwvuaUvuWcqOiuvue9rumHjCDku6PnoIHotKHnjK7vvJpodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3VzZXJzLzc5NTIyNy3mmJ/ls7AKICAgICAgICBpZiAoJCgiLmRwbGF5ZXItc2V0dGluZy1za2lwc3RhcnQiKS5sZW5ndGgpIHJldHVybjsKCiAgICAgICAgdmFyIGh0bWwgPSAnPGRpdiBjbGFzcz0iZHBsYXllci1zZXR0aW5nLWl0ZW0gZHBsYXllci1zZXR0aW5nLWp1bXBlbmQiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjxzcGFuIGNsYXNzPSJkcGxheWVyLWxhYmVsIj7niYflsL4o56eSKTwvc3Bhbj48aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iZHBsYXllci10b2dnbGUiIGNsYXNzPSJkcGxheWVyLXRvZ2dsZSIgc3R5bGU9ImhlaWdodDogMTZweDsgZm9udC1zaXplOiAxM3B4OyI+PC9kaXY+PGRpdiBjbGFzcz0iZHBsYXllci1zZXR0aW5nLWl0ZW0gZHBsYXllci1zZXR0aW5nLWp1bXBzdGFydCIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+PHNwYW4gY2xhc3M9ImRwbGF5ZXItbGFiZWwiPueJh+WktCjnp5IpPC9zcGFuPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJkcGxheWVyLXRvZ2dsZSIgY2xhc3M9ImRwbGF5ZXItdG9nZ2xlIiBzdHlsZT0iaGVpZ2h0OiAxNnB4OyBmb250LXNpemU6IDEzcHg7Ij48L2Rpdj48ZGl2IGNsYXNzPSJkcGxheWVyLXNldHRpbmctaXRlbSBkcGxheWVyLXNldHRpbmctc2tpcHN0YXJ0Ij48c3BhbiBjbGFzcz0iZHBsYXllci1sYWJlbCI+6Lez6L+H54mH5aS054mH5bC+PC9zcGFuPjxkaXYgY2xhc3M9ImRwbGF5ZXItdG9nZ2xlIj48aW5wdXQgY2xhc3M9ImRwbGF5ZXItdG9nZ2xlLXNldHRpbmctaW5wdXQtc2tpcHN0YXJ0IiB0eXBlPSJjaGVja2JveCIgbmFtZT0iZHBsYXllci10b2dnbGUiPjxsYWJlbCBmb3I9ImRwbGF5ZXItdG9nZ2xlIj48L2xhYmVsPjwvZGl2PjwvZGl2Pic7CiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz0iZHBsYXllci1zZXR0aW5nLWl0ZW0gZHBsYXllci1zZXR0aW5nLWF1dG9wb3NpdGlvbiI+PHNwYW4gY2xhc3M9ImRwbGF5ZXItbGFiZWwiPuiHquWKqOiusOW/huaSreaUvjwvc3Bhbj48ZGl2IGNsYXNzPSJkcGxheWVyLXRvZ2dsZSI+PGlucHV0IGNsYXNzPSJkcGxheWVyLXRvZ2dsZS1zZXR0aW5nLWlucHV0LWF1dG9wb3NpdGlvbiIgdHlwZT0iY2hlY2tib3giIG5hbWU9ImRwbGF5ZXItdG9nZ2xlIj48bGFiZWwgZm9yPSJkcGxheWVyLXRvZ2dsZSI+PC9sYWJlbD48L2Rpdj48L2Rpdj4nOwogICAgICAgICQoIi5kcGxheWVyLXNldHRpbmctb3JpZ2luLXBhbmVsIikucHJlcGVuZChodG1sKTsKICAgICAgICBodG1sPWAgPGRpdiBjbGFzcz0iZHBsYXllci1zZXR0aW5nLWl0ZW0gZHBsYXllci1zZXR0aW5nLXN1YnRpdGxlIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImRwbGF5ZXItbGFiZWwiPuWtl+W5leiuvue9rjwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gCiAgICAgICAgJCgiLmRwbGF5ZXItc2V0dGluZy1vcmlnaW4tcGFuZWwiKS5hcHBlbmQoaHRtbCk7CgogICAgICAgICQoIi5kcGxheWVyLXNldHRpbmctc3VidGl0bGUiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgb2JqLnN1YnRpdGxlU2V0dGluZygpOwogICAgICAgIH0pOwogICAgICAgICQoIi5kcGxheWVyLW1hc2siKS5vbigiY2xpY2siLGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoJCgiLnN1YnRpdGxlLXNldHRpbmctYm94IikuY3NzKCJkaXNwbGF5IikgIT0gIm5vbmUiKSB7CiAgICAgICAgICAgICAgICAkKCIuc3VidGl0bGUtc2V0dGluZy1ib3giKS50b2dnbGUoKTsKICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoImRwbGF5ZXItbWFzay1zaG93Iik7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB2YXIganVtcHN0YXJ0ID0gb2JqLmdldFBsYXlNZW1vcnkoImp1bXBzdGFydCIpIHx8ICI2MCI7IC8vIOm7mOiupOi3s+i/h+eJh+WktAogICAgICAgIHZhciBqdW1wZW5kID0gb2JqLmdldFBsYXlNZW1vcnkoImp1bXBlbmQiKSB8fCAiMTMwIjsgLy8g6buY6K6k6Lez6L+H54mH5bC+CiAgICAgICAgdmFyIHNraXBzdGFydCA9IG9iai5nZXRQbGF5TWVtb3J5KCJza2lwc3RhcnQiKTsKICAgICAgICB0eXBlb2Ygc2tpcHN0YXJ0ID09ICJib29sZWFuIiB8fCAoc2tpcHN0YXJ0ID0gdHJ1ZSk7IC8v6buY6K6k5byA5ZCv6Lez6L+H54mH5aS054mH5bC+CiAgICAgICAgaWYgKHNraXBzdGFydCkgewogICAgICAgICAgICAkKCIuZHBsYXllci10b2dnbGUtc2V0dGluZy1pbnB1dC1za2lwc3RhcnQiKS5nZXQoMCkuY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICQoIi5kcGxheWVyLXNldHRpbmctanVtcHN0YXJ0Iikuc2hvdygpOwogICAgICAgICAgICAkKCIuZHBsYXllci1zZXR0aW5nLWp1bXBlbmQiKS5zaG93KCk7CiAgICAgICAgfQoKICAgICAgICB2YXIgdHh0ID0gJCgiLmRwbGF5ZXItc2V0dGluZy1qdW1wc3RhcnQgLmRwbGF5ZXItdG9nZ2xlIik7CiAgICAgICAgdHh0LnZhbChqdW1wc3RhcnQpOwogICAgICAgIHR4dC5jaGFuZ2UoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIG9iai5zZXRQbGF5TWVtb3J5KCJqdW1wc3RhcnQiLCB0eHQudmFsKCkpOwogICAgICAgICAgICBqdW1wc3RhcnQgPSB0eHQudmFsKCk7CiAgICAgICAgfSk7CiAgICAgICAgdHh0Lm9uKCdpbnB1dCBwcm9wZXJ0eWNoYW5nZScsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgdmFyIHRleHQgPSB0eHQudmFsKCkucmVwbGFjZSgvW15cZF0vZywgIiIpOwogICAgICAgICAgICB0eHQudmFsKHRleHQpOwogICAgICAgIH0pOwoKICAgICAgICB2YXIgdHh0MSA9ICQoIi5kcGxheWVyLXNldHRpbmctanVtcGVuZCAuZHBsYXllci10b2dnbGUiKTsKICAgICAgICB0eHQxLnZhbChqdW1wZW5kKTsKICAgICAgICB0eHQxLmNoYW5nZShmdW5jdGlvbigpIHsKICAgICAgICAgICAgb2JqLnNldFBsYXlNZW1vcnkoImp1bXBlbmQiLCB0eHQxLnZhbCgpKTsKICAgICAgICAgICAganVtcGVuZCA9IHR4dDEudmFsKCk7CiAgICAgICAgfSk7CiAgICAgICAgdHh0MS5vbignaW5wdXQgcHJvcGVydHljaGFuZ2UnLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIHZhciB0ZXh0ID0gdHh0LnZhbCgpLnJlcGxhY2UoL1teXGRdL2csICIiKTsKICAgICAgICAgICAgdHh0LnZhbCh0ZXh0KTsKICAgICAgICB9KTsKCiAgICAgICAgJCgiLmRwbGF5ZXItc2V0dGluZy1za2lwc3RhcnQiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIGNoZWNrID0gJCgiLmRwbGF5ZXItdG9nZ2xlLXNldHRpbmctaW5wdXQtc2tpcHN0YXJ0Iik7CiAgICAgICAgICAgIHNraXBzdGFydCA9ICFjaGVjay5pcygiOmNoZWNrZWQiKTsKICAgICAgICAgICAgJCgiLmRwbGF5ZXItdG9nZ2xlLXNldHRpbmctaW5wdXQtc2tpcHN0YXJ0IikuZ2V0KDApLmNoZWNrZWQgPSBza2lwc3RhcnQ7CiAgICAgICAgICAgIG9iai5zZXRQbGF5TWVtb3J5KCJza2lwc3RhcnQiLCBza2lwc3RhcnQpOwogICAgICAgICAgICBpZiAoIHNraXBzdGFydCkgewogICAgICAgICAgICAgICAgJCgiLmRwbGF5ZXItc2V0dGluZy1qdW1wc3RhcnQiKS5zaG93KCkKICAgICAgICAgICAgICAgICQoIi5kcGxheWVyLXNldHRpbmctanVtcGVuZCIpLnNob3coKQogICAgICAgICAgICAgICAgdHh0LnZhbChqdW1wc3RhcnQpOwogICAgICAgICAgICAgICAgdHh0MS52YWwoanVtcGVuZCk7CiAgICAgICAgICAgICAgICBvYmouc2V0UGxheU1lbW9yeSgianVtcHN0YXJ0IiwganVtcHN0YXJ0KTsKICAgICAgICAgICAgICAgIG9iai5zZXRQbGF5TWVtb3J5KCJqdW1wZW5kIiwganVtcGVuZCk7CgogICAgICAgICAgICAgICAgaWYoJCgiLmRwbGF5ZXItc2V0dGluZy1sb29wIC5kcGxheWVyLXRvZ2dsZS1zZXR0aW5nLWlucHV0IikuaXMoIjpjaGVja2VkIikpIHsKICAgICAgICAgICAgICAgICAgICAkKCIuZHBsYXllci1zZXR0aW5nLWxvb3AgLmRwbGF5ZXItdG9nZ2xlLXNldHRpbmctaW5wdXQiKS5jbGljaygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAkKCIuZHBsYXllci1zZXR0aW5nLWp1bXBzdGFydCIpLmhpZGUoKQogICAgICAgICAgICAgICAgJCgiLmRwbGF5ZXItc2V0dGluZy1qdW1wZW5kIikuaGlkZSgpCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgb2JqLmdldEl0ZW0oImRwbGF5ZXItcG9zaXRpb24iKSAmJiAoJCgiLmRwbGF5ZXItdG9nZ2xlLXNldHRpbmctaW5wdXQtYXV0b3Bvc2l0aW9uIikuZ2V0KDApLmNoZWNrZWQgPSB0cnVlKTsKICAgICAgICAkKCIuZHBsYXllci1zZXR0aW5nLWF1dG9wb3NpdGlvbiIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgY2hlY2sgPSAkKCIuZHBsYXllci10b2dnbGUtc2V0dGluZy1pbnB1dC1hdXRvcG9zaXRpb24iKTsKICAgICAgICAgICAgdmFyIGF1dG9Qb3NpdGlvbiA9ICFjaGVjay5pcygiOmNoZWNrZWQiKTsKICAgICAgICAgICAgJCgiLmRwbGF5ZXItdG9nZ2xlLXNldHRpbmctaW5wdXQtYXV0b3Bvc2l0aW9uIikuZ2V0KDApLmNoZWNrZWQgPSBhdXRvUG9zaXRpb247CiAgICAgICAgICAgIG9iai5zZXRJdGVtKCJkcGxheWVyLXBvc2l0aW9uIiwgYXV0b1Bvc2l0aW9uKTsKICAgICAgICB9KTsKCiAgICAgICAgJCgiLmRwbGF5ZXItc2V0dGluZy1sb29wIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICgkKCIuZHBsYXllci1zZXR0aW5nLWxvb3AgLmRwbGF5ZXItdG9nZ2xlLXNldHRpbmctaW5wdXQiKS5pcygiOmNoZWNrZWQiKSAmJiBza2lwc3RhcnQpIHsKICAgICAgICAgICAgICAgICQoIi5kcGxheWVyLXNldHRpbmctc2tpcHN0YXJ0IikuY2xpY2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkKCIuZHBsYXllci1zZXR0aW5nLWljb24iKS5jbGljaygpOwogICAgICAgIH0pOwogICAgfTsKCiAgICBvYmouc2VsZWN0U3VidGl0bGVzID0gZnVuY3Rpb24gKHRleHRUcmFja0xpc3QpIHsKICAgICAgICAvL+Wtl+W5lemAieaLqSDku6PnoIHotKHnjK7vvJpodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3VzZXJzLzc5NTIyNy3mmJ/ls7AKICAgICAgICBpZiAodGV4dFRyYWNrTGlzdC5sZW5ndGggPD0gMSkgcmV0dXJuOwoKICAgICAgICB2YXIgc3VidGl0bGVidG4gPSAkKCIuZHBsYXllci1zdWJ0aXRsZS1idG4iKQogICAgICAgIHN1YnRpdGxlYnRuLmFkZENsYXNzKCJkcGxheWVyLXF1YWxpdHkiKTsKCiAgICAgICAgdmFyIHN1Ykxpc3QgPSBvYmoudmlkZW9fcGFnZS5zdWJ0aXRsZV9saXN0OwogICAgICAgIHZhciBlbGVTdWIgPSAnPGRpdiBjbGFzcz0iZHBsYXllci1xdWFsaXR5LWl0ZW0gc3VidGl0bGUtaXRlbSIgZGF0YS1pbmRleD0iJysgMCArJyIgc3R5bGU9Im9wYWNpdHk6IDAuNDsiPum7mOiupOWtl+W5lTwvZGl2Pic7CiAgICAgICAgZm9yKHZhciBpID0gMTsgaSA8IHN1Ykxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgZWxlU3ViICs9ICc8ZGl2IGNsYXNzPSJkcGxheWVyLXF1YWxpdHktaXRlbSBzdWJ0aXRsZS1pdGVtIiBkYXRhLWluZGV4PSInKyBpICsnIj4nKyBzdWJMaXN0W2ldLmxhYmVsICsnPC9kaXY+JzsKICAgICAgICB9CiAgICAgICAgdmFyIGh0bWwgPSAnPGRpdiBjbGFzcz0iZHBsYXllci1xdWFsaXR5LW1hc2siPjxkaXYgY2xhc3M9ImRwbGF5ZXItcXVhbGl0eS1saXN0IHN1YnRpdGxlLXNlbGVjdCI+ICcrIGVsZVN1YiArJzwvZGl2PiA8L2Rpdj4nCiAgICAgICAgc3VidGl0bGVidG4uYXBwZW5kKGh0bWwpOwoKICAgICAgICAkKCIuc3VidGl0bGUtc2VsZWN0IC5zdWJ0aXRsZS1pdGVtIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBzdWJ0aXRsZXBpY2J0biA9ICQoIi5kcGxheWVyLXN1YnRpdGxlLWJ0biAuZHBsYXllci1pY29uLWNvbnRlbnQiKTsKICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSwgaW5kZXggPSAkdGhpcy5hdHRyKCJkYXRhLWluZGV4Iik7CiAgICAgICAgICAgIGlmICgkdGhpcy5jc3MoIm9wYWNpdHkiKSA9PSAiMSIpIHsKICAgICAgICAgICAgICAgIHN1YnRpdGxlcGljYnRuLmNzcygib3BhY2l0eSIsICIxIik7CiAgICAgICAgICAgICAgICAkdGhpcy5jc3MoIm9wYWNpdHkiLCAiMC40Iik7CiAgICAgICAgICAgICAgICAkdGhpcy5zaWJsaW5ncygpLmNzcygib3BhY2l0eSIsICIiKTsKICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IHRleHRUcmFja0xpc3RbMF0uY3Vlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgICAgICAgICAgICAgIHRleHRUcmFja0xpc3RbMF0ucmVtb3ZlQ3VlKHRleHRUcmFja0xpc3RbMF0uY3Vlc1tpXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHN1Ykxpc3RbaW5kZXhdOwogICAgICAgICAgICAgICAgaXRlbS5zdWJhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIC88Yj4uKjxcL2I+Ly50ZXN0KGl0ZW0udGV4dCkgfHwgKGl0ZW0udGV4dCA9IGl0ZW0udGV4dC5zcGxpdCgvXHI/XG4vKS5tYXAoKGl0ZW0pID0+IGA8Yj4ke2l0ZW19PC9iPmApLmpvaW4oIlxuIikpOwogICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0VHJhY2tDdWUgPSBuZXcgVlRUQ3VlKGl0ZW0uc3RhcnRUaW1lLCBpdGVtLmVuZFRpbWUsIGl0ZW0udGV4dCk7CiAgICAgICAgICAgICAgICAgICAgdGV4dFRyYWNrQ3VlLmlkID0gaXRlbS5pbmRleDsKICAgICAgICAgICAgICAgICAgICB0ZXh0VHJhY2tMaXN0WzBdICYmIHRleHRUcmFja0xpc3RbMF0uYWRkQ3VlKHRleHRUcmFja0N1ZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChzdWJ0aXRsZXBpY2J0bi5jc3MoIm9wYWNpdHkiKSA9PSAiMC40IikgewogICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlcGljYnRuLmNsaWNrKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBvYmouc3ViTGlzdEluZGV4ID0gaW5kZXg7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgdmFyIHN1Ykxpc3RJbmRleCA9IG9iai5zdWJMaXN0SW5kZXg7CiAgICAgICAgc3ViTGlzdEluZGV4ICYmICQoIi5zdWJ0aXRsZS1zZWxlY3QgLnN1YnRpdGxlLWl0ZW0iKS5lcShzdWJMaXN0SW5kZXgpLmNsaWNrKCk7CiAgICB9OwoKICAgIG9iai5zZWxlY3RFcGlzb2RlID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8v6YCJ6ZuGIOS7o+eggei0oeeMru+8mmh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vdXNlcnMvNzk1MjI3LeaYn+WzsAogICAgICAgIGlmICgkKCIuZHBsYXllci1pY29ucy1yaWdodCAjYnRuLXZpZGVvLXNlbGVjdCIpLmxlbmd0aCkgcmV0dXJuOwoKICAgICAgICB2YXIgZWxldmlkZW9zID0gIiI7CiAgICAgICAgdmFyIHRoaXNGaWxlSWQgPSBvYmoudmlkZW9fcGFnZS5wbGF5X2luZm8uZmlsZV9pZDsKICAgICAgICB2YXIgdGhpc3ZpZGVvaW5kZXggPSAwOwogICAgICAgIHZhciBmaWxlTGlzdCA9IG9iai5maWxlX3BhZ2UuaXRlbXM7CiAgICAgICAgdmFyIHZpZGVvTGlzdCA9IGZpbGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgaWYgKGl0ZW0uY2F0ZWdvcnkgPT0gInZpZGVvIikgewogICAgICAgICAgICAgICAgdmFyIGlzY3VycmVudCA9IGl0ZW0uZmlsZV9pZCA9PSB0aGlzRmlsZUlkOwogICAgICAgICAgICAgICAgaXNjdXJyZW50ICYmICh0aGlzdmlkZW9pbmRleCA9IGluZGV4KTsKICAgICAgICAgICAgICAgIHZhciBvcGFjaXR5dG1wID0gaXNjdXJyZW50ID8gJ3N0eWxlPSJvcGFjaXR5OiAwLjQ7IicgOiAnJzsKICAgICAgICAgICAgICAgIGVsZXZpZGVvcyArPSAnPGxpIGNsYXNzPSJkcmF3ZXItaXRlbS0tMmNOdFEgIiAnKyBvcGFjaXR5dG1wICsnIGRhdGEtaXMtY3VycmVudD0iJysgaXNjdXJyZW50ICsnIj48ZGl2IGNsYXNzPSJtZXRhLS0zLXF0dSI+PHAgY2xhc3M9InRpdGxlLS0ydmV3dSIgdGl0bGU9IicrIGl0ZW0ubmFtZSArJyI+PHNwYW4gY2xhc3M9ImZpbGVuYW1lLS0zaGN4dyI+JysgaXRlbS5uYW1lICsnPC9zcGFuPjwvcD48L2Rpdj48L2xpPic7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSk7CgogICAgICAgIHZhciBzdmcgPSAnPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDMyIDMyIj48cGF0aCBkPSJNMjIgMTZsLTEwLjEwNS0xMC42LTEuODk1IDEuOTg3IDguMjExIDguNjEzLTguMjExIDguNjEyIDEuODk1IDEuOTg4IDguMjExLTguNjEzeiI+PC9wYXRoPjwvc3ZnPicKICAgICAgICB2YXIgaHRtbCA9ICc8YnV0dG9uIGNsYXNzPSJkcGxheWVyLWljb24gZHBsYXllci1wbGF5LWljb24gbGVmdC1pY29uIiBzdHlsZT0idHJhbnNmb3JtOiByb3RhdGUoLTE4MGRlZykiIHRpdGxlPSLkuIrkuIDpm4YiPicrIHN2ZyArJzwvYnV0dG9uPic7CiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz0iZHBsYXllci1zZXR0aW5nIj48YnV0dG9uIGlkPSJidG4tdmlkZW8tc2VsZWN0IiBjbGFzcz0iZHBsYXllci1pY29uIGRwbGF5ZXItcXVhbGl0eS1pY29uIiB0aXRsZT0i6YCJ6ZuGIj7pgInpm4Y8L2J1dHRvbj48ZGl2IGNsYXNzPSJkcmF3ZXItY29udGFpbmVyLS0xTTlJeSIgZGF0YS1vcGVuPSJ0cnVlIiBkYXRhLWlzLWN1cnJlbnQ9InRydWUiIHN0eWxlPSJsZWZ0Oi0xMzVweDsgZGlzcGxheTpub25lOyB3aWR0aDogMzE1cHg7aGVpZ2h0OiAzNDVweDtib3R0b206IDYwcHg7Ij48ZGl2IGNsYXNzPSJkcmF3ZXItd3JhcHBlci0tM1lmcHciIHN0eWxlPSJoZWlnaHQ6IDM0NXB4OyI+PGhlYWRlciBjbGFzcz0iaGVhZGVyLS0yWTgwZSI+PHAgY2xhc3M9InRpdGxlLS1DYlYtViI+6YCJ6ZuGPC9wPjxkaXYgY2xhc3M9ImJ0bi1jbG9zZS0tVGlobFMiPjxzcGFuIGRhdGEtcm9sZT0iaWNvbiIgZGF0YS1yZW5kZXItYXM9InN2ZyIgZGF0YS1pY29uLXR5cGU9IlBEU0NoZXZyb25Eb3duIiBjbGFzcz0iaWNvbi0tdFR4SXIgaWNvbi0tZC1lakEgIiBzdHlsZT0idHJhbnNmb3JtOiByb3RhdGUoOTBkZWcpIj4nK3N2ZysnPC9zcGFuPjwvZGl2PjwvaGVhZGVyPjxzZWN0aW9uIGNsYXNzPSJzY3JvbGwtY29udGFpbmVyLS1IbzRyYSIgc3R5bGU9ImhlaWdodDogMjgwcHg7Ij48ZGl2IGNsYXNzPSJzY3JvbGwtd3JhcHBlci0tencxcTIiPjx1bCBjbGFzcz0iZHJhd2VyLWxpc3QtLUpZenlJIj4nKyBlbGV2aWRlb3MgKyc8L3VsPjwvZGl2Pjwvc2VjdGlvbj48L2Rpdj48L2Rpdj48L2Rpdj4nOwogICAgICAgIGh0bWwgKz0gJzxidXR0b24gY2xhc3M9ImRwbGF5ZXItaWNvbiBkcGxheWVyLXBsYXktaWNvbiByaWdodC1pY29uIiB0aXRsZT0i5LiL5LiA6ZuGIj4nKyBzdmcgKyc8L2J1dHRvbj4nOwogICAgICAgICQoIi5kcGxheWVyLWljb25zLXJpZ2h0IikucHJlcGVuZChodG1sKTsKCiAgICAgICAgdmFyIHNwZWVkID0gODAwOwogICAgICAgICQoIi5kcGxheWVyLWljb25zLXJpZ2h0ICNidG4tdmlkZW8tc2VsZWN0Iikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBlbGUgPSAkKHRoaXMpLm5leHQoKTsKICAgICAgICAgICAgaWYoZWxlLmNzcygiZGlzcGxheSIpPT0gIm5vbmUiKSB7CiAgICAgICAgICAgICAgICBlbGUuZmFkZVRvZ2dsZShzcGVlZCk7CiAgICAgICAgICAgICAgICAkKCIuZHBsYXllci1tYXNrIikuYWRkQ2xhc3MoImRwbGF5ZXItbWFzay1zaG93Iik7CiAgICAgICAgICAgICAgICB2YXIgaXRlbWhlaWdodCA9ICQoIi5kcGxheWVyLWljb25zLXJpZ2h0IC5kcmF3ZXItY29udGFpbmVyLS0xTTlJeSB1bCBsaSIpWzBdLm9mZnNldEhlaWdodDsKICAgICAgICAgICAgICAgIHZhciBhbGxpdGVtaGVpZ2h0ID0gJCgiLnNjcm9sbC1jb250YWluZXItLUhvNHJhIikuaGVpZ2h0KCk7CiAgICAgICAgICAgICAgICAkKCIuc2Nyb2xsLWNvbnRhaW5lci0tSG80cmEiKS5zY3JvbGxUb3AoKHRoaXN2aWRlb2luZGV4KzEpICogaXRlbWhlaWdodCAtIChhbGxpdGVtaGVpZ2h0KSAvIDIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZWxlLmZhZGVUb2dnbGUoc3BlZWQpCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAkKCIuZHBsYXllci1pY29ucy1yaWdodCAuYnRuLWNsb3NlLS1UaWhsUyIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAkKCIuZHBsYXllci1pY29ucy1yaWdodCAuZHJhd2VyLWNvbnRhaW5lci0tMU05SXkiKS5mYWRlVG9nZ2xlKHNwZWVkKTsKICAgICAgICAgICAgJCgiLmRwbGF5ZXItbWFzayIpLnJlbW92ZUNsYXNzKCJkcGxheWVyLW1hc2stc2hvdyIpCiAgICAgICAgfSk7CiAgICAgICAgJCgiLmRwbGF5ZXItaWNvbnMtcmlnaHQgLmRyYXdlci1jb250YWluZXItLTFNOUl5IHVsIGxpIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7CiAgICAgICAgICAgIGlmICgkdGhpcy5hdHRyKCJkYXRhLWlzLWN1cnJlbnQiKSA9PSAiZmFsc2UiKSB7CiAgICAgICAgICAgICAgICAkdGhpcy5hdHRyKCJkYXRhLWlzLWN1cnJlbnQiLCAidHJ1ZSIpOwogICAgICAgICAgICAgICAgJHRoaXMuY3NzKCJvcGFjaXR5IiwgIjAuNCIpOwogICAgICAgICAgICAgICAgJHRoaXMuc2libGluZ3MoKS5hdHRyKCJkYXRhLWlzLWN1cnJlbnQiLCAiZmFsc2UiKTsKICAgICAgICAgICAgICAgICR0aGlzLnNpYmxpbmdzKCkuY3NzKCJvcGFjaXR5IiwgIjEiKTsKICAgICAgICAgICAgICAgIG9iai5zZXRQbGF5TWVtb3J5KCJsYXN0bmFtZSIsdmlkZW9MaXN0WyR0aGlzLmluZGV4KCldLm5hbWUpOwogICAgICAgICAgICAgICAgb2JqLnBsYXlCeVNjcm9sbCgpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgJCgiLmRwbGF5ZXItbWFzayIpLm9uKCJjbGljayIsZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICgkKCIuZHBsYXllci1pY29ucy1yaWdodCAuZHJhd2VyLWNvbnRhaW5lci0tMU05SXkiKS5jc3MoImRpc3BsYXkiKSAhPSAibm9uZSIpIHsKICAgICAgICAgICAgICAgICQoIi5kcGxheWVyLWljb25zLXJpZ2h0IC5kcmF3ZXItY29udGFpbmVyLS0xTTlJeSIpLmZhZGVUb2dnbGUoc3BlZWQpOwogICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygiZHBsYXllci1tYXNrLXNob3ciKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICAvLyDkuIrkuIvpm4YKICAgICAgICAkKCIubGVmdC1pY29uIikub24oImNsaWNrIixmdW5jdGlvbigpewogICAgICAgICAgICBvYmouTGFzdE5leHRQbGF5KCdsYXN0Jyk7CiAgICAgICAgfSk7CiAgICAgICAgJCgiLnJpZ2h0LWljb24iKS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIG9iai5MYXN0TmV4dFBsYXkoJ25leHQnKTsKICAgICAgICB9KTsKICAgIH07CgogICAgb2JqLkxhc3ROZXh0UGxheSA9IGZ1bmN0aW9uKHR5cGUpIHsKICAgICAgICAvLyDkuIrkuIvpm4Yg5Luj56CB6LSh54yu77yaaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi91c2Vycy83OTUyMjct5pif5bOwCiAgICAgICAgdmFyIHBsYXlJbmZvID0gb2JqLnZpZGVvX3BhZ2UucGxheV9pbmZvOwogICAgICAgIHZhciBmaWxlTGlzdCA9IG9iai5maWxlX3BhZ2UuaXRlbXMKICAgICAgICAsIGZpbGVJbmRleCwgZmlsZSA9IGZpbGVMaXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgIGZpbGVJbmRleCA9IGluZGV4OwogICAgICAgICAgICByZXR1cm4gaXRlbS5maWxlX2lkID09IHBsYXlJbmZvLmZpbGVfaWQ7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHBsYXlmaWxlID0gZmlsZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICByZXR1cm4gaXRlbS5jYXRlZ29yeSA9PSAidmlkZW8iICYmICgoZmlsZUluZGV4IDwgaW5kZXggJiYgdHlwZSA9PSAnbmV4dCcpIHx8IChmaWxlSW5kZXggPiBpbmRleCAmJiB0eXBlID09ICdsYXN0JykpOwogICAgICAgIH0pOwogICAgICAgIHZhciBwbGF5ZmlsZXRtcDsKICAgICAgICBpZiAodHlwZSA9PSAnbmV4dCcpIHsKICAgICAgICAgICAgcGxheWZpbGV0bXAgPSBwbGF5ZmlsZVswXTsKICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgICAgcGxheWZpbGV0bXAgPSBwbGF5ZmlsZVtwbGF5ZmlsZS5sZW5ndGggLSAxXTsKICAgICAgICB9CiAgICAgICAgcGxheWZpbGV0bXAgPyBvYmoucGxheUJ5U2Nyb2xsKHBsYXlmaWxldG1wLm5hbWUpIDogb2JqLnZpZGVvX3BhZ2UuZFBsYXllci5ub3RpY2UoKHR5cGUgPT0gJ2xhc3QnID8gIuS4iiIgOiAi5LiLIikgKyAi5LiA6ZuG5bey57uP5rKh5pyJ5LqGIik7CiAgICB9OwoKICAgIG9iai5wbGF5QnlTY3JvbGwgPSBmdW5jdGlvbihsYXN0cGxheSl7CiAgICAgICAgLy8g57un57ut5LiK5qyh5pKt5pS+IOS7o+eggei0oeeMru+8mmh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vdXNlcnMvNzk1MjI3LeaYn+WzsAogICAgICAgIGxhc3RwbGF5ID0gbGFzdHBsYXkgfHwgb2JqLmdldFBsYXlNZW1vcnkoImxhc3RuYW1lIik7CiAgICAgICAgdmFyIHRvcHAgPSAwOwogICAgICAgIHZhciBzY3JvbGxlcmRpdiA9ICQoIi5zY3JvbGxlci0tMmhNR2siKTsKICAgICAgICB2YXIgaGUgPSAwOwogICAgICAgIHZhciB1cmwgPSBsb2NhdGlvbi5ocmVmOwogICAgICAgIGlmICh1cmwuaW5kZXhPZigiLmFsaXl1bmRyaXZlLmNvbS9zLyIpID4gMCkgewogICAgICAgICAgICBoZSA9ICQoIi50aGVhZC0tSndCTW0iKS5uZXh0KCkuY2hpbGRyZW4oKS5oZWlnaHQoKTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodXJsLmluZGV4T2YoIi5hbGl5dW5kcml2ZS5jb20vZHJpdmUiKSA+IDApIHsKICAgICAgICAgICAgaGUgPSBzY3JvbGxlcmRpdi5jaGlsZHJlbigpLmNoaWxkcmVuKCkuaGVpZ2h0KCk7CiAgICAgICAgfQogICAgICAgIC8v6YCa6L+H5paH5Lu25YiX6KGo5a6a5L2N5LiK5qyh5pKt5pS+5paH5Lu2CiAgICAgICAgdmFyIGZpbGVMaXN0ID0gb2JqLmZpbGVfcGFnZS5pdGVtcwogICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBmaWxlTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgdG1wdGV4dCA9IGZpbGVMaXN0W2ldLm5hbWU7CiAgICAgICAgICAgIGlmICh0bXB0ZXh0ID09IGxhc3RwbGF5KSB7CiAgICAgICAgICAgICAgICB0b3BwID0gKGkgKiAoaGUgLyBmaWxlTGlzdC5sZW5ndGgpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzY3JvbGxlcmRpdi5zY3JvbGxUb3AodG9wcCk7CiAgICAgICAgLy/np7vliqjmu5rliqjmnaHlkI7ngrnlh7vkuIrmrKHmkq3mlL7mlofku7YKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgJCgiLnRleHQtcHJpbWFyeS0tM0RIT0oiKS5lYWNoKCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgdG1wdGV4dCA9IHRoaXMudGV4dENvbnRlbnQ7CiAgICAgICAgICAgICAgICBpZih0bXB0ZXh0ID09IGxhc3RwbGF5KXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaWNrKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sNTAwKQogICAgfTsKCiAgICBvYmouYXV0b0xhc3RCdG4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGxhc3RwbGF5ID0gb2JqLmdldFBsYXlNZW1vcnkoImxhc3RuYW1lIik7CiAgICAgICAgaWYgKGxhc3RwbGF5KSB7CiAgICAgICAgICAgICQoIi5idXR0b24tbGFzdC0tYmF0Y2giKS5zaG93KCk7CiAgICAgICAgfQogICAgICAgIGVsc2V7CiAgICAgICAgICAgICQoIi5idXR0b24tbGFzdC0tYmF0Y2giKS5oaWRlKCk7CiAgICAgICAgfQogICAgfTsKCiAgICBvYmouZ2V0UGxheU1lbW9yeSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIGZpbGVMaXN0ID0gb2JqLmZpbGVfcGFnZS5pdGVtcwogICAgICAgICwgcGFyZW50X2ZpbGVfaWQgPSBmaWxlTGlzdFswXS5wYXJlbnRfZmlsZV9pZAogICAgICAgICwgdmlkZW9NZW1vcnkgPSBvYmouZ2V0SXRlbSgidmlkZW9fbWVtb3J5Iik7CiAgICAgICAgaWYgKHZpZGVvTWVtb3J5ICYmIHZpZGVvTWVtb3J5W3BhcmVudF9maWxlX2lkXSkgewogICAgICAgICAgICByZXR1cm4gdmlkZW9NZW1vcnlbcGFyZW50X2ZpbGVfaWRdW2VdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gIiI7CiAgICB9OwoKICAgIG9iai5zZXRQbGF5TWVtb3J5ID0gZnVuY3Rpb24gKGUsIHQsIG8sIHN0YXJ0LCBlbmQpIHsKICAgICAgICBpZiAoZSkgewogICAgICAgICAgICB2YXIgZmlsZUxpc3QgPSBvYmouZmlsZV9wYWdlLml0ZW1zCiAgICAgICAgICAgICwgcGFyZW50X2ZpbGVfaWQgPSBmaWxlTGlzdFswXS5wYXJlbnRfZmlsZV9pZAogICAgICAgICAgICAsIHZpZGVvTWVtb3J5ID0gb2JqLmdldEl0ZW0oInZpZGVvX21lbW9yeSIpIHx8IHt9OwogICAgICAgICAgICBpZiAodHlwZW9mIHQgPT0gIm51bWJlciIgJiYgbykgewogICAgICAgICAgICAgICAgaWYgKChzdGFydCAmJiAodCA8PSBwYXJzZUludChzdGFydCkpIHx8IGVuZCAmJiAodCArIHBhcnNlSW50KGVuZCkgPj0gbykpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHZpZGVvTWVtb3J5Lmhhc093blByb3BlcnR5KHBhcmVudF9maWxlX2lkKSAmJiB2aWRlb01lbW9yeVtwYXJlbnRfZmlsZV9pZF0uaGFzT3duUHJvcGVydHkoZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHZpZGVvTWVtb3J5W3BhcmVudF9maWxlX2lkXVtlXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2aWRlb01lbW9yeVtwYXJlbnRfZmlsZV9pZF0gfHwgKHZpZGVvTWVtb3J5W3BhcmVudF9maWxlX2lkXSA9IHt9KTsKICAgICAgICAgICAgICAgICAgICB2aWRlb01lbW9yeVtwYXJlbnRfZmlsZV9pZF1bZV0gPSB0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgb2JqLnNldEl0ZW0oInZpZGVvX21lbW9yeSIsIHZpZGVvTWVtb3J5KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHZpZGVvTWVtb3J5KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdGltZSA9IHZpZGVvTWVtb3J5W2tleV0udGltZTsKICAgICAgICAgICAgICAgICAgICBpZiAodGltZSAmJiAocGFyc2VJbnQoRGF0ZS5ub3coKSAvIDEwMDApIC0gdGltZSA+PSA4NjQwMDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2aWRlb01lbW9yeVtrZXldOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKCF2aWRlb01lbW9yeVtwYXJlbnRfZmlsZV9pZF0pIHsKICAgICAgICAgICAgICAgICAgICB2aWRlb01lbW9yeVtwYXJlbnRfZmlsZV9pZF0gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IHBhcnNlSW50KERhdGUubm93KCkgLyAxMDAwKQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2aWRlb01lbW9yeVtwYXJlbnRfZmlsZV9pZF1bZV0gPSB0OwogICAgICAgICAgICAgICAgb2JqLnNldEl0ZW0oInZpZGVvX21lbW9yeSIsIHZpZGVvTWVtb3J5KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CgogICAgb2JqLmdldF9zaGFyZV9saW5rX3ZpZGVvX3ByZXZpZXdfcGxheV9pbmZvID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHRva2VuID0gb2JqLmdldEl0ZW0oInRva2VuIikgfHwge30sIHNoYXJlX2lkID0gb2JqLmdldFNoYXJlSWQoKSwgZmlsZV9pZCA9IG9iai52aWRlb19wYWdlLnBsYXlfaW5mby5maWxlX2lkOwogICAgICAgICQuYWpheCh7CiAgICAgICAgICAgIHR5cGU6ICJwb3N0IiwKICAgICAgICAgICAgdXJsOiAiaHR0cHM6Ly9hcGkuYWxpeXVuZHJpdmUuY29tL3YyL2ZpbGUvZ2V0X3NoYXJlX2xpbmtfdmlkZW9fcHJldmlld19wbGF5X2luZm8iLAogICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICBjYXRlZ29yeTogImxpdmVfdHJhbnNjb2RpbmciLAogICAgICAgICAgICAgICAgZmlsZV9pZDogZmlsZV9pZCwKICAgICAgICAgICAgICAgIGdldF9wcmV2aWV3X3VybDogdHJ1ZSwKICAgICAgICAgICAgICAgIHNoYXJlX2lkOiBzaGFyZV9pZCwKICAgICAgICAgICAgICAgIHRlbXBsYXRlX2lkOiAiIiwKICAgICAgICAgICAgICAgIGdldF9zdWJ0aXRsZV9pbmZvOiAhMAogICAgICAgICAgICB9KSwKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgImF1dGhvcml6YXRpb24iOiAiIi5jb25jYXQodG9rZW4udG9rZW5fdHlwZSB8fCAiIiwgIiAiKS5jb25jYXQodG9rZW4uYWNjZXNzX3Rva2VuIHx8ICIiKSwKICAgICAgICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04IiwKICAgICAgICAgICAgICAgICJ4LXNoYXJlLXRva2VuIjogb2JqLmdldEl0ZW0oInNoYXJlVG9rZW4iKS5zaGFyZV90b2tlbgogICAgICAgICAgICB9LAogICAgICAgICAgICBhc3luYzogdHJ1ZSwKICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXNwb25zZSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZUpTT04uY29kZSA9PSAiQWNjZXNzVG9rZW5JbnZhbGlkIikgewogICAgICAgICAgICAgICAgICAgIG9iai5yZWZyZXNoX3Rva2VuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBPYmplY3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5nZXRfc2hhcmVfbGlua192aWRlb19wcmV2aWV3X3BsYXlfaW5mbyhjYWxsYmFjayk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygiIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlSlNPTi5jb2RlID09ICJTaGFyZUxpbmtUb2tlbkludmFsaWQiKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLmdldF9zaGFyZV90b2tlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgT2JqZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouZ2V0X3NoYXJlX2xpbmtfdmlkZW9fcHJldmlld19wbGF5X2luZm8oY2FsbGJhY2spOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soIiIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJnZXRfc2hhcmVfbGlua192aWRlb19wcmV2aWV3X3BsYXlfaW5mbyDplJnor68iLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlSlNPTi5jb2RlID09ICJJbnZhbGlkUGFyYW1ldGVyTm90TWF0Y2guU2hhcmVJZCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dUaXBFcnJvcigi6ZSZ6K+v77ya5Y+C5pWw5LiN5Yy56YWN77yM5q2k6ZSZ6K+v5Y+v6IO95piv5omT5byA5LqG5Y+m5LiA5Liq5YiG5Lqr6ZO+5o6l5a+86Ie077yM6K+35Yi35pawIiwgMTAwMDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygiIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH07CgogICAgb2JqLmdldF92aWRlb19wcmV2aWV3X3BsYXlfaW5mbyA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgIHZhciB0b2tlbiA9IG9iai5nZXRJdGVtKCJ0b2tlbiIpIHx8IHt9LCBmaWxlX2lkID0gb2JqLnZpZGVvX3BhZ2UucGxheV9pbmZvLmZpbGVfaWQ7CiAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgdHlwZTogInBvc3QiLAogICAgICAgICAgICB1cmw6ICJodHRwczovL2FwaS5hbGl5dW5kcml2ZS5jb20vdjIvZmlsZS9nZXRfdmlkZW9fcHJldmlld19wbGF5X2luZm8iLAogICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICBjYXRlZ29yeTogImxpdmVfdHJhbnNjb2RpbmciLAogICAgICAgICAgICAgICAgZHJpdmVfaWQ6IHRva2VuLmRlZmF1bHRfZHJpdmVfaWQsCiAgICAgICAgICAgICAgICBmaWxlX2lkOiBmaWxlX2lkLAogICAgICAgICAgICAgICAgdGVtcGxhdGVfaWQ6ICIiLAogICAgICAgICAgICAgICAgZ2V0X3N1YnRpdGxlX2luZm86ICEwCiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAiYXV0aG9yaXphdGlvbiI6ICIiLmNvbmNhdCh0b2tlbi50b2tlbl90eXBlIHx8ICIiLCAiICIpLmNvbmNhdCh0b2tlbi5hY2Nlc3NfdG9rZW4gfHwgIiIpLAogICAgICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgiLAogICAgICAgICAgICB9LAogICAgICAgICAgICBhc3luYzogdHJ1ZSwKICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXNwb25zZSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZUpTT04uY29kZSA9PSAiQWNjZXNzVG9rZW5JbnZhbGlkIikgewogICAgICAgICAgICAgICAgICAgIG9iai5yZWZyZXNoX3Rva2VuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBPYmplY3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5nZXRfdmlkZW9fcHJldmlld19wbGF5X2luZm8oY2FsbGJhY2spOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soIiIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJnZXRfdmlkZW9fcHJldmlld19wbGF5X2luZm8g6ZSZ6K+vIiwgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCIiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfTsKCiAgICBvYmouZXhwaXJlcyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1sxXSA/IGFyZ3VtZW50c1sxXSA6IDZlMwogICAgICAgICwgbiA9IGUubWF0Y2goLyZ4LW9zcy1leHBpcmVzPShcZCspJi8pOwogICAgICAgIHJldHVybiAhbiB8fCBuICYmIG5bMV0gJiYgKyIiLmNvbmNhdChuWzFdLCAiMDAwIikgLSB0IDwgRGF0ZS5ub3coKTsKICAgIH07CgogICAgb2JqLmFkZEN1ZVZpZGVvU3VidGl0bGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICBvYmouZ2V0U3VidGl0bGVzKGZ1bmN0aW9uIChzdWJsaXN0KSB7CiAgICAgICAgICAgIGlmIChzdWJsaXN0Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgdmFyIHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigidmlkZW8iKTsKICAgICAgICAgICAgICAgIGlmICh2aWRlbykgewogICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0VHJhY2tMaXN0ID0gdmlkZW8udGV4dFRyYWNrczsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHRUcmFja0xpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFRyYWNrTGlzdFtpXS5tb2RlID0gImhpZGRlbiIgfHwgKHRleHRUcmFja0xpc3RbaV0ubW9kZSA9ICJoaWRkZW4iKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChzdWJsaXN0Lmxlbmd0aCA+IDEgJiYgIVsiY2hpIiwgInpobyIsICJhZGoiXS5pbmNsdWRlcyhzdWJsaXN0WzBdLmxhbmd1YWdlKSkgewogICAgICAgICAgICAgICAgICAgICAgICBzdWJsaXN0ID0gb2JqLnNvcnRTdWJMaXN0KHN1Ymxpc3QpOwogICAgICAgICAgICAgICAgICAgICAgICBzdWJsaXN0ID0gb2JqLmZ1c2VTdWJMaXN0KHN1Ymxpc3QpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzdWJsaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnN1YmFycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFRyYWNrTGlzdFtpbmRleF0gfHwgdmlkZW8uYWRkVGV4dFRyYWNrKCJzdWJ0aXRsZXMiLCBpdGVtLmxhYmVsLCBpdGVtLmxhbmd1YWdlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN1YmFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLzxiPi4qPFwvYj4vLnRlc3QoaXRlbS50ZXh0KSB8fCAoaXRlbS50ZXh0ID0gaXRlbS50ZXh0LnNwbGl0KC9ccj9cbi8pLm1hcCgoaXRlbSkgPT4gYDxiPiR7aXRlbX08L2I+YCkuam9pbigiXG4iKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRUcmFja0N1ZSA9IG5ldyBWVFRDdWUoaXRlbS5zdGFydFRpbWUsIGl0ZW0uZW5kVGltZSwgaXRlbS50ZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0VHJhY2tDdWUuaWQgPSBpdGVtLmluZGV4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRUcmFja0xpc3RbaW5kZXhdICYmIHRleHRUcmFja0xpc3RbaW5kZXhdLmFkZEN1ZSh0ZXh0VHJhY2tDdWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRUcmFjayA9IHRleHRUcmFja0xpc3RbMF07CiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRUcmFjayAmJiB0ZXh0VHJhY2suY3VlcyAmJiB0ZXh0VHJhY2suY3Vlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFRyYWNrLm1vZGUgPSAic2hvd2luZyI7CiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5zaG93VGlwU3VjY2Vzcygi5a2X5bmV5re75Yqg5oiQ5YqfIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHRleHRUcmFja0xpc3QpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soIiIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCIiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCIiKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfTsKCiAgICBvYmouZ2V0U3VidGl0bGVzID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgaWYgKG9iai52aWRlb19wYWdlLnN1YnRpdGxlX2xpc3QubGVuZ3RoKSB7CiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayAmJiBjYWxsYmFjayhvYmoudmlkZW9fcGFnZS5zdWJ0aXRsZV9saXN0KTsKICAgICAgICB9CgogICAgICAgIG9iai5nZXRJbnRlcm5hbFN1YnRpdGxlcyhmdW5jdGlvbiAoc3VibGlzdCkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1Ymxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGlmIChbImNoaSIsICJ6aG8iLCAiYWRqIl0uaW5jbHVkZXMoc3VibGlzdFtpXS5sYW5ndWFnZSkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sgJiYgY2FsbGJhY2soc3VibGlzdCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb2JqLmdldERyaXZlU3VidGl0bGVzKGZ1bmN0aW9uIChzdWJsaXN0KSB7CiAgICAgICAgICAgICAgICBpZiAoc3VibGlzdCAmJiBzdWJsaXN0Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHN1Ymxpc3QpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sob2JqLnZpZGVvX3BhZ2Uuc3VidGl0bGVfbGlzdCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwoKICAgICAgICBvYmouZ2V0TG9jYWxTdWJ0aXRsZXMoY2FsbGJhY2spOwogICAgfTsKCiAgICBvYmouZ2V0SW50ZXJuYWxTdWJ0aXRsZXMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICB2YXIgcGxheV9pbmZvID0gb2JqLnZpZGVvX3BhZ2UucGxheV9pbmZvOwogICAgICAgIHZhciBzdWJ0aXRsZV90YXNrX2xpc3QgPSBwbGF5X2luZm8udmlkZW9fcHJldmlld19wbGF5X2luZm8ubGl2ZV90cmFuc2NvZGluZ19zdWJ0aXRsZV90YXNrX2xpc3Q7CiAgICAgICAgaWYgKHN1YnRpdGxlX3Rhc2tfbGlzdCkgewogICAgICAgICAgICB2YXIgbGlzdExlbiA9IHN1YnRpdGxlX3Rhc2tfbGlzdC5sZW5ndGg7CiAgICAgICAgICAgIHN1YnRpdGxlX3Rhc2tfbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICAgICAgaXRlbS5sYW5ndWFnZSB8fCAoaXRlbS5sYW5ndWFnZSA9ICJjaGkiKTsKICAgICAgICAgICAgICAgIGl0ZW0ubGFiZWwgfHwgKGl0ZW0ubGFiZWwgPSBvYmoubGFiZWxkZXRlY3QoaXRlbS5sYW5ndWFnZSkpOwogICAgICAgICAgICAgICAgaWYgKGl0ZW0uc3ViYXJyKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLnZpZGVvX3BhZ2Uuc3VidGl0bGVfbGlzdC5wdXNoKGl0ZW0pOwogICAgICAgICAgICAgICAgICAgIGlmICgtLWxpc3RMZW4gPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhvYmoudmlkZW9fcGFnZS5zdWJ0aXRsZV9saXN0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBvYmouZ2V0U3VidGl0bGVUZXh0KGl0ZW0udXJsLCBmdW5jdGlvbiAoc3VidGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VidGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YmFyciA9IG9iai5wYXJzZVRleHRUb0FycmF5KCJ2dHQiLCBzdWJ0ZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWJhcnIubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zdWJhcnIgPSBzdWJhcnI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnZpZGVvX3BhZ2Uuc3VidGl0bGVfbGlzdC5wdXNoKGl0ZW0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtLWxpc3RMZW4gPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sob2JqLnZpZGVvX3BhZ2Uuc3VidGl0bGVfbGlzdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhbXSk7CiAgICAgICAgfQogICAgfTsKCiAgICBvYmouZ2V0RHJpdmVTdWJ0aXRsZXMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICBvYmouZmluZFN1YnRpdGxlRmlsZXMoIiIsIGZ1bmN0aW9uIChzdWJ0aXRsZUZpbGVzKSB7CiAgICAgICAgICAgIGlmIChzdWJ0aXRsZUZpbGVzICYmIHN1YnRpdGxlRmlsZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB2YXIgc3ViRmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgICAgIHN1YnRpdGxlRmlsZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICBvYmoudG9GaWxlSW5mb1N1Ykxpc3QoaXRlbSwgZnVuY3Rpb24gKGZpbGVJbmZvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmlsZUluZm8ubGFuZ3VhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVJbmZvLmxhbmd1YWdlID0gb2JqLmxhbmdkZXRlY3QoZmlsZUluZm8uc3ViYXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVJbmZvLmxhYmVsID0gb2JqLmxhYmVsZGV0ZWN0KGZpbGVJbmZvLmxhbmd1YWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnZpZGVvX3BhZ2Uuc3VidGl0bGVfbGlzdC5wdXNoKGZpbGVJbmZvKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCsraW5kZXggPT0gc3VidGl0bGVGaWxlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKG9iai52aWRlb19wYWdlLnN1YnRpdGxlX2xpc3QpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKFtdKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfTsKCiAgICBvYmouZ2V0TG9jYWxTdWJ0aXRsZXMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICBvYmoubG9jYWxGaWxlc1N1YlRleHQoZnVuY3Rpb24gKGZpbGVJbmZvKSB7CiAgICAgICAgICAgIGlmIChmaWxlSW5mby5zdWJ0ZXh0KSB7CiAgICAgICAgICAgICAgICBmaWxlSW5mby5zdWJhcnIgPSBvYmoucGFyc2VUZXh0VG9BcnJheShmaWxlSW5mby5maWxlX2V4dGVuc2lvbiwgZmlsZUluZm8uc3VidGV4dCk7CiAgICAgICAgICAgICAgICBpZiAoZmlsZUluZm8uc3ViYXJyLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgIGZpbGVJbmZvLmxhbmd1YWdlID0gb2JqLmxhbmdkZXRlY3QoZmlsZUluZm8uc3ViYXJyKTsKICAgICAgICAgICAgICAgICAgICBmaWxlSW5mby5sYWJlbCA9IG9iai5sYWJlbGRldGVjdChmaWxlSW5mby5sYW5ndWFnZSk7CiAgICAgICAgICAgICAgICAgICAgb2JqLnZpZGVvX3BhZ2Uuc3VidGl0bGVfbGlzdC5wdXNoKGZpbGVJbmZvKTsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhvYmoudmlkZW9fcGFnZS5zdWJ0aXRsZV9saXN0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKFtdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIG9iai5zaG93VGlwRXJyb3IoIuacrOWcsOWtl+W5lea3u+WKoOWksei0pSIpOwogICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soW10pOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9OwoKICAgIG9iai5zb3J0U3ViTGlzdCA9IGZ1bmN0aW9uIChzdWJsaXN0KSB7CiAgICAgICAgdmFyIG5ld1N1Ykxpc3QgPSBbXTsKICAgICAgICBpZiAoc3VibGlzdFswXSAmJiBzdWJsaXN0WzBdLnN1YmFycikgewogICAgICAgICAgICBpZiAoWyJjaGkiLCAiemhvIiwgImFkaiJdLmluY2x1ZGVzKHN1Ymxpc3RbMF0ubGFuZ3VhZ2UpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gc3VibGlzdDsKICAgICAgICAgICAgfQogICAgICAgICAgICBzdWJsaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgICAgICBpZiAoWyJjaGkiLCAiemhvIiwgImFkaiJdLmluY2x1ZGVzKGl0ZW0ubGFuZ3VhZ2UpKSB7CiAgICAgICAgICAgICAgICAgICAgbmV3U3ViTGlzdC51bnNoaWZ0KGl0ZW0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbmV3U3ViTGlzdC5wdXNoKGl0ZW0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG5ld1N1Ykxpc3Q7CiAgICB9OwoKICAgIG9iai5mdXNlU3ViTGlzdCA9IGZ1bmN0aW9uIChzdWJsaXN0KSB7CiAgICAgICAgc3VibGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICBpZiAoaXRlbS5zdWJhcnIpIHsKICAgICAgICAgICAgICAgIHZhciBuZXdTdWJMaXN0ID0gWyBpdGVtLnN1YmFyci5zaGlmdCgpIF07CiAgICAgICAgICAgICAgICBpdGVtLnN1YmFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICAgICAgICAgIHZhciBwcmV2U3ViID0gbmV3U3ViTGlzdC5zbGljZSgtMSlbMF07CiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uc3RhcnRUaW1lID09IHByZXZTdWIuc3RhcnRUaW1lICYmIGl0ZW0uZW5kVGltZSA9PSBwcmV2U3ViLmVuZFRpbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcHJldlN1Yi50ZXh0ICs9ICJcbiIgKyBpdGVtLnRleHQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBuZXdTdWJMaXN0LnB1c2goaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzdWJsaXN0W2luZGV4XS5zdWJhcnIgPSBuZXdTdWJMaXN0OwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHN1Ymxpc3Q7CiAgICB9OwoKICAgIG9iai5sYW5nZGV0ZWN0ID0gZnVuY3Rpb24gKHN1YmFycikgewogICAgICAgIHZhciB0ZXh0ID0gc3ViYXJyW3BhcnNlSW50KHN1YmFyci5sZW5ndGggLyAyKV0udGV4dDsKICAgICAgICB2YXIgdGV4dFNwbGl0ID0gdGV4dC5zcGxpdCgvXG4vKTsKICAgICAgICBpZiAodGV4dFNwbGl0Lmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgIGlmIChlc2NhcGUodGV4dFNwbGl0WzBdKS5pbmRleE9mKCAiJXUiICkgIT0gLTEgJiYgL1tcdTRFMDAtXHU5RkE1XS8udGVzdCh0ZXh0U3BsaXRbMF0pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gImNoaSI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoL1x3Ly50ZXN0KHRleHRTcGxpdFswXSkpIHsKICAgICAgICAgICAgICAgIHJldHVybiAiZW5nIjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiAidW5rIjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIGlmICh0ZXh0U3BsaXQubGVuZ3RoID09IDIpIHsKICAgICAgICAgICAgaWYgKGVzY2FwZSh0ZXh0U3BsaXRbMF0pLmluZGV4T2YoICIldSIgKSAhPSAtMSAmJiAvW1x1NEUwMC1cdTlGQTVdLy50ZXN0KHRleHRTcGxpdFswXSkpIHsKICAgICAgICAgICAgICAgIGlmIChlc2NhcGUodGV4dFNwbGl0WzFdKS5pbmRleE9mKCAiJXUiICkgIT0gLTEgJiYgL1tcdTRFMDAtXHU5RkE1XS8udGVzdCh0ZXh0U3BsaXRbMV0pKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICJjaGkiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICJhZGoiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuICJ1bmsiOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gInVuayI7CiAgICAgICAgfQogICAgfTsKCiAgICBvYmoubGFiZWxkZXRlY3QgPSBmdW5jdGlvbiAobGFuZ3VhZ2UpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBjaGk6ICLkuK3mloflrZfluZUiLAogICAgICAgICAgICB6aG86ICLkuK3mloflrZfluZUiLAogICAgICAgICAgICBlbmc6ICLoi7HmloflrZfluZUiLAogICAgICAgICAgICBqcG46ICLml6XmloflrZfluZUiLAogICAgICAgICAgICBhZGo6ICLlj4zor63lrZfluZUiLAogICAgICAgICAgICB1bms6ICLlpJbor63lrZfluZUiCiAgICAgICAgfVtsYW5ndWFnZV0gfHwgIuacquefpeivreiogCI7CiAgICB9OwoKICAgIG9iai5maW5kU3VidGl0bGVGaWxlcyA9IGZ1bmN0aW9uICh2aWRlb19uYW1lLCBjYWxsYmFjaykgewogICAgICAgIHZhciBmaWxlTGlzdCA9IG9iai5maWxlX3BhZ2UuaXRlbXM7CiAgICAgICAgaWYgKGZpbGVMaXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuiHtOWRvemUmeivr++8muWKq+aMgeaWh+S7tuWIl+ihqOWksei0pSIpOwogICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfQoKICAgICAgICBpZiAodmlkZW9fbmFtZSkgewogICAgICAgICAgICB2aWRlb19uYW1lID0gdmlkZW9fbmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdmFyIHBsYXlfaW5mbyA9IG9iai52aWRlb19wYWdlLnBsYXlfaW5mbzsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKGZpbGVMaXN0W2ldLmZpbGVfaWQgPT0gcGxheV9pbmZvLmZpbGVfaWQpIHsKICAgICAgICAgICAgICAgICAgICB2aWRlb19uYW1lID0gZmlsZUxpc3RbaV0ubmFtZS5yZXBsYWNlKCIuIiArIGZpbGVMaXN0W2ldLmZpbGVfZXh0ZW5zaW9uLCAiIikudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIXZpZGVvX25hbWUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuiHtOWRvemUmeivr++8muWvu+aJvuinhumikeWQjeensOWksei0pSIpOwogICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrICYmIGNhbGxiYWNrKFtdKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIHN1YkV4dHMgPSBPYmplY3Qua2V5cyhvYmouc3VidGl0bGVQYXJzZXIoKSk7CiAgICAgICAgdmFyIHN1YkZpbGVMaXN0cyA9IFtdLCBzdWJGaWxlTGlzdCA9IFtdLCB2aWRlb0ZpbGVMaXN0ID0gW107CiAgICAgICAgZmlsZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpZiAoaXRlbS50eXBlID09ICJmaWxlIikgewogICAgICAgICAgICAgICAgdmFyIGZpbGVfZXh0ID0gaXRlbS5maWxlX2V4dGVuc2lvbi50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgaWYgKHN1YkV4dHMuaW5jbHVkZXMoZmlsZV9leHQpKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVfbmFtZSA9IGl0ZW0ubmFtZS5yZXBsYWNlKCIuIiArIGl0ZW0uZmlsZV9leHRlbnNpb24sICIiKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChmaWxlX25hbWUuaW5jbHVkZXModmlkZW9fbmFtZSkgfHwgdmlkZW9fbmFtZS5pbmNsdWRlcyhmaWxlX25hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN1YkZpbGVMaXN0LnB1c2goaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHN1YkZpbGVMaXN0cy5wdXNoKGl0ZW0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS5jYXRlZ29yeSA9PSAidmlkZW8iKSB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW9GaWxlTGlzdC5wdXNoKGl0ZW0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGlmIChzdWJGaWxlTGlzdC5sZW5ndGgpIHsKICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soc3ViRmlsZUxpc3QpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChzdWJGaWxlTGlzdHMubGVuZ3RoKSB7CiAgICAgICAgICAgIGlmICh2aWRlb0ZpbGVMaXN0Lmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhzdWJGaWxlTGlzdHMpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgdmlkZW9fbmFtZSA9IHZpZGVvX25hbWUuc3BsaXQoIi4iKS5zbGljZSgwLCAtMSkuam9pbigiLiIpOwogICAgICAgICAgICAgICAgaWYgKHZpZGVvX25hbWUpIHsKICAgICAgICAgICAgICAgICAgICBvYmouZmluZFN1YnRpdGxlRmlsZXModmlkZW9fbmFtZSwgY2FsbGJhY2spOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soW10pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhbXSk7CiAgICAgICAgfQogICAgfTsKCiAgICBvYmoudG9GaWxlSW5mb1N1Ykxpc3QgPSBmdW5jdGlvbiAoZmlsZUluZm8sIGNhbGxiYWNrKSB7CiAgICAgICAgaWYgKGZpbGVJbmZvIGluc3RhbmNlb2YgT2JqZWN0KSB7CiAgICAgICAgICAgIGlmIChmaWxlSW5mby5oYXNPd25Qcm9wZXJ0eSgic3ViYXJyIikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayAmJiBjYWxsYmFjayhmaWxlSW5mbyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoZmlsZUluZm8uaGFzT3duUHJvcGVydHkoInN1YnRleHQiKSkgewogICAgICAgICAgICAgICAgZmlsZUluZm8uc3ViYXJyID0gb2JqLnBhcnNlVGV4dFRvQXJyYXkoZmlsZUluZm8uZmlsZV9leHRlbnNpb24sIGZpbGVJbmZvLnN1YnRleHQpIHx8IFtdOwogICAgICAgICAgICAgICAgcmV0dXJuIG9iai50b0ZpbGVJbmZvU3ViTGlzdChmaWxlSW5mbywgY2FsbGJhY2spOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKGZpbGVJbmZvLmhhc093blByb3BlcnR5KCJkb3dubG9hZF91cmwiKSB8fCBmaWxlSW5mby5oYXNPd25Qcm9wZXJ0eSgidXJsIikpIHsKICAgICAgICAgICAgICAgIG9iai5nZXRTdWJ0aXRsZVRleHQoZmlsZUluZm8uZG93bmxvYWRfdXJsIHx8IGZpbGVJbmZvLnVybCwgZnVuY3Rpb24gKHN1YnRleHQpIHsKICAgICAgICAgICAgICAgICAgICBmaWxlSW5mby5zdWJ0ZXh0ID0gc3VidGV4dCB8fCAiIjsKICAgICAgICAgICAgICAgICAgICBvYmoudG9GaWxlSW5mb1N1Ykxpc3QoZmlsZUluZm8sIGNhbGxiYWNrKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgc2hhcmVJZCA9IG9iai5nZXRTaGFyZUlkKCk7CiAgICAgICAgICAgIGlmIChzaGFyZUlkKSB7CiAgICAgICAgICAgICAgICBvYmouZ2V0U2hhcmVMaW5rRG93bmxvYWRVcmwoZmlsZUluZm8uZmlsZV9pZCwgc2hhcmVJZCwgZnVuY3Rpb24gKGRvd25sb2FkX3VybCkgewogICAgICAgICAgICAgICAgICAgIGZpbGVJbmZvLmRvd25sb2FkX3VybCA9IGRvd25sb2FkX3VybCB8fCAiIjsKICAgICAgICAgICAgICAgICAgICBvYmoudG9GaWxlSW5mb1N1Ykxpc3QoZmlsZUluZm8sIGNhbGxiYWNrKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBvYmouZ2V0SG9tZUxpbmtEb3dubG9hZFVybChmaWxlSW5mby5maWxlX2lkLCBmaWxlSW5mby5kcml2ZV9pZCwgZnVuY3Rpb24gKGRvd25sb2FkX3VybCkgewogICAgICAgICAgICAgICAgICAgIGZpbGVJbmZvLmRvd25sb2FkX3VybCA9IGRvd25sb2FkX3VybCB8fCAiIjsKICAgICAgICAgICAgICAgICAgICBvYmoudG9GaWxlSW5mb1N1Ykxpc3QoZmlsZUluZm8sIGNhbGxiYWNrKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh7fSk7CiAgICAgICAgfQogICAgfTsKCiAgICBvYmoubG9jYWxGaWxlc1N1YlRleHQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICAkKGRvY3VtZW50KS5vbigiY2hhbmdlIiwgIiNhZGRzdWJ0aXRsZSIsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgIGlmICh0aGlzLmZpbGVzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGVzWzBdOwogICAgICAgICAgICAgICAgdmFyIGZpbGVfZXh0ZW5zaW9uID0gZmlsZS5uYW1lLnNwbGl0KCIuIikucG9wKCkudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgIHZhciBzdWJ0aXRsZV9leHRlbnNpb24gPSBPYmplY3Qua2V5cyhvYmouc3VidGl0bGVQYXJzZXIoKSk7CiAgICAgICAgICAgICAgICBpZiAoIShmaWxlX2V4dGVuc2lvbiAmJiBzdWJ0aXRsZV9leHRlbnNpb24uaW5jbHVkZXMoZmlsZV9leHRlbnNpb24pKSkgewogICAgICAgICAgICAgICAgICAgIG9iai5zaG93VGlwRXJyb3IoIuaaguS4jeaUr+aMgeatpOexu+Wei+aWh+S7tiIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayAmJiBjYWxsYmFjayhbXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlLCAnVVRGLTgnKTsKICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZWFkZXIucmVzdWx0OwogICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaW5kZXhPZigi77+9IikgPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZGVyLnJlYWRBc1RleHQoZmlsZSwgIkdCSyIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh7ZmlsZV9leHRlbnNpb246IGZpbGVfZXh0ZW5zaW9uLCBzdWJ0ZXh0OiByZXN1bHR9KTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhbXSk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMudmFsdWUgPSAiIjsKICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gIiI7CiAgICAgICAgfSk7CiAgICB9OwoKICAgIG9iai5nZXRTdWJ0aXRsZVRleHQgPSBmdW5jdGlvbiAodXJsLCBjYWxsYmFjaykgewogICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICAgICAgdXJsIDogdXJsLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICByZWZlcmVyOiAiaHR0cHM6Ly93d3cuYWxpeXVuZHJpdmUuY29tLyIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAiYmxvYiIsCiAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5zdGF0dXMgfHwgcmVzdWx0LnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICB2YXIgYmxvYiA9IHJlc3VsdC5yZXNwb25zZTsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChibG9iLCAnVVRGLTgnKTsKICAgICAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVhZGVyLnJlc3VsdDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pbmRleE9mKCLvv70iKSA+IC0xICYmICFyZWFkZXIubWFyaykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm1hcmsgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IsICJHQksiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXN1bHQpOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCIiKTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soIiIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCIiKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfTsKCiAgICBvYmoucGFyc2VUZXh0VG9BcnJheSA9IGZ1bmN0aW9uIChzdWJ0eXBlLCBzdWJ0ZXh0KSB7CiAgICAgICAgc3VidHlwZSA9IHN1YnR5cGUudG9Mb3dlckNhc2UoKTsKICAgICAgICB2YXIgc3VidGl0bGVQYXJzZXIgPSBvYmouc3VidGl0bGVQYXJzZXIoKSwgbWV0aG9kID0gc3VidGl0bGVQYXJzZXJbc3VidHlwZV07CiAgICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgICAgICB2YXIgaXRlbUFycmF5ID0gbWV0aG9kLmdldEl0ZW1zKHN1YnRleHQpOwogICAgICAgICAgICBpZiAoaXRlbUFycmF5Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5nZXRJbmZvKGl0ZW1BcnJheSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICB9CiAgICB9OwoKICAgIG9iai5zdWJ0aXRsZVBhcnNlciA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNydDogewogICAgICAgICAgICAgICAgZ2V0SXRlbXModGV4dCkgewogICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xyL2csICIiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVnZXggPSAvKFxkKylcbihcZHsyfTpcZHsyfTpcZHsyfS5cZHszfSkgLT8tPiAoXGR7Mn06XGR7Mn06XGR7Mn0uXGR7M30pL2c7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB0ZXh0LnNwbGl0KHJlZ2V4KTsKICAgICAgICAgICAgICAgICAgICBkYXRhLnNoaWZ0KCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZ2V0SW5mbyhkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gW107CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSA0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGl0ZW1zLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogb2JqLnBhcnNlVGltZXN0YW1wKGRhdGFbaSArIDFdKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWU6IG9iai5wYXJzZVRpbWVzdGFtcChkYXRhW2kgKyAyXSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBkYXRhW2kgKyAzXS50cmltKCkucmVwbGFjZSgvey4qP30vZywgIiIpCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbXM7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFzczogewogICAgICAgICAgICAgICAgZ2V0SXRlbXModGV4dCkgewogICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xyXG4vZywgIiIpOwogICAgICAgICAgICAgICAgICAgIHZhciByZWdleCA9IC9EaWFsb2d1ZTogXGQrLChcZCs6XGR7Mn06XGR7Mn1cLlxkezJ9KSwoXGQrOlxkezJ9OlxkezJ9XC5cZHsyfSksLio/LFxkKyxcZCssXGQrLC4qPywvZzsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHRleHQuc3BsaXQocmVnZXgpOwogICAgICAgICAgICAgICAgICAgIGRhdGEuc2hpZnQoKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBnZXRJbmZvKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSBbXTsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaXRlbXMubGVuZ3RoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBvYmoucGFyc2VUaW1lc3RhbXAoZGF0YVtpXSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRUaW1lOiBvYmoucGFyc2VUaW1lc3RhbXAoZGF0YVtpICsgMV0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZGF0YVtpICsgMl0udHJpbSgpLnJlcGxhY2UoL1xcTi9nLCAiXG4iKS5yZXBsYWNlKC97Lio/fS9nLCAiIikKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtczsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3NhOiB7CiAgICAgICAgICAgICAgICBnZXRJdGVtcyh0ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXHJcbi9nLCAiIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ2V4ID0gL0RpYWxvZ3VlOiBcZCssKFxkKzpcZHsyfTpcZHsyfVwuXGR7Mn0pLChcZCs6XGR7Mn06XGR7Mn1cLlxkezJ9KSwuKj8sXGQrLFxkKyxcZCssLio/LC9nOwogICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gdGV4dC5zcGxpdChyZWdleCk7CiAgICAgICAgICAgICAgICAgICAgZGF0YS5zaGlmdCgpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGdldEluZm8oZGF0YSkgewogICAgICAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IFtdOwogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gMykgewogICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpdGVtcy5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWU6IG9iai5wYXJzZVRpbWVzdGFtcChkYXRhW2ldKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWU6IG9iai5wYXJzZVRpbWVzdGFtcChkYXRhW2kgKyAxXSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBkYXRhW2kgKyAyXS50cmltKCkucmVwbGFjZSgvXFxOL2csICJcbiIpLnJlcGxhY2UoL3suKj99L2csICIiKQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1zOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB2dHQ6IHsKICAgICAgICAgICAgICAgIGdldEl0ZW1zKHRleHQpIHsKICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cci9nLCAiIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ2V4ID0gLyhcZCspP1xuPyhcZHswLDJ9Oj9cZHsyfTpcZHsyfS5cZHszfSkgLT8tPiAoXGR7MCwyfTo/XGR7Mn06XGR7Mn0uXGR7M30pL2c7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB0ZXh0LnNwbGl0KHJlZ2V4KTsKICAgICAgICAgICAgICAgICAgICBkYXRhLnNoaWZ0KCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZ2V0SW5mbyhkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gW107CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSA0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGl0ZW1zLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogb2JqLnBhcnNlVGltZXN0YW1wKGRhdGFbaSArIDFdKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWU6IG9iai5wYXJzZVRpbWVzdGFtcChkYXRhW2kgKyAyXSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBkYXRhW2kgKyAzXS50cmltKCkucmVwbGFjZSgvey4qP30vZywgIiIpLnJlcGxhY2UoL1thLXpdK1w6LipcZCtcLlxkK1wlXHMvLCAiIikKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtczsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICB9OwogICAgfTsKCiAgICBvYmoucGFyc2VUaW1lc3RhbXAgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0ID0gZS5zcGxpdCgiOiIpCiAgICAgICAgLCBuID0gcGFyc2VGbG9hdCh0Lmxlbmd0aCA+IDAgPyB0LnBvcCgpLnJlcGxhY2UoLywvZywgIi4iKSA6ICIwMC4wMDAiKSB8fCAwCiAgICAgICAgLCByID0gcGFyc2VGbG9hdCh0Lmxlbmd0aCA+IDAgPyB0LnBvcCgpIDogIjAwIikgfHwgMDsKICAgICAgICByZXR1cm4gMzYwMCAqIChwYXJzZUZsb2F0KHQubGVuZ3RoID4gMCA/IHQucG9wKCkgOiAiMDAiKSB8fCAwKSArIDYwICogciArIG47CiAgICB9OwoKICAgIG9iai5sb2FkU2NyaXB0ID0gZnVuY3Rpb24gKHNyYykgewogICAgICAgIGlmICghd2luZG93Lmluc3RhbmNlcykgewogICAgICAgICAgICB3aW5kb3cuaW5zdGFuY2VzID0ge307CiAgICAgICAgfQogICAgICAgIGlmICghd2luZG93Lmluc3RhbmNlc1tzcmNdKSB7CiAgICAgICAgICAgIHdpbmRvdy5pbnN0YW5jZXNbc3JjXSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpCiAgICAgICAgICAgICAgICBzY3JpcHQuc3JjID0gc3JjOwogICAgICAgICAgICAgICAgc2NyaXB0LnR5cGUgPSAidGV4dC9qYXZhc2NyaXB0IjsKICAgICAgICAgICAgICAgIHNjcmlwdC5vbmxvYWQgPSByZXNvbHZlOwogICAgICAgICAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSByZWplY3Q7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gd2luZG93Lmluc3RhbmNlc1tzcmNdOwogICAgfTsKCiAgICBvYmouaW5pdERvd25sb2FkU2hhcmVQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmICgkKCIuYnV0dG9uLWRvd25sb2FkLS1iYXRjaCIpLmxlbmd0aCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICgkKCIjcm9vdCBbY2xhc3NePWJhbm5lcl0gW2NsYXNzXj1yaWdodF0iKS5sZW5ndGgpIHsKICAgICAgICAgICAgdmFyIGh0bWwgPSAnJzsKICAgICAgICAgICAgaHRtbCArPSAnPGJ1dHRvbiBjbGFzcz0iYnV0dG9uLS0yQWE0dSBwcmltYXJ5LS0zQUplNSBzbWFsbC0tLUI4bWkgYnV0dG9uLWxhc3QtLWJhdGNoIiBzdHlsZT0ibWFyZ2luLXJpZ2h0OiAyOHB4OyI+57un57ut5LiK5qyh5pKt5pS+PC9idXR0b24+JzsKICAgICAgICAgICAgaHRtbCArPSAnPGJ1dHRvbiBjbGFzcz0iYnV0dG9uLS0yQWE0dSBwcmltYXJ5LS0zQUplNSBzbWFsbC0tLUI4bWkgYnV0dG9uLXNlYXJjaC0tYmF0Y2giIHN0eWxlPSJtYXJnaW4tcmlnaHQ6IDI4cHg7Ij7nvZHnm5jotYTmupDmkJzntKI8L2J1dHRvbj4nOwogICAgICAgICAgICBodG1sICs9ICc8YnV0dG9uIGNsYXNzPSJidXR0b24tLTJBYTR1IHByaW1hcnktLTNBSmU1IHNtYWxsLS0tQjhtaSBidXR0b24tZG93bmxvYWQtLWJhdGNoIiBzdHlsZT0ibWFyZ2luLXJpZ2h0OiAyOHB4OyI+5pi+56S66ZO+5o6lPC9idXR0b24+JzsKICAgICAgICAgICAgJCgiI3Jvb3QgW2NsYXNzXj1iYW5uZXJdIFtjbGFzc149cmlnaHRdIikucHJlcGVuZChodG1sKTsKCiAgICAgICAgICAgICQoIi5idXR0b24tZG93bmxvYWQtLWJhdGNoIikub24oImNsaWNrIiwgb2JqLnNob3dEb3dubG9hZFNoYXJlUGFnZSk7CiAgICAgICAgICAgICQoIi5idXR0b24tbGFzdC0tYmF0Y2giKS5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBvYmoucGxheUJ5U2Nyb2xsKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCIuYnV0dG9uLXNlYXJjaC0tYmF0Y2giKS5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cub3BlbigiaHR0cHM6Ly93d3cubmljZXNvLmZ1bi8iLCAiX2JsYW5rIik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgc2V0VGltZW91dChvYmouaW5pdERvd25sb2FkU2hhcmVQYWdlLCA1MDApCiAgICAgICAgfQogICAgfTsKCiAgICBvYmouaW5pdERvd25sb2FkSG9tZVBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKCQoIi5idXR0b24tZG93bmxvYWQtLWJhdGNoIikubGVuZ3RoKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKCQoIiNyb290IGhlYWRlciIpLmxlbmd0aCkgewogICAgICAgICAgICB2YXIgaHRtbCA9ICcnOwogICAgICAgICAgICBodG1sICs9ICc8ZGl2IHN0eWxlPSJtYXJnaW46MHB4IDhweDsiPjwvZGl2PjxidXR0b24gY2xhc3M9ImJ1dHRvbi0tMkFhNHUgcHJpbWFyeS0tM0FKZTUgc21hbGwtLS1COG1pIGJ1dHRvbi1sYXN0LS1iYXRjaCI+57un57ut5LiK5qyh5pKt5pS+PC9idXR0b24+JzsKICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBzdHlsZT0ibWFyZ2luOjBweCA4cHg7Ij48L2Rpdj48YnV0dG9uIGNsYXNzPSJidXR0b24tLTJBYTR1IHByaW1hcnktLTNBSmU1IHNtYWxsLS0tQjhtaSBidXR0b24tc2VhcmNoLS1iYXRjaCI+572R55uY6LWE5rqQ5pCc57SiPC9idXR0b24+JzsKICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBzdHlsZT0ibWFyZ2luOjBweCA4cHg7Ij48L2Rpdj48YnV0dG9uIGNsYXNzPSJidXR0b24tLTJBYTR1IHByaW1hcnktLTNBSmU1IHNtYWxsLS0tQjhtaSBidXR0b24tZG93bmxvYWQtLWJhdGNoIj7mmL7npLrpk77mjqU8L2J1dHRvbj4nOwogICAgICAgICAgICAkKCIjcm9vdCBoZWFkZXI6ZXEoMCkiKS5hcHBlbmQoaHRtbCk7CiAgICAgICAgICAgICQoIi5idXR0b24tZG93bmxvYWQtLWJhdGNoIikub24oImNsaWNrIiwgb2JqLnNob3dEb3dubG9hZEhvbWVQYWdlKTsKICAgICAgICAgICAgJCgiLmJ1dHRvbi1zZWFyY2gtLWJhdGNoIikub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oImh0dHBzOi8vd3d3Lm5pY2Vzby5mdW4vIiwgIl9ibGFuayIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiLmJ1dHRvbi1sYXN0LS1iYXRjaCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG9iai5wbGF5QnlTY3JvbGwoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBzZXRUaW1lb3V0KG9iai5pbml0RG93bmxvYWRIb21lUGFnZSwgMTAwMCkKICAgICAgICB9CiAgICB9OwoKICAgIG9iai5zaG93RG93bmxvYWRTaGFyZVBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKG9iai5pc0xvZ2luKCkpIHsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIltjbGFzc149bG9naW5dIikuY2xpY2soKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB2YXIgdG9rZW4gPSBvYmouZ2V0SXRlbSgidG9rZW4iKTsKICAgICAgICBpZiAodG9rZW4gJiYgdG9rZW4uYWNjZXNzX3Rva2VuKSB7CiAgICAgICAgICAgIG9iai5zaG93VGlwTG9hZGluZygi5q2j5Zyo6I635Y+W6ZO+5o6lLi4uIik7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBvYmouc2hvd1RpcEVycm9yKCLnvLrlsJHlv4XopoHlj4LmlbDvvIzor7fnmbvpmYblkI7liLfmlrDmraTpobXpnaLph43or5XvvIEiKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGZpbGVMaXN0ID0gb2JqLmdldFNlbGVjdGVkRmlsZUxpc3QoKTsKICAgICAgICBpZiAoZmlsZUxpc3QubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigi6Ie05ZG96ZSZ6K+v77ya6I635Y+W5YiG5Lqr5paH5Lu25YiX6KGo5aSx6LSlIik7CiAgICAgICAgICAgIG9iai5zaG93VGlwRXJyb3IoIuiHtOWRvemUmeivr++8muiOt+WPluWIhuS6q+aWh+S7tuWIl+ihqOWksei0pSIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBvYmouZ2V0U2hhcmVMaW5rRG93bmxvYWRVcmxBbGwoZmlsZUxpc3QsIGZ1bmN0aW9uKGZpbGVMaXN0KSB7CiAgICAgICAgICAgIG9iai5oaWRlVGlwKCk7CiAgICAgICAgICAgIG9iai5zaG93Qm94KGZpbGVMaXN0KTsKICAgICAgICB9KTsKICAgIH07CgogICAgb2JqLnNob3dEb3dubG9hZEhvbWVQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChvYmouZ2V0SXRlbSgidG9rZW4iKS5hY2Nlc3NfdG9rZW4pIHsKICAgICAgICAgICAgb2JqLnNob3dUaXBMb2FkaW5nKCLmraPlnKjojrflj5bpk77mjqUuLi4iKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIG9iai5zaG93VGlwRXJyb3IoIue8uuWwkeW/heimgeWPguaVsO+8jOivt+WIt+aWsOatpOmhtemdoumHjeivle+8gSIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgZmlsZUxpc3QgPSBvYmouZ2V0U2VsZWN0ZWRGaWxlTGlzdCgpOwogICAgICAgIGlmIChmaWxlTGlzdC5sZW5ndGggPT0gMCkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCLoh7Tlkb3plJnor6/vvJrojrflj5bkuKrkurrmlofku7bliJfooajlpLHotKUiKTsKICAgICAgICAgICAgb2JqLnNob3dUaXBFcnJvcigi6Ie05ZG96ZSZ6K+v77ya6I635Y+W5Liq5Lq65paH5Lu25YiX6KGo5aSx6LSlIik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIG9iai5nZXRIb21lTGlua0Rvd25sb2FkVXJsQWxsKGZpbGVMaXN0LCBmdW5jdGlvbihmaWxlTGlzdCkgewogICAgICAgICAgICBvYmouaGlkZVRpcCgpOwogICAgICAgICAgICBvYmouc2hvd0JveChmaWxlTGlzdCk7CiAgICAgICAgfSk7CiAgICB9OwoKICAgIG9iai5zaG93Qm94ID0gZnVuY3Rpb24gKGZpbGVMaXN0KSB7CiAgICAgICAgdmFyIHJvd1N0eWxlID0gIm1hcmdpbjoxMHB4IDBweDsgb3ZlcmZsb3c6aGlkZGVuOyB3aGl0ZS1zcGFjZTpub3dyYXA7IHRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7IjsKICAgICAgICB2YXIgaHRtbCA9ICc8ZGl2IGNsYXNzPSJhbnQtbW9kYWwtcm9vdCBhbnQtbW9kYWwtTGluayI+PGRpdiBjbGFzcz0iYW50LW1vZGFsLW1hc2siPjwvZGl2PjxkaXYgdGFiaW5kZXg9Ii0xIiBjbGFzcz0iYW50LW1vZGFsLXdyYXAiIHJvbGU9ImRpYWxvZyI+PGRpdiByb2xlPSJkb2N1bWVudCIgY2xhc3M9ImFudC1tb2RhbCBtb2RhbC13cmFwcGVyLS0yeUpLTyIgc3R5bGU9IndpZHRoOiA2NjZweDsiPjxkaXYgY2xhc3M9ImFudC1tb2RhbC1jb250ZW50Ij48ZGl2IGNsYXNzPSJhbnQtbW9kYWwtaGVhZGVyIj48ZGl2IGNsYXNzPSJhbnQtbW9kYWwtdGl0bGUiIGlkPSJyY0RpYWxvZ1RpdGxlMSI+5paH5Lu25LiL6L29PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iYW50LW1vZGFsLWJvZHkiPjxkaXYgY2xhc3M9Imljb24td3JhcHBlci0tM2RiYm8iPjxzcGFuIGRhdGEtcm9sZT0iaWNvbiIgZGF0YS1yZW5kZXItYXM9InN2ZyIgZGF0YS1pY29uLXR5cGU9IlBEU0Nsb3NlIiBjbGFzcz0iY2xvc2UtaWNvbi0tMzNiUDAgaWNvbi0tZC1lakEgIj48c3ZnIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjx1c2UgeGxpbms6aHJlZj0iI1BEU0Nsb3NlIj48L3VzZT48L3N2Zz48L3NwYW4+PC9kaXY+JzsKICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPSJpdGVtLWxpc3QiIHN0eWxlPSJwYWRkaW5nOiAyMHB4OyBoZWlnaHQ6IDQxMHB4OyBvdmVyZmxvdy15OiBhdXRvOyI+JzsKICAgICAgICBmaWxlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICBodG1sICs9ICc8cD4nICsgKCsraW5kZXgpICsgJ++8micgKyBpdGVtLm5hbWUgKyAnPC9wPic7CiAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT0gImZpbGUiKSB7CiAgICAgICAgICAgICAgICBodG1sICs9ICc8cCBzdHlsZT0iJyArIHJvd1N0eWxlICsgJyI+PGEgdGl0bGU9IicgKyBpdGVtLmRvd25sb2FkX3VybCArICciIGhyZWY9IicgKyBpdGVtLmRvd25sb2FkX3VybCArICciIHN0eWxlPSJjb2xvcjogYmx1ZTsiPicgKyBpdGVtLmRvd25sb2FkX3VybCArICc8L2E+PC9wPic7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS50eXBlID09ICJmb2xkZXIiKSB7CiAgICAgICAgICAgICAgICBodG1sICs9ICc8cCBzdHlsZT0iJyArIHJvd1N0eWxlICsgJyI+PGZvbnQgY29sb3I9ImdyZWVuIj4mZW1zcDsmZW1zcDvor7fov5vlhaXmlofku7blpLnkuIvovb08L2ZvbnQ+PC9wPic7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBodG1sICs9ICc8L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPSJhbnQtbW9kYWwtZm9vdGVyIj48ZGl2IGNsYXNzPSJmb290ZXItLTFyLXVyIj48ZGl2IGNsYXNzPSJidXR0b25zLS1uQlBlbyI+JzsKICAgICAgICBodG1sICs9ICc8YnV0dG9uIGNsYXNzPSJidXR0b24tLTJBYTR1IHByaW1hcnktLTNBSmU1IHNtYWxsLS0tQjhtaSBhcHByZWNpYXRpb24iPvCfkY0g54K55Liq6LWePC9idXR0b24+JzsKICAgICAgICBodG1sICs9ICc8YnV0dG9uIGNsYXNzPSJidXR0b24tLTJBYTR1IHByaW1hcnktLTNBSmU1IHNtYWxsLS0tQjhtaSBpZG0tZG93bmxvYWQiPklETSDlr7zlh7rmlofku7Y8L2J1dHRvbj4nOwogICAgICAgIGh0bWwgKz0gJzxidXR0b24gY2xhc3M9ImJ1dHRvbi0tMkFhNHUgcHJpbWFyeS0tM0FKZTUgc21hbGwtLS1COG1pIG0zdS1kb3dubG9hZCI+TTNVIOWvvOWHuuaWh+S7tjwvYnV0dG9uPic7CiAgICAgICAgaHRtbCArPSAnPGJ1dHRvbiBjbGFzcz0iYnV0dG9uLS0yQWE0dSBwcmltYXJ5LS0zQUplNSBzbWFsbC0tLUI4bWkgYXJpYTItZG93bmxvYWQiPkFyaWEyIOaOqOmAgTwvYnV0dG9uPic7CiAgICAgICAgaHRtbCArPSAnPC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+JzsKICAgICAgICAkKCJib2R5IikuYXBwZW5kKGh0bWwpOwoKICAgICAgICAkKCIuaWNvbi13cmFwcGVyLS0zZGJibyIpLm9uZSgiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICQoIi5hbnQtbW9kYWwtTGluayIpLnJlbW92ZSgpOwogICAgICAgIH0pOwogICAgICAgICQoIi5hbnQtbW9kYWwtd3JhcCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICBpZiAoJChldmVudC50YXJnZXQpLmNsb3Nlc3QoIi5hbnQtbW9kYWwtY29udGVudCIpLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgICAkKCIuYW50LW1vZGFsLUxpbmsiKS5yZW1vdmUoKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgICQoIi5hbnQtbW9kYWwtTGluayAuYXBwcmVjaWF0aW9uIikub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICB3aW5kb3cub3BlbigiaHR0cHM6Ly9wYy1pbmRleC1za2luLmNkbi5iY2Vib3MuY29tLzZjYjBiY2NiMzFlNDlkYzBkYmE2MzM2MTY3YmUwYTE4LnBuZyIsICJfYmxhbmsiKTsKICAgICAgICB9KTsKCiAgICAgICAgZmlsZUxpc3QgPSBmaWxlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0udHlwZSA9PSAiZmlsZSI7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGZvbGRlcj0kKCIuYnJlYWRjcnVtYi0tMUo3bWsiKS5jaGlsZHJlbigiOmZpcnN0IikuY2hpbGRyZW4oIjpsYXN0IikuYXR0cignZGF0YS1sYWJlbCcpOwogICAgICAgICQoIi5hbnQtbW9kYWwtTGluayAubTN1LWRvd25sb2FkIikub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoZmlsZUxpc3QubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9ICIjRVhUTTNVXHJcbiI7CiAgICAgICAgICAgICAgICBmaWxlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gWyIjRVhUSU5GOjAsIitpdGVtLm5hbWUsIGl0ZW0uZG93bmxvYWRfdXJsXS5qb2luKCJcclxuIikgKyAiXHJcbiI7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIG9iai5kb3dubG9hZEZpbGUoY29udGVudCwgKGZvbGRlcnx8Ik0zVSDlr7zlh7rmlofku7YiKSsiLm0zdSIpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgJCgiLmFudC1tb2RhbC1MaW5rIC5pZG0tZG93bmxvYWQiKS5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChmaWxlTGlzdC5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gIiIsIHJlZmVyZXIgPSAiaHR0cHM6Ly93d3cuYWxpeXVuZHJpdmUuY29tLyIsIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgICAgICAgICAgICAgICBmaWxlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gWyI8IiwgaXRlbS5kb3dubG9hZF91cmwsICJyZWZlcmVyOiAiICsgcmVmZXJlciwgIlVzZXItQWdlbnQ6ICIgKyB1c2VyQWdlbnQsICI+Il0uam9pbigiXHJcbiIpICsgIlxyXG4iOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBvYmouZG93bmxvYWRGaWxlKGNvbnRlbnQsICJJRE0g5a+85Ye65paH5Lu2LmVmMiIpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgJCgiLmFudC1tb2RhbC1MaW5rIC5hcmlhMi1kb3dubG9hZCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKGZpbGVMaXN0Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSwgJHRleHQgPSAkdGhpcy50ZXh0KCk7CiAgICAgICAgICAgICAgICAkdGhpcy50ZXh0KCLmraPlnKjmjqjpgIEiKTsKICAgICAgICAgICAgICAgIHZhciBmb2xkZXJOYW1lLCBmaWxlSW5mbyA9IG9iai5maWxlX3BhZ2UuZmlsZV9pbmZvOwogICAgICAgICAgICAgICAgaWYgKGZpbGVJbmZvLnR5cGUgPT0gImZvbGRlciIpIHsKICAgICAgICAgICAgICAgICAgICBmb2xkZXJOYW1lID0gZmlsZUluZm8ubmFtZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB2YXIgZG93bkRhdGEgPSBbXTsKICAgICAgICAgICAgICAgIGZpbGVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgZG93bkRhdGEucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAganNvbnJwYzogIjIuMCIsCiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogImFyaWEyLmFkZFVyaSIsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczpbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyJ0b2tlbjrkvaDnmoRSUEPlr4bpkqUiLCAvLyDmm7/mjaLkvaDnmoRSUEPlr4bpkqUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsgaXRlbS5kb3dubG9hZF91cmwgXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXQ6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXI6ICJEOlwvYWxpeXVuZHJpdmVEb3dubG9hZCIgKyAoZm9sZGVyTmFtZSA/ICJcLyIgKyBmb2xkZXJOYW1lIDogIiIpLCAvLyDkuIvovb3ot6/lvoQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVyOiAiaHR0cHM6Ly93d3cuYWxpeXVuZHJpdmUuY29tLyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInVzZXItYWdlbnQiOiBuYXZpZ2F0b3IudXNlckFnZW50CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIG9iai5hcmlhMlJQQyhkb3duRGF0YSwgZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dUaXBTdWNjZXNzKCJBcmlhMiDmjqjpgIHlrozmiJDvvIzor7fmn6XmlLYiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5zaG93VGlwRXJyb3IoIkFyaWEyIOaOqOmAgeWksei0pSDlj6/og70gQXJpYTIg5pyq5ZCv5Yqo5oiW6YWN572u6ZSZ6K+vIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICR0aGlzLnRleHQoJHRleHQpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfTsKCiAgICBvYmouZG93bmxvYWRGaWxlID0gZnVuY3Rpb24gKGNvbnRlbnQsIGZpbGVuYW1lKSB7CiAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbY29udGVudF0pOwogICAgICAgIHZhciB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICBhLmhyZWYgPSB1cmw7CiAgICAgICAgYS5kb3dubG9hZCA9IGZpbGVuYW1lOwogICAgICAgIGEuY2xpY2soKTsKICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogICAgfTsKCiAgICBvYmouYXJpYTJSUEMgPSBmdW5jdGlvbiAoZG93bkRhdGEsIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHVybHMgPSBbImh0dHA6Ly8xMjcuMC4wLjE6NjgwMC9qc29ucnBjIiwgImh0dHA6Ly9sb2NhbGhvc3Q6MTY4MDAvanNvbnJwYyJdOwogICAgICAgIHZhciB1cmwgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhcmlhLXVybCIpOwogICAgICAgICQuYWpheCh7CiAgICAgICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICAgICAgdXJsOiB1cmwgfHwgdXJsc1swXSwKICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZG93bkRhdGEpLAogICAgICAgICAgICBjcm9zc0RvbWFpbjogdHJ1ZSwKICAgICAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLAogICAgICAgICAgICBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpewogICAgICAgICAgICAgICAgdXJsIHx8IHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImFyaWEtdXJsIiwgdGhpcy51cmwpOwogICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVzdWx0KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdXJscy5pbmRleE9mKHRoaXMudXJsKTsKICAgICAgICAgICAgICAgIGlmICh1cmwpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCB1cmxzLmxlbmd0aCAtIDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiYXJpYS11cmwiLCB1cmxzW2luZGV4ICsgMV0pOwogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBvYmouYXJpYTJSUEMoZG93bkRhdGEsIGNhbGxiYWNrKSB9LCA1MDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiQXJpYTIg5o6o6YCB5pyN5YqhIOmUmeivr++8miIsIGVycm9yLCB0aGlzLnVybCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oImFyaWEtdXJsIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCIiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJhcmlhLXVybCIsIHVybHNbaW5kZXggKyAxXSk7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgb2JqLmFyaWEyUlBDKGRvd25EYXRhLCBjYWxsYmFjaykgfSwgNTAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfTsKCiAgICBvYmouZ2V0U2VsZWN0ZWRGaWxlTGlzdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgc2VsZWN0ZWRGaWxlTGlzdCA9IFtdLCBmaWxlTGlzdCA9IG9iai5maWxlX3BhZ2UuaXRlbXM7CiAgICAgICAgaWYgKGZpbGVMaXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuiHtOWRvemUmeivr++8muWKq+aMgeaWh+S7tuWIl+ihqOWksei0pSIpOwogICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfQoKICAgICAgICB2YXIgJG5vZGUgPSAiIjsKICAgICAgICBpZiAoJCgiLnRib2R5LS0zWTRGbiAgLnRyLS01Ti0xcS50ci0tM1lwaW0iKS5sZW5ndGgpIHsKICAgICAgICAgICAgJG5vZGUgPSAkKCIudGJvZHktLTNZNEZuICAudHItLTVOLTFxLnRyLS0zWXBpbSIpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmICgkKCIub3V0ZXItd3JhcHBlci0tMjV5WUEiKS5sZW5ndGgpIHsKICAgICAgICAgICAgJG5vZGUgPSAkKCIub3V0ZXItd3JhcHBlci0tMjV5WUEiKTsKICAgICAgICB9CiAgICAgICAgJG5vZGUuZWFjaChmdW5jdGlvbiAoaW5kZXgpIHsKICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTsKICAgICAgICAgICAgaWYgKCR0aGlzLmF0dHIoImRhdGEtaXMtc2VsZWN0ZWQiKSA9PSAidHJ1ZSIpIHsKICAgICAgICAgICAgICAgIHZhciBkYXRhX2luZGV4ID0gJHRoaXMuY2xvc2VzdCgiW2RhdGEtaW5kZXhdIikuYXR0cigiZGF0YS1pbmRleCIpOwogICAgICAgICAgICAgICAgZGF0YV9pbmRleCAmJiBzZWxlY3RlZEZpbGVMaXN0LnB1c2goZmlsZUxpc3RbZGF0YV9pbmRleF0pOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIHJldHVybiBzZWxlY3RlZEZpbGVMaXN0Lmxlbmd0aCA/IHNlbGVjdGVkRmlsZUxpc3QgOiBmaWxlTGlzdDsKICAgIH07CgogICAgb2JqLmdldFNoYXJlTGlua0Rvd25sb2FkVXJsQWxsID0gZnVuY3Rpb24gKGZpbGVMaXN0LCBjYWxsYmFjaykgewogICAgICAgIHZhciBzaGFyZV9pZCA9IG9iai5nZXRTaGFyZUlkKCk7CiAgICAgICAgdmFyIGZpbGVMaXN0TGVuID0gZmlsZUxpc3QubGVuZ3RoOwogICAgICAgIGZpbGVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT0gImZvbGRlciIpIHsKICAgICAgICAgICAgICAgIGlmICgtLSBmaWxlTGlzdExlbiA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZmlsZUxpc3QpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgb2JqLmdldFNoYXJlTGlua0Rvd25sb2FkVXJsKGl0ZW0uZmlsZV9pZCwgc2hhcmVfaWQsIGZ1bmN0aW9uIChkb3dubG9hZF91cmwpIHsKICAgICAgICAgICAgICAgICAgICBpdGVtLmRvd25sb2FkX3VybCA9IGRvd25sb2FkX3VybDsKICAgICAgICAgICAgICAgICAgICBpZiAoLS0gZmlsZUxpc3RMZW4gPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhmaWxlTGlzdCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH07CgogICAgb2JqLmdldFNoYXJlTGlua0Rvd25sb2FkVXJsID0gZnVuY3Rpb24gKGZpbGVfaWQsIHNoYXJlX2lkLCBjYWxsYmFjaykgewogICAgICAgIHZhciB0b2tlbiA9IG9iai5nZXRJdGVtKCJ0b2tlbiIpOwogICAgICAgICQuYWpheCh7CiAgICAgICAgICAgIHR5cGU6ICJwb3N0IiwKICAgICAgICAgICAgdXJsOiAiaHR0cHM6Ly9hcGkuYWxpeXVuZHJpdmUuY29tL3YyL2ZpbGUvZ2V0X3NoYXJlX2xpbmtfZG93bmxvYWRfdXJsIiwKICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgLy9leHBpcmVfc2VjOiA2MDAsCiAgICAgICAgICAgICAgICBmaWxlX2lkOiBmaWxlX2lkLAogICAgICAgICAgICAgICAgc2hhcmVfaWQ6IHNoYXJlX2lkCiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAiYXV0aG9yaXphdGlvbiI6ICIiLmNvbmNhdCh0b2tlbi50b2tlbl90eXBlIHx8ICIiLCAiICIpLmNvbmNhdCh0b2tlbi5hY2Nlc3NfdG9rZW4gfHwgIiIpLAogICAgICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgiLAogICAgICAgICAgICAgICAgIngtc2hhcmUtdG9rZW4iOiBvYmouZ2V0SXRlbSgic2hhcmVUb2tlbiIpLnNoYXJlX3Rva2VuCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFzeW5jOiB0cnVlLAogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIE9iamVjdCAmJiByZXNwb25zZS5kb3dubG9hZF91cmwpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXNwb25zZS5kb3dubG9hZF91cmwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiZ2V0U2hhcmVMaW5rRG93bmxvYWRVcmwg5aSx6LSlIiwgcmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCIiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgdmFyIGVycm9yQ29kZSA9IGVycm9yLnJlc3BvbnNlSlNPTiA/IGVycm9yLnJlc3BvbnNlSlNPTi5jb2RlIDogIiI7CiAgICAgICAgICAgICAgICBpZiAoIkFjY2Vzc1Rva2VuSW52YWxpZCIgPT09IGVycm9yQ29kZSkgewogICAgICAgICAgICAgICAgICAgIG9iai5yZWZyZXNoX3Rva2VuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBPYmplY3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5nZXRTaGFyZUxpbmtEb3dubG9hZFVybChmaWxlX2lkLCBzaGFyZV9pZCwgY2FsbGJhY2spOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soIiIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmICgiU2hhcmVMaW5rVG9rZW5JbnZhbGlkIiA9PT0gZXJyb3JDb2RlIHx8ICJJbnZhbGlkUGFyYW1ldGVyTm90TWF0Y2guU2hhcmVJZCIgPT09IGVycm9yQ29kZSkgewogICAgICAgICAgICAgICAgICAgIG9iai5nZXRfc2hhcmVfdG9rZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIE9iamVjdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmdldFNoYXJlTGlua0Rvd25sb2FkVXJsKGZpbGVfaWQsIHNoYXJlX2lkLCBjYWxsYmFjayk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygiIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoImdldFNoYXJlTGlua0Rvd25sb2FkVXJsIOmUmeivryIsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIkludmFsaWRQYXJhbWV0ZXJOb3RNYXRjaC5TaGFyZUlkIiA9PT0gZXJyb3JDb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5zaG93VGlwRXJyb3IoIumUmeivr++8muWPguaVsOS4jeWMuemFje+8jOatpOmUmeivr+WPr+iDveaYr+aJk+W8gOS6huWPpuS4gOS4quWIhuS6q+mhtemdouWvvOiHtO+8jOivt+WIt+aWsCIsIDEwMDAwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soIiIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9OwoKICAgIG9iai5nZXRIb21lTGlua0Rvd25sb2FkVXJsQWxsID0gZnVuY3Rpb24gKGZpbGVMaXN0LCBjYWxsYmFjaykgewogICAgICAgIHZhciBzaGFyZV9pZCA9IG9iai5nZXRTaGFyZUlkKCk7CiAgICAgICAgdmFyIGZpbGVMaXN0TGVuID0gZmlsZUxpc3QubGVuZ3RoOwogICAgICAgIGZpbGVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT0gImZvbGRlciIgfHwgaXRlbS5kb3dubG9hZF91cmwpIHsKICAgICAgICAgICAgICAgIGlmICgtLSBmaWxlTGlzdExlbiA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZmlsZUxpc3QpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgb2JqLmdldEhvbWVMaW5rRG93bmxvYWRVcmwoaXRlbS5maWxlX2lkLCBpdGVtLmRyaXZlX2lkLCBmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICAgICAgICAgICAgaXRlbS5kb3dubG9hZF91cmwgPSB1cmw7CiAgICAgICAgICAgICAgICAgICAgaWYgKC0tIGZpbGVMaXN0TGVuID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZmlsZUxpc3QpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9OwoKICAgIG9iai5nZXRIb21lTGlua0Rvd25sb2FkVXJsID0gZnVuY3Rpb24gKGZpbGVfaWQsIGRyaXZlX2lkLCBjYWxsYmFjaykgewogICAgICAgIHZhciB0b2tlbiA9IG9iai5nZXRJdGVtKCJ0b2tlbiIpOwogICAgICAgICQuYWpheCh7CiAgICAgICAgICAgIHR5cGU6ICJwb3N0IiwKICAgICAgICAgICAgdXJsOiAiaHR0cHM6Ly9hcGkuYWxpeXVuZHJpdmUuY29tL3YyL2ZpbGUvZ2V0X2Rvd25sb2FkX3VybCIsCiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgIGV4cGlyZV9zZWM6IDE0NDAwLAogICAgICAgICAgICAgICAgZHJpdmVfaWQ6IGRyaXZlX2lkLAogICAgICAgICAgICAgICAgZmlsZV9pZDogZmlsZV9pZAogICAgICAgICAgICB9KSwKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgImF1dGhvcml6YXRpb24iOiAiIi5jb25jYXQodG9rZW4udG9rZW5fdHlwZSB8fCAiIiwgIiAiKS5jb25jYXQodG9rZW4uYWNjZXNzX3Rva2VuIHx8ICIiKSwKICAgICAgICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04IgogICAgICAgICAgICB9LAogICAgICAgICAgICBhc3luYzogdHJ1ZSwKICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBPYmplY3QgJiYgcmVzcG9uc2UudXJsKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVzcG9uc2UudXJsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoImdldEhvbWVMaW5rRG93bmxvYWRVcmwg5aSx6LSlIiwgcmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCIiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlSlNPTi5jb2RlID09ICJBY2Nlc3NUb2tlbkludmFsaWQiKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLnJlZnJlc2hfdG9rZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIE9iamVjdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmdldEhvbWVMaW5rRG93bmxvYWRVcmwoZmlsZV9pZCwgZHJpdmVfaWQsIGNhbGxiYWNrKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZiAoZXJyb3IucmVzcG9uc2VKU09OLmNvZGUgPT0gIlRvb01hbnlSZXF1ZXN0cyIpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmdldEhvbWVMaW5rRG93bmxvYWRVcmwoZmlsZV9pZCwgZHJpdmVfaWQsIGNhbGxiYWNrKTsKICAgICAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiZ2V0SG9tZUxpbmtEb3dubG9hZFVybCDplJnor68iLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soIiIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9OwoKICAgIG9iai5yZWZyZXNoX3Rva2VuID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHRva2VuID0gb2JqLmdldEl0ZW0oInRva2VuIik7CiAgICAgICAgaWYgKCEodG9rZW4gJiYgdG9rZW4ucmVmcmVzaF90b2tlbikpIHsKICAgICAgICAgICAgb2JqLnNob3dUaXBFcnJvcigi57y65bCR5b+F6KaB5Y+C5pWw77yM6K+355m76ZmG5ZCO5Yi35paw5q2k6aG16Z2i6YeN6K+V77yBIiwgMTAwMDApOwogICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygiIik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgdHlwZTogInBvc3QiLAogICAgICAgICAgICB1cmw6ICJodHRwczovL2FwaS5hbGl5dW5kcml2ZS5jb20vdG9rZW4vcmVmcmVzaCIsCiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgIHJlZnJlc2hfdG9rZW46IHRva2VuLnJlZnJlc2hfdG9rZW4KICAgICAgICAgICAgfSksCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICJDb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04IiwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBPYmplY3QgJiYgcmVzcG9uc2UuYWNjZXNzX3Rva2VuKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dUaXBMb2FkaW5nKCLmm7TmlrAgdG9rZW4iKTsKICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzcG9uc2UudXNlcl9kYXRhOwogICAgICAgICAgICAgICAgICAgIG9iai5zZXRJdGVtKCJ0b2tlbiIsIHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygiIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygiIik7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH07CgogICAgb2JqLmdldF9zaGFyZV90b2tlbiA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgICQuYWpheCh7CiAgICAgICAgICAgIHR5cGU6ICJwb3N0IiwKICAgICAgICAgICAgdXJsOiAiaHR0cHM6Ly9hcGkuYWxpeXVuZHJpdmUuY29tL3YyL3NoYXJlX2xpbmsvZ2V0X3NoYXJlX3Rva2VuIiwKICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgc2hhcmVfaWQ6IG9iai5nZXRTaGFyZUlkKCksCiAgICAgICAgICAgICAgICBzaGFyZV9wd2Q6ICIiCiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAiQ29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCIsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgT2JqZWN0ICYmIHJlc3BvbnNlLnNoYXJlX3Rva2VuKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dUaXBMb2FkaW5nKCLmm7TmlrAgc2hhcmVfdG9rZW4iKTsKICAgICAgICAgICAgICAgICAgICBvYmouc2V0SXRlbSgic2hhcmVUb2tlbiIsIHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygiIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZUpTT04uY29kZSA9PSAiSW52YWxpZFJlc291cmNlLlNoYXJlUHdkIikgewogICAgICAgICAgICAgICAgICAgIG9iai5zaG93VGlwRXJyb3IoIuabtOaWsHNoYXJlX3Rva2Vu6ZSZ6K+v77yM6K+35Yi35paw5bm26YeN5paw5aGr5YaZ5o+Q5Y+W56CBIiwgMTAwMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soIiIpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9OwoKICAgIG9iai5nb2xkbG9nU3BtID0gZnVuY3Rpb24gKCkgewogICAgICAgIHVuc2FmZVdpbmRvdy5nb2xkbG9nID0ge307CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHVuc2FmZVdpbmRvdy5nb2xkbG9nLCAiXyQiLHsKICAgICAgICAgICAgdmFsdWU6IHt9LAogICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlCiAgICAgICAgfSk7CiAgICAgICAgdmFyIGtleSA9IG9iai5nZXRJdGVtKCJBUExVU19MU19LRVkiKTsKICAgICAgICBrZXkgJiYga2V5ICE9ICIvKiovIiAmJiBvYmouc2V0SXRlbShrZXlbMF0sICIvKiovIik7CiAgICB9OwoKICAgIG9iai5uZXdUYWJPcGVuID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvcGVuID0gdW5zYWZlV2luZG93Lm9wZW47CiAgICAgICAgdW5zYWZlV2luZG93Lm9wZW4gPSBmdW5jdGlvbiAodXJsLCBuYW1lLCBzcGVjcywgcmVwbGFjZSkgewogICAgICAgICAgICBuYW1lID09ICJfYmxhbmsiIHx8IChuYW1lID0gIl9ibGFuayIpOwogICAgICAgICAgICByZXR1cm4gb3Blbih1cmwsIG5hbWUsIHNwZWNzLCByZXBsYWNlKTsKICAgICAgICB9CiAgICB9OwoKICAgIG9iai5jdXN0b21TaGFyZVB3ZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAkKGRvY3VtZW50KS5vbigiRE9NTm9kZUluc2VydGVkIiwgIi5hbnQtbW9kYWwtcm9vdCIsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgdGV4dCA9ICQodGhpcykuZmluZCgiLmFudC1tb2RhbC10aXRsZSIpLnRleHQoKTsKICAgICAgICAgICAgaWYgKHRleHQgPT0gIuWIhuS6q+aWh+S7tiIpIHsKICAgICAgICAgICAgICAgIGlmICgkKCIuaW5wdXQtc2hhcmUtcHdkIikubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgICAgICB2YXIgc2hhcmVQd2QgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic2hhcmVfcHdkIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgPSAnPGxhYmVsIGNsYXNzPSJsYWJlbC0tM1ViNkEiPuiHquWumuS5ieaPkOWPlueggTwvbGFiZWw+JzsKICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImFudC1pbnB1dCBpbnB1dC1zaGFyZS1wd2QiIHZhbHVlPSInICsgKHNoYXJlUHdkID8gc2hhcmVQd2QgOiAiIikgKyAnIiBwbGFjZWhvbGRlcj0iIiBzdHlsZT0ibWFyZ2luLWxlZnQ6IDEycHg7d2lkdGg6IDEwMHB4O2hlaWdodDogMjVweDtsaW5lLWhlaWdodDogbm9ybWFsO2JvcmRlcjogMXB4IHNvbGlkICNENEQ3REU7dGV4dC1hbGlnbjogY2VudGVyOyI+PC9kaXY+JwogICAgICAgICAgICAgICAgICAgIGlmICgkKCIuY2hvb3NlLWV4cGlyYXRpb24td3JhcHBlci0tdm8wejkiKS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiLmNob29zZS1leHBpcmF0aW9uLXdyYXBwZXItLXZvMHo5IikuYXBwZW5kKGh0bWwpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgkKCIuc2hhcmUtYnktdXJsLS0xR2swTiIpLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICAkKCIuc2hhcmUtYnktdXJsLS0xR2swTiIpLmFwcGVuZChodG1sKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHNlbmRTaGFyZVB3ZCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKHRleHQgPT0gIumHjeWRveWQjSIpIHsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBmdW5jdGlvbiBzZW5kU2hhcmVQd2QgKCkgewogICAgICAgICAgICAoZnVuY3Rpb24oc2VuZCkgewogICAgICAgICAgICAgICAgWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAmJiB0eXBlb2YgYXJndW1lbnRzWzBdID09ICJzdHJpbmciICYmIGFyZ3VtZW50c1swXS5pbmNsdWRlcygiZXhwaXJhdGlvbiIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGFyZVB3ZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzaGFyZV9wd2QiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNoYXJlUHdkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYm9keSA9IEpTT04ucGFyc2UoYXJndW1lbnRzWzBdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkuc2hhcmVfcHdkID0gc2hhcmVQd2Q7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMF0gPSBKU09OLnN0cmluZ2lmeShib2R5KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09IDQgJiYgdGhpcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSB0aGlzLnJlc3BvbnNlVVJMOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCIvc2hhcmVfbGluay9jcmVhdGUiKSB8fCB1cmwuaW5jbHVkZXMoIi9zaGFyZV9saW5rL3VwZGF0ZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNwb25zZS5zaGFyZV9wd2QgPT0gc2hhcmVQd2QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouc2hvd1RpcFN1Y2Nlc3MoIuiHquWumuS5ieWIhuS6q+WvhueggSDmiJDlip8iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJzaGFyZV9wd2QiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouc2hvd1RpcEVycm9yKCLoh6rlrprkuYnliIbkuqvlr4bnoIEg5aSx6LSl77yM6K+35L+u5pS55YiG5Lqr5a+G56CB5ZCO6YeN6K+VIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgc2VuZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSkoWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQpOwoKICAgICAgICAgICAgJChkb2N1bWVudCkub24oImNoYW5nZSIsICIuaW5wdXQtc2hhcmUtcHdkIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzaGFyZV9wd2QiLCB2YWx1ZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICB9OwoKICAgIG9iai51bmxvY2tGaWxlTGltaXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgKGZ1bmN0aW9uKG9wZW4pIHsKICAgICAgICAgICAgWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGlmICghdGhpcy5faG9va2VkKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5faG9va2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgInJlc3BvbnNlIiwgewogICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlVVJMID0gdGhpcy5yZXNwb25zZVVSTCwgcmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlVVJMLmluY2x1ZGVzKCIvZmlsZS9saXN0IikgJiYgcmVzcG9uc2UgaW5zdGFuY2VvZiBPYmplY3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyByZXNwb25zZSA9IEpTT04ucGFyc2UocmVzcG9uc2UpIH0gY2F0Y2ggKGVycm9yKSB7IH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuaXRlbXMgJiYgcmVzcG9uc2UuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5jYXRlZ29yeSA9PSAidmlkZW8iKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoWyJ0cyJdLmluY2x1ZGVzKGl0ZW0uZmlsZV9leHRlbnNpb24pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5maWxlX2V4dGVuc2lvbiA9ICJtcDQiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0uY2F0ZWdvcnkgPT0gImF1ZGlvIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFsiYXBlIl0uaW5jbHVkZXMoaXRlbS5maWxlX2V4dGVuc2lvbikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmZpbGVfZXh0ZW5zaW9uID0gIm1wMyI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnB1bmlzaF9mbGFnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnB1bmlzaF9mbGFnID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG9wZW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgfQogICAgICAgIH0pKFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5vcGVuKTsKICAgIH07CgogICAgb2JqLnN3aXRjaFZpZXdBcnJvdyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcGFyZW50X2ZpbGVfaWQgPSAoKGxvY2F0aW9uLmhyZWYubWF0Y2goL1wvZm9sZGVyXC8oXHcrKS8pIHx8IFtdKVsxXSkgfHwgInJvb3QiOwogICAgICAgIGlmICh3aW5kb3cucGFyZW50X2ZpbGVfaWQgIT0gcGFyZW50X2ZpbGVfaWQpIHsKICAgICAgICAgICAgd2luZG93LnBhcmVudF9maWxlX2lkID0gcGFyZW50X2ZpbGVfaWQ7CiAgICAgICAgICAgIHZhciBkcmFnRG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiW2RhdGEtaWNvbi10eXBlPVBEU0RyYWddIik7CiAgICAgICAgICAgIGRyYWdEb20gJiYgZHJhZ0RvbS5jbGljaygpOwogICAgICAgICAgICB2YXIgYXJyb3dEb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiW2RhdGEtaWNvbi10eXBlPVBEU0Fycm93RG93bl0iKTsKICAgICAgICAgICAgYXJyb3dEb3duICYmIGFycm93RG93bi5jbGljaygpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGxpc3RWaWV3VHlwZSA9IG9iai5nZXRJdGVtKCJsaXN0Vmlld1R5cGUiKTsKICAgICAgICBpZiAobGlzdFZpZXdUeXBlKSB7CiAgICAgICAgICAgIHZhciBpY29uRG9tID0gbGlzdFZpZXdUeXBlID09ICJQRFNEcmFnIiA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIltkYXRhLWljb24tdHlwZT1QRFNEcmFnXSIpIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiW2RhdGEtaWNvbi10eXBlPVBEU1NxdWFyZUdyaWRdIik7CiAgICAgICAgICAgIGljb25Eb20gJiYgaWNvbkRvbS5jbGljaygpOwogICAgICAgIH0KCiAgICAgICAgJChkb2N1bWVudCkub2ZmKCJjbGljayIsICJbY2xhc3NePXN3aXRjaC13cmFwcGVyXSIpLm9uKCJjbGljayIsICJbY2xhc3NePXN3aXRjaC13cmFwcGVyXSIsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgaWNvblR5cGUgPSB0aGlzLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJkYXRhLWljb24tdHlwZSIpOwogICAgICAgICAgICBpZiAoaWNvblR5cGUpIHsKICAgICAgICAgICAgICAgIG9iai5zZXRJdGVtKCJsaXN0Vmlld1R5cGUiLCBpY29uVHlwZSk7CiAgICAgICAgICAgICAgICBvYmouc2hvd1RpcFN1Y2Nlc3MoIuWIh+aNoum7mOiupOinhuWbvuS4uu+8miIgKyB7UERTRHJhZzogIuWIl+ihqOaooeW8jyIsIFBEU1NxdWFyZUdyaWQ6ICLlm77moIfmqKHlvI8ifVtpY29uVHlwZV0sIDUwMDApOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9OwoKICAgIG9iai5nZXRTaGFyZUlkID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB1cmwgPSBsb2NhdGlvbi5ocmVmOwogICAgICAgIHZhciBtYXRjaCA9IHVybC5tYXRjaCgvYWxpeXVuZHJpdmVcLmNvbVwvc1wvKFthLXpBLVpcZF0rKS8pOwogICAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdIDogbnVsbDsKICAgIH07CgogICAgb2JqLmlzSG9tZVBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGxvY2F0aW9uLmhyZWYuaW5kZXhPZigiYWxpeXVuZHJpdmUuY29tL2RyaXZlIikgPiAwOwogICAgfTsKCiAgICBvYmouaXNMb2dpbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIltjbGFzc149bG9naW5dIik7CiAgICB9OwoKICAgIG9iai5nZXRJdGVtID0gZnVuY3Rpb24gKG4pIHsKICAgICAgICBuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKG4pOwogICAgICAgIGlmICghbikgewogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uobik7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICByZXR1cm4gbjsKICAgICAgICB9CiAgICB9OwoKICAgIG9iai5zZXRJdGVtID0gZnVuY3Rpb24gKG4sIHQpIHsKICAgICAgICBuICYmIHQgIT0gdW5kZWZpbmVkICYmIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShuLCB0IGluc3RhbmNlb2YgT2JqZWN0ID8gSlNPTi5zdHJpbmdpZnkodCkgOiB0KTsKICAgIH07CgogICAgb2JqLmZpbHRlck5vdGljZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAkKGRvY3VtZW50KS5vbigiRE9NTm9kZUluc2VydGVkIiwgIi5hRHJpdmUiLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSwgJHRleHQgPSAkdGhpcy5maW5kKCIudGl0bGUtLUJudWRyIikudGV4dCgpOwogICAgICAgICAgICAkdGV4dC5pbmNsdWRlcygi6KeG6aKR5LuF5Y+v6K+V55yLIikgJiYgJHRoaXMuY2hpbGRyZW4oImRpdiIpLmVtcHR5KCk7CiAgICAgICAgfSk7CiAgICB9OwoKICAgIG9iai5zaG93VGlwU3VjY2VzcyA9IGZ1bmN0aW9uIChtc2csIHRpbWVvdXQpIHsKICAgICAgICBvYmouaGlkZVRpcCgpOwoKICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKCIuYURyaXZlIGRpdiIpOwogICAgICAgIHZhciBlbGVtZW50aHRtbD0nPGRpdiBjbGFzcz0iYURyaXZlLW5vdGljZSI+PGRpdiBjbGFzcz0iYURyaXZlLW5vdGljZS1jb250ZW50Ij48ZGl2IGNsYXNzPSJhRHJpdmUtY3VzdG9tLWNvbnRlbnQgYURyaXZlLXN1Y2Nlc3MiPjxzcGFuIGRhdGEtcm9sZT0iaWNvbiIgZGF0YS1yZW5kZXItYXM9InN2ZyIgZGF0YS1pY29uLXR5cGU9IlBEU0NoZWNrbWFya0NpcmNsZUZpbGwiIGNsYXNzPSJzdWNjZXNzLWljb24tLTJadmN5IGljb24tLWQtZWpBICI+PHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0Ij48dXNlIHhsaW5rOmhyZWY9IiNQRFNDaGVja21hcmtDaXJjbGVGaWxsIj48L3VzZT48L3N2Zz48L3NwYW4+PHNwYW4+PGRpdiBjbGFzcz0iY29udGVudC13cmFwcGVyLS1CN21BRyIgZGF0YS1kZXNjPSJmYWxzZSIgc3R5bGU9Im1hcmdpbi1sZWZ0OiA0NHB4OyBwYWRkaW5nLXJpZ2h0OiAyMHB4OyI+PGRpdiBjbGFzcz0idGl0bGUtd3JhcHBlci0tM2JRUTIiPicgKyBtc2cgKyAnPGRpdiBjbGFzcz0iZGVzYy13cmFwcGVyLS0yMTh4MCI+PC9kaXY+PC9kaXY+PC9kaXY+PC9zcGFuPjwvZGl2PjwvZGl2PicKICAgICAgICBpZiAoJGVsZW1lbnQubGVuZ3RoKSB7CiAgICAgICAgICAgICRlbGVtZW50LmFwcGVuZChlbGVtZW50aHRtbCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkKGRvY3VtZW50LmJvZHkpLmFwcGVuZCgnPGRpdj48ZGl2IGNsYXNzPSJhRHJpdmUiPjxkaXY+JytlbGVtZW50aHRtbCsnPC9kaXY+PC9kaXY+PC9kaXY+Jyk7CiAgICAgICAgfQoKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgb2JqLmhpZGVUaXAoKTsKICAgICAgICB9LCB0aW1lb3V0IHx8IDMwMDApOwogICAgfTsKCiAgICBvYmouc2hvd1RpcEVycm9yID0gZnVuY3Rpb24gKG1zZywgdGltZW91dCkgewogICAgICAgIG9iai5oaWRlVGlwKCk7CgogICAgICAgIHZhciAkZWxlbWVudCA9ICQoIi5hRHJpdmUgZGl2Iik7CiAgICAgICAgdmFyIGVsZW1lbnRodG1sPSc8ZGl2IGNsYXNzPSJhRHJpdmUtbm90aWNlIj48ZGl2IGNsYXNzPSJhRHJpdmUtbm90aWNlLWNvbnRlbnQiPjxkaXYgY2xhc3M9ImFEcml2ZS1jdXN0b20tY29udGVudCBhRHJpdmUtZXJyb3IiPjxzcGFuIGRhdGEtcm9sZT0iaWNvbiIgZGF0YS1yZW5kZXItYXM9InN2ZyIgZGF0YS1pY29uLXR5cGU9IlBEU0Nsb3NlQ2lyY2xlRmlsbCIgY2xhc3M9ImVycm9yLWljb24tLTFPdjRJIGljb24tLWQtZWpBICI+PHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0Ij48dXNlIHhsaW5rOmhyZWY9IiNQRFNDbG9zZUNpcmNsZUZpbGwiPjwvdXNlPjwvc3ZnPjwvc3Bhbj48c3Bhbj48ZGl2IGNsYXNzPSJjb250ZW50LXdyYXBwZXItLUI3bUFHIiBkYXRhLWRlc2M9ImZhbHNlIiBzdHlsZT0ibWFyZ2luLWxlZnQ6IDQ0cHg7IHBhZGRpbmctcmlnaHQ6IDIwcHg7Ij48ZGl2IGNsYXNzPSJ0aXRsZS13cmFwcGVyLS0zYlFRMiI+JyArIG1zZyArICc8ZGl2IGNsYXNzPSJkZXNjLXdyYXBwZXItLTIxOHgwIj48L2Rpdj48L2Rpdj48L2Rpdj48L3NwYW4+PC9kaXY+PC9kaXY+PC9kaXY+JwogICAgICAgIGlmICgkZWxlbWVudC5sZW5ndGgpIHsKICAgICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGVsZW1lbnRodG1sKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICQoZG9jdW1lbnQuYm9keSkuYXBwZW5kKCc8ZGl2PjxkaXYgY2xhc3M9ImFEcml2ZSI+PGRpdj4nK2VsZW1lbnRodG1sKyc8L2Rpdj48L2Rpdj48L2Rpdj4nKTsKICAgICAgICB9CgogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBvYmouaGlkZVRpcCgpCiAgICAgICAgfSwgdGltZW91dCB8fCAzMDAwKTsKICAgIH07CgogICAgb2JqLnNob3dUaXBMb2FkaW5nID0gZnVuY3Rpb24gKG1zZywgdGltZW91dCkgewogICAgICAgIG9iai5oaWRlVGlwKCk7CgogICAgICAgIHZhciAkZWxlbWVudCA9ICQoIi5hRHJpdmUgZGl2Iik7CiAgICAgICAgdmFyIGVsZW1lbnRodG1sID0gJzxkaXYgY2xhc3M9ImFEcml2ZS1ub3RpY2UiPjxkaXYgY2xhc3M9ImFEcml2ZS1ub3RpY2UtY29udGVudCI+PGRpdiBjbGFzcz0iYURyaXZlLWN1c3RvbS1jb250ZW50IGFEcml2ZS1sb2FkaW5nIj48ZGl2PjwvZGl2PjxzcGFuPjxkaXYgY2xhc3M9ImNvbnRlbnQtd3JhcHBlci0tQjdtQUciIGRhdGEtZGVzYz0iZmFsc2UiIHN0eWxlPSJtYXJnaW4tbGVmdDogMjBweDsgcGFkZGluZy1yaWdodDogMjBweDsiPjxkaXYgY2xhc3M9InRpdGxlLXdyYXBwZXItLTNiUVEyIj4nICsgbXNnICsgJzxkaXYgY2xhc3M9ImRlc2Mtd3JhcHBlci0tMjE4eDAiPjwvZGl2PjwvZGl2PjwvZGl2Pjwvc3Bhbj48L2Rpdj48L2Rpdj48L2Rpdj4nCiAgICAgICAgaWYgKCRlbGVtZW50Lmxlbmd0aCkgewogICAgICAgICAgICAkZWxlbWVudC5hcHBlbmQoZWxlbWVudGh0bWwpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJChkb2N1bWVudC5ib2R5KS5hcHBlbmQoJzxkaXY+PGRpdiBjbGFzcz0iYURyaXZlIj48ZGl2PicrZWxlbWVudGh0bWwrJzwvZGl2PjwvZGl2PjwvZGl2PicpOwogICAgICAgIH0KCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIG9iai5oaWRlVGlwKCkKICAgICAgICB9LCB0aW1lb3V0IHx8IDUwMDApOwogICAgfTsKCiAgICBvYmouaGlkZVRpcCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB0ID0gJCgiLmFEcml2ZS1ub3RpY2UiKTsKICAgICAgICB0Lmxlbmd0aCAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiB0LnJlbW92ZSA/IHQucmVtb3ZlKCkgOiAiZnVuY3Rpb24iID09IHR5cGVvZiB0LnJlbW92ZU5vZGUgJiYgdC5yZW1vdmVOb2RlKCEwKTsKICAgIH07CgogICAgb2JqLmFkZFBhZ2VGaWxlTGlzdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgc2VuZCA9IFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kOwogICAgICAgIFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSA0ICYmIHRoaXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IHRoaXMucmVzcG9uc2UsIHJlc3BvbnNlVVJMID0gdGhpcy5yZXNwb25zZVVSTDsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VVUkwuZW5kc1dpdGgoIi9maWxlL2dldCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7IHJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXNwb25zZSkgfSBjYXRjaCAoZXJyb3IpIHsgfTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgT2JqZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouZmlsZV9wYWdlLmZpbGVfaW5mbyA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlVVJMLmluZGV4T2YoIi9maWxlL2xpc3QiKSA+IDAgfHwgcmVzcG9uc2VVUkwuaW5kZXhPZigiL2ZpbGUvc2VhcmNoIikgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuYW50LW1vZGFsLW1hc2siKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/mjpLpmaTjgJDkv53lrZgg56e75YqoIOetieihjOS4uuinpuWPkeOAkQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlc3BvbnNlKSB9IGNhdGNoIChlcnJvcikgeyB9OwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBPYmplY3QgJiYgcmVzcG9uc2UuaXRlbXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7IGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpIH0gY2F0Y2ggKGVycm9yKSB7IGRhdGEgPSB7fSB9OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouZmlsZV9wYWdlLnBhcmVudF9maWxlX2lkICE9IGRhdGEucGFyZW50X2ZpbGVfaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WPmOaNoumhtemdogogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5maWxlX3BhZ2UucGFyZW50X2ZpbGVfaWQgPSBkYXRhLnBhcmVudF9maWxlX2lkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5maWxlX3BhZ2Uub3JkZXJfYnkgPSBkYXRhLm9yZGVyX2J5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5maWxlX3BhZ2Uub3JkZXJfZGlyZWN0aW9uID0gZGF0YS5vcmRlcl9kaXJlY3Rpb247CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmZpbGVfcGFnZS5uZXh0X21hcmtlcl9saXN0ID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmZpbGVfcGFnZS5pdGVtcyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouZmlsZV9wYWdlLm9yZGVyX2J5ICE9IGRhdGEub3JkZXJfYnkgfHwgb2JqLmZpbGVfcGFnZS5vcmRlcl9kaXJlY3Rpb24gIT0gZGF0YS5vcmRlcl9kaXJlY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+aOkuW6j+aUueWPmAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5maWxlX3BhZ2Uub3JkZXJfYnkgPSBkYXRhLm9yZGVyX2J5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5maWxlX3BhZ2Uub3JkZXJfZGlyZWN0aW9uID0gZGF0YS5vcmRlcl9kaXJlY3Rpb247CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmZpbGVfcGFnZS5uZXh0X21hcmtlcl9saXN0ID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmZpbGVfcGFnZS5pdGVtcyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0X21hcmtlciA9IHJlc3BvbnNlLm5leHRfbWFya2VyLCBuZXh0X21hcmtlcl9saXN0ID0gb2JqLmZpbGVfcGFnZS5uZXh0X21hcmtlcl9saXN0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRfbWFya2VyX2xpc3QuaW5jbHVkZXMobmV4dF9tYXJrZXIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRfbWFya2VyX2xpc3QuaW5kZXhPZihuZXh0X21hcmtlcikgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+mHjeWkjeaOkuW6jwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouZmlsZV9wYWdlLm5leHRfbWFya2VyX2xpc3QgPSBbcmVzcG9uc2UubmV4dF9tYXJrZXJdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouZmlsZV9wYWdlLml0ZW1zID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmZpbGVfcGFnZS5uZXh0X21hcmtlcl9saXN0LnB1c2gocmVzcG9uc2UubmV4dF9tYXJrZXIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmZpbGVfcGFnZS5pdGVtcyA9IG9iai5maWxlX3BhZ2UuaXRlbXMuY29uY2F0KHJlc3BvbnNlLml0ZW1zKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5zaG93VGlwU3VjY2Vzcygi5paH5Lu25YiX6KGo6I635Y+W5a6M5oiQIOWFse+8miIgKyBvYmouZmlsZV9wYWdlLml0ZW1zLmxlbmd0aCArICLpobkiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmZpbGVfcGFnZS5pdGVtcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmlzSG9tZVBhZ2UoKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouaW5pdERvd25sb2FkSG9tZVBhZ2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5pbml0RG93bmxvYWRTaGFyZVBhZ2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnN3aXRjaFZpZXdBcnJvdygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouYXV0b0xhc3RCdG4oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZVVSTC5pbmRleE9mKCIvZmlsZS9nZXRfc2hhcmVfbGlua192aWRlb19wcmV2aWV3X3BsYXlfaW5mbyIpID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyByZXNwb25zZSA9IEpTT04ucGFyc2UocmVzcG9uc2UpIH0gY2F0Y2ggKGVycm9yKSB7IH07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIE9iamVjdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnZpZGVvX3BhZ2UucGxheV9pbmZvLmZpbGVfaWQgPT0gcmVzcG9uc2UuZmlsZV9pZCB8fCAob2JqLnZpZGVvX3BhZ2Uuc3VidGl0bGVfbGlzdCA9IFtdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai52aWRlb19wYWdlLnBsYXlfaW5mbyA9IHJlc3BvbnNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5hdXRvUGxheWVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2VVUkwuaW5kZXhPZigiL2ZpbGUvZ2V0X3ZpZGVvX3ByZXZpZXdfcGxheV9pbmZvIikgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7IHJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXNwb25zZSkgfSBjYXRjaCAoZXJyb3IpIHsgfTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgT2JqZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoudmlkZW9fcGFnZS5wbGF5X2luZm8uZmlsZV9pZCA9PSByZXNwb25zZS5maWxlX2lkIHx8IChvYmoudmlkZW9fcGFnZS5zdWJ0aXRsZV9saXN0ID0gW10pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnZpZGVvX3BhZ2UucGxheV9pbmZvID0gcmVzcG9uc2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZm8gPSByZXNwb25zZS52aWRlb19wcmV2aWV3X3BsYXlfaW5mbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBsaXN0ID0gaW5mby5saXZlX3RyYW5zY29kaW5nX3Rhc2tfbGlzdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0WzBdLmhhc093blByb3BlcnR5KCJwcmV2aWV3X3VybCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5nZXRJdGVtKCJkZWZhdWx0X3BsYXllciIpICE9ICJOYXRpdmVQbGF5ZXIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5nZXRfc2hhcmVfbGlua192aWRlb19wcmV2aWV3X3BsYXlfaW5mbyhmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlIHx8IG9iai5zaG93VGlwRXJyb3IoIuaSreaUvuS/oeaBr+iOt+WPluWksei0pSDor7fliLfmlrDph43or5UiLCAxMDAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5hdXRvUGxheWVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnJlYWR5U3RhdGUgPT0gNCAmJiB0aGlzLnN0YXR1cyA9PSA0MDMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmV4cGlyZXModGhpcy5yZXNwb25zZVVSTCkgJiYgb2JqLmdldEl0ZW0oImRlZmF1bHRfcGxheWVyIikgIT0gIk5hdGl2ZVBsYXllciIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lZGlhX251bSA9ICh0aGlzLnJlc3BvbnNlVVJMLm1hdGNoKC9tZWRpYS0oXGQrKVwudHMvKSB8fCBbXSlbMV0gfHwgMDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lZGlhX251bSA+IDAgJiYgb2JqLnZpZGVvX3BhZ2UubWVkaWFfbnVtICE9IG1lZGlhX251bSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnZpZGVvX3BhZ2UubWVkaWFfbnVtID0gbWVkaWFfbnVtOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5nZXRTaGFyZUlkKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouZ2V0X3NoYXJlX2xpbmtfdmlkZW9fcHJldmlld19wbGF5X2luZm8oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5nZXRfdmlkZW9fcHJldmlld19wbGF5X2luZm8oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgZmFsc2UpOwogICAgICAgICAgICBzZW5kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgIH07CgogICAgb2JqLnJ1biA9IGZ1bmN0aW9uKCkgewogICAgICAgIG9iai5nb2xkbG9nU3BtKCk7CgogICAgICAgIG9iai5hZGRQYWdlRmlsZUxpc3QoKTsKCiAgICAgICAgb2JqLmluaXRWaWRlb1BhZ2UoKTsKCiAgICAgICAgb2JqLnVubG9ja0ZpbGVMaW1pdCgpOwoKICAgICAgICB2YXIgdXJsID0gbG9jYXRpb24uaHJlZjsKICAgICAgICBpZiAodXJsLmluZGV4T2YoIi5hbGl5dW5kcml2ZS5jb20vcy8iKSA+IDApIHsKICAgICAgICAgICAgb2JqLm5ld1RhYk9wZW4oKTsKICAgICAgICAgICAgb2JqLmZpbHRlck5vdGljZSgpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmICh1cmwuaW5kZXhPZigiLmFsaXl1bmRyaXZlLmNvbS9kcml2ZSIpID4gMCkgewogICAgICAgICAgICBvYmouY3VzdG9tU2hhcmVQd2QoKTsKICAgICAgICB9CiAgICB9KCk7CgogICAgY29uc29sZS5sb2coIj09PSDpmL/ph4zkupHnm5gg5aW95qOS5qOS77yBPT09Iik7CgogICAgLy8gWW91ciBjb2RlIGhlcmUuLi4KfSkoKTsK","requires":[{"meta":{"name":"jquery.min.js","url":"https://cdn.staticfile.org/jquery/3.6.0/jquery.min.js","ts":1658631447826,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KGUpfTp0KGUpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihDLGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1bXSxyPU9iamVjdC5nZXRQcm90b3R5cGVPZixzPXQuc2xpY2UsZz10LmZsYXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gdC5jb25jYXQuYXBwbHkoW10sZSl9LHU9dC5wdXNoLGk9dC5pbmRleE9mLG49e30sbz1uLnRvU3RyaW5nLHY9bi5oYXNPd25Qcm9wZXJ0eSxhPXYudG9TdHJpbmcsbD1hLmNhbGwoT2JqZWN0KSx5PXt9LG09ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZS5ub2RlVHlwZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuaXRlbX0seD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxFPUMuZG9jdW1lbnQsYz17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByLGksbz0obj1ufHxFKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihyIGluIGMpKGk9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmby5zZXRBdHRyaWJ1dGUocixpKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9uW28uY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBmPSIzLjYuMCIsUz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUy5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIHAoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hbShlKSYmIXgoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9Uy5mbj1TLnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6UyxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3MuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Uy5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxldmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQrMSklMn0pKX0sb2RkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PW4mJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6dSxzb3J0OnQuc29ydCxzcGxpY2U6dC5zcGxpY2V9LFMuZXh0ZW5kPVMuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLGE9YXJndW1lbnRzWzBdfHx7fSxzPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksIm9iamVjdCI9PXR5cGVvZiBhfHxtKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSlyPWVbdF0sIl9fcHJvdG9fXyIhPT10JiZhIT09ciYmKGwmJnImJihTLmlzUGxhaW5PYmplY3Qocil8fChpPUFycmF5LmlzQXJyYXkocikpKT8obj1hW3RdLG89aSYmIUFycmF5LmlzQXJyYXkobik/W106aXx8Uy5pc1BsYWluT2JqZWN0KG4pP246e30saT0hMSxhW3RdPVMuZXh0ZW5kKGwsbyxyKSk6dm9pZCAwIT09ciYmKGFbdF09cikpO3JldHVybiBhfSxTLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoZitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiEoIWV8fCJbb2JqZWN0IE9iamVjdF0iIT09by5jYWxsKGUpKSYmKCEodD1yKGUpKXx8ImZ1bmN0aW9uIj09dHlwZW9mKG49di5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZhLmNhbGwobik9PT1sKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUsdCxuKXtiKGUse25vbmNlOnQmJnQubm9uY2V9LG4pfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2lmKHAoZSkpe2ZvcihuPWUubGVuZ3RoO3I8bjtyKyspaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrfWVsc2UgZm9yKHIgaW4gZSlpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWs7cmV0dXJuIGV9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYocChPYmplY3QoZSkpP1MubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOnUuY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTppLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgscj0wLGk9ZS5sZW5ndGg7cjxuO3IrKyllW2krK109dFtyXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLG89ZS5sZW5ndGgsYT0hbjtpPG87aSsrKSF0KGVbaV0saSkhPT1hJiZyLnB1c2goZVtpXSk7cmV0dXJuIHJ9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPTAsYT1bXTtpZihwKGUpKWZvcihyPWUubGVuZ3RoO288cjtvKyspbnVsbCE9KGk9dChlW29dLG8sbikpJiZhLnB1c2goaSk7ZWxzZSBmb3IobyBpbiBlKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO3JldHVybiBnKGEpfSxndWlkOjEsc3VwcG9ydDp5fSksImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKFMuZm5bU3ltYm9sLml0ZXJhdG9yXT10W1N5bWJvbC5pdGVyYXRvcl0pLFMuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXtuWyJbb2JqZWN0ICIrdCsiXSJdPXQudG9Mb3dlckNhc2UoKX0pO3ZhciBkPWZ1bmN0aW9uKG4pe3ZhciBlLGQsYixvLGksaCxmLGcsdyx1LGwsVCxDLGEsRSx2LHMsYyx5LFM9InNpenpsZSIrMSpuZXcgRGF0ZSxwPW4uZG9jdW1lbnQsaz0wLHI9MCxtPXVlKCkseD11ZSgpLEE9dWUoKSxOPXVlKCksaj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGw9ITApLDB9LEQ9e30uaGFzT3duUHJvcGVydHksdD1bXSxxPXQucG9wLEw9dC5wdXNoLEg9dC5wdXNoLE89dC5zbGljZSxQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxSPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTT0iW1xceDIwXFx0XFxyXFxuXFxmXSIsST0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsVz0iXFxbIitNKyIqKCIrSSsiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK0krIikpfCkiK00rIipcXF0iLEY9IjooIitJKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitXKyIpKil8LiopXFwpfCkiLEI9bmV3IFJlZ0V4cChNKyIrIiwiZyIpLCQ9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxfPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksej1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLFU9bmV3IFJlZ0V4cChNKyJ8PiIpLFg9bmV3IFJlZ0V4cChGKSxWPW5ldyBSZWdFeHAoIl4iK0krIiQiKSxHPXtJRDpuZXcgUmVnRXhwKCJeIygiK0krIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrSSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrSSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK1cpLFBTRVVETzpuZXcgUmVnRXhwKCJeIitGKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK00rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK00rIiooPzooWystXXwpIitNKyIqKFxcZCspfCkpIitNKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitSKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitNKyIqKCg/Oi1cXGQpP1xcZCopIitNKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxZPS9IVE1MJC9pLFE9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxKPS9eaFxkJC9pLEs9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLFo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxlZT0vWyt+XS8sdGU9bmV3IFJlZ0V4cCgiXFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXChbXlxcclxcblxcZl0pIiwiZyIpLG5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49IjB4IitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0scmU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csaWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe1QoKX0sYWU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYiZmllbGRzZXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0guYXBwbHkodD1PLmNhbGwocC5jaGlsZE5vZGVzKSxwLmNoaWxkTm9kZXMpLHRbcC5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7SD17YXBwbHk6dC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtMLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoVChlKSxlPWV8fEMsRSkpe2lmKDExIT09cCYmKHU9Wi5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYoZiYmKGE9Zi5nZXRFbGVtZW50QnlJZChpKSkmJnkoZSxhKSYmYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpKSxufWlmKGQucXNhJiYhTlt0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigxIT09cHx8Im9iamVjdCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihjPXQsZj1lLDE9PT1wJiYoVS50ZXN0KHQpfHx6LnRlc3QodCkpKXsoZj1lZS50ZXN0KHQpJiZ5ZShlLnBhcmVudE5vZGUpfHxlKT09PWUmJmQuc2NvcGV8fCgocz1lLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1zLnJlcGxhY2UocmUsaWUpOmUuc2V0QXR0cmlidXRlKCJpZCIscz1TKSksbz0obD1oKHQpKS5sZW5ndGg7d2hpbGUoby0tKWxbb109KHM/IiMiK3M6IjpzY29wZSIpKyIgIit4ZShsW29dKTtjPWwuam9pbigiLCIpfXRyeXtyZXR1cm4gSC5hcHBseShuLGYucXVlcnlTZWxlY3RvckFsbChjKSksbn1jYXRjaChlKXtOKHQsITApfWZpbmFsbHl7cz09PVMmJmUucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGcodC5yZXBsYWNlKCQsIiQxIiksZSxuLHIpfWZ1bmN0aW9uIHVlKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT5iLmNhY2hlTGVuZ3RoJiZkZWxldGUgZVtyLnNoaWZ0KCldLGVbdCsiICJdPW59fWZ1bmN0aW9uIGxlKGUpe3JldHVybiBlW1NdPSEwLGV9ZnVuY3Rpb24gY2UoZSl7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGZlKGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9bi5sZW5ndGg7d2hpbGUoci0tKWIuYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIHBlKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmZS5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19ZnVuY3Rpb24gaGUobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fWZ1bmN0aW9uIGdlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iZm9ybSJpbiBlP2UucGFyZW50Tm9kZSYmITE9PT1lLmRpc2FibGVkPyJsYWJlbCJpbiBlPyJsYWJlbCJpbiBlLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmRpc2FibGVkPT09dDplLmRpc2FibGVkPT09dDplLmlzRGlzYWJsZWQ9PT10fHxlLmlzRGlzYWJsZWQhPT0hdCYmYWUoZSk9PT10OmUuZGlzYWJsZWQ9PT10OiJsYWJlbCJpbiBlJiZlLmRpc2FibGVkPT09dH19ZnVuY3Rpb24gdmUoYSl7cmV0dXJuIGxlKGZ1bmN0aW9uKG8pe3JldHVybiBvPStvLGxlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKFtdLGUubGVuZ3RoLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1yW2ldXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1mb3IoZSBpbiBkPXNlLnN1cHBvcnQ9e30saT1zZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hWS50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fCJIVE1MIil9LFQ9c2Uuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU/ZS5vd25lckRvY3VtZW50fHxlOnA7cmV0dXJuIHIhPUMmJjk9PT1yLm5vZGVUeXBlJiZyLmRvY3VtZW50RWxlbWVudCYmKGE9KEM9cikuZG9jdW1lbnRFbGVtZW50LEU9IWkoQykscCE9QyYmKG49Qy5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLGQuc2NvcGU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoQy5jcmVhdGVFbGVtZW50KCJkaXYiKSksInVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwmJiFlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpzY29wZSBmaWVsZHNldCBkaXYiKS5sZW5ndGh9KSxkLmF0dHJpYnV0ZXM9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZC5nZXRFbGVtZW50c0J5VGFnTmFtZT1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChDLmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1LLnRlc3QoQy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxkLmdldEJ5SWQ9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuaWQ9UywhQy5nZXRFbGVtZW50c0J5TmFtZXx8IUMuZ2V0RWxlbWVudHNCeU5hbWUoUykubGVuZ3RofSksZC5nZXRCeUlkPyhiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sYi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZFKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19KTooYi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXBsYWNlKHRlLG5lKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gdCYmdC52YWx1ZT09PW59fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuLHIsaSxvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2k9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxyPTA7d2hpbGUobz1pW3IrK10paWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLGIuZmluZC5UQUc9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOmQucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LGIuZmluZC5DTEFTUz1kLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJkUpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0scz1bXSx2PVtdLChkLnFzYT1LLnRlc3QoQy5xdWVyeVNlbGVjdG9yQWxsKSkmJihjZShmdW5jdGlvbihlKXt2YXIgdDthLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIrUysiJz48L2E+PHNlbGVjdCBpZD0nIitTKyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnYucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitSKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrUysiLV0iKS5sZW5ndGh8fHYucHVzaCgifj0iKSwodD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgibmFtZSIsIiIpLGUuYXBwZW5kQ2hpbGQodCksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT0nJ10iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqbmFtZSIrTSsiKj0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHYucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitTKyIrKiIpLmxlbmd0aHx8di5wdXNoKCIuIy4rWyt+XSIpLGUucXVlcnlTZWxlY3RvckFsbCgiXFxcZiIpLHYucHVzaCgiW1xcclxcblxcZl0iKX0pLGNlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnYucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmdi5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEuYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iiksdi5wdXNoKCIsLio6Iil9KSksKGQubWF0Y2hlc1NlbGVjdG9yPUsudGVzdChjPWEubWF0Y2hlc3x8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLm9NYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3IpKSYmY2UoZnVuY3Rpb24oZSl7ZC5kaXNjb25uZWN0ZWRNYXRjaD1jLmNhbGwoZSwiKiIpLGMuY2FsbChlLCJbcyE9JyddOngiKSxzLnB1c2goIiE9IixGKX0pLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKCJ8IikpLHM9cy5sZW5ndGgmJm5ldyBSZWdFeHAocy5qb2luKCJ8IikpLHQ9Sy50ZXN0KGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHk9dHx8Sy50ZXN0KGEuY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0saj10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09Q3x8ZS5vd25lckRvY3VtZW50PT1wJiZ5KHAsZSk/LTE6dD09Q3x8dC5vd25lckRvY3VtZW50PT1wJiZ5KHAsdCk/MTp1P1AodSxlKS1QKHUsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbixyPTAsaT1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUsYT1bZV0scz1bdF07aWYoIWl8fCFvKXJldHVybiBlPT1DPy0xOnQ9PUM/MTppPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihpPT09bylyZXR1cm4gcGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP3BlKGFbcl0sc1tyXSk6YVtyXT09cD8tMTpzW3JdPT1wPzE6MH0pLEN9LHNlLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2UoZSxudWxsLG51bGwsdCl9LHNlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKFQoZSksZC5tYXRjaGVzU2VsZWN0b3ImJkUmJiFOW3QrIiAiXSYmKCFzfHwhcy50ZXN0KHQpKSYmKCF2fHwhdi50ZXN0KHQpKSl0cnl7dmFyIG49Yy5jYWxsKGUsdCk7aWYobnx8ZC5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGUpe04odCwhMCl9cmV0dXJuIDA8c2UodCxDLG51bGwsW2VdKS5sZW5ndGh9LHNlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSkseShlLHQpfSxzZS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSk7dmFyIG49Yi5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZELmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmQuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IWQuZGV0ZWN0RHVwbGljYXRlcyx1PSFkLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KGopLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LChiPXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOkcsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gRy5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1tW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitNKyIpIitlKyIoIitNKyJ8JCkiKSkmJm0oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoQiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLHg9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPXgmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwPSFuJiYheCxkPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmcCl7ZD0ocz0ocj0oaT0obz0oYT1jKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09ayYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrZCYmYT09PWUpe2lbaF09W2sscyxkXTticmVha319ZWxzZSBpZihwJiYoZD1zPShyPShpPShvPShhPWUpW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1rJiZyWzFdKSwhMT09PWQpd2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrZCYmKHAmJigoaT0obz1hW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtrLGRdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKGQtPXYpPT09Z3x8ZCVnPT0wJiYwPD1kL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT1iLnBzZXVkb3NbZV18fGIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW1NdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLGIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPVAoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoJCwiJDEiKSk7cmV0dXJuIHNbU10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBWLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUMuYWN0aXZlRWxlbWVudCYmKCFDLmhhc0ZvY3VzfHxDLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBKLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBRLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWIucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pYi5wc2V1ZG9zW2VdPWRlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gYmUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMscD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bayxwXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW1NdfHwoZVtTXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PWsmJnJbMV09PT1wKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2UoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltTXSYmKHY9Q2UodikpLHkmJiF5W1NdJiYoeT1DZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IWR8fCFlJiZoP2M6VGUoYyxzLGQsbixyKSxwPWc/eXx8KGU/ZDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLHAsbixyKSx2KXtpPVRlKHAsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihwW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8ZCl7aWYoeSl7aT1bXSxvPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLHA9W10saSxyKX1vPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmLTE8KGk9eT9QKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgcD1UZShwPT09dD9wLnNwbGljZShsLHAubGVuZ3RoKTpwKSx5P3kobnVsbCx0LHAscik6SC5hcHBseSh0LHApfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1iZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9YmUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8UChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtiZSh3ZShjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlbU10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gQ2UoMTxzJiZ3ZShjKSwxPHMmJnhlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoJCwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZ4ZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD14W2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj1fLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKCQsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGIuZmlsdGVyKSEocj1HW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6eChlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9QVtlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtTXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPUEoZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPWsrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT1DfHx0fHxpKTtsIT09ZyYmbnVsbCE9KG89ZFtsXSk7bCsrKXtpZih4JiZvKXthPTAsdHx8by5vd25lckRvY3VtZW50PT1DfHwoVChvKSxuPSFFKTt3aGlsZShzPXZbYSsrXSlpZihzKG8sdHx8QyxuKSl7ci5wdXNoKG8pO2JyZWFrfWkmJihrPWgpfW0mJigobz0hcyYmbykmJnUtLSxlJiZjLnB1c2gobykpfWlmKHUrPWwsbSYmbCE9PXUpe2E9MDt3aGlsZShzPXlbYSsrXSlzKGMsZix0LG4pO2lmKGUpe2lmKDA8dSl3aGlsZShsLS0pY1tsXXx8ZltsXXx8KGZbbF09cS5jYWxsKHIpKTtmPVRlKGYpfUguYXBwbHkocixmKSxpJiYhZSYmMDxmLmxlbmd0aCYmMTx1K3kubGVuZ3RoJiZzZS51bmlxdWVTb3J0KHIpfXJldHVybiBpJiYoaz1oLHc9cCksY30sbT9sZShyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9LGc9c2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxjPSFyJiZoKGU9bC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Yy5sZW5ndGgpe2lmKDI8KG89Y1swXT1jWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmRSYmYi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KGIuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksdCl8fFtdKVswXSkpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1HLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7d2hpbGUoaS0tKXtpZihhPW9baV0sYi5yZWxhdGl2ZVtzPWEudHlwZV0pYnJlYWs7aWYoKHU9Yi5maW5kW3NdKSYmKHI9dShhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksZWUudGVzdChvWzBdLnR5cGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZ4ZShvKSkpcmV0dXJuIEguYXBwbHkobixyKSxuO2JyZWFrfX19cmV0dXJuKGx8fGYoZSxjKSkocix0LCFFLG4sIXR8fGVlLnRlc3QoZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpLG59LGQuc29ydFN0YWJsZT1TLnNwbGl0KCIiKS5zb3J0KGopLmpvaW4oIiIpPT09UyxkLmRldGVjdER1cGxpY2F0ZXM9ISFsLFQoKSxkLnNvcnREZXRhY2hlZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxmZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuKXJldHVybiBlLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZC5hdHRyaWJ1dGVzJiZjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxpbnB1dC8+IixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxmZSgidmFsdWUiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8ZmUoUixmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoIW4pcmV0dXJuITA9PT1lW3RdP3QudG9Mb3dlckNhc2UoKToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9KSxzZX0oQyk7Uy5maW5kPWQsUy5leHByPWQuc2VsZWN0b3JzLFMuZXhwclsiOiJdPVMuZXhwci5wc2V1ZG9zLFMudW5pcXVlU29ydD1TLnVuaXF1ZT1kLnVuaXF1ZVNvcnQsUy50ZXh0PWQuZ2V0VGV4dCxTLmlzWE1MRG9jPWQuaXNYTUwsUy5jb250YWlucz1kLmNvbnRhaW5zLFMuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJlMoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxUPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxrPVMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gQShlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIE49L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7ZnVuY3Rpb24gaihlLG4scil7cmV0dXJuIG0obik/Uy5ncmVwKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hIW4uY2FsbChlLHQsZSkhPT1yfSk6bi5ub2RlVHlwZT9TLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PW4hPT1yfSk6InN0cmluZyIhPXR5cGVvZiBuP1MuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPGkuY2FsbChuLGUpIT09cn0pOlMuZmlsdGVyKG4sZSxyKX1TLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT9TLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOlMuZmluZC5tYXRjaGVzKGUsUy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxTLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soUyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYoUy5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKylTLmZpbmQoZSxpW3RdLG4pO3JldHVybiAxPHI/Uy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmay50ZXN0KGUpP1MoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgRCxxPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KFMuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fEQsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKHI9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTpxLmV4ZWMoZSkpfHwhclsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKHJbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIFM/dFswXTp0LFMubWVyZ2UodGhpcyxTLnBhcnNlSFRNTChyWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OkUsITApKSxOLnRlc3QoclsxXSkmJlMuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KW0odGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4oaT1FLmdldEVsZW1lbnRCeUlkKHJbMl0pKSYmKHRoaXNbMF09aSx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTptKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKFMpOlMubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9Uy5mbixEPVMoRSk7dmFyIEw9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sSD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBPKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PVMoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYoUy5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZTKGUpO2lmKCFrLnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/LTE8YS5pbmRleChuKToxPT09bi5ub2RlVHlwZSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPG8ubGVuZ3RoP1MudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP2kuY2FsbChTKGUpLHRoaXNbMF0pOmkuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy51bmlxdWVTb3J0KFMubWVyZ2UodGhpcy5nZXQoKSxTKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLFMuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gVCgoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuY29udGVudERvY3VtZW50JiZyKGUuY29udGVudERvY3VtZW50KT9lLmNvbnRlbnREb2N1bWVudDooQShlLCJ0ZW1wbGF0ZSIpJiYoZT1lLmNvbnRlbnR8fGUpLFMubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihyLGkpe1MuZm5bcl09ZnVuY3Rpb24oZSx0KXt2YXIgbj1TLm1hcCh0aGlzLGksZSk7cmV0dXJuIlVudGlsIiE9PXIuc2xpY2UoLTUpJiYodD1lKSx0JiYic3RyaW5nIj09dHlwZW9mIHQmJihuPVMuZmlsdGVyKHQsbikpLDE8dGhpcy5sZW5ndGgmJihIW3JdfHxTLnVuaXF1ZVNvcnQobiksTC50ZXN0KHIpJiZuLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFA9L1teXHgyMFx0XHJcblxmXSsvZztmdW5jdGlvbiBSKGUpe3JldHVybiBlfWZ1bmN0aW9uIE0oZSl7dGhyb3cgZX1mdW5jdGlvbiBJKGUsdCxuLHIpe3ZhciBpO3RyeXtlJiZtKGk9ZS5wcm9taXNlKT9pLmNhbGwoZSkuZG9uZSh0KS5mYWlsKG4pOmUmJm0oaT1lLnRoZW4pP2kuY2FsbChlLHQsbik6dC5hcHBseSh2b2lkIDAsW2VdLnNsaWNlKHIpKX1jYXRjaChlKXtuLmFwcGx5KHZvaWQgMCxbZV0pfX1TLkNhbGxiYWNrcz1mdW5jdGlvbihyKXt2YXIgZSxuO3I9InN0cmluZyI9PXR5cGVvZiByPyhlPXIsbj17fSxTLmVhY2goZS5tYXRjaChQKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6Uy5leHRlbmQoe30scik7dmFyIGksdCxvLGEscz1bXSx1PVtdLGw9LTEsYz1mdW5jdGlvbigpe2ZvcihhPWF8fHIub25jZSxvPWk9ITA7dS5sZW5ndGg7bD0tMSl7dD11LnNoaWZ0KCk7d2hpbGUoKytsPHMubGVuZ3RoKSExPT09c1tsXS5hcHBseSh0WzBdLHRbMV0pJiZyLnN0b3BPbkZhbHNlJiYobD1zLmxlbmd0aCx0PSExKX1yLm1lbW9yeXx8KHQ9ITEpLGk9ITEsYSYmKHM9dD9bXToiIil9LGY9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYodCYmIWkmJihsPXMubGVuZ3RoLTEsdS5wdXNoKHQpKSxmdW5jdGlvbiBuKGUpe1MuZWFjaChlLGZ1bmN0aW9uKGUsdCl7bSh0KT9yLnVuaXF1ZSYmZi5oYXModCl8fHMucHVzaCh0KTp0JiZ0Lmxlbmd0aCYmInN0cmluZyIhPT13KHQpJiZuKHQpfSl9KGFyZ3VtZW50cyksdCYmIWkmJmMoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIFMuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgtMTwobj1TLmluQXJyYXkodCxzLG4pKSlzLnNwbGljZShuLDEpLG48PWwmJmwtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT8tMTxTLmluQXJyYXkoZSxzKTowPHMubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBhPXU9W10scz10PSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXN9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHR8fGl8fChzPXQ9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhYX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXx8KHQ9W2UsKHQ9dHx8W10pLnNsaWNlP3Quc2xpY2UoKTp0XSx1LnB1c2godCksaXx8YygpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFvfX07cmV0dXJuIGZ9LFMuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgbz1bWyJub3RpZnkiLCJwcm9ncmVzcyIsUy5DYWxsYmFja3MoIm1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0saT0icGVuZGluZyIsYT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihyKXtTLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPW0oaVt0WzRdXSkmJmlbdFs0XV07c1t0WzFdXShmdW5jdGlvbigpe3ZhciBlPW4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJm0oZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhyLm5vdGlmeSkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpOnJbdFswXSsiV2l0aCJdKHRoaXMsbj9bZV06YXJndW1lbnRzKX0pfSksaT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQsbixyKXt2YXIgdT0wO2Z1bmN0aW9uIGwoaSxvLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cyxlPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZighKGk8dSkpe2lmKChlPWEuYXBwbHkobixyKSk9PT1vLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTt0PWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSYmZS50aGVuLG0odCk/cz90LmNhbGwoZSxsKHUsbyxSLHMpLGwodSxvLE0scykpOih1KyssdC5jYWxsKGUsbCh1LG8sUixzKSxsKHUsbyxNLHMpLGwodSxvLFIsby5ub3RpZnlXaXRoKSkpOihhIT09UiYmKG49dm9pZCAwLHI9W2VdKSwoc3x8by5yZXNvbHZlV2l0aCkobixyKSl9fSx0PXM/ZTpmdW5jdGlvbigpe3RyeXtlKCl9Y2F0Y2goZSl7Uy5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soZSx0LnN0YWNrVHJhY2UpLHU8PWkrMSYmKGEhPT1NJiYobj12b2lkIDAscj1bZV0pLG8ucmVqZWN0V2l0aChuLHIpKX19O2k/dCgpOihTLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuc3RhY2tUcmFjZT1TLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxDLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihlKXtvWzBdWzNdLmFkZChsKDAsZSxtKHIpP3I6UixlLm5vdGlmeVdpdGgpKSxvWzFdWzNdLmFkZChsKDAsZSxtKHQpP3Q6UikpLG9bMl1bM10uYWRkKGwoMCxlLG0obik/bjpNKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/Uy5leHRlbmQoZSxhKTphfX0scz17fTtyZXR1cm4gUy5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdKyJXaXRoIl0odGhpcz09PXM/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxzW3RbMF0rIldpdGgiXT1uLmZpcmVXaXRofSksYS5wcm9taXNlKHMpLGUmJmUuY2FsbChzLHMpLHN9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCx0PW4scj1BcnJheSh0KSxpPXMuY2FsbChhcmd1bWVudHMpLG89Uy5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbdF09dGhpcyxpW3RdPTE8YXJndW1lbnRzLmxlbmd0aD9zLmNhbGwoYXJndW1lbnRzKTplLC0tbnx8by5yZXNvbHZlV2l0aChyLGkpfX07aWYobjw9MSYmKEkoZSxvLmRvbmUoYSh0KSkucmVzb2x2ZSxvLnJlamVjdCwhbiksInBlbmRpbmciPT09by5zdGF0ZSgpfHxtKGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pSShpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgVz0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtDLmNvbnNvbGUmJkMuY29uc29sZS53YXJuJiZlJiZXLnRlc3QoZS5uYW1lKSYmQy5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LFMucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oZSl7Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfTt2YXIgRj1TLkRlZmVycmVkKCk7ZnVuY3Rpb24gQigpe0UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixCKSxTLnJlYWR5KCl9Uy5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gRi50aGVuKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe1MucmVhZHlFeGNlcHRpb24oZSl9KSx0aGlzfSxTLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tUy5yZWFkeVdhaXQ6Uy5pc1JlYWR5KXx8KFMuaXNSZWFkeT0hMCkhPT1lJiYwPC0tUy5yZWFkeVdhaXR8fEYucmVzb2x2ZVdpdGgoRSxbU10pfX0pLFMucmVhZHkudGhlbj1GLnRoZW4sImNvbXBsZXRlIj09PUUucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09RS5yZWFkeVN0YXRlJiYhRS5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/Qy5zZXRUaW1lb3V0KFMucmVhZHkpOihFLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIpLEMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsQikpO3ZhciAkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe3ZhciBzPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoIm9iamVjdCI9PT13KG4pKWZvcihzIGluIGk9ITAsbikkKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLG0ocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoUyhlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxfPS9eLW1zLS8sej0vLShbYS16XSkvZztmdW5jdGlvbiBVKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBYKGUpe3JldHVybiBlLnJlcGxhY2UoXywibXMtIikucmVwbGFjZSh6LFUpfXZhciBWPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gRygpe3RoaXMuZXhwYW5kbz1TLmV4cGFuZG8rRy51aWQrK31HLnVpZD0xLEcucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFYoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW1godCldPW47ZWxzZSBmb3IociBpbiB0KWlbWChyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtYKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChYKToodD1YKHQpKWluIHI/W3RdOnQubWF0Y2goUCl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHxTLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFTLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgWT1uZXcgRyxRPW5ldyBHLEo9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxLPS9bQS1aXS9nO2Z1bmN0aW9uIFooZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShLLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Si50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fVEuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufVMuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBRLmhhc0RhdGEoZSl8fFkuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFEuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1EucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1kucmVtb3ZlKGUsdCl9fSksUy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1RLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVkuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9WChyLnNsaWNlKDUpKSxaKG8scixpW3JdKSk7WS5zZXQobywiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGl9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbil9KTokKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9US5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1aKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtRLnJlbW92ZSh0aGlzLGUpfSl9fSksUy5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihlKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLHI9WS5nZXQoZSx0KSxuJiYoIXJ8fEFycmF5LmlzQXJyYXkobik/cj1ZLmFjY2VzcyhlLHQsUy5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49Uy5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1TLl9xdWV1ZUhvb2tzKGUsdCk7ImlucHJvZ3Jlc3MiPT09aSYmKGk9bi5zaGlmdCgpLHItLSksaSYmKCJmeCI9PT10JiZuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLGZ1bmN0aW9uKCl7Uy5kZXF1ZXVlKGUsdCl9LG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIFkuZ2V0KGUsbil8fFkuYWNjZXNzKGUsbix7ZW1wdHk6Uy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7WS5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksUy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKHQsbil7dmFyIGU9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iZngiLGUtLSksYXJndW1lbnRzLmxlbmd0aDxlP1MucXVldWUodGhpc1swXSx0KTp2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Uy5xdWV1ZSh0aGlzLHQsbik7Uy5fcXVldWVIb29rcyh0aGlzLHQpLCJmeCI9PT10JiYiaW5wcm9ncmVzcyIhPT1lWzBdJiZTLmRlcXVldWUodGhpcyx0KX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9Uy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49WS5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgZWU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsdGU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK2VlKyIpKFthLXolXSopJCIsImkiKSxuZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHJlPUUuZG9jdW1lbnRFbGVtZW50LGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sb2U9e2NvbXBvc2VkOiEwfTtyZS5nZXRSb290Tm9kZSYmKGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8ZS5nZXRSb290Tm9kZShvZSk9PT1lLm93bmVyRG9jdW1lbnR9KTt2YXIgYWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibm9uZSI9PT0oZT10fHxlKS5zdHlsZS5kaXNwbGF5fHwiIj09PWUuc3R5bGUuZGlzcGxheSYmaWUoZSkmJiJub25lIj09PVMuY3NzKGUsImRpc3BsYXkiKX07ZnVuY3Rpb24gc2UoZSx0LG4scil7dmFyIGksbyxhPTIwLHM9cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBTLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChTLmNzc051bWJlclt0XT8iIjoicHgiKSxjPWUubm9kZVR5cGUmJihTLmNzc051bWJlclt0XXx8InB4IiE9PWwmJit1KSYmdGUuZXhlYyhTLmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pUy5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLFMuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgdWU9e307ZnVuY3Rpb24gbGUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKGxbY109WS5nZXQociwiZGlzcGxheSIpfHxudWxsLGxbY118fChyLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmYWUocikmJihsW2NdPSh1PWE9bz12b2lkIDAsYT0oaT1yKS5vd25lckRvY3VtZW50LHM9aS5ub2RlTmFtZSwodT11ZVtzXSl8fChvPWEuYm9keS5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQocykpLHU9Uy5jc3MobywiZGlzcGxheSIpLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSwibm9uZSI9PT11JiYodT0iYmxvY2siKSx1ZVtzXT11KSkpKToibm9uZSIhPT1uJiYobFtjXT0ibm9uZSIsWS5zZXQociwiZGlzcGxheSIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthZSh0aGlzKT9TKHRoaXMpLnNob3coKTpTKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBjZSxmZSxwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2k7Y2U9RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoRS5jcmVhdGVFbGVtZW50KCJkaXYiKSksKGZlPUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxmZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksZmUuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGNlLmFwcGVuZENoaWxkKGZlKSx5LmNoZWNrQ2xvbmU9Y2UuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGNlLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIseS5ub0Nsb25lQ2hlY2tlZD0hIWNlLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSxjZS5pbm5lckhUTUw9IjxvcHRpb24+PC9vcHRpb24+Iix5Lm9wdGlvbj0hIWNlLmxhc3RDaGlsZDt2YXIgZ2U9e3RoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB2ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmQShlLHQpP1MubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspWS5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fFkuZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9Z2UudGJvZHk9Z2UudGZvb3Q9Z2UuY29sZ3JvdXA9Z2UuY2FwdGlvbj1nZS50aGVhZCxnZS50aD1nZS50ZCx5Lm9wdGlvbnx8KGdlLm9wdGdyb3VwPWdlLm9wdGlvbj1bMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdKTt2YXIgbWU9Lzx8JiM/XHcrOy87ZnVuY3Rpb24geGUoZSx0LG4scixpKXtmb3IodmFyIG8sYSxzLHUsbCxjLGY9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1bXSxkPTAsaD1lLmxlbmd0aDtkPGg7ZCsrKWlmKChvPWVbZF0pfHwwPT09bylpZigib2JqZWN0Ij09PXcobykpUy5tZXJnZShwLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYobWUudGVzdChvKSl7YT1hfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KGRlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksdT1nZVtzXXx8Z2UuX2RlZmF1bHQsYS5pbm5lckhUTUw9dVsxXStTLmh0bWxQcmVmaWx0ZXIobykrdVsyXSxjPXVbMF07d2hpbGUoYy0tKWE9YS5sYXN0Q2hpbGQ7Uy5tZXJnZShwLGEuY2hpbGROb2RlcyksKGE9Zi5maXJzdENoaWxkKS50ZXh0Q29udGVudD0iIn1lbHNlIHAucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTtmLnRleHRDb250ZW50PSIiLGQ9MDt3aGlsZShvPXBbZCsrXSlpZihyJiYtMTxTLmluQXJyYXkobyxyKSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPWllKG8pLGE9dmUoZi5hcHBlbmRDaGlsZChvKSwic2NyaXB0IiksbCYmeWUoYSksbil7Yz0wO3doaWxlKG89YVtjKytdKWhlLnRlc3Qoby50eXBlfHwiIikmJm4ucHVzaChvKX1yZXR1cm4gZn12YXIgYmU9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHdlKCl7cmV0dXJuITB9ZnVuY3Rpb24gVGUoKXtyZXR1cm4hMX1mdW5jdGlvbiBDZShlLHQpe3JldHVybiBlPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEUuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fSgpPT0oImZvY3VzIj09PXQpfWZ1bmN0aW9uIEVlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApLHQpRWUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9VGU7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIFMoKS5vZmYoZSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPWEuZ3VpZHx8KGEuZ3VpZD1TLmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX1mdW5jdGlvbiBTZShlLGksbyl7bz8oWS5zZXQoZSxpLCExKSxTLmV2ZW50LmFkZChlLGkse25hbWVzcGFjZTohMSxoYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1ZLmdldCh0aGlzLGkpO2lmKDEmZS5pc1RyaWdnZXImJnRoaXNbaV0pe2lmKHIubGVuZ3RoKShTLmV2ZW50LnNwZWNpYWxbaV18fHt9KS5kZWxlZ2F0ZVR5cGUmJmUuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihyPXMuY2FsbChhcmd1bWVudHMpLFkuc2V0KHRoaXMsaSxyKSx0PW8odGhpcyxpKSx0aGlzW2ldKCksciE9PShuPVkuZ2V0KHRoaXMsaSkpfHx0P1kuc2V0KHRoaXMsaSwhMSk6bj17fSxyIT09bilyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksbiYmbi52YWx1ZX1lbHNlIHIubGVuZ3RoJiYoWS5zZXQodGhpcyxpLHt2YWx1ZTpTLmV2ZW50LnRyaWdnZXIoUy5leHRlbmQoclswXSxTLkV2ZW50LnByb3RvdHlwZSksci5zbGljZSgxKSx0aGlzKX0pLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX0pKTp2b2lkIDA9PT1ZLmdldChlLGkpJiZTLmV2ZW50LmFkZChlLGksd2UpfVMuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5nZXQodCk7aWYoVih0KSl7bi5oYW5kbGVyJiYobj0obz1uKS5oYW5kbGVyLGk9by5zZWxlY3RvciksaSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihyZSxpKSxuLmd1aWR8fChuLmd1aWQ9Uy5ndWlkKyspLCh1PXYuZXZlbnRzKXx8KHU9di5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFMmJlMuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP1MuZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9YmUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9Uy5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmUy5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwodCxyLGgsYSl8fHQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbCh0LGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxTLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5oYXNEYXRhKGUpJiZZLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlpZihkPWc9KHM9YmUuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtmPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fFMucmVtb3ZlRXZlbnQoZSxkLHYuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KVMuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7Uy5pc0VtcHR5T2JqZWN0KHUpJiZZLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdT1TLmV2ZW50LmZpeChlKSxsPShZLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdS50eXBlXXx8W10sYz1TLmV2ZW50LnNwZWNpYWxbdS50eXBlXXx8e307Zm9yKHNbMF09dSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylzW3RdPWFyZ3VtZW50c1t0XTtpZih1LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fCExIT09Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdSkpe2E9Uy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdSxsKSx0PTA7d2hpbGUoKGk9YVt0KytdKSYmIXUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7d2hpbGUoKG89aS5oYW5kbGVyc1tuKytdKSYmIXUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl1LnJuYW1lc3BhY2UmJiExIT09by5uYW1lc3BhY2UmJiF1LnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fCh1LmhhbmRsZU9iaj1vLHUuZGF0YT1vLmRhdGEsdm9pZCAwIT09KHI9KChTLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLHMpKSYmITE9PT0odS5yZXN1bHQ9cikmJih1LnByZXZlbnREZWZhdWx0KCksdS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHUpLHUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJjE8PWUuYnV0dG9uKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/LTE8UyhpLHRoaXMpLmluZGV4KGwpOlMuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShTLkV2ZW50LnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6bShlKT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gZSh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W3RdfSxzZXQ6ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbUy5leHBhbmRvXT9lOm5ldyBTLkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIsd2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtyZXR1cm4gcGUudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZBKHQsImlucHV0IikmJlkuZ2V0KHQsImNsaWNrIil8fEEodCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LFMucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LFMuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBTLkV2ZW50KSlyZXR1cm4gbmV3IFMuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT93ZTpUZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZTLmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbUy5leHBhbmRvXT0hMH0sUy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlMuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOlRlLGlzUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sUy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjb2RlOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOiEwfSxTLmV2ZW50LmFkZFByb3ApLFMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtTLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIFNlKHRoaXMsZSxDZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gU2UodGhpcyxlKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGVsZWdhdGVUeXBlOnR9fSksUy5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe1MuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxTLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxTLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEVlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRWUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosUyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49VGUpLHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLEFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLE5lPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBqZShlLHQpe3JldHVybiBBKGUsInRhYmxlIikmJkEoMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpJiZTKGUpLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxlfWZ1bmN0aW9uIERlKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gcWUoZSl7cmV0dXJuInRydWUvIj09PShlLnR5cGV8fCIiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIExlKGUsdCl7dmFyIG4scixpLG8sYSxzO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihZLmhhc0RhdGEoZSkmJihzPVkuZ2V0KGUpLmV2ZW50cykpZm9yKGkgaW4gWS5yZW1vdmUodCwiaGFuZGxlIGV2ZW50cyIpLHMpZm9yKG49MCxyPXNbaV0ubGVuZ3RoO248cjtuKyspUy5ldmVudC5hZGQodCxpLHNbaV1bbl0pO1EuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1TLmV4dGVuZCh7fSxvKSxRLnNldCh0LGEpKX19ZnVuY3Rpb24gSGUobixyLGksbyl7cj1nKHIpO3ZhciBlLHQsYSxzLHUsbCxjPTAsZj1uLmxlbmd0aCxwPWYtMSxkPXJbMF0saD1tKGQpO2lmKGh8fDE8ZiYmInN0cmluZyI9PXR5cGVvZiBkJiYheS5jaGVja0Nsb25lJiZBZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksSGUodCxyLGksbyl9KTtpZihmJiYodD0oZT14ZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Uy5tYXAodmUoZSwic2NyaXB0IiksRGUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PVMuY2xvbmUodSwhMCwhMCkscyYmUy5tZXJnZShhLHZlKHUsInNjcmlwdCIpKSksaS5jYWxsKG5bY10sdSxjKTtpZihzKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxTLm1hcChhLHFlKSxjPTA7YzxzO2MrKyl1PWFbY10saGUudGVzdCh1LnR5cGV8fCIiKSYmIVkuYWNjZXNzKHUsImdsb2JhbEV2YWwiKSYmUy5jb250YWlucyhsLHUpJiYodS5zcmMmJiJtb2R1bGUiIT09KHUudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/Uy5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJlMuX2V2YWxVcmwodS5zcmMse25vbmNlOnUubm9uY2V8fHUuZ2V0QXR0cmlidXRlKCJub25jZSIpfSxsKTpiKHUudGV4dENvbnRlbnQucmVwbGFjZShOZSwiIiksdSxsKSl9cmV0dXJuIG59ZnVuY3Rpb24gT2UoZSx0LG4pe2Zvcih2YXIgcixpPXQ/Uy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fFMuY2xlYW5EYXRhKHZlKHIpKSxyLnBhcmVudE5vZGUmJihuJiZpZShyKSYmeWUodmUociwic2NyaXB0IikpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSk7cmV0dXJuIGV9Uy5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPWllKGUpO2lmKCEoeS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Uy5pc1hNTERvYyhlKSkpZm9yKGE9dmUoYykscj0wLGk9KG89dmUoZSkpLmxlbmd0aDtyPGk7cisrKXM9b1tyXSx1PWFbcl0sdm9pZCAwLCJpbnB1dCI9PT0obD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZwZS50ZXN0KHMudHlwZSk/dS5jaGVja2VkPXMuY2hlY2tlZDoiaW5wdXQiIT09bCYmInRleHRhcmVhIiE9PWx8fCh1LmRlZmF1bHRWYWx1ZT1zLmRlZmF1bHRWYWx1ZSk7aWYodClpZihuKWZvcihvPW98fHZlKGUpLGE9YXx8dmUoYykscj0wLGk9by5sZW5ndGg7cjxpO3IrKylMZShvW3JdLGFbcl0pO2Vsc2UgTGUoZSxjKTtyZXR1cm4gMDwoYT12ZShjLCJzY3JpcHQiKSkubGVuZ3RoJiZ5ZShhLCFmJiZ2ZShlLCJzY3JpcHQiKSksY30sY2xlYW5EYXRhOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT1TLmV2ZW50LnNwZWNpYWwsbz0wO3ZvaWQgMCE9PShuPWVbb10pO28rKylpZihWKG4pKXtpZih0PW5bWS5leHBhbmRvXSl7aWYodC5ldmVudHMpZm9yKHIgaW4gdC5ldmVudHMpaVtyXT9TLmV2ZW50LnJlbW92ZShuLHIpOlMucmVtb3ZlRXZlbnQobixyLHQuaGFuZGxlKTtuW1kuZXhwYW5kb109dm9pZCAwfW5bUS5leHBhbmRvXSYmKG5bUS5leHBhbmRvXT12b2lkIDApfX19KSxTLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9lKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9TLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fGplKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9amUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoUy5jbGVhbkRhdGEodmUoZSwhMSkpLGUudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBTLmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIWtlLnRlc3QoZSkmJiFnZVsoZGUuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9Uy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50Tm9kZTtTLmluQXJyYXkodGhpcyxuKTwwJiYoUy5jbGVhbkRhdGEodmUodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxTLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLGEpe1MuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10scj1TKGUpLGk9ci5sZW5ndGgtMSxvPTA7bzw9aTtvKyspdD1vPT09aT90aGlzOnRoaXMuY2xvbmUoITApLFMocltvXSlbYV0odCksdS5hcHBseShuLHQuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUGU9bmV3IFJlZ0V4cCgiXigiK2VlKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksUmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9QyksdC5nZXRDb21wdXRlZFN0eWxlKGUpfSxNZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9O2ZvcihpIGluIHQpb1tpXT1lLnN0eWxlW2ldLGUuc3R5bGVbaV09dFtpXTtmb3IoaSBpbiByPW4uY2FsbChlKSx0KWUuc3R5bGVbaV09b1tpXTtyZXR1cm4gcn0sSWU9bmV3IFJlZ0V4cChuZS5qb2luKCJ8IiksImkiKTtmdW5jdGlvbiBXZShlLHQsbil7dmFyIHIsaSxvLGEscz1lLnN0eWxlO3JldHVybihuPW58fFJlKGUpKSYmKCIiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8aWUoZSl8fChhPVMuc3R5bGUoZSx0KSksIXkucGl4ZWxCb3hTdHlsZXMoKSYmUGUudGVzdChhKSYmSWUudGVzdCh0KSYmKHI9cy53aWR0aCxpPXMubWluV2lkdGgsbz1zLm1heFdpZHRoLHMubWluV2lkdGg9cy5tYXhXaWR0aD1zLndpZHRoPWEsYT1uLndpZHRoLHMud2lkdGg9cixzLm1pbldpZHRoPWkscy5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hKyIiOmF9ZnVuY3Rpb24gRmUoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIWUoKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fSFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihsKXt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSIscmUuYXBwZW5kQ2hpbGQodSkuYXBwZW5kQ2hpbGQobCk7dmFyIGU9Qy5nZXRDb21wdXRlZFN0eWxlKGwpO249IjElIiE9PWUudG9wLHM9MTI9PT10KGUubWFyZ2luTGVmdCksbC5zdHlsZS5yaWdodD0iNjAlIixvPTM2PT09dChlLnJpZ2h0KSxyPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxyZS5yZW1vdmVDaGlsZCh1KSxsPW51bGx9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIG4scixpLG8sYSxzLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKSxsPUUuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZSYmKGwuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixsLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIseS5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWwuc3R5bGUuYmFja2dyb3VuZENsaXAsUy5leHRlbmQoeSx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHJ9LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxvfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxufSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGl9LHJlbGlhYmxlVHJEaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7cmV0dXJuIG51bGw9PWEmJihlPUUuY3JlYXRlRWxlbWVudCgidGFibGUiKSx0PUUuY3JlYXRlRWxlbWVudCgidHIiKSxuPUUuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZSIsdC5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MXB4IHNvbGlkIix0LnN0eWxlLmhlaWdodD0iMXB4IixuLnN0eWxlLmhlaWdodD0iOXB4IixuLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixyZS5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPUMuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxhPXBhcnNlSW50KHIuaGVpZ2h0LDEwKStwYXJzZUludChyLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChyLmJvcmRlckJvdHRvbVdpZHRoLDEwKT09PXQub2Zmc2V0SGVpZ2h0LHJlLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgQmU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLCRlPUUuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsX2U9e307ZnVuY3Rpb24gemUoZSl7dmFyIHQ9Uy5jc3NQcm9wc1tlXXx8X2VbZV07cmV0dXJuIHR8fChlIGluICRlP2U6X2VbZV09ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1CZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUJlW25dK3QpaW4gJGUpcmV0dXJuIGV9KGUpfHxlKX12YXIgVWU9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFhlPS9eLS0vLFZlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxHZT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07ZnVuY3Rpb24gWWUoZSx0LG4pe3ZhciByPXRlLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gUWUoZSx0LG4scixpLG8pe3ZhciBhPSJ3aWR0aCI9PT10PzE6MCxzPTAsdT0wO2lmKG49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpIm1hcmdpbiI9PT1uJiYodSs9Uy5jc3MoZSxuK25lW2FdLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYodS09Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSkpLCJtYXJnaW4iIT09biYmKHUtPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKSkpOih1Kz1TLmNzcyhlLCJwYWRkaW5nIituZVthXSwhMCxpKSwicGFkZGluZyIhPT1uP3UrPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKTpzKz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpO3JldHVybiFyJiYwPD1vJiYodSs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVsib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tby11LXMtLjUpKXx8MCksdX1mdW5jdGlvbiBKZShlLHQsbil7dmFyIHI9UmUoZSksaT0oIXkuYm94U2l6aW5nUmVsaWFibGUoKXx8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsciksbz1pLGE9V2UoZSx0LHIpLHM9Im9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYoUGUudGVzdChhKSl7aWYoIW4pcmV0dXJuIGE7YT0iYXV0byJ9cmV0dXJuKCF5LmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCF5LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkmJkEoZSwidHIiKXx8ImF1dG8iPT09YXx8IXBhcnNlRmxvYXQoYSkmJiJpbmxpbmUiPT09Uy5jc3MoZSwiZGlzcGxheSIsITEscikpJiZlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoaT0iYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLChvPXMgaW4gZSkmJihhPWVbc10pKSwoYT1wYXJzZUZsb2F0KGEpfHwwKStRZShlLHQsbnx8KGk/ImJvcmRlciI6ImNvbnRlbnQiKSxvLHIsYSkrInB4In1mdW5jdGlvbiBLZShlLHQsbixyLGkpe3JldHVybiBuZXcgS2UucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1TLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPVdlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9WCh0KSx1PVhlLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PXplKHMpKSxhPVMuY3NzSG9va3NbdF18fFMuY3NzSG9va3Nbc10sdm9pZCAwPT09bilyZXR1cm4gYSYmImdldCJpbiBhJiZ2b2lkIDAhPT0oaT1hLmdldChlLCExLHIpKT9pOmxbdF07InN0cmluZyI9PT0obz10eXBlb2YgbikmJihpPXRlLmV4ZWMobikpJiZpWzFdJiYobj1zZShlLHQsaSksbz0ibnVtYmVyIiksbnVsbCE9biYmbj09biYmKCJudW1iZXIiIT09b3x8dXx8KG4rPWkmJmlbM118fChTLmNzc051bWJlcltzXT8iIjoicHgiKSkseS5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobFt0XT0iaW5oZXJpdCIpLGEmJiJzZXQiaW4gYSYmdm9pZCAwPT09KG49YS5zZXQoZSxuLHIpKXx8KHU/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPVgodCk7cmV0dXJuIFhlLnRlc3QodCl8fCh0PXplKHMpKSwoYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdKSYmImdldCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1XZShlLHQscikpLCJub3JtYWwiPT09aSYmdCBpbiBHZSYmKGk9R2VbdF0pLCIiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLCEwPT09bnx8aXNGaW5pdGUobyk/b3x8MDppKTppfX0pLFMuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx1KXtTLmNzc0hvb2tzW3VdPXtnZXQ6ZnVuY3Rpb24oZSx0LG4pe2lmKHQpcmV0dXJuIVVlLnRlc3QoUy5jc3MoZSwiZGlzcGxheSIpKXx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9KZShlLHUsbik6TWUoZSxWZSxmdW5jdGlvbigpe3JldHVybiBKZShlLHUsbil9KX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPVJlKGUpLG89IXkuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09aS5wb3NpdGlvbixhPShvfHxuKSYmImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSxzPW4/UWUoZSx1LG4sYSxpKTowO3JldHVybiBhJiZvJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdVswXS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSldLXBhcnNlRmxvYXQoaVt1XSktUWUoZSx1LCJib3JkZXIiLCExLGkpLS41KSkscyYmKHI9dGUuZXhlYyh0KSkmJiJweCIhPT0oclszXXx8InB4IikmJihlLnN0eWxlW3VdPXQsdD1TLmNzcyhlLHUpKSxZZSgwLHQscyl9fX0pLFMuY3NzSG9va3MubWFyZ2luTGVmdD1GZSh5LnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoV2UoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LU1lKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSxTLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihpLG8pe1MuY3NzSG9va3NbaStvXT17ZXhwYW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49e30scj0ic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiICIpOltlXTt0PDQ7dCsrKW5baStuZVt0XStvXT1yW3RdfHxyW3QtMl18fHJbMF07cmV0dXJuIG59fSwibWFyZ2luIiE9PWkmJihTLmNzc0hvb2tzW2krb10uc2V0PVllKX0pLFMuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPVJlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPVMuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9TLnN0eWxlKGUsdCxuKTpTLmNzcyhlLHQpfSxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KSwoKFMuVHdlZW49S2UpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2UsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8Uy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fChTLmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9S2UucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOktlLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPUtlLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1TLmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6S2UucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPUtlLnByb3RvdHlwZSwoS2UucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9Uy5jc3MoZS5lbGVtLGUucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe1MuZnguc3RlcFtlLnByb3BdP1MuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fCFTLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVt6ZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpTLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSkuc2Nyb2xsVG9wPUtlLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LFMuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn0sUy5meD1LZS5wcm90b3R5cGUuaW5pdCxTLmZ4LnN0ZXA9e307dmFyIFplLGV0LHR0LG50LHJ0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxpdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIG90KCl7ZXQmJighMT09PUUuaGlkZGVuJiZDLnJlcXVlc3RBbmltYXRpb25GcmFtZT9DLnJlcXVlc3RBbmltYXRpb25GcmFtZShvdCk6Qy5zZXRUaW1lb3V0KG90LFMuZnguaW50ZXJ2YWwpLFMuZngudGljaygpKX1mdW5jdGlvbiBhdCgpe3JldHVybiBDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtaZT12b2lkIDB9KSxaZT1EYXRlLm5vdygpfWZ1bmN0aW9uIHN0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbIm1hcmdpbiIrKG49bmVbcl0pXT1pWyJwYWRkaW5nIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiB1dChlLHQsbil7Zm9yKHZhciByLGk9KGx0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KGx0LnR3ZWVuZXJzWyIqIl0pLG89MCxhPWkubGVuZ3RoO288YTtvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGx0KG8sZSx0KXt2YXIgbixhLHI9MCxpPWx0LnByZWZpbHRlcnMubGVuZ3RoLHM9Uy5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9WmV8fGF0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpTLmV4dGVuZCh7fSxlKSxvcHRzOlMuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpTLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOlplfHxhdCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5Ud2VlbihvLGwub3B0cyxlLHQsbC5vcHRzLnNwZWNpYWxFYXNpbmdbZV18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKG4pLG59LHN0b3A6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWU/bC50d2VlbnMubGVuZ3RoOjA7aWYoYSlyZXR1cm4gdGhpcztmb3IoYT0hMDt0PG47dCsrKWwudHdlZW5zW3RdLnJ1bigxKTtyZXR1cm4gZT8ocy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsLGVdKSk6cy5yZWplY3RXaXRoKG8sW2wsZV0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcighZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhO2ZvcihuIGluIGUpaWYoaT10W3I9WChuKV0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT1TLmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKWZvcihuIGluIG89YS5leHBhbmQobyksZGVsZXRlIGVbcl0sbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cjxpO3IrKylpZihuPWx0LnByZWZpbHRlcnNbcl0uY2FsbChsLG8sYyxsLm9wdHMpKXJldHVybiBtKG4uc3RvcCkmJihTLl9xdWV1ZUhvb2tzKGwuZWxlbSxsLm9wdHMucXVldWUpLnN0b3A9bi5zdG9wLmJpbmQobikpLG47cmV0dXJuIFMubWFwKGMsdXQsbCksbShsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChvLGwpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpLFMuZngudGltZXIoUy5leHRlbmQodSx7ZWxlbTpvLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbH1TLkFuaW1hdGlvbj1TLmV4dGVuZChsdCx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHNlKG4uZWxlbSxlLHRlLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7bShlKT8odD1lLGU9WyIqIl0pOmU9ZS5tYXRjaChQKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWVbcl0sbHQudHdlZW5lcnNbbl09bHQudHdlZW5lcnNbbl18fFtdLGx0LnR3ZWVuZXJzW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjLGY9IndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCxwPXRoaXMsZD17fSxoPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZhZShlKSx2PVkuZ2V0KGUsImZ4c2hvdyIpO2ZvcihyIGluIG4ucXVldWV8fChudWxsPT0oYT1TLl9xdWV1ZUhvb2tzKGUsImZ4IikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHM9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHMoKX0pLGEudW5xdWV1ZWQrKyxwLmFsd2F5cyhmdW5jdGlvbigpe3AuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLFMucXVldWUoZSwiZngiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihpPXRbcl0scnQudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShnPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Uy5zdHlsZShlLHIpfWlmKCh1PSFTLmlzRW1wdHlPYmplY3QodCkpfHwhUy5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9WS5nZXQoZSwiZGlzcGxheSIpKSwibm9uZSI9PT0oYz1TLmNzcyhlLCJkaXNwbGF5IikpJiYobD9jPWw6KGxlKFtlXSwhMCksbD1lLnN0eWxlLmRpc3BsYXl8fGwsYz1TLmNzcyhlLCJkaXNwbGF5IiksbGUoW2VdKSkpLCgiaW5saW5lIj09PWN8fCJpbmxpbmUtYmxvY2siPT09YyYmbnVsbCE9bCkmJiJub25lIj09PVMuY3NzKGUsImZsb2F0IikmJih1fHwocC5kb25lKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1oLmRpc3BsYXksbD0ibm9uZSI9PT1jPyIiOmMpKSxoLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYoaC5vdmVyZmxvdz0iaGlkZGVuIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2PyJoaWRkZW4iaW4gdiYmKGc9di5oaWRkZW4pOnY9WS5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpsfSksbyYmKHYuaGlkZGVuPSFnKSxnJiZsZShbZV0sITApLHAuZG9uZShmdW5jdGlvbigpe2ZvcihyIGluIGd8fGxlKFtlXSksWS5yZW1vdmUoZSwiZnhzaG93IiksZClTLnN0eWxlKGUscixkW3JdKX0pKSx1PXV0KGc/dltyXTowLHIscCksciBpbiB2fHwodltyXT11LnN0YXJ0LGcmJih1LmVuZD11LnN0YXJ0LHUuc3RhcnQ9MCkpfV0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9sdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6bHQucHJlZmlsdGVycy5wdXNoKGUpfX0pLFMuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT9TLmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fG0oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIW0odCkmJnR9O3JldHVybiBTLmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiBTLmZ4LnNwZWVkcz9yLmR1cmF0aW9uPVMuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249Uy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bShyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmUy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LFMuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1TLmlzRW1wdHlPYmplY3QodCksbz1TLnNwZWVkKGUsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIGU9bHQodGhpcyxTLmV4dGVuZCh7fSx0KSxvKTsoaXx8WS5nZXQodGhpcywiZmluaXNoIikpJiZlLnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihpLGUsbyl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChvKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0hMCx0PW51bGwhPWkmJmkrInF1ZXVlSG9va3MiLG49Uy50aW1lcnMscj1ZLmdldCh0aGlzKTtpZih0KXJbdF0mJnJbdF0uc3RvcCYmYShyW3RdKTtlbHNlIGZvcih0IGluIHIpclt0XSYmclt0XS5zdG9wJiZpdC50ZXN0KHQpJiZhKHJbdF0pO2Zvcih0PW4ubGVuZ3RoO3QtLTspblt0XS5lbGVtIT09dGhpc3x8bnVsbCE9aSYmblt0XS5xdWV1ZSE9PWl8fChuW3RdLmFuaW0uc3RvcChvKSxlPSExLG4uc3BsaWNlKHQsMSkpOyFlJiZvfHxTLmRlcXVldWUodGhpcyxpKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuITEhPT1hJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0PVkuZ2V0KHRoaXMpLG49dFthKyJxdWV1ZSJdLHI9dFthKyJxdWV1ZUhvb2tzIl0saT1TLnRpbWVycyxvPW4/bi5sZW5ndGg6MDtmb3IodC5maW5pc2g9ITAsUy5xdWV1ZSh0aGlzLGEsW10pLHImJnIuc3RvcCYmci5zdG9wLmNhbGwodGhpcywhMCksZT1pLmxlbmd0aDtlLS07KWlbZV0uZWxlbT09PXRoaXMmJmlbZV0ucXVldWU9PT1hJiYoaVtlXS5hbmltLnN0b3AoITApLGkuc3BsaWNlKGUsMSkpO2ZvcihlPTA7ZTxvO2UrKyluW2VdJiZuW2VdLmZpbmlzaCYmbltlXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgdC5maW5pc2h9KX19KSxTLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUscil7dmFyIGk9Uy5mbltyXTtTLmZuW3JdPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoc3QociwhMCksZSx0LG4pfX0pLFMuZWFjaCh7c2xpZGVEb3duOnN0KCJzaG93Iiksc2xpZGVVcDpzdCgiaGlkZSIpLHNsaWRlVG9nZ2xlOnN0KCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUscil7Uy5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxTLnRpbWVycz1bXSxTLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj1TLnRpbWVycztmb3IoWmU9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxTLmZ4LnN0b3AoKSxaZT12b2lkIDB9LFMuZngudGltZXI9ZnVuY3Rpb24oZSl7Uy50aW1lcnMucHVzaChlKSxTLmZ4LnN0YXJ0KCl9LFMuZnguaW50ZXJ2YWw9MTMsUy5meC5zdGFydD1mdW5jdGlvbigpe2V0fHwoZXQ9ITAsb3QoKSl9LFMuZnguc3RvcD1mdW5jdGlvbigpe2V0PW51bGx9LFMuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LFMuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1TLmZ4JiZTLmZ4LnNwZWVkc1tyXXx8cixlPWV8fCJmeCIsdGhpcy5xdWV1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49Qy5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7Qy5jbGVhclRpbWVvdXQobil9fSl9LHR0PUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxudD1FLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLHR0LnR5cGU9ImNoZWNrYm94Iix5LmNoZWNrT249IiIhPT10dC52YWx1ZSx5Lm9wdFNlbGVjdGVkPW50LnNlbGVjdGVkLCh0dD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0Iix0dC50eXBlPSJyYWRpbyIseS5yYWRpb1ZhbHVlPSJ0Ij09PXR0LnZhbHVlO3ZhciBjdCxmdD1TLmV4cHIuYXR0ckhhbmRsZTtTLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsUy5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/Uy5wcm9wKGUsdCxuKTooMT09PW8mJlMuaXNYTUxEb2MoZSl8fChpPVMuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChTLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP2N0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCBTLnJlbW92ZUF0dHIoZSx0KTppJiYic2V0ImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPVMuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmQShlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goUCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksY3Q9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P1MucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LFMuZWFjaChTLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBhPWZ0W3RdfHxTLmZpbmQuYXR0cjtmdFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9ZnRbb10sZnRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCxmdFtvXT1pKSxyfX0pO3ZhciBwdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGR0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBodChlKXtyZXR1cm4oZS5tYXRjaChQKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBndChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiB2dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChQKXx8W119Uy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbUy5wcm9wRml4W2VdfHxlXX0pfX0pLFMuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmUy5pc1hNTERvYyhlKXx8KHQ9Uy5wcm9wRml4W3RdfHx0LGk9Uy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6cHQudGVzdChlLm5vZGVOYW1lKXx8ZHQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSkseS5vcHRTZWxlY3RlZHx8KFMucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxTLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe1MucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxTLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLmFkZENsYXNzKHQuY2FsbCh0aGlzLGUsZ3QodGhpcykpKX0pO2lmKChlPXZ0KHQpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1ndChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIraHQoaSkrIiAiKXthPTA7d2hpbGUobz1lW2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9aHQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1PTA7aWYobSh0KSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1ModGhpcykucmVtb3ZlQ2xhc3ModC5jYWxsKHRoaXMsZSxndCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigoZT12dCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9Z3Qobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK2h0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXdoaWxlKC0xPHIuaW5kZXhPZigiICIrbysiICIpKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz1odChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGksdCl7dmFyIG89dHlwZW9mIGksYT0ic3RyaW5nIj09PW98fEFycmF5LmlzQXJyYXkoaSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmYT90P3RoaXMuYWRkQ2xhc3MoaSk6dGhpcy5yZW1vdmVDbGFzcyhpKTptKGkpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnRvZ2dsZUNsYXNzKGkuY2FsbCh0aGlzLGUsZ3QodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtpZihhKXt0PTAsbj1TKHRoaXMpLHI9dnQoaSk7d2hpbGUoZT1yW3QrK10pbi5oYXNDbGFzcyhlKT9uLnJlbW92ZUNsYXNzKGUpOm4uYWRkQ2xhc3MoZSl9ZWxzZSB2b2lkIDAhPT1pJiYiYm9vbGVhbiIhPT1vfHwoKGU9Z3QodGhpcykpJiZZLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlfHwhMT09PWk/IiI6WS5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoIiAiK2h0KGd0KG4pKSsiICIpLmluZGV4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHl0PS9cci9nO1MuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHIsZSxpLHQ9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1tKG4pLHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgdDsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh0PWk/bi5jYWxsKHRoaXMsZSxTKHRoaXMpLnZhbCgpKTpuKT90PSIiOiJudW1iZXIiPT10eXBlb2YgdD90Kz0iIjpBcnJheS5pc0FycmF5KHQpJiYodD1TLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHI9Uy52YWxIb29rc1t0aGlzLnR5cGVdfHxTLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHImJnZvaWQgMCE9PXIuc2V0KHRoaXMsdCwidmFsdWUiKXx8KHRoaXMudmFsdWU9dCkpfSkpOnQ/KHI9Uy52YWxIb29rc1t0LnR5cGVdfHxTLnZhbEhvb2tzW3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHImJnZvaWQgMCE9PShlPXIuZ2V0KHQsInZhbHVlIikpP2U6InN0cmluZyI9PXR5cGVvZihlPXQudmFsdWUpP2UucmVwbGFjZSh5dCwiIik6bnVsbD09ZT8iIjplOnZvaWQgMH19KSxTLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpodChTLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9ZS5vcHRpb25zLG89ZS5zZWxlY3RlZEluZGV4LGE9InNlbGVjdC1vbmUiPT09ZS50eXBlLHM9YT9udWxsOltdLHU9YT9vKzE6aS5sZW5ndGg7Zm9yKHI9bzwwP3U6YT9vOjA7cjx1O3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhQShuLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih0PVMobikudmFsKCksYSlyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLm9wdGlvbnMsbz1TLm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO3doaWxlKGEtLSkoKHI9aVthXSkuc2VsZWN0ZWQ9LTE8Uy5pbkFycmF5KFMudmFsSG9va3Mub3B0aW9uLmdldChyKSxvKSkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLFMuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe1MudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD0tMTxTLmluQXJyYXkoUyhlKS52YWwoKSx0KX19LHkuY2hlY2tPbnx8KFMudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KSx5LmZvY3VzaW49Im9uZm9jdXNpbiJpbiBDO3ZhciBtdD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8seHQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07Uy5leHRlbmQoUy5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmLHA9W258fEVdLGQ9di5jYWxsKGUsInR5cGUiKT9lLnR5cGU6ZSxoPXYuY2FsbChlLCJuYW1lc3BhY2UiKT9lLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKG89Zj1hPW49bnx8RSwzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJiFtdC50ZXN0KGQrUy5ldmVudC50cmlnZ2VyZWQpJiYoLTE8ZC5pbmRleE9mKCIuIikmJihkPShoPWQuc3BsaXQoIi4iKSkuc2hpZnQoKSxoLnNvcnQoKSksdT1kLmluZGV4T2YoIjoiKTwwJiYib24iK2QsKGU9ZVtTLmV4cGFuZG9dP2U6bmV3IFMuRXZlbnQoZCwib2JqZWN0Ij09dHlwZW9mIGUmJmUpKS5pc1RyaWdnZXI9cj8yOjMsZS5uYW1lc3BhY2U9aC5qb2luKCIuIiksZS5ybmFtZXNwYWNlPWUubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxlLnJlc3VsdD12b2lkIDAsZS50YXJnZXR8fChlLnRhcmdldD1uKSx0PW51bGw9PXQ/W2VdOlMubWFrZUFycmF5KHQsW2VdKSxjPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXgobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLG10LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEUpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fEMpfWk9MDt3aGlsZSgobz1wW2krK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWY9byxlLnR5cGU9MTxpP3M6Yy5iaW5kVHlwZXx8ZCwobD0oWS5nZXQobywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJlkuZ2V0KG8sImhhbmRsZSIpKSYmbC5hcHBseShvLHQpLChsPXUmJm9bdV0pJiZsLmFwcGx5JiZWKG8pJiYoZS5yZXN1bHQ9bC5hcHBseShvLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1kLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMuX2RlZmF1bHQmJiExIT09Yy5fZGVmYXVsdC5hcHBseShwLnBvcCgpLHQpfHwhVihuKXx8dSYmbShuW2RdKSYmIXgobikmJigoYT1uW3VdKSYmKG5bdV09bnVsbCksUy5ldmVudC50cmlnZ2VyZWQ9ZCxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYuYWRkRXZlbnRMaXN0ZW5lcihkLHh0KSxuW2RdKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCx4dCksUy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW3VdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TLmV4dGVuZChuZXcgUy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtTLmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLFMuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIFMuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSkseS5mb2N1c2lufHxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7Uy5ldmVudC5zaW11bGF0ZShyLGUudGFyZ2V0LFMuZXZlbnQuZml4KGUpKX07Uy5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyx0PVkuYWNjZXNzKGUscik7dHx8ZS5hZGRFdmVudExpc3RlbmVyKG4saSwhMCksWS5hY2Nlc3MoZSxyLCh0fHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpLTE7dD9ZLmFjY2VzcyhlLHIsdCk6KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksITApLFkucmVtb3ZlKGUscikpfX19KTt2YXIgYnQ9Qy5sb2NhdGlvbix3dD17Z3VpZDpEYXRlLm5vdygpfSxUdD0vXD8vO1MucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXt0PShuZXcgQy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe31yZXR1cm4gbj10JiZ0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdLHQmJiFufHxTLmVycm9yKCJJbnZhbGlkIFhNTDogIisobj9TLm1hcChuLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dENvbnRlbnR9KS5qb2luKCJcbiIpOmUpKSx0fTt2YXIgQ3Q9L1xbXF0kLyxFdD0vXHI/XG4vZyxTdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksa3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEF0KG4sZSxyLGkpe3ZhciB0O2lmKEFycmF5LmlzQXJyYXkoZSkpUy5lYWNoKGUsZnVuY3Rpb24oZSx0KXtyfHxDdC50ZXN0KG4pP2kobix0KTpBdChuKyJbIisoIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10P2U6IiIpKyJdIix0LHIsaSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dyhlKSlpKG4sZSk7ZWxzZSBmb3IodCBpbiBlKUF0KG4rIlsiK3QrIl0iLGVbdF0scixpKX1TLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49bSh0KT90KCk6dDtyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uPyIiOm4pfTtpZihudWxsPT1lKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhUy5pc1BsYWluT2JqZWN0KGUpKVMuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpQXQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSxTLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIFMucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1TLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT9TLm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFTKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYma3QudGVzdCh0aGlzLm5vZGVOYW1lKSYmIVN0LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPVModGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP1MubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShFdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoRXQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgTnQ9LyUyMC9nLGp0PS8jLiokLyxEdD0vKFs/Jl0pXz1bXiZdKi8scXQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxMdD0vXig/OkdFVHxIRUFEKSQvLEh0PS9eXC9cLy8sT3Q9e30sUHQ9e30sUnQ9IiovIi5jb25jYXQoIioiKSxNdD1FLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBJdChvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iKiIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8W107aWYobSh0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIFd0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PVB0O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsUy5lYWNoKHRbZV18fFtdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dChpLG8sYSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBufHx1fHxzW25dP3U/IShyPW4pOnZvaWQgMDooaS5kYXRhVHlwZXMudW5zaGlmdChuKSxsKG4pLCExKX0pLHJ9cmV0dXJuIGwoaS5kYXRhVHlwZXNbMF0pfHwhc1siKiJdJiZsKCIqIil9ZnVuY3Rpb24gRnQoZSx0KXt2YXIgbixyLGk9Uy5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmUy5leHRlbmQoITAsZSxyKSxlfU10LmhyZWY9YnQuaHJlZixTLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6YnQuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChidC5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpSdCx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6Uy5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/RnQoRnQoZSxTLmFqYXhTZXR0aW5ncyksdCk6RnQoUy5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6SXQoT3QpLGFqYXhUcmFuc3BvcnQ6SXQoUHQpLGFqYXg6ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIGMsZixwLG4sZCxyLGgsZyxpLG8sdj1TLmFqYXhTZXR1cCh7fSx0KSx5PXYuY29udGV4dHx8dixtPXYuY29udGV4dCYmKHkubm9kZVR5cGV8fHkuanF1ZXJ5KT9TKHkpOlMuZXZlbnQseD1TLkRlZmVycmVkKCksYj1TLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1xdC5leGVjKHApKW5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSl9dD1uW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxidC5ocmVmKSsiIikucmVwbGFjZShIdCxidC5wcm90b2NvbCsiLy8iKSx2LnR5cGU9dC5tZXRob2R8fHQudHlwZXx8di5tZXRob2R8fHYudHlwZSx2LmRhdGFUeXBlcz0odi5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKFApfHxbIiJdLG51bGw9PXYuY3Jvc3NEb21haW4pe3I9RS5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e3IuaHJlZj12LnVybCxyLmhyZWY9ci5ocmVmLHYuY3Jvc3NEb21haW49TXQucHJvdG9jb2wrIi8vIitNdC5ob3N0IT1yLnByb3RvY29sKyIvLyIrci5ob3N0fWNhdGNoKGUpe3YuY3Jvc3NEb21haW49ITB9fWlmKHYuZGF0YSYmdi5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB2LmRhdGEmJih2LmRhdGE9Uy5wYXJhbSh2LmRhdGEsdi50cmFkaXRpb25hbCkpLFd0KE90LHYsdCxUKSxoKXJldHVybiBUO2ZvcihpIGluKGc9Uy5ldmVudCYmdi5nbG9iYWwpJiYwPT1TLmFjdGl2ZSsrJiZTLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHYudHlwZT12LnR5cGUudG9VcHBlckNhc2UoKSx2Lmhhc0NvbnRlbnQ9IUx0LnRlc3Qodi50eXBlKSxmPXYudXJsLnJlcGxhY2UoanQsIiIpLHYuaGFzQ29udGVudD92LmRhdGEmJnYucHJvY2Vzc0RhdGEmJjA9PT0odi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodi5kYXRhPXYuZGF0YS5yZXBsYWNlKE50LCIrIikpOihvPXYudXJsLnNsaWNlKGYubGVuZ3RoKSx2LmRhdGEmJih2LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHYuZGF0YSkmJihmKz0oVHQudGVzdChmKT8iJiI6Ij8iKSt2LmRhdGEsZGVsZXRlIHYuZGF0YSksITE9PT12LmNhY2hlJiYoZj1mLnJlcGxhY2UoRHQsIiQxIiksbz0oVHQudGVzdChmKT8iJiI6Ij8iKSsiXz0iK3d0Lmd1aWQrKytvKSx2LnVybD1mK28pLHYuaWZNb2RpZmllZCYmKFMubGFzdE1vZGlmaWVkW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixTLmxhc3RNb2RpZmllZFtmXSksUy5ldGFnW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLFMuZXRhZ1tmXSkpLCh2LmRhdGEmJnYuaGFzQ29udGVudCYmITEhPT12LmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHYuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix2LmRhdGFUeXBlc1swXSYmdi5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXT92LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dKygiKiIhPT12LmRhdGFUeXBlc1swXT8iLCAiK1J0KyI7IHE9MC4wMSI6IiIpOnYuYWNjZXB0c1siKiJdKSx2LmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGksdi5oZWFkZXJzW2ldKTtpZih2LmJlZm9yZVNlbmQmJighMT09PXYuYmVmb3JlU2VuZC5jYWxsKHksVCx2KXx8aCkpcmV0dXJuIFQuYWJvcnQoKTtpZih1PSJhYm9ydCIsYi5hZGQodi5jb21wbGV0ZSksVC5kb25lKHYuc3VjY2VzcyksVC5mYWlsKHYuZXJyb3IpLGM9V3QoUHQsdix0LFQpKXtpZihULnJlYWR5U3RhdGU9MSxnJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbVCx2XSksaClyZXR1cm4gVDt2LmFzeW5jJiYwPHYudGltZW91dCYmKGQ9Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5hYm9ydCgidGltZW91dCIpfSx2LnRpbWVvdXQpKTt0cnl7aD0hMSxjLnNlbmQoYSxsKX1jYXRjaChlKXtpZihoKXRocm93IGU7bCgtMSxlKX19ZWxzZSBsKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJkMuY2xlYXJUaW1lb3V0KGQpLGM9dm9pZCAwLHA9cnx8IiIsVC5yZWFkeVN0YXRlPTA8ZT80OjAsaT0yMDA8PWUmJmU8MzAwfHwzMDQ9PT1lLG4mJihzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYocilmb3IoaSBpbiBzKWlmKHNbaV0mJnNbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaSsiICIrdVswXV0pe289aTticmVha31hfHwoYT1pKX1vPW98fGF9aWYobylyZXR1cm4gbyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dfSh2LFQsbikpLCFpJiYtMTxTLmluQXJyYXkoInNjcmlwdCIsdi5kYXRhVHlwZXMpJiZTLmluQXJyYXkoImpzb24iLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoUy5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKFMuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLVMuYWN0aXZlfHxTLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFMuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBTLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxTLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtTW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksUy5hamF4KFMuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxTLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxTLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pLFMuX2V2YWxVcmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmFqYXgoe3VybDplLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKGUpe1MuZ2xvYmFsRXZhbChlLHQsbil9fSl9LFMuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PVMoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1TKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLFMuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hUy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sUy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LFMuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIEJ0PXswOjIwMCwxMjIzOjIwNH0sJHQ9Uy5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhJHQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gJHQseS5hamF4PSR0PSEhJHQsUy5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHwkdCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChCdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxTLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gUy5nbG9iYWxFdmFsKGUpLGV9fX0pLFMuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxTLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1TKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgX3QsenQ9W10sVXQ9Lyg9KVw/KD89JnwkKXxcP1w/LztTLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9enQucG9wKCl8fFMuZXhwYW5kbysiXyIrd3QuZ3VpZCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksUy5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ITEhPT1lLmpzb25wJiYoVXQudGVzdChlLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBlLmRhdGEmJjA9PT0oZS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZVdC50ZXN0KGUuZGF0YSkmJiJkYXRhIik7aWYoYXx8Impzb25wIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz1tKGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoVXQsIiQxIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KFR0LnRlc3QoZS51cmwpPyImIjoiPyIpK2UuanNvbnArIj0iK3IpLGUuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBvfHxTLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLG9bMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixpPUNbcl0sQ1tyXT1mdW5jdGlvbigpe289YXJndW1lbnRzfSxuLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWk/UyhDKS5yZW1vdmVQcm9wKHIpOkNbcl09aSxlW3JdJiYoZS5qc29ucENhbGxiYWNrPXQuanNvbnBDYWxsYmFjayx6dC5wdXNoKHIpKSxvJiZtKGkpJiZpKG9bMF0pLG89aT12b2lkIDB9KSwic2NyaXB0In0pLHkuY3JlYXRlSFRNTERvY3VtZW50PSgoX3Q9RS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1fdC5jaGlsZE5vZGVzLmxlbmd0aCksUy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwoeS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPUUubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocikpOnQ9RSksbz0hbiYmW10sKGk9Ti5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KGlbMV0pXTooaT14ZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmUyhvKS5yZW1vdmUoKSxTLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LFMuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9dGhpcyxzPWUuaW5kZXhPZigiICIpO3JldHVybi0xPHMmJihyPWh0KGUuc2xpY2UocykpLGU9ZS5zbGljZSgwLHMpKSxtKHQpPyhuPXQsdD12b2lkIDApOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmKGk9IlBPU1QiKSwwPGEubGVuZ3RoJiZTLmFqYXgoe3VybDplLHR5cGU6aXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/UygiPGRpdj4iKS5hcHBlbmQoUy5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXthLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSxTLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gUy5ncmVwKFMudGltZXJzLGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZS5lbGVtfSkubGVuZ3RofSxTLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD1TLmNzcyhlLCJwb3NpdGlvbiIpLGM9UyhlKSxmPXt9OyJzdGF0aWMiPT09bCYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIikscz1jLm9mZnNldCgpLG89Uy5jc3MoZSwidG9wIiksdT1TLmNzcyhlLCJsZWZ0IiksKCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJi0xPChvK3UpLmluZGV4T2YoImF1dG8iKT8oYT0ocj1jLnBvc2l0aW9uKCkpLnRvcCxpPXIubGVmdCk6KGE9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLG0odCkmJih0PXQuY2FsbChlLG4sUy5leHRlbmQoe30scykpKSxudWxsIT10LnRvcCYmKGYudG9wPXQudG9wLXMudG9wK2EpLG51bGwhPXQubGVmdCYmKGYubGVmdD10LmxlZnQtcy5sZWZ0K2kpLCJ1c2luZyJpbiB0P3QudXNpbmcuY2FsbChlLGYpOmMuY3NzKGYpfX0sUy5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1Mub2Zmc2V0LnNldE9mZnNldCh0aGlzLHQsZSl9KTt2YXIgZSxuLHI9dGhpc1swXTtyZXR1cm4gcj9yLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhlPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDplLnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6ZS5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLHI9dGhpc1swXSxpPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1TLmNzcyhyLCJwb3NpdGlvbiIpKXQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle3Q9dGhpcy5vZmZzZXQoKSxuPXIub3duZXJEb2N1bWVudCxlPXIub2Zmc2V0UGFyZW50fHxuLmRvY3VtZW50RWxlbWVudDt3aGlsZShlJiYoZT09PW4uYm9keXx8ZT09PW4uZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5wYXJlbnROb2RlO2UmJmUhPT1yJiYxPT09ZS5ub2RlVHlwZSYmKChpPVMoZSkub2Zmc2V0KCkpLnRvcCs9Uy5jc3MoZSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxpLmxlZnQrPVMuY3NzKGUsImJvcmRlckxlZnRXaWR0aCIsITApKX1yZXR1cm57dG9wOnQudG9wLWkudG9wLVMuY3NzKHIsIm1hcmdpblRvcCIsITApLGxlZnQ6dC5sZWZ0LWkubGVmdC1TLmNzcyhyLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoZSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHJlfSl9fSksUy5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKHQsaSl7dmFyIG89InBhZ2VZT2Zmc2V0Ij09PWk7Uy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZih4KGUpP3I9ZTo5PT09ZS5ub2RlVHlwZSYmKHI9ZS5kZWZhdWx0Vmlldyksdm9pZCAwPT09bilyZXR1cm4gcj9yW2ldOmVbdF07cj9yLnNjcm9sbFRvKG8/ci5wYWdlWE9mZnNldDpuLG8/bjpyLnBhZ2VZT2Zmc2V0KTplW3RdPW59LHQsZSxhcmd1bWVudHMubGVuZ3RoKX19KSxTLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSxuKXtTLmNzc0hvb2tzW25dPUZlKHkucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIHQ9V2UoZSxuKSxQZS50ZXN0KHQpP1MoZSkucG9zaXRpb24oKVtuXSsicHgiOnR9KX0pLFMuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEscyl7Uy5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OnMsIiI6Im91dGVyIithfSxmdW5jdGlvbihyLG8pe1MuZm5bb109ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZSksaT1yfHwoITA9PT1lfHwhMD09PXQ/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB4KGUpPzA9PT1vLmluZGV4T2YoIm91dGVyIik/ZVsiaW5uZXIiK2FdOmUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1lLm5vZGVUeXBlPyhyPWUuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGUuYm9keVsic2Nyb2xsIithXSxyWyJzY3JvbGwiK2FdLGUuYm9keVsib2Zmc2V0IithXSxyWyJvZmZzZXQiK2FdLHJbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1uP1MuY3NzKGUsdCxpKTpTLnN0eWxlKGUsdCxuLGkpfSxzLG4/ZTp2b2lkIDAsbil9fSl9KSxTLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihlLHQpe1MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxTLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9LGhvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLFMuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLG4pe1MuZm5bbl09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP3RoaXMub24obixudWxsLGUsdCk6dGhpcy50cmlnZ2VyKG4pfX0pO3ZhciBYdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Uy5wcm94eT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihuPWVbdF0sdD1lLGU9biksbShlKSlyZXR1cm4gcj1zLmNhbGwoYXJndW1lbnRzLDIpLChpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodHx8dGhpcyxyLmNvbmNhdChzLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxTLmd1aWQrKyxpfSxTLmhvbGRSZWFkeT1mdW5jdGlvbihlKXtlP1MucmVhZHlXYWl0Kys6Uy5yZWFkeSghMCl9LFMuaXNBcnJheT1BcnJheS5pc0FycmF5LFMucGFyc2VKU09OPUpTT04ucGFyc2UsUy5ub2RlTmFtZT1BLFMuaXNGdW5jdGlvbj1tLFMuaXNXaW5kb3c9eCxTLmNhbWVsQ2FzZT1YLFMudHlwZT13LFMubm93PURhdGUubm93LFMuaXNOdW1lcmljPWZ1bmN0aW9uKGUpe3ZhciB0PVMudHlwZShlKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sUy50cmltPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKFh0LCIiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIFN9KTt2YXIgVnQ9Qy5qUXVlcnksR3Q9Qy4kO3JldHVybiBTLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIEMuJD09PVMmJihDLiQ9R3QpLGUmJkMualF1ZXJ5PT09UyYmKEMualF1ZXJ5PVZ0KSxTfSwidW5kZWZpbmVkIj09dHlwZW9mIGUmJihDLmpRdWVyeT1DLiQ9UyksU30pOwo="}]},{"name":"ÁôæÂ∫¶ÁΩëÁõò‰∏éÈòøÈáåÁΩëÁõòËµÑÊ∫ê_ÊêúÁ¥¢ÂºïÊìé_ËÅöÂêà","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://pan.baidu.com/*","*://yun.baidu.com/*","*://wangpan.baidu.com/*","*://duanxin.baidu.com/*","*://note.baidu.com/*","*://tonghuajilu.baidu.com/*","*://tongxunlu.baidu.com/*","*://wenzhang.baidu.com/*","*://zhaohui.baidu.com/*","*://photo.baidu.com/*","*://www.aliyundrive.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1656858703201,"data":{}},"enabled":false,"position":8,"file_url":"https://greasyfork.org/scripts/375337-%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E4%B8%8E%E9%98%BF%E9%87%8C%E7%BD%91%E7%9B%98%E8%B5%84%E6%BA%90-%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E-%E8%81%9A%E5%90%88/code/%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E4%B8%8E%E9%98%BF%E9%87%8C%E7%BD%91%E7%9B%98%E8%B5%84%E6%BA%90_%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E_%E8%81%9A%E5%90%88.user.js","uuid":"0d3ca944-54aa-4a9d-b6d1-a6c67ca3d7e9","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnmb7luqbnvZHnm5jkuI7pmL/ph4znvZHnm5jotYTmupBf5pCc57Si5byV5pOOX+iBmuWQiAovLyBAdmVyc2lvbiAgICAgIDMuNzkKLy8gQGRlc2NyaXB0aW9uICDlnKjnmb7luqbkupHnm5jkuI7pmL/ph4zkupHnm5jpobXpnaLkuK3mlrDlop7nvZHnm5jotYTmupBf5pCc57Si5byV5pOOXyjkuonlj5bkuIDnvZHmiZPlsL0pCi8vIEBtYXRjaCAgICAgICAgKjovL3Bhbi5iYWlkdS5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly95dW4uYmFpZHUuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vd2FuZ3Bhbi5iYWlkdS5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly9kdWFueGluLmJhaWR1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL25vdGUuYmFpZHUuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vdG9uZ2h1YWppbHUuYmFpZHUuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vdG9uZ3h1bmx1LmJhaWR1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL3dlbnpoYW5nLmJhaWR1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL3poYW9odWkuYmFpZHUuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vcGhvdG8uYmFpZHUuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vd3d3LmFsaXl1bmRyaXZlLmNvbS8qCi8vIEBncmFudCAgICAgICAg5p2l6Ieq5ZCE5Liq572R55uY6LWE5rqQ5pCc57Si5byV5pOO5byA5Y+R6ICFCi8vIEBhdXRob3IgICAgICAg5aSq5Y+y5a2Q5LmJ5oWICi8vIEBuYW1lc3BhY2UgICAgcXM5MzMxM0BzaW5hLmNuCi8vID09L1VzZXJTY3JpcHQ9PQoKIShmdW5jdGlvbigpIHsKCS8v5aSE55CGY3NzCglic2VnQ3NzKCk7CgoJLy/lpITnkIZkb20KCWJzZWcoMCk7CgoJcmV0dXJuOwp9KSgpOwoKZnVuY3Rpb24gYnNlZyh0dGltZSkgewoJLy/ojrflj5Zib2R5Cgl2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7CgkvL+iOt+WPluWfn+WQjQoJdmFyIHdsaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0OwoJLy/ln5/lkI3mmK/lkKbljIXlkKvnmb7luqbvvJ8KCXZhciBmaW5kX2JhaWR1ID0gKHdsaG9zdC5pbmRleE9mKCJiYWlkdSIpICE9IC0xKTsKCgkvL+acgOWkmuaJvjEwMOasoQoJaWYodHRpbWUgPCAxMDApIHsKCgkJdmFyIGlucyA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjaWRfbmV3X3NwYW4iKSA9PSBudWxsKTsKCgkJLy/kuLvpobXvvIhodHRwczovL3Bhbi5iYWlkdS5jb20vbmV0ZGlzay9ob21l77yM562J77yJCgkJdmFyIGZpbmRfaG9tZSA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuZmluZC1saWdodC1pY29uIikgIT09IG51bGwpOwoJCQoJCS8v5paw5Li76aG1IGh0dHBzOi8vcGFuLmJhaWR1LmNvbS9kaXNrL21haW4jL2luZGV4P2NhdGVnb3J5PWFsbAoJCXZhciBmaW5kX21haW4gPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLndwLWRpc2staGVhZGVyIikgIT09IG51bGwpOwoKCQkvL+mYv+mHjOS4u+mhtSBodHRwczovL3d3dy5hbGl5dW5kcml2ZS5jb20vZHJpdmUKCgkJLy/lr4bnoIHloavlhpnpobXvvIhodHRwczovL3Bhbi5iYWlkdS5jb20vc2hhcmUvaW5pdD9zdXJsPeKApuKApu+8iQoJCXZhciBmaW5kX2luaXQgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnZlcmlmeS1mb3JtIikgIT09IG51bGwpOwoKCQkvL+WuouaIt+err+S4i+i9vemhte+8iGh0dHBzOi8vcGFuLmJhaWR1LmNvbS9kb3dubG9hZCB8fCDml6Dop4ZodHRwczovL3Bhbi5iYWlkdS5jb20vZGlzay9hd2FyZO+8iQoJCXZhciBmaW5kX2Rvd25sb2FkID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNsb2dvLW1haW4iKSAhPT0gbnVsbCk7CgoJCS8v54mI5pys5pu05paw6aG1IHwg5pyN5Yqh5Y2P6K6u77yIaHR0cHM6Ly9wYW4uYmFpZHUuY29tL2Rpc2svdmVyc2lvbi8gfHwgaHR0cHM6Ly9wYW4uYmFpZHUuY29tL2Rpc2svZHV0eS8gfHwgaHR0cHM6Ly95dW4uYmFpZHUuY29tL2Rpc2svYXV0b2R1dHkgfHwgaHR0cHM6Ly9wYW4uYmFpZHUuY29tL2Rpc2svcHJvdG9jb2wg562J77yJCgkJdmFyIGZpbmRfdmVyc2lvbiA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuaGVscC1hbGwiKSAhPT0gbnVsbCB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIubWFpbi1pIikgIT09IG51bGwpOwoKCQkvL+aUr+S7mOS4reW/g+mhte+8iGh0dHBzOi8vcGFuLmJhaWR1LmNvbS9idXkvY2hlY2tvdXRjb3VudGVy77yJCgkJdmFyIGZpbmRfY2hlY2tvdXQgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNhc2hpZXItcGFnZS1oZWFkZXIiKSAhPT0gbnVsbCk7CgoJCS8v5YaF5a655ZWG5Z+O77yIaHR0cHM6Ly9wYW4uYmFpZHUuY29tL21hbGwvaG9tZT9mcm9tPXBhbmhvbWXvvIkKCQl2YXIgZmluZF9tYWxsID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50cy1sb2dvX190ZXh0IikgIT09IG51bGwpOwoKCQkvL+S8muWRmOS4reW/g++8iGh0dHBzOi8vcGFuLmJhaWR1LmNvbS9idXkvY2VudGVyIHx8IGh0dHBzOi8vcGFuLmJhaWR1LmNvbS9idXkvY2FyZO+8iQoJCXZhciBmaW5kX2NlbnRlciA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuaGVhZGVyLWNvbnRlbnQiKSAhPT0gbnVsbCk7CgoJCS8v6aG16Z2i5LiN5a2Y5ZyoCgkJdmFyIGZpbmRfZXJyb3IgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmhkLW1haW4iKSAhPT0gbnVsbCk7CgoJCS8v5paH56ug6aG177yIaHR0cHM6Ly93ZW56aGFuZy5iYWlkdS5jb20vIHx8IGh0dHBzOi8vcGFuLmJhaWR1LmNvbS90b29scyDnrYnvvIkKCQl2YXIgZmluZF93ZW56aGFuZyA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuX19oZWFkZXIiKSAhPT0gbnVsbCk7CgoJCS8v5pyq55m75b2V6aG1CgkJdmFyIGZpbmRfbm90bG9naW4gPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvZ2luLWhlYWRlciIpICE9PSBudWxsKTsKCgkJLy/pmL/ph4zkuIvovb3pobUgaHR0cHM6Ly93d3cuYWxpeXVuZHJpdmUuY29tLwoKCQkvL+WkseaViOmCgOivtwoJCXZhciBmaW5kX3N4ID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5zaGFyZS1pbnZpdGUtYm94IikgIT09IG51bGwpOwoKCQkvL+S6uuiEuOaQnOe0ou+8iGh0dHBzOi8vcGFuLmJhaWR1LmNvbS9kaXNrL2ZhY2VzZWFyY2jvvIkKCQl2YXIgZmluZF9mYWNlID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5mYWNlLXNlYXJjaC1ib2R5IikgIT09IG51bGwpOwoJCQoJCS8v5LiA5Yi755u45YaMIGh0dHBzOi8vcGhvdG8uYmFpZHUuY29tLwoJCXZhciBmaW5kX3lrcCA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIueWstaGVhZGVyIikgIT09IG51bGwpOwoJCQoJCQoJCQoJCQoJCQoJCS8v57u85ZCICgkJdmFyIGZpbmRfb3IgPSAoZmluZF9ob21lIHx8IGZpbmRfbWFpbiB8fCBmaW5kX2luaXQgfHwgZmluZF9kb3dubG9hZCB8fCBmaW5kX3ZlcnNpb24gfHwgZmluZF9jaGVja291dCB8fCBmaW5kX21hbGwgfHwgZmluZF9jZW50ZXIgfHwgZmluZF9lcnJvciB8fCBmaW5kX3dlbnpoYW5nIHx8IGZpbmRfbm90bG9naW4gfHwgZmluZF9zeCB8fCBmaW5kX2ZhY2V8fCBmaW5kX3lrcCk7CgoJCS8v56Gu5a6a5pi+56S654K55piv5ZCm5a2Y5ZyoCgkJaWYoZmluZF9iYWlkdSkgewoJCQlpZihpbnMgJiYgZmluZF9vcikgewoJCQkJLy/lvqrnjq/ntKLlvJUKCQkJCXZhciBpLCBqOwoKCQkJCS8v5pCc57Si5byV5pOO572R5Z2A55uu5b2VCgkJCQl2YXIgZGlyYWxsID0gW107CgkJCQkvL+aQnOe0ouW8leaTjuaJgOacieebruW9lQoJCQkJdmFyIGRpcmFsbG90ID0gZGlyX2FsbF9vdCgpOwoJCQkJZm9yKGkgaW4gZGlyYWxsb3QpIHsKCQkJCQkvL+afkOS4quaQnOe0ouW8leaTjueahOWFqOmDqOWGheWuuQoJCQkJCXZhciBic2UgPSBkaXJhbGxvdFtpXTsKCQkJCQkvL+aQnOe0ouW8leaTjuWQjeensO+8iGxpa2XkupHnm5jmgbbprZTvvIkKCQkJCQl2YXIgYnNlbiA9IGJzZVsxXTsKCQkJCQkvL+aQnOe0ouW8leaTjuWMuuWIhuebruW9le+8iGxpa2UgYSxiLGPvvInmiYDljIXlkKvnmoTlhoXlrrnnmoTmlbDnu4QKCQkJCQl2YXIgYnNlb3QgPSBic2VbMl07CgkJCQkJZm9yKGogaW4gYnNlb3QpIHsKCQkJCQkJLy/mkJzntKLlvJXmk47nm67lvZXkuIvnmoTljLrliIblhbfkvZPnmoTmkJzntKLlvJXmk44KCQkJCQkJdmFyIGJzZWRpZiA9IGJzZW90W2pdOwoJCQkJCQkvL+aQnOe0ouW8leaTjuWQjeensOihpeWFhe+8iGxpa2UgYSxiLGPvvIkKCQkJCQkJdmFyIGJzZW5vID0gYnNlZGlmWzBdOwoJCQkJCQkvL+aQnOe0ouW8leaTjuWQjeensOWFqOmDqO+8iGxpa2Ug5LqR55uY5oG26a2UYSzkupHnm5jmgbbprZRiLOS6keebmOaBtumtlGPvvIkKCQkJCQkJdmFyIGJzZW5hbGwgPSBic2VuICsgYnNlbm87CgkJCQkJCS8v5pCc57Si5byV5pOO6ZyA6KaB5pu/5o2i5YWz6ZSu6K+N55qE572R5Z2ACgkJCQkJCXZhciBic2VzdiA9IGJzZWRpZlsxXTsKCQkJCQkJLy/mkJzntKLlvJXmk47nmoTmoLflvI8KCQkJCQkJdmFyIGJzZXN0eWxlID0gYnNlZGlmWzJdOwoJCQkJCQkvL+e7hOaIkOaVsOe7hAoJCQkJCQl2YXIgZGlyYWxsb3RpdGEgPSBbYnNlbmFsbCwgYnNlc3YsIGJzZXN0eWxlXTsKCQkJCQkJLy/nu4TmiJDkuoznu7TmlbDnu4QKCQkJCQkJZGlyYWxsLnB1c2goZGlyYWxsb3RpdGEpOwoJCQkJCX0KCQkJCX0KCgkJCQkvL+aWsOW7unNwYW7lrZDoioLngrkKCQkJCXZhciBuZXdfc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKCQkJCW5ld19zcGFuLmNsYXNzTGlzdC5hZGQoJ2JzZWdfcycpOwoJCQkJbmV3X3NwYW4uc2V0QXR0cmlidXRlKCJpZCIsICJpZF9uZXdfc3BhbiIpOwoKCQkJCS8vc3BhbuiKgueCueW7umRpduino+mHiuivtOaYjuWtkOiKgueCuQoJCQkJdmFyIG5ld19kaXZfaW5zdHJ1Y3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCQkJCW5ld19kaXZfaW5zdHJ1Y3QuY2xhc3NMaXN0LmFkZCgnYnNlZ19pbnN0cnVjdCcsICdic2VnX2N1cnNvcl9wb2ludGVyJywgJ2JzZWdfdXNlcl9zZWxlY3QnKTsKCQkJCW5ld19kaXZfaW5zdHJ1Y3Quc2V0QXR0cmlidXRlKCJpZCIsICJpbnN0cnVjdCIpOwoJCQkJbmV3X2Rpdl9pbnN0cnVjdC5pbm5lckhUTUwgPSAi6YeKIjsKCQkJCW5ld19zcGFuLmFwcGVuZENoaWxkKG5ld19kaXZfaW5zdHJ1Y3QpOwoKCQkJCS8vc3BhbuiKgueCueWGjeW7uuOAkOmAieaLqeahhuOAkeWtkOiKgueCuQoJCQkJdmFyIG5ld19zZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTsKCQkJCW5ld19zZWxlY3QuY2xhc3NMaXN0LmFkZCgnYnNlZ19zZWxlY3QnLCAnYnNlZ19jdXJzb3JfcG9pbnRlcicpOwoJCQkJbmV3X3NwYW4uYXBwZW5kQ2hpbGQobmV3X3NlbGVjdCk7CgoJCQkJLy/pgInmi6nmoYblrZDoioLngrnkuIvpnaLopoHlu7rnq4vlpKfph4/jgJDpgInpobnjgJHlrZDoioLngrkKCQkJCWZvcihpIGluIGRpcmFsbCkgewoJCQkJCXZhciB2ID0gZGlyYWxsW2ldWzBdOwoJCQkJCXZhciBpMSA9ICJuZXdfb3B0XyIgKyBpOwoJCQkJCXZhciBvYyA9IGRpcmFsbFtpXVsyXTsKCQkJCQluZXdfb3B0aW9uKHYsIGkxLCBuZXdfc2VsZWN0LCBvYyk7CgkJCQl9CgoJCQkJLy9zcGFu6IqC54K55YaN5bu644CQ6L6T5YWl5qGG44CR5a2Q6IqC54K5CgkJCQl2YXIgbmV3X2lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsKCQkJCW5ld19pbnB1dC5jbGFzc0xpc3QuYWRkKCdic2VnX3Njb250Jyk7CgkJCQluZXdfaW5wdXQuc2V0QXR0cmlidXRlKCJpZCIsICJzY29udCIpOwoJCQkJbmV3X2lucHV0LnNldEF0dHJpYnV0ZSgicGxhY2Vob2xkZXIiLCAi6K+36L6T5YWl5YaF5a65W+ayueeMtOiEmuacrF0iKTsKCQkJCW5ld19pbnB1dC5zZXRBdHRyaWJ1dGUoImF1dG9jb21wbGV0ZSIsICJvZmYiKTsKCQkJCW5ld19zcGFuLmFwcGVuZENoaWxkKG5ld19pbnB1dCk7CgoJCQkJLy9zcGFu6IqC54K55YaN5bu644CQ5oyJ6ZKu44CR5a2Q6IqC54K5CgkJCQl2YXIgbmV3X2J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwoJCQkJbmV3X2J0bi5pbm5lckhUTUwgPSAi5pCc57SiIjsKCQkJCW5ld19idG4uY2xhc3NMaXN0LmFkZCgnYnNlZ19idG4nLCAnYnNlZ19idG5fYmdfbW91c2VsZWF2ZScsICdic2VnX3VzZXJfc2VsZWN0Jyk7CgkJCQluZXdfc3Bhbi5hcHBlbmRDaGlsZChuZXdfYnRuKTsKCQkJCW5ld19idG4ub25tb3VzZWVudGVyID0gZnVuY3Rpb24oKSB7CgkJCQkJbmV3X2J0bi5jbGFzc0xpc3QucmVtb3ZlKCdic2VnX2J0bl9iZ19tb3VzZWxlYXZlJyk7CgkJCQkJbmV3X2J0bi5jbGFzc0xpc3QuYWRkKCdic2VnX2J0bl9iZ19tb3VzZWVudGVyJyk7CgkJCQl9OwoJCQkJbmV3X2J0bi5vbm1vdXNlbGVhdmUgPSBmdW5jdGlvbigpIHsKCQkJCQluZXdfYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2JzZWdfYnRuX2JnX21vdXNlZW50ZXInKTsKCQkJCQluZXdfYnRuLmNsYXNzTGlzdC5hZGQoJ2JzZWdfYnRuX2JnX21vdXNlbGVhdmUnKTsKCQkJCX07CgoJCQkJLy/mib7liLDjgJDniLbkurLoioLngrnjgJHjgJDvvIHvvIHvvIHms6jmhI/mr4/kuKrpobXpnaLniLboioLngrnkuI3lkIzvvIHvvIHvvIHjgJEKCQkJCWlmKGZpbmRfaG9tZSkgewoJCQkJCS8v6aaW6aG1CgkJCQkJdmFyIGZhdGhlcl9ob21lID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidnlRSE55YiIpWzBdOwoJCQkJCWlmKGZhdGhlcl9ob21lKSB7CgkJCQkJCWZhdGhlcl9ob21lLmNsYXNzTGlzdC5hZGQoJ2JzZWdfZl9ob21lJyk7CgkJCQkJCS8v5Li76aG15riF6Zmk5bm/5ZGK77yM6IW+5L2N572uCgkJCQkJCXZhciBjTUVNRUYgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJjTUVNRUYiKTsKCQkJCQkJaWYoY01FTUVGKSB7CgkJCQkJCQl2YXIgY01FTUVGX2xlbiA9IGNNRU1FRi5sZW5ndGg7CgkJCQkJCQlmb3IoaSA9IDA7IGkgPCBjTUVNRUZfbGVuOyBpKyspIHsKCQkJCQkJCQl2YXIgY01FTUVGaSA9IGNNRU1FRltpXTsKCQkJCQkJCQljTUVNRUZpLmNsYXNzTGlzdC5hZGQoJ2JzZWdfY01FTUVGJyk7CgkJCQkJCQkJLy9pZihpID09IDIpIHsKCQkJCQkJCQkJLy9jTUVNRUZpLmNsYXNzTGlzdC5hZGQoJ2JzZWdfbm9uZScpOwoJCQkJCQkJCS8vfQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCXZhciBnT0lielBiID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZ09JYnpQYiIpWzBdOwoJCQkJCQlnT0lielBiLmNsYXNzTGlzdC5hZGQoJ2JzZWdfbm9uZScpOwoJCQkJCQkvL+aWsOW7unNwYW7lrZDoioLngrkKCQkJCQkJZmF0aGVyX2hvbWUuYXBwZW5kQ2hpbGQobmV3X3NwYW4pOwoJCQkJCQluZXdfaW5wdXQuZm9jdXMoKTsKCQkJCQkJLy/nn63kv6HjgIHpgJrorq/lvZXnmoTmkJzntKLmoYYKCQkJCQkJaWYod2xob3N0ID09ICJkdWFueGluLmJhaWR1LmNvbSIgfHwgd2xob3N0ID09ICJ0b25neHVubHUuYmFpZHUuY29tIikgewoJCQkJCQkJYmFyU2VhcmNoKDAsIG5ld19pbnB1dCk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9IGVsc2UgaWYoZmluZF9tYWluKSB7CgkJCQkJLy/mlrDkuLvpobUKCQkJCQl2YXIgZmF0aGVyX2ZhY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd3cC1kaXNrLWhlYWRlcl9fbGVmdCcpWzBdOwoJCQkJCWlmKGZhdGhlcl9mYWNlKSB7CgkJCQkJCWZhdGhlcl9mYWNlLmNsYXNzTGlzdC5hZGQoJ2JzZWdfZl9tYWluJyk7CgkJCQkJCS8v5paw5bu6c3BhbuWtkOiKgueCuQoJCQkJCQlmYXRoZXJfZmFjZS5hcHBlbmRDaGlsZChuZXdfc3Bhbik7CgkJCQkJCW5ld19pbnB1dC5mb2N1cygpOwoJCQkJCX0KCQkJCX1lbHNlIGlmKGZpbmRfaW5pdCkgewoJCQkJCS8v5a+G56CB5aGr5YaZ6aG1CgkJCQkJdmFyIGZhdGhlcl9pbml0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgicGlja3B3IilbMF07CgkJCQkJaWYoZmF0aGVyX2luaXQpIHsKCQkJCQkJZmF0aGVyX2luaXQuY2xhc3NMaXN0LmFkZCgnYnNlZ19mX2luaXQnKTsKCQkJCQkJLy/mlrDlu7pzcGFu5a2Q6IqC54K5CgkJCQkJCWZhdGhlcl9pbml0LmFwcGVuZENoaWxkKG5ld19zcGFuKTsKCQkJCQkJLy/muIXnkIbniYjpnaIKCQkJCQkJdmFyIHZlcmlmeV9pbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3ZlcmlmeS1pbnB1dCcpWzBdOwoJCQkJCQlpZih2ZXJpZnlfaW5wdXQpIHsKCQkJCQkJCXZlcmlmeV9pbnB1dC5jbGFzc0xpc3QuYWRkKCdic2VnX3ZlcmlmeV9pbnB1dCcpOwoJCQkJCQl9CgkJCQkJfQoJCQkJfSBlbHNlIGlmKGZpbmRfZG93bmxvYWQpIHsKCQkJCQkvL+WuouaIt+err+S4i+i9vemhtQoJCQkJCXZhciBmYXRoZXJfZG93bmxvYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJsb2dvLW1haW4iKVswXTsKCQkJCQlpZihmYXRoZXJfZG93bmxvYWQpIHsKCQkJCQkJZmF0aGVyX2Rvd25sb2FkLmNsYXNzTGlzdC5hZGQoJ2JzZWdfZl9kb3dubG9hZCcpOwoJCQkJCQkvL+aWsOW7unNwYW7lrZDoioLngrkKCQkJCQkJZmF0aGVyX2Rvd25sb2FkLmFwcGVuZENoaWxkKG5ld19zcGFuKTsKCQkJCQkJbmV3X2lucHV0LmZvY3VzKCk7CgkJCQkJfQoJCQkJfSBlbHNlIGlmKGZpbmRfdmVyc2lvbikgewoJCQkJCS8v54mI5pys5pu05paw6aG1CgkJCQkJdmFyIGZhdGhlcl92ZXJzaW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiaGQtbWFpbiIpWzBdOwoJCQkJCWlmKGZhdGhlcl92ZXJzaW9uKSB7CgkJCQkJCWZhdGhlcl92ZXJzaW9uLmNsYXNzTGlzdC5hZGQoJ2JzZWdfZl92ZXJzaW9uJyk7CgkJCQkJCS8v5paw5bu6c3BhbuWtkOiKgueCuQoJCQkJCQlmYXRoZXJfdmVyc2lvbi5hcHBlbmRDaGlsZChuZXdfc3Bhbik7CgkJCQkJCW5ld19pbnB1dC5mb2N1cygpOwoJCQkJCX0KCQkJCX0gZWxzZSBpZihmaW5kX2NoZWNrb3V0KSB7CgkJCQkJLy/mlK/ku5jkuK3lv4PpobUKCQkJCQl2YXIgZmF0aGVyX2NoZWNrb3V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiY2FzaGllci1wYWdlLWhlYWRlciIpWzBdOwoJCQkJCXZhciBicm9fY2hlY2tvdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJjYXNoaWVyLXBhZ2UtdWwiKVswXTsKCQkJCQlpZihmYXRoZXJfY2hlY2tvdXQgJiYgYnJvX2NoZWNrb3V0KSB7CgkJCQkJCWZhdGhlcl9jaGVja291dC5jbGFzc0xpc3QuYWRkKCdic2VnX2ZfY2hlY2tvdXQnKTsKCQkJCQkJLy/mlrDlu7pzcGFu5a2Q6IqC54K5CgkJCQkJCWZhdGhlcl9jaGVja291dC5pbnNlcnRCZWZvcmUobmV3X3NwYW4sIGJyb19jaGVja291dCk7CgkJCQkJCW5ld19pbnB1dC5mb2N1cygpOwoJCQkJCX0KCQkJCX0gZWxzZSBpZihmaW5kX21hbGwpIHsKCQkJCQkvL+WGheWuueWVhuWfjumhtQoJCQkJCXZhciBmYXRoZXJfbWFsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInRzLWNhdGVnb3J5IilbMF07CgkJCQkJaWYoZmF0aGVyX21hbGwpIHsKCQkJCQkJZmF0aGVyX21hbGwuY2xhc3NMaXN0LmFkZCgnYnNlZ19mX21hbGwnKTsKCQkJCQkJLy/mlrDlu7pzcGFu5a2Q6IqC54K5CgkJCQkJCWZhdGhlcl9tYWxsLmFwcGVuZENoaWxkKG5ld19zcGFuKTsKCQkJCQkJLy/orr7nva7lhYTlvJ/oioLngrnmoLflvI8KCQkJCQkJdmFyIHRjZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInRzLWNhdGVnb3J5X19lbnRyeSIpOwoJCQkJCQlpZih0Y2UpIHsKCQkJCQkJCXZhciB0Y2VfbGVuID0gdGNlLmxlbmd0aDsKCQkJCQkJCWZvcihpID0gMDsgaSA8IHRjZV9sZW47IGkrKykgewoJCQkJCQkJCXRjZVtpXS5jbGFzc0xpc3QuYWRkKCdic2VnX3RjZScpOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJCQkJfSBlbHNlIGlmKGZpbmRfY2VudGVyKSB7CgkJCQkJLy/kvJrlkZjkuK3lv4PpobUKCQkJCQl2YXIgZmF0aGVyX2NlbnRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImhlYWRlci1jb250ZW50IilbMF07CgkJCQkJdmFyIGJyb19jZW50ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJhY3RpdmF0aW9uLWNvZGUiKVswXTsKCQkJCQlpZihmYXRoZXJfY2VudGVyICYmIGJyb19jZW50ZXIpIHsKCQkJCQkJZmF0aGVyX2NlbnRlci5jbGFzc0xpc3QuYWRkKCdic2VnX2ZfY2VudGVyJywgJ2JzZWdfaGVhZGVyX2NvbnRlbnQnKTsKCQkJCQkJLy/liKDpmaRsb2fvvIzohb7lnLDmlrkKCQkJCQkJdmFyIGxtbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImxvZ28tbWFpbi1saW5rIilbMF07CgkJCQkJCWlmKGxtbCkgewoJCQkJCQkJbG1sLmNsYXNzTGlzdC5hZGQoJ2JzZWdfbm9uZScpOwoJCQkJCQl9CgkJCQkJCS8v6K6+572u5L6E6IqC54K55qC35byPCgkJCQkJCXZhciBuYiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIm5hdi1idXR0b24iKTsKCQkJCQkJaWYobmIpIHsKCQkJCQkJCXZhciBuYl9sZW4gPSBuYi5sZW5ndGg7CgkJCQkJCQlmb3IoaSA9IDA7IGkgPCBuYl9sZW47IGkrKykgewoJCQkJCQkJCW5iW2ldLmNsYXNzTGlzdC5hZGQoJ2JzZWdfbmF2X2J1dHRvbicpOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCXZhciBmbmJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZmlyc3QtbmF2LWJ1dHRvbi1zdWIiKVswXTsKCQkJCQkJaWYoZm5icykgewoJCQkJCQkJZm5icy5jbGFzc0xpc3QuYWRkKCdic2VnX2ZpcnN0X25hdl9idXR0b25fc3ViJyk7CgkJCQkJCX0KCQkJCQkJLy/mlrDlu7pzcGFu5a2Q6IqC54K5CgkJCQkJCWZhdGhlcl9jZW50ZXIuaW5zZXJ0QmVmb3JlKG5ld19zcGFuLCBicm9fY2VudGVyKTsKCQkJCQkJbmV3X2lucHV0LmZvY3VzKCk7CgkJCQkJfQoJCQkJfSBlbHNlIGlmKGZpbmRfZXJyb3IpIHsKCQkJCQkvL+mhtemdouS4jeWtmOWcqAoJCQkJCXZhciBmYXRoZXJfZXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJoZC1tYWluIilbMF07CgkJCQkJdmFyIGJyb19lcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImluZm8iKVswXTsKCQkJCQlpZihmYXRoZXJfZXJyb3IgJiYgYnJvX2Vycm9yKSB7CgkJCQkJCWZhdGhlcl9lcnJvci5jbGFzc0xpc3QuYWRkKCdic2VnX2ZfZXJyb3InKTsKCQkJCQkJLy/mlrDlu7pzcGFu5a2Q6IqC54K5CgkJCQkJCWZhdGhlcl9lcnJvci5pbnNlcnRCZWZvcmUobmV3X3NwYW4sIGJyb19lcnJvcik7CgkJCQkJCW5ld19pbnB1dC5mb2N1cygpOwoJCQkJCX0KCQkJCX0gZWxzZSBpZihmaW5kX3dlbnpoYW5nKSB7CgkJCQkJLy/mlofnq6DpobUKCQkJCQl2YXIgZmF0aGVyX3dlbnpoYW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiX19oZWFkZXIiKVswXTsKCQkJCQl2YXIgYnJvX3dlbnpoYW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiX190b29scyIpWzBdOwoJCQkJCWlmKGZhdGhlcl93ZW56aGFuZyAmJiBicm9fd2VuemhhbmcpIHsKCQkJCQkJZmF0aGVyX3dlbnpoYW5nLmNsYXNzTGlzdC5hZGQoJ2JzZWdfZl93ZW56aGFuZycpOwoJCQkJCQkvL+aWsOW7unNwYW7lrZDoioLngrkKCQkJCQkJZmF0aGVyX3dlbnpoYW5nLmluc2VydEJlZm9yZShuZXdfc3BhbiwgYnJvX3dlbnpoYW5nKTsKCQkJCQkJbmV3X2lucHV0LmZvY3VzKCk7CgkJCQkJfQoJCQkJfSBlbHNlIGlmKGZpbmRfbm90bG9naW4pIHsKCQkJCQkvL+acqueZu+W9lemhtQoJCQkJCXZhciBmYXRoZXJfbm90bG9naW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9naW4taGVhZGVyIik7CgkJCQkJdmFyIGJyb19ub3Rsb2dpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImxvZ2luLXRpdGxlIilbMF07CgkJCQkJaWYoZmF0aGVyX25vdGxvZ2luICYmIGJyb19ub3Rsb2dpbikgewoJCQkJCQlmYXRoZXJfbm90bG9naW4uY2xhc3NMaXN0LmFkZCgnYnNlZ19mX25vdGxvZ2luJyk7CgkJCQkJCS8v5paw5bu6c3BhbuWtkOiKgueCuQoJCQkJCQlmYXRoZXJfbm90bG9naW4uaW5zZXJ0QmVmb3JlKG5ld19zcGFuLCBicm9fbm90bG9naW4pOwoJCQkJCQluZXdfaW5wdXQuZm9jdXMoKTsKCQkJCQkJLy/niYjpnaLmuIXnkIYKCQkJCQkJdmFyIGJfbm9fbG4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJiLW5vLWxuIik7CgkJCQkJCWlmKGJfbm9fbG4pIHsKCQkJCQkJCXZhciBiX25vX2xuX2xlbiA9IGJfbm9fbG4ubGVuZ3RoOwoJCQkJCQkJZm9yKGkgPSAwOyBpIDwgYl9ub19sbl9sZW47IGkrKykgewoJCQkJCQkJCWJfbm9fbG5baV0uY2xhc3NMaXN0LmFkZCgnYnNlZ19iX25vX2xuJyk7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgkJCQl9IGVsc2UgaWYoZmluZF9zeCkgewoJCQkJCS8v5aSx5pWI6YKA6K+3CgkJCQkJdmFyIGZhdGhlcl9zeCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NoYXJlLWludml0ZS1ib3gnKVswXTsKCQkJCQl2YXIgYnJvX3N4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW52aXRlLWJnLWNvbnRhaW5lcicpWzBdOwoJCQkJCWlmKGZhdGhlcl9zeCAmJiBicm9fc3gpIHsKCQkJCQkJZmF0aGVyX3N4LmNsYXNzTGlzdC5hZGQoJ2JzZWdfZl9zeCcpOwoJCQkJCQkvL+aWsOW7unNwYW7lrZDoioLngrkKCQkJCQkJZmF0aGVyX3N4Lmluc2VydEJlZm9yZShuZXdfc3BhbiwgYnJvX3N4KTsKCQkJCQkJbmV3X2lucHV0LmZvY3VzKCk7CgkJCQkJfQoJCQkJfSBlbHNlIGlmKGZpbmRfZmFjZSkgewoJCQkJCS8v5Lq66IS45pCc57SiCgkJCQkJdmFyIGZhdGhlcl9mYWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbW9kdWxlLWZhY2VzZWFyY2gtaGVhZGVyJylbMF07CgkJCQkJaWYoZmF0aGVyX2ZhY2UpIHsKCQkJCQkJZmF0aGVyX2ZhY2UuY2xhc3NMaXN0LmFkZCgnYnNlZ19mX2ZhY2UnKTsKCQkJCQkJLy/mlrDlu7pzcGFu5a2Q6IqC54K5CgkJCQkJCWZhdGhlcl9mYWNlLmFwcGVuZENoaWxkKG5ld19zcGFuKTsKCQkJCQkJbmV3X2lucHV0LmZvY3VzKCk7CgkJCQkJfQoJCQkJfSBlbHNlIGlmKGZpbmRfeWtwKSB7CgkJCQkJLy/kuIDliLvnm7jlhowKCQkJCQl2YXIgZmF0aGVyX2ZhY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd5ay1oZWFkZXJfX2xlZnQnKVswXTsKCQkJCQlpZihmYXRoZXJfZmFjZSkgewoJCQkJCQlmYXRoZXJfZmFjZS5jbGFzc0xpc3QuYWRkKCdic2VnX2ZfeWtwJyk7CgkJCQkJCS8v5paw5bu6c3BhbuWtkOiKgueCuQoJCQkJCQlmYXRoZXJfZmFjZS5hcHBlbmRDaGlsZChuZXdfc3Bhbik7CgkJCQkJCW5ld19pbnB1dC5mb2N1cygpOwoJCQkJCX0KCQkJCX0KCgkJCQkvL+aPkOekuuS6i+S7tgoJCQkJdmFyIG5ld19kaXZfYWxlcnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCQkJCW5ld19kaXZfYWxlcnQuY2xhc3NMaXN0LmFkZCgnYnNlZ19hbGVydCcpOwoJCQkJbmV3X2Rpdl9hbGVydC5zZXRBdHRyaWJ1dGUoImlkIiwgImFsZXJ0Iik7CgkJCQluZXdfZGl2X2FsZXJ0LmNsYXNzTGlzdC5hZGQoJ2JzZWdfbm9uZScpOwoJCQkJYm9keS5hcHBlbmRDaGlsZChuZXdfZGl2X2FsZXJ0KTsKCgkJCQkvL+aPkOekuuaWh+WtlwoJCQkJdmFyIG5ld19kaXZfYWxlcnRfYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJCQkJbmV3X2Rpdl9hbGVydF9jLmNsYXNzTGlzdC5hZGQoJ2JzZWdfYWxlcnRfYycpOwoJCQkJbmV3X2Rpdl9hbGVydF9jLmlubmVySFRNTCA9ICI8YSBocmVmPSdodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3NjcmlwdHMvMzc1MzM3JyB0YXJnZXQ9J19ibGFuaycgY2xhc3M9J2JzZWdfYV9hbGVydF9jJz5b5rK554y06ISa5pysXVvnmb7luqbnvZHnm5jotYTmupDmkJzntKLlvJXmk47ogZrlkIhdPC9hPuaPkOekuuaCqO+8mjxicj48c3BhbiBjbGFzcz0nYnNlZ19uX2FsZXJ0X2MnPuivt+WcqOi+k+WFpeahhui+k+WFpeimgeaQnOe0oueahOWGheWuueOAgjwvc3Bhbj4iOwoJCQkJbmV3X2Rpdl9hbGVydC5hcHBlbmRDaGlsZChuZXdfZGl2X2FsZXJ0X2MpOwoKCQkJCS8v56Gu5a6a5oyJ6ZKuCgkJCQl2YXIgbmV3X2FsZXJ0X2J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwoJCQkJbmV3X2FsZXJ0X2J0bi5jbGFzc0xpc3QuYWRkKCdic2VnX2FsZXJ0X2J0bicsICdic2VnX2N1cnNvcl9wb2ludGVyJyk7CgkJCQluZXdfYWxlcnRfYnRuLmlubmVySFRNTCA9ICLnoa7lrpoiOwoJCQkJbmV3X2Rpdl9hbGVydC5hcHBlbmRDaGlsZChuZXdfYWxlcnRfYnRuKTsKCgkJCQkvL+iOt+W+l+i+k+WFpeahhuaVsOaNrgoJCQkJdmFyIG5ld19pbnB1dF92YWw7CgkJCQkvL+iuoeeul+i+k+WFpeahhuaVsOaNrumVv+W6pgoJCQkJdmFyIG5ld19pbnB1dF92YWxfbGVuOwoJCQkJLy/pu5jorqTpvKDmoIfmoLflvI8KCQkJCW5ld19idG4uY2xhc3NMaXN0LmFkZCgnYnNlZ19jdXJzb3Jfbm90X2FsbG93ZWQnKTsKCQkJCS8v55uR5o6n6L6T5YWl5qGGCgkJCQluZXdfaW5wdXQub25pbnB1dCA9IGZ1bmN0aW9uKCkgewoJCQkJCW5ld19pbnB1dF92YWwgPSBuZXdfaW5wdXQudmFsdWU7CgkJCQkJbmV3X2lucHV0X3ZhbF9sZW4gPSBuZXdfaW5wdXRfdmFsLmxlbmd0aDsKCQkJCQkvL+WmguaenOi+k+WFpeahhuacieaVsOaNrgoJCQkJCWlmKG5ld19pbnB1dF92YWxfbGVuID4gMCkgewoJCQkJCQkvL+m8oOagh+agt+W8j+WPmOS4uuaJi+aMhwoJCQkJCQluZXdfYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2JzZWdfY3Vyc29yX25vdF9hbGxvd2VkJyk7CgkJCQkJCW5ld19idG4uY2xhc3NMaXN0LmFkZCgnYnNlZ19jdXJzb3JfcG9pbnRlcicpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCS8v6byg5qCH5qC35byP5Y+Y5Li656aB5q2iCgkJCQkJCW5ld19idG4uY2xhc3NMaXN0LnJlbW92ZSgnYnNlZ19jdXJzb3JfcG9pbnRlcicpOwoJCQkJCQluZXdfYnRuLmNsYXNzTGlzdC5hZGQoJ2JzZWdfY3Vyc29yX25vdF9hbGxvd2VkJyk7CgkJCQkJfQoJCQkJfQoKCQkJCS8v5pCc57Si5oyJ6ZKu54K55Ye75LqL5Lu2CgkJCQluZXdfYnRuLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKCQkJCQluZXdfaW5wdXRfdmFsID0gbmV3X2lucHV0LnZhbHVlOwoJCQkJCW5ld19pbnB1dF92YWxfbGVuID0gbmV3X2lucHV0X3ZhbC5sZW5ndGg7CgkJCQkJLy/lpoLmnpzovpPlhaXmoYbmnInmlbDmja4KCQkJCQlpZihuZXdfaW5wdXRfdmFsX2xlbiA+IDApIHsKCQkJCQkJLy/ojrflvpfpgInmi6nmoYbph4zooqvpgInkuK3nmoTpgInpobnntKLlvJUKCQkJCQkJdmFyIG9wdGlvbl9pbmRleCA9IG5ld19zZWxlY3Quc2VsZWN0ZWRJbmRleDsKCQkJCQkJLy/moLnmja5pZOWSjOe9keWdgOebruW9leiOt+W+l+e9keWdgAoJCQkJCQl2YXIgcGNzZWFyY2ggPSBkaXJhbGxbb3B0aW9uX2luZGV4XVsxXTsKCQkJCQkJLy/nlKjovpPlhaXmoYbnmoTmlbDmja7mm7/mjaLmjonnvZHlnYDlhoXnmoTmm7/mjaLnrKYKCQkJCQkJdmFyIGR0aSA9IHBjc2VhcmNoLnJlcGxhY2UoIiVzdiUiLCBuZXdfaW5wdXRfdmFsKTsKCQkJCQkJLy/nvZHlnYDot7PovawKCQkJCQkJd2luZG93Lm9wZW4oZHRpKTsKCQkJCQl9IGVsc2UgewoJCQkJCQkvL+WHuueOsOaPkOekugoJCQkJCQluZXdfZGl2X2FsZXJ0LmNsYXNzTGlzdC5yZW1vdmUoJ2JzZWdfbm9uZScpOwoJCQkJCQluZXdfZGl2X2FsZXJ0LmNsYXNzTGlzdC5hZGQoJ2JzZWdfYmxvY2snKTsKCQkJCQkJLy/lh6Dnp5LlkI7oh6rliqjmtojlpLEKCQkJCQkJc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCW5ld19kaXZfYWxlcnQuY2xhc3NMaXN0LnJlbW92ZSgnYnNlZ19ibG9jaycpOwoJCQkJCQkJbmV3X2Rpdl9hbGVydC5jbGFzc0xpc3QuYWRkKCdic2VnX25vbmUnKTsKCQkJCQkJfSwgMjEwMCk7CgkJCQkJCW5ld19pbnB1dC5mb2N1cygpOwoJCQkJCX0KCQkJCX0KCgkJCQkvL+ehruWumuaMiemSrueCueWHu+S6i+S7tgoJCQkJbmV3X2FsZXJ0X2J0bi5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CgkJCQkJbmV3X2Rpdl9hbGVydC5jbGFzc0xpc3QucmVtb3ZlKCdic2VnX2Jsb2NrJyk7CgkJCQkJbmV3X2Rpdl9hbGVydC5jbGFzc0xpc3QuYWRkKCdic2VnX25vbmUnKTsKCQkJCQluZXdfaW5wdXQuZm9jdXMoKTsKCQkJCX0KCgkJCQkvL+W7uueri+ino+mHiuivtOaYjuW8ueWHuumhtQoJCQkJdmFyIG5ld19kaXZfaW5fYWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgkJCQluZXdfZGl2X2luX2FsbC5jbGFzc0xpc3QuYWRkKCdic2VnX2luX2FsbCcpOwoJCQkJbmV3X2Rpdl9pbl9hbGwuc2V0QXR0cmlidXRlKCJpZCIsICJpbl9hbGwiKTsKCQkJCW5ld19kaXZfaW5fYWxsLmNsYXNzTGlzdC5hZGQoJ2JzZWdfbm9uZScpOwoJCQkJYm9keS5hcHBlbmRDaGlsZChuZXdfZGl2X2luX2FsbCk7CgoJCQkJLy/or7TmmI7kuabmoIfpopgKCQkJCXZhciBuZXdfZGl2X2luX3RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgkJCQluZXdfZGl2X2luX3RpdGxlLmNsYXNzTGlzdC5hZGQoJ2JzZWdfaW5fdGl0bGUnKTsKCQkJCW5ld19kaXZfaW5fdGl0bGUuaW5uZXJIVE1MID0gIjxhIGhyZWY9J2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy8zNzUzMzcnIHRhcmdldD0nX2JsYW5rJyBjbGFzcz0nYnNlZ19hX2JsYW5rJz5b5rK554y06ISa5pysXVvnmb7luqbnvZHnm5jotYTmupBf5pCc57Si5byV5pOOX+iBmuWQiF08L2E+5L2/55So6K+05piO5LmmIgoJCQkJbmV3X2Rpdl9pbl9hbGwuYXBwZW5kQ2hpbGQobmV3X2Rpdl9pbl90aXRsZSk7CgoJCQkJLy/pmpDol4/or7TmmI7kuaYKCQkJCXh4bGFyKG5ld19kaXZfaW5fYWxsLCBuZXdfZGl2X2luX3RpdGxlKTsKCgkJCQkvL+ivtOaYjuS5puWGheWuuQoJCQkJdmFyIG5ld19kaXZfaW5fdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJCQkJbmV3X2Rpdl9pbl90ZXh0LmNsYXNzTGlzdC5hZGQoJ2JzZWdfaW5fdGV4dCcpOwoJCQkJdmFyIGluX3RleHQgPSBpblRleHQoKTsKCQkJCW5ld19kaXZfaW5fdGV4dC5pbm5lckhUTUwgPSBpbl90ZXh0OwoJCQkJbmV3X2Rpdl9pbl9hbGwuYXBwZW5kQ2hpbGQobmV3X2Rpdl9pbl90ZXh0KTsKCgkJCQkvL3NwYW7oioLngrnlho3lu7pkaXbmsYLotY/ngrnlh7vlrZDoioLngrkKCQkJCXZhciBuZXdfZGl2X3Jld2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJCQkJbmV3X2Rpdl9yZXdhcmQuY2xhc3NMaXN0LmFkZCgnYnNlZ19yZXdhcmQnLCAnYnNlZ19jdXJzb3JfcG9pbnRlcicsICdic2VnX3VzZXJfc2VsZWN0Jyk7CgkJCQluZXdfZGl2X3Jld2FyZC5zZXRBdHRyaWJ1dGUoImlkIiwgInJld2FyZCIpOwoJCQkJbmV3X2Rpdl9yZXdhcmQuaW5uZXJIVE1MID0gIuWKqSI7CgkJCQluZXdfc3Bhbi5hcHBlbmRDaGlsZChuZXdfZGl2X3Jld2FyZCk7CgoJCQkJLy/lu7pkaXbmlK/mjIHkvZzogIXkuoznu7TnoIHmlL7nva7lrZDoioLngrkKCQkJCXZhciBuZXdfZGl2X3FyX2FsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJCQkJbmV3X2Rpdl9xcl9hbGwuY2xhc3NMaXN0LmFkZCgnYnNlZ19xcl9hbGwnLCAnYnNlZ191c2VyX3NlbGVjdCcpOwoJCQkJbmV3X2Rpdl9xcl9hbGwuc2V0QXR0cmlidXRlKCJpZCIsICJxcl9hbGwiKTsKCQkJCW5ld19kaXZfcXJfYWxsLmNsYXNzTGlzdC5hZGQoJ2JzZWdfbm9uZScpOwoJCQkJYm9keS5hcHBlbmRDaGlsZChuZXdfZGl2X3FyX2FsbCk7CgoJCQkJLy/mlK/mjIHkvZzogIXmoIfpopgKCQkJCXZhciBuZXdfZGl2X3FyX3RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgkJCQluZXdfZGl2X3FyX3RpdGxlLmNsYXNzTGlzdC5hZGQoJ2JzZWdfcXJfdGl0bGUnKTsKCQkJCW5ld19kaXZfcXJfdGl0bGUuaW5uZXJIVE1MID0gIuaEn+iwouaCqOaUr+aMgTxhIGhyZWY9J2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy8zNzUzMzcnIHRhcmdldD0nX2JsYW5rJyBjbGFzcz0nYnNlZ19hX2JsYW5rJz4gW+ayueeMtOiEmuacrF0gW+eZvuW6pue9keebmOi1hOa6kF/mkJzntKLlvJXmk45f6IGa5ZCIXSA8L2E+55qE5byA5Y+R6ICFLOiwouiwoiIKCQkJCW5ld19kaXZfcXJfYWxsLmFwcGVuZENoaWxkKG5ld19kaXZfcXJfdGl0bGUpOwoKCQkJCS8v5YWz6Zet5oyJ6ZKuCgkJCQl4eGxhcihuZXdfZGl2X3FyX2FsbCwgbmV3X2Rpdl9xcl90aXRsZSk7CgoJCQkJLy/mlL7kuoznu7TnoIHnmoTniLboioLngrkKCQkJCXZhciBuZXdfZGl2X3FyX3RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCQkJCW5ld19kaXZfcXJfdGV4dC5jbGFzc0xpc3QuYWRkKCdic2VnX3FyX3RleHQnKTsKCQkJCW5ld19kaXZfcXJfYWxsLmFwcGVuZENoaWxkKG5ld19kaXZfcXJfdGV4dCk7CgoJCQkJLy/kuoznu7TnoIEKCQkJCXZhciBxckFyciA9IHFyQWxsKCk7CgkJCQlmb3IoaSBpbiBxckFycikgewoJCQkJCXZhciBxckFycl9pID0gcXJBcnJbaV07CgkJCQkJdmFyIHFyQXJyX2lfMCA9IHFyQXJyX2lbMF07CgkJCQkJdmFyIHFyQXJyX2lfMSA9IHFyQXJyX2lbMV07CgkJCQkJcXJHZW5lcmF0ZShuZXdfZGl2X3FyX3RleHQsIHFyQXJyX2lfMCwgcXJBcnJfaV8xKTsKCQkJCX0KCgkJCQkvL+ivtOaYjuS5pueCueWHu+S6i+S7tgoJCQkJbmV3X2Rpdl9pbnN0cnVjdC5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIG5kaW5fZGlzcGxheSA9IG5ld19kaXZfaW5fYWxsLmNsYXNzTGlzdC5jb250YWlucygnYnNlZ19ub25lJyk7CgkJCQkJaWYobmRpbl9kaXNwbGF5KSB7CgkJCQkJCW5ld19kaXZfaW5fYWxsLmNsYXNzTGlzdC5yZW1vdmUoJ2JzZWdfbm9uZScpOwoJCQkJCQluZXdfZGl2X2luX2FsbC5jbGFzc0xpc3QuYWRkKCdic2VnX2Jsb2NrJyk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJbmV3X2Rpdl9pbl9hbGwuY2xhc3NMaXN0LnJlbW92ZSgnYnNlZ19ibG9jaycpOwoJCQkJCQluZXdfZGl2X2luX2FsbC5jbGFzc0xpc3QuYWRkKCdic2VnX25vbmUnKTsKCQkJCQl9CgkJCQl9CgoJCQkJLy/msYLotY/ngrnlh7vkuovku7YKCQkJCW5ld19kaXZfcmV3YXJkLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgbmRxcl9kaXNwbGF5ID0gbmV3X2Rpdl9xcl9hbGwuY2xhc3NMaXN0LmNvbnRhaW5zKCdic2VnX25vbmUnKTsKCQkJCQlpZihuZHFyX2Rpc3BsYXkpIHsKCQkJCQkJbmV3X2Rpdl9xcl9hbGwuY2xhc3NMaXN0LnJlbW92ZSgnYnNlZ19ub25lJyk7CgkJCQkJCW5ld19kaXZfcXJfYWxsLmNsYXNzTGlzdC5hZGQoJ2JzZWdfYmxvY2snKTsKCQkJCQl9IGVsc2UgewoJCQkJCQluZXdfZGl2X3FyX2FsbC5jbGFzc0xpc3QucmVtb3ZlKCdic2VnX2Jsb2NrJyk7CgkJCQkJCW5ld19kaXZfcXJfYWxsLmNsYXNzTGlzdC5hZGQoJ2JzZWdfbm9uZScpOwoJCQkJCX0KCQkJCX0KCgkJCQkvL+ivtOaYjuS5puS4reeahOaUr+aMgeS9nOiAhQoJCQkJdmFyIHpjenogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnemN6eicpOwoJCQkJemN6ei5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIG5kcXJfZGlzcGxheSA9IG5ld19kaXZfcXJfYWxsLmNsYXNzTGlzdC5jb250YWlucygnYnNlZ19ub25lJyk7CgkJCQkJaWYobmRxcl9kaXNwbGF5KSB7CgkJCQkJCW5ld19kaXZfcXJfYWxsLmNsYXNzTGlzdC5yZW1vdmUoJ2JzZWdfbm9uZScpOwoJCQkJCQluZXdfZGl2X3FyX2FsbC5jbGFzc0xpc3QuYWRkKCdic2VnX2Jsb2NrJyk7CgkJCQkJfQoJCQkJfQoJCQl9IGVsc2UgewoJCQkJdHRpbWUrKzsKCQkJCS8v5pi+56S654K55LiN5a2Y5Zyo77yM5LiA5q615pe26Ze05ZCO5YaN5qyh5omn6KGMCgkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCWJzZWcodHRpbWUpOwoJCQkJfSwgMjUwKTsKCgkJCX0KCQl9Cgl9IGVsc2UgewoJCWNvbnNvbGUubG9nKCLohJrmnKzlvIDlj5HogIXov5jmnKrmtonlj4rmnKzpobXvvIzor7fmj5DnpLrlvIDlj5HogIXkv67mlLnohJrmnKzjgIJb5rK554y06ISa5pysXe+8iGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy8zNzUzMzfvvIkiKTsKCX0KfQoKLy/mlrDlu7pvcHRpb24KZnVuY3Rpb24gbmV3X29wdGlvbihpaCwgYWlkLCBucywgb2MpIHsKCXZhciBuZXdfb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CgluZXdfb3B0LmNsYXNzTGlzdC5hZGQoJ2JzZWdfb3B0aW9uJywgb2MsICdic2VnX2N1cnNvcl9wb2ludGVyJyk7CgluZXdfb3B0LmlubmVySFRNTCA9IGloOwoJbmV3X29wdC5zZXRBdHRyaWJ1dGUoImlkIiwgYWlkKTsKCW5zLmFwcGVuZENoaWxkKG5ld19vcHQpOwp9CgovL+efreS/oeOAgemAmuiur+W9leeahOaQnOe0ouahhgpmdW5jdGlvbiBiYXJTZWFyY2godDEsIG5pKSB7CglpZih0MSA8IDEwKSB7CgkJdmFyIGJhcl9zZWFyY2ggPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmJhci1zZWFyY2giKSAhPT0gbnVsbCk7CgkJaWYoYmFyX3NlYXJjaCkgewoJCQluaS5jbGFzc0xpc3QuYWRkKCdic2VnX25pJyk7CgkJfSBlbHNlIHsKCQkJdDErKzsKCQkJc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCWJhclNlYXJjaCh0MSwgbmkpOwoJCQl9LCA1MDApOwoJCX0KCX0KfQoKLy/lhbPpl63mjInpkq4KZnVuY3Rpb24geHgoZ2YsIGYsIGxhcikgewoJdmFyIG5ld19jbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJbmV3X2Nsb3NlLmNsYXNzTGlzdC5hZGQoJ2JzZWdfY2xvc2UnLCAnYnNlZ19jdXJzb3JfcG9pbnRlcicsIGxhcik7CgluZXdfY2xvc2UuaW5uZXJIVE1MID0gIsOXIjsKCWYuYXBwZW5kQ2hpbGQobmV3X2Nsb3NlKTsKCW5ld19jbG9zZS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CgkJZ2YuY2xhc3NMaXN0LnJlbW92ZSgnYnNlZ19ibG9jaycpOwoJCWdmLmNsYXNzTGlzdC5hZGQoJ2JzZWdfbm9uZScpOwoJfQp9CgovL+WFs+mXreaMiemSruW3puWPs+S4pOS4qgpmdW5jdGlvbiB4eGxhcihnZiwgZikgewoJeHgoZ2YsIGYsICJic2VnX2Zsb2F0X2xlZnQiKTsKCXh4KGdmLCBmLCAiYnNlZ19mbG9hdF9yaWdodCIpOwp9CgovL+aLvOaOpeivtOaYjuS5pgpmdW5jdGlvbiBpblRleHQoKSB7Cgl2YXIgaTsKCXZhciB0ZSA9ICcnOwoJdGUgKz0gJzxkaXYgaWQ9InpjenoiIGNsYXNzPSJic2VnX3pjenogYnNlZ19jdXJzb3JfcG9pbnRlciBic2VnX3VzZXJfc2VsZWN0Ij4nOwoJdGUgKz0gJ+aUr+aMgeW8gOWPkeiAhSc7Cgl0ZSArPSAnPC9kaXY+PGJyPjxwPic7Cgl0ZSArPSAn6ISa5pys5ZyoICc7Cgl2YXIgdXNlcl9zY3JpcHRzID0gWwoJCVsnaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzM3NTMzNycsICdHcmVhc3kgRm9yaycsIF0sCgkJWydodHRwczovL2dpdGh1Yi5jb20vcXM5MzMxMy9CYWlkdXBhbi1TZWFyY2gtRW5naW5lLUdyb3VwL2Jsb2IvbWFzdGVyL2JzZWcudXNlci5qcycsICdnaXRodWInLCBdLAoJCVsnaHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvazFLRW4wS0poUzVlSE9FVm9DQUVaZycsICflvq7kv6HlhazkvJflj7cnLCBdLAoJCVsnaHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzM2OTM1MzcxL2Fuc3dlci81NDc5MDU4MDknLCAn55+l5LmOJ10sCgkJWydodHRwczovL3RpZWJhLmJhaWR1LmNvbS9wLzU5NzQwMDYzMTMnLCAndGFtcGVybW9ua2V55ZCnJywgXSwKCQlbJ2h0dHBzOi8vdGllYmEuYmFpZHUuY29tL3AvNTk5MzQ3MjI3NycsICdjaHJvbWXlkKcnLCBdLAoJCVsnaHR0cHM6Ly90aWViYS5iYWlkdS5jb20vcC81OTkzNDc0NDg3JywgJ2ZpcmVmb3jlkKcnLCBdLAoJCVsnaHR0cHM6Ly9qdWVqaW4uaW0vcG9zdC81YzBmYzAxMWYyNjVkYTYxNWQ3MjdmMDAnLCAn5o6Y6YeRJywgXSwKCQlbJ2h0dHBzOi8vc2VnbWVudGZhdWx0LmNvbS9hLzExOTAwMDAwMTc1MDA4OTAnLCAnc2VnbWVudGZhdWx0JywgXSwKCQlbJ2h0dHBzOi8vd3d3LnYyZXguY29tL3QvNTI0NDE4JywgJ1YyRVgnLCBdLAoJCVsnaHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIxOTcwNS9hcnRpY2xlL2RldGFpbHMvODQ4ODkyODknLCAnQ1NETicsIF0sCgkJWydodHRwczovL215Lm9zY2hpbmEubmV0L3UvMzQ5ODI1MC9ibG9nLzI5ODcwNDMnLCAn5byA5rqQ5Lit5Zu9JywgXSwKCQlbJ2h0dHBzOi8vd3d3LmNuYmxvZ3MuY29tL3RzenljL3AvMTAxMDU3NDYuaHRtbCcsICfljZrlrqLlm60nLCBdLAoJCVsnaHR0cHM6Ly9ibG9nLjUxY3RvLmNvbS8xMTI1NDE1NC8yMzI4MDAxJywgJzUxQ1RPJywgXSwKCQlbJ2h0dHBzOi8vd3d3LmRvdWJhbi5jb20vZ3JvdXAvdG9waWMvMTMxMzI1ODQxLycsICfosYbnk6MnLCBdLAoJXTsKCXZhciB1c2xmID0gdXNlcl9zY3JpcHRzLmxlbmd0aCAtIDE7Cglmb3IoaSBpbiB1c2VyX3NjcmlwdHMpIHsKCQl2YXIgdWMgPSB1c2VyX3NjcmlwdHNbaV07CgkJdmFyIHVjMCA9IHVjWzBdOwoJCXZhciB1YzEgPSB1Y1sxXTsKCQl0ZSArPSAnPGEgaHJlZj0iJzsKCQl0ZSArPSB1YzA7CgkJdGUgKz0gJyIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJic2VnX2FfYmxhbmsiPic7CgkJdGUgKz0gdWMxOwoJCXRlICs9ICc8L2E+JzsKCQlpZihpIDwgdXNsZikgewoJCQl0ZSArPSAn44CBJzsKCQl9Cgl9Cgl0ZSArPSAnIOWIhuS6q+OAgic7Cgl0ZSArPSAnPC9wPjxicj48cD4nOwoJdGUgKz0gJzxiIGNsYXNzPSJic2VnX2xvb2tvdXQiPuazqOaEj++8muivpeiEmuacrOWPr+iDveS8mumikee5geabtOaWsOOAgjwvYj7nlLHkuo7ov5nmmK/ohJrmnKzvvIzmlbDmja7lubbpnZ7lrZjlnKjmn5DmnI3liqHlmajnmoTmlbDmja7lupPph4zvvIzogIzmmK/nm7TmjqXlhpnmrbvlnKjohJrmnKzph4zvvIzmlbDmja7mm7TmlrDljbPohJrmnKzmm7TmlrDjgILov5nkupvnmb7luqbnvZHnm5jmkJzntKLlvJXmk47nvZHnq5nnmoTop4TliJnmlbDmja7mmK/kvJrlj5HnlJ/mlLnlj5jnmoTvvIzlvIDlj5HogIXkvJrms6jmhI/nvZHnq5nnmoTop4TliJnlj5jljJblubbmm7TmlrDohJrmnKzjgIInOwoJdGUgKz0gJzwvcD48YnI+PHA+JzsKCXRlICs9ICc8YiBjbGFzcz0iYnNlZ19sb29rb3V0Ij7ms6jmhI/vvIHov5nkupvmkJzntKLnvZHpobXkuIrpmr7lhY3mnInlub/lkYrvvIzmjqjojZDkvb/nlKg8YSBocmVmPSJodHRwczovL3d3dy5hZHRjaHJvbWUuY29tL2hlbHAvaW5kZXguaHRtbCIgdGFyZ2V0PV9ibGFuayIgY2xhc3M9ImJzZWdfYV9ibGFuayI+5bm/5ZGK57uI57uT6ICFPC9hPuetieaJqeWxleWxj+iUveW5v+WRiuOAgjwvYj4nOwoJdGUgKz0gJzwvcD48YnI+PHA+JzsKCXRlICs9ICfkuIvpnaLliJfkuL7ohJrmnKzkuK3lt7LogZrlkIjnmoTnmb7luqbnvZHnm5jotYTmupBf5pCc57Si5byV5pOO77yaJzsKCXRlICs9ICc8YnI+JzsKCXZhciB0ZWEgPSBkaXJfYWxsX290KCk7Cglmb3IoaSBpbiB0ZWEpIHsKCQl2YXIgdGVhYSA9IHRlYVtpXTsKCQl2YXIgdGVhYTAgPSB0ZWFhWzBdOwoJCXZhciB0ZWFhMSA9IHRlYWFbMV07CgkJdmFyIGExID0gcGFyc2VJbnQoaSkgKyAxOwoJCWExID0gKGExIDwgMTApID8gKCcwJyArIGExKSA6IGExOwoJCWExID0gKGExIDwgMTAwKSA/ICgnMCcgKyBhMSkgOiBhMTsKCQl0ZSArPSAnPGRpdiBjbGFzcz0iYnNlZ19ic2UiPic7CgkJdGUgKz0gJzxkaXYgY2xhc3M9ImJzZWdfYnNlX2kiPic7CgkJdGUgKz0gYTE7CgkJdGUgKz0gJzwvZGl2Pic7CgkJdGUgKz0gJzxhIGhyZWY9Iic7CgkJdGUgKz0gdGVhYTA7CgkJdGUgKz0gJyIgdGFyZ2V0PV9ibGFuayIgY2xhc3M9ImJzZWdfYV9ibGFuayI+JzsKCQl0ZSArPSAnWyc7CgkJdGUgKz0gdGVhYTE7CgkJdGUgKz0gJ10gJzsKCQl0ZSArPSAnPC9hPic7CgkJdGUgKz0gJzwvZGl2PicKCX0KCXRlICs9ICc8L3A+PGJyPjxwPic7Cgl0ZSArPSAn5pCc57Si5byV5pOO55qE5o6S5bqP5p2D6YeN5Li677yaJzsKCXZhciB3cyA9IFsKCQlbJ+e9keermeW/hemhu+iDveiuv+mXru+8jOS4jeiDveiuv+mXrueahOe9keermeinguWvn+S4gOauteaXtumXtOWQjuWIoOmZpOOAgiddLAoJCVsn572R56uZ6K6/6Zeu6KaB56iz5a6a77yM572R56uZ6K6/6Zeu56iz5a6a55qE6Z2g5YmN44CCJ10sCgkJWyfmkJzntKLlvJXmk47mmK/lkKbmlLbotLnvvIzlhY3otLnnmoTmkJzntKLlvJXmk47pnaDliY3jgIInXSwKCQlbJ+aQnOe0ouW8leaTjuaYr+WQpuS4k+mXqOaQnOe0oueZvuW6pue9keebmOi1hOa6kO+8jOS4k+mXqOaQnOe0oueZvuW6pue9keebmOi1hOa6kOeahOmdoOWJjeOAgiddLAoJCVsn572R56uZ5pyN5Yqh5Zmo55qE5L2N572u77yM5pyN5Yqh5Zmo5Zyo5aKD5YaF55qE6Z2g5YmN44CCJ10sCgkJWyfmkJzntKLnu5PmnpznmoTmlbDph4/vvIzmlbDph4/lpJrnmoTpnaDliY3jgIInXSwKCQlbJ+aQnOe0oue7k+aenOeahOi0qOmHj++8jOWkseaViOmTvuaOpeWwkeeahOmdoOWJjeOAgiddLAoJCVsn5pCc57Si57uT5p6c5piv5ZCm5Y+K5pe25pu05paw77yM5Y+K5pe25pu05paw55qE6Z2g5YmN44CCJ10sCgkJWyfnvZHnq5nor7fmsYLph4fnlKjnmoTlrZfnrKbnvJbnoIHvvIzlt7Lnn6XnvJbnoIHnmoTkv53nlZnvvIzmnKrnn6XnvJbnoIHnmoTliKDpmaTjgIInXSwKCQlbJ+W3suefpeWtl+espue8lueggeeahOaOkuW6j++8jOS7juWJjeW+gOWQjuS+neasoeaYr+WNleWxgnVybOe8lueggeOAgeWPjOWxgnVybOe8lueggeOAgWdia+e8lueggeOAgUVzY2FwZee8lueggeOAgUJhc2U2NOe8lueggeOAgVVuaWNvZGXnvJbnoIHjgIInXSwKCQlbJ+e9keermemHh+eUqOeahEhUVFDor7fmsYLmlrnms5XvvIzph4fnlKhnZXTmlrnms5XnmoTmlLblvZXjgIInXSwKCQlbJ+aYr+WQpuacieWKoOWvhuWIhuS6q+e7k+aenO+8jOacieWKoOWvhuWIhuS6q+e7k+aenOeahOmdoOWJjeOAgiddLAoJCVsn5Zyo5bey6YeH55So5bm/5ZGK5bGP6JS95o+S5Lu255qE5oOF5Ya15LiL77yM5L6d54S25pyJ5bm/5ZGK55qE6Z2g5ZCO44CCJ10sCgkJWyfmmK/lkKbmnInoh6rliqjloavliqDlr4bliIbkuqvlr4bnoIHnmoTmj5Lku7bvvIzmnInmj5Lku7bnmoTpnaDliY3jgIInXSwKCQlbJ+e9keermeS9v+eUqEhUVFBT5Y2P6K6u55qE6Z2g5YmN44CCJ10sCgldOwoJZm9yKGkgaW4gd3MpIHsKCQl0ZSArPSAiPC9wPjxwPiI7CgkJdmFyIHdzaSA9IHdzW2ldOwoJCXZhciBhMiA9IHBhcnNlSW50KGkpICsgMTsKCQlhMiA9IChhMiA8IDEwKSA/ICgnMCcgKyBhMikgOiBhMjsKCQl0ZSArPSBhMjsKCQl0ZSArPSAi77yaIjsKCQl0ZSArPSB3c2k7Cgl9Cgl0ZSArPSAnPC9wPjxicj48cD4nOwoJdGUgKz0gJ+ivtOaYjuS5pui/mOWcqOi/m+S4gOatpeWujOWWhOS4reOAgic7Cgl0ZSArPSAnPC9wPjxicj48cD4nOwoJdGUgKz0gJ+i/mOWPr+S7peWwneivleW8gOWPkeiAheWFtuS7luiEmuacrO+8mic7Cgl0ZSArPSAnPC9wPic7Cgl2YXIgb3RoZXJfc2NyaXB0cyA9IFsKCQlbJ2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy8zOTk3MScsICflkIzkuIDor43mnaHlnKjnmb7luqbnmb7np5Hnu7Tln7rnmb7np5HnrYnnvZHnu5znmb7np5HkuK3kupLnm7jot7PovawnLCBdLAoJCVsnaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzM3NTgzOCcsICdHcmVhc3kgRm9yayDnroDkvZPmsYnlrZfpobXpnaLmmL7npLrml6XlnYflronoo4Xph48nLCBdLAoJCVsnaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzM3NTc5OScsICflhajnvZHnpoHnlKhpbnB1dOiHquWKqOWujOaIkCcsIF0sCgldOwoJZm9yKGkgaW4gb3RoZXJfc2NyaXB0cykgewoJCXZhciBvc2IgPSBvdGhlcl9zY3JpcHRzW2ldOwoJCXZhciBvc2IwID0gb3NiWzBdOwoJCXZhciBvc2IxID0gb3NiWzFdOwoJCXRlICs9ICc8cD48YSBocmVmPSInOwoJCXRlICs9IG9zYjA7CgkJdGUgKz0gJyIgdGFyZ2V0PV9ibGFuayIgY2xhc3M9ImJzZWdfYV9ibGFuayI+JzsKCQl0ZSArPSAnWyc7CgkJdGUgKz0gb3NiMTsKCQl0ZSArPSAnXSAnOwoJCXRlICs9ICc8L2E+PC9wPic7Cgl9CglyZXR1cm4gdGU7Cn0KCi8v5LqM57u056CB55Sf5oiQCmZ1bmN0aW9uIHFyR2VuZXJhdGUoZiwgcXJtLCBjaWgpIHsKCS8v5YyF5ZCr5LqM57u056CB5ZKM6Kej6YeK55qEZGl2Cgl2YXIgZGl2X3FyX2MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCWRpdl9xcl9jLmNsYXNzTGlzdC5hZGQoJ2JzZWdfcXJfYycpOwoJZi5hcHBlbmRDaGlsZChkaXZfcXJfYyk7CgkvL+S6jOe7tOeggeWbvueJhwoJdmFyIGltZ19xciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwoJaW1nX3FyLmNsYXNzTGlzdC5hZGQoJ2JzZWdfaW1nX3FyJyk7Cgl2YXIgYmFzZTY0X3FyID0gcXJtOwoJaW1nX3FyLnNldEF0dHJpYnV0ZSgnc3JjJywgYmFzZTY0X3FyKTsKCWRpdl9xcl9jLmFwcGVuZENoaWxkKGltZ19xcik7CgkvL+S6jOe7tOeggQoJdmFyIGRpdl9jID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CglkaXZfYy5jbGFzc0xpc3QuYWRkKCdic2VnX2NpaCcpOwoJZGl2X2MuaW5uZXJIVE1MID0gY2loOwoJZGl2X3FyX2MuYXBwZW5kQ2hpbGQoZGl2X2MpOwp9CgovL+aQnOe0ouW8leaTjuebruW9lQpmdW5jdGlvbiBkaXJfYWxsX290KCkgewoJdmFyIHRlYSA9IFsKCQlbImh0dHBzOi8vd3d3Lnl1YmFpcGFuLmNvbS8iLCAi546J55m955uYIiwgWwoJCQlbIiIsICJodHRwczovL3d3dy55dWJhaXBhbi5jb20vIy9tYWluL3NlYXJjaD9rZXl3b3JkPSVzdiUiLCAiYnNlZ19vcHRpb25fMSIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vd3d3LmRhc2hlbmdwYW4uY29tLyIsICLlpKflnKPnm5giLCBbCgkJCVsiIiwgImh0dHBzOi8vd3d3LmRhc2hlbmdwYW4uY29tL3NlYXJjaD9rZXl3b3JkPSVzdiUiLCAiYnNlZ19vcHRpb25fMSIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vd3d3LmZlaWZlaXBhbi5jb20vIiwgIumjnumjnuebmCIsIFsKCQkJWyIiLCAiaHR0cHM6Ly93d3cuZmVpZmVpcGFuLmNvbS9zZWFyY2g/a2V5d29yZD0lc3YlIiwgImJzZWdfb3B0aW9uXzEiLCBdLAoJCV0sIF0sCgkJWyJodHRwczovL3d3dy5iYWltYXBhbi5jb20vIiwgIueZvemprOebmCIsIFsKCQkJWyIiLCAiaHR0cHM6Ly93d3cuYmFpbWFwYW4uY29tLy9zZWFyY2g/a2V5d29yZD0lc3YlIiwgImJzZWdfb3B0aW9uXzEiLCBdLAoJCV0sIF0sCgkJWyJodHRwczovL3d3dy5mZWl6aHVwYW4uY29tLyIsICLpo57njKrnm5giLCBbCgkJCVsiIiwgImh0dHBzOi8vd3d3LmZlaXpodXBhbi5jb20vc2VhcmNoP2tleXdvcmQ9JXN2JSIsICJic2VnX29wdGlvbl8xIiwgXSwKCQldLCBdLAoJCVsiaHR0cHM6Ly93d3cubHVvbWFwYW4uY29tLyIsICLnvZfpqaznm5giLCBbCgkJCVsiIiwgImh0dHBzOi8vd3d3Lmx1b21hcGFuLmNvbS9zZWFyY2g/a2V5d29yZD0lc3YlIiwgImJzZWdfb3B0aW9uXzEiLCBdLAoJCV0sIF0sCgkJWyJodHRwczovL3d3dy54aWFvbWFwYW4uY29tLyIsICLlsI/pqaznm5giLCBbCgkJCVsiIiwgImh0dHBzOi8vd3d3LnhpYW9tYXBhbi5jb20vc2VhcmNoP2tleXdvcmQ9JXN2JSIsICJic2VnX29wdGlvbl8xIiwgXSwKCQldLCBdLAoJCVsiaHR0cHM6Ly93d3cuaWl6aGkuY24vIiwgIuavleaWuemTuiIsIFsKCQkJWyIiLCAiaHR0cHM6Ly93d3cuaWl6aGkuY24vcmVzb3VyY2Uvc2VhcmNoLyVzdiUiLCAiYnNlZ19vcHRpb25fMSIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vZGFsaXBhbi5jb20vIiwgIuWkp+WKm+ebmCIsIFsKCQkJWyIiLCAiaHR0cHM6Ly93d3cuZGFsaXBhbi5jb20vc2VhcmNoP2tleXdvcmQ9JXN2JSIsICJic2VnX29wdGlvbl8xIiwgXSwKCQldLCBdLAoJCVsiaHR0cHM6Ly93d3cucGFub3RoZXIuY29tLyIsICLnm5jku5YiLCBbCgkJCVsiIiwgImh0dHBzOi8vd3d3LnBhbm90aGVyLmNvbS9zZWFyY2g/cXVlcnk9JXN2JSIsICJic2VnX29wdGlvbl8xIiwgXSwKCQldLCBdLAoJCVsiaHR0cHM6Ly93d3cueGlhb3podWt1YWlwYW4uY29tLyIsICLlsI/njKrlnZfnm5giLCBbCgkJCVsiIiwgImh0dHBzOi8vd3d3LnhpYW96aHVrdWFpcGFuLmNvbS9zL3NlYXJjaD9xPSVzdiUiLCAiYnNlZ19vcHRpb25fMSIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vdWp1c28uY29tLyIsICLkvJjogZrmkJwiLCBbCgkJCVsiIiwgImh0dHBzOi8vdWp1c28uY29tLyMvbWFpbj9rdz0lc3YlIiwgImJzZWdfb3B0aW9uXzQiLCBdLAoJCV0sIF0sCgkJWyJodHRwczovL3d3dy5hbGlwYW5zby5jb20iLCAi6Zi/6YeM55uY5pCcIiwgWwoJCQlbIiIsICJodHRwczovL3d3dy5hbGlwYW5zby5jb20vc2VhcmNoLmh0bWw/cGFnZT0xJmtleXdvcmQ9JXN2JSIsICJic2VnX29wdGlvbl80IiwgXSwKCQldLCBdLAoJCVsiaHR0cDovL3d3dy5wYW5tZW1lLmNvbS8iLCAi55uY5LmI5LmIIiwgWwoJCQlbIiIsICJodHRwOi8vd3d3LnBhbm1lbWUuY29tL3F1ZXJ5P2tleT0lc3YlIiwgImJzZWdfb3B0aW9uXzIiLCBdLAoJCV0sIF0sCgkJWyJodHRwOi8vd3d3LnhpYW9iYWlwYW4uY29tLyIsICLlsI/nmb3nm5giLCBbCgkJCVsiIiwgImh0dHA6Ly93d3cueGlhb2JhaXBhbi5jb20vbGlzdC0lc3YlLmh0bWwiLCAiYnNlZ19vcHRpb25fMiIsIF0sCgkJXSwgXSwKCQlbImh0dHA6Ly93d3cua2VuZ3NvLmNvbS8iLCAi5Z2R5pCc572RIiwgWwoJCQlbIiIsICJodHRwOi8vd3d3Lmtlbmdzby5jb20vcz93ZD0lc3YlIiwgImJzZWdfb3B0aW9uXzIiLCBdLAoJCV0sIF0sCgkJWyJodHRwOi8vd3d3LnJlcGFuc28uY29tIiwgIueDreebmOaQnCIsIFsKCQkJWyIiLCAiaHR0cDovL3d3dy5yZXBhbnNvLmNvbS9xP3dkPSVzdiUiLCAiYnNlZ19vcHRpb25fMiIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vd3d3Lmhhb2dvdy5jb20vIiwgIuWlveWOu+e9kSIsIFsKCQkJWyIiLCAiaHR0cHM6Ly93d3cuaGFvZ293LmNvbS9zZWFyY2g/a2V5d29yZD0lc3YlIiwgImJzZWdfb3B0aW9uXzIiLCBdLAoJCV0sIF0sCgkJWyJodHRwOi8vd3d3LnZwYW5zb3UuY29tLyIsICJW55uY5pCcIiwgWwoJCQlbIiIsICJodHRwOi8vd3d3LnZwYW5zb3UuY29tL3F1ZXJ5P3dkPSVzdiUiLCAiYnNlZ19vcHRpb25fMiIsIF0sCgkJXSwgXSwKCQlbImh0dHA6Ly9haXpoYW9tdS5jb20vIiwgIuWIm+S4muaLmyIsIFsKCQkJWyIiLCAiaHR0cDovL2Fpemhhb211LmNvbS9zZWFyY2gva3clc3YlIiwgImJzZWdfb3B0aW9uXzIiLCBdLAoJCV0sIF0sCgkJWyJodHRwOi8vd3d3LnNvZHUxMjMuY29tLyIsICLmkJzluqYiLCBbCgkJCVsiIiwgImh0dHA6Ly93d3cuc29kdTEyMy5jb20vc29kdS9zby5waHA/cT0lc3YlIiwgImJzZWdfb3B0aW9uXzIiLCBdLAoJCV0sIF0sCgkJLy/ku6XkuIvnmoTmm7TmlrDmhaIKCQlbImh0dHA6Ly93d3cucGFuc291LmNvbS8iLCAi55uY5pCcIiwgWwoJCQlbIiIsICJodHRwOi8vd3d3LnBhbnNvdS5jb20vP3E9JXN2JSIsICJic2VnX29wdGlvbl8zIiwgXSwKCQldLCBdLAoJCVsiaHR0cHM6Ly93d3cuZmFzdHNvc28uY24vIiwgImZhc3Rzb3NvIiwgWwoJCQlbIiIsICJodHRwczovL3d3dy5mYXN0c29zby5jbi9zZWFyY2g/az0lc3YlIiwgImJzZWdfb3B0aW9uXzMiLCBdLAoJCV0sIF0sCgkJWyJodHRwOi8vd3d3LjUxc29wYW4uY24vIiwgIjUx5pCc55uYIiwgWwoJCQlbIiIsICJodHRwOi8vd3d3LjUxc29wYW4uY24vcz93ZD0lc3YlIiwgImJzZWdfb3B0aW9uXzMiLCBdLAoJCV0sIF0sCgkJWyJodHRwOi8vd3d3LmJhaWR1eXVuc291c291LmNvbS8iLCAi5Lik6bif5LuqIiwgWwoJCQlbIiIsICJodHRwOi8vd3d3LmJhaWR1eXVuc291c291LmNvbS9zZWFyY2g/a3c9JXN2JSIsICJic2VnX29wdGlvbl8zIiwgXSwKCQldLCBdLAoJCVsiaHR0cDovL3d3dy52cGFuc28uY29tLyIsICLlvq7nm5jmkJwiLCBbCgkJCVsiIiwgImh0dHA6Ly93d3cudnBhbnNvLmNvbS9zP3dkPSVzdiUiLCAiYnNlZ19vcHRpb25fMyIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vd3d3Lnh4aGgzNjAuY29tLyIsICLkupHmkJzlpKfluIgiLCBbCgkJCVsiIiwgImh0dHBzOi8vd3d3Lnh4aGgzNjAuY29tL3NlYXJjaD9xPSVzdiUiLCAiYnNlZ19vcHRpb25fMyIsIF0sCgkJXSwgXSwKCQlbImh0dHA6Ly93d3cuamlzb3VwYW4uY29tLyIsICLlj4rmkJznm5giLCBbCgkJCVsiIiwgImh0dHA6Ly93d3cuamlzb3VwYW4uY29tL3NlYXJjaC8lc3YlLmh0bWwiLCAiYnNlZ19vcHRpb25fMyIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vd3d3LnNvc3VvcGFuLmNuLyIsICLmkJzntKLnm5giLCBbCgkJCVsiIiwgImh0dHBzOi8vd3d3LnNvc3VvcGFuLmNuL3NlYXJjaD9xPSVzdiUiLCAiYnNlZ19vcHRpb25fMyIsIF0sCgkJXSwgXSwKCQlbImh0dHA6Ly93d3cueXVucHoubmV0L3dhbmdwYW4uaHRtbCIsICLkupHpk7rlrZAiLCBbCgkJCVsiIiwgImh0dHA6Ly93d3cueXVucHoubmV0L3dhbmdwYW4uaHRtbCIsICJic2VnX29wdGlvbl8zIiwgXSwKCQldLCBdLAoJCVsiaHR0cHM6Ly93d3cucGFuZGFkYS5uZXQvIiwgIuebmOWkp+WkpyIsIFsKCQkJWyIiLCAiaHR0cHM6Ly93d3cucGFuZGFkYS5uZXQvIiwgImJzZWdfb3B0aW9uXzMiLCBdLAoJCV0sIF0sCgkJWyJodHRwOi8vY2hhd2FuZ3Bhbi5jb20vIiwgIuebmOaQnOWkp+W4iCIsIFsKCQkJWyIiLCAiaHR0cDovL2NoYXdhbmdwYW4uY29tL3BheW1lbnRMaXN0Lmh0bWw/ZmllbGQ9JXN2JSIsICJic2VnX29wdGlvbl8zIiwgXSwKCQldLCBdLAoJCVsiaHR0cDovL3d3dy5xaWFvbWkuY24vIiwgIuW3p+i/t+e9kSIsIFsKCQkJWyIiLCAiaHR0cDovL3d3dy5xaWFvbWkuY24vIiwgImJzZWdfb3B0aW9uXzMiLCBdLAoJCV0sIF0sCgkJLy/ku6XkuIvmmK/mkJzkuabnmoQKCQlbImh0dHA6Ly9pYm9va3Mub3JnLmNuLyIsICLor7vkuablsI/nq5kiLCBbCgkJCVsiIiwgImh0dHA6Ly9pYm9va3Mub3JnLmNuLz9zPeS4i+i9vSAlc3YlIiwgImJzZWdfb3B0aW9uXzkiLCBdLAoJCV0sIF0sCgkJWyJodHRwczovL3NvYm9va3MuY2MvIiwgInNvYm9va3MiLCBbCgkJCVsiIiwgImh0dHBzOi8vc29ib29rcy5jYy9zZWFyY2gvJXN2JSIsICJic2VnX29wdGlvbl85IiwgXSwKCQldLCBdLAoJCVsiaHR0cHM6Ly93d3cueHNzb3Vzb3UuY29tLyIsICLlsI/or7TmkJzmkJwiLCBbCgkJCVsiIiwgImh0dHBzOi8vd3d3Lnhzc291c291LmNvbS9zLyVzdiUuaHRtbDovL25laWt1dy5jb20vP3M9JXN2JSIsICJic2VnX29wdGlvbl85IiwgXSwKCQldLCBdLAoJCVsiaHR0cHM6Ly93d3cuanVuZW5nZmFuLmNuL2JkIiwgIueCueeCueaWh+ahoyIsIFsKCQkJWyIiLCAiaHR0cHM6Ly93d3cuanVuZW5nZmFuLmNuL2MvJXN2JSIsICJic2VnX29wdGlvbl85IiwgXSwKCQldLCBdLAoJCS8v5Lul5LiL5LiN5piv5LiT6Zeo55qE5pCc57Si5byV5pOOCgkJWyJodHRwczovL3d3dy5iYWlkdS5jb20vcz93ZD0ocGFufHl1bikuYmFpZHUuY29tJmN0PTEiLCAi55m+5bqm5pCc57SiIiwgWwoJCQlbIiIsICJodHRwczovL3d3dy5iYWlkdS5jb20vcz93ZD0lc3YlJTIwKHBhbnx5dW4pLmJhaWR1LmNvbSZjdD0xIiwgImJzZWdfb3B0aW9uXzUiLCBdLAoJCV0sIF0sCgkJWyJodHRwczovL3d3dy5nb29nbGUuY29tLmhrL3NlYXJjaD9xPXBhbiUyMG9yJTIweXVuJTIwLmJhaWR1LmNvbSIsICLosLfmrYzmkJzntKIiLCBbCgkJCVsiIiwgImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20uaGsvc2VhcmNoP3E9JXN2JSUyMHBhbiUyMG9yJTIweXVuJTIwLmJhaWR1LmNvbSIsICJic2VnX29wdGlvbl81IiwgXSwKCQldLCBdLAoJCVsiaHR0cHM6Ly93d3cuc29nb3UuY29tL3dlYj9pZT11dGY4JnF1ZXJ5PXBhbi5iYWlkdS5jb20iLCAi5pCc54uX5pCc57SiIiwgWwoJCQlbIiIsICJodHRwczovL3d3dy5zb2dvdS5jb20vd2ViP2llPXV0ZjgmcXVlcnk9JXN2JSUyMHBhbi5iYWlkdS5jb20iLCAiYnNlZ19vcHRpb25fNSIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vc28udG91dGlhby5jb20vc2VhcmNoP2tleXdvcmQ9cGFuLmJhaWR1LmNvbSIsICLlpLTmnaHmkJzntKIiLCBbCgkJCVsiIiwgImh0dHBzOi8vc28udG91dGlhby5jb20vc2VhcmNoP2tleXdvcmQ9JXN2JSUyMHBhbi5iYWlkdS5jb20iLCAiYnNlZ19vcHRpb25fNSIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vd3d3LnNvLmNvbS9zP3E9cGFuLmJhaWR1LmNvbSIsICIzNjDlpb3mkJwiLCBbCgkJCVsiIiwgImh0dHBzOi8vd3d3LnNvLmNvbS9zP3E9JXN2JSUyMHBhbi5iYWlkdS5jb20iLCAiYnNlZ19vcHRpb25fNSIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vY24uYmluZy5jb20vc2VhcmNoP3E9cGFuLmJhaWR1LmNvbSIsICLlv4XlupTmkJzntKIiLCBbCgkJCVsiIiwgImh0dHBzOi8vY24uYmluZy5jb20vc2VhcmNoP3E9JXN2JSUyMHBhbi5iYWlkdS5jb20iLCAiYnNlZ19vcHRpb25fNSIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vbS5zbS5jbi9zP3E9cGFuLmJhaWR1LmNvbSIsICLnpZ7pqazmkJzntKIiLCBbCgkJCVsiIiwgImh0dHBzOi8vbS5zbS5jbi9zP3E9JXN2JSUyMHBhbi5iYWlkdS5jb20iLCAiYnNlZ19vcHRpb25fNSIsIF0sCgkJXSwgXSwKCQlbImh0dHA6Ly93d3cuY2hpbmFzby5jb20vc2VhcmNoL3BhZ2VzZWFyY2guaHRtP3E9cGFuLmJhaWR1LmNvbSIsICLkuK3lm73mkJzntKIiLCBbCgkJCVsiIiwgImh0dHA6Ly93d3cuY2hpbmFzby5jb20vc2VhcmNoL3BhZ2VzZWFyY2guaHRtP3E9JXN2JSUyMHBhbi5iYWlkdS5jb20iLCAiYnNlZ19vcHRpb25fNSIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vbWFnaS5jb20vc2VhcmNoP3E9cGFuLmJhaWR1LmNvbSIsICJNYWdp5pCc57SiIiwgWwoJCQlbIiIsICJodHRwczovL21hZ2kuY29tL3NlYXJjaD9xPSVzdiUlMjBwYW4uYmFpZHUuY29tIiwgImJzZWdfb3B0aW9uXzUiLCBdLAoJCV0sIF0sCgkJWyJodHRwOi8vd3d3LnNvdXN1b2JkLmNvbS8/cT1wYW4uYmFpZHUuY29tIiwgIuW/hei+vuaQnOe0oiIsIFsKCQkJWyIiLCAiaHR0cDovL3d3dy5zb3VzdW9iZC5jb20vP3E9JXN2JSUyMHBhbi5iYWlkdS5jb20iLCAiYnNlZ19vcHRpb25fNSIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vbWlqaXNvdS5jb20vP2xhbmd1YWdlPXpoLUNOJnE9cGFuLmJhaWR1LmNvbSIsICLnp5jov7nmkJzntKIiLCBbCgkJCVsiIiwgImh0dHBzOi8vbWlqaXNvdS5jb20vP2xhbmd1YWdlPXpoLUNOJnE9JXN2JSUyMHBhbi5iYWlkdS5jb20iLCAiYnNlZ19vcHRpb25fNSIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vd3d3LmRhbWluZ3dlYi5jb20vcGFuLmJhaWR1LmNvbS5odG1sIiwgIuWkp+aYjue9kSIsIFsKCQkJWyIiLCAiaHR0cHM6Ly93d3cuZGFtaW5nd2ViLmNvbS8lc3YlJTIwcGFuLmJhaWR1LmNvbS5odG1sIiwgImJzZWdfb3B0aW9uXzUiLCBdLAoJCV0sIF0sCgkJWyJodHRwOi8vd3d3LmRnc28uY24vay9wYW4uYmFpZHUuY29tIiwgIueou+aQnCIsIFsKCQkJWyIiLCAiaHR0cDovL3d3dy5kZ3NvLmNuL2svJXN2JSUyMHBhbi5iYWlkdS5jb20iLCAiYnNlZ19vcHRpb25fNSIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vd3d3LmVjb3NpYS5vcmcvc2VhcmNoP3E9cGFuLmJhaWR1LmNvbSIsICJlY29zaWEiLCBbCgkJCVsiIiwgImh0dHBzOi8vd3d3LmVjb3NpYS5vcmcvc2VhcmNoP3E9JXN2JSUyMHBhbi5iYWlkdS5jb20iLCAiYnNlZ19vcHRpb25fNSIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vZHVja2R1Y2tnby5jb20vP3E9cGFuLmJhaWR1LmNvbSZpYT13ZWIiLCAiZHVjayoyZ28iLCBbCgkJCVsiIiwgImh0dHBzOi8vZHVja2R1Y2tnby5jb20vP3E9JXN2JStwYW4uYmFpZHUuY29tJmlhPXdlYiIsICJic2VnX29wdGlvbl81IiwgXSwKCQldLCBdLAoJCVsiaHR0cHM6Ly93d3cud2ViY3Jhd2xlci5jb20vc2VycD9xPXBhbi5iYWlkdS5jb20iLCAiY3Jhd2xlciIsIFsKCQkJWyIiLCAiaHR0cHM6Ly93d3cud2ViY3Jhd2xlci5jb20vc2VycD9xPSVzdiUlMjBwYW4uYmFpZHUuY29tIiwgImJzZWdfb3B0aW9uXzUiLCBdLAoJCV0sIF0sCgkJWyJodHRwczovL3N3aXNzY293cy5jaC93ZWI/cXVlcnk9cGFuLmJhaWR1LmNvbSZyZWdpb249emgtQ04iLCAic3dpc3Njb3dzIiwgWwoJCQlbIiIsICJodHRwczovL3N3aXNzY293cy5jaC93ZWI/cXVlcnk9JXN2JSUyMHBhbi5iYWlkdS5jb20mcmVnaW9uPXpoLUNOIiwgImJzZWdfb3B0aW9uXzUiLCBdLAoJCV0sIF0sCgkJWyJodHRwczovL3N1Y2hlLndlYi5kZS93ZWIvcmVzdWx0P3E9cGFuLmJhaWR1LmNvbSIsICJ3ZWIuZGUiLCBbCgkJCVsiIiwgImh0dHBzOi8vc3VjaGUud2ViLmRlL3dlYi9yZXN1bHQ/cT0lc3YlJTIwcGFuLmJhaWR1LmNvbSIsICJic2VnX29wdGlvbl81IiwgXSwKCQldLCBdLAoJCVsiaHR0cHM6Ly93YW5ncGFuLnJlbnJlbnNvdXN1by5jb20vIiwgIuS8l+S6uuaQnOe9keebmCIsIFsKCQkJWyIiLCAiaHR0cHM6Ly93YW5ncGFuLnJlbnJlbnNvdXN1by5jb20vamllZ3VvP3NhPee9keebmOaQnOe0oiZxPSVzdiUiLCAiYnNlZ19vcHRpb25fNSIsIF0sCgkJXSwgXSwKCQkvL+S7peS4i+eahOimgeaUtui0uQoJCVsiaHR0cHM6Ly93d3cubGFpc295aXhpYS5jb20vIiwgIuWOu+i9rOebmCIsIFsKCQkJWyIiLCAiaHR0cHM6Ly93d3cubGFpc295aXhpYS5jb20vcy9zZWFyY2g/cT0lc3YlIiwgImJzZWdfb3B0aW9uXzYiLCBdLAoJCV0sIF0sCgkJWyJodHRwOi8vd3d3LnpodXpodXBhbi5jb20vIiwgIueMqueMquebmCIsIFsKCQkJWyLmgLvnur8iLCAiaHR0cDovL3d3dy56aHV6aHVwYW4uY29tL3NlYXJjaD9zPTEwMCZxdWVyeT0lc3YlIiwgImJzZWdfb3B0aW9uXzYiLCBdLAoJCQlbIjEiLCAiaHR0cDovL3d3dy56aHV6aHVwYW4uY29tL3NlYXJjaD9zPTEmcXVlcnk9JXN2JSIsICJic2VnX29wdGlvbl82IiwgXSwKCQkJWyIyIiwgImh0dHA6Ly93d3cuemh1emh1cGFuLmNvbS9zZWFyY2g/cz0yJnF1ZXJ5PSVzdiUiLCAiYnNlZ19vcHRpb25fNiIsIF0sCgkJCVsiMyIsICJodHRwOi8vd3d3LnpodXpodXBhbi5jb20vc2VhcmNoP3M9MyZxdWVyeT0lc3YlIiwgImJzZWdfb3B0aW9uXzYiLCBdLAoJCQlbIjQiLCAiaHR0cDovL3d3dy56aHV6aHVwYW4uY29tL3NlYXJjaD9zPTQmcXVlcnk9JXN2JSIsICJic2VnX29wdGlvbl82IiwgXSwKCQkJWyI1IiwgImh0dHA6Ly93d3cuemh1emh1cGFuLmNvbS9zZWFyY2g/cz01JnF1ZXJ5PSVzdiUiLCAiYnNlZ19vcHRpb25fNiIsIF0sCgkJCVsiNiIsICJodHRwOi8vd3d3LnpodXpodXBhbi5jb20vc2VhcmNoP3M9NiZxdWVyeT0lc3YlIiwgImJzZWdfb3B0aW9uXzYiLCBdLAoJCQlbIjciLCAiaHR0cDovL3d3dy56aHV6aHVwYW4uY29tL3NlYXJjaD9zPTcmcXVlcnk9JXN2JSIsICJic2VnX29wdGlvbl82IiwgXSwKCQkJWyI4IiwgImh0dHA6Ly93d3cuemh1emh1cGFuLmNvbS9zZWFyY2g/cz04JnF1ZXJ5PSVzdiUiLCAiYnNlZ19vcHRpb25fNiIsIF0sCgkJXSwgXSwKCQlbImh0dHBzOi8vd3d3LnNveXVucGFuLmNvbS8iLCAi5pCc5LqR55uYIiwgWwoJCQlbIiIsICJodHRwczovL3d3dy5zb3l1bnBhbi5jb20vc2VhcmNoLyVzdiUtMC3lhajpg6gtMC5odG1sIiwgImJzZWdfb3B0aW9uXzYiLCBdLAoJCV0sIF0sCgkJLy/ku6XkuIvmmK/lhbbku5bnvZHnm5gKCV07CglyZXR1cm4gdGVhOwp9CgovL+S6jOe7tOeggQovL+aEn+iwoiDkuoznu7TnoIHop6PmnpDjgJBodHRwczovL2NsaS5pbS9kZXFyL+OAkQovL+aEn+iwoiDkuoznu7TnoIHnlJ/miJDjgJBodHRwczovL2NsaS5pbS/jgJEKLy/mhJ/osKIg5bqU55So5a6d5Zu+5qCH44CQaHR0cHM6Ly9zai5xcS5jb20vbXlhcHAv44CRCi8v5oSf6LCiIOi9rGJhc2U2NOOAkGh0dHA6Ly9pbWdiYXNlNjQuZHVvc2hpdG9uZy5jb20v44CRCmZ1bmN0aW9uIHFyQWxsKCkgewoJdmFyIGdnID0gIjxzcGFuIGNsYXNzPSdic2VnX2dnJz4mbmJzcDvlub/lkYombmJzcDs8L3NwYW4+Jm5ic3A7IjsKCS8v5pSv5LuY5a6dCgl2YXIgcXJBbGlwYXkgPSAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFMUUFBQUMwQ0FJQUFBQ3lyNUZsQUFBTklrbEVRVlI0bk8yZFhXd2NWeFhIejVuWjNkbU5IY2VKazlaTjBpYUZ0bWxDbzM1Q0Fna1VLRlFCS1E4SUpBU3RTUGxxcFFJUGZXZ29TQWlKcDlDS0IxN1RCK0NGQnlTUUlLaXFXcUlLRVRkSmFRTlMwa3BBU0pNNkpJNWJ4M0hpai8yWW5jUERuWmxkajMxbmRqSXo2L1hrLzN0d3N2YWRlK2ZqN3pQbm5uUHVOWXNJQWJBWXhsS2ZBT2hkSUE2Z0JlSUFXaUFPb0tVUStNek1YUnM3NEFzSGhnNzNsQ1BQTTd6ejhNWnhpZFY1aW8zVFplRk5nT1VBV2lBT29BWGlBRm9nRHFBbDZKQUdTRGQrbXFKN0ZYbGlzY1lLOTRWamVjcWRORWhDaXAxSDNpSllEcUFGNGdCYUlBNmdCZUlBV2lJYzBnQ3h2THhNdzQ2Ulk4VnlLZ00vRFI4NjhzVEN4MXBDSHovdTBMQWNRQXZFQWJSQUhFQUx4QUcweEhOSU15V1d1eFRwUW9hN2dYR0RudUZqeFdxZjRwbGtEU3dIMEFKeEFDMFFCOUFDY1FBdFBlU1Fwa3VTbEgxY2toUis5cFFIR2dDV0EyaUJPSUFXaUFOb2dUaUFsbmdPYWFiZVU2eFlZVndmTUVrTU5OTjYxUUJ4NzNDbVR3U1dBMmlCT0lBV2lBTm9nVGlBRm9nRGFJbVlyWFJ6QzRCd0VpNDdTMUpVMGMyaEkrbm1FNEhsQUZvZ0RxQUY0Z0JhSUE2Z2hYdW5uaURUUXR3a08zRmx1a2F0ZCs3L1FtQTVnQmFJQTJpQk9JQVdpQU5vaWVlUUppeWRUVGRXR0Q1V0xETGRIemZ1NGJGSWNTeHNVZ3RpQUhFQUxSQUgwQUp4QUMzeFV2WUpYY2h1N29PUXhPOUw5N3JDRzZkTHV1RlhXQTZnQmVJQVdpQU9vQVhpQUZvaUlxVHBSaTJUQk93eTNTVWgwNWptRXRZRGhKOUpKTEFjUUF2RUFiUkFIRUFMeEFHMEJCM1Nia2IzVWl3YWpkeWtOc1V6V1VoMjl6RGQ2d29IS1hzUUE0Z0RhSUU0Z0JhSUEyaUpGeUZONkhsbDZxbWwxZk4xa0dURlZEaExXNGViMngyTWUza2wyWElobjY4VktDTVY4bVk1bGtRV2F0RGUyZWdtTGZKcE9lTFNMaW54V01MejZSRnlKWTVZVDdSZEFjenNmMlNQdU4zbVQwOUx1UVZEaWdYRzEzMFZUWkhKcWt6VzVHcGRxcmFVQ3p4UTR0VVdyeTZ6T1Y4ZkhiNDFsTTQ2UDlWMHl6dlNuVjNtemVjSXg3LytwdERwS2VmbHMvVmpZNDF6MTV3ck5YRkVSSWlaRE9aQml6ZXROSFlPRi9kc0x0Mnh5aWdZVEhIMGtSdHVGTXZoTnhDaU55N1pCMDlXajQvWkRVZUltSWlZeWYrNTM3TUlGUTNhTVZ4NGFudjVvemNYL1BFaS81aDViaXpIRFNFTzM1bVltSE1PdkRWMzZFemRFU0ZpWWlGaUZoRW1KbGEyd2JjUVFzSktPa1I3UDFSNjdzSEttakl2T25yZ3hDQ09GT2lPT0h4bG5CaTNuejB5YzM3YUlWRVBuc1R0UngzYjFxSDc0M2tUMUkzOXhndTcreDY0cWVCMzI3a1hFbktxeTBrY0tlNmRsVzVkYm9CWTRtRG12NTV2N0IrWm1hdzZSSzRNV0lnOGZZZ1FreEF6aWZzOTFjWjk2M2ltWmREaTUzZjFQYnl4U0tIaVdLb3NRZHpPSThuVlZEYUFtcDBxbTdGL1pHYXk1aEMzRElRb0phaVBMS0ptc3l6Q0pDeENJaVJFSWlUQ2JuZVROV2YveU15SmNkdnZ2L3NYMVUzeUxBN0Z4Snp6N0JIUFppakUrK3EvVWxyZkpTTG0rYThZOTE4bUlwcXN5Yk5IWmlibUhNcGpTRFJBenNVaFJBZmVuRHMvN2JnUFVvaDgyOEgrVjFsakdkL2FWdjd1UGVYSHRwVG5DY1p2MXZhdDg5UE9nYmZtWkg0WUxaZmtQTTd4eGlYNzBMdDFVcThBOWl5RjY0UXllVzdwMmdvL2MzK2xaTkFIYy9MYmYxVkptSmxGT1NSRVJNb2xJZThqSFRwVC8vSWRwUjAzRnlqWDhZOTQ0c2pVeHd3ZkszQnNKNEdOcHREQmsxVnYxa29rcnJzcExWWDR6Ny85UGNLdDdsbTFkcHVKSnpFUk9YaXkrdEJOL1NaSDF3Qkh4a1hDcnlLOGZYYnpDY3FyNVZEWGVYcktPVDZtbkVkaFVwYUFsQTUrK1hEZmltTHIxdlFWcUdnUUVhMnkrT0RuK3R1N3NoMzU2YkhaOFZtbmRldUVtUG40bUgxNnl0a3lhTUJ5TERQVTAzcjViTDJoZnRXbDNaRVFJam8xWVpjTWRvZ2NJUkVhcXZCOTZ3b21rKzNRdnllYmpqdFJFVWZJRnFvM2cvMkxTSVA0NWJQMUxmZVY4Nm9NeXFzNFJNUWhPamJXOEY4Szg1MU1ldkZVdGYyaDNqbG9mbjJMWlRMTk5PUVhKK2JjVHRwNmF6a292c3lFam8wMWZrQmxNNzl1Unc3Rm9SN1Y1Snh6N3BwRExKNGJPdjhyeTQ4ZXFtd2VNTlVoZmNYV2ErVlhuKzhYSVlkSWhLN1U1U2RIWitac0pwV1VJeTgyeGtSRTU2NDVrMVZaVytGY0tvTWl4WkZ1T084NkVpSWRkdDdlV0dVM0ptdHlwU2JVTnVWUTdieVFKLzN4VEwydnVIaWZENndyUEhOL21abmZ2R1RQMlc0YzNRdVR1bmFJU2E3VWFMSW1heXNoNTdVSXNUektoTjV1d2xCOURpMEhFVEh6VkUyYWpuaHhjRGRUb243NTFVMTU1N0x0UmpuSXpibjV5WlNITnhUVmZUdzhXaWN2VWR1YXc3ajVHSEdFcnRaYkpVSkxkSzBaa2s5eGlFaXQ2VTFHL1JlQ3VQcTRiYVg1bVZ1TDk2d3hCOHZHbkMzdlhYUGVuckRmbm1pT3pUcU5waFFOMnJPcFNFVFg2dkxxYUlPRTJKdm9NSG1CVXRmN29LcU5JTml5UXZrY2xzbk1KSzM2RENGbWsrbUpyZVdudGx2MUpsMlljVVRvcmtIejB4dllNcTFxazg1TU5WKy9hRS9XbkZ0WG1rUjBlTFIrL3Byakp1M254OVBkTEIxSnVjQUxjL1M1SVlmaVVLeXkyR0IyeEp0S0NESExvN2VWOW0yejloK1pQWHF4VVdzS0V4a0czejVnZkhKOThVc2Z0cmF1TVQ4eTVHZmthZVNpYlRMTk13MGk3VGwrZzNtZ3BHcUZjdmhPb1lRcjNpSzZUclo5UU1JeitXRE8yWHZvNnVYcXZHWXZQdEwvaDlPMWw4NDFxQzFuNHVkWVBuNUw0V2M3Vnlpem9mamZ0SE40dFA3cWU0MFQ0M2E3U29TSWhkWlUrTkRlZ2JXVllINHEzWnNXb0p1VnRybTFIS3ZMdkdtbGNibmFDbUNaVElNV2owNDcxSEpRM1ZvdlpWMDI5Qm5yS2dZUlRkV2MvaUtiQm0vb043Nnh0ZnpZM2RiNHJCd2VyZjlsdFBIUDkrM1podnRhMmJUU1dGM09wODFRNUZZY0p2UE80ZUkvM20vNmhWNU5vY3RWK2NRdHhaTVROclhOYjRWa29HUThmVy81OFMxV3llVC9UalcvOTlyMHVvcnh6VzNsWGVzTGxza204eTE5L1BqZDVhL2RaVjJhbGI5ZGFMeDB0bjVzek40NVhGUVY2Z2lDTFQvMmJDNjllS3BxQzNzNUZmbjk2ZHFCWFgxTTlPZDM2MWZySWtRREpmN1VodUsrcmRidEE0WVFqVnhvL1BqMTJZc3p6cG1yenB2ajAvY01tZnUybGo5N2E3RlNZQ1l5RFY3ZnoxKzl5eHBlWWJ3MVByMW5jMGtObEV0bFVJNTlEcFdWZmZMdzlNaEZtN3ljbTJuUXQ3ZVZ2Mzl2bVprbXFpSkNRMlV1RjlnUnVURGovUHFkMnUvK1U2dlpyVGlxbWdiZk9XanUyMnA5Y1hOcFJZR1l1ZW5JZHc1UE05SEJSeGJQeXViRzUwaFRISkdOayt3K0VEZTZxbWFZeHkvWlQ3d3k3YmhoTGpjZ3RubkErTUttMHZhMTVxQmxUTmZsM2F2Tm94ZnRvMk9OcWkxZWxJell5OGw0RVhQWnVOSjgvRzdySzNkWWY3OWtQLzNhOUc4ZTdkOHh2SGd4YVpMTERCRDNGeXlKRFl0ZGZiNU14ZUUzRUtJZmpzeis2VXhkbFJDTDM1VS9TM0ZiQjNNdnJqN2MvN3NaZjJaZWJURXo3VjVmL1BtdUZjWjFGUmlIWDJaa1Y5MFVSMjdMQk5uTGt6MzNZR1ZqditFR3dGbVZlSGwxUDY2Q1ZLR1hWKzZseklzL3dWWC9aN2RlYUxJbUt3cjgzSU1Wam0rbGx4MjVGWWZQVU1WNFlYZmZvTVd0WWordm5wekpLd0ZTN3h4eEs5SlZHOWZRS0FXSnE2aEJpMS9ZM1RkVU1TaS9mcWhQbnNYQjdDYlQ3MTluUHIrcmI3QnNlSFYvN1BvVXJKYTh1UjlkRStFZDdIL1R6YnN4RDVhTjUzZTExalhsbmtScjk4S0p0THJwTHM4S2FhbTZhcTE0YzM5QXdzS3U4K0Y2bmUzUmo1WVhRa0xFN1N2ZVlnVTJNdlhiTXAyODVGOGM3YlN2bFhWVDlGNU96WFZmVzZWQjdQa2liSGhyWlllOFNEbkVzY2p4UFN1T0RsT2p5bjlvVzJXdkl1aEViVUgwOW9sTWdXbkhjT0hKN2VXUDNWd3dPZ3VHTGp3VGlHTVJlazBjN2MvVmRtVEIvaHp1YThWZ1NySS9COFRSRWIwbWpvVTlNTE8vczg5VVRXcE5zVXhlWmMzYjJTZHUzZ1RpNklndWk2T1RFZjFqMnp2M1B5NWE4QmVyQ25EUjA4aVBPRElseVczcWtPdXpIN3Arc29oa0pIUzBVL1RUSXgvSGpUSmwxNkc3MTdrUGNIVkMzb0pnZnVBTEpDZHY0bEIwVXg4NTFtSnVYeXNCbHpQVC92TktvbmxYc0s5a2hTb3BUcFRpMGp0alJaNUpGK0xJUHZsOHJZQlVnRGlBRm9nRGFJRTRnSllNWnl0eFE3L3B1bG9wZW1xeGk3YTdHT0VPa0NUb2ZBUFZrSUxrUUJ4QUM4UUJ0RUFjUUV1YW05VEdqZTZGa3pBNG0yTElQTlBJYjNoWGtkZVZyZ2NhQUpZRGFJRTRnQmFJQTJpQk9JQ1dlQTVwdXNXeEtYYWVNR0FhVHNLRWZycGxEMGxxdkFQSFJqNHZXQTZnQmVJQVdpQU9vQVhpQUZwNmFHdm1URmVHQlVoM1BWV1NlNWd3UngrckJEVnU1N0FjUUF2RUFiUkFIRUFMeEFHMEJDT2szVnpJbFNUNzNFMC9PakpDbXAxWEdMY1VJZTVXSXVFOXczSUFMUkFIMEFKeEFDMFFCOUFDY1FBdGFmN1I0VWpTOWFYRGlWWEtFSDVzUWpMZGRDL0owQ2d3QnRjUHhBRzBRQnhBQzhRQnRLUzU0aTFBd3RLRVdJMlhkcWZmNUhzdmQzaHNKT2xlSml3SDBBSnhBQzBRQjlBQ2NRQXR2YnVEY2NLdENnSWtjZlF5amRXR040NDhtVmcvalRzV0xBZlFBbkVBTFJBSDBBSnhBQzI5NjVBR1NMZ0tMVW5VTXQwL1ZwZXdRcmliVzk3Q2NnQXRFQWZRQW5FQUxSQUgwSkxtbm1BSjZXWklORk9mTWNWVmczRzNsb2c4UEtRcnBPeEJEQ0FPb0FYaUFGb2dEcUFsd2lGZHdqK3RtK1NQRGNRbDA3VkRBYnE1bmlyaHpyNndIRUFMeEFHMFFCeEFDOFFCdFBUUUpyV2cxNERsQUZvZ0RxQUY0Z0JhSUE2Z0JlSUFXdjRQMzFKVkpock9oanNBQUFBQVNVVk9SSzVDWUlJPSI7CgkvL+W+ruS/oQoJdmFyIHFyV2VjaGF0ID0gImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBTFFBQUFDMENBSUFBQUN5cjVGbEFBQU52a2xFUVZSNG5PMmRYV3djVnhYSHo1bWR0WGNkZnlUcnhHMXdQcG8wU2dwRmFaRUtLbXBLeWtjamtFclZJcVVvaUNjRUtTcWlEKzBMb205SUZVaUlqNmNLSWtFUkZVSnRKVWpid0VPcUJxcEVGVlJRVlNTa0pIVmlPMDdhSnZIYThVZTg2OTNaT1R6Y21mRjY0ek8rdnJtelhvL1BUMHFzbmIxNzc1MjUvem4zekxrZmcwUUVnckFRem5KWFFHaGRSQndDaTRoRFlISHJQeUJpb29VMStEZjZ4ZW4vc0Q1bFF6SXIzbFhTbDZnQjR5dG1wVGl4SEFLTGlFTmdFWEVJTENJT2djV04rYTVsUGJnWXI5TktUY3p5Tjc1YzlVWG9aOUtFMWhITEliQ0lPQVFXRVlmQUV1ZHoxTk9FcmpjbWs1aHdsbGw4cklHR1g4VTRBVTEyb2ZRdlpoSU5KSlpEWUJGeENDd2lEb0ZGeENHdzZEcWtTUkRqNjhYN1pacFJvM2pQeXl6MHBGK0V2bXZjNUpGZWZjUnlDQ3dpRG9GRnhDR3dpRGdFbHVWMFNHUFFqNURHRVArcnBIMUovZnhiZG5XSVdBNkJSY1Foc0lnNEJCWmRueU9KZmpHbTY0MlBDMW1KWDVtaDd5NllPUzVKaE9PTUVjc2hzSWc0QkJZUmg4QWk0aEJZNGh6UzFoa3ROQnZHMUkra21YMEZTL0VsclJUSEZaMFFZamtFRmhHSHdDTGlFRmptK1J3dE93TFVnT2JzTC8xSW1sbFppMzVyblNZWEo1WkRZQkZ4Q0N3aURvRkZ4Q0d3Skw1V1ZqOU1sUFJZcTM3RnpPSkxTZXpQWVdVRnJIRW1ZamtFRmhHSHdDTGlFRmhFSEFJTG1tMk9Gb1B4ZmlOV3B0d3RJMVlXSE1RM1FkTDdNemNnbGtOZ0VYRUlMQ0lPZ1NYTzUyalpqY3lzdUNCV1JtWDFNWXQwSlhGTjlGT0s1UkJZUkJ3Q2k0aERZQkZ4Q0N5NkR1a2l1ZGgycVpyc2lCblRtcHR3MkZwT0laWkRZQkZ4Q0N3aURvRkZ4Q0d3MkJtVnRiNmswM2lacTNXU2lKQWFGOUhrWVhPeEhBS0xpRU5nRVhFSUxHaGx3cExacnJFeE5HRXYyQ1NjSWMyVVZrSm5UWWhZaXVVUVdGcDBlMnU3TEhoWHRjN2swNVlsemVKb1F2TVRVZXRzam1VZDZWWnVsaFJiSUVPSHRER1hoRi9FdWhJYndNeTFUR0k1c2F5VnZTa2EzbUtzV01iNnRBaHA5am5pVWMydjdpcEVqRDdlZUorbDI3R0lZZldLUTdXM1Q3V3lWeXg1eGRuYU5jOHZ1VTYrUGJNMjcvYm0zRjRITTFISzFha1B3MDFxazU0QnBkOFNVVXFkZ3FJMEJONVk2Y3pBK09HUnFUY25acytYdlRHZmZBQUNSQWVjbkZ2b2FkKyt1V3Z2am5XUEZQSzdITXlDdHYwdzBKRDF5WGhXM2trRjhRNXAwbSt6aXF2VzByMDU3VzMvNk5MMGlYOTk5UE5MVThkOXZ3cUlRQUFJUU1FZlVCa1NBSURqdVAxZDk5OXo2OVA5bmZjQjRJSjFpNis1emluRS9OeHN3eGxieTVWWGhUZ2lmMkttZXVYRXhXZk9qTDFNNEFPRlB5YWl1cjZEZ0hCT0xLaiszMVhZdjJmVHMzbDN3NExWaTZtNXppbkUvRnpFc1hqUmkxWlNSeGtmVHYvajZPREJ5Y293RUJCRTZUSDZSNkhWQ0g4SWdCQWQ2RzdidW0vYm9ZMmQ5MGJaY21lOTRQR1ZLSTVWOFNpTGlFTVRSNDhNSEppWUhTSWdRQUlBUUNVRlFnUUNJaUQxRVlJTFJJaUV3UWNpb01uSzhKR0JBME1UUjVmdE5KcU8vZjA1OURIZXdVM3p6cWkzR1VjR0RwUzhJaXJ6QUVES3U0Q3dieUdpdWU5QzN3TmdmaVVBQ1hKdTcwTTcvcml4ODk3NkorRUZzZktTQmpPc1hEMVlEWlpqcG5ybDZPREJrbGVFb01XUjFMVkNJQXg3SlFRRVFBUUVkUWdCa1JEVVVYVkFKU3ZWeG80T0hweXBYb0dtMzB2TkovWGlvQk1YbjVtc0RBZlJMUUxWZFFBQkFtYXd2YWQ5ZTEvSHAzcmF0anVZbmZNL0FKQlVoNE5JUUVSSXFoZENCSmlzREorNCtFd1VTbDNXczB1V2xIY3JsNmFQLy9uc3c2b2hnOTRFQUFFM2RlM2R2ZUU3bTdzZnlEcWQ2am1sVXB1OE1IbnNQMWNQZlREOWx1cGtvc0tqTWpFUUR3RTRqKzU4dGIvei9nV3J0MmlkVjBxM2tscHhFQkdCOStyQS9nc1R4ekIwTEFFZ20xbXpkL05QNytqOU9vWUJ3Q2gyRGdBK1ZVOFhYemcrOGtQUEx5a25JOVFVTmJnZ1czcSs4UENPbHhGY3pXZVdsU2dPM1ZkcUpCSDMxTTl6cVkreTZ1Tlk2Y3lscWVPQVFCRGMveTdtSHJ6dFY3ZXZmVmlsQW1ob0NYSXcrOG4xMzhvNm5XOE1QZUZETlloNEJMMVJGQ0ZEQUxvMGRYeXNkS1kzZitlTno3U0xOckQrMWJNeTF6RG0yL2lhcE5QblVCN0d3UGpobXU4QkFCSWlJQkIrdlBlYlNobGxyL2pLKzQrK2MvbVhVZnEzUC96eGErY2VtNjFOSU9LdXdtTTdDL3VKRUFHVkQ2c0VvbUppS2tqaSs5N0ErR0ZJdFZ1YVRuRVFrVSsxa2FrM3d3Y1FBS0tzazkvZDkyMEFRTVNLUHpWYU9qazZjeXBLZjdWMGNuVG1aTlcvcm02bTNYMlB1MDZiK2hiRGh4cVZWeGdHZ1pHcE53bDhXSm5UVFhSSTRhaXNzdk9sYW5GaTl2eGMxNEc0cG0zanV0d3UxY3c5N2R1KzhZbC90bVc2b3FqNWw3Zjl0bHE3bm5ON3g4dG5QNWgrYTZweUFkRWx2eEtOdEdEMEo1QWJUTXllTDN2RmpteGZXbzJIL1hmWkc4ODcwaWUrMTFUdFhmS0taVzhzSENnQklNcTVoV2dVSGdEeTd2cjZzWGpYeVJkTC8vdjd5Tk41ZC8zbXJnZjZPdTYrcmVjcjQrV3pneE4vSFpvNDZ2dlZPUStGVk9nTXl0NVl5U3QyWlB0dXB2NE5hQThmMmxubkVlLzJwZEJ5QUFBaXp0YXUrVlNMUEU1Q0tIdmpOYXBtTU50d2lkWEg4eE4vR1JnL2ZGLy9qN3JhdGtCNDFUWjJmdWFPM2dNZlhYLzc5Y0h2VGxhR0tCaTVWVU81Qk9EUDFxNHRHaXBkdWFUVzUvRDhFa0xvUUFJZzRIVGwwbGpwdllaa3luSk1Wb2JPRmw5NllNdlBPckszbkJwOXZrYXpBT0Q1cGRPakwzait6TWM2UC92VkhTL20zRjZsaWpCS2hpcE4wMCt1ZWFSUUhLcTlYU2RQaURRWG5LQWFsZCs5L0J5UkQrSGpqSUtJVGwzOTNkMjNmSy9ONmZiOG1mZkgvMVNwVFFGQXRYYjkzTFhYeXQ0NEFCVHlkOXpWOTdoNmpxWDZaMk1ubjBxYm9VaWhPQlR0bWJVT09FRVVCTlJvSzUwWmUrbDA4UThxZ2VvT1Fzc3h1RDUvSndEazNNTFhkaDdweUc0QWdIeDIvVU8zdjlqZHZrV2wzOXI5SllSTTZIa29lVGp0bWJXUTBqNEZqRi9qbGNSOERyTk1iZ3lDcVNONXR6Zm5Ga3JlS0FTQkt6Vi9wM1pzK1BzejFZL3V1ZldwK2h1RGdCQXpOMVlneWx5WklnY3pSTFZndkI4ZzV4YnlicTlCbldOU0d1dk1PTEFXUTJvdFI4N3Q3V25mRGlxQUZib2RBRUJFRnlhUCtlQmZtWG1uV0hxdjZsLzNxZVppWGcyMExvaHFzQ3N6Nzlhb0FrQklhcW9ROWJSdnovSGlTQUhwZkZvQkFBY3ptN3YyZmpqOU5pSVNoWDBCSWlKczZManIrTWdQL2p2NmV3U25MZFBsb0R0Ym0yalA5TnkvK1NmMXo3cjFWR3FUNzE1K0RnQWdDb0lSYnU3YXE5TEh6QXBiMGFSV0hBQ3dZOTBqLzc3OEM1ODhOWWs0NkZvQVRsMzlUWTBxS3MyTVZ3WUFJRGcxK254Mys5YmRHdzVtd3NCb3hLdzNjZXpDazZPbGs0RTVSa0FBQjkwZDZ4NEpEcVJSR1JBL0ttdGxkRTAvUTdNcHExeWUwYWpzeU9UZklIeG1pWDRXenZhYWR4REIyZEw5eGJ0dmVlTFdOWi9PWUJzQmVmNE1ndlBHOEpQbnJyMFNocjZDbjIvcC9yeXRVVm5OTTlYSFZqZy9uZUlJNXBIWHplY0E1WFdxOHcxbS9SQUZVd1JWbmhETk1NNDZYV3V5ZlQ3VnJsYy95R2Y3MmpQZHhkSnBpTDRuQU1SSGQ3NjZxZXR6d1BjcEtSQkhPaDNTS083WjM3bG5WMkUvQUlEeUlsVXdNNWhMck1iaktKamdCZUUwTVlLcVB6VmVQamRaR2FwUlpicHlzVmc2clo2RWc0WkMyRlhZMzkrNUp5cXI2ZWZYSk5JcERwaHJNOXl6NmRudXRxM0JYUE5BQjZpbWFGQXdHZzhRUE0wQ2hMcUpqb095TE9IVVVnRG9idHU2WjlPellHbURnbFltdGVLSTZNajI3ZHQyS0pmcGhUQ1VUdUhvYWpEQ0drd3BuVytOcWM0WENaWXJFQUhrTW9WOTJ3NnB3YllVMnd5RjdxSW00NzZ3Rlc0dklocWVmUDMxd2NmTHRURzEvaUJ3UEdqK2lVU3JtaGJ3SXdnQWM1bkNnOXQrZlZ2UHZvV1R6Q2VKYVlKV0xxYitUTEQwaXlOcXhXakZXekRaT0hBdWd6RjlDaDNTYUZ3KzZsblVrZm9WYnpxQkRSSEg0aXk3T09xcFd5czdOMkc0L3ZrV1ZDZUNGSzZTVlFSclphT3BHeUtPRklxRGlLQitsVDE1QkhNcUNCOXl3MGxmYzZ2c24rcnYzSVBvd0ZLQ29TS094V2tkY2RTM3EwL1ZodjA1d25YM2dEZTNQMGZFNmhXSFp0bEx3cXdJNCt1bEdudlJuWDF1VWhOYzBaby9zYkkwd1RqbGFoUkhRM3RISHhlYzhMZWtXWUNheVZhS09OSTg4TWF4b0RKdVBLNk82R3M5ZldHUDFTaU9lalNIelZZbmlXOVNhNVpKQTB2dGNacnNCUysxVUROZkZTeGRaMzNTR1Q1djVuMmZZaHVUMm00bDZac3N4WnFJU0swNDZsa05EWmtFNmV4V0JDc1lialhaZ0ZrbVNheGEwSS9xYXBiZWhMQk5FcVdiMFZCbnNSd0NpNGhEWUJGeENDd2lEb0ZsM3FOc0VwRTcvZkZvNnhQMjllc2NnLzV5aWliN3Ywa0VaQnNReXlHd2lEZ0VGaEdId0dLNEhIS1oxM0RxZVNmR1UrNmEwUEZyWm1obFRhVitUU1FJSnVnaTRoQllSQndDaTRoRFlESGNNSzZCSnUva29lOTE2dWRwOTFlUXZIZmZRQkpuSjVaRFlCRnhDQ3dpRG9IRmNBNnA4ZndyelR5VG1BR2w3d1NZQlFaak1vSFlTeFJUU2YxdmsvQzl4SElJTENJT2dVWEVJYkNJT0FTVzVkd3YwY3E0b3ZGMkJwcllXcHFROURoMkV2bUw1UkJZUkJ3Q2k0aERZQkZ4Q0N4eFN4T3NFN05xb1FtbG13MlRXbGx3MElDVkNLbHhyRGFtT0prbUtPZ2k0aEJZUkJ3Q1M5eW9iSk4zbUVoNkkxOHJHM2ZHRUorSmxZdXBtWW10d0taWURvRkZ4Q0d3aURnRUZoR0h3R0puYVVJOVNRd2ttZzI5SmhGUWlzSEtNdGNHckFRR2pkMXRzUndDaTRoRFlCRnhDQ3d0dEwyMTlhVUp4bXNxclcrR3RxU0t4YUE1SW1qTFFSVExJYkNJT0FRV0VZZkFJdUlRV0ZySUlZMGg2VmlRZnBETmVMV3FsVDFGekp6b0dHUW1tR0NJaUVOZ0VYRUlMQ0lPZ1VYWElVMWlTYTErRE5IS2E3ek1kbE94OG5JQ1k2eS95WHhKaU9VUVdFUWNBb3VJUTJDSmUydUNkWXgzM1RCTHVWTGVOV3ptMWlSeDRoSUVFM1FSY1Fnc0lnNkJSY1Foc0N6bmhuRkNpeU9XUTJBUmNRZ3NJZzZCUmNRaHNQd2YzaTNvSVh3NG1mNEFBQUFBU1VWT1JLNUNZSUk9IjsKCS8vcXEKCXZhciBxclFRID0gImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBTFFBQUFDMENBSUFBQUN5cjVGbEFBQVJXRWxFUVZSNG5PMmRiMndWVlJiQXo1MzMrcCsyU3N1L0RSb3NTeEZCZ3FaTE1LNVpOVXI0SUlZUEd2eXdTSXdmVEV6VVpFbGNOMWsva0JpVHphb3hNWEUxa0NYN3dTLytBWkkyYTVPQzJMQXV5NzlGNm9icXRsU3NrUWdsWXFYYmVhL3Z6ZHo5TUhaNHpuM24zak4zcGdXbjV4Y2pyelAzbm50bjNubm4zSFB1bWZlRWxCSVlwaHJPdFo0QWMvMlNELzRSUWxpTGlHVjdzSUZDSVpxWllBTlpkTkZndkJXcXpMQ0w4WlFxbkg3aDZpaDIwb3lFUXRoeU1DaXNIQXhLUHZKM0tqNUNZMmF4NFNobUVEUFJsRGxINU1lNnpFaGpPNHROdjFmWWRkbUZEdlJlNmd6WmNqQW9yQndNU3RTdGhDU0pHalNMZGlOMEgySGhUZFRqUm1PdUVhTDJwVWNjR2xLSk9DTFlCWFJzT1JnVVZnNEdCWFVyU2RBa1p6QW9tU1dqajZCQUR6Mk1FNGgxbVJGWGFPRmZOQjR3UlFkVUNWc09Cb1dWZzBGSjA2MVFWdjRSTkpiWnVJTkFpVGdzTExEYXdCaXRHRnRTK2hyUlRHeUd0dGJaY2pBb3JCd01DdXBXa2xpcVZOYlZ4bGlBNHNXTTR4cmpDNDJRV0JFSEpselRCZHNQc3ZBbWR1OG1XdzRHaFpXRFFZbTZsU1RwbEZqbXppTGlpQXdVeXlOZzQxcE0zaTQ0bXAwSUswa0FwY0tXZzBFUjE3YjYzRzZYMHFMNnhyakswOHdORzg2aU1DcmRVdGtrUzFRS2JEa1lGRllPQnNXY1BxZlh2NmVTM2tpeUNxUDdGMHA1anBGWXkwQjZrc1o0WFVtOFNheWRaTFljREFvckI0TmlmdUpOWTNib2RaR3FOR091Z201bUthYlM0amsyRll2bkcralhTMzhMTFB5cFptTkJBMXNPQm9XVmcwRkpsQVJMa2xCS3NnSzNxS21rNTgzb1JVYXgraHBiMGplUUtWR1MwWjFSb2lTMkhBd0tLd2VERW8xV1lxM3pMU3BaNktRaUJMc2N1NkoraS8yUm1jZ1RSdVpET1dWM005bHlNQ2lzSEF6S2oyNGxWc3lTU21FbWRqekpvMithR2M3RWcyNlVxYWF5M1c5UmZ4UTVSZDhncTRRdEI0UEN5c0dnb0Vrd2k3cjdkQi9udFVnS1Vkb2tNYk9SbGlIMExGeVNvalZOQTNyMlR3TW53WmdZSkhwV0Zrdk4ydFdGWTlBcnVTbENNSm5HTG1walk0MjdoY3hZazZUdk9mQ0NsRWtaVmc0R0JTMzJpVlhraUtHSisrazVFbm94cVNyRVlqZFlJOTlvdEkzamFoeFE4dVJOVlNGQkc3VXZaVEhMbG9OQlllVmdVSVRGeWorVitKdmVKZDJkVmV4NkxSNmVpSVZ4em5RZlRabGJrcHdUNXprWU02d2NERW8wZlo1dTF0eTRuRTZsZ2pWSllEWFQvaVZKMmg2TGRDeGNScXkrN0ZZWU02d2NERXFNdlJXTDlKUlJTQkl6cXdxaHBKam8wWm14cjRVL3BTU2oxT3N5WXR6TWl1V0NROWh5TUNpc0hBd0ttZ1N6Q0Z1dUNvMi8xMkN4WDJBeEhLVXY1UlFHZmFwWUE4MEVLSDFUdVZjaGJEa1lGRllPQmdYOUh0SlVrak9hSThiU0xHTjVsVVVobG9wRmNCUnJmNFNlOURONnNWZ0ZieGFSRHRlUU1qR0lrVDZuMXllcVhlaWxQWFQ1RnRscm8weUsvRmpYbTBvZDZFemtreWg5MlhJd0tLd2NERXFpaDVvd2twUzBxQk13TGd6VkxwcVpKTC9lV0xXMEZ2a1Z1cWhZMFlORmx4bjU2ZERyRU9ON2tLUjRJS3RrVmpsbTRjM0dFcGVad2VZTDQxSko2MFphV3Bqb0pENXJocUJQeWFJZ05OMG9oaEp6OFlLVVFXSGxZRkNpdTdJYTBxMUdvVC9naFhXSjVaSm1HY3kveE5yOXRzamZxMjMwODZrNnBaRHNXSTdyUnpNeVEzYVVnMG1kYUNpYjdvYUZzVUtUWW1hVHhJcmxjdG4zZlNsbExwZnpQRThJNFRoT3VWeDJIRWNJNFhuZTZPam8vdjM3ang4L1BqbzY2cnB1ZlgzOXpUZmYzTlhWOWZEREQzZDJkbGJ0a3N2bHBKUys3OWZYMTZzanhuMzJncjZQYW1jYTZiNjR5aEY2d2EwNlhoTGxpREZGV2hoY2RheXBxU2xzNk1uSnlkZGZmMzN2M3IyKzc2dG5IY2Q1NktHSG5uLysrY2JHUmt4Q2JXMnRlbEN2SEhZRmJ4YWhMSDI5a24zbHdBWXFGb3RDQ0NHRTcvdU80MGdwcFpTTzQ0eVBqei85OU5ObnpwelJUNit6cy9PdHQ5NXFiVzJ0N092N2ZpQ3pwcVpHZjFHUURlV2dRTGQ3Rm9VelNTYWdFVkxWclpSS3BXZWVlZWJvMGFOQm00YUdCcy96UWh1VHkrWHkrWHl4V0F6K1hMZHUzZTdkdXdPMW9MZ1ZRSlNWL2diUFRwaEdVWTZNTDBnOXp3TUF4M0VDelFpTzdOKy9QOVNNVmF0V2ZmVFJSNzI5dlV1V0xBR0E5dmIybnA2ZS92NytkZXZXQlExT25UcjF6anZ2NUhJNUFBaVVMSEJEd1pGc2szSGxDRCt2NGNlaVZDcTkvZmJiY3BwdDI3YlYxOWQvOHNrbmp6MzJtSlJ5NjlhdGl4Y3ZsbEkrK2VTVE1QMFoyck5uait1NlFmZFExRnlJbktQS0lYRENOaEloYktrNWhjMURNeTQyZ2NxKzZPVTVUdEErV0RRQVFIOS8vNlZMbDhJR2JXMXRodzhmM3JKbHl6ZmZmQU1BbnVlOS9QTExiN3p4Um10cmF6akU1Y3VYRHh3NEVBd1VMRGdBb09veU5weWVlbDJheGhIVXZ2U2JHZmNlNnFWbDNIS1V5MlVBQ0dOUkFQajQ0NDhyR3d3TURLeGZ2LzdWVjE4TjNNVDQrUGlMTDc3NHdnc3ZEQTRPVmpicjcrOEhBTi8zOC9sOG9CYjVmR1kzdEVOaTVEbEM1ZEo4RGlJTlZHbEdhMHhaVGhzbkVLSmFqbE9uVGxWMjM3Tm56OUtsUzVjdlgvN1NTeThKSWQ1Ly8vM096czdtNXVZMzMzeXpzdG1ubjM0S1pNdWhRWE5SSWJHaUVtSUR6UVIwalZPTVZsVG82MnJOWGRQY1IzV2dDS1ZTS1RDZVFRanF1dTQ5OTl4VDJhMnAzcjlsd2RUQ2xuSnp2Wi9QeWJJbnJoU2NDei9VbkJ1cm1TamtLZ2M4ZVBEZ2pUZmVXQmtTMTlYVjZTOWZNMmVLY2xqY2NEcVVDV1RjTm5xZTV6aE9FSzNrY3JteHNiSHcxSnFsN2g4Mmo2MWNVaFRWWWtVSll2QjgzWi8vM2o0dzJoQWNIQnNiYTIxdERVUGl1UkN0eFBnZVV2VlVCTXFuUDlJNFBCNXI4Uy9KTzhsQlRrSktHYndJZ3c0QU9IdWg3aC8vYlZyY1dyNmgwWWRnY0FFd1BZdnhTZWVmUTQxRDMxNjFEYTdyQ2lFcVEySnMyUkZaOTFVOVpid3o2dlZxU01Vd3EyVGNja1FJbGlBQmJzbjV5OEg1dXc3TjcrcVkvTlV0N3ZKRlV5ME4vaFhYR2I1UWUvekxoaE1qaldVZnBBUUFHY1FMYzhGVVJNaTRjZ1J1UlV4bk5wZWVPZk9ueWNsVHVkeGdMamVTeS8wZ1JObURmdzAxSFJsdUFna0NwQVFCQUFJa2dKQkNOZ04wZU42dHZuOW51ZHd4TWlKdnUyMU91UlcwMkllK1lxSTdFWlZZaXk5c1hBMlJCZW5FSTQrVUJ3WkNJVDhBakRuT1pTSCtKMFFSd0Fkd0FPb0FtcVM4UWNxRnZteUJxNG1IM05xMXJYdjNVaGFrZ3BBK1QzSzlsSVY1NUwyd2NGV1FlY3NSM2hvcFpmbjA2ZkpuQTVXM3FRV2d4UlNSaHUyOXp3WktwMC9uMTY2bHIzaCs3bVE4Q1ZhcEhNYy8rT0E3NFFTSHFQOU5Od2FBNzRSejdMMzNRcXN3RjVURG5PZXdpRlkwTGRXZzBhS3YrdlpnVXdwM1pRdUZ3b01QUHVoT1RpN3ovZFdlOSt6R2piVkhqM29YTDBKd0M0UUFBQ0VCQUtTUVFnSUlJZHJhY3N1V2xXNjY2YlVQUC94UExqZnFPQTJOamIyOXZjM056ZEswSzZzZXRERHZkTmRBajFZMGZkVlRHWGNyd2VKUkNOSFgxemM1T1FrQVh6ck91Vnh1NXl1dkZIYnM4THE3ZzF0VHQybFQwN1BQZ3VjQmdLaXJFODNOenZ6NVVGc0xBTDd2OXg0NkZNaHhYZmZRb1VPYk4yK0d1YkVybTNIbENEbDQ4R0Q0dXE2dXJyYTJ0aEQ4SVNVQU9DMHQrVldyQXBjUi9oK204Kzd6NXMwYkh4OFAvdXpyNnd1VVl5NkFmck9QaGlUdU5tTE5raVRmS0t2M29QeGlhbXJxeElrVDRYSWhMTytyN0ZnNW44cFVsWlN5c3VMcjVNbVQ1WEk1bjg5N25vZFZnbFhPMHhpbUdWdXFwelFYYm54cllpWEJNcjRnRFlwOWhvZUhDNFdDbW8wTnQ2M0RnNUVqbFRjdWVPMjY3dWVmZnc3c1ZqSkE4UGtZSGg0T1BFVkhSOGZaczJjbkp5Yzl6MnQ2N3JuYSsrLzN4OGJBODJydXVLT3lmZVVDMFBmOUsxZXVBTUN5WmN2T25Uc0hBQ01qSTJ2V3JJbVY3LytaZ3U2dGFNRDJDeXl3Mk1GUng5VVpSc2Z4Zlg5c2JFd0lzV0hEaGtjZmZYVEhqaDJlNTMzMTFWZkxWNnpJcjFpaGx3d0E1OCtmRDZxVW4zcnFxZTd1N2lOSGpseThlQkcwVy9hVU1FcWR2TWJnUjI1T2tqMHNpaWVhSzlGS1VPTlRMcGNYTGx5NGMrZk94c2JHK3ZwNjEzV1BIVHZXMGRFQlA4MW1WbjBkVkp2VzFOVGNkZGRkWFYxZGp6LytlSEI4TGhUN1pIek5FZXkwM1hmZmZidDI3V3B2YjI5c2JOeTBhWk1RWXQrK2ZXRWJNWTM2R2dEMjdkc25oTmk0Y1dOTFMwdGJXOXZ1M2J2dnZmZGVzQzMyK1prUldYWVpXMUlhU3h4S203aWphS1JOVFUwVmk4VkNvUkM4S0JhTFgzLzk5ZnIxNjFldlh0M1QwMk9jUTE5ZjMrclZxN3U2dXM2ZVBSdDBEMFVGSzF4czVoWlhvYmtEVmYra0NJOTFuNnVjc2hnbXhRdW10S1RNQnhQaXVtNnhXSnlhbW5KZE4zaFRYZGZ0N3U2Ky9mYmJOMnpZTURnNEtLWDBwNG04SGhvYXV2dnV1OWVzV2ZQdXUrK1dTcVZBSVVxbFVxRlFLQmFMNFpaZTFablB4TDJ5ZUNOaTNXZjFsSTFiTVE0akZJd1hwbW1KWFViWVJYT2Jnb0RUOS8zSzUwMGU2R3I5NDIvbkZ5YXZQUEhFRXowOVBlSG9sUzk2ZTN1M2I5OCtjZVg3MzI5dDNmS2JKWlhQdndTdUtqaGlmZXZVVTVxYlp1eHJGS3NaVG5kRWtyZVJqS3FxRVVMdnEya1phVVBwRW4xVzFpL0lrOXZGeFY0QStjVzNkYTk5Mkg3aXk0YU9qdVVQUFBEQXlwVXI1ODJiTnpFeE1UUTBkT0RBZ2FHaG9UdHZLZnh1MDZYYmZsRUFBRmkwQ2U3NEcrUWFLb1ZWZlZZV2xJVnQ1U24xT05heWFpOTFJS0tRcXA5RzQzQVpWNDVDb2ZDVHh4amQ4L0R2YlREeEJaUW5RUG9neE1oWS9lR2hHNzY0dE9oQ1llbVU1OVRXaUFXMTUyOWRjUEhYSzc3LzVRSVhRSUp3SU5jRXphdmt1cjlDM2FMS3h5cXJCaXo2MERIN3ltRnNUSG1EalMyTmZlbURYZzlRN25DRXlBMm5LSlpSS2RYNWFPNWJ4a05aSmduWlVRNkxqeWFqNTBldlNYRVpWZGZQZXVuR0xoUUxhYVN5N3pWMExwRlFLM0xRdUc1USs5SXh2bjJhYVdoT1pjZHlNS21UdFEyQ3lOcHROZ2ZOSHVpRDFQVFlrbUtwWnVMMkpmRkVzd2JtUnRVRzRTbXNqWG84bFFTRUtpM3NrbkczZ3VVSFU1RThFMkt2SzdMbVZxcWlTVm1xR0EzaFhGQ0xBSE1TVEhOYnNVeGxrb1RQMVpuRktTODFTb3VJcGJna2VyWlI3V0xoOHVoeFRicmVVM09mTSs1V21DU3djakFvaWI2a050S0Zrczh4K205NmxpYVdSOEQyS1RRazN3MkpOUzdkVjhhYUdQMzluWFBSQ3BNRVZnNEd4ZnhiOWhvaWJaS1VKbWdNTXVZMWtnUkhkdVVVU1Z4RDhyb1ppOEJLSTVQaTBObHlNQ2d4dm9MQitBbW1kMUZKVXZVekUwa0ZkUlJOWTBwS1puWjJzQzBxd1RUUzJISXdLS3djREVyVXJhUlNlMEtSWm5SSldCZktsRkxKM3h1Rko5bU90cXY0cFVQZkQySzN3dGpBeXNHZzJQdzZaRWlTYU1XWTF0VWNNZTZzR2oyUlhUbzV5V1o5NUhvcDZSeDFKbFZseHBvWXBiWW9oQzBIZzhMS3dhRFlwTStOYlZLcDdxUjdISXZoS0s1d2RtSWlpdk9pUnh5cVdQb3VOS2ZQbVJpd2NqQW9hTEdQUlFsbnVvVkM2WTZybjBaVklSWkZuUmI3VUpvcDBXZW90a21scUlvdEI0UEN5c0dnbUd0STZkWTFKSlU2VUUwYnVvbW1Gd3FsVWtFVGF5YkdMdlJ4TGE1WGxjWnVoWWtCS3dlRGduNC9SNUoxdFVxS1JqV1dORlVzbGtDakRFZS9jTFdsUmZXYXNacUM4bWJSRTVVcWJEa1lGUE92UTE1dGFscFVxaVRKbzF1VWNGS1dYY2ErRmhQUWlLVlBnRDVLclB5S2RSZGd5OEZvWU9WZ1VLSUwwaENOczZDdnJZeEM3QmJDeWN0YVkwbWdld1JORitPNDlNSW9UVitMV0VIajE5aHlNQ2lzSEF5S3pUZjdYS3NxR0V4K2tpUk5rc2NMTkVLTW84ZmFqcVpMMDdReHdzVStUQXhZT1JpVVJEK3BZWXc0akJtZVdBRUkzU05vMm1BdE5TVFpEYVlYM1ZnVUNpVjVWRUlEUnl1TUdWWU9CaVhObnhsSU1Va0ZCRzlsVjFPSk5kRE1oTjdGMkRmSnVHcmZHZDNCQWJZY2pBWldEZ2JGNXJmc0k4UnlJaGFyZC9xSWFsOTZtWUZGaWk5VytCQzUzaVFiSlpRM3kxamNSSEhmYkRrWUZGWU9CaVdGNytlSTFSZXptUlpWa0JxWFpMR0ZUWmtBZmJzZmMzQVVUMlNNa3BKVXZta2E4TjRLRXdQMHgzZ3Mxb01XQlR2R2xhTitKaFpkSXFmczh1aEdMTmFTRnB2QWRLdWpOcUNrN2RseU1DaXNIQXpLYlAvR0c3YTQweVFBNkY2RDRwc3NucXZBVUdYU3B4b3JuVU5QNUZ1MDVEd0hZd01yQjRPU3BsdUpsWnBOa3RaTm5ndFAxNWhyNUtkU2JVUVhqcmtQdTJDUUxRZUR3c3JCb0tCdUpjVWlJSTIwVk9xRExCNlNzeXNVb3J0Q2V2WmFFNlpaVE41WXV4ckxuYkhsWUZCWU9SZ1U5T3V0azVDazNGNERaaW90ekx1bVpaTEg5ZWdQdEZFQ2pjaHM2WGRWUFJXcmJ3aGJEZ2FGbFlOQlNmUFJCQ1pqc09WZ1VGZzVHSlQvQTQ1bWZxUTMxczMrQUFBQUFFbEZUa1N1UW1DQyI7CgkKCXZhciBxckFsbEFyciA9IFsKCQkvL+aUr+S7mOWunQoJCVtxckFsaXBheSwgIjxzcGFuIGNsYXNzPSdic2VnX2FsaXBheSc+5pSv5LuY5a6dPC9zcGFuPuaJq+S4gOaJqzxicj7mjZDliqnmlK/mjIEiXSwKCQkvL+W+ruS/oQoJCVtxcldlY2hhdCwgIjxzcGFuIGNsYXNzPSdic2VnX1dlY2hhdCc+5b6u5L+hPC9zcGFuPuaJq+S4gOaJqzxicj7mjZDliqnmlK/mjIEiXSwKCQkvL1FRCgkJW3FyUVEsICJRUeaJq+S4gOaJqzxicj7mjZDliqnmlK/mjIEiXSwKCV07CglyZXR1cm4gcXJBbGxBcnI7Cn0KCi8v5re75YqgY3NzCmZ1bmN0aW9uIGJzZWdBZGRDc3MoY3NzVGV4dCkgewoJdmFyIGFjc3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwoJYWNzcy50ZXh0Q29udGVudCA9IGNzc1RleHQ7Cgl2YXIgZG9jID0gKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTsKCWRvYy5hcHBlbmRDaGlsZChhY3NzKTsKfQoKLy9jc3PmlbTnkIbkuI7nvo7ljJbvvIgg5oSf6LCiaHR0cHM6Ly90b29sLmx1L2Nzcy/vvIkKZnVuY3Rpb24gYnNlZ0NzcygpIHsKCWJzZWdBZGRDc3MoYC5ic2VnX25vbmUgewoJZGlzcGxheTogbm9uZSFpbXBvcnRhbnQ7Cn0KLmJzZWdfYmxvY2sgewoJZGlzcGxheTogYmxvY2s7Cn0KLmJzZWdfY3Vyc29yX3BvaW50ZXIgewoJY3Vyc29yOiBwb2ludGVyOwp9Ci5ic2VnX2N1cnNvcl9ub3RfYWxsb3dlZCB7CgljdXJzb3I6IG5vdC1hbGxvd2VkOwp9Ci5ic2VnX2Zsb2F0X2xlZnQgewoJZmxvYXQ6IGxlZnQ7Cn0KLmJzZWdfZmxvYXRfcmlnaHQgewoJZmxvYXQ6IHJpZ2h0Owp9Ci5ic2VnX3VzZXJfc2VsZWN0IHsKCS13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7CgktbW96LXVzZXItc2VsZWN0OiBub25lOwoJLW1zLXVzZXItc2VsZWN0OiBub25lOwoJdXNlci1zZWxlY3Q6IG5vbmU7Cn0KLmJzZWdfcyB7Cglmb250LWZhbWlseTogJ01pY3Jvc29mdCBZYUhlaScsIGFyaWFsLCBTaW1TdW4sIOWui+S9kyFpbXBvcnRhbnQ7Cn0KLmJzZWdfaW5zdHJ1Y3QgewoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJd2lkdGg6IDE1cHg7CgloZWlnaHQ6IDI1cHg7Cglib3JkZXItdG9wOiAxcHggc29saWQgI0E5QTlBOTsKCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjQTlBOUE5OwoJYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjQTlBOUE5OwoJYm9yZGVyLXJhZGl1czogMTRweCAwIDAgMTRweDsKCWJhY2tncm91bmQtY29sb3I6ICNGRkY7Cgljb2xvcjogIzAwMDsKCXRleHQtYWxpZ246IHJpZ2h0OwoJZm9udC1zaXplOiAxMHB4OwoJbGluZS1oZWlnaHQ6IDI3cHg7Cn0KLmJzZWdfY2xvc2UgewoJd2lkdGg6IDIycHg7CgloZWlnaHQ6IDIycHg7Cglib3JkZXItcmFkaXVzOiAxMXB4OwoJYmFja2dyb3VuZC1jb2xvcjogI0I0RTNGRjsKCWNvbG9yOiAjZjAwOwoJZm9udC1mYW1pbHk6ICdNaWNyb3NvZnQgWWFIZWknLCBhcmlhbCwgU2ltU3VuLCDlrovkvZMhaW1wb3J0YW50OwoJbGluZS1oZWlnaHQ6IG5vcm1hbDsKfQouYnNlZ19zZWxlY3QgewoJd2lkdGg6IDEwNHB4OwoJb3V0bGluZTogMDsKCWJvcmRlcjogMXB4IHNvbGlkICNBOUE5QTk7Cglib3JkZXItcmFkaXVzOiAwOwoJYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKCWNvbG9yOiAjMDAwOwoJZm9udC1zaXplOiAxNXB4Owp9Ci5ic2VnX3Njb250IHsKCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCWJveC1zaXppbmc6IGNvbnRlbnQtYm94OwoJbWFyZ2luOiAwOwoJcGFkZGluZzogMnB4OwoJb3V0bGluZTogMDsKCWJvcmRlci10b3A6IDFweCBzb2xpZCAjQTlBOUE5OwoJYm9yZGVyLXJpZ2h0OiAwOwoJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNBOUE5QTk7Cglib3JkZXItbGVmdDogMDsKCWJvcmRlci1yYWRpdXM6IDA7CgliYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwoJY29sb3I6ICMwMDA7Cglmb250LXNpemU6IDE1cHg7Cglmb250LWZhbWlseTogJ01pY3Jvc29mdCBZYUhlaScsIGFyaWFsLCBTaW1TdW4sIOWui+S9kzsKCWN1cnNvcjogdGV4dDsKfQouYnNlZ194X2J0bmQgewoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJcGFkZGluZzogMnB4IDA7Cgl3aWR0aDogMTZweDsKCWhlaWdodDogMjRweDsKCW91dGxpbmU6IDA7Cglib3JkZXItdG9wOiAxcHggc29saWQgI2E5YTlhOTsKCWJvcmRlci1yaWdodDogMDsKCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYTlhOWE5OwoJYm9yZGVyLWxlZnQ6IDA7CgliYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwoJY29sb3I6ICMwMDA7Cgl0ZXh0LWFsaWduOiBjZW50ZXI7Cglmb250LXNpemU6IDE1cHg7CglsaW5lLWhlaWdodDogMjRweDsKfQouYnNlZ19idG4gewoJcGFkZGluZzogMDsKCXdpZHRoOiA1MnB4OwoJaGVpZ2h0OiAyOXB4OwoJbGluZS1oZWlnaHQ6IDI5cHg7Cglib3JkZXI6IDFweCBzb2xpZCAjQTlBOUE5OwoJYm9yZGVyLXJhZGl1czogMDsKCWNvbG9yOiAjZmZmOwoJZm9udC1zaXplOiAxNHB4Owp9Ci5ic2VnX2FsZXJ0IHsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCXRvcDogNjJweDsKCXJpZ2h0OiAwOwoJbGVmdDogMDsKCXotaW5kZXg6IDk5OTk7CgltYXJnaW46IDAgYXV0bzsKCXdpZHRoOiA0NTBweDsKCWhlaWdodDogMTIwcHg7Cglib3JkZXI6IDFweCBzb2xpZCAjZDNkM2QzOwoJYm9yZGVyLXJhZGl1czogN3B4OwoJYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKfQouYnNlZ19hbGVydF9jIHsKCXBhZGRpbmc6IDE1cHg7CgloZWlnaHQ6IDQycHg7CglsZXR0ZXItc3BhY2luZzogMXB4OwoJZm9udC1zaXplOiAxNHB4Owp9Ci5ic2VnX2FsZXJ0X2J0biB7CgltYXJnaW4tbGVmdDogMzcwcHg7CglwYWRkaW5nOiAwOwoJd2lkdGg6IDY0cHg7CgloZWlnaHQ6IDMycHg7Cglib3JkZXI6IDA7Cglib3JkZXItcmFkaXVzOiAzcHg7CgliYWNrZ3JvdW5kOiAjM2I4Y2ZmOwoJY29sb3I6ICNmZmY7Cglmb250LXNpemU6IDE0cHg7Cn0KLmJzZWdfaW5fYWxsIHsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCXRvcDogNjJweDsKCWxlZnQ6IDE0cHg7Cgl6LWluZGV4OiA5OTg7Cgl3aWR0aDogNjE0cHg7CgloZWlnaHQ6IDQxMHB4OwoJYm9yZGVyOiAxcHggc29saWQgI2QzZDNkMzsKCWJvcmRlci1yYWRpdXM6IDdweDsKCWJhY2tncm91bmQtY29sb3I6ICNmZmY7CglsaW5lLWhlaWdodDogbm9ybWFsOwp9Ci5ic2VnX2luX3RpdGxlIHsKCXBhZGRpbmc6IDVweDsKCWhlaWdodDogMjBweDsKCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZDNkM2QzOwoJdGV4dC1hbGlnbjogY2VudGVyOwoJbGV0dGVyLXNwYWNpbmc6IDFweDsKCWZvbnQtd2VpZ2h0OiA3MDA7Cglmb250LXNpemU6IDE0cHg7Cn0KLmJzZWdfaW5fdGV4dCB7CglvdmVyZmxvdy15OiBhdXRvOwoJbWFyZ2luOiAxMHB4IDEwcHggMTBweCAxMHB4OwoJd2lkdGg6IDU5NHB4OwoJaGVpZ2h0OiAzNjBweDsKCXRleHQtYWxpZ246IGp1c3RpZnk7Cgl0ZXh0LWluZGVudDogMzBweDsKCWZvbnQtc2l6ZTogMTVweDsKfQouYnNlZ19yZXdhcmQgewoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJd2lkdGg6IDE1cHg7CgloZWlnaHQ6IDI1cHg7Cglib3JkZXItdG9wOiAxcHggc29saWQgI0E5QTlBOTsKCWJvcmRlci1yaWdodDogMXB4IHNvbGlkICNBOUE5QTk7Cglib3JkZXItYm90dG9tOiAxcHggc29saWQgI0E5QTlBOTsKCWJvcmRlci1yYWRpdXM6IDAgMTRweCAxNHB4IDA7CgliYWNrZ3JvdW5kLWNvbG9yOiAjRkZGOwoJY29sb3I6ICMwMDA7Cglmb250LXNpemU6IDEwcHg7CglsaW5lLWhlaWdodDogMjdweDsKfQouYnNlZ19xcl9hbGwgewoJcG9zaXRpb246IGFic29sdXRlOwoJdG9wOiA2MnB4OwoJcmlnaHQ6IDE0cHg7Cgl6LWluZGV4OiA5OTk7Cgl3aWR0aDogNjEycHg7CgloZWlnaHQ6IDI4NXB4OwoJYm9yZGVyOiAxcHggc29saWQgI2QzZDNkMzsKCWJvcmRlci1yYWRpdXM6IDdweDsKCWJhY2tncm91bmQtY29sb3I6ICNmZmY7CglsaW5lLWhlaWdodDogbm9ybWFsOwp9Ci5ic2VnX3FyX3RpdGxlIHsKCXBhZGRpbmc6IDVweDsKCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZDNkM2QzOwoJdGV4dC1hbGlnbjogY2VudGVyOwoJbGV0dGVyLXNwYWNpbmc6IDFweDsKCWZvbnQtd2VpZ2h0OiA3MDA7Cglmb250LXNpemU6IDE0cHg7Cn0KLmJzZWdfcXJfdGV4dCB7CglvdmVyZmxvdy15OiBhdXRvOwoJaGVpZ2h0OiA1MTVweDsKfQouYnNlZ19ic2UgewoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJd2lkdGg6IDE0NHB4OwoJdGV4dC1pbmRlbnQ6IDA7Cn0KLmJzZWdfYnNlX2kgewoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJbWFyZ2luOiAxcHggM3B4IDFweCAxcHg7Cgl3aWR0aDogMzNweDsKCWhlaWdodDogMjJweDsKCWJvcmRlcjogMXB4IHNvbGlkICNmMDA7Cglib3JkZXItcmFkaXVzOiAxN3B4IDE3cHggMTdweCAxN3B4LzEycHggMTJweCAxMnB4IDEycHg7CgliYWNrZ3JvdW5kLWNvbG9yOiAjZmYwOwoJdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5ic2VnX3FyX2MgewoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJd2lkdGg6IDIwMHB4OwoJaGVpZ2h0OiAyNTRweDsKCWJvcmRlci1ib3R0b206IDFweCBkb3R0ZWQgI2QzZDNkMzsKfQouYnNlZ19pbWdfcXIgewoJbWFyZ2luOiA5cHggOXB4IDAgOXB4OwoJd2lkdGg6IDE4MHB4OwoJaGVpZ2h0OiAxODBweDsKCWJvcmRlcjogMXB4IHNvbGlkICNkM2QzZDM7Cn0KLmJzZWdfY2loIHsKCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCXdpZHRoOiAyMDBweDsKCWhlaWdodDogNjBweDsKCXRleHQtYWxpZ246IGNlbnRlcjsKCWZvbnQtc2l6ZTogMTZweDsKfQouYnNlZ19idG5fYmdfbW91c2VsZWF2ZSB7CgliYWNrZ3JvdW5kLWNvbG9yOiAjM0I4Q0ZGOwp9Ci5ic2VnX2J0bl9iZ19tb3VzZWVudGVyIHsKCWJhY2tncm91bmQtY29sb3I6ICM3RUIyRkY7Cn0KLmJzZWdfY01FTUVGIHsKCW1hcmdpbjogMCA4cHghaW1wb3J0YW50Owp9Ci5ic2VnX25pIHsKCXdpZHRoOiAyNDBweDsKfQouYnNlZ19mX2hvbWUgewoJbWFyZ2luLWxlZnQ6IDAhaW1wb3J0YW50Owp9Ci5ic2VnX2ZfbWFpbiB7CgltYXJnaW4tbGVmdDogMjBweCFpbXBvcnRhbnQ7Cn0KLmJzZWdfZl9tYWxsIHsKCWxlZnQ6IDIwMHB4Owp9Ci5ic2VnX2ZfaG9tZSA+IC5ic2VnX3MgewoJbWFyZ2luOiAwIDAgMCAxMHB4Owp9Ci5ic2VnX2ZfbWFpbiA+IC5ic2VnX3MgewoJbWFyZ2luOiAwIDAgMCAxMHB4Owp9Ci5ic2VnX2ZfaW5pdCA+IC5ic2VnX3MgewoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJbWFyZ2luOiAzNXB4IDAgMCAwOwp9Ci5ic2VnX2ZfY2VudGVyID4gLmJzZWdfcyB7CglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CgltYXJnaW46IDE5cHggMCAwIDdweDsKfQouYnNlZ19mX2Vycm9yID4gLmJzZWdfcyB7CglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CgltYXJnaW46IDdweCAwIDAgODVweDsKfQouYnNlZ19mX2ZhY2UgPiAuYnNlZ19zIHsKCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCW1hcmdpbjogMTBweCAwIDAgMjAwcHg7Cn0KLmJzZWdfZl95a3AgPiAuYnNlZ19zIHsKCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCW1hcmdpbjogMTBweCAwIDAgMTBweDsKfQouYnNlZ19mX3dlbnpoYW5nID4gLmJzZWdfcyB7CglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CgltYXJnaW46IDExcHggMCAwIDUwcHg7Cn0KLmJzZWdfZl9zeCA+IC5ic2VnX3MgewoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJbWFyZ2luOiAxOHB4IDAgMCAyNDBweDsKfQouYnNlZ19mX25vdGxvZ2luID4gLmJzZWdfcyB7CglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CgltYXJnaW46IDE4cHggMCAwIDJweDsKfQouYnNlZ19mX2NoZWNrb3V0ID4gLmJzZWdfcyB7CglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CgltYXJnaW46IDVweCAwIDAgMTBweDsKfQouYnNlZ19mX2Rvd25sb2FkID4gLmJzZWdfcyB7CglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CgltYXJnaW46IDVweCAwIDAgNDhweDsKfQouYnNlZ19mX3ZlcnNpb24gPiAuYnNlZ19zIHsKCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCW1hcmdpbjogNXB4IDAgMCA4NXB4Owp9Ci5ic2VnX2ZfbWFsbCA+IC5ic2VnX3MgewoJbWFyZ2luOiAwIDAgMCAzcHg7Cn0KLmJzZWdfZl9ob21lID4gLmJzZWdfcyA+IC5ic2VnX3NlbGVjdCB7CgloZWlnaHQ6IDMwcHg7Cn0KLmJzZWdfZl9tYWluID4gLmJzZWdfcyA+IC5ic2VnX3NlbGVjdCB7CgloZWlnaHQ6IDMwcHg7Cn0KLmJzZWdfZl9pbml0ID4gLmJzZWdfcyA+IC5ic2VnX3NlbGVjdCB7CglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cgl3aWR0aDogMTAwcHg7CgloZWlnaHQ6IDMwcHg7Cn0KLmJzZWdfZl9kb3dubG9hZCA+IC5ic2VnX3MgPiAuYnNlZ19zZWxlY3QgewoJaGVpZ2h0OiAzMHB4Owp9Ci5ic2VnX2ZfdmVyc2lvbiA+IC5ic2VnX3MgPiAuYnNlZ19zZWxlY3QgewoJaGVpZ2h0OiAzMHB4Owp9Ci5ic2VnX2ZfY2hlY2tvdXQgPiAuYnNlZ19zID4gLmJzZWdfc2VsZWN0IHsKCWhlaWdodDogMzBweDsKfQouYnNlZ19mX21hbGwgPiAuYnNlZ19zID4gLmJzZWdfc2VsZWN0IHsKCWhlaWdodDogMzBweDsKfQouYnNlZ19mX2Vycm9yID4gLmJzZWdfcyA+IC5ic2VnX3NlbGVjdCB7CgloZWlnaHQ6IDMwcHg7Cn0KLmJzZWdfZl95a3AgPiAuYnNlZ19zID4gLmJzZWdfc2VsZWN0IHsKCWhlaWdodDogMzBweDsKfQouYnNlZ19mX2ZhY2UgPiAuYnNlZ19zID4gLmJzZWdfc2VsZWN0IHsKCWhlaWdodDogMzBweDsKfQouYnNlZ19mX3dlbnpoYW5nID4gLmJzZWdfcyA+IC5ic2VnX3NlbGVjdCB7CglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CgloZWlnaHQ6IDMwcHg7Cn0KLmJzZWdfZl9ub3Rsb2dpbiA+IC5ic2VnX3MgPiAuYnNlZ19zZWxlY3QgewoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJaGVpZ2h0OiAzMHB4Owp9Ci5ic2VnX2Zfc3ggPiAuYnNlZ19zID4gLmJzZWdfc2VsZWN0IHsKCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCWhlaWdodDogMzBweDsKfQouYnNlZ19mX2NlbnRlciA+IC5ic2VnX3MgPiAuYnNlZ19zZWxlY3QgewoJd2lkdGg6IDEwMHB4OwoJaGVpZ2h0OiAzMHB4Owp9Ci5ic2VnX2ZfaG9tZSA+IC5ic2VnX3MgPiAuYnNlZ19zY29udCB7Cgl3aWR0aDogMjY0cHg7CgloZWlnaHQ6IDI0cHg7Cn0KLmJzZWdfZl9tYWluID4gLmJzZWdfcyA+IC5ic2VnX3Njb250IHsKCXdpZHRoOiAyNjRweDsKCWhlaWdodDogMjRweDsKfQouYnNlZ19mX2luaXQgPiAuYnNlZ19zID4gLmJzZWdfc2NvbnQgewoJd2lkdGg6IDIwMnB4OwoJaGVpZ2h0OiAyNHB4Owp9Ci5ic2VnX2ZfZG93bmxvYWQgPiAuYnNlZ19zID4gLmJzZWdfc2NvbnQgewoJd2lkdGg6IDIzNHB4OwoJaGVpZ2h0OiAyNHB4Owp9Ci5ic2VnX2ZfdmVyc2lvbiA+IC5ic2VnX3MgPiAuYnNlZ19zY29udCB7Cgl3aWR0aDogMjM0cHg7CgloZWlnaHQ6IDI0cHg7Cn0KLmJzZWdfZl9jaGVja291dCA+IC5ic2VnX3MgPiAuYnNlZ19zY29udCB7Cgl3aWR0aDogMjM0cHg7CgloZWlnaHQ6IDI0cHg7Cn0KLmJzZWdfZl9tYWxsID4gLmJzZWdfcyA+IC5ic2VnX3Njb250IHsKCXBhZGRpbmc6IDRweCAycHg7Cgl3aWR0aDogMjE1cHg7CgloZWlnaHQ6IDIwcHg7Cglib3JkZXItbGVmdDogMXB4IHNvbGlkICMwMDA7Cn0KLmJzZWdfZl9jZW50ZXIgPiAuYnNlZ19zID4gLmJzZWdfc2NvbnQgewoJd2lkdGg6IDE3NnB4OwoJaGVpZ2h0OiAyNHB4Owp9Ci5ic2VnX2ZfZXJyb3IgPiAuYnNlZ19zID4gLmJzZWdfc2NvbnQgewoJd2lkdGg6IDI1NXB4OwoJaGVpZ2h0OiAyNHB4Owp9Ci5ic2VnX2Zfd2VuemhhbmcgPiAuYnNlZ19zID4gLmJzZWdfc2NvbnQgewoJd2lkdGg6IDI2NHB4OwoJaGVpZ2h0OiAyNHB4Owp9Ci5ic2VnX2Zfbm90bG9naW4gPiAuYnNlZ19zID4gLmJzZWdfc2NvbnQgewoJd2lkdGg6IDIxNHB4OwoJaGVpZ2h0OiAyNHB4Owp9Ci5ic2VnX2Zfc3ggPiAuYnNlZ19zID4gLmJzZWdfc2NvbnQgewoJd2lkdGg6IDIxNHB4OwoJaGVpZ2h0OiAyNHB4Owp9Ci5ic2VnX2ZfZmFjZSA+IC5ic2VnX3MgPiAuYnNlZ19zY29udCB7Cgl3aWR0aDogMjY0cHg7CgloZWlnaHQ6IDI0cHg7Cn0KLmJzZWdfZl95a3AgPiAuYnNlZ19zID4gLmJzZWdfc2NvbnQgewoJd2lkdGg6IDI2NHB4OwoJaGVpZ2h0OiAyNHB4Owp9Ci5ic2VnX2ZfaW5pdCA+IC5ic2VnX3MgPiAuYnNlZ19idG4gewoJd2lkdGg6IDQycHg7Cn0KLmJzZWdfZl9jaGVja291dCA+IC5ic2VnX3MgPiAuYnNlZ19idG4gewoJaGVpZ2h0OiAzMXB4OwoJbGluZS1oZWlnaHQ6IDMxcHg7Cn0KLmJzZWdfZl9tYWxsID4gLmJzZWdfcyA+IC5ic2VnX2J0biB7CgloZWlnaHQ6IDMwcHg7Cglmb250LXNpemU6IDE1cHg7CglsaW5lLWhlaWdodDogNHB4Owp9Ci5ic2VnX2ZfY2VudGVyID4gLmJzZWdfcyA+IC5ic2VnX2J0biB7Cglmb250LXNpemU6IDE1cHg7Cn0KLmZhdGhlcl9jZW50ZXIgPiAuYnNlZ19zID4gLmJzZWdfYnRuIHsKCWhlaWdodDogMzBweDsKCWxpbmUtaGVpZ2h0OiAzMHB4Owp9Ci5mYXRoZXJfZXJyb3IgPiAuYnNlZ19zID4gLmJzZWdfYnRuIHsKCWhlaWdodDogMzBweDsKCWxpbmUtaGVpZ2h0OiAzMHB4Owp9Ci5ic2VnX3ZlcmlmeV9pbnB1dCB7CglwYWRkaW5nLWJvdHRvbTogMjBweDsKfQouYnNlZ190Y2UgewoJcGFkZGluZzogMCA4cHghaW1wb3J0YW50Owp9Ci5ic2VnX2hlYWRlcl9jb250ZW50IHsKCXdpZHRoOiAxMTQwcHg7Cn0KLmJzZWdfbmF2X2J1dHRvbiB7CgltYXJnaW46IDAgNXB4IWltcG9ydGFudDsKfQouYnNlZ19maXJzdF9uYXZfYnV0dG9uX3N1YiB7CgltYXJnaW4tbGVmdDogMjUwcHg7Cn0KLmJzZWdfYl9ub19sbiB7CgltYXJnaW4tcmlnaHQ6IDRweCFpbXBvcnRhbnQ7Cn0KLmJzZWdfYV9hbGVydF9jIHsKCWNvbG9yOiAjMDA4MDAwOwoJZm9udC1zaXplOiAxNXB4Owp9Ci5ic2VnX25fYWxlcnRfYyB7Cgljb2xvcjogI2YwMDsKCWZvbnQtc2l6ZTogMThweDsKfQouYnNlZ19hX2JsYW5rIHsKCWNvbG9yOiBncmVlbiFpbXBvcnRhbnQ7Cgl0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZSFpbXBvcnRhbnQ7Cn0KLmJzZWdfbG9va291dCB7Cgljb2xvcjogI2YwMDsKfQouYnNlZ19nZyB7CgliYWNrZ3JvdW5kLWNvbG9yOiByZWQ7Cgljb2xvcjogI2ZmZjsKfQouYnNlZ19hbGlwYXkgewoJY29sb3I6ICMyNzkwRDY7Cn0KLmJzZWdfWXVlYmFvVCB7Cgljb2xvcjogI0VCMEEwQTsKfQouYnNlZ19KZGpyIHsKCWNvbG9yOiAjRkQzNDE0Owp9Ci5ic2VnX1dlY2hhdCB7Cgljb2xvcjogIzdDQUEwRDsKfQouYnNlZ19CYWlkdVBhbiB7Cgljb2xvcjogIzJGNzNFRjsKfQouYnNlZ19UdHF3IHsKCWNvbG9yOiAjRkEzOTRFOwp9Ci5ic2VnX1R4dyB7Cgljb2xvcjogI0ZGNDQyNDsKfQouYnNlZ19EemtkIHsKCWNvbG9yOiAjQzcwMDAwOwp9Ci5ic2VnX1l0IHsKCWNvbG9yOiAjRUExMDBGOwp9Ci5ic2VnX1l6dG0gewoJY29sb3I6ICNFRTRDNDA7Cn0KLmJzZWdfVGZiIHsKCWNvbG9yOiAjRkU1MTAwOwp9Ci5ic2VnX0xxIHsKCWNvbG9yOiAjMDBCN0E4Owp9Ci5ic2VnX0h0dCB7Cgljb2xvcjogI0ZFM0Q0NDsKfQouYnNlZ19YdHQgewoJY29sb3I6ICNGRTAwMDA7Cn0KLmJzZWdfV2xrayB7Cgljb2xvcjogI0ZGMTIwRDsKfQouYnNlZ195cW0gewoJYmFja2dyb3VuZC1jb2xvcjogIzk1MEFEMzsKCWNvbG9yOiAjZmZmOwp9Ci5ic2VnX015dHQgewoJY29sb3I6ICNFODM0MjU7Cn0KLmJzZWdfRGZ0dCB7Cgljb2xvcjogI0Y5MDAwMDsKfQouYnNlZ180Mzk5IHsKCWNvbG9yOiAjMDY3NzA3Owp9Ci5ic2VnX1poIHsKCWNvbG9yOiAjMEY4OEVCOwp9Ci5ic2VnX29wdGlvbiB7CgliYWNrZ3JvdW5kLWNvbG9yOiAjRkZGOwoJdGV4dC1hbGlnbjogY2VudGVyOwoJdGV4dC1hbGlnbi1sYXN0OiBjZW50ZXI7Cn0KLmJzZWdfb3B0aW9uXzEgewoJY29sb3I6ICM5QjBBMEY7Cglmb250LXdlaWdodDogYm9sZDsKCWJhY2tncm91bmQtY29sb3I6I2Q4ZmJkMDsKfQouYnNlZ19vcHRpb25fMiB7Cgljb2xvcjogI0YwMDsKfQouYnNlZ19vcHRpb25fMyB7Cgljb2xvcjogI0UzODYwMDsKfQouYnNlZ19vcHRpb25fNCB7Cgljb2xvcjogIzI5QzkwQTsKfQouYnNlZ19vcHRpb25fNSB7Cgljb2xvcjogIzAwQzREMzsKfQouYnNlZ19vcHRpb25fNiB7Cgljb2xvcjogIzM5MzFGRjsKfQouYnNlZ19vcHRpb25fOSB7Cgljb2xvcjogI0EwQTcwRjsKfQouYnNlZ19vcHRpb25fNyB7Cgljb2xvcjogI0FCQzsKfQouYnNlZ19vcHRpb25fOCB7Cgljb2xvcjogI2RmYzVmNzsKfQouYnNlZ196Y3p6IHsKCW1hcmdpbjogMCBhdXRvOwoJd2lkdGg6IDExNHB4OwoJaGVpZ2h0OiAzMHB4OwoJYm9yZGVyLXJhZGl1czogNXB4OwoJYmFja2dyb3VuZC1jb2xvcjogI2ZiMWQxZDsKCWNvbG9yOiB3aGl0ZTsKCXRleHQtYWxpZ246IGNlbnRlcjsKCXRleHQtaW5kZW50OiAwOwoJZm9udC1zaXplOiAxOHB4OwoJbGluZS1oZWlnaHQ6IDMwcHg7Cn0KYCk7Cn0K"},{"name":"ÁôæÂ∫¶ÁΩëÁõòÁõ¥ÈìæÊûÅÈÄü‰∏ãËΩΩÂä©ÊâãÔºàÂÖ®Êñ∞ÁâàÊú¨Ôºâ","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["biubiu00.cn"],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://pan.baidu.com/*","*://pan.baidu.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1656858703210,"data":{}},"enabled":false,"position":9,"file_url":"https://greasyfork.org/scripts/436053-%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%9B%B4%E9%93%BE%E6%9E%81%E9%80%9F%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B-%E5%85%A8%E6%96%B0%E7%89%88%E6%9C%AC/code/%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%9B%B4%E9%93%BE%E6%9E%81%E9%80%9F%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B%EF%BC%88%E5%85%A8%E6%96%B0%E7%89%88%E6%9C%AC%EF%BC%89.user.js","uuid":"f72ff0f0-c2aa-440d-a648-2345c21dd786","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnmb7luqbnvZHnm5jnm7Tpk77mnoHpgJ/kuIvovb3liqnmiYvvvIjlhajmlrDniYjmnKzvvIkKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAxLjcuNAovLyBAYW50aWZlYXR1cmUgIG1lbWJlcnNoaXAgIOS4uumYsuatouaOpeWPo+iiq+ebl++8geivpeiEmuacrOmcgOimgei+k+WFpemqjOivgeeggeS5i+WQjuaJjeiDveS9v+eUqOWujOaVtOWKn+iDve+8jOaEn+iwoueQhuino++8geWmguaenOiEmuacrOS4jeiDveato+W4uOS9v+eUqO+8jOWPr+S7pemAmui/h+W+ruS/oeWFrOS8l+WPt+iBlOezu+aIke+8gQovLyBAZGVzY3JpcHRpb24gIOOAkDEy5pyIMzDml6XmmZo354K5LTjngrkgNTBNL1Pnu6fnu63lpZTmlL7jgJHnm67liY3lhajnvZHmnIDnroDljZXnmoTllK/kuIDkuIDmrL7lj6/nlKjnmoTnmb7luqbnvZHnm5gg5YWNVklQ5Lya5ZGY44CB5peg6KeG6buR5Y+355qE5p6B6YCf5LiL6L295rK554y06ISa5pys77yM5LiL6L296YCf5bqm5Z+65pys5Y+v5Lul6LeR5ruh5L2g55qE5bim5a6977yB5LiA5YWx5pSv5oyB5LiJ56eN5LiL6L295pa55byP77yM5ZCM5pe25pSv5oyBV2luZG93c++8jE1hY++8jExpbnV477yMQW5kcm9pZOetieWkmuW5s+WPsO+8jOavj+S4gOenjemDveiDvee7meS9oOS4gOenjeaBkOaAluWmguaWr+eahOS4i+i9vemAn+W6puS9k+mqjO+8gQovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vcGFuLmJhaWR1LmNvbS8qCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly9wYW4uYmFpZHUuY29tL20tc3RhdGljL2Jhc2Uvc3RhdGljL2ltYWdlcy9mYXZpY29uLmljbwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vY2RuLnN0YXRpY2ZpbGUub3JnL2xpbW9udGUtc3dlZXRhbGVydDIvMTEuMS45L3N3ZWV0YWxlcnQyLmFsbC5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2Nkbi5zdGF0aWNmaWxlLm9yZy9qcXVlcnkvMy42LjAvanF1ZXJ5Lm1pbi5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vY3J5cHRvLWpzQDQuMS4xL2NyeXB0by1qcy5taW4uanMKLy8gQG1hdGNoICAgICAgICAqOi8vcGFuLmJhaWR1LmNvbS8qCi8vIEBncmFudCAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICBHTV9vcGVuSW5UYWIKLy8gQGdyYW50ICAgICAgICBHTV9hZGRTdHlsZQovLyBAZ3JhbnQgICAgICAgIEdNX3NldENsaXBib2FyZAovLyBAZ3JhbnQgICAgICAgIHVuc2FmZVdpbmRvdwovLyBAY29ubmVjdCAgICAgIGJpdWJpdTAwLmNuCi8vID09L1VzZXJTY3JpcHQ9PQoKCmNvbnN0IHNlcnZlcnMgPSBbCgogICAgImh0dHA6Ly9iaXViaXUwMC5jbiIKXTsKCgptYWluVGFzaygpOwphc3luYyBmdW5jdGlvbiBtYWluVGFzaygpIHsKICAgIEdNX2FkZFN0eWxlKCcjc3VwZXJEb3duLCNjb3B5SURNPnNwYW4sI3NlbmRBcmlhPnNwYW46aG92ZXJ7Y3Vyc29yOnBvaW50ZXI7Y29sb3I6d2hpdGUhaW1wb3J0YW50fScpOwogICAgYXdhaXQgc2xlZXAoMjAwMCk7CiAgICAkKCcjbGF5b3V0TWFpbiBkaXY6aGFzKHNwYW4uZy1uZXctY3JlYXRlKT5zcGFuLmctZHJvcGRvd24tYnV0dG9uOmZpcnN0JykuYmVmb3JlKCc8c3BhbiBzdHlsZT0iYmFja2dyb3VuZDpyZWQ7Y29sb3I6d2hpdGU7Zm9udC1zaXplOjE0cHg7cGFkZGluZy1sZWZ0OjEwcHg7cGFkZGluZy1yaWdodDoxMHB4O2JvcmRlcjpub25lIiBjbGFzcz0iZy1kcm9wZG93bi1idXR0b24gZy1idXR0b24gIGctYnV0dG9uLWJsdWUiIGlkPSJzdXBlckRvd24iPuaegemAn+S4i+i9veWKqeaJizwvc3Bhbj4nKTsKICAgICQoJyNzdXBlckRvd24nKS5vbignY2xpY2snLCBhc3luYyBlID0+IHsKICAgICAgICBsZXQgZmlsZSA9IGdldFNlbGVjdGVkRmlsZSgpLAogICAgICAgICAgICBwd2QgPSBnZW5SYW5kb21TdHIoNCk7CiAgICAgICAgaWYgKCFmaWxlKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgc1RvYXN0KCfmraPlnKjojrflj5bnmb7luqbliIbkuqvpk77mjqUuLi4nLCAyMDAwKTsKICAgICAgICBsZXQgc3VybCA9IGF3YWl0IGdldFNob3J0VXJsKGZpbGUuZnNfaWQsIHB3ZCk7CiAgICAgICAgaWYgKCFzdXJsKSB7CiAgICAgICAgICAgIHJldHVybiBzQWxlcnQoJ+eZvuW6puWIhuS6q+mTvuaOpeiOt+WPluWksei0pScpOwogICAgICAgIH0KICAgICAgICBzaG93RGlhbG9nKHN1cmwsIHB3ZCwgZmlsZS5zZXJ2ZXJfZmlsZW5hbWUpCgogICAgfSk7Cn0KCmZ1bmN0aW9uIHNob3dEaWFsb2coc3VybCwgcHdkLCBmaWxlTmFtZSkgewogICAgbGV0IGRlZmF1bHRQYXNzQ29kZVZhbHVlID0gIiI7CiAgICBpZiAobG9jYWxTdG9yYWdlLkhVTV9wYXNzICYmIChEYXRlLm5vdygpIC0gK2xvY2FsU3RvcmFnZS5IVU1fcGFzc1RpbWUpIDwgODY0MDAwMDApIHsKICAgICAgICBkZWZhdWx0UGFzc0NvZGVWYWx1ZSA9IGxvY2FsU3RvcmFnZS5IVU1fcGFzczsKICAgIH0gZWxzZSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLkhVTV9wYXNzID0gIiI7CiAgICB9CiAgICBsZXQgaHRtbCA9IGA8aDEgaWQ9InRpdGxlIj7mraPlnKjojrflj5YgJHtmaWxlTmFtZX0g55qE55u06ZO+PC9oMT4KICAgICAgICAgPGhyPgogICAgICAgICA8ZGl2IGNsYXNzPSJib2R5IiBzdHlsZT0id2lkdGg6IDgwMHB4O2hlaWdodDo1NjBweDtkaXNwbGF5OmZsZXgiIHNjcm9sbD0ibm8iPgogICAgICAgICAgICAgPGRpdiBjbGFzcz0ibGVmdCIgc3R5bGU9ImZsZXg6MyI+CiAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudDEiIHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQiPgogICAgICAgICAgICAgICAgICAgICA8aDM+5LiL6L295Zyw5Z2AOOWwj+aXtuacieaViO+8jOivt+WPiuaXtuS4i+i9vTwvaDM+CiAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgPGhyPgogICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbnRlbnQyIiBzdHlsZT0idGV4dC1hbGlnbjpsZWZ0Ij4KICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9Im1hcmdpbi1ib3R0b206MjBweCI+KiDpk77mjqUg4oaTIOKGkyDihpMg77yaPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICA8cCBpZD0iY29weUlETSIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTBweDttYXJnaW4tdG9wOjEwcHgiPjwvcD4KICAgICAgICAgICAgICAgICAgICAgPHAgaWQ9InNlbmRBcmlhIiBzdHlsZT0ibWFyZ2luLWJvdHRvbToyMHB4O21hcmdpbi10b3A6MTBweCI+PC9wPgoKICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICA8aHIgLz4KICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBzdHlsZT0iZm9udC1zaXplOjIwcHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjojRkYwMDAwIj7kuIDkuKrpl67popjvvJrkvaDnlKjnmoTmmK/osLfmrYzmtY/op4jlmajlkJfvvJ88L3N0cm9uZz4KICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjE1cHg7Zm9udC13ZWlnaHQ6Ym9sZGVyO3RleHQtY2VudGVyOmxlZnQ7bWFyZ2luLXRvcDoxNXB4Ij7mnIDov5Hnmb7luqbkuKXmjqfvvIzlsIblnKjmr4/mmZo354K5LTjngrnpl7TlvIDmlL7kuIvovb3mjqXlj6PvvIE8L2Rpdj48YnI+CiAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudDMiIHN0eWxlPSJmb250LXNpemU6bGVmdDtiYWNrZ3JvdW5kOiNERkZGREY7Ij4KICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjE1cHg7Zm9udC13ZWlnaHQ6Ym9sZGVyO3RleHQtYWxpZ246bGVmdDttYXJnaW4tdG9wOjE1cHgiPuOAkOaWueW8jzHjgJFJRE3nlKjmiLfku6PnkIbvvIhVQe+8ieW/hemhu+iuvue9ruS4uu+8mnl1bmxpbkdTPC9kaXY+PGJyPgogICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwOi8vbXAud2VpeGluLnFxLmNvbS9zP19fYml6PU16ZzVNelkzTkRNeU13PT0mbWlkPTIyNDc0ODQxMjYmaWR4PTEmc249OTYxZWVhN2QwYjUyZmE4YjlmZDg1ZGViMmQ2ODRjNWEmY2hrc209YzAyYTc0ZTJmNzVkZmRmNGJmOGU3MmY5MjNjZjBjZDY5MDkwMzAzY2FmNDE2YmE1ZjA3M2ZhODk5YTgyMzYxNDFhMTYyMGQxMjUzZCNyZCIgdGFyZ2V0PSJfYmxhbmsiPuOAkElETemFjee9ruaVmeeoi+OAkTwvYT48YSBocmVmPSJodHRwczovL3d3cy5sYW56b3VpLmNvbS9iMGVwdjc3Y2giIHRhcmdldD0iX2JsYW5rIj7jgJDkuIvovb3lnLDlnYDjgJE8L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudDMiIHN0eWxlPSJmb250LXNpemU6bGVmdDtiYWNrZ3JvdW5kOiNERkZGREY7Ij4KICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjE1cHg7Zm9udC13ZWlnaHQ6Ym9sZGVyO3RleHQtYWxpZ246bGVmdDttYXJnaW4tdG9wOjE1cHgiPuOAkOaWueW8jzLjgJFBcmlhMi9Nb3RyaXgg5peg6ZyA6YWN572u77yM6K+355yL5LiL5pa55L2/55So5pWZ56iLPC9kaXY+PGJyPgogICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwOi8vbXAud2VpeGluLnFxLmNvbS9zP19fYml6PU16ZzVNelkzTkRNeU13PT0mbWlkPTEwMDAwMDMyNiZpZHg9MSZzbj1iMDc3ZTgzYTQxYjI2OWQyNmZmZTFlZDM4YzRmNzU3NiZjaGtzbT00MDJhNzQ3YTc3NWRmZDZjOGI3YzQyYzBmNmFhYTQ4N2Y4MmUxMzg4NTljMDcwOTc5MjIwYWEyY2M1ZDQzMjk0ZWQ1MGE0Y2FjNmQ0I3JkIiB0YXJnZXQ9Il9ibGFuayI+44CQQXJpYTIvTW90cml45L2/55So5pWZ56iL44CRPC9hPjxhIGhyZWY9Imh0dHBzOi8vd3dzLmxhbnpvdWkuY29tL2IwZXB2NzdjaCIgdGFyZ2V0PSJfYmxhbmsiPuOAkOS4i+i9veWcsOWdgOOAkTwvYT48L2Rpdj48YnI+CiAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbnRlbnQzIiBzdHlsZT0iZm9udC1zaXplOmxlZnQ7YmFja2dyb3VuZDojRkZGMEFDOyI+CiAgICAgICAgICAgICAgICAgICAgIDxwPjxzdHJvbmcgc3R5bGU9ImZvbnQtc2l6ZToyNXB4OyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6I2ZmMDAwMCI+6YeN54K55o+Q56S677yaPC9zdHJvbmc+CiAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxM3B4O2ZvbnQtd2VpZ2h0OmJvbGRlcjt0ZXh0LWFsaWduOmxlZnQ7bWFyZ2luLXRvcDoxM3B4Ij4xLuWIneasoeS9v+eUqOivt+aJq+eggeWFs+azqOWFrOS8l+WPt+OAkOS6keael+WFrOekvuOAke+8jOWbnuWkjemqjOivgeeggTwvZGl2Pjxicj4KICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEzcHg7Zm9udC13ZWlnaHQ6Ym9sZGVyO3RleHQtYWxpZ246bGVmdDttYXJnaW4tdG9wOjEzcHgiPjIu5bCG6aqM6K+B56CB6L6T5YWl5Y+z6L656L6T5YWl5qGG5Lit77yM5Y2z5Y+v6I635Y+W6auY6YCf55u06ZO+77yBPC9kaXY+PGJyPgogICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6OHB4OyBmb250LXdlaWdodDpib2xkZXI7dGV4dC1hbGlnbjpsZWZ0OyBjb2xvcjojZmYwMDAwIj7mj5DnpLrvvJrpqozor4HnoIHku4XkuLo25L2N5pWw5a2X77yM5Y+q6ZyA6KaB5Zue5aSN5Y2z5Y+v6I635b6X77yM5LiN6ZyA6KaB5YGa5Lu75Yqh5Lmf5LiN6ZyA6KaB5YW25a6D77yM5YWz5rOo5Y2z5Y+v6I635Y+W77yBPC9kaXY+PC9hPgogICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyaWdodCIKICAgICAgICAgICAgICAgICBzdHlsZT0iZmxleDozO2Rpc3BsYXk6IGZsZXg7ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjthbGlnbi1pdGVtczogY2VudGVyO3dpZHRoOjk1JSI+CiAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ici1jb250ZW50MSIgc3R5bGU9IndpZHRoOjEwMCU7cGFkZGluZy10b3A6MHB4Ij4KICAgICAgICAgICAgICAgICAgICAgPHAgaWQ9InRpcDEiPjwvcD4KCiAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBuYW1lPSJwYXNzQ29kZSIgaWQ9InBhc3NDb2RlIgogICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9IiR7ZGVmYXVsdFBhc3NDb2RlVmFsdWV9IgogICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9IndpZHRoOjk2JTtoZWlnaHQ6NDBweDttYXJnaW4tdG9wOjIwcHg7Zm9udC1zaXplOjE1cHg7YmFja2dyb3VuZDojZDlkOWQ5O2JvcmRlcjpub25lO291dGxpbmU6bm9uZTtjb2xvcjpibGFjaztib3JkZXItcmFkaXVzOjEwcHg7cGFkZGluZy1sZWZ0OjEwcHg7Ym94LXNpemluZzpib3JkZXItYm94IgogICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9Iuivt+i+k+WFpemqjOivgeeggSIgLz4KICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJkbEJ0biIKICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPSJzd2FsMi1jb25maXJtIHN3YWwyLXN0eWxlZCIgc3R5bGU9IndpZHRoOjk2JTtoZWlnaHQ6NDBweDttYXJnaW4tdG9wOjIwcHg7Zm9udC1zaXplOjE1cHgiCiAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSJidXR0b24iIHZhbHVlPSLngrnlh7vojrflj5bnm7Tpk74iPjwvaW5wdXQ+PGJyPjxicj4KICAgICAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZyBzdHlsZT0iZm9udC1zaXplOjE1cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjojZmYwMDAwIj4qIOS4uumYsuatouaOpeWPo+iiq+a7peeUqO+8jOS4jeWumuacn+abtOaWsOmqjOivgeeggTwvc3Ryb25nPjxicj48YnI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHdpZHRoPSI2MCUiCgkJCQkJCXNyYz0iLy9yLnBob3RvLnN0b3JlLnFxLmNvbS9wc2M/L1YxMmRvaUc2Mko5dzdRLzQ1TkJ1ekRJVzQ4OVFCb1ZlcDVtY2FLaENzUUF6TXpKOVJJQXkzR0p6YXRHSWhFbEE3R0dHVGlOUjZPbXVqVUQ3YkFzWFg3bDUqZVdsc0xJbms2QjhZV2NoMHRKaThrLk1UKmRFVXBLSTFNIS9iJmJvPUFnRUNBUUlCQWdFQkdUNCEmcmY9dmlld2VyXzQvci9feWFrZV9xem9uZWltZ291dC5wbmciIC8+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHA6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpnNU16WTNORE15TXc9PSZtaWQ9MjI0NzQ4NDA4MiZpZHg9MSZzbj1jZTQ0MGJmNGI1ZGYxZDBlMjRlY2NiNjc0YTk1YzkyYiZjaGtzbT1jMDJhNzQ4ZWY3NWRmZDk4MWJmODlkYmM1NjMxMWIzMTBlZjk3OTdlN2U2ZTRkZDkzNjQ3YmNmZDYzNDQzYjI4OGYzMjY5MmEwNzZlI3JkIj7kuIvovb3plJnor6/vvJ/ngrnlh7vov5nph4zmn6XnnIvop6PlhrPlip7ms5XvvIE8L2E+CiAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ici1jb250ZW50MiI+CgogICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgIDwvZGl2PmA7CgogICAgU3dhbC5maXJlKHsKICAgICAgICBodG1sLAogICAgICAgIHdpZHRoOiA5MDAsCiAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZSwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn5aW96K+EJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5YWz6ZetJywKICAgICAgICByZXZlcnNlQnV0dG9uczogdHJ1ZQogICAgfSkudGhlbihyID0+IHsKICAgICAgICBpZiAoci5pc0NvbmZpcm1lZCkKICAgICAgICAgICAgR01fb3BlbkluVGFiKCdodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3NjcmlwdHMvNDM2MDUzLSVFNyU5OSVCRSVFNSVCQSVBNiVFNyVCRCU5MSVFNyU5QiU5OCVFNyU5QiVCNCVFOSU5MyVCRSVFNiU5RSU4MSVFOSU4MCU5RiVFNCVCOCU4QiVFOCVCRCVCRCVFNSU4QSVBOSVFNiU4OSU4Qi0lRTUlODUlQTglRTYlOTYlQjAlRTclODklODglRTYlOUMlQUMvZmVlZGJhY2snKTsKICAgIH0pOwoKICAgICQoJyNkbEJ0bicpLm9mZigpLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBsZXQgcGFzc0NvZGUgPSAkKCIjcGFzc0NvZGUiKS52YWwoKTsKICAgICAgICBpZiAocGFzc0NvZGUpIHsKICAgICAgICAgICAgaWYgKHBhc3NDb2RlICE9IGxvY2FsU3RvcmFnZS5IVU1fcGFzcykgewogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLkhVTV9wYXNzID0gcGFzc0NvZGU7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UuSFVNX3Bhc3NUaW1lID0gRGF0ZS5ub3coKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXF1ZXN0TGluayhwYXNzQ29kZSkKICAgICAgICAgICAgJCgiI3RpcDEiKS5odG1sKCLvvIHvvIHvvIHvvIHvvIHvvIHmraPlnKjojrflj5bpk77mjqXvvIzor7fnqI3nrYnvvIHvvIHvvIHvvIHvvIHvvIHlnKjmn5DkuKrml7bmrrXkvaDlj6/og73pnIDopoHkuIDliIbpkp/miY3og73ojrflj5bliLDkuIvovb3pk77mjqUiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGVydCgi6K+36L6T5YWl6aqM6K+B56CBIikKICAgICAgICB9CiAgICB9KTsKCiAgICBmdW5jdGlvbiByZXF1ZXN0TGluayhwYXNzQ29kZSkgewogICAgICAgIChhc3luYyAoKSA9PiB7CiAgICAgICAgICAgIGxldCBleGNlcHRpb24gPSBudWxsOwogICAgICAgICAgICBmb3IgKGNvbnN0IHNlcnZlciBvZiBzZXJ2ZXJzKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGxldCBwc3RyID0gYXdhaXQgZ2V0RmlsZUluZm8oc3VybCwgcHdkLCBwYXNzQ29kZSwgc2VydmVyKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgZ2V0TGlua0NvbW1vbihwc3RyLCBzZXJ2ZXIpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIGV4Y2VwdGlvbiA9IGU7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhyb3cgZXhjZXB0aW9uOwogICAgICAgIH0pKCkudGhlbihsaW5rID0+IHsKICAgICAgICAgICAgJCgiI3RpcDEiKS5odG1sKCLojrflj5bpq5jpgJ/pk77mjqXmiJDlip/vvIHvvIHvvIEiKTsKICAgICAgICAgICAgJCgiaDEjdGl0bGUiKS5odG1sKGDojrflj5YgJHtmaWxlTmFtZX0g55qE6auY6YCf55u06ZO+5oiQ5YqfYCk7CiAgICAgICAgICAgICQoInAjY29weUlETSIpLmh0bWwoYDxzcGFuIHN0eWxlPSJiYWNrZ3JvdW5kOnJlZDtjb2xvcjp3aGl0ZTtmb250LXNpemU6MTRweDtwYWRkaW5nLWxlZnQ6MTBweDtwYWRkaW5nLXJpZ2h0OjEwcHg7Ym9yZGVyOm5vbmUiIGNsYXNzPSJnLWRyb3Bkb3duLWJ1dHRvbiBnLWJ1dHRvbiAgZy1idXR0b24tYmx1ZSI+5aSN5Yi2SURN6ZO+5o6l5Yiw5Ymq6LS05p2/PC9zcGFuPmApCiAgICAgICAgICAgICQoJyNjb3B5SURNJykub2ZmKCkub24oJ2NsaWNrJywgZSA9PiB7CiAgICAgICAgICAgICAgICBHTV9zZXRDbGlwYm9hcmQobGluayk7CiAgICAgICAgICAgICAgICBUb2FzdCgn5bey5aSN5Yi2SURN6ZO+5o6l5Yiw5Ymq6LS05p2/Jyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCJwI3NlbmRBcmlhIikuaHRtbChgPHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6cmVkO2NvbG9yOndoaXRlO2ZvbnQtc2l6ZToxNHB4O3BhZGRpbmctbGVmdDoxMHB4O3BhZGRpbmctcmlnaHQ6MTBweDtib3JkZXI6bm9uZSIgY2xhc3M9ImctZHJvcGRvd24tYnV0dG9uIGctYnV0dG9uICBnLWJ1dHRvbi1ibHVlIiA+5Y+R6YCB5YiwQXJpYTLmiJZNb3RyaXg8L3NwYW4+YCk7CiAgICAgICAgICAgICQoJyNzZW5kQXJpYScpLm9mZigpLm9uKCdjbGljaycsIGUgPT4gc2hvd0FyaWFEaWFsb2cobGluaywgZmlsZU5hbWUpKTsKICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgJCgiaDEjdGl0bGUiKS5odG1sKGDojrflj5YgJHtmaWxlTmFtZX0g55qE6auY6YCf55u06ZO+5aSx6LSlYCkKICAgICAgICAgICAgJCgiI3RpcDEiKS5odG1sKGDojrflj5bpq5jpgJ/pk77mjqU8c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6ODAwO2NvbG9yOnJlZCI+5aSx6LSl77yB77yB77yBPC9zcGFuPizljp/lm6DmmK8ke2V9YCkKICAgICAgICB9KTsKICAgIH0KCn0KCmZ1bmN0aW9uIGdldFNob3J0VXJsKGZzX2lkLCBwd2QpIHsKICAgIHJldHVybiBmZXRjaChgaHR0cHM6Ly9wYW4uYmFpZHUuY29tL3NoYXJlL3NldD9jaGFubmVsPWNodW5sZWkmY2xpZW50dHlwZT0wJndlYj0xJmNoYW5uZWw9Y2h1bmxlaSZ3ZWI9MSZhcHBfaWQ9MjUwNTI4JmJkc3Rva2VuPSR7dW5zYWZlV2luZG93LmxvY2Fscy5nZXQoJ2Jkc3Rva2VuJyl9JmNsaWVudHR5cGU9MGAsIHsKICAgICAgICAiaGVhZGVycyI6IHsKICAgICAgICAgICAgImFjY2VwdCI6ICIqLyoiLAogICAgICAgICAgICAiYWNjZXB0LWxhbmd1YWdlIjogInpoLUNOLHpoO3E9MC45IiwKICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgiLAogICAgICAgICAgICAic2VjLWZldGNoLWRlc3QiOiAiZW1wdHkiLAogICAgICAgICAgICAic2VjLWZldGNoLW1vZGUiOiAiY29ycyIsCiAgICAgICAgICAgICJzZWMtZmV0Y2gtc2l0ZSI6ICJub25lIgogICAgICAgIH0sCiAgICAgICAgInJlZmVycmVyUG9saWN5IjogIm5vLXJlZmVycmVyLXdoZW4tZG93bmdyYWRlIiwKICAgICAgICAiYm9keSI6IGBmaWRfbGlzdD1bJHtmc19pZH1dJnNjaGFubmVsPTQmY2hhbm5lbF9saXN0PVtdJnBlcmlvZD0xJnB3ZD1gICsgcHdkLAogICAgICAgICJtZXRob2QiOiAiUE9TVCIsCiAgICAgICAgIm1vZGUiOiAiY29ycyIsCiAgICAgICAgImNyZWRlbnRpYWxzIjogImluY2x1ZGUiCiAgICB9KS50aGVuKHIgPT4gci5qc29uKCkpLnRoZW4ociA9PiByLnNob3J0dXJsLnJlcGxhY2UoL14uK1wvLywgJycpKS5jYXRjaChlID0+IG51bGwpOwp9CgpmdW5jdGlvbiBnZXRTZWxlY3RlZEZpbGUoKSB7CiAgICBsZXQgbGlzdCA9IHJlcXVpcmUoInN5c3RlbS1jb3JlOmNvbnRleHQvY29udGV4dC5qcyIpLmluc3RhbmNlRm9yU3lzdGVtLmxpc3QuZ2V0U2VsZWN0ZWQoKTsKICAgIGlmIChsaXN0ICYmIGxpc3QubGVuZ3RoID09PSAxKSB7CiAgICAgICAgaWYgKGxpc3RbMF0uaXNkaXIgPT09IDEpIHsKICAgICAgICAgICAgcmV0dXJuIHNBbGVydCgn5LiN5pSv5oyB55uu5b2VJyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsaXN0WzBdOwogICAgfQogICAgcmV0dXJuIHNBbGVydCgn5LuF5pSv5oyB5Y2V5Liq5paH5Lu2Jyk7Cn0KCmZ1bmN0aW9uIGdldEZpbGVJbmZvKHN1cmwsIHB3ZCwgcGFzc0NvZGUsIHNlcnZlcikgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICBkYXRhOiBgc3VybD0ke3N1cmx9JnB3ZD0ke3B3ZH0mUGFzc3dvcmQ9YCArIHBhc3NDb2RlLAogICAgICAgICAgICB1cmw6IHNlcnZlciwKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLAogICAgICAgICAgICB9LAogICAgICAgICAgICBvbmxvYWQ6IHJlcyA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyAhPSAyMDApCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChyZXMpOwogICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25lcnJvcjogZXJyID0+IHJlamVjdChlcnIpCiAgICAgICAgfSk7CiAgICB9KS50aGVuKHIgPT4gewogICAgICAgIGxldCBtID0gci5tYXRjaCgvamF2YXNjcmlwdDpjb25maXJtZGxcKCguKylcKTsvKTsKICAgICAgICBpZiAobSkgcmV0dXJuIG1bMV07CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCQocikuZmluZCgnZGl2LmFsZXJ0LmFsZXJ0LWRhbmdlcicpLnRleHQoKS50cmltKCkgfHwgYOiOt+WPluS4i+i9veS/oeaBr+Wksei0pWApOwogICAgfSk7Cn0KCmZ1bmN0aW9uIGdldExpbmtDb21tb24ocHN0ciwgc2VydmVyKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgIGRhdGE6IGdldFBhcmFtKHBzdHIpLAogICAgICAgICAgICB1cmw6IHNlcnZlciArICIvP2Rvd25sb2FkIiwKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLAogICAgICAgICAgICB9LAogICAgICAgICAgICBvbmxvYWQ6IHJlcyA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyAhPSAyMDApCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChyZXMpOwogICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25lcnJvcjogZXJyID0+IHJlamVjdChlcnIpCiAgICAgICAgfSk7CiAgICB9KS50aGVuKHIgPT4gewogICAgICAgIGxldCBsaW5rID0gJChyKS5maW5kKCcjaHR0cHMnKS5hdHRyKCdocmVmJyk7CiAgICAgICAgaWYgKGxpbmspCiAgICAgICAgICAgIHJldHVybiBsaW5rOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgkKHIpLmZpbmQoJ2Rpdi5hbGVydC5hbGVydC1kYW5nZXInKS50ZXh0KCkudHJpbSgpIHx8ICfojrflj5bnm7Tpk77lpLHotKUnKTsKICAgIH0pOwp9CgoKZnVuY3Rpb24gZ2V0UGFyYW0ocHN0cikgewogICAgZnVuY3Rpb24gZmV0Y2hfdG9rZW4oZnNfaWQsIHRpbWVzdGFtcCwgc2lnbiwgcmFuZHNrLCBzaGFyZV9pZCwgdWssIGJkc3Rva2VuLCBmaWxlc2l6ZSkgewogICAgICAgIGxldCBiYXNlNjQgPSBidG9hKGZzX2lkICsgc2lnbiArIHVrKTsKICAgICAgICBsZXQgYmFzZTY0MiA9IGJ0b2EoIm5iZXN0IiArIGJhc2U2NCArIGZzX2lkICsgIll1YW5fVHVvIiArIHNoYXJlX2lkICsgc2lnbiArIGJhc2U2NCArICJiYWlkdXdwLXBocC1kb25hdGUiKTsKICAgICAgICBsZXQgbWQ1ID0gQ3J5cHRvSlMuTUQ1KGJhc2U2NDIgKyB0aW1lc3RhbXAgKyBiYXNlNjQpLnRvU3RyaW5nKCkKICAgICAgICByZXR1cm4gbWQ1OwogICAgfQogICAgZnVuY3Rpb24gdXJsRW5jb2RlKG9iaikgewogICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KG9iaikgPyBvYmoubWFwKG8gPT4gdXJsRW5jb2RlKG8pKS5qb2luKCcmJykgOiBPYmplY3Qua2V5cyhvYmopLm1hcChrZXkgPT4ga2V5ICsgJz0nICsgb2JqW2tleV0pLmpvaW4oJyYnKTsKICAgIH0KICAgIGxldCBhcnIgPSBwc3RyLnJlcGxhY2VBbGwoIiciLCAnJykuc3BsaXQoJywnKTsKICAgIGFyci5wdXNoKGZldGNoX3Rva2VuKC4uLmFycikpOwogICAgcmV0dXJuIHVybEVuY29kZShbJ2ZzX2lkJywgJ3RpbWUnLCAnc2lnbicsICdyYW5kc2snLCAnc2hhcmVfaWQnLCAndWsnLCAnYmRzdG9rZW4nLCAnZmlsZXNpemUnLCAndG9rZW4nXS5yZWR1Y2UoKHQsIHYsIGkpID0+ICh0W3ZdID0gYXJyW2ldKSAmJiB0LCB7fSkpOwp9CgpmdW5jdGlvbiBzaG93QXJpYURpYWxvZyh1cmwsIGZpbGVuYW1lKSB7CiAgICBTd2FsLmZpcmUoewogICAgICAgIHRpdGxlOiAn5Y+R6YCB5YiwIEFyaWEyIEpzb24tUlBDJywKICAgICAgICBodG1sOiBgPGRpdiBzdHlsZT0id2lkdGg6OTUlO3RleHQtYWxpZ246bGVmdDsiPgogICAgICAgICA8bGFiZWw+UlBD5Zyw5Z2AOjwvbGFiZWw+CiAgICAgICAgIDxpbnB1dCBpZD0id3N1cmwiIGNsYXNzPSJzd2FsMi1pbnB1dCIgc3R5bGU9IndpZHRoOjEwMCU7bWFyZ2luOjEwcHggMDsiIHZhbHVlPSIke2xvY2FsU3RvcmFnZS53c3VybCB8fCAnJ30iPgogICAgICAgICAgPGRpdiBzdHlsZT0id2lkdGg6MTAwJTttYXJnaW46MTBweCAwOyI+PHNtYWxsIHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQ7Ij7mjqjpgIFhcmlhMum7mOiupOmFjee9rjo8Yj53czovL2xvY2FsaG9zdDo2ODAwL2pzb25ycGM8L2I+PGJyPuaOqOmAgU1vdHJpeOm7mOiupOmFjee9rjo8Yj53czovL2xvY2FsaG9zdDoxNjgwMC9qc29ucnBjPC9iPjwvc21hbGw+PC9kaXY+CiAgICAgICAgIDxsYWJlbD5Ub2tlbjo8L2xhYmVsPgogICAgICAgICA8aW5wdXQgaWQ9InRva2VuIiBjbGFzcz0ic3dhbDItaW5wdXQiIHN0eWxlPSJ3aWR0aDoxMDAlO21hcmdpbjoxMHB4IDA7IiB2YWx1ZT0iJHtsb2NhbFN0b3JhZ2Uud3NUb2tlbiB8fCAnJ30iPgogICAgICAgICA8ZGl2IHN0eWxlPSJ3aWR0aDoxMDAlO21hcmdpbjoxMHB4IDA7Ij48c21hbGwgc3R5bGU9InRleHQtYWxpZ246bGVmdDsiPuayoeaciXRva2Vu55qE6K+d77yM55WZ56m6PC9zbWFsbD48L2Rpdj4KICAgICAgICAgPC9kaXY+YCwKICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsCiAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlLAogICAgICAgIGZvY3VzQ29uZmlybTogZmFsc2UsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICflj5HpgIEnLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgcmV2ZXJzZUJ1dHRvbnM6IHRydWUsCiAgICAgICAgcHJlQ29uZmlybTogKCkgPT4gewogICAgICAgICAgICBsZXQgd3N1cmwgPSAkKCcjd3N1cmwnKS52YWwoKTsKICAgICAgICAgICAgaWYgKCF3c3VybCkgewogICAgICAgICAgICAgICAgU3dhbC5zaG93VmFsaWRhdGlvbk1lc3NhZ2UoJ1JQQ+WcsOWdgOW/heWhqycpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSkudGhlbihyID0+IHIuaXNDb25maXJtZWQgJiYgYWRkVXJpKHVybCwgZmlsZW5hbWUpKTsKfQoKZnVuY3Rpb24gYWRkVXJpKHVybCwgZmlsZW5hbWUpIHsKICAgIHZhciB3c3VybCA9IGxvY2FsU3RvcmFnZS53c3VybCA9ICQoJyN3c3VybCcpLnZhbCgpOwogICAgdmFyIHVyaXMgPSBbdXJsLnJlcGxhY2UoJ2h0dHBzOicsICdodHRwOicpLCB1cmxdOwogICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLndzVG9rZW4gPSAkKCcjdG9rZW4nKS52YWwoKTsKCiAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICAibWF4LWNvbm5lY3Rpb24tcGVyLXNlcnZlciI6ICIxNiIsCiAgICAgICAgInVzZXItYWdlbnQiOiAiZGF5dV94aWFtaSIKICAgIH07CiAgICBpZiAoZmlsZW5hbWUgIT0gIiIpIHsKICAgICAgICBvcHRpb25zLm91dCA9IGZpbGVuYW1lOwogICAgfQoKICAgIGxldCBqc29uID0gewogICAgICAgICJpZCI6ICJiYWlkdXdwLXBocCIsCiAgICAgICAgImpzb25ycGMiOiAnMi4wJywKICAgICAgICAibWV0aG9kIjogJ2FyaWEyLmFkZFVyaScsCiAgICAgICAgInBhcmFtcyI6IFt1cmlzLCBvcHRpb25zXSwKICAgIH07CgogICAgaWYgKHRva2VuICE9ICIiKSB7CiAgICAgICAganNvbi5wYXJhbXMudW5zaGlmdCgidG9rZW46IiArIHRva2VuKTsKICAgIH0KCiAgICBsZXQgcGF0dCA9IC9ed3NzP1w6XC9cLygoKChbQS1aYS16MC05XStbQS1aYS16MC05XC1dK1tBLVphLXowLTldKyl8KFtBLVphLXowLTldKykpKFwuKChbQS1aYS16MC05XStbQS1aYS16MC05XC1dK1tBLVphLXowLTldKyl8KFtBLVphLXowLTldKykpKSooXC5bQS1aYS16MC05XXsyLDEwfSkpfChsb2NhbGhvc3QpfCgoKFswMV0/XGQ/XGQpfCgyWzAtNF1cZCl8KDI1WzAtNV0pKShcLihbMDFdP1xkP1xkKXwoMlswLTRdXGQpfCgyNVswLTVdKSl7M30pfCgoXFtbQS1aYS16MC05Ol17MiwzOX1cXSl8KFtBLVphLXowLTk6XXsyLDM5fSkpKShcOlxkezEsNX0pPyhcLy4qKT8kLzsKICAgIGlmICghcGF0dC50ZXN0KHdzdXJsKSkgewogICAgICAgIFN3YWwuZmlyZSgn5Zyw5Z2A6ZSZ6K+vJywgJ1dlYlNvY2tldCDlnLDlnYDkuI3nrKblkIjpqozor4Hop4TliJnvvIzor7fmo4Dmn6XmmK/lkKbloavlhpnmraPnoa7vvIEnLCAnZXJyb3InKTsKICAgICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgd3MgPSBuZXcgV2ViU29ja2V0KHdzdXJsKTsKCiAgICB3cy5vbmVycm9yID0gZXZlbnQgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTsKICAgICAgICBTd2FsLmZpcmUoJ+i/nuaOpemUmeivrycsICdBcmlhMiDov57mjqXplJnor6/vvIzor7fmiZPlvIDmjqfliLblj7Dmn6XnnIvor6bmg4XvvIEnLCAnZXJyb3InKTsKICAgIH07CiAgICB3cy5vbm9wZW4gPSAoKSA9PiB7CiAgICAgICAgd3Muc2VuZChKU09OLnN0cmluZ2lmeShqc29uKSk7CiAgICB9CgogICAgd3Mub25tZXNzYWdlID0gZXZlbnQgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTsKICAgICAgICBsZXQgcmVjZWl2ZWRfbXNnID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTsKICAgICAgICBpZiAocmVjZWl2ZWRfbXNnLmVycm9yICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgaWYgKHJlY2VpdmVkX21zZy5lcnJvci5jb2RlID09PSAxKQogICAgICAgICAgICAgICAgU3dhbC5maXJlKCfpgJrov4dSUEPov57mjqXlpLHotKUnLCAn6K+35omT5byA5o6n5Yi25Y+w5p+l55yL6K+m57uG6ZSZ6K+v5L+h5oGv77yM6L+U5Zue5L+h5oGv77yaJyArIHJlY2VpdmVkX21zZy5lcnJvci5tZXNzYWdlLCAnZXJyb3InKTsKICAgICAgICB9CiAgICAgICAgc3dpdGNoIChyZWNlaXZlZF9tc2cubWV0aG9kKSB7CiAgICAgICAgICAgIGNhc2UgImFyaWEyLm9uRG93bmxvYWRTdGFydCI6CiAgICAgICAgICAgICAgICBTd2FsLmZpcmUoJ0FyaWEyIOWPkemAgeaIkOWKnycsICdBcmlhMiDlt7Lnu4/lvIDlp4vkuIvovb3vvIEnICsgZmlsZW5hbWUsICdzdWNjZXNzJyk7CgogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FyaWEyd3N1cmwnLCB3c3VybCk7IC8vIGFkZCBhcmlhMiBjb25maWcgdG8gU2Vzc2lvblN0b3JhZ2UKICAgICAgICAgICAgICAgIGlmICh0b2tlbiAhPSAiIiAmJiB0b2tlbiAhPSBudWxsKQogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhcmlhMnRva2VuJywgdG9rZW4pOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICJhcmlhMi5vbkRvd25sb2FkRXJyb3IiOiA7CiAgICAgICAgICAgICAgICBTd2FsLmZpcmUoJ+S4i+i9vemUmeivrycsICdBcmlhMiDkuIvovb3plJnor6/vvIEnLCAnZXJyb3InKTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAiYXJpYTIub25Eb3dubG9hZENvbXBsZXRlIjoKICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgn5LiL6L295a6M5oiQJywgJ0FyaWEyIOS4i+i9veWujOaIkO+8gScsICdzdWNjZXNzJyk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICB9Owp9CgoKZnVuY3Rpb24gc2xlZXAodCkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCB0KSk7Cn0KCmZ1bmN0aW9uIHNBbGVydChtc2cpIHsKICAgIFN3YWwuZmlyZShtc2cpOwogICAgcmV0dXJuIG51bGw7Cn0KCmZ1bmN0aW9uIHNUb2FzdCh0ZXh0LCB0aW1lciA9IDE1MDApIHsKICAgIFN3YWwuZmlyZSh7CiAgICAgICAgdGV4dCwKICAgICAgICB0aW1lciwKICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UKICAgIH0pOwp9CgpmdW5jdGlvbiBnZW5SYW5kb21TdHIobGVuKSB7CiAgICBsZXQgdCA9ICJBQkNERUZHSEpLTU5QUVJTVFdYWVphYmNkZWZoaWprbW5wcnN0d3h5ejEyMzQ1Njc4OSIsCiAgICAgICAgbCA9IHQubGVuZ3RoOwogICAgcmV0dXJuIEFycmF5KGxlbikuZmlsbCgpLm1hcCgodiwgaSkgPT4gdC5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbCkpKS5qb2luKCcnKTsKfQoKZnVuY3Rpb24gVG9hc3QobXNnLCBkdXJhdGlvbiA9IDMwMDApIHsKICAgIHZhciBtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBtLmlubmVySFRNTCA9IG1zZzsKICAgIG0uc3R5bGUuY3NzVGV4dCA9ICJtYXgtd2lkdGg6NjAlO21pbi13aWR0aDogMTUwcHg7cGFkZGluZzowIDE0cHg7aGVpZ2h0OiA0MHB4O2NvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7bGluZS1oZWlnaHQ6IDQwcHg7dGV4dC1hbGlnbjogY2VudGVyO2JvcmRlci1yYWRpdXM6IDRweDtwb3NpdGlvbjogZml4ZWQ7dG9wOiA1MCU7bGVmdDogNTAlO3RyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO3otaW5kZXg6IDk5OTk5OTtiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsLjcpO2ZvbnQtc2l6ZTogMTZweDsiOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtKTsKICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHZhciBkID0gMC41OwogICAgICAgIG0uc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9ICctd2Via2l0LXRyYW5zZm9ybSAnICsgZCArICdzIGVhc2UtaW4sIG9wYWNpdHkgJyArIGQgKyAncyBlYXNlLWluJzsKICAgICAgICBtLnN0eWxlLm9wYWNpdHkgPSAnMCc7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobSkgfSwgZCAqIDEwMDApOwogICAgfSwgZHVyYXRpb24pOwp9","requires":[{"meta":{"name":"sweetalert2.all.min.js","url":"https://cdn.staticfile.org/limonte-sweetalert2/11.1.9/sweetalert2.all.min.js","ts":1657118213727,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6KGU9ZXx8c2VsZikuU3dlZXRhbGVydDI9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IGw9T2JqZWN0LmZyZWV6ZSh7Y2FuY2VsOiJjYW5jZWwiLGJhY2tkcm9wOiJiYWNrZHJvcCIsY2xvc2U6ImNsb3NlIixlc2M6ImVzYyIsdGltZXI6InRpbWVyIn0pLHQ9IlN3ZWV0QWxlcnQyOiIsbz1lPT5lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSkscz1lPT5BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSxhPWU9Pntjb25zb2xlLndhcm4oIiIuY29uY2F0KHQsIiAiKS5jb25jYXQoIm9iamVjdCI9PXR5cGVvZiBlP2Uuam9pbigiICIpOmUpKX0scj1lPT57Y29uc29sZS5lcnJvcigiIi5jb25jYXQodCwiICIpLmNvbmNhdChlKSl9LG49W10saT0oZSx0KT0+e3Q9JyInLmNvbmNhdChlLCciIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLiBQbGVhc2UgdXNlICInKS5jb25jYXQodCwnIiBpbnN0ZWFkLicpLG4uaW5jbHVkZXModCl8fChuLnB1c2godCksYSh0KSl9LGM9ZT0+ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZSgpOmUsdT1lPT5lJiYiZnVuY3Rpb24iPT10eXBlb2YgZS50b1Byb21pc2UsZD1lPT51KGUpP2UudG9Qcm9taXNlKCk6UHJvbWlzZS5yZXNvbHZlKGUpLHA9ZT0+ZSYmUHJvbWlzZS5yZXNvbHZlKGUpPT09ZSxtPWU9PmUgaW5zdGFuY2VvZiBFbGVtZW50fHwoZT0+Im9iamVjdCI9PXR5cGVvZiBlJiZlLmpxdWVyeSkoZSk7dmFyIGU9ZT0+e2NvbnN0IHQ9e307Zm9yKGNvbnN0IG4gaW4gZSl0W2Vbbl1dPSJzd2FsMi0iK2Vbbl07cmV0dXJuIHR9O2NvbnN0IGc9ZShbImNvbnRhaW5lciIsInNob3duIiwiaGVpZ2h0LWF1dG8iLCJpb3NmaXgiLCJwb3B1cCIsIm1vZGFsIiwibm8tYmFja2Ryb3AiLCJuby10cmFuc2l0aW9uIiwidG9hc3QiLCJ0b2FzdC1zaG93biIsInNob3ciLCJoaWRlIiwiY2xvc2UiLCJ0aXRsZSIsImh0bWwtY29udGFpbmVyIiwiYWN0aW9ucyIsImNvbmZpcm0iLCJkZW55IiwiY2FuY2VsIiwiZGVmYXVsdC1vdXRsaW5lIiwiZm9vdGVyIiwiaWNvbiIsImljb24tY29udGVudCIsImltYWdlIiwiaW5wdXQiLCJmaWxlIiwicmFuZ2UiLCJzZWxlY3QiLCJyYWRpbyIsImNoZWNrYm94IiwibGFiZWwiLCJ0ZXh0YXJlYSIsImlucHV0ZXJyb3IiLCJpbnB1dC1sYWJlbCIsInZhbGlkYXRpb24tbWVzc2FnZSIsInByb2dyZXNzLXN0ZXBzIiwiYWN0aXZlLXByb2dyZXNzLXN0ZXAiLCJwcm9ncmVzcy1zdGVwIiwicHJvZ3Jlc3Mtc3RlcC1saW5lIiwibG9hZGVyIiwibG9hZGluZyIsInN0eWxlZCIsInRvcCIsInRvcC1zdGFydCIsInRvcC1lbmQiLCJ0b3AtbGVmdCIsInRvcC1yaWdodCIsImNlbnRlciIsImNlbnRlci1zdGFydCIsImNlbnRlci1lbmQiLCJjZW50ZXItbGVmdCIsImNlbnRlci1yaWdodCIsImJvdHRvbSIsImJvdHRvbS1zdGFydCIsImJvdHRvbS1lbmQiLCJib3R0b20tbGVmdCIsImJvdHRvbS1yaWdodCIsImdyb3ctcm93IiwiZ3Jvdy1jb2x1bW4iLCJncm93LWZ1bGxzY3JlZW4iLCJydGwiLCJ0aW1lci1wcm9ncmVzcy1iYXIiLCJ0aW1lci1wcm9ncmVzcy1iYXItY29udGFpbmVyIiwic2Nyb2xsYmFyLW1lYXN1cmUiLCJpY29uLXN1Y2Nlc3MiLCJpY29uLXdhcm5pbmciLCJpY29uLWluZm8iLCJpY29uLXF1ZXN0aW9uIiwiaWNvbi1lcnJvciJdKSxoPWUoWyJzdWNjZXNzIiwid2FybmluZyIsImluZm8iLCJxdWVzdGlvbiIsImVycm9yIl0pLGI9KCk9PmRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcigiLiIuY29uY2F0KGcuY29udGFpbmVyKSksZj1lPT57Y29uc3QgdD1iKCk7cmV0dXJuIHQ/dC5xdWVyeVNlbGVjdG9yKGUpOm51bGx9LHk9ZT0+ZigiLiIuY29uY2F0KGUpKSx2PSgpPT55KGcucG9wdXApLHc9KCk9PnkoZy5pY29uKSxDPSgpPT55KGcudGl0bGUpLGs9KCk9PnkoZ1siaHRtbC1jb250YWluZXIiXSksQT0oKT0+eShnLmltYWdlKSxQPSgpPT55KGdbInByb2dyZXNzLXN0ZXBzIl0pLEI9KCk9PnkoZ1sidmFsaWRhdGlvbi1tZXNzYWdlIl0pLHg9KCk9PmYoIi4iLmNvbmNhdChnLmFjdGlvbnMsIiAuIikuY29uY2F0KGcuY29uZmlybSkpLEU9KCk9PmYoIi4iLmNvbmNhdChnLmFjdGlvbnMsIiAuIikuY29uY2F0KGcuZGVueSkpO2NvbnN0IFM9KCk9PmYoIi4iLmNvbmNhdChnLmxvYWRlcikpLFQ9KCk9PmYoIi4iLmNvbmNhdChnLmFjdGlvbnMsIiAuIikuY29uY2F0KGcuY2FuY2VsKSksTD0oKT0+eShnLmFjdGlvbnMpLE89KCk9PnkoZy5mb290ZXIpLGo9KCk9PnkoZ1sidGltZXItcHJvZ3Jlc3MtYmFyIl0pLEQ9KCk9PnkoZy5jbG9zZSksTT0oKT0+e2NvbnN0IGU9cyh2KCkucXVlcnlTZWxlY3RvckFsbCgnW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PSItMSJdKTpub3QoW3RhYmluZGV4PSIwIl0pJykpLnNvcnQoKGUsdCk9PihlPXBhcnNlSW50KGUuZ2V0QXR0cmlidXRlKCJ0YWJpbmRleCIpKSwodD1wYXJzZUludCh0LmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKSkpPGU/MTplPHQ/LTE6MCkpO3ZhciB0PXModigpLnF1ZXJ5U2VsZWN0b3JBbGwoJ1xuICBhW2hyZWZdLFxuICBhcmVhW2hyZWZdLFxuICBpbnB1dDpub3QoW2Rpc2FibGVkXSksXG4gIHNlbGVjdDpub3QoW2Rpc2FibGVkXSksXG4gIHRleHRhcmVhOm5vdChbZGlzYWJsZWRdKSxcbiAgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSxcbiAgaWZyYW1lLFxuICBvYmplY3QsXG4gIGVtYmVkLFxuICBbdGFiaW5kZXg9IjAiXSxcbiAgW2NvbnRlbnRlZGl0YWJsZV0sXG4gIGF1ZGlvW2NvbnRyb2xzXSxcbiAgdmlkZW9bY29udHJvbHNdLFxuICBzdW1tYXJ5XG4nKSkuZmlsdGVyKGU9PiItMSIhPT1lLmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKSk7cmV0dXJuKHQ9Pntjb25zdCBuPVtdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKS0xPT09bi5pbmRleE9mKHRbZV0pJiZuLnB1c2godFtlXSk7cmV0dXJuIG59KShlLmNvbmNhdCh0KSkuZmlsdGVyKGU9PkcoZSkpfSxJPSgpPT4hSCgpJiYhZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoZ1sibm8tYmFja2Ryb3AiXSksSD0oKT0+ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoZ1sidG9hc3Qtc2hvd24iXSk7Y29uc3QgcT17cHJldmlvdXNCb2R5UGFkZGluZzpudWxsfSxWPSh0LGUpPT57aWYodC50ZXh0Q29udGVudD0iIixlKXtjb25zdCBuPW5ldyBET01QYXJzZXIsbz1uLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L2h0bWwiKTtzKG8ucXVlcnlTZWxlY3RvcigiaGVhZCIpLmNoaWxkTm9kZXMpLmZvckVhY2goZT0+e3QuYXBwZW5kQ2hpbGQoZSl9KSxzKG8ucXVlcnlTZWxlY3RvcigiYm9keSIpLmNoaWxkTm9kZXMpLmZvckVhY2goZT0+e3QuYXBwZW5kQ2hpbGQoZSl9KX19LE49KHQsZSk9PntpZighZSlyZXR1cm4hMTt2YXIgbj1lLnNwbGl0KC9ccysvKTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKylpZighdC5jbGFzc0xpc3QuY29udGFpbnMobltlXSkpcmV0dXJuITE7cmV0dXJuITB9LFU9KGUsdCxuKT0+e3ZhciBvLGk7aWYobz1lLGk9dCxzKG8uY2xhc3NMaXN0KS5mb3JFYWNoKGU9PntPYmplY3QudmFsdWVzKGcpLmluY2x1ZGVzKGUpfHxPYmplY3QudmFsdWVzKGgpLmluY2x1ZGVzKGUpfHxPYmplY3QudmFsdWVzKGkuc2hvd0NsYXNzKS5pbmNsdWRlcyhlKXx8by5jbGFzc0xpc3QucmVtb3ZlKGUpfSksdC5jdXN0b21DbGFzcyYmdC5jdXN0b21DbGFzc1tuXSl7aWYoInN0cmluZyIhPXR5cGVvZiB0LmN1c3RvbUNsYXNzW25dJiYhdC5jdXN0b21DbGFzc1tuXS5mb3JFYWNoKXJldHVybiBhKCJJbnZhbGlkIHR5cGUgb2YgY3VzdG9tQ2xhc3MuIi5jb25jYXQobiwnISBFeHBlY3RlZCBzdHJpbmcgb3IgaXRlcmFibGUgb2JqZWN0LCBnb3QgIicpLmNvbmNhdCh0eXBlb2YgdC5jdXN0b21DbGFzc1tuXSwnIicpKTtXKGUsdC5jdXN0b21DbGFzc1tuXSl9fSxGPShlLHQpPT57aWYoIXQpcmV0dXJuIG51bGw7c3dpdGNoKHQpe2Nhc2Uic2VsZWN0IjpjYXNlInRleHRhcmVhIjpjYXNlImZpbGUiOnJldHVybiBLKGUsZ1t0XSk7Y2FzZSJjaGVja2JveCI6cmV0dXJuIGUucXVlcnlTZWxlY3RvcigiLiIuY29uY2F0KGcuY2hlY2tib3gsIiBpbnB1dCIpKTtjYXNlInJhZGlvIjpyZXR1cm4gZS5xdWVyeVNlbGVjdG9yKCIuIi5jb25jYXQoZy5yYWRpbywiIGlucHV0OmNoZWNrZWQiKSl8fGUucXVlcnlTZWxlY3RvcigiLiIuY29uY2F0KGcucmFkaW8sIiBpbnB1dDpmaXJzdC1jaGlsZCIpKTtjYXNlInJhbmdlIjpyZXR1cm4gZS5xdWVyeVNlbGVjdG9yKCIuIi5jb25jYXQoZy5yYW5nZSwiIGlucHV0IikpO2RlZmF1bHQ6cmV0dXJuIEsoZSxnLmlucHV0KX19LFI9ZT0+e3ZhciB0O2UuZm9jdXMoKSwiZmlsZSIhPT1lLnR5cGUmJih0PWUudmFsdWUsZS52YWx1ZT0iIixlLnZhbHVlPXQpfSx6PShlLHQsbik9PntlJiZ0JiYodD0ic3RyaW5nIj09dHlwZW9mIHQ/dC5zcGxpdCgvXHMrLykuZmlsdGVyKEJvb2xlYW4pOnQpLmZvckVhY2godD0+e2UuZm9yRWFjaD9lLmZvckVhY2goZT0+e24/ZS5jbGFzc0xpc3QuYWRkKHQpOmUuY2xhc3NMaXN0LnJlbW92ZSh0KX0pOm4/ZS5jbGFzc0xpc3QuYWRkKHQpOmUuY2xhc3NMaXN0LnJlbW92ZSh0KX0pfSxXPShlLHQpPT57eihlLHQsITApfSxfPShlLHQpPT57eihlLHQsITEpfSxLPSh0LG4pPT57Zm9yKGxldCBlPTA7ZTx0LmNoaWxkTm9kZXMubGVuZ3RoO2UrKylpZihOKHQuY2hpbGROb2Rlc1tlXSxuKSlyZXR1cm4gdC5jaGlsZE5vZGVzW2VdfSxZPShlLHQsbik9Pnsobj1uPT09IiIuY29uY2F0KHBhcnNlSW50KG4pKT9wYXJzZUludChuKTpuKXx8MD09PXBhcnNlSW50KG4pP2Uuc3R5bGVbdF09Im51bWJlciI9PXR5cGVvZiBuPyIiLmNvbmNhdChuLCJweCIpOm46ZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSh0KX0sWj0oZSx0PSJmbGV4Iik9PntlLnN0eWxlLmRpc3BsYXk9dH0sSj1lPT57ZS5zdHlsZS5kaXNwbGF5PSJub25lIn0sWD0oZSx0LG4sbyk9Pntjb25zdCBpPWUucXVlcnlTZWxlY3Rvcih0KTtpJiYoaS5zdHlsZVtuXT1vKX0sJD0oZSx0LG4pPT57dD9aKGUsbik6SihlKX0sRz1lPT4hKCFlfHwhKGUub2Zmc2V0V2lkdGh8fGUub2Zmc2V0SGVpZ2h0fHxlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoKSksUT0oKT0+IUcoeCgpKSYmIUcoRSgpKSYmIUcoVCgpKSxlZT1lPT4hIShlLnNjcm9sbEhlaWdodD5lLmNsaWVudEhlaWdodCksdGU9ZT0+e2NvbnN0IHQ9d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSk7dmFyIG49cGFyc2VGbG9hdCh0LmdldFByb3BlcnR5VmFsdWUoImFuaW1hdGlvbi1kdXJhdGlvbiIpfHwiMCIpLGU9cGFyc2VGbG9hdCh0LmdldFByb3BlcnR5VmFsdWUoInRyYW5zaXRpb24tZHVyYXRpb24iKXx8IjAiKTtyZXR1cm4gMDxufHwwPGV9LG5lPShlLHQ9ITEpPT57Y29uc3Qgbj1qKCk7RyhuKSYmKHQmJihuLnN0eWxlLnRyYW5zaXRpb249Im5vbmUiLG4uc3R5bGUud2lkdGg9IjEwMCUiKSxzZXRUaW1lb3V0KCgpPT57bi5zdHlsZS50cmFuc2l0aW9uPSJ3aWR0aCAiLmNvbmNhdChlLzFlMywicyBsaW5lYXIiKSxuLnN0eWxlLndpZHRoPSIwJSJ9LDEwKSl9LG9lPSgpPT4idW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvd3x8InVuZGVmaW5lZCI9PXR5cGVvZiBkb2N1bWVudCxpZT0nXG4gPGRpdiBhcmlhLWxhYmVsbGVkYnk9IicuY29uY2F0KGcudGl0bGUsJyIgYXJpYS1kZXNjcmliZWRieT0iJykuY29uY2F0KGdbImh0bWwtY29udGFpbmVyIl0sJyIgY2xhc3M9IicpLmNvbmNhdChnLnBvcHVwLCciIHRhYmluZGV4PSItMSI+XG4gICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9IicpLmNvbmNhdChnLmNsb3NlLCciPjwvYnV0dG9uPlxuICAgPHVsIGNsYXNzPSInKS5jb25jYXQoZ1sicHJvZ3Jlc3Mtc3RlcHMiXSwnIj48L3VsPlxuICAgPGRpdiBjbGFzcz0iJykuY29uY2F0KGcuaWNvbiwnIj48L2Rpdj5cbiAgIDxpbWcgY2xhc3M9IicpLmNvbmNhdChnLmltYWdlLCciIC8+XG4gICA8aDIgY2xhc3M9IicpLmNvbmNhdChnLnRpdGxlLCciIGlkPSInKS5jb25jYXQoZy50aXRsZSwnIj48L2gyPlxuICAgPGRpdiBjbGFzcz0iJykuY29uY2F0KGdbImh0bWwtY29udGFpbmVyIl0sJyIgaWQ9IicpLmNvbmNhdChnWyJodG1sLWNvbnRhaW5lciJdLCciPjwvZGl2PlxuICAgPGlucHV0IGNsYXNzPSInKS5jb25jYXQoZy5pbnB1dCwnIiAvPlxuICAgPGlucHV0IHR5cGU9ImZpbGUiIGNsYXNzPSInKS5jb25jYXQoZy5maWxlLCciIC8+XG4gICA8ZGl2IGNsYXNzPSInKS5jb25jYXQoZy5yYW5nZSwnIj5cbiAgICAgPGlucHV0IHR5cGU9InJhbmdlIiAvPlxuICAgICA8b3V0cHV0Pjwvb3V0cHV0PlxuICAgPC9kaXY+XG4gICA8c2VsZWN0IGNsYXNzPSInKS5jb25jYXQoZy5zZWxlY3QsJyI+PC9zZWxlY3Q+XG4gICA8ZGl2IGNsYXNzPSInKS5jb25jYXQoZy5yYWRpbywnIj48L2Rpdj5cbiAgIDxsYWJlbCBmb3I9IicpLmNvbmNhdChnLmNoZWNrYm94LCciIGNsYXNzPSInKS5jb25jYXQoZy5jaGVja2JveCwnIj5cbiAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiAvPlxuICAgICA8c3BhbiBjbGFzcz0iJykuY29uY2F0KGcubGFiZWwsJyI+PC9zcGFuPlxuICAgPC9sYWJlbD5cbiAgIDx0ZXh0YXJlYSBjbGFzcz0iJykuY29uY2F0KGcudGV4dGFyZWEsJyI+PC90ZXh0YXJlYT5cbiAgIDxkaXYgY2xhc3M9IicpLmNvbmNhdChnWyJ2YWxpZGF0aW9uLW1lc3NhZ2UiXSwnIiBpZD0iJykuY29uY2F0KGdbInZhbGlkYXRpb24tbWVzc2FnZSJdLCciPjwvZGl2PlxuICAgPGRpdiBjbGFzcz0iJykuY29uY2F0KGcuYWN0aW9ucywnIj5cbiAgICAgPGRpdiBjbGFzcz0iJykuY29uY2F0KGcubG9hZGVyLCciPjwvZGl2PlxuICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9IicpLmNvbmNhdChnLmNvbmZpcm0sJyI+PC9idXR0b24+XG4gICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iJykuY29uY2F0KGcuZGVueSwnIj48L2J1dHRvbj5cbiAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSInKS5jb25jYXQoZy5jYW5jZWwsJyI+PC9idXR0b24+XG4gICA8L2Rpdj5cbiAgIDxkaXYgY2xhc3M9IicpLmNvbmNhdChnLmZvb3RlciwnIj48L2Rpdj5cbiAgIDxkaXYgY2xhc3M9IicpLmNvbmNhdChnWyJ0aW1lci1wcm9ncmVzcy1iYXItY29udGFpbmVyIl0sJyI+XG4gICAgIDxkaXYgY2xhc3M9IicpLmNvbmNhdChnWyJ0aW1lci1wcm9ncmVzcy1iYXIiXSwnIj48L2Rpdj5cbiAgIDwvZGl2PlxuIDwvZGl2PlxuJykucmVwbGFjZSgvKF58XG4pXHMqL2csIiIpLHNlPSgpPT57bW4uaXNWaXNpYmxlKCkmJm1uLnJlc2V0VmFsaWRhdGlvbk1lc3NhZ2UoKX0sYWU9ZT0+e3ZhciB0PSgoKT0+e2NvbnN0IGU9YigpO3JldHVybiEhZSYmKGUucmVtb3ZlKCksXyhbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGRvY3VtZW50LmJvZHldLFtnWyJuby1iYWNrZHJvcCJdLGdbInRvYXN0LXNob3duIl0sZ1siaGFzLWNvbHVtbiJdXSksITApfSkoKTtpZihvZSgpKXIoIlN3ZWV0QWxlcnQyIHJlcXVpcmVzIGRvY3VtZW50IHRvIGluaXRpYWxpemUiKTtlbHNle2NvbnN0IG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bi5jbGFzc05hbWU9Zy5jb250YWluZXIsdCYmVyhuLGdbIm5vLXRyYW5zaXRpb24iXSksVihuLGllKTtjb25zdCBvPSJzdHJpbmciPT10eXBlb2YodD1lLnRhcmdldCk/ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KTp0O28uYXBwZW5kQ2hpbGQobiksKGU9Pntjb25zdCB0PXYoKTt0LnNldEF0dHJpYnV0ZSgicm9sZSIsZS50b2FzdD8iYWxlcnQiOiJkaWFsb2ciKSx0LnNldEF0dHJpYnV0ZSgiYXJpYS1saXZlIixlLnRvYXN0PyJwb2xpdGUiOiJhc3NlcnRpdmUiKSxlLnRvYXN0fHx0LnNldEF0dHJpYnV0ZSgiYXJpYS1tb2RhbCIsInRydWUiKX0pKGUpLGU9bywicnRsIj09PXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUpLmRpcmVjdGlvbiYmVyhiKCksZy5ydGwpLCgoKT0+e2NvbnN0IGU9digpLHQ9SyhlLGcuaW5wdXQpLG49SyhlLGcuZmlsZSksbz1lLnF1ZXJ5U2VsZWN0b3IoIi4iLmNvbmNhdChnLnJhbmdlLCIgaW5wdXQiKSksaT1lLnF1ZXJ5U2VsZWN0b3IoIi4iLmNvbmNhdChnLnJhbmdlLCIgb3V0cHV0IikpLHM9SyhlLGcuc2VsZWN0KSxhPWUucXVlcnlTZWxlY3RvcigiLiIuY29uY2F0KGcuY2hlY2tib3gsIiBpbnB1dCIpKSxyPUsoZSxnLnRleHRhcmVhKTt0Lm9uaW5wdXQ9c2Usbi5vbmNoYW5nZT1zZSxzLm9uY2hhbmdlPXNlLGEub25jaGFuZ2U9c2Usci5vbmlucHV0PXNlLG8ub25pbnB1dD0oKT0+e3NlKCksaS52YWx1ZT1vLnZhbHVlfSxvLm9uY2hhbmdlPSgpPT57c2UoKSxvLm5leHRTaWJsaW5nLnZhbHVlPW8udmFsdWV9fSkoKX19LHJlPShlLHQpPT57ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50P3QuYXBwZW5kQ2hpbGQoZSk6Im9iamVjdCI9PXR5cGVvZiBlP2NlKGUsdCk6ZSYmVih0LGUpfSxjZT0oZSx0KT0+e2UuanF1ZXJ5P2xlKHQsZSk6Vih0LGUudG9TdHJpbmcoKSl9LGxlPSh0LG4pPT57aWYodC50ZXh0Q29udGVudD0iIiwwIGluIG4pZm9yKGxldCBlPTA7ZSBpbiBuO2UrKyl0LmFwcGVuZENoaWxkKG5bZV0uY2xvbmVOb2RlKCEwKSk7ZWxzZSB0LmFwcGVuZENoaWxkKG4uY2xvbmVOb2RlKCEwKSl9LHVlPSgoKT0+e2lmKG9lKCkpcmV0dXJuITE7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdD17V2Via2l0QW5pbWF0aW9uOiJ3ZWJraXRBbmltYXRpb25FbmQiLE9BbmltYXRpb246Im9BbmltYXRpb25FbmQgb2FuaW1hdGlvbmVuZCIsYW5pbWF0aW9uOiJhbmltYXRpb25lbmQifTtmb3IoY29uc3QgbiBpbiB0KWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiZ2b2lkIDAhPT1lLnN0eWxlW25dKXJldHVybiB0W25dO3JldHVybiExfSkoKSxkZT0oZSx0KT0+e2NvbnN0IG49TCgpO3ZhciBvPVMoKSxpPXgoKSxzPUUoKSxhPVQoKTsodC5zaG93Q29uZmlybUJ1dHRvbnx8dC5zaG93RGVueUJ1dHRvbnx8dC5zaG93Q2FuY2VsQnV0dG9uP1o6SikobiksVShuLHQsImFjdGlvbnMiKSxwZShpLCJjb25maXJtIix0KSxwZShzLCJkZW55Iix0KSxwZShhLCJjYW5jZWwiLHQpLGZ1bmN0aW9uKGUsdCxuLG8pe2lmKCFvLmJ1dHRvbnNTdHlsaW5nKXJldHVybiBfKFtlLHQsbl0sZy5zdHlsZWQpO1coW2UsdCxuXSxnLnN0eWxlZCksby5jb25maXJtQnV0dG9uQ29sb3ImJihlLnN0eWxlLmJhY2tncm91bmRDb2xvcj1vLmNvbmZpcm1CdXR0b25Db2xvcixXKGUsZ1siZGVmYXVsdC1vdXRsaW5lIl0pKTtvLmRlbnlCdXR0b25Db2xvciYmKHQuc3R5bGUuYmFja2dyb3VuZENvbG9yPW8uZGVueUJ1dHRvbkNvbG9yLFcodCxnWyJkZWZhdWx0LW91dGxpbmUiXSkpO28uY2FuY2VsQnV0dG9uQ29sb3ImJihuLnN0eWxlLmJhY2tncm91bmRDb2xvcj1vLmNhbmNlbEJ1dHRvbkNvbG9yLFcobixnWyJkZWZhdWx0LW91dGxpbmUiXSkpfShpLHMsYSx0KSx0LnJldmVyc2VCdXR0b25zJiYobi5pbnNlcnRCZWZvcmUoYSxvKSxuLmluc2VydEJlZm9yZShzLG8pLG4uaW5zZXJ0QmVmb3JlKGksbykpLFYobyx0LmxvYWRlckh0bWwpLFUobyx0LCJsb2FkZXIiKX07ZnVuY3Rpb24gcGUoZSx0LG4peyQoZSxuWyJzaG93Ii5jb25jYXQobyh0KSwiQnV0dG9uIildLCJpbmxpbmUtYmxvY2siKSxWKGUsblsiIi5jb25jYXQodCwiQnV0dG9uVGV4dCIpXSksZS5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLG5bIiIuY29uY2F0KHQsIkJ1dHRvbkFyaWFMYWJlbCIpXSksZS5jbGFzc05hbWU9Z1t0XSxVKGUsbiwiIi5jb25jYXQodCwiQnV0dG9uIikpLFcoZSxuWyIiLmNvbmNhdCh0LCJCdXR0b25DbGFzcyIpXSl9Y29uc3QgbWU9KGUsdCk9Pnt2YXIgbixvLGk9YigpO2kmJihvPWksInN0cmluZyI9PXR5cGVvZihuPXQuYmFja2Ryb3ApP28uc3R5bGUuYmFja2dyb3VuZD1uOm58fFcoW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCxkb2N1bWVudC5ib2R5XSxnWyJuby1iYWNrZHJvcCJdKSxvPWksKG49dC5wb3NpdGlvbilpbiBnP1cobyxnW25dKTooYSgnVGhlICJwb3NpdGlvbiIgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZCwgZGVmYXVsdGluZyB0byAiY2VudGVyIicpLFcobyxnLmNlbnRlcikpLG49aSwhKG89dC5ncm93KXx8InN0cmluZyIhPXR5cGVvZiBvfHwobz0iZ3Jvdy0iLmNvbmNhdChvKSlpbiBnJiZXKG4sZ1tvXSksVShpLHQsImNvbnRhaW5lciIpKX07dmFyIGdlPXthd2FpdGluZ1Byb21pc2U6bmV3IFdlYWtNYXAscHJvbWlzZTpuZXcgV2Vha01hcCxpbm5lclBhcmFtczpuZXcgV2Vha01hcCxkb21DYWNoZTpuZXcgV2Vha01hcH07Y29uc3QgaGU9WyJpbnB1dCIsImZpbGUiLCJyYW5nZSIsInNlbGVjdCIsInJhZGlvIiwiY2hlY2tib3giLCJ0ZXh0YXJlYSJdLGJlPWU9PntpZigha2VbZS5pbnB1dF0pcmV0dXJuIHIoJ1VuZXhwZWN0ZWQgdHlwZSBvZiBpbnB1dCEgRXhwZWN0ZWQgInRleHQiLCAiZW1haWwiLCAicGFzc3dvcmQiLCAibnVtYmVyIiwgInRlbCIsICJzZWxlY3QiLCAicmFkaW8iLCAiY2hlY2tib3giLCAidGV4dGFyZWEiLCAiZmlsZSIgb3IgInVybCIsIGdvdCAiJy5jb25jYXQoZS5pbnB1dCwnIicpKTt2YXIgdD1DZShlLmlucHV0KTtjb25zdCBuPWtlW2UuaW5wdXRdKHQsZSk7WihuKSxzZXRUaW1lb3V0KCgpPT57UihuKX0pfSxmZT0oZSx0KT0+e2NvbnN0IG49Rih2KCksZSk7aWYobil7KHQ9Pntmb3IobGV0IGU9MDtlPHQuYXR0cmlidXRlcy5sZW5ndGg7ZSsrKXt2YXIgbj10LmF0dHJpYnV0ZXNbZV0ubmFtZTtbInR5cGUiLCJ2YWx1ZSIsInN0eWxlIl0uaW5jbHVkZXMobil8fHQucmVtb3ZlQXR0cmlidXRlKG4pfX0pKG4pO2Zvcihjb25zdCBvIGluIHQpbi5zZXRBdHRyaWJ1dGUobyx0W29dKX19LHllPWU9Pnt2YXIgdD1DZShlLmlucHV0KTtlLmN1c3RvbUNsYXNzJiZXKHQsZS5jdXN0b21DbGFzcy5pbnB1dCl9LHZlPShlLHQpPT57ZS5wbGFjZWhvbGRlciYmIXQuaW5wdXRQbGFjZWhvbGRlcnx8KGUucGxhY2Vob2xkZXI9dC5pbnB1dFBsYWNlaG9sZGVyKX0sd2U9KGUsdCxuKT0+e2lmKG4uaW5wdXRMYWJlbCl7ZS5pZD1nLmlucHV0O2NvbnN0IGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGFiZWwiKTt2YXIgbz1nWyJpbnB1dC1sYWJlbCJdO2kuc2V0QXR0cmlidXRlKCJmb3IiLGUuaWQpLGkuY2xhc3NOYW1lPW8sVyhpLG4uY3VzdG9tQ2xhc3MuaW5wdXRMYWJlbCksaS5pbm5lclRleHQ9bi5pbnB1dExhYmVsLHQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCJiZWZvcmViZWdpbiIsaSl9fSxDZT1lPT57ZT1nW2VdfHxnLmlucHV0O3JldHVybiBLKHYoKSxlKX0sa2U9e307a2UudGV4dD1rZS5lbWFpbD1rZS5wYXNzd29yZD1rZS5udW1iZXI9a2UudGVsPWtlLnVybD0oZSx0KT0+KCJzdHJpbmciPT10eXBlb2YgdC5pbnB1dFZhbHVlfHwibnVtYmVyIj09dHlwZW9mIHQuaW5wdXRWYWx1ZT9lLnZhbHVlPXQuaW5wdXRWYWx1ZTpwKHQuaW5wdXRWYWx1ZSl8fGEoJ1VuZXhwZWN0ZWQgdHlwZSBvZiBpbnB1dFZhbHVlISBFeHBlY3RlZCAic3RyaW5nIiwgIm51bWJlciIgb3IgIlByb21pc2UiLCBnb3QgIicuY29uY2F0KHR5cGVvZiB0LmlucHV0VmFsdWUsJyInKSksd2UoZSxlLHQpLHZlKGUsdCksZS50eXBlPXQuaW5wdXQsZSksa2UuZmlsZT0oZSx0KT0+KHdlKGUsZSx0KSx2ZShlLHQpLGUpLGtlLnJhbmdlPShlLHQpPT57Y29uc3Qgbj1lLnF1ZXJ5U2VsZWN0b3IoImlucHV0Iiksbz1lLnF1ZXJ5U2VsZWN0b3IoIm91dHB1dCIpO3JldHVybiBuLnZhbHVlPXQuaW5wdXRWYWx1ZSxuLnR5cGU9dC5pbnB1dCxvLnZhbHVlPXQuaW5wdXRWYWx1ZSx3ZShuLGUsdCksZX0sa2Uuc2VsZWN0PShlLHQpPT57aWYoZS50ZXh0Q29udGVudD0iIix0LmlucHV0UGxhY2Vob2xkZXIpe2NvbnN0IG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7VihuLHQuaW5wdXRQbGFjZWhvbGRlciksbi52YWx1ZT0iIixuLmRpc2FibGVkPSEwLG4uc2VsZWN0ZWQ9ITAsZS5hcHBlbmRDaGlsZChuKX1yZXR1cm4gd2UoZSxlLHQpLGV9LGtlLnJhZGlvPWU9PihlLnRleHRDb250ZW50PSIiLGUpLGtlLmNoZWNrYm94PShlLHQpPT57Y29uc3Qgbj1GKHYoKSwiY2hlY2tib3giKTtuLnZhbHVlPTEsbi5pZD1nLmNoZWNrYm94LG4uY2hlY2tlZD1Cb29sZWFuKHQuaW5wdXRWYWx1ZSk7dmFyIG89ZS5xdWVyeVNlbGVjdG9yKCJzcGFuIik7cmV0dXJuIFYobyx0LmlucHV0UGxhY2Vob2xkZXIpLGV9LGtlLnRleHRhcmVhPShuLGUpPT57bi52YWx1ZT1lLmlucHV0VmFsdWUsdmUobixlKSx3ZShuLG4sZSk7cmV0dXJuIHNldFRpbWVvdXQoKCk9PntpZigiTXV0YXRpb25PYnNlcnZlciJpbiB3aW5kb3cpe2NvbnN0IHQ9cGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUodigpKS53aWR0aCk7bmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCk9Pnt2YXIgZSxlPW4ub2Zmc2V0V2lkdGgrKGU9bixwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlKS5tYXJnaW5MZWZ0KStwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlKS5tYXJnaW5SaWdodCkpO2U+dD92KCkuc3R5bGUud2lkdGg9IiIuY29uY2F0KGUsInB4Iik6digpLnN0eWxlLndpZHRoPW51bGx9KS5vYnNlcnZlKG4se2F0dHJpYnV0ZXM6ITAsYXR0cmlidXRlRmlsdGVyOlsic3R5bGUiXX0pfX0pLG59O2NvbnN0IEFlPShlLHQpPT57Y29uc3Qgbj1rKCk7VShuLHQsImh0bWxDb250YWluZXIiKSx0Lmh0bWw/KHJlKHQuaHRtbCxuKSxaKG4sImJsb2NrIikpOnQudGV4dD8obi50ZXh0Q29udGVudD10LnRleHQsWihuLCJibG9jayIpKTpKKG4pLCgoZSxvKT0+e2NvbnN0IGk9digpO2U9Z2UuaW5uZXJQYXJhbXMuZ2V0KGUpO2NvbnN0IHM9IWV8fG8uaW5wdXQhPT1lLmlucHV0O2hlLmZvckVhY2goZT0+e3ZhciB0PWdbZV07Y29uc3Qgbj1LKGksdCk7ZmUoZSxvLmlucHV0QXR0cmlidXRlcyksbi5jbGFzc05hbWU9dCxzJiZKKG4pfSksby5pbnB1dCYmKHMmJmJlKG8pLHllKG8pKX0pKGUsdCl9LFBlPShlLHQpPT57Zm9yKGNvbnN0IG4gaW4gaCl0Lmljb24hPT1uJiZfKGUsaFtuXSk7VyhlLGhbdC5pY29uXSksRWUoZSx0KSxCZSgpLFUoZSx0LCJpY29uIil9LEJlPSgpPT57Y29uc3QgZT12KCk7dmFyIHQ9d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSkuZ2V0UHJvcGVydHlWYWx1ZSgiYmFja2dyb3VuZC1jb2xvciIpO2NvbnN0IG49ZS5xdWVyeVNlbGVjdG9yQWxsKCJbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtY2lyY3VsYXItbGluZV0sIC5zd2FsMi1zdWNjZXNzLWZpeCIpO2ZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSsrKW5bZV0uc3R5bGUuYmFja2dyb3VuZENvbG9yPXR9LHhlPShlLHQpPT57dmFyIG47ZS50ZXh0Q29udGVudD0iIix0Lmljb25IdG1sP1YoZSxTZSh0Lmljb25IdG1sKSk6InN1Y2Nlc3MiPT09dC5pY29uP1YoZSwnXG4gICAgICA8ZGl2IGNsYXNzPSJzd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmUtbGVmdCI+PC9kaXY+XG4gICAgICA8c3BhbiBjbGFzcz0ic3dhbDItc3VjY2Vzcy1saW5lLXRpcCI+PC9zcGFuPiA8c3BhbiBjbGFzcz0ic3dhbDItc3VjY2Vzcy1saW5lLWxvbmciPjwvc3Bhbj5cbiAgICAgIDxkaXYgY2xhc3M9InN3YWwyLXN1Y2Nlc3MtcmluZyI+PC9kaXY+IDxkaXYgY2xhc3M9InN3YWwyLXN1Y2Nlc3MtZml4Ij48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9InN3YWwyLXN1Y2Nlc3MtY2lyY3VsYXItbGluZS1yaWdodCI+PC9kaXY+XG4gICAgJyk6ImVycm9yIj09PXQuaWNvbj9WKGUsJ1xuICAgICAgPHNwYW4gY2xhc3M9InN3YWwyLXgtbWFyayI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJzd2FsMi14LW1hcmstbGluZS1sZWZ0Ij48L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJzd2FsMi14LW1hcmstbGluZS1yaWdodCI+PC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgICcpOihuPXtxdWVzdGlvbjoiPyIsd2FybmluZzoiISIsaW5mbzoiaSJ9LFYoZSxTZShuW3QuaWNvbl0pKSl9LEVlPShlLHQpPT57aWYodC5pY29uQ29sb3Ipe2Uuc3R5bGUuY29sb3I9dC5pY29uQ29sb3IsZS5zdHlsZS5ib3JkZXJDb2xvcj10Lmljb25Db2xvcjtmb3IoY29uc3QgbiBvZlsiLnN3YWwyLXN1Y2Nlc3MtbGluZS10aXAiLCIuc3dhbDItc3VjY2Vzcy1saW5lLWxvbmciLCIuc3dhbDIteC1tYXJrLWxpbmUtbGVmdCIsIi5zd2FsMi14LW1hcmstbGluZS1yaWdodCJdKVgoZSxuLCJiYWNrZ3JvdW5kQ29sb3IiLHQuaWNvbkNvbG9yKTtYKGUsIi5zd2FsMi1zdWNjZXNzLXJpbmciLCJib3JkZXJDb2xvciIsdC5pY29uQ29sb3IpfX0sU2U9ZT0+JzxkaXYgY2xhc3M9IicuY29uY2F0KGdbImljb24tY29udGVudCJdLCciPicpLmNvbmNhdChlLCI8L2Rpdj4iKSxUZT0oZSxvKT0+e2NvbnN0IGk9UCgpO2lmKCFvLnByb2dyZXNzU3RlcHN8fDA9PT1vLnByb2dyZXNzU3RlcHMubGVuZ3RoKXJldHVybiBKKGkpO1ooaSksaS50ZXh0Q29udGVudD0iIixvLmN1cnJlbnRQcm9ncmVzc1N0ZXA+PW8ucHJvZ3Jlc3NTdGVwcy5sZW5ndGgmJmEoIkludmFsaWQgY3VycmVudFByb2dyZXNzU3RlcCBwYXJhbWV0ZXIsIGl0IHNob3VsZCBiZSBsZXNzIHRoYW4gcHJvZ3Jlc3NTdGVwcy5sZW5ndGggKGN1cnJlbnRQcm9ncmVzc1N0ZXAgbGlrZSBKUyBhcnJheXMgc3RhcnRzIGZyb20gMCkiKSxvLnByb2dyZXNzU3RlcHMuZm9yRWFjaCgoZSx0KT0+e3ZhciBuLGU9KG49ZSxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIiksVyhlLGdbInByb2dyZXNzLXN0ZXAiXSksVihlLG4pLGUpO2kuYXBwZW5kQ2hpbGQoZSksdD09PW8uY3VycmVudFByb2dyZXNzU3RlcCYmVyhlLGdbImFjdGl2ZS1wcm9ncmVzcy1zdGVwIl0pLHQhPT1vLnByb2dyZXNzU3RlcHMubGVuZ3RoLTEmJih0PShlPT57Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaSIpO3JldHVybiBXKHQsZ1sicHJvZ3Jlc3Mtc3RlcC1saW5lIl0pLGUucHJvZ3Jlc3NTdGVwc0Rpc3RhbmNlJiYodC5zdHlsZS53aWR0aD1lLnByb2dyZXNzU3RlcHNEaXN0YW5jZSksdH0pKG8pLGkuYXBwZW5kQ2hpbGQodCkpfSl9LExlPShlLHQpPT57ZS5jbGFzc05hbWU9IiIuY29uY2F0KGcucG9wdXAsIiAiKS5jb25jYXQoRyhlKT90LnNob3dDbGFzcy5wb3B1cDoiIiksdC50b2FzdD8oVyhbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGRvY3VtZW50LmJvZHldLGdbInRvYXN0LXNob3duIl0pLFcoZSxnLnRvYXN0KSk6VyhlLGcubW9kYWwpLFUoZSx0LCJwb3B1cCIpLCJzdHJpbmciPT10eXBlb2YgdC5jdXN0b21DbGFzcyYmVyhlLHQuY3VzdG9tQ2xhc3MpLHQuaWNvbiYmVyhlLGdbImljb24tIi5jb25jYXQodC5pY29uKV0pfSxPZT0oZSx0KT0+e3ZhciBuLG8saTsoZT0+e3ZhciB0PWIoKTtjb25zdCBuPXYoKTtlLnRvYXN0PyhZKHQsIndpZHRoIixlLndpZHRoKSxuLnN0eWxlLndpZHRoPSIxMDAlIixuLmluc2VydEJlZm9yZShTKCksdygpKSk6WShuLCJ3aWR0aCIsZS53aWR0aCksWShuLCJwYWRkaW5nIixlLnBhZGRpbmcpLGUuYmFja2dyb3VuZCYmKG4uc3R5bGUuYmFja2dyb3VuZD1lLmJhY2tncm91bmQpLEooQigpKSxMZShuLGUpfSkodCksbWUoMCx0KSxUZSgwLHQpLGk9ZSxuPXQsbz1nZS5pbm5lclBhcmFtcy5nZXQoaSksaT13KCksbyYmbi5pY29uPT09by5pY29uPyh4ZShpLG4pLFBlKGksbikpOm4uaWNvbnx8bi5pY29uSHRtbD9uLmljb24mJi0xPT09T2JqZWN0LmtleXMoaCkuaW5kZXhPZihuLmljb24pPyhyKCdVbmtub3duIGljb24hIEV4cGVjdGVkICJzdWNjZXNzIiwgImVycm9yIiwgIndhcm5pbmciLCAiaW5mbyIgb3IgInF1ZXN0aW9uIiwgZ290ICInLmNvbmNhdChuLmljb24sJyInKSksSihpKSk6KFooaSkseGUoaSxuKSxQZShpLG4pLFcoaSxuLnNob3dDbGFzcy5pY29uKSk6SihpKSwoZT0+e2NvbnN0IHQ9QSgpO2lmKCFlLmltYWdlVXJsKXJldHVybiBKKHQpO1oodCwiIiksdC5zZXRBdHRyaWJ1dGUoInNyYyIsZS5pbWFnZVVybCksdC5zZXRBdHRyaWJ1dGUoImFsdCIsZS5pbWFnZUFsdCksWSh0LCJ3aWR0aCIsZS5pbWFnZVdpZHRoKSxZKHQsImhlaWdodCIsZS5pbWFnZUhlaWdodCksdC5jbGFzc05hbWU9Zy5pbWFnZSxVKHQsZSwiaW1hZ2UiKX0pKHQpLChlPT57Y29uc3QgdD1DKCk7JCh0LGUudGl0bGV8fGUudGl0bGVUZXh0LCJibG9jayIpLGUudGl0bGUmJnJlKGUudGl0bGUsdCksZS50aXRsZVRleHQmJih0LmlubmVyVGV4dD1lLnRpdGxlVGV4dCksVSh0LGUsInRpdGxlIil9KSh0KSwoZT0+e2NvbnN0IHQ9RCgpO1YodCxlLmNsb3NlQnV0dG9uSHRtbCksVSh0LGUsImNsb3NlQnV0dG9uIiksJCh0LGUuc2hvd0Nsb3NlQnV0dG9uKSx0LnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsZS5jbG9zZUJ1dHRvbkFyaWFMYWJlbCl9KSh0KSxBZShlLHQpLGRlKDAsdCksaT10LGU9TygpLCQoZSxpLmZvb3RlciksaS5mb290ZXImJnJlKGkuZm9vdGVyLGUpLFUoZSxpLCJmb290ZXIiKSwiZnVuY3Rpb24iPT10eXBlb2YgdC5kaWRSZW5kZXImJnQuZGlkUmVuZGVyKHYoKSl9O2NvbnN0IGplPSgpPT54KCkmJngoKS5jbGljaygpO2NvbnN0IERlPWU9PntsZXQgdD12KCk7dHx8bW4uZmlyZSgpLHQ9digpO3ZhciBuPVMoKTtIKCk/Sih3KCkpOk1lKHQsZSksWihuKSx0LnNldEF0dHJpYnV0ZSgiZGF0YS1sb2FkaW5nIiwhMCksdC5zZXRBdHRyaWJ1dGUoImFyaWEtYnVzeSIsITApLHQuZm9jdXMoKX0sTWU9KGUsdCk9Pnt2YXIgbj1MKCk7Y29uc3Qgbz1TKCk7IXQmJkcoeCgpKSYmKHQ9eCgpKSxaKG4pLHQmJihKKHQpLG8uc2V0QXR0cmlidXRlKCJkYXRhLWJ1dHRvbi10by1yZXBsYWNlIix0LmNsYXNzTmFtZSkpLG8ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobyx0KSxXKFtlLG5dLGcubG9hZGluZyl9LEllPXt9LEhlPW89Pm5ldyBQcm9taXNlKGU9PntpZighbylyZXR1cm4gZSgpO3ZhciB0PXdpbmRvdy5zY3JvbGxYLG49d2luZG93LnNjcm9sbFk7SWUucmVzdG9yZUZvY3VzVGltZW91dD1zZXRUaW1lb3V0KCgpPT57SWUucHJldmlvdXNBY3RpdmVFbGVtZW50JiZJZS5wcmV2aW91c0FjdGl2ZUVsZW1lbnQuZm9jdXM/KEllLnByZXZpb3VzQWN0aXZlRWxlbWVudC5mb2N1cygpLEllLnByZXZpb3VzQWN0aXZlRWxlbWVudD1udWxsKTpkb2N1bWVudC5ib2R5JiZkb2N1bWVudC5ib2R5LmZvY3VzKCksZSgpfSwxMDApLHdpbmRvdy5zY3JvbGxUbyh0LG4pfSk7Y29uc3QgcWU9KCk9PntpZihJZS50aW1lb3V0KXJldHVybigoKT0+e2NvbnN0IGU9aigpO3ZhciB0PXBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUpLndpZHRoKTtlLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJ0cmFuc2l0aW9uIiksZS5zdHlsZS53aWR0aD0iMTAwJSI7dmFyIG49cGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZSkud2lkdGgpLG49cGFyc2VJbnQodC9uKjEwMCk7ZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgidHJhbnNpdGlvbiIpLGUuc3R5bGUud2lkdGg9IiIuY29uY2F0KG4sIiUiKX0pKCksSWUudGltZW91dC5zdG9wKCl9LFZlPSgpPT57aWYoSWUudGltZW91dCl7dmFyIGU9SWUudGltZW91dC5zdGFydCgpO3JldHVybiBuZShlKSxlfX07bGV0IE5lPSExO2NvbnN0IFVlPXt9O2NvbnN0IEZlPXQ9Pntmb3IobGV0IGU9dC50YXJnZXQ7ZSYmZSE9PWRvY3VtZW50O2U9ZS5wYXJlbnROb2RlKWZvcihjb25zdCBvIGluIFVlKXt2YXIgbj1lLmdldEF0dHJpYnV0ZShvKTtpZihuKXJldHVybiB2b2lkIFVlW29dLmZpcmUoe3RlbXBsYXRlOm59KX19LFJlPXt0aXRsZToiIix0aXRsZVRleHQ6IiIsdGV4dDoiIixodG1sOiIiLGZvb3RlcjoiIixpY29uOnZvaWQgMCxpY29uQ29sb3I6dm9pZCAwLGljb25IdG1sOnZvaWQgMCx0ZW1wbGF0ZTp2b2lkIDAsdG9hc3Q6ITEsc2hvd0NsYXNzOntwb3B1cDoic3dhbDItc2hvdyIsYmFja2Ryb3A6InN3YWwyLWJhY2tkcm9wLXNob3ciLGljb246InN3YWwyLWljb24tc2hvdyJ9LGhpZGVDbGFzczp7cG9wdXA6InN3YWwyLWhpZGUiLGJhY2tkcm9wOiJzd2FsMi1iYWNrZHJvcC1oaWRlIixpY29uOiJzd2FsMi1pY29uLWhpZGUifSxjdXN0b21DbGFzczp7fSx0YXJnZXQ6ImJvZHkiLGJhY2tkcm9wOiEwLGhlaWdodEF1dG86ITAsYWxsb3dPdXRzaWRlQ2xpY2s6ITAsYWxsb3dFc2NhcGVLZXk6ITAsYWxsb3dFbnRlcktleTohMCxzdG9wS2V5ZG93blByb3BhZ2F0aW9uOiEwLGtleWRvd25MaXN0ZW5lckNhcHR1cmU6ITEsc2hvd0NvbmZpcm1CdXR0b246ITAsc2hvd0RlbnlCdXR0b246ITEsc2hvd0NhbmNlbEJ1dHRvbjohMSxwcmVDb25maXJtOnZvaWQgMCxwcmVEZW55OnZvaWQgMCxjb25maXJtQnV0dG9uVGV4dDoiT0siLGNvbmZpcm1CdXR0b25BcmlhTGFiZWw6IiIsY29uZmlybUJ1dHRvbkNvbG9yOnZvaWQgMCxkZW55QnV0dG9uVGV4dDoiTm8iLGRlbnlCdXR0b25BcmlhTGFiZWw6IiIsZGVueUJ1dHRvbkNvbG9yOnZvaWQgMCxjYW5jZWxCdXR0b25UZXh0OiJDYW5jZWwiLGNhbmNlbEJ1dHRvbkFyaWFMYWJlbDoiIixjYW5jZWxCdXR0b25Db2xvcjp2b2lkIDAsYnV0dG9uc1N0eWxpbmc6ITAscmV2ZXJzZUJ1dHRvbnM6ITEsZm9jdXNDb25maXJtOiEwLGZvY3VzRGVueTohMSxmb2N1c0NhbmNlbDohMSxyZXR1cm5Gb2N1czohMCxzaG93Q2xvc2VCdXR0b246ITEsY2xvc2VCdXR0b25IdG1sOiImdGltZXM7IixjbG9zZUJ1dHRvbkFyaWFMYWJlbDoiQ2xvc2UgdGhpcyBkaWFsb2ciLGxvYWRlckh0bWw6IiIsc2hvd0xvYWRlck9uQ29uZmlybTohMSxzaG93TG9hZGVyT25EZW55OiExLGltYWdlVXJsOnZvaWQgMCxpbWFnZVdpZHRoOnZvaWQgMCxpbWFnZUhlaWdodDp2b2lkIDAsaW1hZ2VBbHQ6IiIsdGltZXI6dm9pZCAwLHRpbWVyUHJvZ3Jlc3NCYXI6ITEsd2lkdGg6dm9pZCAwLHBhZGRpbmc6dm9pZCAwLGJhY2tncm91bmQ6dm9pZCAwLGlucHV0OnZvaWQgMCxpbnB1dFBsYWNlaG9sZGVyOiIiLGlucHV0TGFiZWw6IiIsaW5wdXRWYWx1ZToiIixpbnB1dE9wdGlvbnM6e30saW5wdXRBdXRvVHJpbTohMCxpbnB1dEF0dHJpYnV0ZXM6e30saW5wdXRWYWxpZGF0b3I6dm9pZCAwLHJldHVybklucHV0VmFsdWVPbkRlbnk6ITEsdmFsaWRhdGlvbk1lc3NhZ2U6dm9pZCAwLGdyb3c6ITEscG9zaXRpb246ImNlbnRlciIscHJvZ3Jlc3NTdGVwczpbXSxjdXJyZW50UHJvZ3Jlc3NTdGVwOnZvaWQgMCxwcm9ncmVzc1N0ZXBzRGlzdGFuY2U6dm9pZCAwLHdpbGxPcGVuOnZvaWQgMCxkaWRPcGVuOnZvaWQgMCxkaWRSZW5kZXI6dm9pZCAwLHdpbGxDbG9zZTp2b2lkIDAsZGlkQ2xvc2U6dm9pZCAwLGRpZERlc3Ryb3k6dm9pZCAwLHNjcm9sbGJhclBhZGRpbmc6ITB9LHplPVsiYWxsb3dFc2NhcGVLZXkiLCJhbGxvd091dHNpZGVDbGljayIsImJhY2tncm91bmQiLCJidXR0b25zU3R5bGluZyIsImNhbmNlbEJ1dHRvbkFyaWFMYWJlbCIsImNhbmNlbEJ1dHRvbkNvbG9yIiwiY2FuY2VsQnV0dG9uVGV4dCIsImNsb3NlQnV0dG9uQXJpYUxhYmVsIiwiY2xvc2VCdXR0b25IdG1sIiwiY29uZmlybUJ1dHRvbkFyaWFMYWJlbCIsImNvbmZpcm1CdXR0b25Db2xvciIsImNvbmZpcm1CdXR0b25UZXh0IiwiY3VycmVudFByb2dyZXNzU3RlcCIsImN1c3RvbUNsYXNzIiwiZGVueUJ1dHRvbkFyaWFMYWJlbCIsImRlbnlCdXR0b25Db2xvciIsImRlbnlCdXR0b25UZXh0IiwiZGlkQ2xvc2UiLCJkaWREZXN0cm95IiwiZm9vdGVyIiwiaGlkZUNsYXNzIiwiaHRtbCIsImljb24iLCJpY29uQ29sb3IiLCJpY29uSHRtbCIsImltYWdlQWx0IiwiaW1hZ2VIZWlnaHQiLCJpbWFnZVVybCIsImltYWdlV2lkdGgiLCJwcmVDb25maXJtIiwicHJlRGVueSIsInByb2dyZXNzU3RlcHMiLCJyZXR1cm5Gb2N1cyIsInJldmVyc2VCdXR0b25zIiwic2hvd0NhbmNlbEJ1dHRvbiIsInNob3dDbG9zZUJ1dHRvbiIsInNob3dDb25maXJtQnV0dG9uIiwic2hvd0RlbnlCdXR0b24iLCJ0ZXh0IiwidGl0bGUiLCJ0aXRsZVRleHQiLCJ3aWxsQ2xvc2UiXSxXZT17fSxfZT1bImFsbG93T3V0c2lkZUNsaWNrIiwiYWxsb3dFbnRlcktleSIsImJhY2tkcm9wIiwiZm9jdXNDb25maXJtIiwiZm9jdXNEZW55IiwiZm9jdXNDYW5jZWwiLCJyZXR1cm5Gb2N1cyIsImhlaWdodEF1dG8iLCJrZXlkb3duTGlzdGVuZXJDYXB0dXJlIl0sS2U9ZT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFJlLGUpO2NvbnN0IFllPWU9PldlW2VdLFplPWU9PnshZS5iYWNrZHJvcCYmZS5hbGxvd091dHNpZGVDbGljayYmYSgnImFsbG93T3V0c2lkZUNsaWNrIiBwYXJhbWV0ZXIgcmVxdWlyZXMgYGJhY2tkcm9wYCBwYXJhbWV0ZXIgdG8gYmUgc2V0IHRvIGB0cnVlYCcpO2Zvcihjb25zdCBvIGluIGUpbj1vLEtlKG4pfHxhKCdVbmtub3duIHBhcmFtZXRlciAiJy5jb25jYXQobiwnIicpKSxlLnRvYXN0JiYodD1vLF9lLmluY2x1ZGVzKHQpJiZhKCdUaGUgcGFyYW1ldGVyICInLmNvbmNhdCh0LCciIGlzIGluY29tcGF0aWJsZSB3aXRoIHRvYXN0cycpKSksdD1vLFllKHQpJiZpKHQsWWUodCkpO3ZhciB0LG59O3ZhciBKZT1PYmplY3QuZnJlZXplKHtpc1ZhbGlkUGFyYW1ldGVyOktlLGlzVXBkYXRhYmxlUGFyYW1ldGVyOmU9Pi0xIT09emUuaW5kZXhPZihlKSxpc0RlcHJlY2F0ZWRQYXJhbWV0ZXI6WWUsYXJnc1RvUGFyYW1zOm49Pntjb25zdCBvPXt9O3JldHVybiJvYmplY3QiIT10eXBlb2YgblswXXx8bShuWzBdKT9bInRpdGxlIiwiaHRtbCIsImljb24iXS5mb3JFYWNoKChlLHQpPT57dD1uW3RdOyJzdHJpbmciPT10eXBlb2YgdHx8bSh0KT9vW2VdPXQ6dm9pZCAwIT09dCYmcigiVW5leHBlY3RlZCB0eXBlIG9mICIuY29uY2F0KGUsJyEgRXhwZWN0ZWQgInN0cmluZyIgb3IgIkVsZW1lbnQiLCBnb3QgJykuY29uY2F0KHR5cGVvZiB0KSl9KTpPYmplY3QuYXNzaWduKG8sblswXSksb30saXNWaXNpYmxlOigpPT5HKHYoKSksY2xpY2tDb25maXJtOmplLGNsaWNrRGVueTooKT0+RSgpJiZFKCkuY2xpY2soKSxjbGlja0NhbmNlbDooKT0+VCgpJiZUKCkuY2xpY2soKSxnZXRDb250YWluZXI6YixnZXRQb3B1cDp2LGdldFRpdGxlOkMsZ2V0SHRtbENvbnRhaW5lcjprLGdldEltYWdlOkEsZ2V0SWNvbjp3LGdldElucHV0TGFiZWw6KCk9PnkoZ1siaW5wdXQtbGFiZWwiXSksZ2V0Q2xvc2VCdXR0b246RCxnZXRBY3Rpb25zOkwsZ2V0Q29uZmlybUJ1dHRvbjp4LGdldERlbnlCdXR0b246RSxnZXRDYW5jZWxCdXR0b246VCxnZXRMb2FkZXI6UyxnZXRGb290ZXI6TyxnZXRUaW1lclByb2dyZXNzQmFyOmosZ2V0Rm9jdXNhYmxlRWxlbWVudHM6TSxnZXRWYWxpZGF0aW9uTWVzc2FnZTpCLGlzTG9hZGluZzooKT0+digpLmhhc0F0dHJpYnV0ZSgiZGF0YS1sb2FkaW5nIiksZmlyZTpmdW5jdGlvbiguLi5lKXtyZXR1cm4gbmV3IHRoaXMoLi4uZSl9LG1peGluOmZ1bmN0aW9uKG4pe2NsYXNzIGUgZXh0ZW5kcyB0aGlze19tYWluKGUsdCl7cmV0dXJuIHN1cGVyLl9tYWluKGUsT2JqZWN0LmFzc2lnbih7fSxuLHQpKX19cmV0dXJuIGV9LHNob3dMb2FkaW5nOkRlLGVuYWJsZUxvYWRpbmc6RGUsZ2V0VGltZXJMZWZ0OigpPT5JZS50aW1lb3V0JiZJZS50aW1lb3V0LmdldFRpbWVyTGVmdCgpLHN0b3BUaW1lcjpxZSxyZXN1bWVUaW1lcjpWZSx0b2dnbGVUaW1lcjooKT0+e3ZhciBlPUllLnRpbWVvdXQ7cmV0dXJuIGUmJihlLnJ1bm5pbmc/cWU6VmUpKCl9LGluY3JlYXNlVGltZXI6ZT0+e2lmKEllLnRpbWVvdXQpe2U9SWUudGltZW91dC5pbmNyZWFzZShlKTtyZXR1cm4gbmUoZSwhMCksZX19LGlzVGltZXJSdW5uaW5nOigpPT5JZS50aW1lb3V0JiZJZS50aW1lb3V0LmlzUnVubmluZygpLGJpbmRDbGlja0hhbmRsZXI6ZnVuY3Rpb24oZT0iZGF0YS1zd2FsLXRlbXBsYXRlIil7VWVbZV09dGhpcyxOZXx8KGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLEZlKSxOZT0hMCl9fSk7ZnVuY3Rpb24gWGUoKXt2YXIgZT1nZS5pbm5lclBhcmFtcy5nZXQodGhpcyk7aWYoZSl7Y29uc3QgdD1nZS5kb21DYWNoZS5nZXQodGhpcyk7Sih0LmxvYWRlciksSCgpP2UuaWNvbiYmWih3KCkpOihlPT57Y29uc3QgdD1lLnBvcHVwLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZS5sb2FkZXIuZ2V0QXR0cmlidXRlKCJkYXRhLWJ1dHRvbi10by1yZXBsYWNlIikpO2lmKHQubGVuZ3RoKVoodFswXSwiaW5saW5lLWJsb2NrIik7ZWxzZSBpZihRKCkpSihlLmFjdGlvbnMpfSkodCksXyhbdC5wb3B1cCx0LmFjdGlvbnNdLGcubG9hZGluZyksdC5wb3B1cC5yZW1vdmVBdHRyaWJ1dGUoImFyaWEtYnVzeSIpLHQucG9wdXAucmVtb3ZlQXR0cmlidXRlKCJkYXRhLWxvYWRpbmciKSx0LmNvbmZpcm1CdXR0b24uZGlzYWJsZWQ9ITEsdC5kZW55QnV0dG9uLmRpc2FibGVkPSExLHQuY2FuY2VsQnV0dG9uLmRpc2FibGVkPSExfX1jb25zdCAkZT0oKT0+e251bGw9PT1xLnByZXZpb3VzQm9keVBhZGRpbmcmJmRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0PndpbmRvdy5pbm5lckhlaWdodCYmKHEucHJldmlvdXNCb2R5UGFkZGluZz1wYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5nZXRQcm9wZXJ0eVZhbHVlKCJwYWRkaW5nLXJpZ2h0IikpLGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0PSIiLmNvbmNhdChxLnByZXZpb3VzQm9keVBhZGRpbmcrKCgpPT57Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLmNsYXNzTmFtZT1nWyJzY3JvbGxiYXItbWVhc3VyZSJdLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSk7dmFyIHQ9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aC1lLmNsaWVudFdpZHRoO3JldHVybiBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGUpLHR9KSgpLCJweCIpKX0sR2U9KCk9PntuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oQ3JpT1N8RnhpT1N8RWRnaU9TfFlhQnJvd3NlcnxVQ0Jyb3dzZXIpL2kpfHx2KCkuc2Nyb2xsSGVpZ2h0PndpbmRvdy5pbm5lckhlaWdodC00NCYmKGIoKS5zdHlsZS5wYWRkaW5nQm90dG9tPSIiLmNvbmNhdCg0NCwicHgiKSl9LFFlPSgpPT57Y29uc3QgZT1iKCk7bGV0IHQ7ZS5vbnRvdWNoc3RhcnQ9ZT0+e3Q9ZXQoZSl9LGUub250b3VjaG1vdmU9ZT0+e3QmJihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSl9fSxldD1lPT57dmFyIHQ9ZS50YXJnZXQsbj1iKCk7cmV0dXJuIXR0KGUpJiYhbnQoZSkmJih0PT09bnx8IShlZShuKXx8IklOUFVUIj09PXQudGFnTmFtZXx8IlRFWFRBUkVBIj09PXQudGFnTmFtZXx8ZWUoaygpKSYmaygpLmNvbnRhaW5zKHQpKSl9LHR0PWU9PmUudG91Y2hlcyYmZS50b3VjaGVzLmxlbmd0aCYmInN0eWx1cyI9PT1lLnRvdWNoZXNbMF0udG91Y2hUeXBlLG50PWU9PmUudG91Y2hlcyYmMTxlLnRvdWNoZXMubGVuZ3RoLG90PSgpPT57Y29uc3QgZT1zKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO2UuZm9yRWFjaChlPT57ZS5oYXNBdHRyaWJ1dGUoImRhdGEtcHJldmlvdXMtYXJpYS1oaWRkZW4iKT8oZS5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIixlLmdldEF0dHJpYnV0ZSgiZGF0YS1wcmV2aW91cy1hcmlhLWhpZGRlbiIpKSxlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1wcmV2aW91cy1hcmlhLWhpZGRlbiIpKTplLnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iKX0pfTt2YXIgaXQ9e3N3YWxQcm9taXNlUmVzb2x2ZTpuZXcgV2Vha01hcCxzd2FsUHJvbWlzZVJlamVjdDpuZXcgV2Vha01hcH07ZnVuY3Rpb24gc3QoZSx0LG4sbyl7SCgpP3V0KGUsbyk6KEhlKG4pLnRoZW4oKCk9PnV0KGUsbykpLEllLmtleWRvd25UYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsSWUua2V5ZG93bkhhbmRsZXIse2NhcHR1cmU6SWUua2V5ZG93bkxpc3RlbmVyQ2FwdHVyZX0pLEllLmtleWRvd25IYW5kbGVyQWRkZWQ9ITEpLC9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/KHQuc2V0QXR0cmlidXRlKCJzdHlsZSIsImRpc3BsYXk6bm9uZSAhaW1wb3J0YW50IiksdC5yZW1vdmVBdHRyaWJ1dGUoImNsYXNzIiksdC5pbm5lckhUTUw9IiIpOnQucmVtb3ZlKCksSSgpJiYobnVsbCE9PXEucHJldmlvdXNCb2R5UGFkZGluZyYmKGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0PSIiLmNvbmNhdChxLnByZXZpb3VzQm9keVBhZGRpbmcsInB4IikscS5wcmV2aW91c0JvZHlQYWRkaW5nPW51bGwpLE4oZG9jdW1lbnQuYm9keSxnLmlvc2ZpeCkmJih0PXBhcnNlSW50KGRvY3VtZW50LmJvZHkuc3R5bGUudG9wLDEwKSxfKGRvY3VtZW50LmJvZHksZy5pb3NmaXgpLGRvY3VtZW50LmJvZHkuc3R5bGUudG9wPSIiLGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wPS0xKnQpLG90KCkpLF8oW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCxkb2N1bWVudC5ib2R5XSxbZy5zaG93bixnWyJoZWlnaHQtYXV0byJdLGdbIm5vLWJhY2tkcm9wIl0sZ1sidG9hc3Qtc2hvd24iXV0pfWZ1bmN0aW9uIGF0KGUpe2U9dm9pZCAwIT09KG49ZSk/T2JqZWN0LmFzc2lnbih7aXNDb25maXJtZWQ6ITEsaXNEZW5pZWQ6ITEsaXNEaXNtaXNzZWQ6ITF9LG4pOntpc0NvbmZpcm1lZDohMSxpc0RlbmllZDohMSxpc0Rpc21pc3NlZDohMH07Y29uc3QgdD1pdC5zd2FsUHJvbWlzZVJlc29sdmUuZ2V0KHRoaXMpO3ZhciBuPShlPT57Y29uc3QgdD12KCk7aWYoIXQpcmV0dXJuIGZhbHNlO2NvbnN0IG49Z2UuaW5uZXJQYXJhbXMuZ2V0KGUpO2lmKCFufHxOKHQsbi5oaWRlQ2xhc3MucG9wdXApKXJldHVybiBmYWxzZTtfKHQsbi5zaG93Q2xhc3MucG9wdXApLFcodCxuLmhpZGVDbGFzcy5wb3B1cCk7Y29uc3Qgbz1iKCk7cmV0dXJuIF8obyxuLnNob3dDbGFzcy5iYWNrZHJvcCksVyhvLG4uaGlkZUNsYXNzLmJhY2tkcm9wKSxjdChlLHQsbiksdHJ1ZX0pKHRoaXMpO3RoaXMuaXNBd2FpdGluZ1Byb21pc2UoKT9lLmlzRGlzbWlzc2VkfHwocnQodGhpcyksdChlKSk6biYmdChlKX1jb25zdCBydD1lPT57ZS5pc0F3YWl0aW5nUHJvbWlzZSgpJiYoZ2UuYXdhaXRpbmdQcm9taXNlLmRlbGV0ZShlKSxnZS5pbm5lclBhcmFtcy5nZXQoZSl8fGUuX2Rlc3Ryb3koKSl9LGN0PShlLHQsbik9Pnt2YXIgbz1iKCksaT11ZSYmdGUodCk7ImZ1bmN0aW9uIj09dHlwZW9mIG4ud2lsbENsb3NlJiZuLndpbGxDbG9zZSh0KSxpP2x0KGUsdCxvLG4ucmV0dXJuRm9jdXMsbi5kaWRDbG9zZSk6c3QoZSxvLG4ucmV0dXJuRm9jdXMsbi5kaWRDbG9zZSl9LGx0PShlLHQsbixvLGkpPT57SWUuc3dhbENsb3NlRXZlbnRGaW5pc2hlZENhbGxiYWNrPXN0LmJpbmQobnVsbCxlLG4sbyxpKSx0LmFkZEV2ZW50TGlzdGVuZXIodWUsZnVuY3Rpb24oZSl7ZS50YXJnZXQ9PT10JiYoSWUuc3dhbENsb3NlRXZlbnRGaW5pc2hlZENhbGxiYWNrKCksZGVsZXRlIEllLnN3YWxDbG9zZUV2ZW50RmluaXNoZWRDYWxsYmFjayl9KX0sdXQ9KGUsdCk9PntzZXRUaW1lb3V0KCgpPT57ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQuYmluZChlLnBhcmFtcykoKSxlLl9kZXN0cm95KCl9KX07ZnVuY3Rpb24gZHQoZSx0LG4pe2NvbnN0IG89Z2UuZG9tQ2FjaGUuZ2V0KGUpO3QuZm9yRWFjaChlPT57b1tlXS5kaXNhYmxlZD1ufSl9ZnVuY3Rpb24gcHQoZSx0KXtpZighZSlyZXR1cm4hMTtpZigicmFkaW8iPT09ZS50eXBlKXtjb25zdCBuPWUucGFyZW50Tm9kZS5wYXJlbnROb2RlLG89bi5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dCIpO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKW9bZV0uZGlzYWJsZWQ9dH1lbHNlIGUuZGlzYWJsZWQ9dH1jbGFzcyBtdHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuY2FsbGJhY2s9ZSx0aGlzLnJlbWFpbmluZz10LHRoaXMucnVubmluZz0hMSx0aGlzLnN0YXJ0KCl9c3RhcnQoKXtyZXR1cm4gdGhpcy5ydW5uaW5nfHwodGhpcy5ydW5uaW5nPSEwLHRoaXMuc3RhcnRlZD1uZXcgRGF0ZSx0aGlzLmlkPXNldFRpbWVvdXQodGhpcy5jYWxsYmFjayx0aGlzLnJlbWFpbmluZykpLHRoaXMucmVtYWluaW5nfXN0b3AoKXtyZXR1cm4gdGhpcy5ydW5uaW5nJiYodGhpcy5ydW5uaW5nPSExLGNsZWFyVGltZW91dCh0aGlzLmlkKSx0aGlzLnJlbWFpbmluZy09bmV3IERhdGUtdGhpcy5zdGFydGVkKSx0aGlzLnJlbWFpbmluZ31pbmNyZWFzZShlKXt2YXIgdD10aGlzLnJ1bm5pbmc7cmV0dXJuIHQmJnRoaXMuc3RvcCgpLHRoaXMucmVtYWluaW5nKz1lLHQmJnRoaXMuc3RhcnQoKSx0aGlzLnJlbWFpbmluZ31nZXRUaW1lckxlZnQoKXtyZXR1cm4gdGhpcy5ydW5uaW5nJiYodGhpcy5zdG9wKCksdGhpcy5zdGFydCgpKSx0aGlzLnJlbWFpbmluZ31pc1J1bm5pbmcoKXtyZXR1cm4gdGhpcy5ydW5uaW5nfX12YXIgZ3Q9e2VtYWlsOihlLHQpPT4vXlthLXpBLVowLTkuK18tXStAW2EtekEtWjAtOS4tXStcLlthLXpBLVowLTktXXsyLDI0fSQvLnRlc3QoZSk/UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKHR8fCJJbnZhbGlkIGVtYWlsIGFkZHJlc3MiKSx1cmw6KGUsdCk9Pi9eaHR0cHM/OlwvXC8od3d3XC4pP1stYS16QS1aMC05QDolLl8rfiM9XXsxLDI1Nn1cLlthLXpdezIsNjN9XGIoWy1hLXpBLVowLTlAOiVfKy5+Iz8mLz1dKikkLy50ZXN0KGUpP1Byb21pc2UucmVzb2x2ZSgpOlByb21pc2UucmVzb2x2ZSh0fHwiSW52YWxpZCBVUkwiKX07ZnVuY3Rpb24gaHQoZSl7dmFyIHQsbjsodD1lKS5pbnB1dFZhbGlkYXRvcnx8T2JqZWN0LmtleXMoZ3QpLmZvckVhY2goZT0+e3QuaW5wdXQ9PT1lJiYodC5pbnB1dFZhbGlkYXRvcj1ndFtlXSl9KSxlLnNob3dMb2FkZXJPbkNvbmZpcm0mJiFlLnByZUNvbmZpcm0mJmEoInNob3dMb2FkZXJPbkNvbmZpcm0gaXMgc2V0IHRvIHRydWUsIGJ1dCBwcmVDb25maXJtIGlzIG5vdCBkZWZpbmVkLlxuc2hvd0xvYWRlck9uQ29uZmlybSBzaG91bGQgYmUgdXNlZCB0b2dldGhlciB3aXRoIHByZUNvbmZpcm0sIHNlZSB1c2FnZSBleGFtcGxlOlxuaHR0cHM6Ly9zd2VldGFsZXJ0Mi5naXRodWIuaW8vI2FqYXgtcmVxdWVzdCIpLChuPWUpLnRhcmdldCYmKCJzdHJpbmciIT10eXBlb2Ygbi50YXJnZXR8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iobi50YXJnZXQpKSYmKCJzdHJpbmciPT10eXBlb2Ygbi50YXJnZXR8fG4udGFyZ2V0LmFwcGVuZENoaWxkKXx8KGEoJ1RhcmdldCBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkLCBkZWZhdWx0aW5nIHRvICJib2R5IicpLG4udGFyZ2V0PSJib2R5IiksInN0cmluZyI9PXR5cGVvZiBlLnRpdGxlJiYoZS50aXRsZT1lLnRpdGxlLnNwbGl0KCJcbiIpLmpvaW4oIjxiciAvPiIpKSxhZShlKX1jb25zdCBidD1bInN3YWwtdGl0bGUiLCJzd2FsLWh0bWwiLCJzd2FsLWZvb3RlciJdLGZ0PWU9PntlPSJzdHJpbmciPT10eXBlb2YgZS50ZW1wbGF0ZT9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUudGVtcGxhdGUpOmUudGVtcGxhdGU7aWYoIWUpcmV0dXJue307ZT1lLmNvbnRlbnQ7cmV0dXJuIFB0KGUpLE9iamVjdC5hc3NpZ24oeXQoZSksdnQoZSksd3QoZSksQ3QoZSksa3QoZSksQXQoZSxidCkpfSx5dD1lPT57Y29uc3Qgbz17fTtyZXR1cm4gcyhlLnF1ZXJ5U2VsZWN0b3JBbGwoInN3YWwtcGFyYW0iKSkuZm9yRWFjaChlPT57QnQoZSxbIm5hbWUiLCJ2YWx1ZSJdKTt2YXIgdD1lLmdldEF0dHJpYnV0ZSgibmFtZSIpO2xldCBuPWUuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpOyJib29sZWFuIj09dHlwZW9mIFJlW3RdJiYiZmFsc2UiPT09biYmKG49ITEpLCJvYmplY3QiPT10eXBlb2YgUmVbdF0mJihuPUpTT04ucGFyc2UobikpLG9bdF09bn0pLG99LHZ0PWU9Pntjb25zdCBuPXt9O3JldHVybiBzKGUucXVlcnlTZWxlY3RvckFsbCgic3dhbC1idXR0b24iKSkuZm9yRWFjaChlPT57QnQoZSxbInR5cGUiLCJjb2xvciIsImFyaWEtbGFiZWwiXSk7dmFyIHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKTtuWyIiLmNvbmNhdCh0LCJCdXR0b25UZXh0IildPWUuaW5uZXJIVE1MLG5bInNob3ciLmNvbmNhdChvKHQpLCJCdXR0b24iKV09ITAsZS5oYXNBdHRyaWJ1dGUoImNvbG9yIikmJihuWyIiLmNvbmNhdCh0LCJCdXR0b25Db2xvciIpXT1lLmdldEF0dHJpYnV0ZSgiY29sb3IiKSksZS5oYXNBdHRyaWJ1dGUoImFyaWEtbGFiZWwiKSYmKG5bIiIuY29uY2F0KHQsIkJ1dHRvbkFyaWFMYWJlbCIpXT1lLmdldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIpKX0pLG59LHd0PWU9Pntjb25zdCB0PXt9LG49ZS5xdWVyeVNlbGVjdG9yKCJzd2FsLWltYWdlIik7cmV0dXJuIG4mJihCdChuLFsic3JjIiwid2lkdGgiLCJoZWlnaHQiLCJhbHQiXSksbi5oYXNBdHRyaWJ1dGUoInNyYyIpJiYodC5pbWFnZVVybD1uLmdldEF0dHJpYnV0ZSgic3JjIikpLG4uaGFzQXR0cmlidXRlKCJ3aWR0aCIpJiYodC5pbWFnZVdpZHRoPW4uZ2V0QXR0cmlidXRlKCJ3aWR0aCIpKSxuLmhhc0F0dHJpYnV0ZSgiaGVpZ2h0IikmJih0LmltYWdlSGVpZ2h0PW4uZ2V0QXR0cmlidXRlKCJoZWlnaHQiKSksbi5oYXNBdHRyaWJ1dGUoImFsdCIpJiYodC5pbWFnZUFsdD1uLmdldEF0dHJpYnV0ZSgiYWx0IikpKSx0fSxDdD1lPT57Y29uc3QgdD17fSxuPWUucXVlcnlTZWxlY3Rvcigic3dhbC1pY29uIik7cmV0dXJuIG4mJihCdChuLFsidHlwZSIsImNvbG9yIl0pLG4uaGFzQXR0cmlidXRlKCJ0eXBlIikmJih0Lmljb249bi5nZXRBdHRyaWJ1dGUoInR5cGUiKSksbi5oYXNBdHRyaWJ1dGUoImNvbG9yIikmJih0Lmljb25Db2xvcj1uLmdldEF0dHJpYnV0ZSgiY29sb3IiKSksdC5pY29uSHRtbD1uLmlubmVySFRNTCksdH0sa3Q9ZT0+e2NvbnN0IG49e30sdD1lLnF1ZXJ5U2VsZWN0b3IoInN3YWwtaW5wdXQiKTt0JiYoQnQodCxbInR5cGUiLCJsYWJlbCIsInBsYWNlaG9sZGVyIiwidmFsdWUiXSksbi5pbnB1dD10LmdldEF0dHJpYnV0ZSgidHlwZSIpfHwidGV4dCIsdC5oYXNBdHRyaWJ1dGUoImxhYmVsIikmJihuLmlucHV0TGFiZWw9dC5nZXRBdHRyaWJ1dGUoImxhYmVsIikpLHQuaGFzQXR0cmlidXRlKCJwbGFjZWhvbGRlciIpJiYobi5pbnB1dFBsYWNlaG9sZGVyPXQuZ2V0QXR0cmlidXRlKCJwbGFjZWhvbGRlciIpKSx0Lmhhc0F0dHJpYnV0ZSgidmFsdWUiKSYmKG4uaW5wdXRWYWx1ZT10LmdldEF0dHJpYnV0ZSgidmFsdWUiKSkpO2U9ZS5xdWVyeVNlbGVjdG9yQWxsKCJzd2FsLWlucHV0LW9wdGlvbiIpO3JldHVybiBlLmxlbmd0aCYmKG4uaW5wdXRPcHRpb25zPXt9LHMoZSkuZm9yRWFjaChlPT57QnQoZSxbInZhbHVlIl0pO3ZhciB0PWUuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpLGU9ZS5pbm5lckhUTUw7bi5pbnB1dE9wdGlvbnNbdF09ZX0pKSxufSxBdD0oZSx0KT0+e2NvbnN0IG49e307Zm9yKGNvbnN0IG8gaW4gdCl7Y29uc3QgaT10W29dLHM9ZS5xdWVyeVNlbGVjdG9yKGkpO3MmJihCdChzLFtdKSxuW2kucmVwbGFjZSgvXnN3YWwtLywiIildPXMuaW5uZXJIVE1MLnRyaW0oKSl9cmV0dXJuIG59LFB0PWU9Pntjb25zdCB0PWJ0LmNvbmNhdChbInN3YWwtcGFyYW0iLCJzd2FsLWJ1dHRvbiIsInN3YWwtaW1hZ2UiLCJzd2FsLWljb24iLCJzd2FsLWlucHV0Iiwic3dhbC1pbnB1dC1vcHRpb24iXSk7cyhlLmNoaWxkcmVuKS5mb3JFYWNoKGU9PntlPWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpOy0xPT09dC5pbmRleE9mKGUpJiZhKCJVbnJlY29nbml6ZWQgZWxlbWVudCA8Ii5jb25jYXQoZSwiPiIpKX0pfSxCdD0odCxuKT0+e3ModC5hdHRyaWJ1dGVzKS5mb3JFYWNoKGU9PnstMT09PW4uaW5kZXhPZihlLm5hbWUpJiZhKFsnVW5yZWNvZ25pemVkIGF0dHJpYnV0ZSAiJy5jb25jYXQoZS5uYW1lLCciIG9uIDwnKS5jb25jYXQodC50YWdOYW1lLnRvTG93ZXJDYXNlKCksIj4uIiksIiIuY29uY2F0KG4ubGVuZ3RoPyJBbGxvd2VkIGF0dHJpYnV0ZXMgYXJlOiAiLmNvbmNhdChuLmpvaW4oIiwgIikpOiJUbyBzZXQgdGhlIHZhbHVlLCB1c2UgSFRNTCB3aXRoaW4gdGhlIGVsZW1lbnQuIildKX0pfSx4dD1lPT57Y29uc3QgdD1iKCksbj12KCk7ImZ1bmN0aW9uIj09dHlwZW9mIGUud2lsbE9wZW4mJmUud2lsbE9wZW4obik7dmFyIG89d2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkub3ZlcmZsb3dZO0x0KHQsbixlKSxzZXRUaW1lb3V0KCgpPT57U3QodCxuKX0sMTApLEkoKSYmKFR0KHQsZS5zY3JvbGxiYXJQYWRkaW5nLG8pLCgoKT0+e2NvbnN0IGU9cyhkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtlLmZvckVhY2goZT0+e2U9PT1iKCl8fGUuY29udGFpbnMoYigpKXx8KGUuaGFzQXR0cmlidXRlKCJhcmlhLWhpZGRlbiIpJiZlLnNldEF0dHJpYnV0ZSgiZGF0YS1wcmV2aW91cy1hcmlhLWhpZGRlbiIsZS5nZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIikpLGUuc2V0QXR0cmlidXRlKCJhcmlhLWhpZGRlbiIsInRydWUiKSl9KX0pKCkpLEgoKXx8SWUucHJldmlvdXNBY3RpdmVFbGVtZW50fHwoSWUucHJldmlvdXNBY3RpdmVFbGVtZW50PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLCJmdW5jdGlvbiI9PXR5cGVvZiBlLmRpZE9wZW4mJnNldFRpbWVvdXQoKCk9PmUuZGlkT3BlbihuKSksXyh0LGdbIm5vLXRyYW5zaXRpb24iXSl9LEV0PWU9Pntjb25zdCB0PXYoKTtpZihlLnRhcmdldD09PXQpe2NvbnN0IG49YigpO3QucmVtb3ZlRXZlbnRMaXN0ZW5lcih1ZSxFdCksbi5zdHlsZS5vdmVyZmxvd1k9ImF1dG8ifX0sU3Q9KGUsdCk9Pnt1ZSYmdGUodCk/KGUuc3R5bGUub3ZlcmZsb3dZPSJoaWRkZW4iLHQuYWRkRXZlbnRMaXN0ZW5lcih1ZSxFdCkpOmUuc3R5bGUub3ZlcmZsb3dZPSJhdXRvIn0sVHQ9KGUsdCxuKT0+e3ZhciBvOygvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmIXdpbmRvdy5NU1N0cmVhbXx8Ik1hY0ludGVsIj09PW5hdmlnYXRvci5wbGF0Zm9ybSYmMTxuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMpJiYhTihkb2N1bWVudC5ib2R5LGcuaW9zZml4KSYmKG89ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsZG9jdW1lbnQuYm9keS5zdHlsZS50b3A9IiIuY29uY2F0KC0xKm8sInB4IiksVyhkb2N1bWVudC5ib2R5LGcuaW9zZml4KSxRZSgpLEdlKCkpLHQmJiJoaWRkZW4iIT09biYmJGUoKSxzZXRUaW1lb3V0KCgpPT57ZS5zY3JvbGxUb3A9MH0pfSxMdD0oZSx0LG4pPT57VyhlLG4uc2hvd0NsYXNzLmJhY2tkcm9wKSx0LnN0eWxlLnNldFByb3BlcnR5KCJvcGFjaXR5IiwiMCIsImltcG9ydGFudCIpLFoodCwiZ3JpZCIpLHNldFRpbWVvdXQoKCk9PntXKHQsbi5zaG93Q2xhc3MucG9wdXApLHQuc3R5bGUucmVtb3ZlUHJvcGVydHkoIm9wYWNpdHkiKX0sMTApLFcoW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCxkb2N1bWVudC5ib2R5XSxnLnNob3duKSxuLmhlaWdodEF1dG8mJm4uYmFja2Ryb3AmJiFuLnRvYXN0JiZXKFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsZG9jdW1lbnQuYm9keV0sZ1siaGVpZ2h0LWF1dG8iXSl9LE90PWU9PmUuY2hlY2tlZD8xOjAsanQ9ZT0+ZS5jaGVja2VkP2UudmFsdWU6bnVsbCxEdD1lPT5lLmZpbGVzLmxlbmd0aD9udWxsIT09ZS5nZXRBdHRyaWJ1dGUoIm11bHRpcGxlIik/ZS5maWxlczplLmZpbGVzWzBdOm51bGwsTXQ9KHQsbik9Pntjb25zdCBvPXYoKSxpPWU9Pkh0W24uaW5wdXRdKG8scXQoZSksbik7dShuLmlucHV0T3B0aW9ucyl8fHAobi5pbnB1dE9wdGlvbnMpPyhEZSh4KCkpLGQobi5pbnB1dE9wdGlvbnMpLnRoZW4oZT0+e3QuaGlkZUxvYWRpbmcoKSxpKGUpfSkpOiJvYmplY3QiPT10eXBlb2Ygbi5pbnB1dE9wdGlvbnM/aShuLmlucHV0T3B0aW9ucyk6cigiVW5leHBlY3RlZCB0eXBlIG9mIGlucHV0T3B0aW9ucyEgRXhwZWN0ZWQgb2JqZWN0LCBNYXAgb3IgUHJvbWlzZSwgZ290ICIuY29uY2F0KHR5cGVvZiBuLmlucHV0T3B0aW9ucykpfSxJdD0odCxuKT0+e2NvbnN0IG89dC5nZXRJbnB1dCgpO0oobyksZChuLmlucHV0VmFsdWUpLnRoZW4oZT0+e28udmFsdWU9Im51bWJlciI9PT1uLmlucHV0P3BhcnNlRmxvYXQoZSl8fDA6IiIuY29uY2F0KGUpLFoobyksby5mb2N1cygpLHQuaGlkZUxvYWRpbmcoKX0pLmNhdGNoKGU9PntyKCJFcnJvciBpbiBpbnB1dFZhbHVlIHByb21pc2U6ICIuY29uY2F0KGUpKSxvLnZhbHVlPSIiLFoobyksby5mb2N1cygpLHQuaGlkZUxvYWRpbmcoKX0pfSxIdD17c2VsZWN0OihlLHQsaSk9Pntjb25zdCBzPUsoZSxnLnNlbGVjdCksYT0oZSx0LG4pPT57Y29uc3Qgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTtvLnZhbHVlPW4sVihvLHQpLG8uc2VsZWN0ZWQ9VnQobixpLmlucHV0VmFsdWUpLGUuYXBwZW5kQ2hpbGQobyl9O3QuZm9yRWFjaChlPT57dmFyIHQ9ZVswXTtjb25zdCBuPWVbMV07aWYoQXJyYXkuaXNBcnJheShuKSl7Y29uc3Qgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRncm91cCIpO28ubGFiZWw9dCxvLmRpc2FibGVkPSExLHMuYXBwZW5kQ2hpbGQobyksbi5mb3JFYWNoKGU9PmEobyxlWzFdLGVbMF0pKX1lbHNlIGEocyxuLHQpfSkscy5mb2N1cygpfSxyYWRpbzooZSx0LHMpPT57Y29uc3QgYT1LKGUsZy5yYWRpbyk7dC5mb3JFYWNoKGU9Pnt2YXIgdD1lWzBdLGU9ZVsxXTtjb25zdCBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iiksbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpO24udHlwZT0icmFkaW8iLG4ubmFtZT1nLnJhZGlvLG4udmFsdWU9dCxWdCh0LHMuaW5wdXRWYWx1ZSkmJihuLmNoZWNrZWQ9ITApO2NvbnN0IGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO1YoaSxlKSxpLmNsYXNzTmFtZT1nLmxhYmVsLG8uYXBwZW5kQ2hpbGQobiksby5hcHBlbmRDaGlsZChpKSxhLmFwcGVuZENoaWxkKG8pfSk7Y29uc3Qgbj1hLnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0Iik7bi5sZW5ndGgmJm5bMF0uZm9jdXMoKX19LHF0PW49Pntjb25zdCBvPVtdO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgTWFwJiZuIGluc3RhbmNlb2YgTWFwP24uZm9yRWFjaCgoZSx0KT0+e2xldCBuPWU7Im9iamVjdCI9PXR5cGVvZiBuJiYobj1xdChuKSksby5wdXNoKFt0LG5dKX0pOk9iamVjdC5rZXlzKG4pLmZvckVhY2goZT0+e2xldCB0PW5bZV07Im9iamVjdCI9PXR5cGVvZiB0JiYodD1xdCh0KSksby5wdXNoKFtlLHRdKX0pLG99LFZ0PShlLHQpPT50JiZ0LnRvU3RyaW5nKCk9PT1lLnRvU3RyaW5nKCksTnQ9KGUsdCk9Pnt2YXIgbj1nZS5pbm5lclBhcmFtcy5nZXQoZSksbz0oKGUsdCk9Pntjb25zdCBuPWUuZ2V0SW5wdXQoKTtpZighbilyZXR1cm4gbnVsbDtzd2l0Y2godC5pbnB1dCl7Y2FzZSJjaGVja2JveCI6cmV0dXJuIE90KG4pO2Nhc2UicmFkaW8iOnJldHVybiBqdChuKTtjYXNlImZpbGUiOnJldHVybiBEdChuKTtkZWZhdWx0OnJldHVybiB0LmlucHV0QXV0b1RyaW0/bi52YWx1ZS50cmltKCk6bi52YWx1ZX19KShlLG4pO24uaW5wdXRWYWxpZGF0b3I/VXQoZSxvLHQpOmUuZ2V0SW5wdXQoKS5jaGVja1ZhbGlkaXR5KCk/KCJkZW55Ij09PXQ/RnQ6V3QpKGUsbyk6KGUuZW5hYmxlQnV0dG9ucygpLGUuc2hvd1ZhbGlkYXRpb25NZXNzYWdlKG4udmFsaWRhdGlvbk1lc3NhZ2UpKX0sVXQ9KHQsbixvKT0+e2NvbnN0IGU9Z2UuaW5uZXJQYXJhbXMuZ2V0KHQpO3QuZGlzYWJsZUlucHV0KCk7Y29uc3QgaT1Qcm9taXNlLnJlc29sdmUoKS50aGVuKCgpPT5kKGUuaW5wdXRWYWxpZGF0b3IobixlLnZhbGlkYXRpb25NZXNzYWdlKSkpO2kudGhlbihlPT57dC5lbmFibGVCdXR0b25zKCksdC5lbmFibGVJbnB1dCgpLGU/dC5zaG93VmFsaWRhdGlvbk1lc3NhZ2UoZSk6KCJkZW55Ij09PW8/RnQ6V3QpKHQsbil9KX0sRnQ9KHQsbik9Pntjb25zdCBlPWdlLmlubmVyUGFyYW1zLmdldCh0fHx2b2lkIDApO2lmKGUuc2hvd0xvYWRlck9uRGVueSYmRGUoRSgpKSxlLnByZURlbnkpe2dlLmF3YWl0aW5nUHJvbWlzZS5zZXQodHx8dm9pZCAwLCEwKTtjb25zdCBvPVByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCk9PmQoZS5wcmVEZW55KG4sZS52YWxpZGF0aW9uTWVzc2FnZSkpKTtvLnRoZW4oZT0+eyExPT09ZT90LmhpZGVMb2FkaW5nKCk6dC5jbG9zZVBvcHVwKHtpc0RlbmllZDohMCx2YWx1ZTp2b2lkIDA9PT1lP246ZX0pfSkuY2F0Y2goZT0+enQodHx8dm9pZCAwLGUpKX1lbHNlIHQuY2xvc2VQb3B1cCh7aXNEZW5pZWQ6ITAsdmFsdWU6bn0pfSxSdD0oZSx0KT0+e2UuY2xvc2VQb3B1cCh7aXNDb25maXJtZWQ6ITAsdmFsdWU6dH0pfSx6dD0oZSx0KT0+e2UucmVqZWN0UHJvbWlzZSh0KX0sV3Q9KHQsbik9Pntjb25zdCBlPWdlLmlubmVyUGFyYW1zLmdldCh0fHx2b2lkIDApO2lmKGUuc2hvd0xvYWRlck9uQ29uZmlybSYmRGUoKSxlLnByZUNvbmZpcm0pe3QucmVzZXRWYWxpZGF0aW9uTWVzc2FnZSgpLGdlLmF3YWl0aW5nUHJvbWlzZS5zZXQodHx8dm9pZCAwLCEwKTtjb25zdCBvPVByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCk9PmQoZS5wcmVDb25maXJtKG4sZS52YWxpZGF0aW9uTWVzc2FnZSkpKTtvLnRoZW4oZT0+e0coQigpKXx8ITE9PT1lP3QuaGlkZUxvYWRpbmcoKTpSdCh0LHZvaWQgMD09PWU/bjplKX0pLmNhdGNoKGU9Pnp0KHR8fHZvaWQgMCxlKSl9ZWxzZSBSdCh0LG4pfSxfdD0oZSx0LG4pPT57Y29uc3Qgbz1NKCk7aWYoby5sZW5ndGgpcmV0dXJuKHQrPW4pPT09by5sZW5ndGg/dD0wOi0xPT09dCYmKHQ9by5sZW5ndGgtMSksb1t0XS5mb2N1cygpO3YoKS5mb2N1cygpfSxLdD1bIkFycm93UmlnaHQiLCJBcnJvd0Rvd24iXSxZdD1bIkFycm93TGVmdCIsIkFycm93VXAiXSxadD0oZSx0LG4pPT57dmFyIG89Z2UuaW5uZXJQYXJhbXMuZ2V0KGUpO28mJihvLnN0b3BLZXlkb3duUHJvcGFnYXRpb24mJnQuc3RvcFByb3BhZ2F0aW9uKCksIkVudGVyIj09PXQua2V5P0p0KGUsdCxvKToiVGFiIj09PXQua2V5P1h0KHQsbyk6Wy4uLkt0LC4uLll0XS5pbmNsdWRlcyh0LmtleSk/JHQodC5rZXkpOiJFc2NhcGUiPT09dC5rZXkmJkd0KHQsbyxuKSl9LEp0PShlLHQsbik9Pnt0LmlzQ29tcG9zaW5nfHx0LnRhcmdldCYmZS5nZXRJbnB1dCgpJiZ0LnRhcmdldC5vdXRlckhUTUw9PT1lLmdldElucHV0KCkub3V0ZXJIVE1MJiYoWyJ0ZXh0YXJlYSIsImZpbGUiXS5pbmNsdWRlcyhuLmlucHV0KXx8KGplKCksdC5wcmV2ZW50RGVmYXVsdCgpKSl9LFh0PShlLHQpPT57dmFyIG49ZS50YXJnZXQsbz1NKCk7bGV0IGk9LTE7Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aDtlKyspaWYobj09PW9bZV0pe2k9ZTticmVha31lLnNoaWZ0S2V5P190KDAsaSwtMSk6X3QoMCxpLDEpLGUuc3RvcFByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpfSwkdD1lPT57Y29uc3QgdD14KCksbj1FKCksbz1UKCk7aWYoW3QsbixvXS5pbmNsdWRlcyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSl7ZT1LdC5pbmNsdWRlcyhlKT8ibmV4dEVsZW1lbnRTaWJsaW5nIjoicHJldmlvdXNFbGVtZW50U2libGluZyI7Y29uc3QgaT1kb2N1bWVudC5hY3RpdmVFbGVtZW50W2VdO2kmJmkuZm9jdXMoKX19LEd0PShlLHQsbik9PntjKHQuYWxsb3dFc2NhcGVLZXkpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLG4obC5lc2MpKX0sUXQ9KHQsZSxuKT0+e2UucG9wdXAub25jbGljaz0oKT0+e3ZhciBlPWdlLmlubmVyUGFyYW1zLmdldCh0KTtlLnNob3dDb25maXJtQnV0dG9ufHxlLnNob3dEZW55QnV0dG9ufHxlLnNob3dDYW5jZWxCdXR0b258fGUuc2hvd0Nsb3NlQnV0dG9ufHxlLnRpbWVyfHxlLmlucHV0fHxuKGwuY2xvc2UpfX07bGV0IGVuPSExO2NvbnN0IHRuPXQ9Pnt0LnBvcHVwLm9ubW91c2Vkb3duPSgpPT57dC5jb250YWluZXIub25tb3VzZXVwPWZ1bmN0aW9uKGUpe3QuY29udGFpbmVyLm9ubW91c2V1cD12b2lkIDAsZS50YXJnZXQ9PT10LmNvbnRhaW5lciYmKGVuPSEwKX19fSxubj10PT57dC5jb250YWluZXIub25tb3VzZWRvd249KCk9Pnt0LnBvcHVwLm9ubW91c2V1cD1mdW5jdGlvbihlKXt0LnBvcHVwLm9ubW91c2V1cD12b2lkIDAsZS50YXJnZXQhPT10LnBvcHVwJiYhdC5wb3B1cC5jb250YWlucyhlLnRhcmdldCl8fChlbj0hMCl9fX0sb249KG4sbyxpKT0+e28uY29udGFpbmVyLm9uY2xpY2s9ZT0+e3ZhciB0PWdlLmlubmVyUGFyYW1zLmdldChuKTtlbj9lbj0hMTplLnRhcmdldD09PW8uY29udGFpbmVyJiZjKHQuYWxsb3dPdXRzaWRlQ2xpY2spJiZpKGwuYmFja2Ryb3ApfX07Y29uc3Qgc249KGUsdCxuKT0+e3ZhciBvPWooKTtKKG8pLHQudGltZXImJihlLnRpbWVvdXQ9bmV3IG10KCgpPT57bigidGltZXIiKSxkZWxldGUgZS50aW1lb3V0fSx0LnRpbWVyKSx0LnRpbWVyUHJvZ3Jlc3NCYXImJihaKG8pLHNldFRpbWVvdXQoKCk9PntlLnRpbWVvdXQmJmUudGltZW91dC5ydW5uaW5nJiZuZSh0LnRpbWVyKX0pKSl9LGFuPShlLHQpPT57aWYoIXQudG9hc3QpcmV0dXJuIGModC5hbGxvd0VudGVyS2V5KT92b2lkKHJuKGUsdCl8fF90KDAsLTEsMSkpOmNuKCl9LHJuPShlLHQpPT50LmZvY3VzRGVueSYmRyhlLmRlbnlCdXR0b24pPyhlLmRlbnlCdXR0b24uZm9jdXMoKSwhMCk6dC5mb2N1c0NhbmNlbCYmRyhlLmNhbmNlbEJ1dHRvbik/KGUuY2FuY2VsQnV0dG9uLmZvY3VzKCksITApOiEoIXQuZm9jdXNDb25maXJtfHwhRyhlLmNvbmZpcm1CdXR0b24pKSYmKGUuY29uZmlybUJ1dHRvbi5mb2N1cygpLCEwKSxjbj0oKT0+e2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQmJiJmdW5jdGlvbiI9PXR5cGVvZiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXImJmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpfTtjb25zdCBsbj1lPT57ZS5pc0F3YWl0aW5nUHJvbWlzZSgpPyh1bihnZSxlKSxnZS5hd2FpdGluZ1Byb21pc2Uuc2V0KGUsITApKToodW4oaXQsZSksdW4oZ2UsZSkpfSx1bj0oZSx0KT0+e2Zvcihjb25zdCBuIGluIGUpZVtuXS5kZWxldGUodCl9O2U9T2JqZWN0LmZyZWV6ZSh7aGlkZUxvYWRpbmc6WGUsZGlzYWJsZUxvYWRpbmc6WGUsZ2V0SW5wdXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9Z2UuaW5uZXJQYXJhbXMuZ2V0KGV8fHRoaXMpO3JldHVybihlPWdlLmRvbUNhY2hlLmdldChlfHx0aGlzKSk/RihlLnBvcHVwLHQuaW5wdXQpOm51bGx9LGNsb3NlOmF0LGlzQXdhaXRpbmdQcm9taXNlOmZ1bmN0aW9uKCl7cmV0dXJuISFnZS5hd2FpdGluZ1Byb21pc2UuZ2V0KHRoaXMpfSxyZWplY3RQcm9taXNlOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9aXQuc3dhbFByb21pc2VSZWplY3QuZ2V0KHRoaXMpO3J0KHRoaXMpLHQmJnQoZSl9LGNsb3NlUG9wdXA6YXQsY2xvc2VNb2RhbDphdCxjbG9zZVRvYXN0OmF0LGVuYWJsZUJ1dHRvbnM6ZnVuY3Rpb24oKXtkdCh0aGlzLFsiY29uZmlybUJ1dHRvbiIsImRlbnlCdXR0b24iLCJjYW5jZWxCdXR0b24iXSwhMSl9LGRpc2FibGVCdXR0b25zOmZ1bmN0aW9uKCl7ZHQodGhpcyxbImNvbmZpcm1CdXR0b24iLCJkZW55QnV0dG9uIiwiY2FuY2VsQnV0dG9uIl0sITApfSxlbmFibGVJbnB1dDpmdW5jdGlvbigpe3JldHVybiBwdCh0aGlzLmdldElucHV0KCksITEpfSxkaXNhYmxlSW5wdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcHQodGhpcy5nZXRJbnB1dCgpLCEwKX0sc2hvd1ZhbGlkYXRpb25NZXNzYWdlOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9Z2UuZG9tQ2FjaGUuZ2V0KHRoaXMpO3ZhciBuPWdlLmlubmVyUGFyYW1zLmdldCh0aGlzKTtWKHQudmFsaWRhdGlvbk1lc3NhZ2UsZSksdC52YWxpZGF0aW9uTWVzc2FnZS5jbGFzc05hbWU9Z1sidmFsaWRhdGlvbi1tZXNzYWdlIl0sbi5jdXN0b21DbGFzcyYmbi5jdXN0b21DbGFzcy52YWxpZGF0aW9uTWVzc2FnZSYmVyh0LnZhbGlkYXRpb25NZXNzYWdlLG4uY3VzdG9tQ2xhc3MudmFsaWRhdGlvbk1lc3NhZ2UpLFoodC52YWxpZGF0aW9uTWVzc2FnZSk7Y29uc3Qgbz10aGlzLmdldElucHV0KCk7byYmKG8uc2V0QXR0cmlidXRlKCJhcmlhLWludmFsaWQiLCEwKSxvLnNldEF0dHJpYnV0ZSgiYXJpYS1kZXNjcmliZWRieSIsZ1sidmFsaWRhdGlvbi1tZXNzYWdlIl0pLFIobyksVyhvLGcuaW5wdXRlcnJvcikpfSxyZXNldFZhbGlkYXRpb25NZXNzYWdlOmZ1bmN0aW9uKCl7dmFyIGU9Z2UuZG9tQ2FjaGUuZ2V0KHRoaXMpO2UudmFsaWRhdGlvbk1lc3NhZ2UmJkooZS52YWxpZGF0aW9uTWVzc2FnZSk7Y29uc3QgdD10aGlzLmdldElucHV0KCk7dCYmKHQucmVtb3ZlQXR0cmlidXRlKCJhcmlhLWludmFsaWQiKSx0LnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1kZXNjcmliZWRieSIpLF8odCxnLmlucHV0ZXJyb3IpKX0sZ2V0UHJvZ3Jlc3NTdGVwczpmdW5jdGlvbigpe3JldHVybiBnZS5kb21DYWNoZS5nZXQodGhpcykucHJvZ3Jlc3NTdGVwc30sX21haW46ZnVuY3Rpb24oZSx0PXt9KXtaZShPYmplY3QuYXNzaWduKHt9LHQsZSkpLEllLmN1cnJlbnRJbnN0YW5jZSYmKEllLmN1cnJlbnRJbnN0YW5jZS5fZGVzdHJveSgpLEkoKSYmb3QoKSksSWUuY3VycmVudEluc3RhbmNlPXRoaXMsaHQoZT0oKGUsdCk9Pntjb25zdCBuPWZ0KGUpLG89T2JqZWN0LmFzc2lnbih7fSxSZSx0LG4sZSk7cmV0dXJuIG8uc2hvd0NsYXNzPU9iamVjdC5hc3NpZ24oe30sUmUuc2hvd0NsYXNzLG8uc2hvd0NsYXNzKSxvLmhpZGVDbGFzcz1PYmplY3QuYXNzaWduKHt9LFJlLmhpZGVDbGFzcyxvLmhpZGVDbGFzcyksb30pKGUsdCkpLE9iamVjdC5mcmVlemUoZSksSWUudGltZW91dCYmKEllLnRpbWVvdXQuc3RvcCgpLGRlbGV0ZSBJZS50aW1lb3V0KSxjbGVhclRpbWVvdXQoSWUucmVzdG9yZUZvY3VzVGltZW91dCk7dmFyIGEscixjLHQ9KGU9Pntjb25zdCB0PXtwb3B1cDp2KCksY29udGFpbmVyOmIoKSxhY3Rpb25zOkwoKSxjb25maXJtQnV0dG9uOngoKSxkZW55QnV0dG9uOkUoKSxjYW5jZWxCdXR0b246VCgpLGxvYWRlcjpTKCksY2xvc2VCdXR0b246RCgpLHZhbGlkYXRpb25NZXNzYWdlOkIoKSxwcm9ncmVzc1N0ZXBzOlAoKX07cmV0dXJuIGdlLmRvbUNhY2hlLnNldChlLHQpLHR9KSh0aGlzKTtyZXR1cm4gT2UodGhpcyxlKSxnZS5pbm5lclBhcmFtcy5zZXQodGhpcyxlKSxhPXRoaXMscj10LGM9ZSxuZXcgUHJvbWlzZSgoZSx0KT0+e2NvbnN0IG49ZT0+e2EuY2xvc2VQb3B1cCh7aXNEaXNtaXNzZWQ6ITAsZGlzbWlzczplfSl9O3ZhciBvLGkscztpdC5zd2FsUHJvbWlzZVJlc29sdmUuc2V0KGEsZSksaXQuc3dhbFByb21pc2VSZWplY3Quc2V0KGEsdCksci5jb25maXJtQnV0dG9uLm9uY2xpY2s9KCk9PihlPT57dmFyIHQ9Z2UuaW5uZXJQYXJhbXMuZ2V0KGUpO2UuZGlzYWJsZUJ1dHRvbnMoKSx0LmlucHV0P050KGUsImNvbmZpcm0iKTpXdChlLCEwKX0pKGEpLHIuZGVueUJ1dHRvbi5vbmNsaWNrPSgpPT4oZT0+e3ZhciB0PWdlLmlubmVyUGFyYW1zLmdldChlKTtlLmRpc2FibGVCdXR0b25zKCksdC5yZXR1cm5JbnB1dFZhbHVlT25EZW55P050KGUsImRlbnkiKTpGdChlLCExKX0pKGEpLHIuY2FuY2VsQnV0dG9uLm9uY2xpY2s9KCk9PigoZSx0KT0+e2UuZGlzYWJsZUJ1dHRvbnMoKSx0KGwuY2FuY2VsKX0pKGEsbiksci5jbG9zZUJ1dHRvbi5vbmNsaWNrPSgpPT5uKGwuY2xvc2UpLG89YSxlPXIsdD1uLGdlLmlubmVyUGFyYW1zLmdldChvKS50b2FzdD9RdChvLGUsdCk6KHRuKGUpLG5uKGUpLG9uKG8sZSx0KSksaT1hLGU9SWUsdD1jLHM9bixlLmtleWRvd25UYXJnZXQmJmUua2V5ZG93bkhhbmRsZXJBZGRlZCYmKGUua2V5ZG93blRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIixlLmtleWRvd25IYW5kbGVyLHtjYXB0dXJlOmUua2V5ZG93bkxpc3RlbmVyQ2FwdHVyZX0pLGUua2V5ZG93bkhhbmRsZXJBZGRlZD0hMSksdC50b2FzdHx8KGUua2V5ZG93bkhhbmRsZXI9ZT0+WnQoaSxlLHMpLGUua2V5ZG93blRhcmdldD10LmtleWRvd25MaXN0ZW5lckNhcHR1cmU/d2luZG93OnYoKSxlLmtleWRvd25MaXN0ZW5lckNhcHR1cmU9dC5rZXlkb3duTGlzdGVuZXJDYXB0dXJlLGUua2V5ZG93blRhcmdldC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIixlLmtleWRvd25IYW5kbGVyLHtjYXB0dXJlOmUua2V5ZG93bkxpc3RlbmVyQ2FwdHVyZX0pLGUua2V5ZG93bkhhbmRsZXJBZGRlZD0hMCksdD1hLCJzZWxlY3QiPT09KGU9YykuaW5wdXR8fCJyYWRpbyI9PT1lLmlucHV0P010KHQsZSk6WyJ0ZXh0IiwiZW1haWwiLCJudW1iZXIiLCJ0ZWwiLCJ0ZXh0YXJlYSJdLmluY2x1ZGVzKGUuaW5wdXQpJiYodShlLmlucHV0VmFsdWUpfHxwKGUuaW5wdXRWYWx1ZSkpJiYoRGUoeCgpKSxJdCh0LGUpKSx4dChjKSxzbihJZSxjLG4pLGFuKHIsYyksc2V0VGltZW91dCgoKT0+e3IuY29udGFpbmVyLnNjcm9sbFRvcD0wfSl9KX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXYoKSxuPWdlLmlubmVyUGFyYW1zLmdldCh0aGlzKTtpZighZXx8TihlLG4uaGlkZUNsYXNzLnBvcHVwKSlyZXR1cm4gYSgiWW91J3JlIHRyeWluZyB0byB1cGRhdGUgdGhlIGNsb3NlZCBvciBjbG9zaW5nIHBvcHVwLCB0aGF0IHdvbid0IHdvcmsuIFVzZSB0aGUgdXBkYXRlKCkgbWV0aG9kIGluIHByZUNvbmZpcm0gcGFyYW1ldGVyIG9yIHNob3cgYSBuZXcgcG9wdXAuIik7Y29uc3Qgbz17fTtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGU9Pnttbi5pc1VwZGF0YWJsZVBhcmFtZXRlcihlKT9vW2VdPXRbZV06YSgnSW52YWxpZCBwYXJhbWV0ZXIgdG8gdXBkYXRlOiAiJy5jb25jYXQoZSwnIi4gVXBkYXRhYmxlIHBhcmFtcyBhcmUgbGlzdGVkIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9zd2VldGFsZXJ0Mi9zd2VldGFsZXJ0Mi9ibG9iL21hc3Rlci9zcmMvdXRpbHMvcGFyYW1zLmpzXG5cbklmIHlvdSB0aGluayB0aGlzIHBhcmFtZXRlciBzaG91bGQgYmUgdXBkYXRhYmxlLCByZXF1ZXN0IGl0IGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9zd2VldGFsZXJ0Mi9zd2VldGFsZXJ0Mi9pc3N1ZXMvbmV3P3RlbXBsYXRlPTAyX2ZlYXR1cmVfcmVxdWVzdC5tZCcpKX0pLG49T2JqZWN0LmFzc2lnbih7fSxuLG8pLE9lKHRoaXMsbiksZ2UuaW5uZXJQYXJhbXMuc2V0KHRoaXMsbiksT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7cGFyYW1zOnt2YWx1ZTpPYmplY3QuYXNzaWduKHt9LHRoaXMucGFyYW1zLHQpLHdyaXRhYmxlOiExLGVudW1lcmFibGU6ITB9fSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU9Z2UuZG9tQ2FjaGUuZ2V0KHRoaXMpO2NvbnN0IHQ9Z2UuaW5uZXJQYXJhbXMuZ2V0KHRoaXMpO3Q/KGUucG9wdXAmJkllLnN3YWxDbG9zZUV2ZW50RmluaXNoZWRDYWxsYmFjayYmKEllLnN3YWxDbG9zZUV2ZW50RmluaXNoZWRDYWxsYmFjaygpLGRlbGV0ZSBJZS5zd2FsQ2xvc2VFdmVudEZpbmlzaGVkQ2FsbGJhY2spLEllLmRlZmVyRGlzcG9zYWxUaW1lciYmKGNsZWFyVGltZW91dChJZS5kZWZlckRpc3Bvc2FsVGltZXIpLGRlbGV0ZSBJZS5kZWZlckRpc3Bvc2FsVGltZXIpLCJmdW5jdGlvbiI9PXR5cGVvZiB0LmRpZERlc3Ryb3kmJnQuZGlkRGVzdHJveSgpLGU9dGhpcyxsbihlKSxkZWxldGUgZS5wYXJhbXMsZGVsZXRlIEllLmtleWRvd25IYW5kbGVyLGRlbGV0ZSBJZS5rZXlkb3duVGFyZ2V0LGRlbGV0ZSBJZS5jdXJyZW50SW5zdGFuY2UpOmxuKHRoaXMpfX0pO2xldCBkbjtjbGFzcyBwbntjb25zdHJ1Y3RvciguLi5lKXsidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmKGRuPXRoaXMsZT1PYmplY3QuZnJlZXplKHRoaXMuY29uc3RydWN0b3IuYXJnc1RvUGFyYW1zKGUpKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtwYXJhbXM6e3ZhbHVlOmUsd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZT10aGlzLl9tYWluKHRoaXMucGFyYW1zKSxnZS5wcm9taXNlLnNldCh0aGlzLGUpKX10aGVuKGUpe2NvbnN0IHQ9Z2UucHJvbWlzZS5nZXQodGhpcyk7cmV0dXJuIHQudGhlbihlKX1maW5hbGx5KGUpe2NvbnN0IHQ9Z2UucHJvbWlzZS5nZXQodGhpcyk7cmV0dXJuIHQuZmluYWxseShlKX19T2JqZWN0LmFzc2lnbihwbi5wcm90b3R5cGUsZSksT2JqZWN0LmFzc2lnbihwbixKZSksT2JqZWN0LmtleXMoZSkuZm9yRWFjaCh0PT57cG5bdF09ZnVuY3Rpb24oLi4uZSl7aWYoZG4pcmV0dXJuIGRuW3RdKC4uLmUpfX0pLHBuLkRpc21pc3NSZWFzb249bCxwbi52ZXJzaW9uPSIxMS4xLjkiO2NvbnN0IG1uPXBuO3JldHVybiBtbi5kZWZhdWx0PW1uLG1ufSksdm9pZCAwIT09dGhpcyYmdGhpcy5Td2VldGFsZXJ0MiYmKHRoaXMuc3dhbD10aGlzLnN3ZWV0QWxlcnQ9dGhpcy5Td2FsPXRoaXMuU3dlZXRBbGVydD10aGlzLlN3ZWV0YWxlcnQyKTsKInVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudCYmZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7aWYoZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKG4pLG4uc3R5bGVTaGVldCluLnN0eWxlU2hlZXQuZGlzYWJsZWR8fChuLnN0eWxlU2hlZXQuY3NzVGV4dD10KTtlbHNlIHRyeXtuLmlubmVySFRNTD10fWNhdGNoKGUpe24uaW5uZXJUZXh0PXR9fShkb2N1bWVudCwiLnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0e2JveC1zaXppbmc6Ym9yZGVyLWJveDtncmlkLWNvbHVtbjoxLzQhaW1wb3J0YW50O2dyaWQtcm93OjEvNCFpbXBvcnRhbnQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmciA5OWZyIDFmcjtwYWRkaW5nOjFlbTtvdmVyZmxvdy15OmhpZGRlbjtiYWNrZ3JvdW5kOiNmZmY7Ym94LXNoYWRvdzowIDAgMXB4IHJnYmEoMCwwLDAsLjA3NSksMCAxcHggMnB4IHJnYmEoMCwwLDAsLjA3NSksMXB4IDJweCA0cHggcmdiYSgwLDAsMCwuMDc1KSwxcHggM3B4IDhweCByZ2JhKDAsMCwwLC4wNzUpLDJweCA0cHggMTZweCByZ2JhKDAsMCwwLC4wNzUpO3BvaW50ZXItZXZlbnRzOmFsbH0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3Q+KntncmlkLWNvbHVtbjoyfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItdGl0bGV7bWFyZ2luOi41ZW0gMWVtO3BhZGRpbmc6MDtmb250LXNpemU6MWVtO3RleHQtYWxpZ246aW5pdGlhbH0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLWxvYWRpbmd7anVzdGlmeS1jb250ZW50OmNlbnRlcn0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLWlucHV0e2hlaWdodDoyZW07bWFyZ2luOi41ZW07Zm9udC1zaXplOjFlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXZhbGlkYXRpb24tbWVzc2FnZXtmb250LXNpemU6MWVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItZm9vdGVye21hcmdpbjouNWVtIDAgMDtwYWRkaW5nOi41ZW0gMCAwO2ZvbnQtc2l6ZTouOGVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItY2xvc2V7Z3JpZC1jb2x1bW46My8zO2dyaWQtcm93OjEvOTk7YWxpZ24tc2VsZjpjZW50ZXI7d2lkdGg6LjhlbTtoZWlnaHQ6LjhlbTttYXJnaW46MDtmb250LXNpemU6MmVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItaHRtbC1jb250YWluZXJ7bWFyZ2luOi41ZW0gMWVtO3BhZGRpbmc6MDtmb250LXNpemU6MWVtO3RleHQtYWxpZ246aW5pdGlhbH0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLWh0bWwtY29udGFpbmVyOmVtcHR5e3BhZGRpbmc6MH0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLWxvYWRlcntncmlkLWNvbHVtbjoxO2dyaWQtcm93OjEvOTk7YWxpZ24tc2VsZjpjZW50ZXI7d2lkdGg6MmVtO2hlaWdodDoyZW07bWFyZ2luOi4yNWVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItaWNvbntncmlkLWNvbHVtbjoxO2dyaWQtcm93OjEvOTk7YWxpZ24tc2VsZjpjZW50ZXI7d2lkdGg6MmVtO21pbi13aWR0aDoyZW07aGVpZ2h0OjJlbTttYXJnaW46MCAuNWVtIDAgMH0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLWljb24gLnN3YWwyLWljb24tY29udGVudHtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2ZvbnQtc2l6ZToxLjhlbTtmb250LXdlaWdodDo3MDB9LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0IC5zd2FsMi1pY29uLnN3YWwyLXN1Y2Nlc3MgLnN3YWwyLXN1Y2Nlc3MtcmluZ3t3aWR0aDoyZW07aGVpZ2h0OjJlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLWljb24uc3dhbDItZXJyb3IgW2NsYXNzXj1zd2FsMi14LW1hcmstbGluZV17dG9wOi44NzVlbTt3aWR0aDoxLjM3NWVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItaWNvbi5zd2FsMi1lcnJvciBbY2xhc3NePXN3YWwyLXgtbWFyay1saW5lXVtjbGFzcyQ9bGVmdF17bGVmdDouMzEyNWVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItaWNvbi5zd2FsMi1lcnJvciBbY2xhc3NePXN3YWwyLXgtbWFyay1saW5lXVtjbGFzcyQ9cmlnaHRde3JpZ2h0Oi4zMTI1ZW19LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0IC5zd2FsMi1hY3Rpb25ze2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0O2hlaWdodDphdXRvO21hcmdpbjowO21hcmdpbi10b3A6LjVlbTtwYWRkaW5nOjAgLjVlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN0eWxlZHttYXJnaW46LjI1ZW0gLjVlbTtwYWRkaW5nOi40ZW0gLjZlbTtmb250LXNpemU6MWVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItc3VjY2Vzc3tib3JkZXItY29sb3I6I2E1ZGM4Nn0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3MgW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmVde3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEuNmVtO2hlaWdodDozZW07dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7Ym9yZGVyLXJhZGl1czo1MCV9LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0IC5zd2FsMi1zdWNjZXNzIFtjbGFzc149c3dhbDItc3VjY2Vzcy1jaXJjdWxhci1saW5lXVtjbGFzcyQ9bGVmdF17dG9wOi0uOGVtO2xlZnQ6LS41ZW07dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybS1vcmlnaW46MmVtIDJlbTtib3JkZXItcmFkaXVzOjRlbSAwIDAgNGVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItc3VjY2VzcyBbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtY2lyY3VsYXItbGluZV1bY2xhc3MkPXJpZ2h0XXt0b3A6LS4yNWVtO2xlZnQ6LjkzNzVlbTt0cmFuc2Zvcm0tb3JpZ2luOjAgMS41ZW07Ym9yZGVyLXJhZGl1czowIDRlbSA0ZW0gMH0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3MgLnN3YWwyLXN1Y2Nlc3MtcmluZ3t3aWR0aDoyZW07aGVpZ2h0OjJlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3MgLnN3YWwyLXN1Y2Nlc3MtZml4e3RvcDowO2xlZnQ6LjQzNzVlbTt3aWR0aDouNDM3NWVtO2hlaWdodDoyLjY4NzVlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3MgW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWxpbmVde2hlaWdodDouMzEyNWVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItc3VjY2VzcyBbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtbGluZV1bY2xhc3MkPXRpcF17dG9wOjEuMTI1ZW07bGVmdDouMTg3NWVtO3dpZHRoOi43NWVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItc3VjY2VzcyBbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtbGluZV1bY2xhc3MkPWxvbmdde3RvcDouOTM3NWVtO3JpZ2h0Oi4xODc1ZW07d2lkdGg6MS4zNzVlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3Muc3dhbDItaWNvbi1zaG93IC5zd2FsMi1zdWNjZXNzLWxpbmUtdGlwey13ZWJraXQtYW5pbWF0aW9uOnN3YWwyLXRvYXN0LWFuaW1hdGUtc3VjY2Vzcy1saW5lLXRpcCAuNzVzO2FuaW1hdGlvbjpzd2FsMi10b2FzdC1hbmltYXRlLXN1Y2Nlc3MtbGluZS10aXAgLjc1c30uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3Muc3dhbDItaWNvbi1zaG93IC5zd2FsMi1zdWNjZXNzLWxpbmUtbG9uZ3std2Via2l0LWFuaW1hdGlvbjpzd2FsMi10b2FzdC1hbmltYXRlLXN1Y2Nlc3MtbGluZS1sb25nIC43NXM7YW5pbWF0aW9uOnN3YWwyLXRvYXN0LWFuaW1hdGUtc3VjY2Vzcy1saW5lLWxvbmcgLjc1c30uc3dhbDItcG9wdXAuc3dhbDItdG9hc3Quc3dhbDItc2hvd3std2Via2l0LWFuaW1hdGlvbjpzd2FsMi10b2FzdC1zaG93IC41czthbmltYXRpb246c3dhbDItdG9hc3Qtc2hvdyAuNXN9LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0LnN3YWwyLWhpZGV7LXdlYmtpdC1hbmltYXRpb246c3dhbDItdG9hc3QtaGlkZSAuMXMgZm9yd2FyZHM7YW5pbWF0aW9uOnN3YWwyLXRvYXN0LWhpZGUgLjFzIGZvcndhcmRzfS5zd2FsMi1jb250YWluZXJ7ZGlzcGxheTpncmlkO3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6MTA2MDt0b3A6MDtyaWdodDowO2JvdHRvbTowO2xlZnQ6MDtib3gtc2l6aW5nOmJvcmRlci1ib3g7Z3JpZC10ZW1wbGF0ZS1hcmVhczpcInRvcC1zdGFydCAgICAgdG9wICAgICAgICAgICAgdG9wLWVuZFwiIFwiY2VudGVyLXN0YXJ0ICBjZW50ZXIgICAgICAgICBjZW50ZXItZW5kXCIgXCJib3R0b20tc3RhcnQgIGJvdHRvbS1jZW50ZXIgIGJvdHRvbS1lbmRcIjtncmlkLXRlbXBsYXRlLXJvd3M6bWlubWF4KC13ZWJraXQtbWluLWNvbnRlbnQsYXV0bykgbWlubWF4KC13ZWJraXQtbWluLWNvbnRlbnQsYXV0bykgbWlubWF4KC13ZWJraXQtbWluLWNvbnRlbnQsYXV0byk7Z3JpZC10ZW1wbGF0ZS1yb3dzOm1pbm1heChtaW4tY29udGVudCxhdXRvKSBtaW5tYXgobWluLWNvbnRlbnQsYXV0bykgbWlubWF4KG1pbi1jb250ZW50LGF1dG8pO2hlaWdodDoxMDAlO3BhZGRpbmc6LjYyNWVtO292ZXJmbG93LXg6aGlkZGVuO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMXM7LXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6dG91Y2h9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1iYWNrZHJvcC1zaG93LC5zd2FsMi1jb250YWluZXIuc3dhbDItbm9hbmltYXRpb257YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC40KX0uc3dhbDItY29udGFpbmVyLnN3YWwyLWJhY2tkcm9wLWhpZGV7YmFja2dyb3VuZDowIDAhaW1wb3J0YW50fS5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLXN0YXJ0LC5zd2FsMi1jb250YWluZXIuc3dhbDItY2VudGVyLXN0YXJ0LC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wLXN0YXJ0e2dyaWQtdGVtcGxhdGUtY29sdW1uczptaW5tYXgoMCwxZnIpIGF1dG8gYXV0b30uc3dhbDItY29udGFpbmVyLnN3YWwyLWJvdHRvbSwuc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlciwuc3dhbDItY29udGFpbmVyLnN3YWwyLXRvcHtncmlkLXRlbXBsYXRlLWNvbHVtbnM6YXV0byBtaW5tYXgoMCwxZnIpIGF1dG99LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tZW5kLC5zd2FsMi1jb250YWluZXIuc3dhbDItY2VudGVyLWVuZCwuc3dhbDItY29udGFpbmVyLnN3YWwyLXRvcC1lbmR7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOmF1dG8gYXV0byBtaW5tYXgoMCwxZnIpfS5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wLXN0YXJ0Pi5zd2FsMi1wb3B1cHthbGlnbi1zZWxmOnN0YXJ0fS5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wPi5zd2FsMi1wb3B1cHtncmlkLWNvbHVtbjoyO2FsaWduLXNlbGY6c3RhcnQ7anVzdGlmeS1zZWxmOmNlbnRlcn0uc3dhbDItY29udGFpbmVyLnN3YWwyLXRvcC1lbmQ+LnN3YWwyLXBvcHVwLC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wLXJpZ2h0Pi5zd2FsMi1wb3B1cHtncmlkLWNvbHVtbjozO2FsaWduLXNlbGY6c3RhcnQ7anVzdGlmeS1zZWxmOmVuZH0uc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlci1sZWZ0Pi5zd2FsMi1wb3B1cCwuc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlci1zdGFydD4uc3dhbDItcG9wdXB7Z3JpZC1yb3c6MjthbGlnbi1zZWxmOmNlbnRlcn0uc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlcj4uc3dhbDItcG9wdXB7Z3JpZC1jb2x1bW46MjtncmlkLXJvdzoyO2FsaWduLXNlbGY6Y2VudGVyO2p1c3RpZnktc2VsZjpjZW50ZXJ9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1jZW50ZXItZW5kPi5zd2FsMi1wb3B1cCwuc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlci1yaWdodD4uc3dhbDItcG9wdXB7Z3JpZC1jb2x1bW46MztncmlkLXJvdzoyO2FsaWduLXNlbGY6Y2VudGVyO2p1c3RpZnktc2VsZjplbmR9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tbGVmdD4uc3dhbDItcG9wdXAsLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tc3RhcnQ+LnN3YWwyLXBvcHVwe2dyaWQtY29sdW1uOjE7Z3JpZC1yb3c6MzthbGlnbi1zZWxmOmVuZH0uc3dhbDItY29udGFpbmVyLnN3YWwyLWJvdHRvbT4uc3dhbDItcG9wdXB7Z3JpZC1jb2x1bW46MjtncmlkLXJvdzozO2p1c3RpZnktc2VsZjpjZW50ZXI7YWxpZ24tc2VsZjplbmR9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tZW5kPi5zd2FsMi1wb3B1cCwuc3dhbDItY29udGFpbmVyLnN3YWwyLWJvdHRvbS1yaWdodD4uc3dhbDItcG9wdXB7Z3JpZC1jb2x1bW46MztncmlkLXJvdzozO2FsaWduLXNlbGY6ZW5kO2p1c3RpZnktc2VsZjplbmR9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ncm93LWZ1bGxzY3JlZW4+LnN3YWwyLXBvcHVwLC5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1yb3c+LnN3YWwyLXBvcHVwe2dyaWQtY29sdW1uOjEvNDt3aWR0aDoxMDAlfS5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1jb2x1bW4+LnN3YWwyLXBvcHVwLC5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1mdWxsc2NyZWVuPi5zd2FsMi1wb3B1cHtncmlkLXJvdzoxLzQ7YWxpZ24tc2VsZjpzdHJldGNofS5zd2FsMi1jb250YWluZXIuc3dhbDItbm8tdHJhbnNpdGlvbnt0cmFuc2l0aW9uOm5vbmUhaW1wb3J0YW50fS5zd2FsMi1wb3B1cHtkaXNwbGF5Om5vbmU7cG9zaXRpb246cmVsYXRpdmU7Ym94LXNpemluZzpib3JkZXItYm94O2dyaWQtdGVtcGxhdGUtY29sdW1uczptaW5tYXgoMCwxMDAlKTt3aWR0aDozMmVtO21heC13aWR0aDoxMDAlO3BhZGRpbmc6MCAwIDEuMjVlbTtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjVweDtiYWNrZ3JvdW5kOiNmZmY7Y29sb3I6IzU0NTQ1NDtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZToxcmVtfS5zd2FsMi1wb3B1cDpmb2N1c3tvdXRsaW5lOjB9LnN3YWwyLXBvcHVwLnN3YWwyLWxvYWRpbmd7b3ZlcmZsb3cteTpoaWRkZW59LnN3YWwyLXRpdGxle3Bvc2l0aW9uOnJlbGF0aXZlO21heC13aWR0aDoxMDAlO21hcmdpbjowO3BhZGRpbmc6LjhlbSAxZW0gMDtjb2xvcjojNTk1OTU5O2ZvbnQtc2l6ZToxLjg3NWVtO2ZvbnQtd2VpZ2h0OjYwMDt0ZXh0LWFsaWduOmNlbnRlcjt0ZXh0LXRyYW5zZm9ybTpub25lO3dvcmQtd3JhcDpicmVhay13b3JkfS5zd2FsMi1hY3Rpb25ze2Rpc3BsYXk6ZmxleDt6LWluZGV4OjE7Ym94LXNpemluZzpib3JkZXItYm94O2ZsZXgtd3JhcDp3cmFwO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOmF1dG87bWFyZ2luOjEuMjVlbSBhdXRvIDA7cGFkZGluZzowfS5zd2FsMi1hY3Rpb25zOm5vdCguc3dhbDItbG9hZGluZykgLnN3YWwyLXN0eWxlZFtkaXNhYmxlZF17b3BhY2l0eTouNH0uc3dhbDItYWN0aW9uczpub3QoLnN3YWwyLWxvYWRpbmcpIC5zd2FsMi1zdHlsZWQ6aG92ZXJ7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQocmdiYSgwLDAsMCwuMSkscmdiYSgwLDAsMCwuMSkpfS5zd2FsMi1hY3Rpb25zOm5vdCguc3dhbDItbG9hZGluZykgLnN3YWwyLXN0eWxlZDphY3RpdmV7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQocmdiYSgwLDAsMCwuMikscmdiYSgwLDAsMCwuMikpfS5zd2FsMi1sb2FkZXJ7ZGlzcGxheTpub25lO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjIuMmVtO2hlaWdodDoyLjJlbTttYXJnaW46MCAxLjg3NWVtOy13ZWJraXQtYW5pbWF0aW9uOnN3YWwyLXJvdGF0ZS1sb2FkaW5nIDEuNXMgbGluZWFyIDBzIGluZmluaXRlIG5vcm1hbDthbmltYXRpb246c3dhbDItcm90YXRlLWxvYWRpbmcgMS41cyBsaW5lYXIgMHMgaW5maW5pdGUgbm9ybWFsO2JvcmRlci13aWR0aDouMjVlbTtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLXJhZGl1czoxMDAlO2JvcmRlci1jb2xvcjojMjc3OGM0IHRyYW5zcGFyZW50ICMyNzc4YzQgdHJhbnNwYXJlbnR9LnN3YWwyLXN0eWxlZHttYXJnaW46LjMxMjVlbTtwYWRkaW5nOi42MjVlbSAxLjFlbTt0cmFuc2l0aW9uOmJveC1zaGFkb3cgLjFzO2JveC1zaGFkb3c6MCAwIDAgM3B4IHRyYW5zcGFyZW50O2ZvbnQtd2VpZ2h0OjUwMH0uc3dhbDItc3R5bGVkOm5vdChbZGlzYWJsZWRdKXtjdXJzb3I6cG9pbnRlcn0uc3dhbDItc3R5bGVkLnN3YWwyLWNvbmZpcm17Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czouMjVlbTtiYWNrZ3JvdW5kOmluaXRpYWw7YmFja2dyb3VuZC1jb2xvcjojNzM2N2YwO2NvbG9yOiNmZmY7Zm9udC1zaXplOjFlbX0uc3dhbDItc3R5bGVkLnN3YWwyLWNvbmZpcm06Zm9jdXN7Ym94LXNoYWRvdzowIDAgMCAzcHggcmdiYSgxMTUsMTAzLDI0MCwuNSl9LnN3YWwyLXN0eWxlZC5zd2FsMi1kZW55e2JvcmRlcjowO2JvcmRlci1yYWRpdXM6LjI1ZW07YmFja2dyb3VuZDppbml0aWFsO2JhY2tncm91bmQtY29sb3I6I2VhNTQ1NTtjb2xvcjojZmZmO2ZvbnQtc2l6ZToxZW19LnN3YWwyLXN0eWxlZC5zd2FsMi1kZW55OmZvY3Vze2JveC1zaGFkb3c6MCAwIDAgM3B4IHJnYmEoMjM0LDg0LDg1LC41KX0uc3dhbDItc3R5bGVkLnN3YWwyLWNhbmNlbHtib3JkZXI6MDtib3JkZXItcmFkaXVzOi4yNWVtO2JhY2tncm91bmQ6aW5pdGlhbDtiYWNrZ3JvdW5kLWNvbG9yOiM2ZTdkODg7Y29sb3I6I2ZmZjtmb250LXNpemU6MWVtfS5zd2FsMi1zdHlsZWQuc3dhbDItY2FuY2VsOmZvY3Vze2JveC1zaGFkb3c6MCAwIDAgM3B4IHJnYmEoMTEwLDEyNSwxMzYsLjUpfS5zd2FsMi1zdHlsZWQuc3dhbDItZGVmYXVsdC1vdXRsaW5lOmZvY3Vze2JveC1zaGFkb3c6MCAwIDAgM3B4IHJnYmEoMTAwLDE1MCwyMDAsLjUpfS5zd2FsMi1zdHlsZWQ6Zm9jdXN7b3V0bGluZTowfS5zd2FsMi1zdHlsZWQ6Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyOjB9LnN3YWwyLWZvb3RlcntqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO21hcmdpbjoxZW0gMCAwO3BhZGRpbmc6MWVtIDFlbSAwO2JvcmRlci10b3A6MXB4IHNvbGlkICNlZWU7Y29sb3I6IzU0NTQ1NDtmb250LXNpemU6MWVtfS5zd2FsMi10aW1lci1wcm9ncmVzcy1iYXItY29udGFpbmVye3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7Ym90dG9tOjA7bGVmdDowO2dyaWQtY29sdW1uOmF1dG8haW1wb3J0YW50O2hlaWdodDouMjVlbTtvdmVyZmxvdzpoaWRkZW47Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6NXB4O2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6NXB4fS5zd2FsMi10aW1lci1wcm9ncmVzcy1iYXJ7d2lkdGg6MTAwJTtoZWlnaHQ6LjI1ZW07YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4yKX0uc3dhbDItaW1hZ2V7bWF4LXdpZHRoOjEwMCU7bWFyZ2luOjJlbSBhdXRvIDFlbX0uc3dhbDItY2xvc2V7ei1pbmRleDoyO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjEuMmVtO2hlaWdodDoxLjJlbTttYXJnaW4tdG9wOjA7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLWJvdHRvbTotMS4yZW07cGFkZGluZzowO292ZXJmbG93OmhpZGRlbjt0cmFuc2l0aW9uOmNvbG9yIC4xcyxib3gtc2hhZG93IC4xcztib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjVweDtiYWNrZ3JvdW5kOjAgMDtjb2xvcjojY2NjO2ZvbnQtZmFtaWx5OnNlcmlmO2ZvbnQtZmFtaWx5Om1vbm9zcGFjZTtmb250LXNpemU6Mi41ZW07Y3Vyc29yOnBvaW50ZXI7anVzdGlmeS1zZWxmOmVuZH0uc3dhbDItY2xvc2U6aG92ZXJ7dHJhbnNmb3JtOm5vbmU7YmFja2dyb3VuZDowIDA7Y29sb3I6I2YyNzQ3NH0uc3dhbDItY2xvc2U6Zm9jdXN7b3V0bGluZTowO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgM3B4IHJnYmEoMTAwLDE1MCwyMDAsLjUpfS5zd2FsMi1jbG9zZTo6LW1vei1mb2N1cy1pbm5lcntib3JkZXI6MH0uc3dhbDItaHRtbC1jb250YWluZXJ7ei1pbmRleDoxO2p1c3RpZnktY29udGVudDpjZW50ZXI7bWFyZ2luOjFlbSAxLjZlbSAuM2VtO3BhZGRpbmc6MDtvdmVyZmxvdzphdXRvO2NvbG9yOiM1NDU0NTQ7Zm9udC1zaXplOjEuMTI1ZW07Zm9udC13ZWlnaHQ6NDAwO2xpbmUtaGVpZ2h0Om5vcm1hbDt0ZXh0LWFsaWduOmNlbnRlcjt3b3JkLXdyYXA6YnJlYWstd29yZDt3b3JkLWJyZWFrOmJyZWFrLXdvcmR9LnN3YWwyLWNoZWNrYm94LC5zd2FsMi1maWxlLC5zd2FsMi1pbnB1dCwuc3dhbDItcmFkaW8sLnN3YWwyLXNlbGVjdCwuc3dhbDItdGV4dGFyZWF7bWFyZ2luOjFlbSAyZW0gMH0uc3dhbDItZmlsZSwuc3dhbDItaW5wdXQsLnN3YWwyLXRleHRhcmVhe2JveC1zaXppbmc6Ym9yZGVyLWJveDt3aWR0aDphdXRvO3RyYW5zaXRpb246Ym9yZGVyLWNvbG9yIC4xcyxib3gtc2hhZG93IC4xcztib3JkZXI6MXB4IHNvbGlkICNkOWQ5ZDk7Ym9yZGVyLXJhZGl1czouMTg3NWVtO2JhY2tncm91bmQ6aW5oZXJpdDtib3gtc2hhZG93Omluc2V0IDAgMXB4IDFweCByZ2JhKDAsMCwwLC4wNiksMCAwIDAgM3B4IHRyYW5zcGFyZW50O2NvbG9yOmluaGVyaXQ7Zm9udC1zaXplOjEuMTI1ZW19LnN3YWwyLWZpbGUuc3dhbDItaW5wdXRlcnJvciwuc3dhbDItaW5wdXQuc3dhbDItaW5wdXRlcnJvciwuc3dhbDItdGV4dGFyZWEuc3dhbDItaW5wdXRlcnJvcntib3JkZXItY29sb3I6I2YyNzQ3NCFpbXBvcnRhbnQ7Ym94LXNoYWRvdzowIDAgMnB4ICNmMjc0NzQhaW1wb3J0YW50fS5zd2FsMi1maWxlOmZvY3VzLC5zd2FsMi1pbnB1dDpmb2N1cywuc3dhbDItdGV4dGFyZWE6Zm9jdXN7Ym9yZGVyOjFweCBzb2xpZCAjYjRkYmVkO291dGxpbmU6MDtib3gtc2hhZG93Omluc2V0IDAgMXB4IDFweCByZ2JhKDAsMCwwLC4wNiksMCAwIDAgM3B4IHJnYmEoMTAwLDE1MCwyMDAsLjUpfS5zd2FsMi1maWxlOjotbW96LXBsYWNlaG9sZGVyLC5zd2FsMi1pbnB1dDo6LW1vei1wbGFjZWhvbGRlciwuc3dhbDItdGV4dGFyZWE6Oi1tb3otcGxhY2Vob2xkZXJ7Y29sb3I6I2NjY30uc3dhbDItZmlsZTotbXMtaW5wdXQtcGxhY2Vob2xkZXIsLnN3YWwyLWlucHV0Oi1tcy1pbnB1dC1wbGFjZWhvbGRlciwuc3dhbDItdGV4dGFyZWE6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiNjY2N9LnN3YWwyLWZpbGU6OnBsYWNlaG9sZGVyLC5zd2FsMi1pbnB1dDo6cGxhY2Vob2xkZXIsLnN3YWwyLXRleHRhcmVhOjpwbGFjZWhvbGRlcntjb2xvcjojY2NjfS5zd2FsMi1yYW5nZXttYXJnaW46MWVtIDJlbSAwO2JhY2tncm91bmQ6I2ZmZn0uc3dhbDItcmFuZ2UgaW5wdXR7d2lkdGg6ODAlfS5zd2FsMi1yYW5nZSBvdXRwdXR7d2lkdGg6MjAlO2NvbG9yOmluaGVyaXQ7Zm9udC13ZWlnaHQ6NjAwO3RleHQtYWxpZ246Y2VudGVyfS5zd2FsMi1yYW5nZSBpbnB1dCwuc3dhbDItcmFuZ2Ugb3V0cHV0e2hlaWdodDoyLjYyNWVtO3BhZGRpbmc6MDtmb250LXNpemU6MS4xMjVlbTtsaW5lLWhlaWdodDoyLjYyNWVtfS5zd2FsMi1pbnB1dHtoZWlnaHQ6Mi42MjVlbTtwYWRkaW5nOjAgLjc1ZW19LnN3YWwyLWZpbGV7d2lkdGg6NzUlO21hcmdpbi1yaWdodDphdXRvO21hcmdpbi1sZWZ0OmF1dG87YmFja2dyb3VuZDppbmhlcml0O2ZvbnQtc2l6ZToxLjEyNWVtfS5zd2FsMi10ZXh0YXJlYXtoZWlnaHQ6Ni43NWVtO3BhZGRpbmc6Ljc1ZW19LnN3YWwyLXNlbGVjdHttaW4td2lkdGg6NTAlO21heC13aWR0aDoxMDAlO3BhZGRpbmc6LjM3NWVtIC42MjVlbTtiYWNrZ3JvdW5kOmluaGVyaXQ7Y29sb3I6aW5oZXJpdDtmb250LXNpemU6MS4xMjVlbX0uc3dhbDItY2hlY2tib3gsLnN3YWwyLXJhZGlve2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2JhY2tncm91bmQ6I2ZmZjtjb2xvcjppbmhlcml0fS5zd2FsMi1jaGVja2JveCBsYWJlbCwuc3dhbDItcmFkaW8gbGFiZWx7bWFyZ2luOjAgLjZlbTtmb250LXNpemU6MS4xMjVlbX0uc3dhbDItY2hlY2tib3ggaW5wdXQsLnN3YWwyLXJhZGlvIGlucHV0e2ZsZXgtc2hyaW5rOjA7bWFyZ2luOjAgLjRlbX0uc3dhbDItaW5wdXQtbGFiZWx7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7bWFyZ2luOjFlbSBhdXRvIDB9LnN3YWwyLXZhbGlkYXRpb24tbWVzc2FnZXthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjttYXJnaW46MWVtIDAgMDtwYWRkaW5nOi42MjVlbTtvdmVyZmxvdzpoaWRkZW47YmFja2dyb3VuZDojZjBmMGYwO2NvbG9yOiM2NjY7Zm9udC1zaXplOjFlbTtmb250LXdlaWdodDozMDB9LnN3YWwyLXZhbGlkYXRpb24tbWVzc2FnZTo6YmVmb3Jle2NvbnRlbnQ6XCIhXCI7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MS41ZW07bWluLXdpZHRoOjEuNWVtO2hlaWdodDoxLjVlbTttYXJnaW46MCAuNjI1ZW07Ym9yZGVyLXJhZGl1czo1MCU7YmFja2dyb3VuZC1jb2xvcjojZjI3NDc0O2NvbG9yOiNmZmY7Zm9udC13ZWlnaHQ6NjAwO2xpbmUtaGVpZ2h0OjEuNWVtO3RleHQtYWxpZ246Y2VudGVyfS5zd2FsMi1pY29ue3Bvc2l0aW9uOnJlbGF0aXZlO2JveC1zaXppbmc6Y29udGVudC1ib3g7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDo1ZW07aGVpZ2h0OjVlbTttYXJnaW46Mi41ZW0gYXV0byAuNmVtO2JvcmRlcjouMjVlbSBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItcmFkaXVzOjUwJTtib3JkZXItY29sb3I6IzAwMDtmb250LWZhbWlseTppbmhlcml0O2xpbmUtaGVpZ2h0OjVlbTtjdXJzb3I6ZGVmYXVsdDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LnN3YWwyLWljb24gLnN3YWwyLWljb24tY29udGVudHtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2ZvbnQtc2l6ZTozLjc1ZW19LnN3YWwyLWljb24uc3dhbDItZXJyb3J7Ym9yZGVyLWNvbG9yOiNmMjc0NzQ7Y29sb3I6I2YyNzQ3NH0uc3dhbDItaWNvbi5zd2FsMi1lcnJvciAuc3dhbDIteC1tYXJre3Bvc2l0aW9uOnJlbGF0aXZlO2ZsZXgtZ3JvdzoxfS5zd2FsMi1pY29uLnN3YWwyLWVycm9yIFtjbGFzc149c3dhbDIteC1tYXJrLWxpbmVde2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7dG9wOjIuMzEyNWVtO3dpZHRoOjIuOTM3NWVtO2hlaWdodDouMzEyNWVtO2JvcmRlci1yYWRpdXM6LjEyNWVtO2JhY2tncm91bmQtY29sb3I6I2YyNzQ3NH0uc3dhbDItaWNvbi5zd2FsMi1lcnJvciBbY2xhc3NePXN3YWwyLXgtbWFyay1saW5lXVtjbGFzcyQ9bGVmdF17bGVmdDoxLjA2MjVlbTt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKX0uc3dhbDItaWNvbi5zd2FsMi1lcnJvciBbY2xhc3NePXN3YWwyLXgtbWFyay1saW5lXVtjbGFzcyQ9cmlnaHRde3JpZ2h0OjFlbTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9LnN3YWwyLWljb24uc3dhbDItZXJyb3Iuc3dhbDItaWNvbi1zaG93ey13ZWJraXQtYW5pbWF0aW9uOnN3YWwyLWFuaW1hdGUtZXJyb3ItaWNvbiAuNXM7YW5pbWF0aW9uOnN3YWwyLWFuaW1hdGUtZXJyb3ItaWNvbiAuNXN9LnN3YWwyLWljb24uc3dhbDItZXJyb3Iuc3dhbDItaWNvbi1zaG93IC5zd2FsMi14LW1hcmt7LXdlYmtpdC1hbmltYXRpb246c3dhbDItYW5pbWF0ZS1lcnJvci14LW1hcmsgLjVzO2FuaW1hdGlvbjpzd2FsMi1hbmltYXRlLWVycm9yLXgtbWFyayAuNXN9LnN3YWwyLWljb24uc3dhbDItd2FybmluZ3tib3JkZXItY29sb3I6I2ZhY2VhODtjb2xvcjojZjhiYjg2fS5zd2FsMi1pY29uLnN3YWwyLWluZm97Ym9yZGVyLWNvbG9yOiM5ZGUwZjY7Y29sb3I6IzNmYzNlZX0uc3dhbDItaWNvbi5zd2FsMi1xdWVzdGlvbntib3JkZXItY29sb3I6I2M5ZGFlMTtjb2xvcjojODdhZGJkfS5zd2FsMi1pY29uLnN3YWwyLXN1Y2Nlc3N7Ym9yZGVyLWNvbG9yOiNhNWRjODY7Y29sb3I6I2E1ZGM4Nn0uc3dhbDItaWNvbi5zd2FsMi1zdWNjZXNzIFtjbGFzc149c3dhbDItc3VjY2Vzcy1jaXJjdWxhci1saW5lXXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDozLjc1ZW07aGVpZ2h0OjcuNWVtO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO2JvcmRlci1yYWRpdXM6NTAlfS5zd2FsMi1pY29uLnN3YWwyLXN1Y2Nlc3MgW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmVdW2NsYXNzJD1sZWZ0XXt0b3A6LS40Mzc1ZW07bGVmdDotMi4wNjM1ZW07dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybS1vcmlnaW46My43NWVtIDMuNzVlbTtib3JkZXItcmFkaXVzOjcuNWVtIDAgMCA3LjVlbX0uc3dhbDItaWNvbi5zd2FsMi1zdWNjZXNzIFtjbGFzc149c3dhbDItc3VjY2Vzcy1jaXJjdWxhci1saW5lXVtjbGFzcyQ9cmlnaHRde3RvcDotLjY4NzVlbTtsZWZ0OjEuODc1ZW07dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybS1vcmlnaW46MCAzLjc1ZW07Ym9yZGVyLXJhZGl1czowIDcuNWVtIDcuNWVtIDB9LnN3YWwyLWljb24uc3dhbDItc3VjY2VzcyAuc3dhbDItc3VjY2Vzcy1yaW5ne3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6Mjt0b3A6LS4yNWVtO2xlZnQ6LS4yNWVtO2JveC1zaXppbmc6Y29udGVudC1ib3g7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtib3JkZXI6LjI1ZW0gc29saWQgcmdiYSgxNjUsMjIwLDEzNCwuMyk7Ym9yZGVyLXJhZGl1czo1MCV9LnN3YWwyLWljb24uc3dhbDItc3VjY2VzcyAuc3dhbDItc3VjY2Vzcy1maXh7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxO3RvcDouNWVtO2xlZnQ6MS42MjVlbTt3aWR0aDouNDM3NWVtO2hlaWdodDo1LjYyNWVtO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX0uc3dhbDItaWNvbi5zd2FsMi1zdWNjZXNzIFtjbGFzc149c3dhbDItc3VjY2Vzcy1saW5lXXtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MjtoZWlnaHQ6LjMxMjVlbTtib3JkZXItcmFkaXVzOi4xMjVlbTtiYWNrZ3JvdW5kLWNvbG9yOiNhNWRjODZ9LnN3YWwyLWljb24uc3dhbDItc3VjY2VzcyBbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtbGluZV1bY2xhc3MkPXRpcF17dG9wOjIuODc1ZW07bGVmdDouODEyNWVtO3dpZHRoOjEuNTYyNWVtO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfS5zd2FsMi1pY29uLnN3YWwyLXN1Y2Nlc3MgW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWxpbmVdW2NsYXNzJD1sb25nXXt0b3A6Mi4zNzVlbTtyaWdodDouNWVtO3dpZHRoOjIuOTM3NWVtO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX0uc3dhbDItaWNvbi5zd2FsMi1zdWNjZXNzLnN3YWwyLWljb24tc2hvdyAuc3dhbDItc3VjY2Vzcy1saW5lLXRpcHstd2Via2l0LWFuaW1hdGlvbjpzd2FsMi1hbmltYXRlLXN1Y2Nlc3MtbGluZS10aXAgLjc1czthbmltYXRpb246c3dhbDItYW5pbWF0ZS1zdWNjZXNzLWxpbmUtdGlwIC43NXN9LnN3YWwyLWljb24uc3dhbDItc3VjY2Vzcy5zd2FsMi1pY29uLXNob3cgLnN3YWwyLXN1Y2Nlc3MtbGluZS1sb25ney13ZWJraXQtYW5pbWF0aW9uOnN3YWwyLWFuaW1hdGUtc3VjY2Vzcy1saW5lLWxvbmcgLjc1czthbmltYXRpb246c3dhbDItYW5pbWF0ZS1zdWNjZXNzLWxpbmUtbG9uZyAuNzVzfS5zd2FsMi1pY29uLnN3YWwyLXN1Y2Nlc3Muc3dhbDItaWNvbi1zaG93IC5zd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmUtcmlnaHR7LXdlYmtpdC1hbmltYXRpb246c3dhbDItcm90YXRlLXN1Y2Nlc3MtY2lyY3VsYXItbGluZSA0LjI1cyBlYXNlLWluO2FuaW1hdGlvbjpzd2FsMi1yb3RhdGUtc3VjY2Vzcy1jaXJjdWxhci1saW5lIDQuMjVzIGVhc2UtaW59LnN3YWwyLXByb2dyZXNzLXN0ZXBze2ZsZXgtd3JhcDp3cmFwO2FsaWduLWl0ZW1zOmNlbnRlcjttYXgtd2lkdGg6MTAwJTttYXJnaW46MS4yNWVtIGF1dG87cGFkZGluZzowO2JhY2tncm91bmQ6aW5oZXJpdDtmb250LXdlaWdodDo2MDB9LnN3YWwyLXByb2dyZXNzLXN0ZXBzIGxpe2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlfS5zd2FsMi1wcm9ncmVzcy1zdGVwcyAuc3dhbDItcHJvZ3Jlc3Mtc3RlcHt6LWluZGV4OjIwO2ZsZXgtc2hyaW5rOjA7d2lkdGg6MmVtO2hlaWdodDoyZW07Ym9yZGVyLXJhZGl1czoyZW07YmFja2dyb3VuZDojMjc3OGM0O2NvbG9yOiNmZmY7bGluZS1oZWlnaHQ6MmVtO3RleHQtYWxpZ246Y2VudGVyfS5zd2FsMi1wcm9ncmVzcy1zdGVwcyAuc3dhbDItcHJvZ3Jlc3Mtc3RlcC5zd2FsMi1hY3RpdmUtcHJvZ3Jlc3Mtc3RlcHtiYWNrZ3JvdW5kOiMyNzc4YzR9LnN3YWwyLXByb2dyZXNzLXN0ZXBzIC5zd2FsMi1wcm9ncmVzcy1zdGVwLnN3YWwyLWFjdGl2ZS1wcm9ncmVzcy1zdGVwfi5zd2FsMi1wcm9ncmVzcy1zdGVwe2JhY2tncm91bmQ6I2FkZDhlNjtjb2xvcjojZmZmfS5zd2FsMi1wcm9ncmVzcy1zdGVwcyAuc3dhbDItcHJvZ3Jlc3Mtc3RlcC5zd2FsMi1hY3RpdmUtcHJvZ3Jlc3Mtc3RlcH4uc3dhbDItcHJvZ3Jlc3Mtc3RlcC1saW5le2JhY2tncm91bmQ6I2FkZDhlNn0uc3dhbDItcHJvZ3Jlc3Mtc3RlcHMgLnN3YWwyLXByb2dyZXNzLXN0ZXAtbGluZXt6LWluZGV4OjEwO2ZsZXgtc2hyaW5rOjA7d2lkdGg6Mi41ZW07aGVpZ2h0Oi40ZW07bWFyZ2luOjAgLTFweDtiYWNrZ3JvdW5kOiMyNzc4YzR9W2NsYXNzXj1zd2FsMl17LXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOnRyYW5zcGFyZW50fS5zd2FsMi1zaG93ey13ZWJraXQtYW5pbWF0aW9uOnN3YWwyLXNob3cgLjNzO2FuaW1hdGlvbjpzd2FsMi1zaG93IC4zc30uc3dhbDItaGlkZXstd2Via2l0LWFuaW1hdGlvbjpzd2FsMi1oaWRlIC4xNXMgZm9yd2FyZHM7YW5pbWF0aW9uOnN3YWwyLWhpZGUgLjE1cyBmb3J3YXJkc30uc3dhbDItbm9hbmltYXRpb257dHJhbnNpdGlvbjpub25lfS5zd2FsMi1zY3JvbGxiYXItbWVhc3VyZXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTk5OTlweDt3aWR0aDo1MHB4O2hlaWdodDo1MHB4O292ZXJmbG93OnNjcm9sbH0uc3dhbDItcnRsIC5zd2FsMi1jbG9zZXttYXJnaW4tcmlnaHQ6aW5pdGlhbDttYXJnaW4tbGVmdDowfS5zd2FsMi1ydGwgLnN3YWwyLXRpbWVyLXByb2dyZXNzLWJhcntyaWdodDowO2xlZnQ6YXV0b31ALXdlYmtpdC1rZXlmcmFtZXMgc3dhbDItdG9hc3Qtc2hvd3swJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtLjYyNWVtKSByb3RhdGVaKDJkZWcpfTMzJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVaKC0yZGVnKX02NiV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLjMxMjVlbSkgcm90YXRlWigyZGVnKX0xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHJvdGF0ZVooMCl9fUBrZXlmcmFtZXMgc3dhbDItdG9hc3Qtc2hvd3swJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtLjYyNWVtKSByb3RhdGVaKDJkZWcpfTMzJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVaKC0yZGVnKX02NiV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLjMxMjVlbSkgcm90YXRlWigyZGVnKX0xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHJvdGF0ZVooMCl9fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi10b2FzdC1oaWRlezEwMCV7dHJhbnNmb3JtOnJvdGF0ZVooMWRlZyk7b3BhY2l0eTowfX1Aa2V5ZnJhbWVzIHN3YWwyLXRvYXN0LWhpZGV7MTAwJXt0cmFuc2Zvcm06cm90YXRlWigxZGVnKTtvcGFjaXR5OjB9fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi10b2FzdC1hbmltYXRlLXN1Y2Nlc3MtbGluZS10aXB7MCV7dG9wOi41NjI1ZW07bGVmdDouMDYyNWVtO3dpZHRoOjB9NTQle3RvcDouMTI1ZW07bGVmdDouMTI1ZW07d2lkdGg6MH03MCV7dG9wOi42MjVlbTtsZWZ0Oi0uMjVlbTt3aWR0aDoxLjYyNWVtfTg0JXt0b3A6MS4wNjI1ZW07bGVmdDouNzVlbTt3aWR0aDouNWVtfTEwMCV7dG9wOjEuMTI1ZW07bGVmdDouMTg3NWVtO3dpZHRoOi43NWVtfX1Aa2V5ZnJhbWVzIHN3YWwyLXRvYXN0LWFuaW1hdGUtc3VjY2Vzcy1saW5lLXRpcHswJXt0b3A6LjU2MjVlbTtsZWZ0Oi4wNjI1ZW07d2lkdGg6MH01NCV7dG9wOi4xMjVlbTtsZWZ0Oi4xMjVlbTt3aWR0aDowfTcwJXt0b3A6LjYyNWVtO2xlZnQ6LS4yNWVtO3dpZHRoOjEuNjI1ZW19ODQle3RvcDoxLjA2MjVlbTtsZWZ0Oi43NWVtO3dpZHRoOi41ZW19MTAwJXt0b3A6MS4xMjVlbTtsZWZ0Oi4xODc1ZW07d2lkdGg6Ljc1ZW19fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi10b2FzdC1hbmltYXRlLXN1Y2Nlc3MtbGluZS1sb25nezAle3RvcDoxLjYyNWVtO3JpZ2h0OjEuMzc1ZW07d2lkdGg6MH02NSV7dG9wOjEuMjVlbTtyaWdodDouOTM3NWVtO3dpZHRoOjB9ODQle3RvcDouOTM3NWVtO3JpZ2h0OjA7d2lkdGg6MS4xMjVlbX0xMDAle3RvcDouOTM3NWVtO3JpZ2h0Oi4xODc1ZW07d2lkdGg6MS4zNzVlbX19QGtleWZyYW1lcyBzd2FsMi10b2FzdC1hbmltYXRlLXN1Y2Nlc3MtbGluZS1sb25nezAle3RvcDoxLjYyNWVtO3JpZ2h0OjEuMzc1ZW07d2lkdGg6MH02NSV7dG9wOjEuMjVlbTtyaWdodDouOTM3NWVtO3dpZHRoOjB9ODQle3RvcDouOTM3NWVtO3JpZ2h0OjA7d2lkdGg6MS4xMjVlbX0xMDAle3RvcDouOTM3NWVtO3JpZ2h0Oi4xODc1ZW07d2lkdGg6MS4zNzVlbX19QC13ZWJraXQta2V5ZnJhbWVzIHN3YWwyLXNob3d7MCV7dHJhbnNmb3JtOnNjYWxlKC43KX00NSV7dHJhbnNmb3JtOnNjYWxlKDEuMDUpfTgwJXt0cmFuc2Zvcm06c2NhbGUoLjk1KX0xMDAle3RyYW5zZm9ybTpzY2FsZSgxKX19QGtleWZyYW1lcyBzd2FsMi1zaG93ezAle3RyYW5zZm9ybTpzY2FsZSguNyl9NDUle3RyYW5zZm9ybTpzY2FsZSgxLjA1KX04MCV7dHJhbnNmb3JtOnNjYWxlKC45NSl9MTAwJXt0cmFuc2Zvcm06c2NhbGUoMSl9fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi1oaWRlezAle3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9MTAwJXt0cmFuc2Zvcm06c2NhbGUoLjUpO29wYWNpdHk6MH19QGtleWZyYW1lcyBzd2FsMi1oaWRlezAle3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9MTAwJXt0cmFuc2Zvcm06c2NhbGUoLjUpO29wYWNpdHk6MH19QC13ZWJraXQta2V5ZnJhbWVzIHN3YWwyLWFuaW1hdGUtc3VjY2Vzcy1saW5lLXRpcHswJXt0b3A6MS4xODc1ZW07bGVmdDouMDYyNWVtO3dpZHRoOjB9NTQle3RvcDoxLjA2MjVlbTtsZWZ0Oi4xMjVlbTt3aWR0aDowfTcwJXt0b3A6Mi4xODc1ZW07bGVmdDotLjM3NWVtO3dpZHRoOjMuMTI1ZW19ODQle3RvcDozZW07bGVmdDoxLjMxMjVlbTt3aWR0aDoxLjA2MjVlbX0xMDAle3RvcDoyLjgxMjVlbTtsZWZ0Oi44MTI1ZW07d2lkdGg6MS41NjI1ZW19fUBrZXlmcmFtZXMgc3dhbDItYW5pbWF0ZS1zdWNjZXNzLWxpbmUtdGlwezAle3RvcDoxLjE4NzVlbTtsZWZ0Oi4wNjI1ZW07d2lkdGg6MH01NCV7dG9wOjEuMDYyNWVtO2xlZnQ6LjEyNWVtO3dpZHRoOjB9NzAle3RvcDoyLjE4NzVlbTtsZWZ0Oi0uMzc1ZW07d2lkdGg6My4xMjVlbX04NCV7dG9wOjNlbTtsZWZ0OjEuMzEyNWVtO3dpZHRoOjEuMDYyNWVtfTEwMCV7dG9wOjIuODEyNWVtO2xlZnQ6LjgxMjVlbTt3aWR0aDoxLjU2MjVlbX19QC13ZWJraXQta2V5ZnJhbWVzIHN3YWwyLWFuaW1hdGUtc3VjY2Vzcy1saW5lLWxvbmd7MCV7dG9wOjMuMzc1ZW07cmlnaHQ6Mi44NzVlbTt3aWR0aDowfTY1JXt0b3A6My4zNzVlbTtyaWdodDoyLjg3NWVtO3dpZHRoOjB9ODQle3RvcDoyLjE4NzVlbTtyaWdodDowO3dpZHRoOjMuNDM3NWVtfTEwMCV7dG9wOjIuMzc1ZW07cmlnaHQ6LjVlbTt3aWR0aDoyLjkzNzVlbX19QGtleWZyYW1lcyBzd2FsMi1hbmltYXRlLXN1Y2Nlc3MtbGluZS1sb25nezAle3RvcDozLjM3NWVtO3JpZ2h0OjIuODc1ZW07d2lkdGg6MH02NSV7dG9wOjMuMzc1ZW07cmlnaHQ6Mi44NzVlbTt3aWR0aDowfTg0JXt0b3A6Mi4xODc1ZW07cmlnaHQ6MDt3aWR0aDozLjQzNzVlbX0xMDAle3RvcDoyLjM3NWVtO3JpZ2h0Oi41ZW07d2lkdGg6Mi45Mzc1ZW19fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi1yb3RhdGUtc3VjY2Vzcy1jaXJjdWxhci1saW5lezAle3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX01JXt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9MTIle3RyYW5zZm9ybTpyb3RhdGUoLTQwNWRlZyl9MTAwJXt0cmFuc2Zvcm06cm90YXRlKC00MDVkZWcpfX1Aa2V5ZnJhbWVzIHN3YWwyLXJvdGF0ZS1zdWNjZXNzLWNpcmN1bGFyLWxpbmV7MCV7dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpfTUle3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX0xMiV7dHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKX0xMDAle3RyYW5zZm9ybTpyb3RhdGUoLTQwNWRlZyl9fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi1hbmltYXRlLWVycm9yLXgtbWFya3swJXttYXJnaW4tdG9wOjEuNjI1ZW07dHJhbnNmb3JtOnNjYWxlKC40KTtvcGFjaXR5OjB9NTAle21hcmdpbi10b3A6MS42MjVlbTt0cmFuc2Zvcm06c2NhbGUoLjQpO29wYWNpdHk6MH04MCV7bWFyZ2luLXRvcDotLjM3NWVtO3RyYW5zZm9ybTpzY2FsZSgxLjE1KX0xMDAle21hcmdpbi10b3A6MDt0cmFuc2Zvcm06c2NhbGUoMSk7b3BhY2l0eToxfX1Aa2V5ZnJhbWVzIHN3YWwyLWFuaW1hdGUtZXJyb3IteC1tYXJrezAle21hcmdpbi10b3A6MS42MjVlbTt0cmFuc2Zvcm06c2NhbGUoLjQpO29wYWNpdHk6MH01MCV7bWFyZ2luLXRvcDoxLjYyNWVtO3RyYW5zZm9ybTpzY2FsZSguNCk7b3BhY2l0eTowfTgwJXttYXJnaW4tdG9wOi0uMzc1ZW07dHJhbnNmb3JtOnNjYWxlKDEuMTUpfTEwMCV7bWFyZ2luLXRvcDowO3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi1hbmltYXRlLWVycm9yLWljb257MCV7dHJhbnNmb3JtOnJvdGF0ZVgoMTAwZGVnKTtvcGFjaXR5OjB9MTAwJXt0cmFuc2Zvcm06cm90YXRlWCgwKTtvcGFjaXR5OjF9fUBrZXlmcmFtZXMgc3dhbDItYW5pbWF0ZS1lcnJvci1pY29uezAle3RyYW5zZm9ybTpyb3RhdGVYKDEwMGRlZyk7b3BhY2l0eTowfTEwMCV7dHJhbnNmb3JtOnJvdGF0ZVgoMCk7b3BhY2l0eToxfX1ALXdlYmtpdC1rZXlmcmFtZXMgc3dhbDItcm90YXRlLWxvYWRpbmd7MCV7dHJhbnNmb3JtOnJvdGF0ZSgwKX0xMDAle3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19QGtleWZyYW1lcyBzd2FsMi1yb3RhdGUtbG9hZGluZ3swJXt0cmFuc2Zvcm06cm90YXRlKDApfTEwMCV7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX1ib2R5LnN3YWwyLXNob3duOm5vdCguc3dhbDItbm8tYmFja2Ryb3ApOm5vdCguc3dhbDItdG9hc3Qtc2hvd24pe292ZXJmbG93OmhpZGRlbn1ib2R5LnN3YWwyLWhlaWdodC1hdXRve2hlaWdodDphdXRvIWltcG9ydGFudH1ib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXJ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudCFpbXBvcnRhbnQ7cG9pbnRlci1ldmVudHM6bm9uZX1ib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIgLnN3YWwyLXBvcHVwe3BvaW50ZXItZXZlbnRzOmFsbH1ib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIgLnN3YWwyLW1vZGFse2JveC1zaGFkb3c6MCAwIDEwcHggcmdiYSgwLDAsMCwuNCl9QG1lZGlhIHByaW50e2JvZHkuc3dhbDItc2hvd246bm90KC5zd2FsMi1uby1iYWNrZHJvcCk6bm90KC5zd2FsMi10b2FzdC1zaG93bil7b3ZlcmZsb3cteTpzY3JvbGwhaW1wb3J0YW50fWJvZHkuc3dhbDItc2hvd246bm90KC5zd2FsMi1uby1iYWNrZHJvcCk6bm90KC5zd2FsMi10b2FzdC1zaG93bik+W2FyaWEtaGlkZGVuPXRydWVde2Rpc3BsYXk6bm9uZX1ib2R5LnN3YWwyLXNob3duOm5vdCguc3dhbDItbm8tYmFja2Ryb3ApOm5vdCguc3dhbDItdG9hc3Qtc2hvd24pIC5zd2FsMi1jb250YWluZXJ7cG9zaXRpb246c3RhdGljIWltcG9ydGFudH19Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVye2JveC1zaXppbmc6Ym9yZGVyLWJveDt3aWR0aDozNjBweDttYXgtd2lkdGg6MTAwJTtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O3BvaW50ZXItZXZlbnRzOm5vbmV9Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLXRvcHt0b3A6MDtyaWdodDphdXRvO2JvdHRvbTphdXRvO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpfWJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi10b3AtZW5kLGJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi10b3AtcmlnaHR7dG9wOjA7cmlnaHQ6MDtib3R0b206YXV0bztsZWZ0OmF1dG99Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLXRvcC1sZWZ0LGJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi10b3Atc3RhcnR7dG9wOjA7cmlnaHQ6YXV0bztib3R0b206YXV0bztsZWZ0OjB9Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlci1sZWZ0LGJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1jZW50ZXItc3RhcnR7dG9wOjUwJTtyaWdodDphdXRvO2JvdHRvbTphdXRvO2xlZnQ6MDt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKX1ib2R5LnN3YWwyLXRvYXN0LXNob3duIC5zd2FsMi1jb250YWluZXIuc3dhbDItY2VudGVye3RvcDo1MCU7cmlnaHQ6YXV0bztib3R0b206YXV0bztsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSl9Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlci1lbmQsYm9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlci1yaWdodHt0b3A6NTAlO3JpZ2h0OjA7Ym90dG9tOmF1dG87bGVmdDphdXRvO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpfWJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tbGVmdCxib2R5LnN3YWwyLXRvYXN0LXNob3duIC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLXN0YXJ0e3RvcDphdXRvO3JpZ2h0OmF1dG87Ym90dG9tOjA7bGVmdDowfWJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b217dG9wOmF1dG87cmlnaHQ6YXV0bztib3R0b206MDtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKX1ib2R5LnN3YWwyLXRvYXN0LXNob3duIC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLWVuZCxib2R5LnN3YWwyLXRvYXN0LXNob3duIC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLXJpZ2h0e3RvcDphdXRvO3JpZ2h0OjA7Ym90dG9tOjA7bGVmdDphdXRvfSIpOw=="},{"meta":{"name":"jquery.min.js","url":"https://cdn.staticfile.org/jquery/3.6.0/jquery.min.js","ts":1657118213728,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KGUpfTp0KGUpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihDLGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1bXSxyPU9iamVjdC5nZXRQcm90b3R5cGVPZixzPXQuc2xpY2UsZz10LmZsYXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gdC5jb25jYXQuYXBwbHkoW10sZSl9LHU9dC5wdXNoLGk9dC5pbmRleE9mLG49e30sbz1uLnRvU3RyaW5nLHY9bi5oYXNPd25Qcm9wZXJ0eSxhPXYudG9TdHJpbmcsbD1hLmNhbGwoT2JqZWN0KSx5PXt9LG09ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZS5ub2RlVHlwZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuaXRlbX0seD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxFPUMuZG9jdW1lbnQsYz17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByLGksbz0obj1ufHxFKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihyIGluIGMpKGk9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmby5zZXRBdHRyaWJ1dGUocixpKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9uW28uY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBmPSIzLjYuMCIsUz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUy5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIHAoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hbShlKSYmIXgoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9Uy5mbj1TLnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6UyxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3MuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Uy5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxldmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQrMSklMn0pKX0sb2RkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PW4mJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6dSxzb3J0OnQuc29ydCxzcGxpY2U6dC5zcGxpY2V9LFMuZXh0ZW5kPVMuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLGE9YXJndW1lbnRzWzBdfHx7fSxzPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksIm9iamVjdCI9PXR5cGVvZiBhfHxtKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSlyPWVbdF0sIl9fcHJvdG9fXyIhPT10JiZhIT09ciYmKGwmJnImJihTLmlzUGxhaW5PYmplY3Qocil8fChpPUFycmF5LmlzQXJyYXkocikpKT8obj1hW3RdLG89aSYmIUFycmF5LmlzQXJyYXkobik/W106aXx8Uy5pc1BsYWluT2JqZWN0KG4pP246e30saT0hMSxhW3RdPVMuZXh0ZW5kKGwsbyxyKSk6dm9pZCAwIT09ciYmKGFbdF09cikpO3JldHVybiBhfSxTLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoZitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiEoIWV8fCJbb2JqZWN0IE9iamVjdF0iIT09by5jYWxsKGUpKSYmKCEodD1yKGUpKXx8ImZ1bmN0aW9uIj09dHlwZW9mKG49di5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZhLmNhbGwobik9PT1sKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUsdCxuKXtiKGUse25vbmNlOnQmJnQubm9uY2V9LG4pfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2lmKHAoZSkpe2ZvcihuPWUubGVuZ3RoO3I8bjtyKyspaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrfWVsc2UgZm9yKHIgaW4gZSlpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWs7cmV0dXJuIGV9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYocChPYmplY3QoZSkpP1MubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOnUuY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTppLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgscj0wLGk9ZS5sZW5ndGg7cjxuO3IrKyllW2krK109dFtyXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLG89ZS5sZW5ndGgsYT0hbjtpPG87aSsrKSF0KGVbaV0saSkhPT1hJiZyLnB1c2goZVtpXSk7cmV0dXJuIHJ9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPTAsYT1bXTtpZihwKGUpKWZvcihyPWUubGVuZ3RoO288cjtvKyspbnVsbCE9KGk9dChlW29dLG8sbikpJiZhLnB1c2goaSk7ZWxzZSBmb3IobyBpbiBlKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO3JldHVybiBnKGEpfSxndWlkOjEsc3VwcG9ydDp5fSksImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKFMuZm5bU3ltYm9sLml0ZXJhdG9yXT10W1N5bWJvbC5pdGVyYXRvcl0pLFMuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXtuWyJbb2JqZWN0ICIrdCsiXSJdPXQudG9Mb3dlckNhc2UoKX0pO3ZhciBkPWZ1bmN0aW9uKG4pe3ZhciBlLGQsYixvLGksaCxmLGcsdyx1LGwsVCxDLGEsRSx2LHMsYyx5LFM9InNpenpsZSIrMSpuZXcgRGF0ZSxwPW4uZG9jdW1lbnQsaz0wLHI9MCxtPXVlKCkseD11ZSgpLEE9dWUoKSxOPXVlKCksaj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGw9ITApLDB9LEQ9e30uaGFzT3duUHJvcGVydHksdD1bXSxxPXQucG9wLEw9dC5wdXNoLEg9dC5wdXNoLE89dC5zbGljZSxQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxSPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTT0iW1xceDIwXFx0XFxyXFxuXFxmXSIsST0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsVz0iXFxbIitNKyIqKCIrSSsiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK0krIikpfCkiK00rIipcXF0iLEY9IjooIitJKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitXKyIpKil8LiopXFwpfCkiLEI9bmV3IFJlZ0V4cChNKyIrIiwiZyIpLCQ9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxfPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksej1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLFU9bmV3IFJlZ0V4cChNKyJ8PiIpLFg9bmV3IFJlZ0V4cChGKSxWPW5ldyBSZWdFeHAoIl4iK0krIiQiKSxHPXtJRDpuZXcgUmVnRXhwKCJeIygiK0krIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrSSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrSSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK1cpLFBTRVVETzpuZXcgUmVnRXhwKCJeIitGKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK00rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK00rIiooPzooWystXXwpIitNKyIqKFxcZCspfCkpIitNKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitSKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitNKyIqKCg/Oi1cXGQpP1xcZCopIitNKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxZPS9IVE1MJC9pLFE9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxKPS9eaFxkJC9pLEs9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLFo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxlZT0vWyt+XS8sdGU9bmV3IFJlZ0V4cCgiXFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXChbXlxcclxcblxcZl0pIiwiZyIpLG5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49IjB4IitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0scmU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csaWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe1QoKX0sYWU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYiZmllbGRzZXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0guYXBwbHkodD1PLmNhbGwocC5jaGlsZE5vZGVzKSxwLmNoaWxkTm9kZXMpLHRbcC5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7SD17YXBwbHk6dC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtMLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoVChlKSxlPWV8fEMsRSkpe2lmKDExIT09cCYmKHU9Wi5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYoZiYmKGE9Zi5nZXRFbGVtZW50QnlJZChpKSkmJnkoZSxhKSYmYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpKSxufWlmKGQucXNhJiYhTlt0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigxIT09cHx8Im9iamVjdCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihjPXQsZj1lLDE9PT1wJiYoVS50ZXN0KHQpfHx6LnRlc3QodCkpKXsoZj1lZS50ZXN0KHQpJiZ5ZShlLnBhcmVudE5vZGUpfHxlKT09PWUmJmQuc2NvcGV8fCgocz1lLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1zLnJlcGxhY2UocmUsaWUpOmUuc2V0QXR0cmlidXRlKCJpZCIscz1TKSksbz0obD1oKHQpKS5sZW5ndGg7d2hpbGUoby0tKWxbb109KHM/IiMiK3M6IjpzY29wZSIpKyIgIit4ZShsW29dKTtjPWwuam9pbigiLCIpfXRyeXtyZXR1cm4gSC5hcHBseShuLGYucXVlcnlTZWxlY3RvckFsbChjKSksbn1jYXRjaChlKXtOKHQsITApfWZpbmFsbHl7cz09PVMmJmUucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGcodC5yZXBsYWNlKCQsIiQxIiksZSxuLHIpfWZ1bmN0aW9uIHVlKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT5iLmNhY2hlTGVuZ3RoJiZkZWxldGUgZVtyLnNoaWZ0KCldLGVbdCsiICJdPW59fWZ1bmN0aW9uIGxlKGUpe3JldHVybiBlW1NdPSEwLGV9ZnVuY3Rpb24gY2UoZSl7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGZlKGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9bi5sZW5ndGg7d2hpbGUoci0tKWIuYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIHBlKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmZS5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19ZnVuY3Rpb24gaGUobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fWZ1bmN0aW9uIGdlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iZm9ybSJpbiBlP2UucGFyZW50Tm9kZSYmITE9PT1lLmRpc2FibGVkPyJsYWJlbCJpbiBlPyJsYWJlbCJpbiBlLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmRpc2FibGVkPT09dDplLmRpc2FibGVkPT09dDplLmlzRGlzYWJsZWQ9PT10fHxlLmlzRGlzYWJsZWQhPT0hdCYmYWUoZSk9PT10OmUuZGlzYWJsZWQ9PT10OiJsYWJlbCJpbiBlJiZlLmRpc2FibGVkPT09dH19ZnVuY3Rpb24gdmUoYSl7cmV0dXJuIGxlKGZ1bmN0aW9uKG8pe3JldHVybiBvPStvLGxlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKFtdLGUubGVuZ3RoLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1yW2ldXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1mb3IoZSBpbiBkPXNlLnN1cHBvcnQ9e30saT1zZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hWS50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fCJIVE1MIil9LFQ9c2Uuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU/ZS5vd25lckRvY3VtZW50fHxlOnA7cmV0dXJuIHIhPUMmJjk9PT1yLm5vZGVUeXBlJiZyLmRvY3VtZW50RWxlbWVudCYmKGE9KEM9cikuZG9jdW1lbnRFbGVtZW50LEU9IWkoQykscCE9QyYmKG49Qy5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLGQuc2NvcGU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoQy5jcmVhdGVFbGVtZW50KCJkaXYiKSksInVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwmJiFlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpzY29wZSBmaWVsZHNldCBkaXYiKS5sZW5ndGh9KSxkLmF0dHJpYnV0ZXM9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZC5nZXRFbGVtZW50c0J5VGFnTmFtZT1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChDLmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1LLnRlc3QoQy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxkLmdldEJ5SWQ9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuaWQ9UywhQy5nZXRFbGVtZW50c0J5TmFtZXx8IUMuZ2V0RWxlbWVudHNCeU5hbWUoUykubGVuZ3RofSksZC5nZXRCeUlkPyhiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sYi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZFKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19KTooYi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXBsYWNlKHRlLG5lKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gdCYmdC52YWx1ZT09PW59fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuLHIsaSxvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2k9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxyPTA7d2hpbGUobz1pW3IrK10paWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLGIuZmluZC5UQUc9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOmQucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LGIuZmluZC5DTEFTUz1kLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJkUpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0scz1bXSx2PVtdLChkLnFzYT1LLnRlc3QoQy5xdWVyeVNlbGVjdG9yQWxsKSkmJihjZShmdW5jdGlvbihlKXt2YXIgdDthLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIrUysiJz48L2E+PHNlbGVjdCBpZD0nIitTKyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnYucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitSKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrUysiLV0iKS5sZW5ndGh8fHYucHVzaCgifj0iKSwodD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgibmFtZSIsIiIpLGUuYXBwZW5kQ2hpbGQodCksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT0nJ10iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqbmFtZSIrTSsiKj0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHYucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitTKyIrKiIpLmxlbmd0aHx8di5wdXNoKCIuIy4rWyt+XSIpLGUucXVlcnlTZWxlY3RvckFsbCgiXFxcZiIpLHYucHVzaCgiW1xcclxcblxcZl0iKX0pLGNlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnYucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmdi5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEuYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iiksdi5wdXNoKCIsLio6Iil9KSksKGQubWF0Y2hlc1NlbGVjdG9yPUsudGVzdChjPWEubWF0Y2hlc3x8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLm9NYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3IpKSYmY2UoZnVuY3Rpb24oZSl7ZC5kaXNjb25uZWN0ZWRNYXRjaD1jLmNhbGwoZSwiKiIpLGMuY2FsbChlLCJbcyE9JyddOngiKSxzLnB1c2goIiE9IixGKX0pLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKCJ8IikpLHM9cy5sZW5ndGgmJm5ldyBSZWdFeHAocy5qb2luKCJ8IikpLHQ9Sy50ZXN0KGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHk9dHx8Sy50ZXN0KGEuY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0saj10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09Q3x8ZS5vd25lckRvY3VtZW50PT1wJiZ5KHAsZSk/LTE6dD09Q3x8dC5vd25lckRvY3VtZW50PT1wJiZ5KHAsdCk/MTp1P1AodSxlKS1QKHUsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbixyPTAsaT1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUsYT1bZV0scz1bdF07aWYoIWl8fCFvKXJldHVybiBlPT1DPy0xOnQ9PUM/MTppPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihpPT09bylyZXR1cm4gcGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP3BlKGFbcl0sc1tyXSk6YVtyXT09cD8tMTpzW3JdPT1wPzE6MH0pLEN9LHNlLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2UoZSxudWxsLG51bGwsdCl9LHNlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKFQoZSksZC5tYXRjaGVzU2VsZWN0b3ImJkUmJiFOW3QrIiAiXSYmKCFzfHwhcy50ZXN0KHQpKSYmKCF2fHwhdi50ZXN0KHQpKSl0cnl7dmFyIG49Yy5jYWxsKGUsdCk7aWYobnx8ZC5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGUpe04odCwhMCl9cmV0dXJuIDA8c2UodCxDLG51bGwsW2VdKS5sZW5ndGh9LHNlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSkseShlLHQpfSxzZS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSk7dmFyIG49Yi5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZELmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmQuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IWQuZGV0ZWN0RHVwbGljYXRlcyx1PSFkLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KGopLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LChiPXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOkcsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gRy5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1tW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitNKyIpIitlKyIoIitNKyJ8JCkiKSkmJm0oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoQiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLHg9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPXgmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwPSFuJiYheCxkPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmcCl7ZD0ocz0ocj0oaT0obz0oYT1jKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09ayYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrZCYmYT09PWUpe2lbaF09W2sscyxkXTticmVha319ZWxzZSBpZihwJiYoZD1zPShyPShpPShvPShhPWUpW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1rJiZyWzFdKSwhMT09PWQpd2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrZCYmKHAmJigoaT0obz1hW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtrLGRdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKGQtPXYpPT09Z3x8ZCVnPT0wJiYwPD1kL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT1iLnBzZXVkb3NbZV18fGIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW1NdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLGIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPVAoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoJCwiJDEiKSk7cmV0dXJuIHNbU10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBWLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUMuYWN0aXZlRWxlbWVudCYmKCFDLmhhc0ZvY3VzfHxDLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBKLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBRLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWIucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pYi5wc2V1ZG9zW2VdPWRlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gYmUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMscD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bayxwXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW1NdfHwoZVtTXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PWsmJnJbMV09PT1wKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2UoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltTXSYmKHY9Q2UodikpLHkmJiF5W1NdJiYoeT1DZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IWR8fCFlJiZoP2M6VGUoYyxzLGQsbixyKSxwPWc/eXx8KGU/ZDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLHAsbixyKSx2KXtpPVRlKHAsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihwW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8ZCl7aWYoeSl7aT1bXSxvPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLHA9W10saSxyKX1vPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmLTE8KGk9eT9QKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgcD1UZShwPT09dD9wLnNwbGljZShsLHAubGVuZ3RoKTpwKSx5P3kobnVsbCx0LHAscik6SC5hcHBseSh0LHApfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1iZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9YmUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8UChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtiZSh3ZShjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlbU10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gQ2UoMTxzJiZ3ZShjKSwxPHMmJnhlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoJCwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZ4ZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD14W2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj1fLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKCQsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGIuZmlsdGVyKSEocj1HW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6eChlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9QVtlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtTXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPUEoZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPWsrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT1DfHx0fHxpKTtsIT09ZyYmbnVsbCE9KG89ZFtsXSk7bCsrKXtpZih4JiZvKXthPTAsdHx8by5vd25lckRvY3VtZW50PT1DfHwoVChvKSxuPSFFKTt3aGlsZShzPXZbYSsrXSlpZihzKG8sdHx8QyxuKSl7ci5wdXNoKG8pO2JyZWFrfWkmJihrPWgpfW0mJigobz0hcyYmbykmJnUtLSxlJiZjLnB1c2gobykpfWlmKHUrPWwsbSYmbCE9PXUpe2E9MDt3aGlsZShzPXlbYSsrXSlzKGMsZix0LG4pO2lmKGUpe2lmKDA8dSl3aGlsZShsLS0pY1tsXXx8ZltsXXx8KGZbbF09cS5jYWxsKHIpKTtmPVRlKGYpfUguYXBwbHkocixmKSxpJiYhZSYmMDxmLmxlbmd0aCYmMTx1K3kubGVuZ3RoJiZzZS51bmlxdWVTb3J0KHIpfXJldHVybiBpJiYoaz1oLHc9cCksY30sbT9sZShyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9LGc9c2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxjPSFyJiZoKGU9bC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Yy5sZW5ndGgpe2lmKDI8KG89Y1swXT1jWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmRSYmYi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KGIuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksdCl8fFtdKVswXSkpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1HLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7d2hpbGUoaS0tKXtpZihhPW9baV0sYi5yZWxhdGl2ZVtzPWEudHlwZV0pYnJlYWs7aWYoKHU9Yi5maW5kW3NdKSYmKHI9dShhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksZWUudGVzdChvWzBdLnR5cGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZ4ZShvKSkpcmV0dXJuIEguYXBwbHkobixyKSxuO2JyZWFrfX19cmV0dXJuKGx8fGYoZSxjKSkocix0LCFFLG4sIXR8fGVlLnRlc3QoZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpLG59LGQuc29ydFN0YWJsZT1TLnNwbGl0KCIiKS5zb3J0KGopLmpvaW4oIiIpPT09UyxkLmRldGVjdER1cGxpY2F0ZXM9ISFsLFQoKSxkLnNvcnREZXRhY2hlZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxmZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuKXJldHVybiBlLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZC5hdHRyaWJ1dGVzJiZjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxpbnB1dC8+IixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxmZSgidmFsdWUiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8ZmUoUixmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoIW4pcmV0dXJuITA9PT1lW3RdP3QudG9Mb3dlckNhc2UoKToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9KSxzZX0oQyk7Uy5maW5kPWQsUy5leHByPWQuc2VsZWN0b3JzLFMuZXhwclsiOiJdPVMuZXhwci5wc2V1ZG9zLFMudW5pcXVlU29ydD1TLnVuaXF1ZT1kLnVuaXF1ZVNvcnQsUy50ZXh0PWQuZ2V0VGV4dCxTLmlzWE1MRG9jPWQuaXNYTUwsUy5jb250YWlucz1kLmNvbnRhaW5zLFMuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJlMoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxUPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxrPVMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gQShlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIE49L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7ZnVuY3Rpb24gaihlLG4scil7cmV0dXJuIG0obik/Uy5ncmVwKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hIW4uY2FsbChlLHQsZSkhPT1yfSk6bi5ub2RlVHlwZT9TLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PW4hPT1yfSk6InN0cmluZyIhPXR5cGVvZiBuP1MuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPGkuY2FsbChuLGUpIT09cn0pOlMuZmlsdGVyKG4sZSxyKX1TLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT9TLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOlMuZmluZC5tYXRjaGVzKGUsUy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxTLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soUyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYoUy5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKylTLmZpbmQoZSxpW3RdLG4pO3JldHVybiAxPHI/Uy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmay50ZXN0KGUpP1MoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgRCxxPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KFMuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fEQsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKHI9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTpxLmV4ZWMoZSkpfHwhclsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKHJbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIFM/dFswXTp0LFMubWVyZ2UodGhpcyxTLnBhcnNlSFRNTChyWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OkUsITApKSxOLnRlc3QoclsxXSkmJlMuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KW0odGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4oaT1FLmdldEVsZW1lbnRCeUlkKHJbMl0pKSYmKHRoaXNbMF09aSx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTptKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKFMpOlMubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9Uy5mbixEPVMoRSk7dmFyIEw9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sSD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBPKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PVMoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYoUy5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZTKGUpO2lmKCFrLnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/LTE8YS5pbmRleChuKToxPT09bi5ub2RlVHlwZSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPG8ubGVuZ3RoP1MudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP2kuY2FsbChTKGUpLHRoaXNbMF0pOmkuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy51bmlxdWVTb3J0KFMubWVyZ2UodGhpcy5nZXQoKSxTKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLFMuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gVCgoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuY29udGVudERvY3VtZW50JiZyKGUuY29udGVudERvY3VtZW50KT9lLmNvbnRlbnREb2N1bWVudDooQShlLCJ0ZW1wbGF0ZSIpJiYoZT1lLmNvbnRlbnR8fGUpLFMubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihyLGkpe1MuZm5bcl09ZnVuY3Rpb24oZSx0KXt2YXIgbj1TLm1hcCh0aGlzLGksZSk7cmV0dXJuIlVudGlsIiE9PXIuc2xpY2UoLTUpJiYodD1lKSx0JiYic3RyaW5nIj09dHlwZW9mIHQmJihuPVMuZmlsdGVyKHQsbikpLDE8dGhpcy5sZW5ndGgmJihIW3JdfHxTLnVuaXF1ZVNvcnQobiksTC50ZXN0KHIpJiZuLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFA9L1teXHgyMFx0XHJcblxmXSsvZztmdW5jdGlvbiBSKGUpe3JldHVybiBlfWZ1bmN0aW9uIE0oZSl7dGhyb3cgZX1mdW5jdGlvbiBJKGUsdCxuLHIpe3ZhciBpO3RyeXtlJiZtKGk9ZS5wcm9taXNlKT9pLmNhbGwoZSkuZG9uZSh0KS5mYWlsKG4pOmUmJm0oaT1lLnRoZW4pP2kuY2FsbChlLHQsbik6dC5hcHBseSh2b2lkIDAsW2VdLnNsaWNlKHIpKX1jYXRjaChlKXtuLmFwcGx5KHZvaWQgMCxbZV0pfX1TLkNhbGxiYWNrcz1mdW5jdGlvbihyKXt2YXIgZSxuO3I9InN0cmluZyI9PXR5cGVvZiByPyhlPXIsbj17fSxTLmVhY2goZS5tYXRjaChQKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6Uy5leHRlbmQoe30scik7dmFyIGksdCxvLGEscz1bXSx1PVtdLGw9LTEsYz1mdW5jdGlvbigpe2ZvcihhPWF8fHIub25jZSxvPWk9ITA7dS5sZW5ndGg7bD0tMSl7dD11LnNoaWZ0KCk7d2hpbGUoKytsPHMubGVuZ3RoKSExPT09c1tsXS5hcHBseSh0WzBdLHRbMV0pJiZyLnN0b3BPbkZhbHNlJiYobD1zLmxlbmd0aCx0PSExKX1yLm1lbW9yeXx8KHQ9ITEpLGk9ITEsYSYmKHM9dD9bXToiIil9LGY9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYodCYmIWkmJihsPXMubGVuZ3RoLTEsdS5wdXNoKHQpKSxmdW5jdGlvbiBuKGUpe1MuZWFjaChlLGZ1bmN0aW9uKGUsdCl7bSh0KT9yLnVuaXF1ZSYmZi5oYXModCl8fHMucHVzaCh0KTp0JiZ0Lmxlbmd0aCYmInN0cmluZyIhPT13KHQpJiZuKHQpfSl9KGFyZ3VtZW50cyksdCYmIWkmJmMoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIFMuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgtMTwobj1TLmluQXJyYXkodCxzLG4pKSlzLnNwbGljZShuLDEpLG48PWwmJmwtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT8tMTxTLmluQXJyYXkoZSxzKTowPHMubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBhPXU9W10scz10PSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXN9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHR8fGl8fChzPXQ9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhYX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXx8KHQ9W2UsKHQ9dHx8W10pLnNsaWNlP3Quc2xpY2UoKTp0XSx1LnB1c2godCksaXx8YygpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFvfX07cmV0dXJuIGZ9LFMuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgbz1bWyJub3RpZnkiLCJwcm9ncmVzcyIsUy5DYWxsYmFja3MoIm1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0saT0icGVuZGluZyIsYT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihyKXtTLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPW0oaVt0WzRdXSkmJmlbdFs0XV07c1t0WzFdXShmdW5jdGlvbigpe3ZhciBlPW4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJm0oZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhyLm5vdGlmeSkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpOnJbdFswXSsiV2l0aCJdKHRoaXMsbj9bZV06YXJndW1lbnRzKX0pfSksaT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQsbixyKXt2YXIgdT0wO2Z1bmN0aW9uIGwoaSxvLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cyxlPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZighKGk8dSkpe2lmKChlPWEuYXBwbHkobixyKSk9PT1vLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTt0PWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSYmZS50aGVuLG0odCk/cz90LmNhbGwoZSxsKHUsbyxSLHMpLGwodSxvLE0scykpOih1KyssdC5jYWxsKGUsbCh1LG8sUixzKSxsKHUsbyxNLHMpLGwodSxvLFIsby5ub3RpZnlXaXRoKSkpOihhIT09UiYmKG49dm9pZCAwLHI9W2VdKSwoc3x8by5yZXNvbHZlV2l0aCkobixyKSl9fSx0PXM/ZTpmdW5jdGlvbigpe3RyeXtlKCl9Y2F0Y2goZSl7Uy5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soZSx0LnN0YWNrVHJhY2UpLHU8PWkrMSYmKGEhPT1NJiYobj12b2lkIDAscj1bZV0pLG8ucmVqZWN0V2l0aChuLHIpKX19O2k/dCgpOihTLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuc3RhY2tUcmFjZT1TLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxDLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihlKXtvWzBdWzNdLmFkZChsKDAsZSxtKHIpP3I6UixlLm5vdGlmeVdpdGgpKSxvWzFdWzNdLmFkZChsKDAsZSxtKHQpP3Q6UikpLG9bMl1bM10uYWRkKGwoMCxlLG0obik/bjpNKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/Uy5leHRlbmQoZSxhKTphfX0scz17fTtyZXR1cm4gUy5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdKyJXaXRoIl0odGhpcz09PXM/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxzW3RbMF0rIldpdGgiXT1uLmZpcmVXaXRofSksYS5wcm9taXNlKHMpLGUmJmUuY2FsbChzLHMpLHN9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCx0PW4scj1BcnJheSh0KSxpPXMuY2FsbChhcmd1bWVudHMpLG89Uy5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbdF09dGhpcyxpW3RdPTE8YXJndW1lbnRzLmxlbmd0aD9zLmNhbGwoYXJndW1lbnRzKTplLC0tbnx8by5yZXNvbHZlV2l0aChyLGkpfX07aWYobjw9MSYmKEkoZSxvLmRvbmUoYSh0KSkucmVzb2x2ZSxvLnJlamVjdCwhbiksInBlbmRpbmciPT09by5zdGF0ZSgpfHxtKGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pSShpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgVz0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtDLmNvbnNvbGUmJkMuY29uc29sZS53YXJuJiZlJiZXLnRlc3QoZS5uYW1lKSYmQy5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LFMucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oZSl7Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfTt2YXIgRj1TLkRlZmVycmVkKCk7ZnVuY3Rpb24gQigpe0UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixCKSxTLnJlYWR5KCl9Uy5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gRi50aGVuKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe1MucmVhZHlFeGNlcHRpb24oZSl9KSx0aGlzfSxTLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tUy5yZWFkeVdhaXQ6Uy5pc1JlYWR5KXx8KFMuaXNSZWFkeT0hMCkhPT1lJiYwPC0tUy5yZWFkeVdhaXR8fEYucmVzb2x2ZVdpdGgoRSxbU10pfX0pLFMucmVhZHkudGhlbj1GLnRoZW4sImNvbXBsZXRlIj09PUUucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09RS5yZWFkeVN0YXRlJiYhRS5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/Qy5zZXRUaW1lb3V0KFMucmVhZHkpOihFLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIpLEMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsQikpO3ZhciAkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe3ZhciBzPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoIm9iamVjdCI9PT13KG4pKWZvcihzIGluIGk9ITAsbikkKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLG0ocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoUyhlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxfPS9eLW1zLS8sej0vLShbYS16XSkvZztmdW5jdGlvbiBVKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBYKGUpe3JldHVybiBlLnJlcGxhY2UoXywibXMtIikucmVwbGFjZSh6LFUpfXZhciBWPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gRygpe3RoaXMuZXhwYW5kbz1TLmV4cGFuZG8rRy51aWQrK31HLnVpZD0xLEcucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFYoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW1godCldPW47ZWxzZSBmb3IociBpbiB0KWlbWChyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtYKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChYKToodD1YKHQpKWluIHI/W3RdOnQubWF0Y2goUCl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHxTLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFTLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgWT1uZXcgRyxRPW5ldyBHLEo9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxLPS9bQS1aXS9nO2Z1bmN0aW9uIFooZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShLLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Si50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fVEuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufVMuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBRLmhhc0RhdGEoZSl8fFkuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFEuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1EucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1kucmVtb3ZlKGUsdCl9fSksUy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1RLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVkuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9WChyLnNsaWNlKDUpKSxaKG8scixpW3JdKSk7WS5zZXQobywiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGl9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbil9KTokKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9US5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1aKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtRLnJlbW92ZSh0aGlzLGUpfSl9fSksUy5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihlKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLHI9WS5nZXQoZSx0KSxuJiYoIXJ8fEFycmF5LmlzQXJyYXkobik/cj1ZLmFjY2VzcyhlLHQsUy5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49Uy5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1TLl9xdWV1ZUhvb2tzKGUsdCk7ImlucHJvZ3Jlc3MiPT09aSYmKGk9bi5zaGlmdCgpLHItLSksaSYmKCJmeCI9PT10JiZuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLGZ1bmN0aW9uKCl7Uy5kZXF1ZXVlKGUsdCl9LG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIFkuZ2V0KGUsbil8fFkuYWNjZXNzKGUsbix7ZW1wdHk6Uy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7WS5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksUy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKHQsbil7dmFyIGU9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iZngiLGUtLSksYXJndW1lbnRzLmxlbmd0aDxlP1MucXVldWUodGhpc1swXSx0KTp2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Uy5xdWV1ZSh0aGlzLHQsbik7Uy5fcXVldWVIb29rcyh0aGlzLHQpLCJmeCI9PT10JiYiaW5wcm9ncmVzcyIhPT1lWzBdJiZTLmRlcXVldWUodGhpcyx0KX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9Uy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49WS5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgZWU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsdGU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK2VlKyIpKFthLXolXSopJCIsImkiKSxuZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHJlPUUuZG9jdW1lbnRFbGVtZW50LGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sb2U9e2NvbXBvc2VkOiEwfTtyZS5nZXRSb290Tm9kZSYmKGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8ZS5nZXRSb290Tm9kZShvZSk9PT1lLm93bmVyRG9jdW1lbnR9KTt2YXIgYWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibm9uZSI9PT0oZT10fHxlKS5zdHlsZS5kaXNwbGF5fHwiIj09PWUuc3R5bGUuZGlzcGxheSYmaWUoZSkmJiJub25lIj09PVMuY3NzKGUsImRpc3BsYXkiKX07ZnVuY3Rpb24gc2UoZSx0LG4scil7dmFyIGksbyxhPTIwLHM9cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBTLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChTLmNzc051bWJlclt0XT8iIjoicHgiKSxjPWUubm9kZVR5cGUmJihTLmNzc051bWJlclt0XXx8InB4IiE9PWwmJit1KSYmdGUuZXhlYyhTLmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pUy5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLFMuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgdWU9e307ZnVuY3Rpb24gbGUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKGxbY109WS5nZXQociwiZGlzcGxheSIpfHxudWxsLGxbY118fChyLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmYWUocikmJihsW2NdPSh1PWE9bz12b2lkIDAsYT0oaT1yKS5vd25lckRvY3VtZW50LHM9aS5ub2RlTmFtZSwodT11ZVtzXSl8fChvPWEuYm9keS5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQocykpLHU9Uy5jc3MobywiZGlzcGxheSIpLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSwibm9uZSI9PT11JiYodT0iYmxvY2siKSx1ZVtzXT11KSkpKToibm9uZSIhPT1uJiYobFtjXT0ibm9uZSIsWS5zZXQociwiZGlzcGxheSIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthZSh0aGlzKT9TKHRoaXMpLnNob3coKTpTKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBjZSxmZSxwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2k7Y2U9RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoRS5jcmVhdGVFbGVtZW50KCJkaXYiKSksKGZlPUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxmZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksZmUuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGNlLmFwcGVuZENoaWxkKGZlKSx5LmNoZWNrQ2xvbmU9Y2UuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGNlLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIseS5ub0Nsb25lQ2hlY2tlZD0hIWNlLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSxjZS5pbm5lckhUTUw9IjxvcHRpb24+PC9vcHRpb24+Iix5Lm9wdGlvbj0hIWNlLmxhc3RDaGlsZDt2YXIgZ2U9e3RoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB2ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmQShlLHQpP1MubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspWS5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fFkuZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9Z2UudGJvZHk9Z2UudGZvb3Q9Z2UuY29sZ3JvdXA9Z2UuY2FwdGlvbj1nZS50aGVhZCxnZS50aD1nZS50ZCx5Lm9wdGlvbnx8KGdlLm9wdGdyb3VwPWdlLm9wdGlvbj1bMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdKTt2YXIgbWU9Lzx8JiM/XHcrOy87ZnVuY3Rpb24geGUoZSx0LG4scixpKXtmb3IodmFyIG8sYSxzLHUsbCxjLGY9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1bXSxkPTAsaD1lLmxlbmd0aDtkPGg7ZCsrKWlmKChvPWVbZF0pfHwwPT09bylpZigib2JqZWN0Ij09PXcobykpUy5tZXJnZShwLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYobWUudGVzdChvKSl7YT1hfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KGRlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksdT1nZVtzXXx8Z2UuX2RlZmF1bHQsYS5pbm5lckhUTUw9dVsxXStTLmh0bWxQcmVmaWx0ZXIobykrdVsyXSxjPXVbMF07d2hpbGUoYy0tKWE9YS5sYXN0Q2hpbGQ7Uy5tZXJnZShwLGEuY2hpbGROb2RlcyksKGE9Zi5maXJzdENoaWxkKS50ZXh0Q29udGVudD0iIn1lbHNlIHAucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTtmLnRleHRDb250ZW50PSIiLGQ9MDt3aGlsZShvPXBbZCsrXSlpZihyJiYtMTxTLmluQXJyYXkobyxyKSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPWllKG8pLGE9dmUoZi5hcHBlbmRDaGlsZChvKSwic2NyaXB0IiksbCYmeWUoYSksbil7Yz0wO3doaWxlKG89YVtjKytdKWhlLnRlc3Qoby50eXBlfHwiIikmJm4ucHVzaChvKX1yZXR1cm4gZn12YXIgYmU9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHdlKCl7cmV0dXJuITB9ZnVuY3Rpb24gVGUoKXtyZXR1cm4hMX1mdW5jdGlvbiBDZShlLHQpe3JldHVybiBlPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEUuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fSgpPT0oImZvY3VzIj09PXQpfWZ1bmN0aW9uIEVlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApLHQpRWUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9VGU7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIFMoKS5vZmYoZSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPWEuZ3VpZHx8KGEuZ3VpZD1TLmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX1mdW5jdGlvbiBTZShlLGksbyl7bz8oWS5zZXQoZSxpLCExKSxTLmV2ZW50LmFkZChlLGkse25hbWVzcGFjZTohMSxoYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1ZLmdldCh0aGlzLGkpO2lmKDEmZS5pc1RyaWdnZXImJnRoaXNbaV0pe2lmKHIubGVuZ3RoKShTLmV2ZW50LnNwZWNpYWxbaV18fHt9KS5kZWxlZ2F0ZVR5cGUmJmUuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihyPXMuY2FsbChhcmd1bWVudHMpLFkuc2V0KHRoaXMsaSxyKSx0PW8odGhpcyxpKSx0aGlzW2ldKCksciE9PShuPVkuZ2V0KHRoaXMsaSkpfHx0P1kuc2V0KHRoaXMsaSwhMSk6bj17fSxyIT09bilyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksbiYmbi52YWx1ZX1lbHNlIHIubGVuZ3RoJiYoWS5zZXQodGhpcyxpLHt2YWx1ZTpTLmV2ZW50LnRyaWdnZXIoUy5leHRlbmQoclswXSxTLkV2ZW50LnByb3RvdHlwZSksci5zbGljZSgxKSx0aGlzKX0pLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX0pKTp2b2lkIDA9PT1ZLmdldChlLGkpJiZTLmV2ZW50LmFkZChlLGksd2UpfVMuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5nZXQodCk7aWYoVih0KSl7bi5oYW5kbGVyJiYobj0obz1uKS5oYW5kbGVyLGk9by5zZWxlY3RvciksaSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihyZSxpKSxuLmd1aWR8fChuLmd1aWQ9Uy5ndWlkKyspLCh1PXYuZXZlbnRzKXx8KHU9di5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFMmJlMuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP1MuZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9YmUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9Uy5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmUy5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwodCxyLGgsYSl8fHQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbCh0LGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxTLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5oYXNEYXRhKGUpJiZZLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlpZihkPWc9KHM9YmUuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtmPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fFMucmVtb3ZlRXZlbnQoZSxkLHYuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KVMuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7Uy5pc0VtcHR5T2JqZWN0KHUpJiZZLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdT1TLmV2ZW50LmZpeChlKSxsPShZLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdS50eXBlXXx8W10sYz1TLmV2ZW50LnNwZWNpYWxbdS50eXBlXXx8e307Zm9yKHNbMF09dSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylzW3RdPWFyZ3VtZW50c1t0XTtpZih1LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fCExIT09Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdSkpe2E9Uy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdSxsKSx0PTA7d2hpbGUoKGk9YVt0KytdKSYmIXUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7d2hpbGUoKG89aS5oYW5kbGVyc1tuKytdKSYmIXUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl1LnJuYW1lc3BhY2UmJiExIT09by5uYW1lc3BhY2UmJiF1LnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fCh1LmhhbmRsZU9iaj1vLHUuZGF0YT1vLmRhdGEsdm9pZCAwIT09KHI9KChTLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLHMpKSYmITE9PT0odS5yZXN1bHQ9cikmJih1LnByZXZlbnREZWZhdWx0KCksdS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHUpLHUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJjE8PWUuYnV0dG9uKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/LTE8UyhpLHRoaXMpLmluZGV4KGwpOlMuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShTLkV2ZW50LnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6bShlKT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gZSh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W3RdfSxzZXQ6ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbUy5leHBhbmRvXT9lOm5ldyBTLkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIsd2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtyZXR1cm4gcGUudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZBKHQsImlucHV0IikmJlkuZ2V0KHQsImNsaWNrIil8fEEodCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LFMucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LFMuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBTLkV2ZW50KSlyZXR1cm4gbmV3IFMuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT93ZTpUZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZTLmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbUy5leHBhbmRvXT0hMH0sUy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlMuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOlRlLGlzUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sUy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjb2RlOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOiEwfSxTLmV2ZW50LmFkZFByb3ApLFMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtTLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIFNlKHRoaXMsZSxDZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gU2UodGhpcyxlKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGVsZWdhdGVUeXBlOnR9fSksUy5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe1MuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxTLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxTLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEVlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRWUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosUyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49VGUpLHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLEFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLE5lPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBqZShlLHQpe3JldHVybiBBKGUsInRhYmxlIikmJkEoMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpJiZTKGUpLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxlfWZ1bmN0aW9uIERlKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gcWUoZSl7cmV0dXJuInRydWUvIj09PShlLnR5cGV8fCIiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIExlKGUsdCl7dmFyIG4scixpLG8sYSxzO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihZLmhhc0RhdGEoZSkmJihzPVkuZ2V0KGUpLmV2ZW50cykpZm9yKGkgaW4gWS5yZW1vdmUodCwiaGFuZGxlIGV2ZW50cyIpLHMpZm9yKG49MCxyPXNbaV0ubGVuZ3RoO248cjtuKyspUy5ldmVudC5hZGQodCxpLHNbaV1bbl0pO1EuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1TLmV4dGVuZCh7fSxvKSxRLnNldCh0LGEpKX19ZnVuY3Rpb24gSGUobixyLGksbyl7cj1nKHIpO3ZhciBlLHQsYSxzLHUsbCxjPTAsZj1uLmxlbmd0aCxwPWYtMSxkPXJbMF0saD1tKGQpO2lmKGh8fDE8ZiYmInN0cmluZyI9PXR5cGVvZiBkJiYheS5jaGVja0Nsb25lJiZBZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksSGUodCxyLGksbyl9KTtpZihmJiYodD0oZT14ZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Uy5tYXAodmUoZSwic2NyaXB0IiksRGUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PVMuY2xvbmUodSwhMCwhMCkscyYmUy5tZXJnZShhLHZlKHUsInNjcmlwdCIpKSksaS5jYWxsKG5bY10sdSxjKTtpZihzKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxTLm1hcChhLHFlKSxjPTA7YzxzO2MrKyl1PWFbY10saGUudGVzdCh1LnR5cGV8fCIiKSYmIVkuYWNjZXNzKHUsImdsb2JhbEV2YWwiKSYmUy5jb250YWlucyhsLHUpJiYodS5zcmMmJiJtb2R1bGUiIT09KHUudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/Uy5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJlMuX2V2YWxVcmwodS5zcmMse25vbmNlOnUubm9uY2V8fHUuZ2V0QXR0cmlidXRlKCJub25jZSIpfSxsKTpiKHUudGV4dENvbnRlbnQucmVwbGFjZShOZSwiIiksdSxsKSl9cmV0dXJuIG59ZnVuY3Rpb24gT2UoZSx0LG4pe2Zvcih2YXIgcixpPXQ/Uy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fFMuY2xlYW5EYXRhKHZlKHIpKSxyLnBhcmVudE5vZGUmJihuJiZpZShyKSYmeWUodmUociwic2NyaXB0IikpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSk7cmV0dXJuIGV9Uy5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPWllKGUpO2lmKCEoeS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Uy5pc1hNTERvYyhlKSkpZm9yKGE9dmUoYykscj0wLGk9KG89dmUoZSkpLmxlbmd0aDtyPGk7cisrKXM9b1tyXSx1PWFbcl0sdm9pZCAwLCJpbnB1dCI9PT0obD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZwZS50ZXN0KHMudHlwZSk/dS5jaGVja2VkPXMuY2hlY2tlZDoiaW5wdXQiIT09bCYmInRleHRhcmVhIiE9PWx8fCh1LmRlZmF1bHRWYWx1ZT1zLmRlZmF1bHRWYWx1ZSk7aWYodClpZihuKWZvcihvPW98fHZlKGUpLGE9YXx8dmUoYykscj0wLGk9by5sZW5ndGg7cjxpO3IrKylMZShvW3JdLGFbcl0pO2Vsc2UgTGUoZSxjKTtyZXR1cm4gMDwoYT12ZShjLCJzY3JpcHQiKSkubGVuZ3RoJiZ5ZShhLCFmJiZ2ZShlLCJzY3JpcHQiKSksY30sY2xlYW5EYXRhOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT1TLmV2ZW50LnNwZWNpYWwsbz0wO3ZvaWQgMCE9PShuPWVbb10pO28rKylpZihWKG4pKXtpZih0PW5bWS5leHBhbmRvXSl7aWYodC5ldmVudHMpZm9yKHIgaW4gdC5ldmVudHMpaVtyXT9TLmV2ZW50LnJlbW92ZShuLHIpOlMucmVtb3ZlRXZlbnQobixyLHQuaGFuZGxlKTtuW1kuZXhwYW5kb109dm9pZCAwfW5bUS5leHBhbmRvXSYmKG5bUS5leHBhbmRvXT12b2lkIDApfX19KSxTLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9lKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9TLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fGplKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9amUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoUy5jbGVhbkRhdGEodmUoZSwhMSkpLGUudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBTLmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIWtlLnRlc3QoZSkmJiFnZVsoZGUuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9Uy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50Tm9kZTtTLmluQXJyYXkodGhpcyxuKTwwJiYoUy5jbGVhbkRhdGEodmUodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxTLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLGEpe1MuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10scj1TKGUpLGk9ci5sZW5ndGgtMSxvPTA7bzw9aTtvKyspdD1vPT09aT90aGlzOnRoaXMuY2xvbmUoITApLFMocltvXSlbYV0odCksdS5hcHBseShuLHQuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUGU9bmV3IFJlZ0V4cCgiXigiK2VlKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksUmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9QyksdC5nZXRDb21wdXRlZFN0eWxlKGUpfSxNZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9O2ZvcihpIGluIHQpb1tpXT1lLnN0eWxlW2ldLGUuc3R5bGVbaV09dFtpXTtmb3IoaSBpbiByPW4uY2FsbChlKSx0KWUuc3R5bGVbaV09b1tpXTtyZXR1cm4gcn0sSWU9bmV3IFJlZ0V4cChuZS5qb2luKCJ8IiksImkiKTtmdW5jdGlvbiBXZShlLHQsbil7dmFyIHIsaSxvLGEscz1lLnN0eWxlO3JldHVybihuPW58fFJlKGUpKSYmKCIiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8aWUoZSl8fChhPVMuc3R5bGUoZSx0KSksIXkucGl4ZWxCb3hTdHlsZXMoKSYmUGUudGVzdChhKSYmSWUudGVzdCh0KSYmKHI9cy53aWR0aCxpPXMubWluV2lkdGgsbz1zLm1heFdpZHRoLHMubWluV2lkdGg9cy5tYXhXaWR0aD1zLndpZHRoPWEsYT1uLndpZHRoLHMud2lkdGg9cixzLm1pbldpZHRoPWkscy5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hKyIiOmF9ZnVuY3Rpb24gRmUoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIWUoKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fSFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihsKXt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSIscmUuYXBwZW5kQ2hpbGQodSkuYXBwZW5kQ2hpbGQobCk7dmFyIGU9Qy5nZXRDb21wdXRlZFN0eWxlKGwpO249IjElIiE9PWUudG9wLHM9MTI9PT10KGUubWFyZ2luTGVmdCksbC5zdHlsZS5yaWdodD0iNjAlIixvPTM2PT09dChlLnJpZ2h0KSxyPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxyZS5yZW1vdmVDaGlsZCh1KSxsPW51bGx9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIG4scixpLG8sYSxzLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKSxsPUUuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZSYmKGwuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixsLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIseS5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWwuc3R5bGUuYmFja2dyb3VuZENsaXAsUy5leHRlbmQoeSx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHJ9LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxvfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxufSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGl9LHJlbGlhYmxlVHJEaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7cmV0dXJuIG51bGw9PWEmJihlPUUuY3JlYXRlRWxlbWVudCgidGFibGUiKSx0PUUuY3JlYXRlRWxlbWVudCgidHIiKSxuPUUuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZSIsdC5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MXB4IHNvbGlkIix0LnN0eWxlLmhlaWdodD0iMXB4IixuLnN0eWxlLmhlaWdodD0iOXB4IixuLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixyZS5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPUMuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxhPXBhcnNlSW50KHIuaGVpZ2h0LDEwKStwYXJzZUludChyLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChyLmJvcmRlckJvdHRvbVdpZHRoLDEwKT09PXQub2Zmc2V0SGVpZ2h0LHJlLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgQmU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLCRlPUUuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsX2U9e307ZnVuY3Rpb24gemUoZSl7dmFyIHQ9Uy5jc3NQcm9wc1tlXXx8X2VbZV07cmV0dXJuIHR8fChlIGluICRlP2U6X2VbZV09ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1CZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUJlW25dK3QpaW4gJGUpcmV0dXJuIGV9KGUpfHxlKX12YXIgVWU9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFhlPS9eLS0vLFZlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxHZT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07ZnVuY3Rpb24gWWUoZSx0LG4pe3ZhciByPXRlLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gUWUoZSx0LG4scixpLG8pe3ZhciBhPSJ3aWR0aCI9PT10PzE6MCxzPTAsdT0wO2lmKG49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpIm1hcmdpbiI9PT1uJiYodSs9Uy5jc3MoZSxuK25lW2FdLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYodS09Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSkpLCJtYXJnaW4iIT09biYmKHUtPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKSkpOih1Kz1TLmNzcyhlLCJwYWRkaW5nIituZVthXSwhMCxpKSwicGFkZGluZyIhPT1uP3UrPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKTpzKz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpO3JldHVybiFyJiYwPD1vJiYodSs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVsib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tby11LXMtLjUpKXx8MCksdX1mdW5jdGlvbiBKZShlLHQsbil7dmFyIHI9UmUoZSksaT0oIXkuYm94U2l6aW5nUmVsaWFibGUoKXx8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsciksbz1pLGE9V2UoZSx0LHIpLHM9Im9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYoUGUudGVzdChhKSl7aWYoIW4pcmV0dXJuIGE7YT0iYXV0byJ9cmV0dXJuKCF5LmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCF5LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkmJkEoZSwidHIiKXx8ImF1dG8iPT09YXx8IXBhcnNlRmxvYXQoYSkmJiJpbmxpbmUiPT09Uy5jc3MoZSwiZGlzcGxheSIsITEscikpJiZlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoaT0iYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLChvPXMgaW4gZSkmJihhPWVbc10pKSwoYT1wYXJzZUZsb2F0KGEpfHwwKStRZShlLHQsbnx8KGk/ImJvcmRlciI6ImNvbnRlbnQiKSxvLHIsYSkrInB4In1mdW5jdGlvbiBLZShlLHQsbixyLGkpe3JldHVybiBuZXcgS2UucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1TLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPVdlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9WCh0KSx1PVhlLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PXplKHMpKSxhPVMuY3NzSG9va3NbdF18fFMuY3NzSG9va3Nbc10sdm9pZCAwPT09bilyZXR1cm4gYSYmImdldCJpbiBhJiZ2b2lkIDAhPT0oaT1hLmdldChlLCExLHIpKT9pOmxbdF07InN0cmluZyI9PT0obz10eXBlb2YgbikmJihpPXRlLmV4ZWMobikpJiZpWzFdJiYobj1zZShlLHQsaSksbz0ibnVtYmVyIiksbnVsbCE9biYmbj09biYmKCJudW1iZXIiIT09b3x8dXx8KG4rPWkmJmlbM118fChTLmNzc051bWJlcltzXT8iIjoicHgiKSkseS5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobFt0XT0iaW5oZXJpdCIpLGEmJiJzZXQiaW4gYSYmdm9pZCAwPT09KG49YS5zZXQoZSxuLHIpKXx8KHU/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPVgodCk7cmV0dXJuIFhlLnRlc3QodCl8fCh0PXplKHMpKSwoYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdKSYmImdldCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1XZShlLHQscikpLCJub3JtYWwiPT09aSYmdCBpbiBHZSYmKGk9R2VbdF0pLCIiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLCEwPT09bnx8aXNGaW5pdGUobyk/b3x8MDppKTppfX0pLFMuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx1KXtTLmNzc0hvb2tzW3VdPXtnZXQ6ZnVuY3Rpb24oZSx0LG4pe2lmKHQpcmV0dXJuIVVlLnRlc3QoUy5jc3MoZSwiZGlzcGxheSIpKXx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9KZShlLHUsbik6TWUoZSxWZSxmdW5jdGlvbigpe3JldHVybiBKZShlLHUsbil9KX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPVJlKGUpLG89IXkuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09aS5wb3NpdGlvbixhPShvfHxuKSYmImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSxzPW4/UWUoZSx1LG4sYSxpKTowO3JldHVybiBhJiZvJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdVswXS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSldLXBhcnNlRmxvYXQoaVt1XSktUWUoZSx1LCJib3JkZXIiLCExLGkpLS41KSkscyYmKHI9dGUuZXhlYyh0KSkmJiJweCIhPT0oclszXXx8InB4IikmJihlLnN0eWxlW3VdPXQsdD1TLmNzcyhlLHUpKSxZZSgwLHQscyl9fX0pLFMuY3NzSG9va3MubWFyZ2luTGVmdD1GZSh5LnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoV2UoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LU1lKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSxTLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihpLG8pe1MuY3NzSG9va3NbaStvXT17ZXhwYW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49e30scj0ic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiICIpOltlXTt0PDQ7dCsrKW5baStuZVt0XStvXT1yW3RdfHxyW3QtMl18fHJbMF07cmV0dXJuIG59fSwibWFyZ2luIiE9PWkmJihTLmNzc0hvb2tzW2krb10uc2V0PVllKX0pLFMuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPVJlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPVMuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9TLnN0eWxlKGUsdCxuKTpTLmNzcyhlLHQpfSxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KSwoKFMuVHdlZW49S2UpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2UsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8Uy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fChTLmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9S2UucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOktlLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPUtlLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1TLmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6S2UucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPUtlLnByb3RvdHlwZSwoS2UucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9Uy5jc3MoZS5lbGVtLGUucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe1MuZnguc3RlcFtlLnByb3BdP1MuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fCFTLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVt6ZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpTLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSkuc2Nyb2xsVG9wPUtlLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LFMuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn0sUy5meD1LZS5wcm90b3R5cGUuaW5pdCxTLmZ4LnN0ZXA9e307dmFyIFplLGV0LHR0LG50LHJ0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxpdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIG90KCl7ZXQmJighMT09PUUuaGlkZGVuJiZDLnJlcXVlc3RBbmltYXRpb25GcmFtZT9DLnJlcXVlc3RBbmltYXRpb25GcmFtZShvdCk6Qy5zZXRUaW1lb3V0KG90LFMuZnguaW50ZXJ2YWwpLFMuZngudGljaygpKX1mdW5jdGlvbiBhdCgpe3JldHVybiBDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtaZT12b2lkIDB9KSxaZT1EYXRlLm5vdygpfWZ1bmN0aW9uIHN0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbIm1hcmdpbiIrKG49bmVbcl0pXT1pWyJwYWRkaW5nIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiB1dChlLHQsbil7Zm9yKHZhciByLGk9KGx0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KGx0LnR3ZWVuZXJzWyIqIl0pLG89MCxhPWkubGVuZ3RoO288YTtvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGx0KG8sZSx0KXt2YXIgbixhLHI9MCxpPWx0LnByZWZpbHRlcnMubGVuZ3RoLHM9Uy5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9WmV8fGF0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpTLmV4dGVuZCh7fSxlKSxvcHRzOlMuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpTLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOlplfHxhdCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5Ud2VlbihvLGwub3B0cyxlLHQsbC5vcHRzLnNwZWNpYWxFYXNpbmdbZV18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKG4pLG59LHN0b3A6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWU/bC50d2VlbnMubGVuZ3RoOjA7aWYoYSlyZXR1cm4gdGhpcztmb3IoYT0hMDt0PG47dCsrKWwudHdlZW5zW3RdLnJ1bigxKTtyZXR1cm4gZT8ocy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsLGVdKSk6cy5yZWplY3RXaXRoKG8sW2wsZV0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcighZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhO2ZvcihuIGluIGUpaWYoaT10W3I9WChuKV0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT1TLmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKWZvcihuIGluIG89YS5leHBhbmQobyksZGVsZXRlIGVbcl0sbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cjxpO3IrKylpZihuPWx0LnByZWZpbHRlcnNbcl0uY2FsbChsLG8sYyxsLm9wdHMpKXJldHVybiBtKG4uc3RvcCkmJihTLl9xdWV1ZUhvb2tzKGwuZWxlbSxsLm9wdHMucXVldWUpLnN0b3A9bi5zdG9wLmJpbmQobikpLG47cmV0dXJuIFMubWFwKGMsdXQsbCksbShsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChvLGwpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpLFMuZngudGltZXIoUy5leHRlbmQodSx7ZWxlbTpvLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbH1TLkFuaW1hdGlvbj1TLmV4dGVuZChsdCx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHNlKG4uZWxlbSxlLHRlLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7bShlKT8odD1lLGU9WyIqIl0pOmU9ZS5tYXRjaChQKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWVbcl0sbHQudHdlZW5lcnNbbl09bHQudHdlZW5lcnNbbl18fFtdLGx0LnR3ZWVuZXJzW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjLGY9IndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCxwPXRoaXMsZD17fSxoPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZhZShlKSx2PVkuZ2V0KGUsImZ4c2hvdyIpO2ZvcihyIGluIG4ucXVldWV8fChudWxsPT0oYT1TLl9xdWV1ZUhvb2tzKGUsImZ4IikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHM9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHMoKX0pLGEudW5xdWV1ZWQrKyxwLmFsd2F5cyhmdW5jdGlvbigpe3AuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLFMucXVldWUoZSwiZngiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihpPXRbcl0scnQudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShnPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Uy5zdHlsZShlLHIpfWlmKCh1PSFTLmlzRW1wdHlPYmplY3QodCkpfHwhUy5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9WS5nZXQoZSwiZGlzcGxheSIpKSwibm9uZSI9PT0oYz1TLmNzcyhlLCJkaXNwbGF5IikpJiYobD9jPWw6KGxlKFtlXSwhMCksbD1lLnN0eWxlLmRpc3BsYXl8fGwsYz1TLmNzcyhlLCJkaXNwbGF5IiksbGUoW2VdKSkpLCgiaW5saW5lIj09PWN8fCJpbmxpbmUtYmxvY2siPT09YyYmbnVsbCE9bCkmJiJub25lIj09PVMuY3NzKGUsImZsb2F0IikmJih1fHwocC5kb25lKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1oLmRpc3BsYXksbD0ibm9uZSI9PT1jPyIiOmMpKSxoLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYoaC5vdmVyZmxvdz0iaGlkZGVuIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2PyJoaWRkZW4iaW4gdiYmKGc9di5oaWRkZW4pOnY9WS5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpsfSksbyYmKHYuaGlkZGVuPSFnKSxnJiZsZShbZV0sITApLHAuZG9uZShmdW5jdGlvbigpe2ZvcihyIGluIGd8fGxlKFtlXSksWS5yZW1vdmUoZSwiZnhzaG93IiksZClTLnN0eWxlKGUscixkW3JdKX0pKSx1PXV0KGc/dltyXTowLHIscCksciBpbiB2fHwodltyXT11LnN0YXJ0LGcmJih1LmVuZD11LnN0YXJ0LHUuc3RhcnQ9MCkpfV0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9sdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6bHQucHJlZmlsdGVycy5wdXNoKGUpfX0pLFMuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT9TLmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fG0oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIW0odCkmJnR9O3JldHVybiBTLmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiBTLmZ4LnNwZWVkcz9yLmR1cmF0aW9uPVMuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249Uy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bShyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmUy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LFMuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1TLmlzRW1wdHlPYmplY3QodCksbz1TLnNwZWVkKGUsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIGU9bHQodGhpcyxTLmV4dGVuZCh7fSx0KSxvKTsoaXx8WS5nZXQodGhpcywiZmluaXNoIikpJiZlLnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihpLGUsbyl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChvKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0hMCx0PW51bGwhPWkmJmkrInF1ZXVlSG9va3MiLG49Uy50aW1lcnMscj1ZLmdldCh0aGlzKTtpZih0KXJbdF0mJnJbdF0uc3RvcCYmYShyW3RdKTtlbHNlIGZvcih0IGluIHIpclt0XSYmclt0XS5zdG9wJiZpdC50ZXN0KHQpJiZhKHJbdF0pO2Zvcih0PW4ubGVuZ3RoO3QtLTspblt0XS5lbGVtIT09dGhpc3x8bnVsbCE9aSYmblt0XS5xdWV1ZSE9PWl8fChuW3RdLmFuaW0uc3RvcChvKSxlPSExLG4uc3BsaWNlKHQsMSkpOyFlJiZvfHxTLmRlcXVldWUodGhpcyxpKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuITEhPT1hJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0PVkuZ2V0KHRoaXMpLG49dFthKyJxdWV1ZSJdLHI9dFthKyJxdWV1ZUhvb2tzIl0saT1TLnRpbWVycyxvPW4/bi5sZW5ndGg6MDtmb3IodC5maW5pc2g9ITAsUy5xdWV1ZSh0aGlzLGEsW10pLHImJnIuc3RvcCYmci5zdG9wLmNhbGwodGhpcywhMCksZT1pLmxlbmd0aDtlLS07KWlbZV0uZWxlbT09PXRoaXMmJmlbZV0ucXVldWU9PT1hJiYoaVtlXS5hbmltLnN0b3AoITApLGkuc3BsaWNlKGUsMSkpO2ZvcihlPTA7ZTxvO2UrKyluW2VdJiZuW2VdLmZpbmlzaCYmbltlXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgdC5maW5pc2h9KX19KSxTLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUscil7dmFyIGk9Uy5mbltyXTtTLmZuW3JdPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoc3QociwhMCksZSx0LG4pfX0pLFMuZWFjaCh7c2xpZGVEb3duOnN0KCJzaG93Iiksc2xpZGVVcDpzdCgiaGlkZSIpLHNsaWRlVG9nZ2xlOnN0KCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUscil7Uy5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxTLnRpbWVycz1bXSxTLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj1TLnRpbWVycztmb3IoWmU9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxTLmZ4LnN0b3AoKSxaZT12b2lkIDB9LFMuZngudGltZXI9ZnVuY3Rpb24oZSl7Uy50aW1lcnMucHVzaChlKSxTLmZ4LnN0YXJ0KCl9LFMuZnguaW50ZXJ2YWw9MTMsUy5meC5zdGFydD1mdW5jdGlvbigpe2V0fHwoZXQ9ITAsb3QoKSl9LFMuZnguc3RvcD1mdW5jdGlvbigpe2V0PW51bGx9LFMuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LFMuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1TLmZ4JiZTLmZ4LnNwZWVkc1tyXXx8cixlPWV8fCJmeCIsdGhpcy5xdWV1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49Qy5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7Qy5jbGVhclRpbWVvdXQobil9fSl9LHR0PUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxudD1FLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLHR0LnR5cGU9ImNoZWNrYm94Iix5LmNoZWNrT249IiIhPT10dC52YWx1ZSx5Lm9wdFNlbGVjdGVkPW50LnNlbGVjdGVkLCh0dD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0Iix0dC50eXBlPSJyYWRpbyIseS5yYWRpb1ZhbHVlPSJ0Ij09PXR0LnZhbHVlO3ZhciBjdCxmdD1TLmV4cHIuYXR0ckhhbmRsZTtTLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsUy5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/Uy5wcm9wKGUsdCxuKTooMT09PW8mJlMuaXNYTUxEb2MoZSl8fChpPVMuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChTLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP2N0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCBTLnJlbW92ZUF0dHIoZSx0KTppJiYic2V0ImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPVMuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmQShlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goUCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksY3Q9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P1MucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LFMuZWFjaChTLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBhPWZ0W3RdfHxTLmZpbmQuYXR0cjtmdFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9ZnRbb10sZnRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCxmdFtvXT1pKSxyfX0pO3ZhciBwdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGR0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBodChlKXtyZXR1cm4oZS5tYXRjaChQKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBndChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiB2dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChQKXx8W119Uy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbUy5wcm9wRml4W2VdfHxlXX0pfX0pLFMuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmUy5pc1hNTERvYyhlKXx8KHQ9Uy5wcm9wRml4W3RdfHx0LGk9Uy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6cHQudGVzdChlLm5vZGVOYW1lKXx8ZHQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSkseS5vcHRTZWxlY3RlZHx8KFMucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxTLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe1MucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxTLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLmFkZENsYXNzKHQuY2FsbCh0aGlzLGUsZ3QodGhpcykpKX0pO2lmKChlPXZ0KHQpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1ndChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIraHQoaSkrIiAiKXthPTA7d2hpbGUobz1lW2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9aHQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1PTA7aWYobSh0KSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1ModGhpcykucmVtb3ZlQ2xhc3ModC5jYWxsKHRoaXMsZSxndCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigoZT12dCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9Z3Qobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK2h0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXdoaWxlKC0xPHIuaW5kZXhPZigiICIrbysiICIpKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz1odChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGksdCl7dmFyIG89dHlwZW9mIGksYT0ic3RyaW5nIj09PW98fEFycmF5LmlzQXJyYXkoaSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmYT90P3RoaXMuYWRkQ2xhc3MoaSk6dGhpcy5yZW1vdmVDbGFzcyhpKTptKGkpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnRvZ2dsZUNsYXNzKGkuY2FsbCh0aGlzLGUsZ3QodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtpZihhKXt0PTAsbj1TKHRoaXMpLHI9dnQoaSk7d2hpbGUoZT1yW3QrK10pbi5oYXNDbGFzcyhlKT9uLnJlbW92ZUNsYXNzKGUpOm4uYWRkQ2xhc3MoZSl9ZWxzZSB2b2lkIDAhPT1pJiYiYm9vbGVhbiIhPT1vfHwoKGU9Z3QodGhpcykpJiZZLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlfHwhMT09PWk/IiI6WS5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoIiAiK2h0KGd0KG4pKSsiICIpLmluZGV4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHl0PS9cci9nO1MuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHIsZSxpLHQ9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1tKG4pLHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgdDsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh0PWk/bi5jYWxsKHRoaXMsZSxTKHRoaXMpLnZhbCgpKTpuKT90PSIiOiJudW1iZXIiPT10eXBlb2YgdD90Kz0iIjpBcnJheS5pc0FycmF5KHQpJiYodD1TLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHI9Uy52YWxIb29rc1t0aGlzLnR5cGVdfHxTLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHImJnZvaWQgMCE9PXIuc2V0KHRoaXMsdCwidmFsdWUiKXx8KHRoaXMudmFsdWU9dCkpfSkpOnQ/KHI9Uy52YWxIb29rc1t0LnR5cGVdfHxTLnZhbEhvb2tzW3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHImJnZvaWQgMCE9PShlPXIuZ2V0KHQsInZhbHVlIikpP2U6InN0cmluZyI9PXR5cGVvZihlPXQudmFsdWUpP2UucmVwbGFjZSh5dCwiIik6bnVsbD09ZT8iIjplOnZvaWQgMH19KSxTLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpodChTLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9ZS5vcHRpb25zLG89ZS5zZWxlY3RlZEluZGV4LGE9InNlbGVjdC1vbmUiPT09ZS50eXBlLHM9YT9udWxsOltdLHU9YT9vKzE6aS5sZW5ndGg7Zm9yKHI9bzwwP3U6YT9vOjA7cjx1O3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhQShuLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih0PVMobikudmFsKCksYSlyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLm9wdGlvbnMsbz1TLm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO3doaWxlKGEtLSkoKHI9aVthXSkuc2VsZWN0ZWQ9LTE8Uy5pbkFycmF5KFMudmFsSG9va3Mub3B0aW9uLmdldChyKSxvKSkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLFMuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe1MudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD0tMTxTLmluQXJyYXkoUyhlKS52YWwoKSx0KX19LHkuY2hlY2tPbnx8KFMudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KSx5LmZvY3VzaW49Im9uZm9jdXNpbiJpbiBDO3ZhciBtdD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8seHQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07Uy5leHRlbmQoUy5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmLHA9W258fEVdLGQ9di5jYWxsKGUsInR5cGUiKT9lLnR5cGU6ZSxoPXYuY2FsbChlLCJuYW1lc3BhY2UiKT9lLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKG89Zj1hPW49bnx8RSwzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJiFtdC50ZXN0KGQrUy5ldmVudC50cmlnZ2VyZWQpJiYoLTE8ZC5pbmRleE9mKCIuIikmJihkPShoPWQuc3BsaXQoIi4iKSkuc2hpZnQoKSxoLnNvcnQoKSksdT1kLmluZGV4T2YoIjoiKTwwJiYib24iK2QsKGU9ZVtTLmV4cGFuZG9dP2U6bmV3IFMuRXZlbnQoZCwib2JqZWN0Ij09dHlwZW9mIGUmJmUpKS5pc1RyaWdnZXI9cj8yOjMsZS5uYW1lc3BhY2U9aC5qb2luKCIuIiksZS5ybmFtZXNwYWNlPWUubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxlLnJlc3VsdD12b2lkIDAsZS50YXJnZXR8fChlLnRhcmdldD1uKSx0PW51bGw9PXQ/W2VdOlMubWFrZUFycmF5KHQsW2VdKSxjPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXgobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLG10LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEUpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fEMpfWk9MDt3aGlsZSgobz1wW2krK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWY9byxlLnR5cGU9MTxpP3M6Yy5iaW5kVHlwZXx8ZCwobD0oWS5nZXQobywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJlkuZ2V0KG8sImhhbmRsZSIpKSYmbC5hcHBseShvLHQpLChsPXUmJm9bdV0pJiZsLmFwcGx5JiZWKG8pJiYoZS5yZXN1bHQ9bC5hcHBseShvLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1kLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMuX2RlZmF1bHQmJiExIT09Yy5fZGVmYXVsdC5hcHBseShwLnBvcCgpLHQpfHwhVihuKXx8dSYmbShuW2RdKSYmIXgobikmJigoYT1uW3VdKSYmKG5bdV09bnVsbCksUy5ldmVudC50cmlnZ2VyZWQ9ZCxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYuYWRkRXZlbnRMaXN0ZW5lcihkLHh0KSxuW2RdKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCx4dCksUy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW3VdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TLmV4dGVuZChuZXcgUy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtTLmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLFMuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIFMuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSkseS5mb2N1c2lufHxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7Uy5ldmVudC5zaW11bGF0ZShyLGUudGFyZ2V0LFMuZXZlbnQuZml4KGUpKX07Uy5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyx0PVkuYWNjZXNzKGUscik7dHx8ZS5hZGRFdmVudExpc3RlbmVyKG4saSwhMCksWS5hY2Nlc3MoZSxyLCh0fHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpLTE7dD9ZLmFjY2VzcyhlLHIsdCk6KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksITApLFkucmVtb3ZlKGUscikpfX19KTt2YXIgYnQ9Qy5sb2NhdGlvbix3dD17Z3VpZDpEYXRlLm5vdygpfSxUdD0vXD8vO1MucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXt0PShuZXcgQy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe31yZXR1cm4gbj10JiZ0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdLHQmJiFufHxTLmVycm9yKCJJbnZhbGlkIFhNTDogIisobj9TLm1hcChuLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dENvbnRlbnR9KS5qb2luKCJcbiIpOmUpKSx0fTt2YXIgQ3Q9L1xbXF0kLyxFdD0vXHI/XG4vZyxTdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksa3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEF0KG4sZSxyLGkpe3ZhciB0O2lmKEFycmF5LmlzQXJyYXkoZSkpUy5lYWNoKGUsZnVuY3Rpb24oZSx0KXtyfHxDdC50ZXN0KG4pP2kobix0KTpBdChuKyJbIisoIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10P2U6IiIpKyJdIix0LHIsaSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dyhlKSlpKG4sZSk7ZWxzZSBmb3IodCBpbiBlKUF0KG4rIlsiK3QrIl0iLGVbdF0scixpKX1TLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49bSh0KT90KCk6dDtyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uPyIiOm4pfTtpZihudWxsPT1lKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhUy5pc1BsYWluT2JqZWN0KGUpKVMuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpQXQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSxTLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIFMucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1TLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT9TLm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFTKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYma3QudGVzdCh0aGlzLm5vZGVOYW1lKSYmIVN0LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPVModGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP1MubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShFdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoRXQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgTnQ9LyUyMC9nLGp0PS8jLiokLyxEdD0vKFs/Jl0pXz1bXiZdKi8scXQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxMdD0vXig/OkdFVHxIRUFEKSQvLEh0PS9eXC9cLy8sT3Q9e30sUHQ9e30sUnQ9IiovIi5jb25jYXQoIioiKSxNdD1FLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBJdChvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iKiIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8W107aWYobSh0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIFd0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PVB0O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsUy5lYWNoKHRbZV18fFtdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dChpLG8sYSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBufHx1fHxzW25dP3U/IShyPW4pOnZvaWQgMDooaS5kYXRhVHlwZXMudW5zaGlmdChuKSxsKG4pLCExKX0pLHJ9cmV0dXJuIGwoaS5kYXRhVHlwZXNbMF0pfHwhc1siKiJdJiZsKCIqIil9ZnVuY3Rpb24gRnQoZSx0KXt2YXIgbixyLGk9Uy5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmUy5leHRlbmQoITAsZSxyKSxlfU10LmhyZWY9YnQuaHJlZixTLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6YnQuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChidC5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpSdCx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6Uy5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/RnQoRnQoZSxTLmFqYXhTZXR0aW5ncyksdCk6RnQoUy5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6SXQoT3QpLGFqYXhUcmFuc3BvcnQ6SXQoUHQpLGFqYXg6ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIGMsZixwLG4sZCxyLGgsZyxpLG8sdj1TLmFqYXhTZXR1cCh7fSx0KSx5PXYuY29udGV4dHx8dixtPXYuY29udGV4dCYmKHkubm9kZVR5cGV8fHkuanF1ZXJ5KT9TKHkpOlMuZXZlbnQseD1TLkRlZmVycmVkKCksYj1TLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1xdC5leGVjKHApKW5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSl9dD1uW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxidC5ocmVmKSsiIikucmVwbGFjZShIdCxidC5wcm90b2NvbCsiLy8iKSx2LnR5cGU9dC5tZXRob2R8fHQudHlwZXx8di5tZXRob2R8fHYudHlwZSx2LmRhdGFUeXBlcz0odi5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKFApfHxbIiJdLG51bGw9PXYuY3Jvc3NEb21haW4pe3I9RS5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e3IuaHJlZj12LnVybCxyLmhyZWY9ci5ocmVmLHYuY3Jvc3NEb21haW49TXQucHJvdG9jb2wrIi8vIitNdC5ob3N0IT1yLnByb3RvY29sKyIvLyIrci5ob3N0fWNhdGNoKGUpe3YuY3Jvc3NEb21haW49ITB9fWlmKHYuZGF0YSYmdi5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB2LmRhdGEmJih2LmRhdGE9Uy5wYXJhbSh2LmRhdGEsdi50cmFkaXRpb25hbCkpLFd0KE90LHYsdCxUKSxoKXJldHVybiBUO2ZvcihpIGluKGc9Uy5ldmVudCYmdi5nbG9iYWwpJiYwPT1TLmFjdGl2ZSsrJiZTLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHYudHlwZT12LnR5cGUudG9VcHBlckNhc2UoKSx2Lmhhc0NvbnRlbnQ9IUx0LnRlc3Qodi50eXBlKSxmPXYudXJsLnJlcGxhY2UoanQsIiIpLHYuaGFzQ29udGVudD92LmRhdGEmJnYucHJvY2Vzc0RhdGEmJjA9PT0odi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodi5kYXRhPXYuZGF0YS5yZXBsYWNlKE50LCIrIikpOihvPXYudXJsLnNsaWNlKGYubGVuZ3RoKSx2LmRhdGEmJih2LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHYuZGF0YSkmJihmKz0oVHQudGVzdChmKT8iJiI6Ij8iKSt2LmRhdGEsZGVsZXRlIHYuZGF0YSksITE9PT12LmNhY2hlJiYoZj1mLnJlcGxhY2UoRHQsIiQxIiksbz0oVHQudGVzdChmKT8iJiI6Ij8iKSsiXz0iK3d0Lmd1aWQrKytvKSx2LnVybD1mK28pLHYuaWZNb2RpZmllZCYmKFMubGFzdE1vZGlmaWVkW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixTLmxhc3RNb2RpZmllZFtmXSksUy5ldGFnW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLFMuZXRhZ1tmXSkpLCh2LmRhdGEmJnYuaGFzQ29udGVudCYmITEhPT12LmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHYuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix2LmRhdGFUeXBlc1swXSYmdi5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXT92LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dKygiKiIhPT12LmRhdGFUeXBlc1swXT8iLCAiK1J0KyI7IHE9MC4wMSI6IiIpOnYuYWNjZXB0c1siKiJdKSx2LmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGksdi5oZWFkZXJzW2ldKTtpZih2LmJlZm9yZVNlbmQmJighMT09PXYuYmVmb3JlU2VuZC5jYWxsKHksVCx2KXx8aCkpcmV0dXJuIFQuYWJvcnQoKTtpZih1PSJhYm9ydCIsYi5hZGQodi5jb21wbGV0ZSksVC5kb25lKHYuc3VjY2VzcyksVC5mYWlsKHYuZXJyb3IpLGM9V3QoUHQsdix0LFQpKXtpZihULnJlYWR5U3RhdGU9MSxnJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbVCx2XSksaClyZXR1cm4gVDt2LmFzeW5jJiYwPHYudGltZW91dCYmKGQ9Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5hYm9ydCgidGltZW91dCIpfSx2LnRpbWVvdXQpKTt0cnl7aD0hMSxjLnNlbmQoYSxsKX1jYXRjaChlKXtpZihoKXRocm93IGU7bCgtMSxlKX19ZWxzZSBsKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJkMuY2xlYXJUaW1lb3V0KGQpLGM9dm9pZCAwLHA9cnx8IiIsVC5yZWFkeVN0YXRlPTA8ZT80OjAsaT0yMDA8PWUmJmU8MzAwfHwzMDQ9PT1lLG4mJihzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYocilmb3IoaSBpbiBzKWlmKHNbaV0mJnNbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaSsiICIrdVswXV0pe289aTticmVha31hfHwoYT1pKX1vPW98fGF9aWYobylyZXR1cm4gbyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dfSh2LFQsbikpLCFpJiYtMTxTLmluQXJyYXkoInNjcmlwdCIsdi5kYXRhVHlwZXMpJiZTLmluQXJyYXkoImpzb24iLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoUy5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKFMuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLVMuYWN0aXZlfHxTLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFMuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBTLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxTLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtTW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksUy5hamF4KFMuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxTLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxTLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pLFMuX2V2YWxVcmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmFqYXgoe3VybDplLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKGUpe1MuZ2xvYmFsRXZhbChlLHQsbil9fSl9LFMuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PVMoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1TKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLFMuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hUy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sUy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LFMuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIEJ0PXswOjIwMCwxMjIzOjIwNH0sJHQ9Uy5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhJHQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gJHQseS5hamF4PSR0PSEhJHQsUy5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHwkdCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChCdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxTLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gUy5nbG9iYWxFdmFsKGUpLGV9fX0pLFMuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxTLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1TKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgX3QsenQ9W10sVXQ9Lyg9KVw/KD89JnwkKXxcP1w/LztTLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9enQucG9wKCl8fFMuZXhwYW5kbysiXyIrd3QuZ3VpZCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksUy5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ITEhPT1lLmpzb25wJiYoVXQudGVzdChlLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBlLmRhdGEmJjA9PT0oZS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZVdC50ZXN0KGUuZGF0YSkmJiJkYXRhIik7aWYoYXx8Impzb25wIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz1tKGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoVXQsIiQxIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KFR0LnRlc3QoZS51cmwpPyImIjoiPyIpK2UuanNvbnArIj0iK3IpLGUuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBvfHxTLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLG9bMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixpPUNbcl0sQ1tyXT1mdW5jdGlvbigpe289YXJndW1lbnRzfSxuLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWk/UyhDKS5yZW1vdmVQcm9wKHIpOkNbcl09aSxlW3JdJiYoZS5qc29ucENhbGxiYWNrPXQuanNvbnBDYWxsYmFjayx6dC5wdXNoKHIpKSxvJiZtKGkpJiZpKG9bMF0pLG89aT12b2lkIDB9KSwic2NyaXB0In0pLHkuY3JlYXRlSFRNTERvY3VtZW50PSgoX3Q9RS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1fdC5jaGlsZE5vZGVzLmxlbmd0aCksUy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwoeS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPUUubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocikpOnQ9RSksbz0hbiYmW10sKGk9Ti5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KGlbMV0pXTooaT14ZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmUyhvKS5yZW1vdmUoKSxTLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LFMuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9dGhpcyxzPWUuaW5kZXhPZigiICIpO3JldHVybi0xPHMmJihyPWh0KGUuc2xpY2UocykpLGU9ZS5zbGljZSgwLHMpKSxtKHQpPyhuPXQsdD12b2lkIDApOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmKGk9IlBPU1QiKSwwPGEubGVuZ3RoJiZTLmFqYXgoe3VybDplLHR5cGU6aXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/UygiPGRpdj4iKS5hcHBlbmQoUy5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXthLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSxTLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gUy5ncmVwKFMudGltZXJzLGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZS5lbGVtfSkubGVuZ3RofSxTLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD1TLmNzcyhlLCJwb3NpdGlvbiIpLGM9UyhlKSxmPXt9OyJzdGF0aWMiPT09bCYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIikscz1jLm9mZnNldCgpLG89Uy5jc3MoZSwidG9wIiksdT1TLmNzcyhlLCJsZWZ0IiksKCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJi0xPChvK3UpLmluZGV4T2YoImF1dG8iKT8oYT0ocj1jLnBvc2l0aW9uKCkpLnRvcCxpPXIubGVmdCk6KGE9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLG0odCkmJih0PXQuY2FsbChlLG4sUy5leHRlbmQoe30scykpKSxudWxsIT10LnRvcCYmKGYudG9wPXQudG9wLXMudG9wK2EpLG51bGwhPXQubGVmdCYmKGYubGVmdD10LmxlZnQtcy5sZWZ0K2kpLCJ1c2luZyJpbiB0P3QudXNpbmcuY2FsbChlLGYpOmMuY3NzKGYpfX0sUy5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1Mub2Zmc2V0LnNldE9mZnNldCh0aGlzLHQsZSl9KTt2YXIgZSxuLHI9dGhpc1swXTtyZXR1cm4gcj9yLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhlPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDplLnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6ZS5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLHI9dGhpc1swXSxpPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1TLmNzcyhyLCJwb3NpdGlvbiIpKXQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle3Q9dGhpcy5vZmZzZXQoKSxuPXIub3duZXJEb2N1bWVudCxlPXIub2Zmc2V0UGFyZW50fHxuLmRvY3VtZW50RWxlbWVudDt3aGlsZShlJiYoZT09PW4uYm9keXx8ZT09PW4uZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5wYXJlbnROb2RlO2UmJmUhPT1yJiYxPT09ZS5ub2RlVHlwZSYmKChpPVMoZSkub2Zmc2V0KCkpLnRvcCs9Uy5jc3MoZSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxpLmxlZnQrPVMuY3NzKGUsImJvcmRlckxlZnRXaWR0aCIsITApKX1yZXR1cm57dG9wOnQudG9wLWkudG9wLVMuY3NzKHIsIm1hcmdpblRvcCIsITApLGxlZnQ6dC5sZWZ0LWkubGVmdC1TLmNzcyhyLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoZSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHJlfSl9fSksUy5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKHQsaSl7dmFyIG89InBhZ2VZT2Zmc2V0Ij09PWk7Uy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZih4KGUpP3I9ZTo5PT09ZS5ub2RlVHlwZSYmKHI9ZS5kZWZhdWx0Vmlldyksdm9pZCAwPT09bilyZXR1cm4gcj9yW2ldOmVbdF07cj9yLnNjcm9sbFRvKG8/ci5wYWdlWE9mZnNldDpuLG8/bjpyLnBhZ2VZT2Zmc2V0KTplW3RdPW59LHQsZSxhcmd1bWVudHMubGVuZ3RoKX19KSxTLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSxuKXtTLmNzc0hvb2tzW25dPUZlKHkucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIHQ9V2UoZSxuKSxQZS50ZXN0KHQpP1MoZSkucG9zaXRpb24oKVtuXSsicHgiOnR9KX0pLFMuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEscyl7Uy5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OnMsIiI6Im91dGVyIithfSxmdW5jdGlvbihyLG8pe1MuZm5bb109ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZSksaT1yfHwoITA9PT1lfHwhMD09PXQ/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB4KGUpPzA9PT1vLmluZGV4T2YoIm91dGVyIik/ZVsiaW5uZXIiK2FdOmUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1lLm5vZGVUeXBlPyhyPWUuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGUuYm9keVsic2Nyb2xsIithXSxyWyJzY3JvbGwiK2FdLGUuYm9keVsib2Zmc2V0IithXSxyWyJvZmZzZXQiK2FdLHJbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1uP1MuY3NzKGUsdCxpKTpTLnN0eWxlKGUsdCxuLGkpfSxzLG4/ZTp2b2lkIDAsbil9fSl9KSxTLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihlLHQpe1MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxTLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9LGhvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLFMuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLG4pe1MuZm5bbl09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP3RoaXMub24obixudWxsLGUsdCk6dGhpcy50cmlnZ2VyKG4pfX0pO3ZhciBYdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Uy5wcm94eT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihuPWVbdF0sdD1lLGU9biksbShlKSlyZXR1cm4gcj1zLmNhbGwoYXJndW1lbnRzLDIpLChpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodHx8dGhpcyxyLmNvbmNhdChzLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxTLmd1aWQrKyxpfSxTLmhvbGRSZWFkeT1mdW5jdGlvbihlKXtlP1MucmVhZHlXYWl0Kys6Uy5yZWFkeSghMCl9LFMuaXNBcnJheT1BcnJheS5pc0FycmF5LFMucGFyc2VKU09OPUpTT04ucGFyc2UsUy5ub2RlTmFtZT1BLFMuaXNGdW5jdGlvbj1tLFMuaXNXaW5kb3c9eCxTLmNhbWVsQ2FzZT1YLFMudHlwZT13LFMubm93PURhdGUubm93LFMuaXNOdW1lcmljPWZ1bmN0aW9uKGUpe3ZhciB0PVMudHlwZShlKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sUy50cmltPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKFh0LCIiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIFN9KTt2YXIgVnQ9Qy5qUXVlcnksR3Q9Qy4kO3JldHVybiBTLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIEMuJD09PVMmJihDLiQ9R3QpLGUmJkMualF1ZXJ5PT09UyYmKEMualF1ZXJ5PVZ0KSxTfSwidW5kZWZpbmVkIj09dHlwZW9mIGUmJihDLmpRdWVyeT1DLiQ9UyksU30pOwo="},{"meta":{"name":"crypto-js.min.js","url":"https://cdn.jsdelivr.net/npm/crypto-js@4.1.1/crypto-js.min.js","ts":1657118213729,"mimetype":"text/javascript"},"source":"LyoqCiAqIE1pbmlmaWVkIGJ5IGpzRGVsaXZyIHVzaW5nIFRlcnNlciB2NS43LjEuCiAqIE9yaWdpbmFsIGZpbGU6IC9ucG0vY3J5cHRvLWpzQDQuMS4xL2NyeXB0by1qcy5qcwogKgogKiBEbyBOT1QgdXNlIFNSSSB3aXRoIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCBmaWxlcyEgTW9yZSBpbmZvcm1hdGlvbjogaHR0cHM6Ly93d3cuanNkZWxpdnIuY29tL3VzaW5nLXNyaS13aXRoLWR5bmFtaWMtZmlsZXMKICovCiFmdW5jdGlvbih0LGUpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1leHBvcnRzPWUoKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTp0LkNyeXB0b0pTPWUoKX0odGhpcywoZnVuY3Rpb24oKXt2YXIgdCxlLHIsaSxuLG8scyxhLGM9Y3x8ZnVuY3Rpb24odCxlKXt2YXIgcjtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmNyeXB0byYmKHI9d2luZG93LmNyeXB0byksInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLmNyeXB0byYmKHI9c2VsZi5jcnlwdG8pLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcy5jcnlwdG8mJihyPWdsb2JhbFRoaXMuY3J5cHRvKSwhciYmInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5tc0NyeXB0byYmKHI9d2luZG93Lm1zQ3J5cHRvKSwhciYmInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbC5jcnlwdG8mJihyPWdsb2JhbC5jcnlwdG8pLCFyJiYiZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSl0cnl7cj1yZXF1aXJlKCJjcnlwdG8iKX1jYXRjaCh0KXt9dmFyIGk9ZnVuY3Rpb24oKXtpZihyKXtpZigiZnVuY3Rpb24iPT10eXBlb2Ygci5nZXRSYW5kb21WYWx1ZXMpdHJ5e3JldHVybiByLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoMSkpWzBdfWNhdGNoKHQpe31pZigiZnVuY3Rpb24iPT10eXBlb2Ygci5yYW5kb21CeXRlcyl0cnl7cmV0dXJuIHIucmFuZG9tQnl0ZXMoNCkucmVhZEludDMyTEUoKX1jYXRjaCh0KXt9fXRocm93IG5ldyBFcnJvcigiTmF0aXZlIGNyeXB0byBtb2R1bGUgY291bGQgbm90IGJlIHVzZWQgdG8gZ2V0IHNlY3VyZSByYW5kb20gbnVtYmVyLiIpfSxuPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHI7cmV0dXJuIHQucHJvdG90eXBlPWUscj1uZXcgdCx0LnByb3RvdHlwZT1udWxsLHJ9fSgpLG89e30scz1vLmxpYj17fSxhPXMuQmFzZT17ZXh0ZW5kOmZ1bmN0aW9uKHQpe3ZhciBlPW4odGhpcyk7cmV0dXJuIHQmJmUubWl4SW4odCksZS5oYXNPd25Qcm9wZXJ0eSgiaW5pdCIpJiZ0aGlzLmluaXQhPT1lLmluaXR8fChlLmluaXQ9ZnVuY3Rpb24oKXtlLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLGUuaW5pdC5wcm90b3R5cGU9ZSxlLiRzdXBlcj10aGlzLGV9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZXh0ZW5kKCk7cmV0dXJuIHQuaW5pdC5hcHBseSh0LGFyZ3VtZW50cyksdH0saW5pdDpmdW5jdGlvbigpe30sbWl4SW46ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmKHRoaXNbZV09dFtlXSk7dC5oYXNPd25Qcm9wZXJ0eSgidG9TdHJpbmciKSYmKHRoaXMudG9TdHJpbmc9dC50b1N0cmluZyl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5pdC5wcm90b3R5cGUuZXh0ZW5kKHRoaXMpfX0sYz1zLldvcmRBcnJheT1hLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LGUpe3Q9dGhpcy53b3Jkcz10fHxbXSx0aGlzLnNpZ0J5dGVzPW51bGwhPWU/ZTo0KnQubGVuZ3RofSx0b1N0cmluZzpmdW5jdGlvbih0KXtyZXR1cm4odHx8bCkuc3RyaW5naWZ5KHRoaXMpfSxjb25jYXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy53b3JkcyxyPXQud29yZHMsaT10aGlzLnNpZ0J5dGVzLG49dC5zaWdCeXRlcztpZih0aGlzLmNsYW1wKCksaSU0KWZvcih2YXIgbz0wO288bjtvKyspe3ZhciBzPXJbbz4+PjJdPj4+MjQtbyU0KjgmMjU1O2VbaStvPj4+Ml18PXM8PDI0LShpK28pJTQqOH1lbHNlIGZvcih2YXIgYT0wO2E8bjthKz00KWVbaSthPj4+Ml09clthPj4+Ml07cmV0dXJuIHRoaXMuc2lnQnl0ZXMrPW4sdGhpc30sY2xhbXA6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLndvcmRzLHI9dGhpcy5zaWdCeXRlcztlW3I+Pj4yXSY9NDI5NDk2NzI5NTw8MzItciU0KjgsZS5sZW5ndGg9dC5jZWlsKHIvNCl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIHQ9YS5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiB0LndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCksdH0scmFuZG9tOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxyPTA7cjx0O3IrPTQpZS5wdXNoKGkoKSk7cmV0dXJuIG5ldyBjLmluaXQoZSx0KX19KSxoPW8uZW5jPXt9LGw9aC5IZXg9e3N0cmluZ2lmeTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC53b3JkcyxyPXQuc2lnQnl0ZXMsaT1bXSxuPTA7bjxyO24rKyl7dmFyIG89ZVtuPj4+Ml0+Pj4yNC1uJTQqOCYyNTU7aS5wdXNoKChvPj4+NCkudG9TdHJpbmcoMTYpKSxpLnB1c2goKDE1Jm8pLnRvU3RyaW5nKDE2KSl9cmV0dXJuIGkuam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxyPVtdLGk9MDtpPGU7aSs9MilyW2k+Pj4zXXw9cGFyc2VJbnQodC5zdWJzdHIoaSwyKSwxNik8PDI0LWklOCo0O3JldHVybiBuZXcgYy5pbml0KHIsZS8yKX19LGY9aC5MYXRpbjE9e3N0cmluZ2lmeTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC53b3JkcyxyPXQuc2lnQnl0ZXMsaT1bXSxuPTA7bjxyO24rKyl7dmFyIG89ZVtuPj4+Ml0+Pj4yNC1uJTQqOCYyNTU7aS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUobykpfXJldHVybiBpLmpvaW4oIiIpfSxwYXJzZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgscj1bXSxpPTA7aTxlO2krKylyW2k+Pj4yXXw9KDI1NSZ0LmNoYXJDb2RlQXQoaSkpPDwyNC1pJTQqODtyZXR1cm4gbmV3IGMuaW5pdChyLGUpfX0sdT1oLlV0Zjg9e3N0cmluZ2lmeTpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoZi5zdHJpbmdpZnkodCkpKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoIk1hbGZvcm1lZCBVVEYtOCBkYXRhIil9fSxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm4gZi5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodCkpKX19LGQ9cy5CdWZmZXJlZEJsb2NrQWxnb3JpdGhtPWEuZXh0ZW5kKHtyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RhdGE9bmV3IGMuaW5pdCx0aGlzLl9uRGF0YUJ5dGVzPTB9LF9hcHBlbmQ6ZnVuY3Rpb24odCl7InN0cmluZyI9PXR5cGVvZiB0JiYodD11LnBhcnNlKHQpKSx0aGlzLl9kYXRhLmNvbmNhdCh0KSx0aGlzLl9uRGF0YUJ5dGVzKz10LnNpZ0J5dGVzfSxfcHJvY2VzczpmdW5jdGlvbihlKXt2YXIgcixpPXRoaXMuX2RhdGEsbj1pLndvcmRzLG89aS5zaWdCeXRlcyxzPXRoaXMuYmxvY2tTaXplLGE9by8oNCpzKSxoPShhPWU/dC5jZWlsKGEpOnQubWF4KCgwfGEpLXRoaXMuX21pbkJ1ZmZlclNpemUsMCkpKnMsbD10Lm1pbig0Kmgsbyk7aWYoaCl7Zm9yKHZhciBmPTA7ZjxoO2YrPXMpdGhpcy5fZG9Qcm9jZXNzQmxvY2sobixmKTtyPW4uc3BsaWNlKDAsaCksaS5zaWdCeXRlcy09bH1yZXR1cm4gbmV3IGMuaW5pdChyLGwpfSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PWEuY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gdC5fZGF0YT10aGlzLl9kYXRhLmNsb25lKCksdH0sX21pbkJ1ZmZlclNpemU6MH0pLHA9KHMuSGFzaGVyPWQuZXh0ZW5kKHtjZmc6YS5leHRlbmQoKSxpbml0OmZ1bmN0aW9uKHQpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZCh0KSx0aGlzLnJlc2V0KCl9LHJlc2V0OmZ1bmN0aW9uKCl7ZC5yZXNldC5jYWxsKHRoaXMpLHRoaXMuX2RvUmVzZXQoKX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hcHBlbmQodCksdGhpcy5fcHJvY2VzcygpLHRoaXN9LGZpbmFsaXplOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0aGlzLl9hcHBlbmQodCksdGhpcy5fZG9GaW5hbGl6ZSgpfSxibG9ja1NpemU6MTYsX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxyKXtyZXR1cm4gbmV3IHQuaW5pdChyKS5maW5hbGl6ZShlKX19LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIpe3JldHVybiBuZXcgcC5ITUFDLmluaXQodCxyKS5maW5hbGl6ZShlKX19fSksby5hbGdvPXt9KTtyZXR1cm4gb30oTWF0aCk7cmV0dXJuIGU9KHQ9YykubGliLHI9ZS5CYXNlLGk9ZS5Xb3JkQXJyYXksKG49dC54NjQ9e30pLldvcmQ9ci5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxlKXt0aGlzLmhpZ2g9dCx0aGlzLmxvdz1lfX0pLG4uV29yZEFycmF5PXIuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQsZSl7dD10aGlzLndvcmRzPXR8fFtdLHRoaXMuc2lnQnl0ZXM9bnVsbCE9ZT9lOjgqdC5sZW5ndGh9LHRvWDMyOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMud29yZHMsZT10Lmxlbmd0aCxyPVtdLG49MDtuPGU7bisrKXt2YXIgbz10W25dO3IucHVzaChvLmhpZ2gpLHIucHVzaChvLmxvdyl9cmV0dXJuIGkuY3JlYXRlKHIsdGhpcy5zaWdCeXRlcyl9LGNsb25lOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXIuY2xvbmUuY2FsbCh0aGlzKSxlPXQud29yZHM9dGhpcy53b3Jkcy5zbGljZSgwKSxpPWUubGVuZ3RoLG49MDtuPGk7bisrKWVbbl09ZVtuXS5jbG9uZSgpO3JldHVybiB0fX0pLGZ1bmN0aW9uKCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIEFycmF5QnVmZmVyKXt2YXIgdD1jLmxpYi5Xb3JkQXJyYXksZT10LmluaXQ7KHQuaW5pdD1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJih0PW5ldyBVaW50OEFycmF5KHQpKSwodCBpbnN0YW5jZW9mIEludDhBcnJheXx8InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OENsYW1wZWRBcnJheSYmdCBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5fHx0IGluc3RhbmNlb2YgSW50MTZBcnJheXx8dCBpbnN0YW5jZW9mIFVpbnQxNkFycmF5fHx0IGluc3RhbmNlb2YgSW50MzJBcnJheXx8dCBpbnN0YW5jZW9mIFVpbnQzMkFycmF5fHx0IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHx0IGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5KSYmKHQ9bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCkpLHQgaW5zdGFuY2VvZiBVaW50OEFycmF5KXtmb3IodmFyIHI9dC5ieXRlTGVuZ3RoLGk9W10sbj0wO248cjtuKyspaVtuPj4+Ml18PXRbbl08PDI0LW4lNCo4O2UuY2FsbCh0aGlzLGkscil9ZWxzZSBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLnByb3RvdHlwZT10fX0oKSxmdW5jdGlvbigpe3ZhciB0PWMsZT10LmxpYi5Xb3JkQXJyYXkscj10LmVuYztyLlV0ZjE2PXIuVXRmMTZCRT17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LndvcmRzLHI9dC5zaWdCeXRlcyxpPVtdLG49MDtuPHI7bis9Mil7dmFyIG89ZVtuPj4+Ml0+Pj4xNi1uJTQqOCY2NTUzNTtpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShvKSl9cmV0dXJuIGkuam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgcj10Lmxlbmd0aCxpPVtdLG49MDtuPHI7bisrKWlbbj4+PjFdfD10LmNoYXJDb2RlQXQobik8PDE2LW4lMioxNjtyZXR1cm4gZS5jcmVhdGUoaSwyKnIpfX07ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdDw8OCY0Mjc4MjU1MzYwfHQ+Pj44JjE2NzExOTM1fXIuVXRmMTZMRT17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LndvcmRzLHI9dC5zaWdCeXRlcyxuPVtdLG89MDtvPHI7bys9Mil7dmFyIHM9aShlW28+Pj4yXT4+PjE2LW8lNCo4JjY1NTM1KTtuLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShzKSl9cmV0dXJuIG4uam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgcj10Lmxlbmd0aCxuPVtdLG89MDtvPHI7bysrKW5bbz4+PjFdfD1pKHQuY2hhckNvZGVBdChvKTw8MTYtbyUyKjE2KTtyZXR1cm4gZS5jcmVhdGUobiwyKnIpfX19KCksZnVuY3Rpb24oKXt2YXIgdD1jLGU9dC5saWIuV29yZEFycmF5O3QuZW5jLkJhc2U2ND17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe3ZhciBlPXQud29yZHMscj10LnNpZ0J5dGVzLGk9dGhpcy5fbWFwO3QuY2xhbXAoKTtmb3IodmFyIG49W10sbz0wO288cjtvKz0zKWZvcih2YXIgcz0oZVtvPj4+Ml0+Pj4yNC1vJTQqOCYyNTUpPDwxNnwoZVtvKzE+Pj4yXT4+PjI0LShvKzEpJTQqOCYyNTUpPDw4fGVbbysyPj4+Ml0+Pj4yNC0obysyKSU0KjgmMjU1LGE9MDthPDQmJm8rLjc1KmE8cjthKyspbi5wdXNoKGkuY2hhckF0KHM+Pj42KigzLWEpJjYzKSk7dmFyIGM9aS5jaGFyQXQoNjQpO2lmKGMpZm9yKDtuLmxlbmd0aCU0OyluLnB1c2goYyk7cmV0dXJuIG4uam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKHQpe3ZhciByPXQubGVuZ3RoLGk9dGhpcy5fbWFwLG49dGhpcy5fcmV2ZXJzZU1hcDtpZighbil7bj10aGlzLl9yZXZlcnNlTWFwPVtdO2Zvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKW5baS5jaGFyQ29kZUF0KG8pXT1vfXZhciBzPWkuY2hhckF0KDY0KTtpZihzKXt2YXIgYT10LmluZGV4T2Yocyk7LTEhPT1hJiYocj1hKX1yZXR1cm4gZnVuY3Rpb24odCxyLGkpe2Zvcih2YXIgbj1bXSxvPTAscz0wO3M8cjtzKyspaWYocyU0KXt2YXIgYT1pW3QuY2hhckNvZGVBdChzLTEpXTw8cyU0KjJ8aVt0LmNoYXJDb2RlQXQocyldPj4+Ni1zJTQqMjtuW28+Pj4yXXw9YTw8MjQtbyU0KjgsbysrfXJldHVybiBlLmNyZWF0ZShuLG8pfSh0LHIsbil9LF9tYXA6IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89In19KCksZnVuY3Rpb24oKXt2YXIgdD1jLGU9dC5saWIuV29yZEFycmF5O3QuZW5jLkJhc2U2NHVybD17c3RyaW5naWZ5OmZ1bmN0aW9uKHQsZT0hMCl7dmFyIHI9dC53b3JkcyxpPXQuc2lnQnl0ZXMsbj1lP3RoaXMuX3NhZmVfbWFwOnRoaXMuX21hcDt0LmNsYW1wKCk7Zm9yKHZhciBvPVtdLHM9MDtzPGk7cys9Mylmb3IodmFyIGE9KHJbcz4+PjJdPj4+MjQtcyU0KjgmMjU1KTw8MTZ8KHJbcysxPj4+Ml0+Pj4yNC0ocysxKSU0KjgmMjU1KTw8OHxyW3MrMj4+PjJdPj4+MjQtKHMrMiklNCo4JjI1NSxjPTA7Yzw0JiZzKy43NSpjPGk7YysrKW8ucHVzaChuLmNoYXJBdChhPj4+NiooMy1jKSY2MykpO3ZhciBoPW4uY2hhckF0KDY0KTtpZihoKWZvcig7by5sZW5ndGglNDspby5wdXNoKGgpO3JldHVybiBvLmpvaW4oIiIpfSxwYXJzZTpmdW5jdGlvbih0LHI9ITApe3ZhciBpPXQubGVuZ3RoLG49cj90aGlzLl9zYWZlX21hcDp0aGlzLl9tYXAsbz10aGlzLl9yZXZlcnNlTWFwO2lmKCFvKXtvPXRoaXMuX3JldmVyc2VNYXA9W107Zm9yKHZhciBzPTA7czxuLmxlbmd0aDtzKyspb1tuLmNoYXJDb2RlQXQocyldPXN9dmFyIGE9bi5jaGFyQXQoNjQpO2lmKGEpe3ZhciBjPXQuaW5kZXhPZihhKTstMSE9PWMmJihpPWMpfXJldHVybiBmdW5jdGlvbih0LHIsaSl7Zm9yKHZhciBuPVtdLG89MCxzPTA7czxyO3MrKylpZihzJTQpe3ZhciBhPWlbdC5jaGFyQ29kZUF0KHMtMSldPDxzJTQqMnxpW3QuY2hhckNvZGVBdChzKV0+Pj42LXMlNCoyO25bbz4+PjJdfD1hPDwyNC1vJTQqOCxvKyt9cmV0dXJuIGUuY3JlYXRlKG4sbyl9KHQsaSxvKX0sX21hcDoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0iLF9zYWZlX21hcDoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktXyJ9fSgpLGZ1bmN0aW9uKHQpe3ZhciBlPWMscj1lLmxpYixpPXIuV29yZEFycmF5LG49ci5IYXNoZXIsbz1lLmFsZ28scz1bXTshZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPDY0O2UrKylzW2VdPTQyOTQ5NjcyOTYqdC5hYnModC5zaW4oZSsxKSl8MH0oKTt2YXIgYT1vLk1ENT1uLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBpLmluaXQoWzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OF0pfSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MDtyPDE2O3IrKyl7dmFyIGk9ZStyLG49dFtpXTt0W2ldPTE2NzExOTM1JihuPDw4fG4+Pj4yNCl8NDI3ODI1NTM2MCYobjw8MjR8bj4+PjgpfXZhciBvPXRoaXMuX2hhc2gud29yZHMsYT10W2UrMF0sYz10W2UrMV0sZD10W2UrMl0scD10W2UrM10sXz10W2UrNF0sdj10W2UrNV0seT10W2UrNl0sZz10W2UrN10sQj10W2UrOF0sdz10W2UrOV0saz10W2UrMTBdLG09dFtlKzExXSxTPXRbZSsxMl0seD10W2UrMTNdLGI9dFtlKzE0XSxBPXRbZSsxNV0sSD1vWzBdLHo9b1sxXSxDPW9bMl0sRD1vWzNdO0g9aChILHosQyxELGEsNyxzWzBdKSxEPWgoRCxILHosQyxjLDEyLHNbMV0pLEM9aChDLEQsSCx6LGQsMTcsc1syXSksej1oKHosQyxELEgscCwyMixzWzNdKSxIPWgoSCx6LEMsRCxfLDcsc1s0XSksRD1oKEQsSCx6LEMsdiwxMixzWzVdKSxDPWgoQyxELEgseix5LDE3LHNbNl0pLHo9aCh6LEMsRCxILGcsMjIsc1s3XSksSD1oKEgseixDLEQsQiw3LHNbOF0pLEQ9aChELEgseixDLHcsMTIsc1s5XSksQz1oKEMsRCxILHosaywxNyxzWzEwXSksej1oKHosQyxELEgsbSwyMixzWzExXSksSD1oKEgseixDLEQsUyw3LHNbMTJdKSxEPWgoRCxILHosQyx4LDEyLHNbMTNdKSxDPWgoQyxELEgseixiLDE3LHNbMTRdKSxIPWwoSCx6PWgoeixDLEQsSCxBLDIyLHNbMTVdKSxDLEQsYyw1LHNbMTZdKSxEPWwoRCxILHosQyx5LDksc1sxN10pLEM9bChDLEQsSCx6LG0sMTQsc1sxOF0pLHo9bCh6LEMsRCxILGEsMjAsc1sxOV0pLEg9bChILHosQyxELHYsNSxzWzIwXSksRD1sKEQsSCx6LEMsayw5LHNbMjFdKSxDPWwoQyxELEgseixBLDE0LHNbMjJdKSx6PWwoeixDLEQsSCxfLDIwLHNbMjNdKSxIPWwoSCx6LEMsRCx3LDUsc1syNF0pLEQ9bChELEgseixDLGIsOSxzWzI1XSksQz1sKEMsRCxILHoscCwxNCxzWzI2XSksej1sKHosQyxELEgsQiwyMCxzWzI3XSksSD1sKEgseixDLEQseCw1LHNbMjhdKSxEPWwoRCxILHosQyxkLDksc1syOV0pLEM9bChDLEQsSCx6LGcsMTQsc1szMF0pLEg9ZihILHo9bCh6LEMsRCxILFMsMjAsc1szMV0pLEMsRCx2LDQsc1szMl0pLEQ9ZihELEgseixDLEIsMTEsc1szM10pLEM9ZihDLEQsSCx6LG0sMTYsc1szNF0pLHo9Zih6LEMsRCxILGIsMjMsc1szNV0pLEg9ZihILHosQyxELGMsNCxzWzM2XSksRD1mKEQsSCx6LEMsXywxMSxzWzM3XSksQz1mKEMsRCxILHosZywxNixzWzM4XSksej1mKHosQyxELEgsaywyMyxzWzM5XSksSD1mKEgseixDLEQseCw0LHNbNDBdKSxEPWYoRCxILHosQyxhLDExLHNbNDFdKSxDPWYoQyxELEgseixwLDE2LHNbNDJdKSx6PWYoeixDLEQsSCx5LDIzLHNbNDNdKSxIPWYoSCx6LEMsRCx3LDQsc1s0NF0pLEQ9ZihELEgseixDLFMsMTEsc1s0NV0pLEM9ZihDLEQsSCx6LEEsMTYsc1s0Nl0pLEg9dShILHo9Zih6LEMsRCxILGQsMjMsc1s0N10pLEMsRCxhLDYsc1s0OF0pLEQ9dShELEgseixDLGcsMTAsc1s0OV0pLEM9dShDLEQsSCx6LGIsMTUsc1s1MF0pLHo9dSh6LEMsRCxILHYsMjEsc1s1MV0pLEg9dShILHosQyxELFMsNixzWzUyXSksRD11KEQsSCx6LEMscCwxMCxzWzUzXSksQz11KEMsRCxILHosaywxNSxzWzU0XSksej11KHosQyxELEgsYywyMSxzWzU1XSksSD11KEgseixDLEQsQiw2LHNbNTZdKSxEPXUoRCxILHosQyxBLDEwLHNbNTddKSxDPXUoQyxELEgseix5LDE1LHNbNThdKSx6PXUoeixDLEQsSCx4LDIxLHNbNTldKSxIPXUoSCx6LEMsRCxfLDYsc1s2MF0pLEQ9dShELEgseixDLG0sMTAsc1s2MV0pLEM9dShDLEQsSCx6LGQsMTUsc1s2Ml0pLHo9dSh6LEMsRCxILHcsMjEsc1s2M10pLG9bMF09b1swXStIfDAsb1sxXT1vWzFdK3p8MCxvWzJdPW9bMl0rQ3wwLG9bM109b1szXStEfDB9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZGF0YSxyPWUud29yZHMsaT04KnRoaXMuX25EYXRhQnl0ZXMsbj04KmUuc2lnQnl0ZXM7cltuPj4+NV18PTEyODw8MjQtbiUzMjt2YXIgbz10LmZsb29yKGkvNDI5NDk2NzI5Nikscz1pO3JbMTUrKG4rNjQ+Pj45PDw0KV09MTY3MTE5MzUmKG88PDh8bz4+PjI0KXw0Mjc4MjU1MzYwJihvPDwyNHxvPj4+OCksclsxNCsobis2ND4+Pjk8PDQpXT0xNjcxMTkzNSYoczw8OHxzPj4+MjQpfDQyNzgyNTUzNjAmKHM8PDI0fHM+Pj44KSxlLnNpZ0J5dGVzPTQqKHIubGVuZ3RoKzEpLHRoaXMuX3Byb2Nlc3MoKTtmb3IodmFyIGE9dGhpcy5faGFzaCxjPWEud29yZHMsaD0wO2g8NDtoKyspe3ZhciBsPWNbaF07Y1toXT0xNjcxMTkzNSYobDw8OHxsPj4+MjQpfDQyNzgyNTUzNjAmKGw8PDI0fGw+Pj44KX1yZXR1cm4gYX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1uLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLHR9fSk7ZnVuY3Rpb24gaCh0LGUscixpLG4sbyxzKXt2YXIgYT10KyhlJnJ8fmUmaSkrbitzO3JldHVybihhPDxvfGE+Pj4zMi1vKStlfWZ1bmN0aW9uIGwodCxlLHIsaSxuLG8scyl7dmFyIGE9dCsoZSZpfHImfmkpK24rcztyZXR1cm4oYTw8b3xhPj4+MzItbykrZX1mdW5jdGlvbiBmKHQsZSxyLGksbixvLHMpe3ZhciBhPXQrKGVecl5pKStuK3M7cmV0dXJuKGE8PG98YT4+PjMyLW8pK2V9ZnVuY3Rpb24gdSh0LGUscixpLG4sbyxzKXt2YXIgYT10KyhyXihlfH5pKSkrbitzO3JldHVybihhPDxvfGE+Pj4zMi1vKStlfWUuTUQ1PW4uX2NyZWF0ZUhlbHBlcihhKSxlLkhtYWNNRDU9bi5fY3JlYXRlSG1hY0hlbHBlcihhKX0oTWF0aCksZnVuY3Rpb24oKXt2YXIgdD1jLGU9dC5saWIscj1lLldvcmRBcnJheSxpPWUuSGFzaGVyLG49dC5hbGdvLG89W10scz1uLlNIQTE9aS5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uZXcgci5pbml0KFsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF0pfSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dGhpcy5faGFzaC53b3JkcyxpPXJbMF0sbj1yWzFdLHM9clsyXSxhPXJbM10sYz1yWzRdLGg9MDtoPDgwO2grKyl7aWYoaDwxNilvW2hdPTB8dFtlK2hdO2Vsc2V7dmFyIGw9b1toLTNdXm9baC04XV5vW2gtMTRdXm9baC0xNl07b1toXT1sPDwxfGw+Pj4zMX12YXIgZj0oaTw8NXxpPj4+MjcpK2Mrb1toXTtmKz1oPDIwPzE1MTg1MDAyNDkrKG4mc3x+biZhKTpoPDQwPzE4NTk3NzUzOTMrKG5ec15hKTpoPDYwPyhuJnN8biZhfHMmYSktMTg5NDAwNzU4ODoobl5zXmEpLTg5OTQ5NzUxNCxjPWEsYT1zLHM9bjw8MzB8bj4+PjIsbj1pLGk9Zn1yWzBdPXJbMF0raXwwLHJbMV09clsxXStufDAsclsyXT1yWzJdK3N8MCxyWzNdPXJbM10rYXwwLHJbNF09cls0XStjfDB9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YSxlPXQud29yZHMscj04KnRoaXMuX25EYXRhQnl0ZXMsaT04KnQuc2lnQnl0ZXM7cmV0dXJuIGVbaT4+PjVdfD0xMjg8PDI0LWklMzIsZVsxNCsoaSs2ND4+Pjk8PDQpXT1NYXRoLmZsb29yKHIvNDI5NDk2NzI5NiksZVsxNSsoaSs2ND4+Pjk8PDQpXT1yLHQuc2lnQnl0ZXM9NCplLmxlbmd0aCx0aGlzLl9wcm9jZXNzKCksdGhpcy5faGFzaH0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1pLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLHR9fSk7dC5TSEExPWkuX2NyZWF0ZUhlbHBlcihzKSx0LkhtYWNTSEExPWkuX2NyZWF0ZUhtYWNIZWxwZXIocyl9KCksZnVuY3Rpb24odCl7dmFyIGU9YyxyPWUubGliLGk9ci5Xb3JkQXJyYXksbj1yLkhhc2hlcixvPWUuYWxnbyxzPVtdLGE9W107IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtmb3IodmFyIHI9dC5zcXJ0KGUpLGk9MjtpPD1yO2krKylpZighKGUlaSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gcih0KXtyZXR1cm4gNDI5NDk2NzI5NioodC0oMHx0KSl8MH1mb3IodmFyIGk9MixuPTA7bjw2NDspZShpKSYmKG48OCYmKHNbbl09cih0LnBvdyhpLC41KSkpLGFbbl09cih0LnBvdyhpLDEvMykpLG4rKyksaSsrfSgpO3ZhciBoPVtdLGw9by5TSEEyNTY9bi5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uZXcgaS5pbml0KHMuc2xpY2UoMCkpfSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dGhpcy5faGFzaC53b3JkcyxpPXJbMF0sbj1yWzFdLG89clsyXSxzPXJbM10sYz1yWzRdLGw9cls1XSxmPXJbNl0sdT1yWzddLGQ9MDtkPDY0O2QrKyl7aWYoZDwxNiloW2RdPTB8dFtlK2RdO2Vsc2V7dmFyIHA9aFtkLTE1XSxfPShwPDwyNXxwPj4+NyleKHA8PDE0fHA+Pj4xOClecD4+PjMsdj1oW2QtMl0seT0odjw8MTV8dj4+PjE3KV4odjw8MTN8dj4+PjE5KV52Pj4+MTA7aFtkXT1fK2hbZC03XSt5K2hbZC0xNl19dmFyIGc9aSZuXmkmb15uJm8sQj0oaTw8MzB8aT4+PjIpXihpPDwxOXxpPj4+MTMpXihpPDwxMHxpPj4+MjIpLHc9dSsoKGM8PDI2fGM+Pj42KV4oYzw8MjF8Yz4+PjExKV4oYzw8N3xjPj4+MjUpKSsoYyZsXn5jJmYpK2FbZF0raFtkXTt1PWYsZj1sLGw9YyxjPXMrd3wwLHM9byxvPW4sbj1pLGk9dysoQitnKXwwfXJbMF09clswXStpfDAsclsxXT1yWzFdK258MCxyWzJdPXJbMl0rb3wwLHJbM109clszXStzfDAscls0XT1yWzRdK2N8MCxyWzVdPXJbNV0rbHwwLHJbNl09cls2XStmfDAscls3XT1yWzddK3V8MH0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9kYXRhLHI9ZS53b3JkcyxpPTgqdGhpcy5fbkRhdGFCeXRlcyxuPTgqZS5zaWdCeXRlcztyZXR1cm4gcltuPj4+NV18PTEyODw8MjQtbiUzMixyWzE0KyhuKzY0Pj4+OTw8NCldPXQuZmxvb3IoaS80Mjk0OTY3Mjk2KSxyWzE1KyhuKzY0Pj4+OTw8NCldPWksZS5zaWdCeXRlcz00KnIubGVuZ3RoLHRoaXMuX3Byb2Nlc3MoKSx0aGlzLl9oYXNofSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PW4uY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gdC5faGFzaD10aGlzLl9oYXNoLmNsb25lKCksdH19KTtlLlNIQTI1Nj1uLl9jcmVhdGVIZWxwZXIobCksZS5IbWFjU0hBMjU2PW4uX2NyZWF0ZUhtYWNIZWxwZXIobCl9KE1hdGgpLGZ1bmN0aW9uKCl7dmFyIHQ9YyxlPXQubGliLldvcmRBcnJheSxyPXQuYWxnbyxpPXIuU0hBMjU2LG49ci5TSEEyMjQ9aS5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uZXcgZS5pbml0KFszMjM4MzcxMDMyLDkxNDE1MDY2Myw4MTI3MDI5OTksNDE0NDkxMjY5Nyw0MjkwNzc1ODU3LDE3NTA2MDMwMjUsMTY5NDA3NjgzOSwzMjA0MDc1NDI4XSl9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIHQ9aS5fZG9GaW5hbGl6ZS5jYWxsKHRoaXMpO3JldHVybiB0LnNpZ0J5dGVzLT00LHR9fSk7dC5TSEEyMjQ9aS5fY3JlYXRlSGVscGVyKG4pLHQuSG1hY1NIQTIyND1pLl9jcmVhdGVIbWFjSGVscGVyKG4pfSgpLGZ1bmN0aW9uKCl7dmFyIHQ9YyxlPXQubGliLkhhc2hlcixyPXQueDY0LGk9ci5Xb3JkLG49ci5Xb3JkQXJyYXksbz10LmFsZ287ZnVuY3Rpb24gcygpe3JldHVybiBpLmNyZWF0ZS5hcHBseShpLGFyZ3VtZW50cyl9dmFyIGE9W3MoMTExNjM1MjQwOCwzNjA5NzY3NDU4KSxzKDE4OTk0NDc0NDEsNjAyODkxNzI1KSxzKDMwNDkzMjM0NzEsMzk2NDQ4NDM5OSkscygzOTIxMDA5NTczLDIxNzMyOTU1NDgpLHMoOTYxOTg3MTYzLDQwODE2Mjg0NzIpLHMoMTUwODk3MDk5MywzMDUzODM0MjY1KSxzKDI0NTM2MzU3NDgsMjkzNzY3MTU3OSkscygyODcwNzYzMjIxLDM2NjQ2MDk1NjApLHMoMzYyNDM4MTA4MCwyNzM0ODgzMzk0KSxzKDMxMDU5ODQwMSwxMTY0OTk2NTQyKSxzKDYwNzIyNTI3OCwxMzIzNjEwNzY0KSxzKDE0MjY4ODE5ODcsMzU5MDMwNDk5NCkscygxOTI1MDc4Mzg4LDQwNjgxODIzODMpLHMoMjE2MjA3ODIwNiw5OTEzMzYxMTMpLHMoMjYxNDg4ODEwMyw2MzM4MDMzMTcpLHMoMzI0ODIyMjU4MCwzNDc5Nzc0ODY4KSxzKDM4MzUzOTA0MDEsMjY2NjYxMzQ1OCkscyg0MDIyMjI0Nzc0LDk0NDcxMTEzOSkscygyNjQzNDcwNzgsMjM0MTI2Mjc3Mykscyg2MDQ4MDc2MjgsMjAwNzgwMDkzMykscyg3NzAyNTU5ODMsMTQ5NTk5MDkwMSkscygxMjQ5MTUwMTIyLDE4NTY0MzEyMzUpLHMoMTU1NTA4MTY5MiwzMTc1MjE4MTMyKSxzKDE5OTYwNjQ5ODYsMjE5ODk1MDgzNykscygyNTU0MjIwODgyLDM5OTk3MTkzMzkpLHMoMjgyMTgzNDM0OSw3NjY3ODQwMTYpLHMoMjk1Mjk5NjgwOCwyNTY2NTk0ODc5KSxzKDMyMTAzMTM2NzEsMzIwMzMzNzk1NikscygzMzM2NTcxODkxLDEwMzQ0NTcwMjYpLHMoMzU4NDUyODcxMSwyNDY2OTQ4OTAxKSxzKDExMzkyNjk5MywzNzU4MzI2MzgzKSxzKDMzODI0MTg5NSwxNjg3MTc5MzYpLHMoNjY2MzA3MjA1LDExODgxNzk5NjQpLHMoNzczNTI5OTEyLDE1NDYwNDU3MzQpLHMoMTI5NDc1NzM3MiwxNTIyODA1NDg1KSxzKDEzOTYxODIyOTEsMjY0MzgzMzgyMykscygxNjk1MTgzNzAwLDIzNDM1MjczOTApLHMoMTk4NjY2MTA1MSwxMDE0NDc3NDgwKSxzKDIxNzcwMjYzNTAsMTIwNjc1OTE0MikscygyNDU2OTU2MDM3LDM0NDA3NzYyNykscygyNzMwNDg1OTIxLDEyOTA4NjM0NjApLHMoMjgyMDMwMjQxMSwzMTU4NDU0MjczKSxzKDMyNTk3MzA4MDAsMzUwNTk1MjY1NykscygzMzQ1NzY0NzcxLDEwNjIxNzAwOCkscygzNTE2MDY1ODE3LDM2MDYwMDgzNDQpLHMoMzYwMDM1MjgwNCwxNDMyNzI1Nzc2KSxzKDQwOTQ1NzE5MDksMTQ2NzAzMTU5NCkscygyNzU0MjMzNDQsODUxMTY5NzIwKSxzKDQzMDIyNzczNCwzMTAwODIzNzUyKSxzKDUwNjk0ODYxNiwxMzYzMjU4MTk1KSxzKDY1OTA2MDU1NiwzNzUwNjg1NTkzKSxzKDg4Mzk5Nzg3NywzNzg1MDUwMjgwKSxzKDk1ODEzOTU3MSwzMzE4MzA3NDI3KSxzKDEzMjI4MjIyMTgsMzgxMjcyMzQwMykscygxNTM3MDAyMDYzLDIwMDMwMzQ5OTUpLHMoMTc0Nzg3Mzc3OSwzNjAyMDM2ODk5KSxzKDE5NTU1NjIyMjIsMTU3NTk5MDAxMikscygyMDI0MTA0ODE1LDExMjU1OTI5MjgpLHMoMjIyNzczMDQ1MiwyNzE2OTA0MzA2KSxzKDIzNjE4NTI0MjQsNDQyNzc2MDQ0KSxzKDI0Mjg0MzY0NzQsNTkzNjk4MzQ0KSxzKDI3NTY3MzQxODcsMzczMzExMDI0OSkscygzMjA0MDMxNDc5LDI5OTkzNTE1NzMpLHMoMzMyOTMyNTI5OCwzODE1OTIwNDI3KSxzKDMzOTE1Njk2MTQsMzkyODM4MzkwMCkscygzNTE1MjY3MjcxLDU2NjI4MDcxMSkscygzOTQwMTg3NjA2LDM0NTQwNjk1MzQpLHMoNDExODYzMDI3MSw0MDAwMjM5OTkyKSxzKDExNjQxODQ3NCwxOTE0MTM4NTU0KSxzKDE3NDI5MjQyMSwyNzMxMDU1MjcwKSxzKDI4OTM4MDM1NiwzMjAzOTkzMDA2KSxzKDQ2MDM5MzI2OSwzMjA2MjAzMTUpLHMoNjg1NDcxNzMzLDU4NzQ5NjgzNikscyg4NTIxNDI5NzEsMTA4Njc5Mjg1MSkscygxMDE3MDM2Mjk4LDM2NTU0MzEwMCkscygxMTI2MDAwNTgwLDI2MTgyOTc2NzYpLHMoMTI4ODAzMzQ3MCwzNDA5ODU1MTU4KSxzKDE1MDE1MDU5NDgsNDIzNDUwOTg2NikscygxNjA3MTY3OTE1LDk4NzE2NzQ2OCkscygxODE2NDAyMzE2LDEyNDYxODk1OTEpXSxoPVtdOyFmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8ODA7dCsrKWhbdF09cygpfSgpO3ZhciBsPW8uU0hBNTEyPWUuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IG4uaW5pdChbbmV3IGkuaW5pdCgxNzc5MDMzNzAzLDQwODkyMzU3MjApLG5ldyBpLmluaXQoMzE0NDEzNDI3NywyMjI3ODczNTk1KSxuZXcgaS5pbml0KDEwMTM5MDQyNDIsNDI3MTE3NTcyMyksbmV3IGkuaW5pdCgyNzczNDgwNzYyLDE1OTU3NTAxMjkpLG5ldyBpLmluaXQoMTM1OTg5MzExOSwyOTE3NTY1MTM3KSxuZXcgaS5pbml0KDI2MDA4MjI5MjQsNzI1NTExMTk5KSxuZXcgaS5pbml0KDUyODczNDYzNSw0MjE1Mzg5NTQ3KSxuZXcgaS5pbml0KDE1NDE0NTkyMjUsMzI3MDMzMjA5KV0pfSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dGhpcy5faGFzaC53b3JkcyxpPXJbMF0sbj1yWzFdLG89clsyXSxzPXJbM10sYz1yWzRdLGw9cls1XSxmPXJbNl0sdT1yWzddLGQ9aS5oaWdoLHA9aS5sb3csXz1uLmhpZ2gsdj1uLmxvdyx5PW8uaGlnaCxnPW8ubG93LEI9cy5oaWdoLHc9cy5sb3csaz1jLmhpZ2gsbT1jLmxvdyxTPWwuaGlnaCx4PWwubG93LGI9Zi5oaWdoLEE9Zi5sb3csSD11LmhpZ2gsej11LmxvdyxDPWQsRD1wLEU9XyxSPXYsTT15LEY9ZyxQPUIsVz13LE89ayxJPW0sVT1TLEs9eCxYPWIsTD1BLGo9SCxUPXosTj0wO048ODA7TisrKXt2YXIgcSxaLFY9aFtOXTtpZihOPDE2KVo9Vi5oaWdoPTB8dFtlKzIqTl0scT1WLmxvdz0wfHRbZSsyKk4rMV07ZWxzZXt2YXIgRz1oW04tMTVdLEo9Ry5oaWdoLFE9Ry5sb3csWT0oSj4+PjF8UTw8MzEpXihKPj4+OHxRPDwyNCleSj4+PjcsJD0oUT4+PjF8Sjw8MzEpXihRPj4+OHxKPDwyNCleKFE+Pj43fEo8PDI1KSx0dD1oW04tMl0sZXQ9dHQuaGlnaCxydD10dC5sb3csaXQ9KGV0Pj4+MTl8cnQ8PDEzKV4oZXQ8PDN8cnQ+Pj4yOSleZXQ+Pj42LG50PShydD4+PjE5fGV0PDwxMyleKHJ0PDwzfGV0Pj4+MjkpXihydD4+PjZ8ZXQ8PDI2KSxvdD1oW04tN10sc3Q9b3QuaGlnaCxhdD1vdC5sb3csY3Q9aFtOLTE2XSxodD1jdC5oaWdoLGx0PWN0LmxvdztaPShaPShaPVkrc3QrKChxPSQrYXQpPj4+MDwkPj4+MD8xOjApKStpdCsoKHErPW50KT4+PjA8bnQ+Pj4wPzE6MCkpK2h0KygocSs9bHQpPj4+MDxsdD4+PjA/MTowKSxWLmhpZ2g9WixWLmxvdz1xfXZhciBmdCx1dD1PJlVefk8mWCxkdD1JJktefkkmTCxwdD1DJkVeQyZNXkUmTSxfdD1EJlJeRCZGXlImRix2dD0oQz4+PjI4fEQ8PDQpXihDPDwzMHxEPj4+MileKEM8PDI1fEQ+Pj43KSx5dD0oRD4+PjI4fEM8PDQpXihEPDwzMHxDPj4+MileKEQ8PDI1fEM+Pj43KSxndD0oTz4+PjE0fEk8PDE4KV4oTz4+PjE4fEk8PDE0KV4oTzw8MjN8ST4+PjkpLEJ0PShJPj4+MTR8Tzw8MTgpXihJPj4+MTh8Tzw8MTQpXihJPDwyM3xPPj4+OSksd3Q9YVtOXSxrdD13dC5oaWdoLG10PXd0LmxvdyxTdD1qK2d0KygoZnQ9VCtCdCk+Pj4wPFQ+Pj4wPzE6MCkseHQ9eXQrX3Q7aj1YLFQ9TCxYPVUsTD1LLFU9TyxLPUksTz1QKyhTdD0oU3Q9KFN0PVN0K3V0KygoZnQ9ZnQrZHQpPj4+MDxkdD4+PjA/MTowKSkra3QrKChmdD1mdCttdCk+Pj4wPG10Pj4+MD8xOjApKStaKygoZnQ9ZnQrcSk+Pj4wPHE+Pj4wPzE6MCkpKygoST1XK2Z0fDApPj4+MDxXPj4+MD8xOjApfDAsUD1NLFc9RixNPUUsRj1SLEU9QyxSPUQsQz1TdCsodnQrcHQrKHh0Pj4+MDx5dD4+PjA/MTowKSkrKChEPWZ0K3h0fDApPj4+MDxmdD4+PjA/MTowKXwwfXA9aS5sb3c9cCtELGkuaGlnaD1kK0MrKHA+Pj4wPEQ+Pj4wPzE6MCksdj1uLmxvdz12K1Isbi5oaWdoPV8rRSsodj4+PjA8Uj4+PjA/MTowKSxnPW8ubG93PWcrRixvLmhpZ2g9eStNKyhnPj4+MDxGPj4+MD8xOjApLHc9cy5sb3c9dytXLHMuaGlnaD1CK1ArKHc+Pj4wPFc+Pj4wPzE6MCksbT1jLmxvdz1tK0ksYy5oaWdoPWsrTysobT4+PjA8ST4+PjA/MTowKSx4PWwubG93PXgrSyxsLmhpZ2g9UytVKyh4Pj4+MDxLPj4+MD8xOjApLEE9Zi5sb3c9QStMLGYuaGlnaD1iK1grKEE+Pj4wPEw+Pj4wPzE6MCksej11Lmxvdz16K1QsdS5oaWdoPUgraisoej4+PjA8VD4+PjA/MTowKX0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhLGU9dC53b3JkcyxyPTgqdGhpcy5fbkRhdGFCeXRlcyxpPTgqdC5zaWdCeXRlcztyZXR1cm4gZVtpPj4+NV18PTEyODw8MjQtaSUzMixlWzMwKyhpKzEyOD4+PjEwPDw1KV09TWF0aC5mbG9vcihyLzQyOTQ5NjcyOTYpLGVbMzErKGkrMTI4Pj4+MTA8PDUpXT1yLHQuc2lnQnl0ZXM9NCplLmxlbmd0aCx0aGlzLl9wcm9jZXNzKCksdGhpcy5faGFzaC50b1gzMigpfSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PWUuY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gdC5faGFzaD10aGlzLl9oYXNoLmNsb25lKCksdH0sYmxvY2tTaXplOjMyfSk7dC5TSEE1MTI9ZS5fY3JlYXRlSGVscGVyKGwpLHQuSG1hY1NIQTUxMj1lLl9jcmVhdGVIbWFjSGVscGVyKGwpfSgpLGZ1bmN0aW9uKCl7dmFyIHQ9YyxlPXQueDY0LHI9ZS5Xb3JkLGk9ZS5Xb3JkQXJyYXksbj10LmFsZ28sbz1uLlNIQTUxMixzPW4uU0hBMzg0PW8uZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGkuaW5pdChbbmV3IHIuaW5pdCgzNDE4MDcwMzY1LDMyMzgzNzEwMzIpLG5ldyByLmluaXQoMTY1NDI3MDI1MCw5MTQxNTA2NjMpLG5ldyByLmluaXQoMjQzODUyOTM3MCw4MTI3MDI5OTkpLG5ldyByLmluaXQoMzU1NDYyMzYwLDQxNDQ5MTI2OTcpLG5ldyByLmluaXQoMTczMTQwNTQxNSw0MjkwNzc1ODU3KSxuZXcgci5pbml0KDIzOTQxODAyMzEsMTc1MDYwMzAyNSksbmV3IHIuaW5pdCgzNjc1MDA4NTI1LDE2OTQwNzY4MzkpLG5ldyByLmluaXQoMTIwMzA2MjgxMywzMjA0MDc1NDI4KV0pfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciB0PW8uX2RvRmluYWxpemUuY2FsbCh0aGlzKTtyZXR1cm4gdC5zaWdCeXRlcy09MTYsdH19KTt0LlNIQTM4ND1vLl9jcmVhdGVIZWxwZXIocyksdC5IbWFjU0hBMzg0PW8uX2NyZWF0ZUhtYWNIZWxwZXIocyl9KCksZnVuY3Rpb24odCl7dmFyIGU9YyxyPWUubGliLGk9ci5Xb3JkQXJyYXksbj1yLkhhc2hlcixvPWUueDY0LldvcmQscz1lLmFsZ28sYT1bXSxoPVtdLGw9W107IWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTEsZT0wLHI9MDtyPDI0O3IrKyl7YVt0KzUqZV09KHIrMSkqKHIrMikvMiU2NDt2YXIgaT0oMip0KzMqZSklNTt0PWUlNSxlPWl9Zm9yKHQ9MDt0PDU7dCsrKWZvcihlPTA7ZTw1O2UrKyloW3QrNSplXT1lKygyKnQrMyplKSU1KjU7Zm9yKHZhciBuPTEscz0wO3M8MjQ7cysrKXtmb3IodmFyIGM9MCxmPTAsdT0wO3U8Nzt1Kyspe2lmKDEmbil7dmFyIGQ9KDE8PHUpLTE7ZDwzMj9mXj0xPDxkOmNePTE8PGQtMzJ9MTI4Jm4/bj1uPDwxXjExMzpuPDw9MX1sW3NdPW8uY3JlYXRlKGMsZil9fSgpO3ZhciBmPVtdOyFmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8MjU7dCsrKWZbdF09by5jcmVhdGUoKX0oKTt2YXIgdT1zLlNIQTM9bi5leHRlbmQoe2NmZzpuLmNmZy5leHRlbmQoe291dHB1dExlbmd0aDo1MTJ9KSxfZG9SZXNldDpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9zdGF0ZT1bXSxlPTA7ZTwyNTtlKyspdFtlXT1uZXcgby5pbml0O3RoaXMuYmxvY2tTaXplPSgxNjAwLTIqdGhpcy5jZmcub3V0cHV0TGVuZ3RoKS8zMn0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPXRoaXMuX3N0YXRlLGk9dGhpcy5ibG9ja1NpemUvMixuPTA7bjxpO24rKyl7dmFyIG89dFtlKzIqbl0scz10W2UrMipuKzFdO289MTY3MTE5MzUmKG88PDh8bz4+PjI0KXw0Mjc4MjU1MzYwJihvPDwyNHxvPj4+OCkscz0xNjcxMTkzNSYoczw8OHxzPj4+MjQpfDQyNzgyNTUzNjAmKHM8PDI0fHM+Pj44KSwoej1yW25dKS5oaWdoXj1zLHoubG93Xj1vfWZvcih2YXIgYz0wO2M8MjQ7YysrKXtmb3IodmFyIHU9MDt1PDU7dSsrKXtmb3IodmFyIGQ9MCxwPTAsXz0wO188NTtfKyspe2RePSh6PXJbdSs1Kl9dKS5oaWdoLHBePXoubG93fXZhciB2PWZbdV07di5oaWdoPWQsdi5sb3c9cH1mb3IodT0wO3U8NTt1Kyspe3ZhciB5PWZbKHUrNCklNV0sZz1mWyh1KzEpJTVdLEI9Zy5oaWdoLHc9Zy5sb3c7Zm9yKGQ9eS5oaWdoXihCPDwxfHc+Pj4zMSkscD15Lmxvd14odzw8MXxCPj4+MzEpLF89MDtfPDU7XysrKXsoej1yW3UrNSpfXSkuaGlnaF49ZCx6Lmxvd149cH19Zm9yKHZhciBrPTE7azwyNTtrKyspe3ZhciBtPSh6PXJba10pLmhpZ2gsUz16Lmxvdyx4PWFba107eDwzMj8oZD1tPDx4fFM+Pj4zMi14LHA9Uzw8eHxtPj4+MzIteCk6KGQ9Uzw8eC0zMnxtPj4+NjQteCxwPW08PHgtMzJ8Uz4+PjY0LXgpO3ZhciBiPWZbaFtrXV07Yi5oaWdoPWQsYi5sb3c9cH12YXIgQT1mWzBdLEg9clswXTtBLmhpZ2g9SC5oaWdoLEEubG93PUgubG93O2Zvcih1PTA7dTw1O3UrKylmb3IoXz0wO188NTtfKyspe3ZhciB6PXJbaz11KzUqX10sQz1mW2tdLEQ9ZlsodSsxKSU1KzUqX10sRT1mWyh1KzIpJTUrNSpfXTt6LmhpZ2g9Qy5oaWdoXn5ELmhpZ2gmRS5oaWdoLHoubG93PUMubG93Xn5ELmxvdyZFLmxvd316PXJbMF07dmFyIFI9bFtjXTt6LmhpZ2hePVIuaGlnaCx6Lmxvd149Ui5sb3d9fSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2RhdGEscj1lLndvcmRzLG49KHRoaXMuX25EYXRhQnl0ZXMsOCplLnNpZ0J5dGVzKSxvPTMyKnRoaXMuYmxvY2tTaXplO3Jbbj4+PjVdfD0xPDwyNC1uJTMyLHJbKHQuY2VpbCgobisxKS9vKSpvPj4+NSktMV18PTEyOCxlLnNpZ0J5dGVzPTQqci5sZW5ndGgsdGhpcy5fcHJvY2VzcygpO2Zvcih2YXIgcz10aGlzLl9zdGF0ZSxhPXRoaXMuY2ZnLm91dHB1dExlbmd0aC84LGM9YS84LGg9W10sbD0wO2w8YztsKyspe3ZhciBmPXNbbF0sdT1mLmhpZ2gsZD1mLmxvdzt1PTE2NzExOTM1Jih1PDw4fHU+Pj4yNCl8NDI3ODI1NTM2MCYodTw8MjR8dT4+PjgpLGQ9MTY3MTE5MzUmKGQ8PDh8ZD4+PjI0KXw0Mjc4MjU1MzYwJihkPDwyNHxkPj4+OCksaC5wdXNoKGQpLGgucHVzaCh1KX1yZXR1cm4gbmV3IGkuaW5pdChoLGEpfSxjbG9uZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1uLmNsb25lLmNhbGwodGhpcyksZT10Ll9zdGF0ZT10aGlzLl9zdGF0ZS5zbGljZSgwKSxyPTA7cjwyNTtyKyspZVtyXT1lW3JdLmNsb25lKCk7cmV0dXJuIHR9fSk7ZS5TSEEzPW4uX2NyZWF0ZUhlbHBlcih1KSxlLkhtYWNTSEEzPW4uX2NyZWF0ZUhtYWNIZWxwZXIodSl9KE1hdGgpLAovKiogQHByZXNlcnZlCgkoYykgMjAxMiBieSBDw6lkcmljIE1lc25pbC4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KCglSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6CgoJICAgIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLgoJICAgIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLgoKCVRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgIkFTIElTIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuCgkqLwpmdW5jdGlvbih0KXt2YXIgZT1jLHI9ZS5saWIsaT1yLldvcmRBcnJheSxuPXIuSGFzaGVyLG89ZS5hbGdvLHM9aS5jcmVhdGUoWzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsNyw0LDEzLDEsMTAsNiwxNSwzLDEyLDAsOSw1LDIsMTQsMTEsOCwzLDEwLDE0LDQsOSwxNSw4LDEsMiw3LDAsNiwxMywxMSw1LDEyLDEsOSwxMSwxMCwwLDgsMTIsNCwxMywzLDcsMTUsMTQsNSw2LDIsNCwwLDUsOSw3LDEyLDIsMTAsMTQsMSwzLDgsMTEsNiwxNSwxM10pLGE9aS5jcmVhdGUoWzUsMTQsNywwLDksMiwxMSw0LDEzLDYsMTUsOCwxLDEwLDMsMTIsNiwxMSwzLDcsMCwxMyw1LDEwLDE0LDE1LDgsMTIsNCw5LDEsMiwxNSw1LDEsMyw3LDE0LDYsOSwxMSw4LDEyLDIsMTAsMCw0LDEzLDgsNiw0LDEsMywxMSwxNSwwLDUsMTIsMiwxMyw5LDcsMTAsMTQsMTIsMTUsMTAsNCwxLDUsOCw3LDYsMiwxMywxNCwwLDMsOSwxMV0pLGg9aS5jcmVhdGUoWzExLDE0LDE1LDEyLDUsOCw3LDksMTEsMTMsMTQsMTUsNiw3LDksOCw3LDYsOCwxMywxMSw5LDcsMTUsNywxMiwxNSw5LDExLDcsMTMsMTIsMTEsMTMsNiw3LDE0LDksMTMsMTUsMTQsOCwxMyw2LDUsMTIsNyw1LDExLDEyLDE0LDE1LDE0LDE1LDksOCw5LDE0LDUsNiw4LDYsNSwxMiw5LDE1LDUsMTEsNiw4LDEzLDEyLDUsMTIsMTMsMTQsMTEsOCw1LDZdKSxsPWkuY3JlYXRlKFs4LDksOSwxMSwxMywxNSwxNSw1LDcsNyw4LDExLDE0LDE0LDEyLDYsOSwxMywxNSw3LDEyLDgsOSwxMSw3LDcsMTIsNyw2LDE1LDEzLDExLDksNywxNSwxMSw4LDYsNiwxNCwxMiwxMyw1LDE0LDEzLDEzLDcsNSwxNSw1LDgsMTEsMTQsMTQsNiwxNCw2LDksMTIsOSwxMiw1LDE1LDgsOCw1LDEyLDksMTIsNSwxNCw2LDgsMTMsNiw1LDE1LDEzLDExLDExXSksZj1pLmNyZWF0ZShbMCwxNTE4NTAwMjQ5LDE4NTk3NzUzOTMsMjQwMDk1OTcwOCwyODQwODUzODM4XSksdT1pLmNyZWF0ZShbMTM1MjgyOTkyNiwxNTQ4NjAzNjg0LDE4MzYwNzI2OTEsMjA1Mzk5NDIxNywwXSksZD1vLlJJUEVNRDE2MD1uLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPWkuY3JlYXRlKFsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF0pfSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MDtyPDE2O3IrKyl7dmFyIGk9ZStyLG49dFtpXTt0W2ldPTE2NzExOTM1JihuPDw4fG4+Pj4yNCl8NDI3ODI1NTM2MCYobjw8MjR8bj4+PjgpfXZhciBvLGMsZCx3LGssbSxTLHgsYixBLEgsej10aGlzLl9oYXNoLndvcmRzLEM9Zi53b3JkcyxEPXUud29yZHMsRT1zLndvcmRzLFI9YS53b3JkcyxNPWgud29yZHMsRj1sLndvcmRzO209bz16WzBdLFM9Yz16WzFdLHg9ZD16WzJdLGI9dz16WzNdLEE9az16WzRdO2ZvcihyPTA7cjw4MDtyKz0xKUg9byt0W2UrRVtyXV18MCxIKz1yPDE2P3AoYyxkLHcpK0NbMF06cjwzMj9fKGMsZCx3KStDWzFdOnI8NDg/dihjLGQsdykrQ1syXTpyPDY0P3koYyxkLHcpK0NbM106ZyhjLGQsdykrQ1s0XSxIPShIPUIoSHw9MCxNW3JdKSkra3wwLG89ayxrPXcsdz1CKGQsMTApLGQ9YyxjPUgsSD1tK3RbZStSW3JdXXwwLEgrPXI8MTY/ZyhTLHgsYikrRFswXTpyPDMyP3koUyx4LGIpK0RbMV06cjw0OD92KFMseCxiKStEWzJdOnI8NjQ/XyhTLHgsYikrRFszXTpwKFMseCxiKStEWzRdLEg9KEg9QihIfD0wLEZbcl0pKStBfDAsbT1BLEE9YixiPUIoeCwxMCkseD1TLFM9SDtIPXpbMV0rZCtifDAselsxXT16WzJdK3crQXwwLHpbMl09elszXStrK218MCx6WzNdPXpbNF0rbytTfDAsels0XT16WzBdK2MreHwwLHpbMF09SH0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhLGU9dC53b3JkcyxyPTgqdGhpcy5fbkRhdGFCeXRlcyxpPTgqdC5zaWdCeXRlcztlW2k+Pj41XXw9MTI4PDwyNC1pJTMyLGVbMTQrKGkrNjQ+Pj45PDw0KV09MTY3MTE5MzUmKHI8PDh8cj4+PjI0KXw0Mjc4MjU1MzYwJihyPDwyNHxyPj4+OCksdC5zaWdCeXRlcz00KihlLmxlbmd0aCsxKSx0aGlzLl9wcm9jZXNzKCk7Zm9yKHZhciBuPXRoaXMuX2hhc2gsbz1uLndvcmRzLHM9MDtzPDU7cysrKXt2YXIgYT1vW3NdO29bc109MTY3MTE5MzUmKGE8PDh8YT4+PjI0KXw0Mjc4MjU1MzYwJihhPDwyNHxhPj4+OCl9cmV0dXJuIG59LGNsb25lOmZ1bmN0aW9uKCl7dmFyIHQ9bi5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiB0Ll9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKSx0fX0pO2Z1bmN0aW9uIHAodCxlLHIpe3JldHVybiB0XmVecn1mdW5jdGlvbiBfKHQsZSxyKXtyZXR1cm4gdCZlfH50JnJ9ZnVuY3Rpb24gdih0LGUscil7cmV0dXJuKHR8fmUpXnJ9ZnVuY3Rpb24geSh0LGUscil7cmV0dXJuIHQmcnxlJn5yfWZ1bmN0aW9uIGcodCxlLHIpe3JldHVybiB0XihlfH5yKX1mdW5jdGlvbiBCKHQsZSl7cmV0dXJuIHQ8PGV8dD4+PjMyLWV9ZS5SSVBFTUQxNjA9bi5fY3JlYXRlSGVscGVyKGQpLGUuSG1hY1JJUEVNRDE2MD1uLl9jcmVhdGVIbWFjSGVscGVyKGQpfShNYXRoKSxmdW5jdGlvbigpe3ZhciB0PWMsZT10LmxpYi5CYXNlLHI9dC5lbmMuVXRmODt0LmFsZ28uSE1BQz1lLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LGUpe3Q9dGhpcy5faGFzaGVyPW5ldyB0LmluaXQsInN0cmluZyI9PXR5cGVvZiBlJiYoZT1yLnBhcnNlKGUpKTt2YXIgaT10LmJsb2NrU2l6ZSxuPTQqaTtlLnNpZ0J5dGVzPm4mJihlPXQuZmluYWxpemUoZSkpLGUuY2xhbXAoKTtmb3IodmFyIG89dGhpcy5fb0tleT1lLmNsb25lKCkscz10aGlzLl9pS2V5PWUuY2xvbmUoKSxhPW8ud29yZHMsYz1zLndvcmRzLGg9MDtoPGk7aCsrKWFbaF1ePTE1NDk1NTY4MjgsY1toXV49OTA5NTIyNDg2O28uc2lnQnl0ZXM9cy5zaWdCeXRlcz1uLHRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9oYXNoZXI7dC5yZXNldCgpLHQudXBkYXRlKHRoaXMuX2lLZXkpfSx1cGRhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2hhc2hlci51cGRhdGUodCksdGhpc30sZmluYWxpemU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faGFzaGVyLHI9ZS5maW5hbGl6ZSh0KTtyZXR1cm4gZS5yZXNldCgpLGUuZmluYWxpemUodGhpcy5fb0tleS5jbG9uZSgpLmNvbmNhdChyKSl9fSl9KCksZnVuY3Rpb24oKXt2YXIgdD1jLGU9dC5saWIscj1lLkJhc2UsaT1lLldvcmRBcnJheSxuPXQuYWxnbyxvPW4uU0hBMSxzPW4uSE1BQyxhPW4uUEJLREYyPXIuZXh0ZW5kKHtjZmc6ci5leHRlbmQoe2tleVNpemU6NCxoYXNoZXI6byxpdGVyYXRpb25zOjF9KSxpbml0OmZ1bmN0aW9uKHQpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZCh0KX0sY29tcHV0ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10aGlzLmNmZyxuPXMuY3JlYXRlKHIuaGFzaGVyLHQpLG89aS5jcmVhdGUoKSxhPWkuY3JlYXRlKFsxXSksYz1vLndvcmRzLGg9YS53b3JkcyxsPXIua2V5U2l6ZSxmPXIuaXRlcmF0aW9ucztjLmxlbmd0aDxsOyl7dmFyIHU9bi51cGRhdGUoZSkuZmluYWxpemUoYSk7bi5yZXNldCgpO2Zvcih2YXIgZD11LndvcmRzLHA9ZC5sZW5ndGgsXz11LHY9MTt2PGY7disrKXtfPW4uZmluYWxpemUoXyksbi5yZXNldCgpO2Zvcih2YXIgeT1fLndvcmRzLGc9MDtnPHA7ZysrKWRbZ11ePXlbZ119by5jb25jYXQodSksaFswXSsrfXJldHVybiBvLnNpZ0J5dGVzPTQqbCxvfX0pO3QuUEJLREYyPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gYS5jcmVhdGUocikuY29tcHV0ZSh0LGUpfX0oKSxmdW5jdGlvbigpe3ZhciB0PWMsZT10LmxpYixyPWUuQmFzZSxpPWUuV29yZEFycmF5LG49dC5hbGdvLG89bi5NRDUscz1uLkV2cEtERj1yLmV4dGVuZCh7Y2ZnOnIuZXh0ZW5kKHtrZXlTaXplOjQsaGFzaGVyOm8saXRlcmF0aW9uczoxfSksaW5pdDpmdW5jdGlvbih0KXt0aGlzLmNmZz10aGlzLmNmZy5leHRlbmQodCl9LGNvbXB1dGU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIsbj10aGlzLmNmZyxvPW4uaGFzaGVyLmNyZWF0ZSgpLHM9aS5jcmVhdGUoKSxhPXMud29yZHMsYz1uLmtleVNpemUsaD1uLml0ZXJhdGlvbnM7YS5sZW5ndGg8Yzspe3ImJm8udXBkYXRlKHIpLHI9by51cGRhdGUodCkuZmluYWxpemUoZSksby5yZXNldCgpO2Zvcih2YXIgbD0xO2w8aDtsKyspcj1vLmZpbmFsaXplKHIpLG8ucmVzZXQoKTtzLmNvbmNhdChyKX1yZXR1cm4gcy5zaWdCeXRlcz00KmMsc319KTt0LkV2cEtERj1mdW5jdGlvbih0LGUscil7cmV0dXJuIHMuY3JlYXRlKHIpLmNvbXB1dGUodCxlKX19KCksYy5saWIuQ2lwaGVyfHxmdW5jdGlvbih0KXt2YXIgZT1jLHI9ZS5saWIsaT1yLkJhc2Usbj1yLldvcmRBcnJheSxvPXIuQnVmZmVyZWRCbG9ja0FsZ29yaXRobSxzPWUuZW5jLGE9KHMuVXRmOCxzLkJhc2U2NCksaD1lLmFsZ28uRXZwS0RGLGw9ci5DaXBoZXI9by5leHRlbmQoe2NmZzppLmV4dGVuZCgpLGNyZWF0ZUVuY3J5cHRvcjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNyZWF0ZSh0aGlzLl9FTkNfWEZPUk1fTU9ERSx0LGUpfSxjcmVhdGVEZWNyeXB0b3I6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jcmVhdGUodGhpcy5fREVDX1hGT1JNX01PREUsdCxlKX0saW5pdDpmdW5jdGlvbih0LGUscil7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKHIpLHRoaXMuX3hmb3JtTW9kZT10LHRoaXMuX2tleT1lLHRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24oKXtvLnJlc2V0LmNhbGwodGhpcyksdGhpcy5fZG9SZXNldCgpfSxwcm9jZXNzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hcHBlbmQodCksdGhpcy5fcHJvY2VzcygpfSxmaW5hbGl6ZTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmdGhpcy5fYXBwZW5kKHQpLHRoaXMuX2RvRmluYWxpemUoKX0sa2V5U2l6ZTo0LGl2U2l6ZTo0LF9FTkNfWEZPUk1fTU9ERToxLF9ERUNfWEZPUk1fTU9ERToyLF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9COnl9cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybntlbmNyeXB0OmZ1bmN0aW9uKHIsaSxuKXtyZXR1cm4gdChpKS5lbmNyeXB0KGUscixpLG4pfSxkZWNyeXB0OmZ1bmN0aW9uKHIsaSxuKXtyZXR1cm4gdChpKS5kZWNyeXB0KGUscixpLG4pfX19fSgpfSksZj0oci5TdHJlYW1DaXBoZXI9bC5leHRlbmQoe19kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2Nlc3MoITApfSxibG9ja1NpemU6MX0pLGUubW9kZT17fSksdT1yLkJsb2NrQ2lwaGVyTW9kZT1pLmV4dGVuZCh7Y3JlYXRlRW5jcnlwdG9yOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuRW5jcnlwdG9yLmNyZWF0ZSh0LGUpfSxjcmVhdGVEZWNyeXB0b3I6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5EZWNyeXB0b3IuY3JlYXRlKHQsZSl9LGluaXQ6ZnVuY3Rpb24odCxlKXt0aGlzLl9jaXBoZXI9dCx0aGlzLl9pdj1lfX0pLGQ9Zi5DQkM9ZnVuY3Rpb24oKXt2YXIgdD11LmV4dGVuZCgpO2Z1bmN0aW9uIGUodCxlLHIpe3ZhciBpLG49dGhpcy5faXY7bj8oaT1uLHRoaXMuX2l2PXVuZGVmaW5lZCk6aT10aGlzLl9wcmV2QmxvY2s7Zm9yKHZhciBvPTA7bzxyO28rKyl0W2Urb11ePWlbb119cmV0dXJuIHQuRW5jcnlwdG9yPXQuZXh0ZW5kKHtwcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxyKXt2YXIgaT10aGlzLl9jaXBoZXIsbj1pLmJsb2NrU2l6ZTtlLmNhbGwodGhpcyx0LHIsbiksaS5lbmNyeXB0QmxvY2sodCxyKSx0aGlzLl9wcmV2QmxvY2s9dC5zbGljZShyLHIrbil9fSksdC5EZWNyeXB0b3I9dC5leHRlbmQoe3Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LHIpe3ZhciBpPXRoaXMuX2NpcGhlcixuPWkuYmxvY2tTaXplLG89dC5zbGljZShyLHIrbik7aS5kZWNyeXB0QmxvY2sodCxyKSxlLmNhbGwodGhpcyx0LHIsbiksdGhpcy5fcHJldkJsb2NrPW99fSksdH0oKSxwPShlLnBhZD17fSkuUGtjczc9e3BhZDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgcj00KmUsaT1yLXQuc2lnQnl0ZXMlcixvPWk8PDI0fGk8PDE2fGk8PDh8aSxzPVtdLGE9MDthPGk7YSs9NClzLnB1c2gobyk7dmFyIGM9bi5jcmVhdGUocyxpKTt0LmNvbmNhdChjKX0sdW5wYWQ6ZnVuY3Rpb24odCl7dmFyIGU9MjU1JnQud29yZHNbdC5zaWdCeXRlcy0xPj4+Ml07dC5zaWdCeXRlcy09ZX19LF89KHIuQmxvY2tDaXBoZXI9bC5leHRlbmQoe2NmZzpsLmNmZy5leHRlbmQoe21vZGU6ZCxwYWRkaW5nOnB9KSxyZXNldDpmdW5jdGlvbigpe3ZhciB0O2wucmVzZXQuY2FsbCh0aGlzKTt2YXIgZT10aGlzLmNmZyxyPWUuaXYsaT1lLm1vZGU7dGhpcy5feGZvcm1Nb2RlPT10aGlzLl9FTkNfWEZPUk1fTU9ERT90PWkuY3JlYXRlRW5jcnlwdG9yOih0PWkuY3JlYXRlRGVjcnlwdG9yLHRoaXMuX21pbkJ1ZmZlclNpemU9MSksdGhpcy5fbW9kZSYmdGhpcy5fbW9kZS5fX2NyZWF0b3I9PXQ/dGhpcy5fbW9kZS5pbml0KHRoaXMsciYmci53b3Jkcyk6KHRoaXMuX21vZGU9dC5jYWxsKGksdGhpcyxyJiZyLndvcmRzKSx0aGlzLl9tb2RlLl9fY3JlYXRvcj10KX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKHQsZSl7dGhpcy5fbW9kZS5wcm9jZXNzQmxvY2sodCxlKX0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuY2ZnLnBhZGRpbmc7cmV0dXJuIHRoaXMuX3hmb3JtTW9kZT09dGhpcy5fRU5DX1hGT1JNX01PREU/KGUucGFkKHRoaXMuX2RhdGEsdGhpcy5ibG9ja1NpemUpLHQ9dGhpcy5fcHJvY2VzcyghMCkpOih0PXRoaXMuX3Byb2Nlc3MoITApLGUudW5wYWQodCkpLHR9LGJsb2NrU2l6ZTo0fSksci5DaXBoZXJQYXJhbXM9aS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCl7dGhpcy5taXhJbih0KX0sdG9TdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuKHR8fHRoaXMuZm9ybWF0dGVyKS5zdHJpbmdpZnkodGhpcyl9fSkpLHY9KGUuZm9ybWF0PXt9KS5PcGVuU1NMPXtzdHJpbmdpZnk6ZnVuY3Rpb24odCl7dmFyIGU9dC5jaXBoZXJ0ZXh0LHI9dC5zYWx0O3JldHVybihyP24uY3JlYXRlKFsxMzk4ODkzNjg0LDE3MDEwNzY4MzFdKS5jb25jYXQocikuY29uY2F0KGUpOmUpLnRvU3RyaW5nKGEpfSxwYXJzZTpmdW5jdGlvbih0KXt2YXIgZSxyPWEucGFyc2UodCksaT1yLndvcmRzO3JldHVybiAxMzk4ODkzNjg0PT1pWzBdJiYxNzAxMDc2ODMxPT1pWzFdJiYoZT1uLmNyZWF0ZShpLnNsaWNlKDIsNCkpLGkuc3BsaWNlKDAsNCksci5zaWdCeXRlcy09MTYpLF8uY3JlYXRlKHtjaXBoZXJ0ZXh0OnIsc2FsdDplfSl9fSx5PXIuU2VyaWFsaXphYmxlQ2lwaGVyPWkuZXh0ZW5kKHtjZmc6aS5leHRlbmQoe2Zvcm1hdDp2fSksZW5jcnlwdDpmdW5jdGlvbih0LGUscixpKXtpPXRoaXMuY2ZnLmV4dGVuZChpKTt2YXIgbj10LmNyZWF0ZUVuY3J5cHRvcihyLGkpLG89bi5maW5hbGl6ZShlKSxzPW4uY2ZnO3JldHVybiBfLmNyZWF0ZSh7Y2lwaGVydGV4dDpvLGtleTpyLGl2OnMuaXYsYWxnb3JpdGhtOnQsbW9kZTpzLm1vZGUscGFkZGluZzpzLnBhZGRpbmcsYmxvY2tTaXplOnQuYmxvY2tTaXplLGZvcm1hdHRlcjppLmZvcm1hdH0pfSxkZWNyeXB0OmZ1bmN0aW9uKHQsZSxyLGkpe3JldHVybiBpPXRoaXMuY2ZnLmV4dGVuZChpKSxlPXRoaXMuX3BhcnNlKGUsaS5mb3JtYXQpLHQuY3JlYXRlRGVjcnlwdG9yKHIsaSkuZmluYWxpemUoZS5jaXBoZXJ0ZXh0KX0sX3BhcnNlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P2UucGFyc2UodCx0aGlzKTp0fX0pLGc9KGUua2RmPXt9KS5PcGVuU1NMPXtleGVjdXRlOmZ1bmN0aW9uKHQsZSxyLGkpe2l8fChpPW4ucmFuZG9tKDgpKTt2YXIgbz1oLmNyZWF0ZSh7a2V5U2l6ZTplK3J9KS5jb21wdXRlKHQsaSkscz1uLmNyZWF0ZShvLndvcmRzLnNsaWNlKGUpLDQqcik7cmV0dXJuIG8uc2lnQnl0ZXM9NCplLF8uY3JlYXRlKHtrZXk6byxpdjpzLHNhbHQ6aX0pfX0sQj1yLlBhc3N3b3JkQmFzZWRDaXBoZXI9eS5leHRlbmQoe2NmZzp5LmNmZy5leHRlbmQoe2tkZjpnfSksZW5jcnlwdDpmdW5jdGlvbih0LGUscixpKXt2YXIgbj0oaT10aGlzLmNmZy5leHRlbmQoaSkpLmtkZi5leGVjdXRlKHIsdC5rZXlTaXplLHQuaXZTaXplKTtpLml2PW4uaXY7dmFyIG89eS5lbmNyeXB0LmNhbGwodGhpcyx0LGUsbi5rZXksaSk7cmV0dXJuIG8ubWl4SW4obiksb30sZGVjcnlwdDpmdW5jdGlvbih0LGUscixpKXtpPXRoaXMuY2ZnLmV4dGVuZChpKSxlPXRoaXMuX3BhcnNlKGUsaS5mb3JtYXQpO3ZhciBuPWkua2RmLmV4ZWN1dGUocix0LmtleVNpemUsdC5pdlNpemUsZS5zYWx0KTtyZXR1cm4gaS5pdj1uLml2LHkuZGVjcnlwdC5jYWxsKHRoaXMsdCxlLG4ua2V5LGkpfX0pfSgpLGMubW9kZS5DRkI9ZnVuY3Rpb24oKXt2YXIgdD1jLmxpYi5CbG9ja0NpcGhlck1vZGUuZXh0ZW5kKCk7ZnVuY3Rpb24gZSh0LGUscixpKXt2YXIgbixvPXRoaXMuX2l2O28/KG49by5zbGljZSgwKSx0aGlzLl9pdj12b2lkIDApOm49dGhpcy5fcHJldkJsb2NrLGkuZW5jcnlwdEJsb2NrKG4sMCk7Zm9yKHZhciBzPTA7czxyO3MrKyl0W2Urc11ePW5bc119cmV0dXJuIHQuRW5jcnlwdG9yPXQuZXh0ZW5kKHtwcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxyKXt2YXIgaT10aGlzLl9jaXBoZXIsbj1pLmJsb2NrU2l6ZTtlLmNhbGwodGhpcyx0LHIsbixpKSx0aGlzLl9wcmV2QmxvY2s9dC5zbGljZShyLHIrbil9fSksdC5EZWNyeXB0b3I9dC5leHRlbmQoe3Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LHIpe3ZhciBpPXRoaXMuX2NpcGhlcixuPWkuYmxvY2tTaXplLG89dC5zbGljZShyLHIrbik7ZS5jYWxsKHRoaXMsdCxyLG4saSksdGhpcy5fcHJldkJsb2NrPW99fSksdH0oKSxjLm1vZGUuQ1RSPShvPWMubGliLkJsb2NrQ2lwaGVyTW9kZS5leHRlbmQoKSxzPW8uRW5jcnlwdG9yPW8uZXh0ZW5kKHtwcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLl9jaXBoZXIsaT1yLmJsb2NrU2l6ZSxuPXRoaXMuX2l2LG89dGhpcy5fY291bnRlcjtuJiYobz10aGlzLl9jb3VudGVyPW4uc2xpY2UoMCksdGhpcy5faXY9dm9pZCAwKTt2YXIgcz1vLnNsaWNlKDApO3IuZW5jcnlwdEJsb2NrKHMsMCksb1tpLTFdPW9baS0xXSsxfDA7Zm9yKHZhciBhPTA7YTxpO2ErKyl0W2UrYV1ePXNbYV19fSksby5EZWNyeXB0b3I9cyxvKSwKLyoqIEBwcmVzZXJ2ZQoJICogQ291bnRlciBibG9jayBtb2RlIGNvbXBhdGlibGUgd2l0aCAgRHIgQnJpYW4gR2xhZG1hbiBmaWxlZW5jLmMKCSAqIGRlcml2ZWQgZnJvbSBDcnlwdG9KUy5tb2RlLkNUUgoJICogSmFuIEhydWJ5IGpocnVieS53ZWJAZ21haWwuY29tCgkgKi8KYy5tb2RlLkNUUkdsYWRtYW49ZnVuY3Rpb24oKXt2YXIgdD1jLmxpYi5CbG9ja0NpcGhlck1vZGUuZXh0ZW5kKCk7ZnVuY3Rpb24gZSh0KXtpZigyNTU9PSh0Pj4yNCYyNTUpKXt2YXIgZT10Pj4xNiYyNTUscj10Pj44JjI1NSxpPTI1NSZ0OzI1NT09PWU/KGU9MCwyNTU9PT1yPyhyPTAsMjU1PT09aT9pPTA6KytpKTorK3IpOisrZSx0PTAsdCs9ZTw8MTYsdCs9cjw8OCx0Kz1pfWVsc2UgdCs9MTw8MjQ7cmV0dXJuIHR9dmFyIHI9dC5FbmNyeXB0b3I9dC5leHRlbmQoe3Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LHIpe3ZhciBpPXRoaXMuX2NpcGhlcixuPWkuYmxvY2tTaXplLG89dGhpcy5faXYscz10aGlzLl9jb3VudGVyO28mJihzPXRoaXMuX2NvdW50ZXI9by5zbGljZSgwKSx0aGlzLl9pdj12b2lkIDApLGZ1bmN0aW9uKHQpezA9PT0odFswXT1lKHRbMF0pKSYmKHRbMV09ZSh0WzFdKSl9KHMpO3ZhciBhPXMuc2xpY2UoMCk7aS5lbmNyeXB0QmxvY2soYSwwKTtmb3IodmFyIGM9MDtjPG47YysrKXRbcitjXV49YVtjXX19KTtyZXR1cm4gdC5EZWNyeXB0b3I9cix0fSgpLGMubW9kZS5PRkI9ZnVuY3Rpb24oKXt2YXIgdD1jLmxpYi5CbG9ja0NpcGhlck1vZGUuZXh0ZW5kKCksZT10LkVuY3J5cHRvcj10LmV4dGVuZCh7cHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5fY2lwaGVyLGk9ci5ibG9ja1NpemUsbj10aGlzLl9pdixvPXRoaXMuX2tleXN0cmVhbTtuJiYobz10aGlzLl9rZXlzdHJlYW09bi5zbGljZSgwKSx0aGlzLl9pdj12b2lkIDApLHIuZW5jcnlwdEJsb2NrKG8sMCk7Zm9yKHZhciBzPTA7czxpO3MrKyl0W2Urc11ePW9bc119fSk7cmV0dXJuIHQuRGVjcnlwdG9yPWUsdH0oKSxjLm1vZGUuRUNCPSgoYT1jLmxpYi5CbG9ja0NpcGhlck1vZGUuZXh0ZW5kKCkpLkVuY3J5cHRvcj1hLmV4dGVuZCh7cHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKHQsZSl7dGhpcy5fY2lwaGVyLmVuY3J5cHRCbG9jayh0LGUpfX0pLGEuRGVjcnlwdG9yPWEuZXh0ZW5kKHtwcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxlKXt0aGlzLl9jaXBoZXIuZGVjcnlwdEJsb2NrKHQsZSl9fSksYSksYy5wYWQuQW5zaVg5MjM9e3BhZDpmdW5jdGlvbih0LGUpe3ZhciByPXQuc2lnQnl0ZXMsaT00KmUsbj1pLXIlaSxvPXIrbi0xO3QuY2xhbXAoKSx0LndvcmRzW28+Pj4yXXw9bjw8MjQtbyU0KjgsdC5zaWdCeXRlcys9bn0sdW5wYWQ6ZnVuY3Rpb24odCl7dmFyIGU9MjU1JnQud29yZHNbdC5zaWdCeXRlcy0xPj4+Ml07dC5zaWdCeXRlcy09ZX19LGMucGFkLklzbzEwMTI2PXtwYWQ6ZnVuY3Rpb24odCxlKXt2YXIgcj00KmUsaT1yLXQuc2lnQnl0ZXMlcjt0LmNvbmNhdChjLmxpYi5Xb3JkQXJyYXkucmFuZG9tKGktMSkpLmNvbmNhdChjLmxpYi5Xb3JkQXJyYXkuY3JlYXRlKFtpPDwyNF0sMSkpfSx1bnBhZDpmdW5jdGlvbih0KXt2YXIgZT0yNTUmdC53b3Jkc1t0LnNpZ0J5dGVzLTE+Pj4yXTt0LnNpZ0J5dGVzLT1lfX0sYy5wYWQuSXNvOTc5NzE9e3BhZDpmdW5jdGlvbih0LGUpe3QuY29uY2F0KGMubGliLldvcmRBcnJheS5jcmVhdGUoWzIxNDc0ODM2NDhdLDEpKSxjLnBhZC5aZXJvUGFkZGluZy5wYWQodCxlKX0sdW5wYWQ6ZnVuY3Rpb24odCl7Yy5wYWQuWmVyb1BhZGRpbmcudW5wYWQodCksdC5zaWdCeXRlcy0tfX0sYy5wYWQuWmVyb1BhZGRpbmc9e3BhZDpmdW5jdGlvbih0LGUpe3ZhciByPTQqZTt0LmNsYW1wKCksdC5zaWdCeXRlcys9ci0odC5zaWdCeXRlcyVyfHxyKX0sdW5wYWQ6ZnVuY3Rpb24odCl7dmFyIGU9dC53b3JkcyxyPXQuc2lnQnl0ZXMtMTtmb3Iocj10LnNpZ0J5dGVzLTE7cj49MDtyLS0paWYoZVtyPj4+Ml0+Pj4yNC1yJTQqOCYyNTUpe3Quc2lnQnl0ZXM9cisxO2JyZWFrfX19LGMucGFkLk5vUGFkZGluZz17cGFkOmZ1bmN0aW9uKCl7fSx1bnBhZDpmdW5jdGlvbigpe319LGZ1bmN0aW9uKHQpe3ZhciBlPWMscj1lLmxpYi5DaXBoZXJQYXJhbXMsaT1lLmVuYy5IZXg7ZS5mb3JtYXQuSGV4PXtzdHJpbmdpZnk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2lwaGVydGV4dC50b1N0cmluZyhpKX0scGFyc2U6ZnVuY3Rpb24odCl7dmFyIGU9aS5wYXJzZSh0KTtyZXR1cm4gci5jcmVhdGUoe2NpcGhlcnRleHQ6ZX0pfX19KCksZnVuY3Rpb24oKXt2YXIgdD1jLGU9dC5saWIuQmxvY2tDaXBoZXIscj10LmFsZ28saT1bXSxuPVtdLG89W10scz1bXSxhPVtdLGg9W10sbD1bXSxmPVtdLHU9W10sZD1bXTshZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8MjU2O2UrKyl0W2VdPWU8MTI4P2U8PDE6ZTw8MV4yODM7dmFyIHI9MCxjPTA7Zm9yKGU9MDtlPDI1NjtlKyspe3ZhciBwPWNeYzw8MV5jPDwyXmM8PDNeYzw8NDtwPXA+Pj44XjI1NSZwXjk5LGlbcl09cCxuW3BdPXI7dmFyIF89dFtyXSx2PXRbX10seT10W3ZdLGc9MjU3KnRbcF1eMTY4NDMwMDgqcDtvW3JdPWc8PDI0fGc+Pj44LHNbcl09Zzw8MTZ8Zz4+PjE2LGFbcl09Zzw8OHxnPj4+MjQsaFtyXT1nO2c9MTY4NDMwMDkqeV42NTUzNyp2XjI1NypfXjE2ODQzMDA4KnI7bFtwXT1nPDwyNHxnPj4+OCxmW3BdPWc8PDE2fGc+Pj4xNix1W3BdPWc8PDh8Zz4+PjI0LGRbcF09ZyxyPyhyPV9edFt0W3RbeV5fXV1dLGNePXRbdFtjXV0pOnI9Yz0xfX0oKTt2YXIgcD1bMCwxLDIsNCw4LDE2LDMyLDY0LDEyOCwyNyw1NF0sXz1yLkFFUz1lLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fblJvdW5kc3x8dGhpcy5fa2V5UHJpb3JSZXNldCE9PXRoaXMuX2tleSl7Zm9yKHZhciB0PXRoaXMuX2tleVByaW9yUmVzZXQ9dGhpcy5fa2V5LGU9dC53b3JkcyxyPXQuc2lnQnl0ZXMvNCxuPTQqKCh0aGlzLl9uUm91bmRzPXIrNikrMSksbz10aGlzLl9rZXlTY2hlZHVsZT1bXSxzPTA7czxuO3MrKylzPHI/b1tzXT1lW3NdOihoPW9bcy0xXSxzJXI/cj42JiZzJXI9PTQmJihoPWlbaD4+PjI0XTw8MjR8aVtoPj4+MTYmMjU1XTw8MTZ8aVtoPj4+OCYyNTVdPDw4fGlbMjU1JmhdKTooaD1pWyhoPWg8PDh8aD4+PjI0KT4+PjI0XTw8MjR8aVtoPj4+MTYmMjU1XTw8MTZ8aVtoPj4+OCYyNTVdPDw4fGlbMjU1JmhdLGhePXBbcy9yfDBdPDwyNCksb1tzXT1vW3Mtcl1eaCk7Zm9yKHZhciBhPXRoaXMuX2ludktleVNjaGVkdWxlPVtdLGM9MDtjPG47YysrKXtzPW4tYztpZihjJTQpdmFyIGg9b1tzXTtlbHNlIGg9b1tzLTRdO2FbY109Yzw0fHxzPD00P2g6bFtpW2g+Pj4yNF1dXmZbaVtoPj4+MTYmMjU1XV1edVtpW2g+Pj44JjI1NV1dXmRbaVsyNTUmaF1dfX19LGVuY3J5cHRCbG9jazpmdW5jdGlvbih0LGUpe3RoaXMuX2RvQ3J5cHRCbG9jayh0LGUsdGhpcy5fa2V5U2NoZWR1bGUsbyxzLGEsaCxpKX0sZGVjcnlwdEJsb2NrOmZ1bmN0aW9uKHQsZSl7dmFyIHI9dFtlKzFdO3RbZSsxXT10W2UrM10sdFtlKzNdPXIsdGhpcy5fZG9DcnlwdEJsb2NrKHQsZSx0aGlzLl9pbnZLZXlTY2hlZHVsZSxsLGYsdSxkLG4pO3I9dFtlKzFdO3RbZSsxXT10W2UrM10sdFtlKzNdPXJ9LF9kb0NyeXB0QmxvY2s6ZnVuY3Rpb24odCxlLHIsaSxuLG8scyxhKXtmb3IodmFyIGM9dGhpcy5fblJvdW5kcyxoPXRbZV1eclswXSxsPXRbZSsxXV5yWzFdLGY9dFtlKzJdXnJbMl0sdT10W2UrM11eclszXSxkPTQscD0xO3A8YztwKyspe3ZhciBfPWlbaD4+PjI0XV5uW2w+Pj4xNiYyNTVdXm9bZj4+PjgmMjU1XV5zWzI1NSZ1XV5yW2QrK10sdj1pW2w+Pj4yNF1ebltmPj4+MTYmMjU1XV5vW3U+Pj44JjI1NV1ec1syNTUmaF1ecltkKytdLHk9aVtmPj4+MjRdXm5bdT4+PjE2JjI1NV1eb1toPj4+OCYyNTVdXnNbMjU1JmxdXnJbZCsrXSxnPWlbdT4+PjI0XV5uW2g+Pj4xNiYyNTVdXm9bbD4+PjgmMjU1XV5zWzI1NSZmXV5yW2QrK107aD1fLGw9dixmPXksdT1nfV89KGFbaD4+PjI0XTw8MjR8YVtsPj4+MTYmMjU1XTw8MTZ8YVtmPj4+OCYyNTVdPDw4fGFbMjU1JnVdKV5yW2QrK10sdj0oYVtsPj4+MjRdPDwyNHxhW2Y+Pj4xNiYyNTVdPDwxNnxhW3U+Pj44JjI1NV08PDh8YVsyNTUmaF0pXnJbZCsrXSx5PShhW2Y+Pj4yNF08PDI0fGFbdT4+PjE2JjI1NV08PDE2fGFbaD4+PjgmMjU1XTw8OHxhWzI1NSZsXSlecltkKytdLGc9KGFbdT4+PjI0XTw8MjR8YVtoPj4+MTYmMjU1XTw8MTZ8YVtsPj4+OCYyNTVdPDw4fGFbMjU1JmZdKV5yW2QrK107dFtlXT1fLHRbZSsxXT12LHRbZSsyXT15LHRbZSszXT1nfSxrZXlTaXplOjh9KTt0LkFFUz1lLl9jcmVhdGVIZWxwZXIoXyl9KCksZnVuY3Rpb24oKXt2YXIgdD1jLGU9dC5saWIscj1lLldvcmRBcnJheSxpPWUuQmxvY2tDaXBoZXIsbj10LmFsZ28sbz1bNTcsNDksNDEsMzMsMjUsMTcsOSwxLDU4LDUwLDQyLDM0LDI2LDE4LDEwLDIsNTksNTEsNDMsMzUsMjcsMTksMTEsMyw2MCw1Miw0NCwzNiw2Myw1NSw0NywzOSwzMSwyMywxNSw3LDYyLDU0LDQ2LDM4LDMwLDIyLDE0LDYsNjEsNTMsNDUsMzcsMjksMjEsMTMsNSwyOCwyMCwxMiw0XSxzPVsxNCwxNywxMSwyNCwxLDUsMywyOCwxNSw2LDIxLDEwLDIzLDE5LDEyLDQsMjYsOCwxNiw3LDI3LDIwLDEzLDIsNDEsNTIsMzEsMzcsNDcsNTUsMzAsNDAsNTEsNDUsMzMsNDgsNDQsNDksMzksNTYsMzQsNTMsNDYsNDIsNTAsMzYsMjksMzJdLGE9WzEsMiw0LDYsOCwxMCwxMiwxNCwxNSwxNywxOSwyMSwyMywyNSwyNywyOF0saD1bezA6ODQyMTg4OCwyNjg0MzU0NTY6MzI3NjgsNTM2ODcwOTEyOjg0MjEzNzgsODA1MzA2MzY4OjIsMTA3Mzc0MTgyNDo1MTIsMTM0MjE3NzI4MDo4NDIxODkwLDE2MTA2MTI3MzY6ODM4OTEyMiwxODc5MDQ4MTkyOjgzODg2MDgsMjE0NzQ4MzY0ODo1MTQsMjQxNTkxOTEwNDo4Mzg5MTIwLDI2ODQzNTQ1NjA6MzMyODAsMjk1Mjc5MDAxNjo4NDIxMzc2LDMyMjEyMjU0NzI6MzI3NzAsMzQ4OTY2MDkyODo4Mzg4NjEwLDM3NTgwOTYzODQ6MCw0MDI2NTMxODQwOjMzMjgyLDEzNDIxNzcyODowLDQwMjY1MzE4NDo4NDIxODkwLDY3MTA4ODY0MDozMzI4Miw5Mzk1MjQwOTY6MzI3NjgsMTIwNzk1OTU1Mjo4NDIxODg4LDE0NzYzOTUwMDg6NTEyLDE3NDQ4MzA0NjQ6ODQyMTM3OCwyMDEzMjY1OTIwOjIsMjI4MTcwMTM3Njo4Mzg5MTIwLDI1NTAxMzY4MzI6MzMyODAsMjgxODU3MjI4ODo4NDIxMzc2LDMwODcwMDc3NDQ6ODM4OTEyMiwzMzU1NDQzMjAwOjgzODg2MTAsMzYyMzg3ODY1NjozMjc3MCwzODkyMzE0MTEyOjUxNCw0MTYwNzQ5NTY4OjgzODg2MDgsMTozMjc2OCwyNjg0MzU0NTc6Miw1MzY4NzA5MTM6ODQyMTg4OCw4MDUzMDYzNjk6ODM4ODYwOCwxMDczNzQxODI1Ojg0MjEzNzgsMTM0MjE3NzI4MTozMzI4MCwxNjEwNjEyNzM3OjUxMiwxODc5MDQ4MTkzOjgzODkxMjIsMjE0NzQ4MzY0OTo4NDIxODkwLDI0MTU5MTkxMDU6ODQyMTM3NiwyNjg0MzU0NTYxOjgzODg2MTAsMjk1Mjc5MDAxNzozMzI4MiwzMjIxMjI1NDczOjUxNCwzNDg5NjYwOTI5OjgzODkxMjAsMzc1ODA5NjM4NTozMjc3MCw0MDI2NTMxODQxOjAsMTM0MjE3NzI5Ojg0MjE4OTAsNDAyNjUzMTg1Ojg0MjEzNzYsNjcxMDg4NjQxOjgzODg2MDgsOTM5NTI0MDk3OjUxMiwxMjA3OTU5NTUzOjMyNzY4LDE0NzYzOTUwMDk6ODM4ODYxMCwxNzQ0ODMwNDY1OjIsMjAxMzI2NTkyMTozMzI4MiwyMjgxNzAxMzc3OjMyNzcwLDI1NTAxMzY4MzM6ODM4OTEyMiwyODE4NTcyMjg5OjUxNCwzMDg3MDA3NzQ1Ojg0MjE4ODgsMzM1NTQ0MzIwMTo4Mzg5MTIwLDM2MjM4Nzg2NTc6MCwzODkyMzE0MTEzOjMzMjgwLDQxNjA3NDk1Njk6ODQyMTM3OH0sezA6MTA3NDI4MjUxMiwxNjc3NzIxNjoxNjM4NCwzMzU1NDQzMjo1MjQyODgsNTAzMzE2NDg6MTA3NDI2NjEyOCw2NzEwODg2NDoxMDczNzQxODQwLDgzODg2MDgwOjEwNzQyODI0OTYsMTAwNjYzMjk2OjEwNzM3NTgyMDgsMTE3NDQwNTEyOjE2LDEzNDIxNzcyODo1NDA2NzIsMTUwOTk0OTQ0OjEwNzM3NTgyMjQsMTY3NzcyMTYwOjEwNzM3NDE4MjQsMTg0NTQ5Mzc2OjU0MDY4OCwyMDEzMjY1OTI6NTI0MzA0LDIxODEwMzgwODowLDIzNDg4MTAyNDoxNjQwMCwyNTE2NTgyNDA6MTA3NDI2NjExMiw4Mzg4NjA4OjEwNzM3NTgyMDgsMjUxNjU4MjQ6NTQwNjg4LDQxOTQzMDQwOjE2LDU4NzIwMjU2OjEwNzM3NTgyMjQsNzU0OTc0NzI6MTA3NDI4MjUxMiw5MjI3NDY4ODoxMDczNzQxODI0LDEwOTA1MTkwNDo1MjQyODgsMTI1ODI5MTIwOjEwNzQyNjYxMjgsMTQyNjA2MzM2OjUyNDMwNCwxNTkzODM1NTI6MCwxNzYxNjA3Njg6MTYzODQsMTkyOTM3OTg0OjEwNzQyNjYxMTIsMjA5NzE1MjAwOjEwNzM3NDE4NDAsMjI2NDkyNDE2OjU0MDY3MiwyNDMyNjk2MzI6MTA3NDI4MjQ5NiwyNjAwNDY4NDg6MTY0MDAsMjY4NDM1NDU2OjAsMjg1MjEyNjcyOjEwNzQyNjYxMjgsMzAxOTg5ODg4OjEwNzM3NTgyMjQsMzE4NzY3MTA0OjEwNzQyODI0OTYsMzM1NTQ0MzIwOjEwNzQyNjYxMTIsMzUyMzIxNTM2OjE2LDM2OTA5ODc1Mjo1NDA2ODgsMzg1ODc1OTY4OjE2Mzg0LDQwMjY1MzE4NDoxNjQwMCw0MTk0MzA0MDA6NTI0Mjg4LDQzNjIwNzYxNjo1MjQzMDQsNDUyOTg0ODMyOjEwNzM3NDE4NDAsNDY5NzYyMDQ4OjU0MDY3Miw0ODY1MzkyNjQ6MTA3Mzc1ODIwOCw1MDMzMTY0ODA6MTA3Mzc0MTgyNCw1MjAwOTM2OTY6MTA3NDI4MjUxMiwyNzY4MjQwNjQ6NTQwNjg4LDI5MzYwMTI4MDo1MjQyODgsMzEwMzc4NDk2OjEwNzQyNjYxMTIsMzI3MTU1NzEyOjE2Mzg0LDM0MzkzMjkyODoxMDczNzU4MjA4LDM2MDcxMDE0NDoxMDc0MjgyNTEyLDM3NzQ4NzM2MDoxNiwzOTQyNjQ1NzY6MTA3Mzc0MTgyNCw0MTEwNDE3OTI6MTA3NDI4MjQ5Niw0Mjc4MTkwMDg6MTA3Mzc0MTg0MCw0NDQ1OTYyMjQ6MTA3Mzc1ODIyNCw0NjEzNzM0NDA6NTI0MzA0LDQ3ODE1MDY1NjowLDQ5NDkyNzg3MjoxNjQwMCw1MTE3MDUwODg6MTA3NDI2NjEyOCw1Mjg0ODIzMDQ6NTQwNjcyfSx7MDoyNjAsMTA0ODU3NjowLDIwOTcxNTI6NjcxMDkxMjAsMzE0NTcyODo2NTc5Niw0MTk0MzA0OjY1NTQwLDUyNDI4ODA6NjcxMDg4NjgsNjI5MTQ1Njo2NzE3NDY2MCw3MzQwMDMyOjY3MTc0NDAwLDgzODg2MDg6NjcxMDg4NjQsOTQzNzE4NDo2NzE3NDY1NiwxMDQ4NTc2MDo2NTc5MiwxMTUzNDMzNjo2NzE3NDQwNCwxMjU4MjkxMjo2NzEwOTEyNCwxMzYzMTQ4ODo2NTUzNiwxNDY4MDA2NDo0LDE1NzI4NjQwOjI1Niw1MjQyODg6NjcxNzQ2NTYsMTU3Mjg2NDo2NzE3NDQwNCwyNjIxNDQwOjAsMzY3MDAxNjo2NzEwOTEyMCw0NzE4NTkyOjY3MTA4ODY4LDU3NjcxNjg6NjU1MzYsNjgxNTc0NDo2NTU0MCw3ODY0MzIwOjI2MCw4OTEyODk2OjQsOTk2MTQ3MjoyNTYsMTEwMTAwNDg6NjcxNzQ0MDAsMTIwNTg2MjQ6NjU3OTYsMTMxMDcyMDA6NjU3OTIsMTQxNTU3NzY6NjcxMDkxMjQsMTUyMDQzNTI6NjcxNzQ2NjAsMTYyNTI5Mjg6NjcxMDg4NjQsMTY3NzcyMTY6NjcxNzQ2NTYsMTc4MjU3OTI6NjU1NDAsMTg4NzQzNjg6NjU1MzYsMTk5MjI5NDQ6NjcxMDkxMjAsMjA5NzE1MjA6MjU2LDIyMDIwMDk2OjY3MTc0NjYwLDIzMDY4NjcyOjY3MTA4ODY4LDI0MTE3MjQ4OjAsMjUxNjU4MjQ6NjcxMDkxMjQsMjYyMTQ0MDA6NjcxMDg4NjQsMjcyNjI5NzY6NCwyODMxMTU1Mjo2NTc5MiwyOTM2MDEyODo2NzE3NDQwMCwzMDQwODcwNDoyNjAsMzE0NTcyODA6NjU3OTYsMzI1MDU4NTY6NjcxNzQ0MDQsMTczMDE1MDQ6NjcxMDg4NjQsMTgzNTAwODA6MjYwLDE5Mzk4NjU2OjY3MTc0NjU2LDIwNDQ3MjMyOjAsMjE0OTU4MDg6NjU1NDAsMjI1NDQzODQ6NjcxMDkxMjAsMjM1OTI5NjA6MjU2LDI0NjQxNTM2OjY3MTc0NDA0LDI1NjkwMTEyOjY1NTM2LDI2NzM4Njg4OjY3MTc0NjYwLDI3Nzg3MjY0OjY1Nzk2LDI4ODM1ODQwOjY3MTA4ODY4LDI5ODg0NDE2OjY3MTA5MTI0LDMwOTMyOTkyOjY3MTc0NDAwLDMxOTgxNTY4OjQsMzMwMzAxNDQ6NjU3OTJ9LHswOjIxNTE2ODIwNDgsNjU1MzY6MjE0NzQ4NzgwOCwxMzEwNzI6NDE5ODQ2NCwxOTY2MDg6MjE1MTY3Nzk1MiwyNjIxNDQ6MCwzMjc2ODA6NDE5ODQwMCwzOTMyMTY6MjE0NzQ4MzcxMiw0NTg3NTI6NDE5NDM2OCw1MjQyODg6MjE0NzQ4MzY0OCw1ODk4MjQ6NDE5NDMwNCw2NTUzNjA6NjQsNzIwODk2OjIxNDc0ODc3NDQsNzg2NDMyOjIxNTE2NzgwMTYsODUxOTY4OjQxNjAsOTE3NTA0OjQwOTYsOTgzMDQwOjIxNTE2ODIxMTIsMzI3Njg6MjE0NzQ4NzgwOCw5ODMwNDo2NCwxNjM4NDA6MjE1MTY3ODAxNiwyMjkzNzY6MjE0NzQ4Nzc0NCwyOTQ5MTI6NDE5ODQwMCwzNjA0NDg6MjE1MTY4MjExMiw0MjU5ODQ6MCw0OTE1MjA6MjE1MTY3Nzk1Miw1NTcwNTY6NDA5Niw2MjI1OTI6MjE1MTY4MjA0OCw2ODgxMjg6NDE5NDMwNCw3NTM2NjQ6NDE2MCw4MTkyMDA6MjE0NzQ4MzY0OCw4ODQ3MzY6NDE5NDM2OCw5NTAyNzI6NDE5ODQ2NCwxMDE1ODA4OjIxNDc0ODM3MTIsMTA0ODU3Njo0MTk0MzY4LDExMTQxMTI6NDE5ODQwMCwxMTc5NjQ4OjIxNDc0ODM3MTIsMTI0NTE4NDowLDEzMTA3MjA6NDE2MCwxMzc2MjU2OjIxNTE2NzgwMTYsMTQ0MTc5MjoyMTUxNjgyMDQ4LDE1MDczMjg6MjE0NzQ4NzgwOCwxNTcyODY0OjIxNTE2ODIxMTIsMTYzODQwMDoyMTQ3NDgzNjQ4LDE3MDM5MzY6MjE1MTY3Nzk1MiwxNzY5NDcyOjQxOTg0NjQsMTgzNTAwODoyMTQ3NDg3NzQ0LDE5MDA1NDQ6NDE5NDMwNCwxOTY2MDgwOjY0LDIwMzE2MTY6NDA5NiwxMDgxMzQ0OjIxNTE2Nzc5NTIsMTE0Njg4MDoyMTUxNjgyMTEyLDEyMTI0MTY6MCwxMjc3OTUyOjQxOTg0MDAsMTM0MzQ4ODo0MTk0MzY4LDE0MDkwMjQ6MjE0NzQ4MzY0OCwxNDc0NTYwOjIxNDc0ODc4MDgsMTU0MDA5Njo2NCwxNjA1NjMyOjIxNDc0ODM3MTIsMTY3MTE2ODo0MDk2LDE3MzY3MDQ6MjE0NzQ4Nzc0NCwxODAyMjQwOjIxNTE2NzgwMTYsMTg2Nzc3Njo0MTYwLDE5MzMzMTI6MjE1MTY4MjA0OCwxOTk4ODQ4OjQxOTQzMDQsMjA2NDM4NDo0MTk4NDY0fSx7MDoxMjgsNDA5NjoxNzAzOTM2MCw4MTkyOjI2MjE0NCwxMjI4ODo1MzY4NzA5MTIsMTYzODQ6NTM3MTMzMTg0LDIwNDgwOjE2Nzc3MzQ0LDI0NTc2OjU1MzY0ODI1NiwyODY3MjoyNjIyNzIsMzI3Njg6MTY3NzcyMTYsMzY4NjQ6NTM3MTMzMDU2LDQwOTYwOjUzNjg3MTA0MCw0NTA1Njo1NTM5MTA0MDAsNDkxNTI6NTUzOTEwMjcyLDUzMjQ4OjAsNTczNDQ6MTcwMzk0ODgsNjE0NDA6NTUzNjQ4MTI4LDIwNDg6MTcwMzk0ODgsNjE0NDo1NTM2NDgyNTYsMTAyNDA6MTI4LDE0MzM2OjE3MDM5MzYwLDE4NDMyOjI2MjE0NCwyMjUyODo1MzcxMzMxODQsMjY2MjQ6NTUzOTEwMjcyLDMwNzIwOjUzNjg3MDkxMiwzNDgxNjo1MzcxMzMwNTYsMzg5MTI6MCw0MzAwODo1NTM5MTA0MDAsNDcxMDQ6MTY3NzczNDQsNTEyMDA6NTM2ODcxMDQwLDU1Mjk2OjU1MzY0ODEyOCw1OTM5MjoxNjc3NzIxNiw2MzQ4ODoyNjIyNzIsNjU1MzY6MjYyMTQ0LDY5NjMyOjEyOCw3MzcyODo1MzY4NzA5MTIsNzc4MjQ6NTUzNjQ4MjU2LDgxOTIwOjE2Nzc3MzQ0LDg2MDE2OjU1MzkxMDI3Miw5MDExMjo1MzcxMzMxODQsOTQyMDg6MTY3NzcyMTYsOTgzMDQ6NTUzOTEwNDAwLDEwMjQwMDo1NTM2NDgxMjgsMTA2NDk2OjE3MDM5MzYwLDExMDU5Mjo1MzcxMzMwNTYsMTE0Njg4OjI2MjI3MiwxMTg3ODQ6NTM2ODcxMDQwLDEyMjg4MDowLDEyNjk3NjoxNzAzOTQ4OCw2NzU4NDo1NTM2NDgyNTYsNzE2ODA6MTY3NzcyMTYsNzU3NzY6MTcwMzkzNjAsNzk4NzI6NTM3MTMzMTg0LDgzOTY4OjUzNjg3MDkxMiw4ODA2NDoxNzAzOTQ4OCw5MjE2MDoxMjgsOTYyNTY6NTUzOTEwMjcyLDEwMDM1MjoyNjIyNzIsMTA0NDQ4OjU1MzkxMDQwMCwxMDg1NDQ6MCwxMTI2NDA6NTUzNjQ4MTI4LDExNjczNjoxNjc3NzM0NCwxMjA4MzI6MjYyMTQ0LDEyNDkyODo1MzcxMzMwNTYsMTI5MDI0OjUzNjg3MTA0MH0sezA6MjY4NDM1NDY0LDI1Njo4MTkyLDUxMjoyNzA1MzI2MDgsNzY4OjI3MDU0MDgwOCwxMDI0OjI2ODQ0MzY0OCwxMjgwOjIwOTcxNTIsMTUzNjoyMDk3MTYwLDE3OTI6MjY4NDM1NDU2LDIwNDg6MCwyMzA0OjI2ODQ0MzY1NiwyNTYwOjIxMDUzNDQsMjgxNjo4LDMwNzI6MjcwNTMyNjE2LDMzMjg6MjEwNTM1MiwzNTg0OjgyMDAsMzg0MDoyNzA1NDA4MDAsMTI4OjI3MDUzMjYwOCwzODQ6MjcwNTQwODA4LDY0MDo4LDg5NjoyMDk3MTUyLDExNTI6MjEwNTM1MiwxNDA4OjI2ODQzNTQ2NCwxNjY0OjI2ODQ0MzY0OCwxOTIwOjgyMDAsMjE3NjoyMDk3MTYwLDI0MzI6ODE5MiwyNjg4OjI2ODQ0MzY1NiwyOTQ0OjI3MDUzMjYxNiwzMjAwOjAsMzQ1NjoyNzA1NDA4MDAsMzcxMjoyMTA1MzQ0LDM5Njg6MjY4NDM1NDU2LDQwOTY6MjY4NDQzNjQ4LDQzNTI6MjcwNTMyNjE2LDQ2MDg6MjcwNTQwODA4LDQ4NjQ6ODIwMCw1MTIwOjIwOTcxNTIsNTM3NjoyNjg0MzU0NTYsNTYzMjoyNjg0MzU0NjQsNTg4ODoyMTA1MzQ0LDYxNDQ6MjEwNTM1Miw2NDAwOjAsNjY1Njo4LDY5MTI6MjcwNTMyNjA4LDcxNjg6ODE5Miw3NDI0OjI2ODQ0MzY1Niw3NjgwOjI3MDU0MDgwMCw3OTM2OjIwOTcxNjAsNDIyNDo4LDQ0ODA6MjEwNTM0NCw0NzM2OjIwOTcxNTIsNDk5MjoyNjg0MzU0NjQsNTI0ODoyNjg0NDM2NDgsNTUwNDo4MjAwLDU3NjA6MjcwNTQwODA4LDYwMTY6MjcwNTMyNjA4LDYyNzI6MjcwNTQwODAwLDY1Mjg6MjcwNTMyNjE2LDY3ODQ6ODE5Miw3MDQwOjIxMDUzNTIsNzI5NjoyMDk3MTYwLDc1NTI6MCw3ODA4OjI2ODQzNTQ1Niw4MDY0OjI2ODQ0MzY1Nn0sezA6MTA0ODU3NiwxNjozMzU1NTQ1NywzMjoxMDI0LDQ4OjEwNDk2MDEsNjQ6MzQ2MDQwMzMsODA6MCw5NjoxLDExMjozNDYwMzAwOSwxMjg6MzM1NTU0NTYsMTQ0OjEwNDg1NzcsMTYwOjMzNTU0NDMzLDE3NjozNDYwNDAzMiwxOTI6MzQ2MDMwMDgsMjA4OjEwMjUsMjI0OjEwNDk2MDAsMjQwOjMzNTU0NDMyLDg6MzQ2MDMwMDksMjQ6MCw0MDozMzU1NTQ1Nyw1NjozNDYwNDAzMiw3MjoxMDQ4NTc2LDg4OjMzNTU0NDMzLDEwNDozMzU1NDQzMiwxMjA6MTAyNSwxMzY6MTA0OTYwMSwxNTI6MzM1NTU0NTYsMTY4OjM0NjAzMDA4LDE4NDoxMDQ4NTc3LDIwMDoxMDI0LDIxNjozNDYwNDAzMywyMzI6MSwyNDg6MTA0OTYwMCwyNTY6MzM1NTQ0MzIsMjcyOjEwNDg1NzYsMjg4OjMzNTU1NDU3LDMwNDozNDYwMzAwOSwzMjA6MTA0ODU3NywzMzY6MzM1NTU0NTYsMzUyOjM0NjA0MDMyLDM2ODoxMDQ5NjAxLDM4NDoxMDI1LDQwMDozNDYwNDAzMyw0MTY6MTA0OTYwMCw0MzI6MSw0NDg6MCw0NjQ6MzQ2MDMwMDgsNDgwOjMzNTU0NDMzLDQ5NjoxMDI0LDI2NDoxMDQ5NjAwLDI4MDozMzU1NTQ1NywyOTY6MzQ2MDMwMDksMzEyOjEsMzI4OjMzNTU0NDMyLDM0NDoxMDQ4NTc2LDM2MDoxMDI1LDM3NjozNDYwNDAzMiwzOTI6MzM1NTQ0MzMsNDA4OjM0NjAzMDA4LDQyNDowLDQ0MDozNDYwNDAzMyw0NTY6MTA0OTYwMSw0NzI6MTAyNCw0ODg6MzM1NTU0NTYsNTA0OjEwNDg1Nzd9LHswOjEzNDIxOTgwOCwxOjEzMTA3MiwyOjEzNDIxNzcyOCwzOjMyLDQ6MTMxMTA0LDU6MTM0MzUwODgwLDY6MTM0MzUwODQ4LDc6MjA0OCw4OjEzNDM0ODgwMCw5OjEzNDIxOTc3NiwxMDoxMzMxMjAsMTE6MTM0MzQ4ODMyLDEyOjIwODAsMTM6MCwxNDoxMzQyMTc3NjAsMTU6MTMzMTUyLDIxNDc0ODM2NDg6MjA0OCwyMTQ3NDgzNjQ5OjEzNDM1MDg4MCwyMTQ3NDgzNjUwOjEzNDIxOTgwOCwyMTQ3NDgzNjUxOjEzNDIxNzcyOCwyMTQ3NDgzNjUyOjEzNDM0ODgwMCwyMTQ3NDgzNjUzOjEzMzEyMCwyMTQ3NDgzNjU0OjEzMzE1MiwyMTQ3NDgzNjU1OjMyLDIxNDc0ODM2NTY6MTM0MjE3NzYwLDIxNDc0ODM2NTc6MjA4MCwyMTQ3NDgzNjU4OjEzMTEwNCwyMTQ3NDgzNjU5OjEzNDM1MDg0OCwyMTQ3NDgzNjYwOjAsMjE0NzQ4MzY2MToxMzQzNDg4MzIsMjE0NzQ4MzY2MjoxMzQyMTk3NzYsMjE0NzQ4MzY2MzoxMzEwNzIsMTY6MTMzMTUyLDE3OjEzNDM1MDg0OCwxODozMiwxOToyMDQ4LDIwOjEzNDIxOTc3NiwyMToxMzQyMTc3NjAsMjI6MTM0MzQ4ODMyLDIzOjEzMTA3MiwyNDowLDI1OjEzMTEwNCwyNjoxMzQzNDg4MDAsMjc6MTM0MjE5ODA4LDI4OjEzNDM1MDg4MCwyOToxMzMxMjAsMzA6MjA4MCwzMToxMzQyMTc3MjgsMjE0NzQ4MzY2NDoxMzEwNzIsMjE0NzQ4MzY2NToyMDQ4LDIxNDc0ODM2NjY6MTM0MzQ4ODMyLDIxNDc0ODM2Njc6MTMzMTUyLDIxNDc0ODM2Njg6MzIsMjE0NzQ4MzY2OToxMzQzNDg4MDAsMjE0NzQ4MzY3MDoxMzQyMTc3MjgsMjE0NzQ4MzY3MToxMzQyMTk4MDgsMjE0NzQ4MzY3MjoxMzQzNTA4ODAsMjE0NzQ4MzY3MzoxMzQyMTc3NjAsMjE0NzQ4MzY3NDoxMzQyMTk3NzYsMjE0NzQ4MzY3NTowLDIxNDc0ODM2NzY6MTMzMTIwLDIxNDc0ODM2Nzc6MjA4MCwyMTQ3NDgzNjc4OjEzMTEwNCwyMTQ3NDgzNjc5OjEzNDM1MDg0OH1dLGw9WzQxNjA3NDk1NjksNTI4NDgyMzA0LDMzMDMwMTQ0LDIwNjQzODQsMTI5MDI0LDgwNjQsNTA0LDIxNDc0ODM2NzldLGY9bi5ERVM9aS5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2tleS53b3JkcyxlPVtdLHI9MDtyPDU2O3IrKyl7dmFyIGk9b1tyXS0xO2Vbcl09dFtpPj4+NV0+Pj4zMS1pJTMyJjF9Zm9yKHZhciBuPXRoaXMuX3N1YktleXM9W10sYz0wO2M8MTY7YysrKXt2YXIgaD1uW2NdPVtdLGw9YVtjXTtmb3Iocj0wO3I8MjQ7cisrKWhbci82fDBdfD1lWyhzW3JdLTErbCklMjhdPDwzMS1yJTYsaFs0KyhyLzZ8MCldfD1lWzI4KyhzW3IrMjRdLTErbCklMjhdPDwzMS1yJTY7aFswXT1oWzBdPDwxfGhbMF0+Pj4zMTtmb3Iocj0xO3I8NztyKyspaFtyXT1oW3JdPj4+NCooci0xKSszO2hbN109aFs3XTw8NXxoWzddPj4+Mjd9dmFyIGY9dGhpcy5faW52U3ViS2V5cz1bXTtmb3Iocj0wO3I8MTY7cisrKWZbcl09blsxNS1yXX0sZW5jcnlwdEJsb2NrOmZ1bmN0aW9uKHQsZSl7dGhpcy5fZG9DcnlwdEJsb2NrKHQsZSx0aGlzLl9zdWJLZXlzKX0sZGVjcnlwdEJsb2NrOmZ1bmN0aW9uKHQsZSl7dGhpcy5fZG9DcnlwdEJsb2NrKHQsZSx0aGlzLl9pbnZTdWJLZXlzKX0sX2RvQ3J5cHRCbG9jazpmdW5jdGlvbih0LGUscil7dGhpcy5fbEJsb2NrPXRbZV0sdGhpcy5fckJsb2NrPXRbZSsxXSx1LmNhbGwodGhpcyw0LDI1MjY0NTEzNSksdS5jYWxsKHRoaXMsMTYsNjU1MzUpLGQuY2FsbCh0aGlzLDIsODU4OTkzNDU5KSxkLmNhbGwodGhpcyw4LDE2NzExOTM1KSx1LmNhbGwodGhpcywxLDE0MzE2NTU3NjUpO2Zvcih2YXIgaT0wO2k8MTY7aSsrKXtmb3IodmFyIG49cltpXSxvPXRoaXMuX2xCbG9jayxzPXRoaXMuX3JCbG9jayxhPTAsYz0wO2M8ODtjKyspYXw9aFtjXVsoKHNebltjXSkmbFtjXSk+Pj4wXTt0aGlzLl9sQmxvY2s9cyx0aGlzLl9yQmxvY2s9b15hfXZhciBmPXRoaXMuX2xCbG9jazt0aGlzLl9sQmxvY2s9dGhpcy5fckJsb2NrLHRoaXMuX3JCbG9jaz1mLHUuY2FsbCh0aGlzLDEsMTQzMTY1NTc2NSksZC5jYWxsKHRoaXMsOCwxNjcxMTkzNSksZC5jYWxsKHRoaXMsMiw4NTg5OTM0NTkpLHUuY2FsbCh0aGlzLDE2LDY1NTM1KSx1LmNhbGwodGhpcyw0LDI1MjY0NTEzNSksdFtlXT10aGlzLl9sQmxvY2ssdFtlKzFdPXRoaXMuX3JCbG9ja30sa2V5U2l6ZToyLGl2U2l6ZToyLGJsb2NrU2l6ZToyfSk7ZnVuY3Rpb24gdSh0LGUpe3ZhciByPSh0aGlzLl9sQmxvY2s+Pj50XnRoaXMuX3JCbG9jaykmZTt0aGlzLl9yQmxvY2tePXIsdGhpcy5fbEJsb2NrXj1yPDx0fWZ1bmN0aW9uIGQodCxlKXt2YXIgcj0odGhpcy5fckJsb2NrPj4+dF50aGlzLl9sQmxvY2spJmU7dGhpcy5fbEJsb2NrXj1yLHRoaXMuX3JCbG9ja149cjw8dH10LkRFUz1pLl9jcmVhdGVIZWxwZXIoZik7dmFyIHA9bi5UcmlwbGVERVM9aS5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fa2V5LndvcmRzO2lmKDIhPT10Lmxlbmd0aCYmNCE9PXQubGVuZ3RoJiZ0Lmxlbmd0aDw2KXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBrZXkgbGVuZ3RoIC0gM0RFUyByZXF1aXJlcyB0aGUga2V5IGxlbmd0aCB0byBiZSA2NCwgMTI4LCAxOTIgb3IgPjE5Mi4iKTt2YXIgZT10LnNsaWNlKDAsMiksaT10Lmxlbmd0aDw0P3Quc2xpY2UoMCwyKTp0LnNsaWNlKDIsNCksbj10Lmxlbmd0aDw2P3Quc2xpY2UoMCwyKTp0LnNsaWNlKDQsNik7dGhpcy5fZGVzMT1mLmNyZWF0ZUVuY3J5cHRvcihyLmNyZWF0ZShlKSksdGhpcy5fZGVzMj1mLmNyZWF0ZUVuY3J5cHRvcihyLmNyZWF0ZShpKSksdGhpcy5fZGVzMz1mLmNyZWF0ZUVuY3J5cHRvcihyLmNyZWF0ZShuKSl9LGVuY3J5cHRCbG9jazpmdW5jdGlvbih0LGUpe3RoaXMuX2RlczEuZW5jcnlwdEJsb2NrKHQsZSksdGhpcy5fZGVzMi5kZWNyeXB0QmxvY2sodCxlKSx0aGlzLl9kZXMzLmVuY3J5cHRCbG9jayh0LGUpfSxkZWNyeXB0QmxvY2s6ZnVuY3Rpb24odCxlKXt0aGlzLl9kZXMzLmRlY3J5cHRCbG9jayh0LGUpLHRoaXMuX2RlczIuZW5jcnlwdEJsb2NrKHQsZSksdGhpcy5fZGVzMS5kZWNyeXB0QmxvY2sodCxlKX0sa2V5U2l6ZTo2LGl2U2l6ZToyLGJsb2NrU2l6ZToyfSk7dC5UcmlwbGVERVM9aS5fY3JlYXRlSGVscGVyKHApfSgpLGZ1bmN0aW9uKCl7dmFyIHQ9YyxlPXQubGliLlN0cmVhbUNpcGhlcixyPXQuYWxnbyxpPXIuUkM0PWUuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9rZXksZT10LndvcmRzLHI9dC5zaWdCeXRlcyxpPXRoaXMuX1M9W10sbj0wO248MjU2O24rKylpW25dPW47bj0wO2Zvcih2YXIgbz0wO248MjU2O24rKyl7dmFyIHM9biVyLGE9ZVtzPj4+Ml0+Pj4yNC1zJTQqOCYyNTU7bz0obytpW25dK2EpJTI1Njt2YXIgYz1pW25dO2lbbl09aVtvXSxpW29dPWN9dGhpcy5faT10aGlzLl9qPTB9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LGUpe3RbZV1ePW4uY2FsbCh0aGlzKX0sa2V5U2l6ZTo4LGl2U2l6ZTowfSk7ZnVuY3Rpb24gbigpe2Zvcih2YXIgdD10aGlzLl9TLGU9dGhpcy5faSxyPXRoaXMuX2osaT0wLG49MDtuPDQ7bisrKXtyPShyK3RbZT0oZSsxKSUyNTZdKSUyNTY7dmFyIG89dFtlXTt0W2VdPXRbcl0sdFtyXT1vLGl8PXRbKHRbZV0rdFtyXSklMjU2XTw8MjQtOCpufXJldHVybiB0aGlzLl9pPWUsdGhpcy5faj1yLGl9dC5SQzQ9ZS5fY3JlYXRlSGVscGVyKGkpO3ZhciBvPXIuUkM0RHJvcD1pLmV4dGVuZCh7Y2ZnOmkuY2ZnLmV4dGVuZCh7ZHJvcDoxOTJ9KSxfZG9SZXNldDpmdW5jdGlvbigpe2kuX2RvUmVzZXQuY2FsbCh0aGlzKTtmb3IodmFyIHQ9dGhpcy5jZmcuZHJvcDt0PjA7dC0tKW4uY2FsbCh0aGlzKX19KTt0LlJDNERyb3A9ZS5fY3JlYXRlSGVscGVyKG8pfSgpLGZ1bmN0aW9uKCl7dmFyIHQ9YyxlPXQubGliLlN0cmVhbUNpcGhlcixyPXQuYWxnbyxpPVtdLG49W10sbz1bXSxzPXIuUmFiYml0PWUuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9rZXkud29yZHMsZT10aGlzLmNmZy5pdixyPTA7cjw0O3IrKyl0W3JdPTE2NzExOTM1Jih0W3JdPDw4fHRbcl0+Pj4yNCl8NDI3ODI1NTM2MCYodFtyXTw8MjR8dFtyXT4+PjgpO3ZhciBpPXRoaXMuX1g9W3RbMF0sdFszXTw8MTZ8dFsyXT4+PjE2LHRbMV0sdFswXTw8MTZ8dFszXT4+PjE2LHRbMl0sdFsxXTw8MTZ8dFswXT4+PjE2LHRbM10sdFsyXTw8MTZ8dFsxXT4+PjE2XSxuPXRoaXMuX0M9W3RbMl08PDE2fHRbMl0+Pj4xNiw0Mjk0OTAxNzYwJnRbMF18NjU1MzUmdFsxXSx0WzNdPDwxNnx0WzNdPj4+MTYsNDI5NDkwMTc2MCZ0WzFdfDY1NTM1JnRbMl0sdFswXTw8MTZ8dFswXT4+PjE2LDQyOTQ5MDE3NjAmdFsyXXw2NTUzNSZ0WzNdLHRbMV08PDE2fHRbMV0+Pj4xNiw0Mjk0OTAxNzYwJnRbM118NjU1MzUmdFswXV07dGhpcy5fYj0wO2ZvcihyPTA7cjw0O3IrKylhLmNhbGwodGhpcyk7Zm9yKHI9MDtyPDg7cisrKW5bcl1ePWlbcis0JjddO2lmKGUpe3ZhciBvPWUud29yZHMscz1vWzBdLGM9b1sxXSxoPTE2NzExOTM1JihzPDw4fHM+Pj4yNCl8NDI3ODI1NTM2MCYoczw8MjR8cz4+PjgpLGw9MTY3MTE5MzUmKGM8PDh8Yz4+PjI0KXw0Mjc4MjU1MzYwJihjPDwyNHxjPj4+OCksZj1oPj4+MTZ8NDI5NDkwMTc2MCZsLHU9bDw8MTZ8NjU1MzUmaDtuWzBdXj1oLG5bMV1ePWYsblsyXV49bCxuWzNdXj11LG5bNF1ePWgsbls1XV49ZixuWzZdXj1sLG5bN11ePXU7Zm9yKHI9MDtyPDQ7cisrKWEuY2FsbCh0aGlzKX19LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LGUpe3ZhciByPXRoaXMuX1g7YS5jYWxsKHRoaXMpLGlbMF09clswXV5yWzVdPj4+MTZeclszXTw8MTYsaVsxXT1yWzJdXnJbN10+Pj4xNl5yWzVdPDwxNixpWzJdPXJbNF1eclsxXT4+PjE2XnJbN108PDE2LGlbM109cls2XV5yWzNdPj4+MTZeclsxXTw8MTY7Zm9yKHZhciBuPTA7bjw0O24rKylpW25dPTE2NzExOTM1JihpW25dPDw4fGlbbl0+Pj4yNCl8NDI3ODI1NTM2MCYoaVtuXTw8MjR8aVtuXT4+PjgpLHRbZStuXV49aVtuXX0sYmxvY2tTaXplOjQsaXZTaXplOjJ9KTtmdW5jdGlvbiBhKCl7Zm9yKHZhciB0PXRoaXMuX1gsZT10aGlzLl9DLHI9MDtyPDg7cisrKW5bcl09ZVtyXTtlWzBdPWVbMF0rMTI5NTMwNzU5Nyt0aGlzLl9ifDAsZVsxXT1lWzFdKzM1NDUwNTIzNzErKGVbMF0+Pj4wPG5bMF0+Pj4wPzE6MCl8MCxlWzJdPWVbMl0rODg2MjYzMDkyKyhlWzFdPj4+MDxuWzFdPj4+MD8xOjApfDAsZVszXT1lWzNdKzEyOTUzMDc1OTcrKGVbMl0+Pj4wPG5bMl0+Pj4wPzE6MCl8MCxlWzRdPWVbNF0rMzU0NTA1MjM3MSsoZVszXT4+PjA8blszXT4+PjA/MTowKXwwLGVbNV09ZVs1XSs4ODYyNjMwOTIrKGVbNF0+Pj4wPG5bNF0+Pj4wPzE6MCl8MCxlWzZdPWVbNl0rMTI5NTMwNzU5NysoZVs1XT4+PjA8bls1XT4+PjA/MTowKXwwLGVbN109ZVs3XSszNTQ1MDUyMzcxKyhlWzZdPj4+MDxuWzZdPj4+MD8xOjApfDAsdGhpcy5fYj1lWzddPj4+MDxuWzddPj4+MD8xOjA7Zm9yKHI9MDtyPDg7cisrKXt2YXIgaT10W3JdK2Vbcl0scz02NTUzNSZpLGE9aT4+PjE2LGM9KChzKnM+Pj4xNykrcyphPj4+MTUpK2EqYSxoPSgoNDI5NDkwMTc2MCZpKSppfDApKygoNjU1MzUmaSkqaXwwKTtvW3JdPWNeaH10WzBdPW9bMF0rKG9bN108PDE2fG9bN10+Pj4xNikrKG9bNl08PDE2fG9bNl0+Pj4xNil8MCx0WzFdPW9bMV0rKG9bMF08PDh8b1swXT4+PjI0KStvWzddfDAsdFsyXT1vWzJdKyhvWzFdPDwxNnxvWzFdPj4+MTYpKyhvWzBdPDwxNnxvWzBdPj4+MTYpfDAsdFszXT1vWzNdKyhvWzJdPDw4fG9bMl0+Pj4yNCkrb1sxXXwwLHRbNF09b1s0XSsob1szXTw8MTZ8b1szXT4+PjE2KSsob1syXTw8MTZ8b1syXT4+PjE2KXwwLHRbNV09b1s1XSsob1s0XTw8OHxvWzRdPj4+MjQpK29bM118MCx0WzZdPW9bNl0rKG9bNV08PDE2fG9bNV0+Pj4xNikrKG9bNF08PDE2fG9bNF0+Pj4xNil8MCx0WzddPW9bN10rKG9bNl08PDh8b1s2XT4+PjI0KStvWzVdfDB9dC5SYWJiaXQ9ZS5fY3JlYXRlSGVscGVyKHMpfSgpLGZ1bmN0aW9uKCl7dmFyIHQ9YyxlPXQubGliLlN0cmVhbUNpcGhlcixyPXQuYWxnbyxpPVtdLG49W10sbz1bXSxzPXIuUmFiYml0TGVnYWN5PWUuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2tleS53b3JkcyxlPXRoaXMuY2ZnLml2LHI9dGhpcy5fWD1bdFswXSx0WzNdPDwxNnx0WzJdPj4+MTYsdFsxXSx0WzBdPDwxNnx0WzNdPj4+MTYsdFsyXSx0WzFdPDwxNnx0WzBdPj4+MTYsdFszXSx0WzJdPDwxNnx0WzFdPj4+MTZdLGk9dGhpcy5fQz1bdFsyXTw8MTZ8dFsyXT4+PjE2LDQyOTQ5MDE3NjAmdFswXXw2NTUzNSZ0WzFdLHRbM108PDE2fHRbM10+Pj4xNiw0Mjk0OTAxNzYwJnRbMV18NjU1MzUmdFsyXSx0WzBdPDwxNnx0WzBdPj4+MTYsNDI5NDkwMTc2MCZ0WzJdfDY1NTM1JnRbM10sdFsxXTw8MTZ8dFsxXT4+PjE2LDQyOTQ5MDE3NjAmdFszXXw2NTUzNSZ0WzBdXTt0aGlzLl9iPTA7Zm9yKHZhciBuPTA7bjw0O24rKylhLmNhbGwodGhpcyk7Zm9yKG49MDtuPDg7bisrKWlbbl1ePXJbbis0JjddO2lmKGUpe3ZhciBvPWUud29yZHMscz1vWzBdLGM9b1sxXSxoPTE2NzExOTM1JihzPDw4fHM+Pj4yNCl8NDI3ODI1NTM2MCYoczw8MjR8cz4+PjgpLGw9MTY3MTE5MzUmKGM8PDh8Yz4+PjI0KXw0Mjc4MjU1MzYwJihjPDwyNHxjPj4+OCksZj1oPj4+MTZ8NDI5NDkwMTc2MCZsLHU9bDw8MTZ8NjU1MzUmaDtpWzBdXj1oLGlbMV1ePWYsaVsyXV49bCxpWzNdXj11LGlbNF1ePWgsaVs1XV49ZixpWzZdXj1sLGlbN11ePXU7Zm9yKG49MDtuPDQ7bisrKWEuY2FsbCh0aGlzKX19LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LGUpe3ZhciByPXRoaXMuX1g7YS5jYWxsKHRoaXMpLGlbMF09clswXV5yWzVdPj4+MTZeclszXTw8MTYsaVsxXT1yWzJdXnJbN10+Pj4xNl5yWzVdPDwxNixpWzJdPXJbNF1eclsxXT4+PjE2XnJbN108PDE2LGlbM109cls2XV5yWzNdPj4+MTZeclsxXTw8MTY7Zm9yKHZhciBuPTA7bjw0O24rKylpW25dPTE2NzExOTM1JihpW25dPDw4fGlbbl0+Pj4yNCl8NDI3ODI1NTM2MCYoaVtuXTw8MjR8aVtuXT4+PjgpLHRbZStuXV49aVtuXX0sYmxvY2tTaXplOjQsaXZTaXplOjJ9KTtmdW5jdGlvbiBhKCl7Zm9yKHZhciB0PXRoaXMuX1gsZT10aGlzLl9DLHI9MDtyPDg7cisrKW5bcl09ZVtyXTtlWzBdPWVbMF0rMTI5NTMwNzU5Nyt0aGlzLl9ifDAsZVsxXT1lWzFdKzM1NDUwNTIzNzErKGVbMF0+Pj4wPG5bMF0+Pj4wPzE6MCl8MCxlWzJdPWVbMl0rODg2MjYzMDkyKyhlWzFdPj4+MDxuWzFdPj4+MD8xOjApfDAsZVszXT1lWzNdKzEyOTUzMDc1OTcrKGVbMl0+Pj4wPG5bMl0+Pj4wPzE6MCl8MCxlWzRdPWVbNF0rMzU0NTA1MjM3MSsoZVszXT4+PjA8blszXT4+PjA/MTowKXwwLGVbNV09ZVs1XSs4ODYyNjMwOTIrKGVbNF0+Pj4wPG5bNF0+Pj4wPzE6MCl8MCxlWzZdPWVbNl0rMTI5NTMwNzU5NysoZVs1XT4+PjA8bls1XT4+PjA/MTowKXwwLGVbN109ZVs3XSszNTQ1MDUyMzcxKyhlWzZdPj4+MDxuWzZdPj4+MD8xOjApfDAsdGhpcy5fYj1lWzddPj4+MDxuWzddPj4+MD8xOjA7Zm9yKHI9MDtyPDg7cisrKXt2YXIgaT10W3JdK2Vbcl0scz02NTUzNSZpLGE9aT4+PjE2LGM9KChzKnM+Pj4xNykrcyphPj4+MTUpK2EqYSxoPSgoNDI5NDkwMTc2MCZpKSppfDApKygoNjU1MzUmaSkqaXwwKTtvW3JdPWNeaH10WzBdPW9bMF0rKG9bN108PDE2fG9bN10+Pj4xNikrKG9bNl08PDE2fG9bNl0+Pj4xNil8MCx0WzFdPW9bMV0rKG9bMF08PDh8b1swXT4+PjI0KStvWzddfDAsdFsyXT1vWzJdKyhvWzFdPDwxNnxvWzFdPj4+MTYpKyhvWzBdPDwxNnxvWzBdPj4+MTYpfDAsdFszXT1vWzNdKyhvWzJdPDw4fG9bMl0+Pj4yNCkrb1sxXXwwLHRbNF09b1s0XSsob1szXTw8MTZ8b1szXT4+PjE2KSsob1syXTw8MTZ8b1syXT4+PjE2KXwwLHRbNV09b1s1XSsob1s0XTw8OHxvWzRdPj4+MjQpK29bM118MCx0WzZdPW9bNl0rKG9bNV08PDE2fG9bNV0+Pj4xNikrKG9bNF08PDE2fG9bNF0+Pj4xNil8MCx0WzddPW9bN10rKG9bNl08PDh8b1s2XT4+PjI0KStvWzVdfDB9dC5SYWJiaXRMZWdhY3k9ZS5fY3JlYXRlSGVscGVyKHMpfSgpLGN9KSk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPS9zbS8zZDk2ZmJjOWM0YjEzMGFkMTE1Mzc2ZDBjN2I5NTU0NmQzNTViYjdmYmVhYTc2NzZmOWYyNWYzMGM2ZGRjNGJjLm1hcA=="}]},{"name":"ÁôæÂ∫¶ÁΩëÁõòËßÜÈ¢ëÊí≠ÊîæÂ∞ä‰∫´ VIP | Ëß£ÈîÅËßÜÈ¢ëÂÄçÊï∞ | Ëß£ÈîÅÂÖ®ÈÉ®Ê∏ÖÊô∞Â∫¶","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["https://pan.baidu.com/play/video*","https://timer.palerock.cn/configuration*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1656858703210,"data":{}},"enabled":true,"position":10,"file_url":"https://greasyfork.org/scripts/426952-%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%B0%8A%E4%BA%AB-vip-%E8%A7%A3%E9%94%81%E8%A7%86%E9%A2%91%E5%80%8D%E6%95%B0-%E8%A7%A3%E9%94%81%E5%85%A8%E9%83%A8%E6%B8%85%E6%99%B0%E5%BA%A6/code/%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%B0%8A%E4%BA%AB%20VIP%20%7C%20%E8%A7%A3%E9%94%81%E8%A7%86%E9%A2%91%E5%80%8D%E6%95%B0%20%7C%20%E8%A7%A3%E9%94%81%E5%85%A8%E9%83%A8%E6%B8%85%E6%99%B0%E5%BA%A6.user.js","uuid":"40e97cff-ddfe-496e-a4a0-799acc1eaf46","source":"CgovLyA9PVVzZXJTY3JpcHQ9PQovLyBAbmFtZSAgICAgICAgICAgIOeZvuW6pue9keebmOinhumikeaSreaUvuWwiuS6qyBWSVAgfCDop6PplIHop4bpopHlgI3mlbAgfCDop6PplIHlhajpg6jmuIXmmbDluqYKLy8gQG5hbWVzcGFjZSAgICAgICBodHRwczovL3RpbWVyLnBhbGVyb2NrLmNuCi8vIEB2ZXJzaW9uICAgICAgICAgMC4xLjAKLy8gQGRlc2NyaXB0aW9uICAgICDkvb/nlKjor6XohJrmnKzov5vlhaXnmb7luqbnvZHnm5jop4bpopHmkq3mlL7pobXpnaLvvIzoh6rliqjop6PplIEgVklQIOmZkOWItu+8jOWPr+S7peS9v+eUqCBWSVAg55qE57ud5aSn5aSa5pWw5Yqf6IO9Ci8vIEBpbmNsdWRlICAgICAgICAgaHR0cHM6Ly9wYW4uYmFpZHUuY29tL3BsYXkvdmlkZW8qCi8vIEBpbmNsdWRlICAgICAgICAgaHR0cHM6Ly90aW1lci5wYWxlcm9jay5jbi9jb25maWd1cmF0aW9uKgovLyBAYXV0aG9yICAgICAgICAgIENhbmdzaGkKLy8gQHJ1bi1hdCAgICAgICAgICBkb2N1bWVudC1zdGFydAovLyBAZ3JhbnQgICAgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkgewogIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cykgOgogIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOgogIChnbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogZ2xvYmFsIHx8IHNlbGYsIGZhY3RvcnkoZ2xvYmFsLiRob29rQmFpZHVQYW5WaWRlbyA9IHt9KSk7Cn0odGhpcywgKGZ1bmN0aW9uIChleHBvcnRzKSB7ICd1c2Ugc3RyaWN0JzsKCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgewogICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07CiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsKICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOwogICAgICBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgewogICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7CiAgICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7CiAgICByZXR1cm4gQ29uc3RydWN0b3I7CiAgfQoKICBmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsKICAgIGlmIChzZWxmID09PSB2b2lkIDApIHsKICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsKICAgIH0KCiAgICByZXR1cm4gc2VsZjsKICB9CgogIGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7CiAgICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgewogICAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOwogICAgfTsKICAgIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7CiAgfQoKICBmdW5jdGlvbiBfc3VwZXJQcm9wQmFzZShvYmplY3QsIHByb3BlcnR5KSB7CiAgICB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkgewogICAgICBvYmplY3QgPSBfZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsKICAgICAgaWYgKG9iamVjdCA9PT0gbnVsbCkgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG9iamVjdDsKICB9CgogIGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsKICAgIGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gInVuZGVmaW5lZCIgJiYgUmVmbGVjdC5nZXQpIHsKICAgICAgX2dldCA9IFJlZmxlY3QuZ2V0OwogICAgfSBlbHNlIHsKICAgICAgX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsKICAgICAgICB2YXIgYmFzZSA9IF9zdXBlclByb3BCYXNlKHRhcmdldCwgcHJvcGVydHkpOwogICAgICAgIGlmICghYmFzZSkgcmV0dXJuOwogICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7CgogICAgICAgIGlmIChkZXNjLmdldCkgewogICAgICAgICAgcmV0dXJuIGRlc2MuZ2V0LmNhbGwocmVjZWl2ZXIpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGRlc2MudmFsdWU7CiAgICAgIH07CiAgICB9CgogICAgcmV0dXJuIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIgfHwgdGFyZ2V0KTsKICB9CgogIGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7CiAgICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsKICAgICAgby5fX3Byb3RvX18gPSBwOwogICAgICByZXR1cm4gbzsKICAgIH07CgogICAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsKICB9CgogIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgewogICAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsKICAgIH0KCiAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsKICAgICAgY29uc3RydWN0b3I6IHsKICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsCiAgICAgICAgd3JpdGFibGU6IHRydWUsCiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgIH0KICAgIH0pOwogICAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7CiAgfQoKICBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsKCiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgewogICAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsKICAgICAgICByZXR1cm4gdHlwZW9mIG9iajsKICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7CiAgICAgIH07CiAgICB9CgogICAgcmV0dXJuIF90eXBlb2Yob2JqKTsKICB9CgogIGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsKICAgIGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsKICAgICAgcmV0dXJuIGNhbGw7CiAgICB9CgogICAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7CiAgfQoKICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgICBpZiAoa2V5IGluIG9iaikgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgd3JpdGFibGU6IHRydWUKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBvYmpba2V5XSA9IHZhbHVlOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfQoKICB2YXIgQ29uZmlnVHlwZTsKCiAgKGZ1bmN0aW9uIChDb25maWdUeXBlKSB7CiAgICBDb25maWdUeXBlWyJCT09MRUFOIl0gPSAiYm9vbGVhbiI7CiAgICBDb25maWdUeXBlWyJTVFJJTkciXSA9ICJzdHJpbmciOwogICAgQ29uZmlnVHlwZVsiTlVNQkVSIl0gPSAibnVtYmVyIjsKICAgIENvbmZpZ1R5cGVbIlNIT1JUQ1VUIl0gPSAic2hvcnRjdXQiOwogICAgQ29uZmlnVHlwZVsiTE9OR19TVFJJTkciXSA9ICJsb25nX3N0cmluZyI7CiAgICBDb25maWdUeXBlWyJEQVRFIl0gPSAiZGF0ZSI7CiAgICBDb25maWdUeXBlWyJDT0xPUiJdID0gImNvbG9yIjsKICAgIENvbmZpZ1R5cGVbIkFSUkFZIl0gPSAiYXJyYXkiOwogICAgQ29uZmlnVHlwZVsiUElDS0xJU1QiXSA9ICJwaWNrbGlzdCI7CiAgICBDb25maWdUeXBlWyJEVUVMSU5HX1BJQ0tMSVNUIl0gPSAiZHVlbGluZ19waWNrbGlzdCI7CiAgfSkoQ29uZmlnVHlwZSB8fCAoQ29uZmlnVHlwZSA9IHt9KSk7CgogIGZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsKICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7CiAgfQoKICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgICB2YXIgX2kgPSBhcnIgJiYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFyclsiQEBpdGVyYXRvciJdKTsKCiAgICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuOwogICAgdmFyIF9hcnIgPSBbXTsKICAgIHZhciBfbiA9IHRydWU7CiAgICB2YXIgX2QgPSBmYWxzZTsKCiAgICB2YXIgX3MsIF9lOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfZCA9IHRydWU7CiAgICAgIF9lID0gZXJyOwogICAgfSBmaW5hbGx5IHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIF9hcnI7CiAgfQoKICBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheSQxKGFyciwgbGVuKSB7CiAgICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsKCiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsKICAgICAgYXJyMltpXSA9IGFycltpXTsKICAgIH0KCiAgICByZXR1cm4gYXJyMjsKICB9CgogIGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQxKG8sIG1pbkxlbikgewogICAgaWYgKCFvKSByZXR1cm47CiAgICBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMShvLCBtaW5MZW4pOwogICAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOwogICAgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7CiAgICBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOwogICAgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMShvLCBtaW5MZW4pOwogIH0KCiAgZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7CiAgfQoKICBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsKICAgIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKICB9CgogIGZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvWyJAQGl0ZXJhdG9yIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXRbInJldHVybiJdICE9IG51bGwpIGl0WyJyZXR1cm4iXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9CgogIGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgogIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKICB2YXIgX3dpbmRvdzsKCiAgZnVuY3Rpb24gZ2V0V2luZG93KCkgewogICAgaWYgKF93aW5kb3cgPT0gbnVsbCkgewogICAgICBfd2luZG93ID0gdHlwZW9mIHVuc2FmZVdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB1bnNhZmVXaW5kb3c7CiAgICB9CgogICAgcmV0dXJuIF93aW5kb3c7CiAgfQogIGZ1bmN0aW9uIGlzSW5JZnJhbWUoKSB7CiAgICB2YXIgaXMgPSBnZXRXaW5kb3coKS5wYXJlbnQgIT09IGdldFdpbmRvdygpOwoKICAgIHRyeSB7CiAgICAgIGlzID0gaXMgJiYgZ2V0V2luZG93KCkucGFyZW50LmRvY3VtZW50LmJvZHkudGFnTmFtZSAhPT0gJ0ZSQU1FU0VUJzsKICAgIH0gY2F0Y2ggKGUpIHsvLyBpZ25vcmUKICAgIH0KCiAgICByZXR1cm4gaXM7CiAgfQogIHZhciBMT0FEX01PRFVMRSA9ICdfX2hvb2tzX2xvYWRfbW9kdWxlJzsKICB2YXIgTE9BRF9NT0RVTEVfUEFUSCA9ICdfX19ob29rc19wcmVNb2R1bGVzJzsKICB2YXIgZ2V0T3duUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLmJpbmQoT2JqZWN0KTsKICBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZChPYmplY3QpOwogIHZhciBuYXRpdmVPYmplY3RzID0gW1tBcnJheS5wcm90b3R5cGVdLCBbT2JqZWN0LCBmYWxzZV1dOwoKICBmdW5jdGlvbiBnZXRNZXRob2RMaXN0KHRhcmdldCkgewogICAgdmFyIHJlc3VsdCA9IHt9OwoKICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihnZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldCkpLAogICAgICAgIF9zdGVwOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIG5hbWUgPSBfc3RlcC52YWx1ZTsKICAgICAgICByZXN1bHRbbmFtZV0gPSB0YXJnZXRbbmFtZV07CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgbmF0aXZlT2JqZWN0cy5tYXAoZnVuY3Rpb24gKF9yZWYpIHsKICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDEpLAogICAgICAgIG5hdGl2ZU9iamVjdCA9IF9yZWYyWzBdOwoKICAgIHJldHVybiBbbmF0aXZlT2JqZWN0LCBnZXRNZXRob2RMaXN0KG5hdGl2ZU9iamVjdCldOwogIH0pOwogIGZ1bmN0aW9uIHJlcXVpcmVUb0xvYWRNb2R1bGUobW9kdWxlKSB7CiAgICBpZiAoIWdldFdpbmRvdygpW0xPQURfTU9EVUxFXSkgewogICAgICB3aW5kb3dbTE9BRF9NT0RVTEVfUEFUSF0gPSB3aW5kb3dbTE9BRF9NT0RVTEVfUEFUSF0gfHwgW107CiAgICAgIHdpbmRvd1tMT0FEX01PRFVMRV9QQVRIXS5wdXNoKG1vZHVsZSk7CiAgICB9IGVsc2UgewogICAgICBnZXRXaW5kb3coKS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChMT0FEX01PRFVMRSwgewogICAgICAgIGRldGFpbDogbW9kdWxlCiAgICAgIH0pKTsKICAgIH0KICB9CgogIHZhciBsb2dnZXIgPSB7CiAgICBsb2c6IGZ1bmN0aW9uIGxvZygpIHsKICAgICAgaWYgKCFpc0luSWZyYW1lKCkpIHsKICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgICAgfQoKICAgICAgICBhcmdzLnVuc2hpZnQoJ1tUaW1lckhvb2tdJyk7CgogICAgICAgIGlmICh0eXBlb2YgR01fbG9nID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICBHTV9sb2coYXJncy5qb2luKCcgJykpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgX2NvbnNvbGU7CgogICAgICAgICAgKF9jb25zb2xlID0gY29uc29sZSkubG9nLmFwcGx5KF9jb25zb2xlLCBhcmdzKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB3YXJuOiBmdW5jdGlvbiB3YXJuKCkgewogICAgICBpZiAoIWlzSW5JZnJhbWUoKSkgewogICAgICAgIHZhciBfY29uc29sZTI7CgogICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykgewogICAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdOwogICAgICAgIH0KCiAgICAgICAgYXJncy51bnNoaWZ0KCdbVGltZXJIb29rXScpOwoKICAgICAgICAoX2NvbnNvbGUyID0gY29uc29sZSkud2Fybi5hcHBseShfY29uc29sZTIsIGFyZ3MpOwogICAgICB9CiAgICB9CiAgfTsKCiAgdmFyIEJhc2ljTW9kdWxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIEJhc2ljTW9kdWxlKCkgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFzaWNNb2R1bGUpOwoKICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJob3N0Iiwgdm9pZCAwKTsKCiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiaXNBY3RpdmUiLCBmYWxzZSk7CgogICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImlzTW91bnRIb3N0IiwgZmFsc2UpOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhCYXNpY01vZHVsZSwgW3sKICAgICAga2V5OiAibW91bnRIb3N0IiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1vdW50SG9zdChob3N0KSB7CiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDsKICAgICAgICB0aGlzLmlzTW91bnRIb3N0ID0gdHJ1ZTsKICAgICAgICB0aGlzLm9uTW91bnRlZCgpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogImFjdGl2YXRlIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFjdGl2YXRlKCkgewogICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlOwogICAgICAgIHRoaXMuaW5pdCgpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogImRlYWN0aXZhdGUiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZGVhY3RpdmF0ZSgpIHsKICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7CiAgICAgICAgdGhpcy5vbkRlc3Ryb3koKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJtb2R1bGVOYW1lIiwKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJwcmlvcml0eSIsCiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiA1MDsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJhdXRvQWN0aXZhdGUiLAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJpc0NvcmVNb2R1bGUiLAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiaXNPbmx5T3V0ZXJJZnJhbWUiLAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiZ2V0RGVwZW5kZW5jeU1vZHVsZSIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXBlbmRlbmN5TW9kdWxlKG1vZHVsZUlkZW50aXR5TmFtZSkgewogICAgICAgIGlmICh0aGlzLmhvc3QgPT0gbnVsbCkgewogICAgICAgICAgLy8gbG9nZ2VyLndhcm4oJ1RoaXMgbW9kdWxlIFsnICsgdGhpcy5tb2R1bGVJZGVudGl0eU5hbWUgKyAnXSBpcyBub3QgbW91bnRlZC4nKQogICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgICB9CgogICAgICAgIHZhciB0YXJnZXRNb2R1bGUgPSB0aGlzLmhvc3QuZ2V0TW9kdWxlKG1vZHVsZUlkZW50aXR5TmFtZSk7CgogICAgICAgIGlmICh0YXJnZXRNb2R1bGUgJiYgdGFyZ2V0TW9kdWxlLm1vZHVsZUlkZW50aXR5TmFtZSkgewogICAgICAgICAgcmV0dXJuIHRhcmdldE1vZHVsZTsKICAgICAgICB9IC8vIGxvZ2dlci53YXJuKCdNb2R1bGUgbm90IGZvdW5kOicsIG1vZHVsZUlkZW50aXR5TmFtZSkKCgogICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiaW5pdCIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KCkgey8vIHRvIGJlIG92ZXJyaWRlCiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAib25Nb3VudGVkIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91bnRlZCgpIHsvLyB0byBiZSBvdmVycmlkZQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogIm9uRGVzdHJveSIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRlc3Ryb3koKSB7Ly8gdG8gYmUgb3ZlcnJpZGUKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJkZWNsYXJlQ29uZmlncyIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZWNsYXJlQ29uZmlncygpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAic2V0Q29uZmlnIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldENvbmZpZyhrZXksIHZhbHVlKSB7CiAgICAgICAgdmFyIGNvbmZpZ3MgPSB0aGlzLmdldERlcGVuZGVuY3lNb2R1bGUoJ2NvbmZpZ3MnKTsKCiAgICAgICAgaWYgKCFjb25maWdzIHx8ICFjb25maWdzLmF2YWlsYWJsZSgpKSB7CiAgICAgICAgICBsb2dnZXIud2FybignQ29uZmlnIG1vZHVsZSBub3QgZm91bmQsIGNhblwndCBzZXQgY29uZmlncyB2YWx1ZXMuJyk7CiAgICAgICAgfQoKICAgICAgICBjb25maWdzLnNldFZhbHVlKHRoaXMubW9kdWxlSWRlbnRpdHlOYW1lLCBrZXksIHZhbHVlKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJnZXRDb25maWciLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29uZmlnKGtleSkgewogICAgICAgIHZhciBfY29uZmlncyRnZXRWYWx1ZTsKCiAgICAgICAgdmFyIGNvbmZpZ3MgPSB0aGlzLmdldERlcGVuZGVuY3lNb2R1bGUoJ2NvbmZpZ3MnKTsKICAgICAgICB2YXIgZGVmYXVsdFZhbHVlID0gKHRoaXMuZGVjbGFyZUNvbmZpZ3MoKS5maW5kKGZ1bmN0aW9uIChjb25maWcpIHsKICAgICAgICAgIHJldHVybiBjb25maWcua2V5ID09PSBrZXk7CiAgICAgICAgfSkgfHwge30pWyJkZWZhdWx0Il07CgogICAgICAgIGlmICghY29uZmlncyB8fCAhY29uZmlncy5hdmFpbGFibGUoKSkgewogICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoX2NvbmZpZ3MkZ2V0VmFsdWUgPSBjb25maWdzLmdldFZhbHVlKHRoaXMubW9kdWxlSWRlbnRpdHlOYW1lLCBrZXkpKSAhPT0gbnVsbCAmJiBfY29uZmlncyRnZXRWYWx1ZSAhPT0gdm9pZCAwID8gX2NvbmZpZ3MkZ2V0VmFsdWUgOiBkZWZhdWx0VmFsdWU7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAid2luZG93IiwKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaG9zdCA/IHRoaXMuaG9zdC5nZXRXaW5kb3coKSA6IGdldFdpbmRvdygpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogImRvY3VtZW50IiwKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMud2luZG93LmRvY3VtZW50OwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIEJhc2ljTW9kdWxlOwogIH0oKTsKCiAgZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCiAgZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH0KICB2YXIgdGFyZ2V0TG9jYWxzID0gWydsb2MnLCAnYWxzJ10uam9pbignJyk7CiAgdmFyIHByb3h5TG9jYWxzID0gWydsb2NhbHMnLCAnYmFjayddLmpvaW4oJ18nKTsKCiAgdmFyIEJhaWR1UGFuVmlkZW8gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNpY01vZHVsZSkgewogICAgX2luaGVyaXRzKEJhaWR1UGFuVmlkZW8sIF9CYXNpY01vZHVsZSk7CgogICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihCYWlkdVBhblZpZGVvKTsKCiAgICBmdW5jdGlvbiBCYWlkdVBhblZpZGVvKCkgewogICAgICB2YXIgX3RoaXM7CgogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFpZHVQYW5WaWRlbyk7CgogICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogICAgICB9CgogICAgICBfdGhpcyA9IF9zdXBlci5jYWxsLmFwcGx5KF9zdXBlciwgW3RoaXNdLmNvbmNhdChhcmdzKSk7CgogICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoYXNJbml0IiwgZmFsc2UpOwoKICAgICAgcmV0dXJuIF90aGlzOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhCYWlkdVBhblZpZGVvLCBbewogICAgICBrZXk6ICJtb2R1bGVJZGVudGl0eU5hbWUiLAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gJ2JhaWR1UGFuVmlkZW8nOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogIm1vZHVsZU5hbWUiLAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gJ+eZvuW6pue9keebmOinhumikSBWSVAnOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogImluaXQiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihCYWlkdVBhblZpZGVvLnByb3RvdHlwZSksICJpbml0IiwgdGhpcykuY2FsbCh0aGlzKTsKCiAgICAgICAgaWYgKCF0aGlzLmhhc0luaXQpIHsKICAgICAgICAgIHRoaXMuYXBwbHlWaXBSb2xlcygpOwogICAgICAgICAgdGhpcy5oYXNJbml0ID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAicHJpb3JpdHkiLAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJnZXRDb25maWdNYXBwZXIiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29uZmlnTWFwcGVyKGtleXMpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgcmV0dXJuIGtleXMucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSkgewogICAgICAgICAgcmVzdWx0W2tleV0gPSBfdGhpczIuZ2V0Q29uZmlnKGtleSk7CiAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0sIHt9KTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJnZXR0ZXJNYXBwZXIiLAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRDb25maWdNYXBwZXIoWydoaXR2aWRlb3NhbXBsZSddKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJzZXR0ZXJNYXBwZXIiLAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRDb25maWdNYXBwZXIoWydpc192aXAnLCAnaXNfc3ZpcCcsICdpc19ldmlwJywgJ3Nob3dfdmlwX2FkJywgJ3ZpcF9sZXZlbCddKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJhcHBseVZpcFJvbGVzIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGx5VmlwUm9sZXMoKSB7CiAgICAgICAgdmFyIGlubmVyV2luZG93ID0gdGhpcy53aW5kb3c7CiAgICAgICAgdmFyIGdldHRlck1hcHBlciA9IHRoaXMuZ2V0dGVyTWFwcGVyOwogICAgICAgIHZhciBzZXR0ZXJNYXBwZXIgPSB0aGlzLnNldHRlck1hcHBlcjsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5uZXJXaW5kb3csIHRhcmdldExvY2FscywgewogICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICAgIHZhciBnZXQgPSBpbm5lcldpbmRvd1twcm94eUxvY2Fsc10uZ2V0OwoKICAgICAgICAgICAgaW5uZXJXaW5kb3dbcHJveHlMb2NhbHNdLmdldCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CgogICAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTsKCiAgICAgICAgICAgICAgICBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBpbm5lckFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICBpbm5lckFyZ3MuZm9yRWFjaChmdW5jdGlvbiAoYXJnLCBpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3NbaV0gaW4gZ2V0dGVyTWFwcGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICBpbm5lckFyZ3NbaV0gPSBnZXR0ZXJNYXBwZXJbYXJnc1tpXV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGlubmVyQXJncyk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJnc1swXSBpbiBnZXR0ZXJNYXBwZXIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXJNYXBwZXJbYXJnc1swXV07CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gZ2V0LmFwcGx5KHRoaXMsIGFyZ3MpOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgcmV0dXJuIGlubmVyV2luZG93W3Byb3h5TG9jYWxzXTsKICAgICAgICAgIH0sCiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgICAgICBpbm5lcldpbmRvd1twcm94eUxvY2Fsc10gPSB2YWx1ZTsKICAgICAgICAgICAgdmFyIHNldCA9IGlubmVyV2luZG93W3Byb3h5TG9jYWxzXS5zZXQ7CgogICAgICAgICAgICBpbm5lcldpbmRvd1twcm94eUxvY2Fsc10uc2V0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc2V0dGVyTWFwcGVyKTsKCiAgICAgICAgICAgICAgaWYgKGtleXMuaW5jbHVkZXMoYXJndW1lbnRzWzBdKSkgewogICAgICAgICAgICAgICAgYXJndW1lbnRzWzFdID0gc2V0dGVyTWFwcGVyW2FyZ3VtZW50c1swXV07CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gc2V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiZGVjbGFyZUNvbmZpZ3MiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZGVjbGFyZUNvbmZpZ3MoKSB7CiAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICBrZXk6ICdpc192aXAnLAogICAgICAgICAgImRlZmF1bHQiOiB0cnVlLAogICAgICAgICAgdHlwZTogQ29uZmlnVHlwZS5CT09MRUFOLAogICAgICAgICAgdGl0bGU6ICfmma7pgJogVklQJwogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogJ2lzX3N2aXAnLAogICAgICAgICAgImRlZmF1bHQiOiB0cnVlLAogICAgICAgICAgdHlwZTogQ29uZmlnVHlwZS5CT09MRUFOLAogICAgICAgICAgdGl0bGU6ICfotoXnuqcgVklQJwogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogJ2lzX2V2aXAnLAogICAgICAgICAgImRlZmF1bHQiOiB0cnVlLAogICAgICAgICAgdHlwZTogQ29uZmlnVHlwZS5CT09MRUFOLAogICAgICAgICAgdGl0bGU6ICfkuLTml7YgVklQJwogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogJ3Nob3dfdmlwX2FkJywKICAgICAgICAgICJkZWZhdWx0IjogdHJ1ZSwKICAgICAgICAgIHR5cGU6IENvbmZpZ1R5cGUuQk9PTEVBTiwKICAgICAgICAgIHRpdGxlOiAn5pKt5pS+IFZJUCDlub/lkYonCiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAnaGl0dmlkZW9zYW1wbGUnLAogICAgICAgICAgImRlZmF1bHQiOiB0cnVlLAogICAgICAgICAgdHlwZTogQ29uZmlnVHlwZS5CT09MRUFOLAogICAgICAgICAgdGl0bGU6ICfkvb/nlKggVklQIOaSreaUvuWZqCcKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICd2aXBfbGV2ZWwnLAogICAgICAgICAgImRlZmF1bHQiOiA3LAogICAgICAgICAgdHlwZTogQ29uZmlnVHlwZS5OVU1CRVIsCiAgICAgICAgICB0aXRsZTogJ+eUqOaItyBWSVAg562J57qnJwogICAgICAgIH1dOwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIEJhaWR1UGFuVmlkZW87CiAgfShCYXNpY01vZHVsZSk7CgogIHZhciBiYWlkdVBhblZpZGVvID0gbmV3IEJhaWR1UGFuVmlkZW8oKTsKICByZXF1aXJlVG9Mb2FkTW9kdWxlKGJhaWR1UGFuVmlkZW8pOwogIGJhaWR1UGFuVmlkZW8uaW5pdCgpOwoKICBleHBvcnRzLmJhaWR1UGFuVmlkZW8gPSBiYWlkdVBhblZpZGVvOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pOwoKfSkpKTsK"},{"name":"ËΩ¨Êç¢ÂæÆ‰ø°ÂÖ¨‰ºóÂè∑ÂõæÁâáÂà∞ÂÖºÂÆπÊ†ºÂºè","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://mp.weixin.qq.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1656858703210,"data":{}},"enabled":true,"position":11,"file_url":"https://greasyfork.org/scripts/390883-%E8%BD%AC%E6%8D%A2%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E5%9B%BE%E7%89%87%E5%88%B0%E5%85%BC%E5%AE%B9%E6%A0%BC%E5%BC%8F/code/%E8%BD%AC%E6%8D%A2%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E5%9B%BE%E7%89%87%E5%88%B0%E5%85%BC%E5%AE%B9%E6%A0%BC%E5%BC%8F.user.js","uuid":"c4bcfee9-c295-404d-9d7f-bf80434b5811","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDovazmjaLlvq7kv6HlhazkvJflj7flm77niYfliLDlhbzlrrnmoLzlvI8KLy8gQGRlc2NyaXB0aW9uICDlsIZXRUJQ5qC85byP5Zu+54mH6L2s5o2i5YiwSlBFR+OAgVBOR+etieWFvOWuueaAp+i+g+WlveeahOagvOW8jwovLyBAbmFtZXNwYWNlICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvdXNlcnMvMTk3NTI5Ci8vIEB2ZXJzaW9uICAgICAgMC42LjQKLy8gQGF1dGhvciAgICAgICBra29jZGtvCi8vIEBsaWNlbnNlICAgICAgVW5saWNlbnNlCi8vIEBtYXRjaCAgICAgICAgKjovL21wLndlaXhpbi5xcS5jb20vKgovLyA9PS9Vc2VyU2NyaXB0PT0KInVzZSBzdHJpY3QiOwoKY29uc3QgeyBhZGRGbG9hdEJ1dHRvbiB9ID0gewogIGFkZEZsb2F0QnV0dG9uKHRleHQsIG9uY2xpY2spIC8qIDIwMjIwMzI0LTA5NTAgKi8gewogICAgaWYgKCFkb2N1bWVudC5hZGRGbG9hdEJ1dHRvbikgewogICAgICBjb25zdCBob3N0ID0gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7CiAgICAgIGNvbnN0IHJvb3QgPSBob3N0LmF0dGFjaFNoYWRvdyh7IG1vZGU6ICJvcGVuIiB9KTsKICAgICAgcm9vdC5pbm5lckhUTUwgPSBgPHN0eWxlPjpob3N0e3Bvc2l0aW9uOmZpeGVkO3RvcDo0cHg7bGVmdDo0cHg7ei1pbmRleDoyMTQ3NDgzNjQ3O2hlaWdodDowfSNpe2Rpc3BsYXk6bm9uZX0qe2Zsb2F0OmxlZnQ7cGFkZGluZzoxZW07bWFyZ2luOjRweDtsaW5lLWhlaWdodDowO2NvbG9yOiNmZmY7dXNlci1zZWxlY3Q6bm9uZTtiYWNrZ3JvdW5kOiMyOGU7Ym9yZGVyOjFweCBzb2xpZCAjZmZmYTtib3JkZXItcmFkaXVzOjhweDt0cmFuc2l0aW9uOi4zc31bZm9yXX46YWN0aXZle2JhY2tncm91bmQ6IzRhZjt0cmFuc2l0aW9uOjBzfTpjaGVja2Vkfip7b3BhY2l0eTouMzt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtM2VtKX06Y2hlY2tlZCsqe3RyYW5zZm9ybTp0cmFuc2xhdGVZKDNlbSl9PC9zdHlsZT48aW5wdXQgaWQ9aSB0eXBlPWNoZWNrYm94PjxsYWJlbCBmb3I9aT5gOwogICAgICBkb2N1bWVudC5hZGRGbG9hdEJ1dHRvbiA9ICh0ZXh0LCBvbmNsaWNrKSA9PiB7CiAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOwogICAgICAgIGVsLnRleHRDb250ZW50ID0gdGV4dDsKICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIG9uY2xpY2spOwogICAgICAgIHJldHVybiByb290LmFwcGVuZENoaWxkKGVsKTsKICAgICAgfTsKICAgIH0KICAgIHJldHVybiBkb2N1bWVudC5hZGRGbG9hdEJ1dHRvbih0ZXh0LCBvbmNsaWNrKTsKICB9LAp9OwoKYWRkRmxvYXRCdXR0b24oIui9rOaNouWFqOmDqOWbvueJh+WIsOWFvOWuueagvOW8jyIsIGZ1bmN0aW9uICgpIHsKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbWciKS5mb3JFYWNoKChlbCkgPT4gewogICAgY29uc3QgaW1nVXJsU3RyID0gZWwuZGF0YXNldC5zcmMgfHwgZWwuc3JjOwogICAgaWYgKCFpbWdVcmxTdHIpIHJldHVybjsKICAgIGNvbnN0IGltZ1VybCA9IG5ldyBVUkwoaW1nVXJsU3RyKTsKICAgIGltZ1VybC5zZWFyY2hQYXJhbXMuc2V0KCJ0cCIsICJwbmciKTsKICAgIGNvbnN0IG5ld0ltZyA9IGVsLmNsb25lTm9kZSgpOwogICAgbmV3SW1nLnNyYyA9IGltZ1VybC5ocmVmOwogICAgZWwucmVwbGFjZVdpdGgobmV3SW1nKTsKICB9KTsKICB0aGlzLnN0eWxlLmJhY2tncm91bmQgPSAiIzRjYWY1MCI7CiAgdGhpcy50ZXh0Q29udGVudCA9ICLlhajpg6jlm77niYfpg73lt7LovazmjaLlrozmiJDvvIEiOwp9KTsK"},{"name":"Â§©Áøº‰∫ëÁõòÂä©Êâã","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["*//cloud.189.cn/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1656858703214,"data":{}},"enabled":true,"position":12,"file_url":"https://greasyfork.org/scripts/427633-%E5%A4%A9%E7%BF%BC%E4%BA%91%E7%9B%98%E5%8A%A9%E6%89%8B/code/%E5%A4%A9%E7%BF%BC%E4%BA%91%E7%9B%98%E5%8A%A9%E6%89%8B.user.js","uuid":"f3aab01b-f9bc-4542-92d4-2d3bc93f7f68","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAg5aSp57+85LqR55uY5Yqp5omLCi8vIEBkZXNjcmlwdGlvbiAgIOWkqee/vOS6keebmOWkp+aWh+S7tuWFjeWuouaIt+err+S4i+i9veOAgeaWh+S7tuWkueaJk+WMheS4i+i9ve+8jOaUr+aMgTIwMjHlubQ25pyI5Lu95pS554mI5ZCO55qE5aSp57+85LqR55uY44CCCi8vIEB2ZXJzaW9uICAgICAgIDIuMS4xMwovLyBAbmFtZXNwYWNlICAgICBUeUNsb3VkX1Rvb2xzCi8vIEBpY29uICAgICAgICAgIGh0dHBzOi8vejMuYXgxeC5jb20vMjAyMS8wNS8zMS8ybTFCVEEucG5nCi8vIEBhdXRob3IgICAgICAgIOmCk+Wwj+aYjgovLyBAaW5jbHVkZSAgICAgICAqLy9jbG91ZC4xODkuY24vKgovLyBAcmVxdWlyZSAgICAgICBodHRwczovL2Nkbi5ib290Y2RuLm5ldC9hamF4L2xpYnMvanF1ZXJ5LzIuMS40L2pxdWVyeS5taW4uanMKLy8gQHJ1bi1hdCAgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQGdyYW50ICAgICAgICAgdW5zYWZlV2luZG93Ci8vIEBncmFudCAgICAgICAgIEdNX3NldENsaXBib2FyZAovLyBAZ3JhbnQgICAgICAgICBHTV9sb2cKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoJJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkgewoJCWluaXQoKTsKCX0pOwp9KSgpOwoKZnVuY3Rpb24gaW5pdCgpIHsKCXZhciBhcHBlbmRfaHRtbCA9IGAKCTxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+CgkuTV9zaG93X2ZpbGVfbGlzdF9idG57IGN1cnNvcjpwb2ludGVyOyBkaXNwbGF5Om5vbmU7IHBvc2l0aW9uOiByZWxhdGl2ZTsgbGVmdDogNjBweDsgYm90dG9tOiAxNjBweDsgcG9zaXRpb246Zml4ZWQ7IHotaW5kZXg6IDk5ODsgfQoJLk1fc2hvd19maWxlX2xpc3RfYnRuIHNwYW57IHBvc2l0aW9uOiByZWxhdGl2ZTsgfQoJLk1fc2hvd19maWxlX2xpc3RfYnRuIHNwYW46OmFmdGVyIHsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyB0b3A6IDA7IGNvbnRlbnQ6ICfnm7Tpk74nOyB3aWR0aDogNTBweDsgaGVpZ2h0OiA1MHB4OyBsaW5lLWhlaWdodDogNTBweDsgYm9yZGVyLXJhZGl1czo1MCU7IGN1cnNvcjpwb2ludGVyOyBmb250LXNpemU6IDE0cHg7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC44KTsgYmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQoMjg2ZGVnLCM0Q0EwRkMgMjMlLCNFMDJGRUUgNzYlKTsgb3BhY2l0eTogLjk7IGNvbG9yOiAjZmZmOyB0ZXh0LWFsaWduOmNlbnRlcjsgYm94LXNoYWRvdzogMXB4IDFweCAxMHB4IHJnYmEoMCwwLDAsMC4yKTsgYW5pbWF0aW9uOiByb3RhdGUgMC41cyBsaW5lYXIgaW5maW5pdGU7IH0KCS5NX3Nob3dfZmlsZV9saXN0X2J0biBzcGFuOjpiZWZvcmUgeyBjb250ZW50OiAnJzsgaGVpZ2h0OiA4cHg7IHdpZHRoOiA1MHB4OyBiYWNrZ3JvdW5kOiAjMDAwOyBvcGFjaXR5OiAuMTU7IGJvcmRlci1yYWRpdXM6IDUwJTsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDY3cHg7IGxlZnQ6IDA7IGFuaW1hdGlvbjogc2hhZG93IDAuNXMgbGluZWFyIGluZmluaXRlOyB9CglAa2V5ZnJhbWVzIHNoYWRvdyB7CgkJMCUsIDEwMCUgeyB0cmFuc2Zvcm06IHNjYWxlWCgxKTsgfQoJCTUwJSB7IHRyYW5zZm9ybTogc2NhbGVYKDEuMik7IH0KCX0KCUBrZXlmcmFtZXMgcm90YXRlIHsKCQkwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfQoJCTI1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMHB4KTsgfQoJCTUwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgyMHB4KSBzY2FsZSgxLjEsIDAuOSk7IH0KCQk3NSUgeyByYW5zZm9ybTogdHJhbnNsYXRlWSgxMHB4KTsgfQoJCTEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IH0KCX0KCS5NX3Nob3dfZmlsZV9saXN0IHsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjY1KTsgYmFja2Ryb3AtZmlsdGVyOmJsdXIoNXB4KTsgd2lkdGg6MTAwdnc7IGhlaWdodDogMTAwdmg7IHotaW5kZXg6IDk5OTsgbGVmdDogMHB4OyB0b3A6IDA7IHBvc2l0aW9uOmZpeGVkOyB9CgkuTV9zaG93X2ZpbGVfbGlzdCA6Oi13ZWJraXQtc2Nyb2xsYmFyIHsgd2lkdGg6IDEwcHg7IGhlaWdodDogMTBweDsgYmFja2dyb3VuZDogMCAwOyBjdXJzb3I6IHBvaW50ZXI7IH0KCS5NX3Nob3dfZmlsZV9saXN0IDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgeyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMik7IGJvcmRlci1yYWRpdXM6IDEwcHg7IGJvcmRlci1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTsgYm9yZGVyLXN0eWxlOiBzb2xpZDsgYm9yZGVyLXdpZHRoOiAxcHg7IGJhY2tncm91bmQtY2xpcDogcGFkZGluZy1ib3g7IH0KCS5NX3Nob3dfZmlsZV9saXN0IDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXJ7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4zKTsgfQoJLk1fc2hvd19maWxlX2xpc3QgOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjphY3RpdmV7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC40NSk7IH0KCS5NX3Nob3dfZmlsZV9saXN0IC5NX2RpYWxvZ3sgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsgd2lkdGg6ODAlOyBtYXgtd2lkdGg6IDYwMHB4OyBtaW4taGVpZ2h0OiAzMDBweDsgbWFyZ2luOjEwdmggYXV0byAwOyBib3JkZXItcmFkaXVzOjVweDsgYm94LXNoYWRvdzogMXB4IDNweCAyNHB4IHJnYmEoMCwwLDAsMC4yKTsgfQoJLk1fc2hvd19maWxlX2xpc3QgLk1fZGlhbG9nIC5NX2RpYWxvZ19faGVhZGVyeyBsaW5lLWhlaWdodDogNDRweDsgcGFkZGluZzo1cHggMTBweDsgYm9yZGVyLXJhZGl1czo1cHggNXB4IDAgMDsgYmFja2dyb3VuZC1jb2xvcjojZjFmMWYxOyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7IH0KCS5NX3Nob3dfZmlsZV9saXN0IC5NX2RpYWxvZyBoMnsgZm9udC1zaXplOiAyMHB4OyBjb2xvcjojMzMzOyBmb250LXdlaWdodDo2MDA7IH0KCS5NX3Nob3dfZmlsZV9saXN0IC5NX2RpYWxvZyAuTV9kaWFsb2dfX2Nsb3NleyBwb3NpdGlvbjogYWJzb2x1dGU7IHJpZ2h0OiAxNHB4OyB0b3A6IDE4cHg7IHdpZHRoOiAyNHB4OyBoZWlnaHQ6IDI0cHg7IGJhY2tncm91bmQ6IHVybCgiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB2aWV3Qm94PScwIDAgMTA0NSAxMDI0JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnICUzRSUzQ3BhdGggZD0nTTI4Mi41MTczMzMgMjEzLjM3NmwtNDUuMzU0NjY2IDQ1LjE2MjY2N0w0ODkuNDcyIDUxMiAyMzcuMTYyNjY3IDc2NS40NjEzMzNsNDUuMzU0NjY2IDQ1LjE2MjY2N0w1MzQuNjEzMzMzIDU1Ny4zNTQ2NjdsMjUyLjA5NiAyNTMuMjY5MzMzIDQ1LjM1NDY2Ny00NS4xNjI2NjctMjUyLjI4OC0yNTMuNDQgMjUyLjI4OC0yNTMuNDgyNjY2LTQ1LjM1NDY2Ny00NS4xNjI2NjdMNTM0LjYxMzMzMyA0NjYuNjI0bC0yNTIuMDk2LTI1My4yMjY2Njd6JyAvJTNFJTNDL3N2ZyUzRSIpIGNlbnRlciBjZW50ZXIgbm8tcmVwZWF0OyBiYWNrZ3JvdW5kLXNpemU6IDEwMCUgYXV0bzsgb3BhY2l0eTogLjY7IGN1cnNvcjogcG9pbnRlcjsgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgZWFzZSAuM3M7IHRyYW5zaXRpb246IGFsbCBlYXNlIC4zczsgfQoJLk1fc2hvd19maWxlX2xpc3QgLk1fZGlhbG9nIC5NX2RpYWxvZ19fY2xvc2U6aG92ZXJ7IC13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7IHRyYW5zZm9ybTpyb3RhdGUoOTBkZWcpOyBvcGFjaXR5Oi44OyB9CgkuTV9zaG93X2ZpbGVfbGlzdCAuTV9kaWFsb2dfX2JvZHl7IGNsZWFyOmJvdGg7IHBhZGRpbmctYm90dG9tOiA1cHg7IH0KCS5NX3Nob3dfZmlsZV9saXN0IC5NX2JyZWFkX2NydW1ieyBwYWRkaW5nOjAgMTBweDsgYm9yZGVyLWJvdHRvbToxcHggc29saWQgI2VlZTsgfQoJLk1fc2hvd19maWxlX2xpc3QgLk1fYnJlYWRfY3J1bWIgc3BhbnsgYmFja2dyb3VuZC1jb2xvcjogIzYzN2RmZjsgY29sb3I6I2ZmZjsgYm9yZGVyLXJhZGl1czo1cHg7IG1hcmdpbjo1cHggMTBweCA1cHggMDsgbGluZS1oZWlnaHQ6IDMwcHg7IHBhZGRpbmc6MHB4IDVweDsgZGlzcGxheTppbmxpbmUtYmxvY2s7IGN1cnNvcjogcG9pbnRlcjsgfQoJLk1fc2hvd19maWxlX2xpc3QgLk1fYnJlYWRfY3J1bWIgc3Bhbjpob3ZlcnsgYmFja2dyb3VuZC1jb2xvcjogIzRlNmVmMjsgIH0KCS5NX3Nob3dfZmlsZV9saXN0IC5NX2ZvbGRlcl9saXN0eyBtaW4taGVpZ2h0OiAxNTBweDsgbWF4LWhlaWdodDogMzAwcHg7IG92ZXJmbG93LXk6IGF1dG87IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0KCS5NX3Nob3dfZmlsZV9saXN0IHVsIGxpeyBib3JkZXItYm90dG9tOjFweCBkYXNoZWQgI2VlZTsgY29sb3I6ICMzZjg1ZmY7IGZvbnQtc2l6ZTogMTRweDsgbGluZS1oZWlnaHQ6IDMwcHg7IHBhZGRpbmc6NnB4IDEwcHg7IH0KCS5NX3Nob3dfZmlsZV9saXN0IHVsIC5NX3Nob3dfZm9sZGVyLC5NX3Nob3dfZmlsZV9saXN0IHVsIC5NX3Nob3dfZmlsZXsgY3Vyc29yOnBvaW50ZXI7IGRpc3BsYXk6IGZsZXg7IH0KCS5NX3Nob3dfZmlsZV9saXN0IHVsIC5NX3Nob3dfZm9sZGVyOmhvdmVyLC5NX3Nob3dfZmlsZV9saXN0IHVsIC5NX3Nob3dfZmlsZTpob3ZlcnsgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODsgfQoJLk1fc2hvd19maWxlX2xpc3QgdWwgLk1fc2hvd19mb2xkZXIgc3BhbiwuTV9zaG93X2ZpbGVfbGlzdCB1bCAuTV9zaG93X2ZpbGUgc3BhbnsgZmxleDogMTsgY29sb3I6ICMzZjg1ZmY7IGRpc3BsYXk6aW5saW5lLWJsb2NrOyBsaW5lLWhlaWdodDogMzBweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IG92ZXJmbG93OiBoaWRkZW47IHdvcmQtYnJlYWs6IGJyZWFrLWFsbDsgfQoJLk1fc2hvd19maWxlX2xpc3QgdWwgLk1fc2hvd19mb2xkZXIgLk1fZm9sZGVyX2Rvd257IGRpc3BsYXk6aW5saW5lLWJsb2NrOyB3aWR0aDoyOHB4OyBoZWlnaHQ6IDI4cHg7IGJvcmRlci1yYWRpdXM6IDVweDsgYm9yZGVyOjFweCBzb2xpZCAjM2Y4NWZmOyBtYXJnaW4tcmlnaHQ6NXB4OyBiYWNrZ3JvdW5kOiB1cmwoImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgdmlld0JveD0nMCAwIDEwMjQgMTAyNCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyAlM0UlM0NwYXRoIGQ9J004MzIgODAwdjY0SDE5MnYtNjRoNjQwek01NDUuNjY0IDE2MGwtMC4wMzIgNDYwLjggMTU2LjcwNC0xNTcuMTIgNDcuNjE2IDQ3LjY4TDUxMiA3NTAuMDE2IDI3NC4wNDggNTExLjM2bDQ3LjYxNi00Ny43MTIgMTU2LjY3MiAxNTcuMDg4VjE2MGg2Ny4zMjh6JyBmaWxsPSdyb3lhbGJsdWUnIC8lM0UlM0Mvc3ZnJTNFIikgY2VudGVyIGNlbnRlciBuby1yZXBlYXQ7IGJhY2tncm91bmQtc2l6ZTogMTAwJSBhdXRvOyB9CgkuTV9zaG93X2ZpbGVfbGlzdCB1bCAuTV9zaG93X2ZvbGRlciAuTV9mb2xkZXJfZG93bjpob3ZlcnsgYmFja2dyb3VuZC1jb2xvcjogIzNmODVmZjsgYmFja2dyb3VuZC1pbWFnZTogdXJsKCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHZpZXdCb3g9JzAgMCAxMDI0IDEwMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgJTNFJTNDcGF0aCBkPSdNODMyIDgwMHY2NEgxOTJ2LTY0aDY0MHpNNTQ1LjY2NCAxNjBsLTAuMDMyIDQ2MC44IDE1Ni43MDQtMTU3LjEyIDQ3LjYxNiA0Ny42OEw1MTIgNzUwLjAxNiAyNzQuMDQ4IDUxMS4zNmw0Ny42MTYtNDcuNzEyIDE1Ni42NzIgMTU3LjA4OFYxNjBoNjcuMzI4eicgZmlsbD0nd2hpdGUnIC8lM0UlM0Mvc3ZnJTNFIik7ICB9CgkuTV9zaG93X2ZpbGVfbGlzdCB1bCAuTV9zaG93X2ZpbGUgaXsgZm9udC1zaXplOjEycHg7IGNvbG9yOiAjOTk5OyBmb250LXN0eWxlOm5vcm1hbDsgfQoJLk1fc2hvd19maWxlX2xpc3QgdWwgLk1fZm9sZGVyX2VtcHR5eyB0ZXh0LWFsaWduOmNlbnRlcjsgbGluZS1oZWlnaHQ6MTgwcHg7IGNvbG9yOiM5OTk7IGJvcmRlcjpub25lOyB9CgkuTV9maWxlX2RpcmVjdF9saW5reyBtYXJnaW46NXB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVlZmZmOyBmb250LXNpemU6MTJweDsgbGluZS1oZWlnaHQ6MjZweDsgbWF4LWhlaWdodDo3OHB4OyBvdmVyZmxvdy15OmF1dG87IGJvcmRlci1yYWRpdXM6NXB4OyBwYWRkaW5nLWxlZnQ6NXB4OyB3b3JkLWJyZWFrOmJyZWFrLWFsbDsgfQoJLk1fZmlsZV9kaXJlY3RfbGluayBheyBjb2xvcjogIzNmODVmZjsgbGluZS1oZWlnaHQ6MjZweDsgfQoJLk1fdG9hc3QgeyBkaXNwbGF5Om5vbmU7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMHZoOyBsZWZ0OiAwcHg7IHRvcDogMHB4OyBwb3NpdGlvbjogZml4ZWQ7IHotaW5kZXg6IDk5OTk7IH0KCS5NX3RvYXN0IHNwYW4geyBkaXNwbGF5OiB0YWJsZTsgbGluZS1oZWlnaHQ6IDMwcHg7IHBhZGRpbmc6IDVweCAxMHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNzUpOyBjb2xvcjogI2ZmZjsgYm9yZGVyLXJhZGl1czogNXB4OyBmb250LXNpemU6IDE0cHg7IG1hcmdpbjogMTV2aCBhdXRvIDA7IH0KCTwvc3R5bGU+Cgk8ZGl2IGNsYXNzPSJNX3Nob3dfZmlsZV9saXN0X2J0biIgdGl0bGU9Iuafpeeci+W9k+WJjemhteaWh+S7tuebtOmTviI+PHNwYW4+PC9zcGFuPjwvZGl2PgoJPGRpdiBjbGFzcz0iTV9zaG93X2ZpbGVfbGlzdCI+CgkJPGRpdiBjbGFzcz0iTV9kaWFsb2ciPgoJCQk8ZGl2IGNsYXNzPSJNX2RpYWxvZ19faGVhZGVyIj4KCQkJCTxoMj7lpKnnv7zkupHnm5jliqnmiYs8L2gyPgoJCQkJPHNwYW4gdGl0bGU9IuWFs+mXrSIgY2xhc3M9Ik1fZGlhbG9nX19jbG9zZSI+PC9zcGFuPgoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iTV9kaWFsb2dfX2JvZHkiPgoJCQkJPGRpdiBjbGFzcz0iTV9icmVhZF9jcnVtYiI+PHNwYW4gY2xhc3M9Ik1fYmFja19wYXJlbnQiPiZsdDvov5Tlm57kuIrkuIDnuqc8L3NwYW4+IDxzcGFuIGNsYXNzPSJNX2ZvbGRlcl9kb3dubG9hZCI+5omT5YyF5LiL6L29PC9zcGFuPjwvZGl2PgoJCQkJPHVsIGNsYXNzPSJNX2ZvbGRlcl9saXN0Ij48L3VsPgoJCQkJPGRpdiBjbGFzcz0iTV9maWxlX2RpcmVjdF9saW5rIj48L2Rpdj4KCQkJPC9kaXY+CgkJPC9kaXY+Cgk8L2Rpdj4KCTxkaXYgY2xhc3M9Ik1fdG9hc3QiPjxzcGFuPjwvc3Bhbj48L2Rpdj4KCWA7CgkkKCdib2R5JykuYXBwZW5kKGFwcGVuZF9odG1sKTsKCSQoJy5NX3Nob3dfZmlsZV9saXN0JykuaGlkZSgpOwoJJCgnLk1fc2hvd19maWxlX2xpc3RfYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkgewoJCSQoJy5NX3Nob3dfZmlsZV9saXN0X2J0bicpLmZhZGVPdXQoKTsKCQkkKCcuTV9zaG93X2ZpbGVfbGlzdCcpLmZhZGVJbigpOwoJfSk7CgkkKCcuTV9zaG93X2ZpbGVfbGlzdCAuTV9kaWFsb2dfX2Nsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkgewoJCSQoJy5NX3Nob3dfZmlsZV9saXN0X2J0bicpLmZhZGVJbigpOwoJCSQoJy5NX3Nob3dfZmlsZV9saXN0JykuZmFkZU91dCgpOwoJCSQoJy5NX2ZpbGVfZGlyZWN0X2xpbmsnKS5lbXB0eSgpOwoJfSk7CglpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignd2ViL3NoYXJlJykgPiAtMSkgewoJCXJlcXVlc3QoJy9hcGkvb3Blbi9zaGFyZS9nZXRTaGFyZUluZm9CeUNvZGUuYWN0aW9uJywgewoJCQlzaGFyZUNvZGU6IGdldFF1ZXJ5VmFyaWFibGUoJ2NvZGUnKSwKCQkJbm9DYWNoZTogTWF0aC5yYW5kb20oKQoJCX0sICdnZXQnLCByZXMgPT4gewoJCQljb25zb2xlLmxvZygnZ2V0U2hhcmVJbmZvQnlDb2RlJywgcmVzKTsKCQkJTV9zaGFyZV9pZCA9IHJlcy5zaGFyZUlkOwoJCX0pOwoJfQp9Cgp2YXIgTV9zaGFyZV9pZCAgPSAnJzsKdmFyIE1fZm9sZGVyX2lkID0gMDsKdmFyIE1fZm9sZGVyX25hbWUgPSAnJzsKdmFyIE1faXNfbG9naW4gID0gMDsKCihmdW5jdGlvbihvcGVuKSB7Cgl1bnNhZmVXaW5kb3cuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbigpIHsKCQl0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW4gPT4gewoJCQl2YXIgcmVzID0gZnVuLmN1cnJlbnRUYXJnZXQ7CgkJCWlmIChyZXMuc3RhdHVzID09IDIwMCAmJiByZXMucmVzcG9uc2UpIHsKCQkJCXZhciB1cmwgPSByZXMucmVzcG9uc2VVUkw7CgkJCQlsZXQganNvbiA9IGZ1bi5jdXJyZW50VGFyZ2V0LnJlc3BvbnNlOwoJCQkJaWYodHlwZW9mKGpzb24pID09ICdzdHJpbmcnKXsKCQkJCQlqc29uID0gSlNPTi5wYXJzZSgkLnRyaW0oanNvbikpOwoJCQkJfQoJCQkJaWYgKHVybC5pbmRleE9mKCdmaWxlL2xpc3RGaWxlcy5hY3Rpb24nKSA+IC0xKSB7CgkJCQkJLy9jb25zb2xlLmxvZygn5paH5Lu25YiX6KGoJywganNvbik7CgkJCQkJaWYgKGpzb24ucmVzX2NvZGUgPT0gMCkgewoJCQkJCQlNX2ZvbGRlcl9pZCA9ICgvZm9sZGVySWQ9KFstMC05XSspLy5leGVjKHVybCkpWzFdOwoJCQkJCQlzaG93X2ZpbGVfbGlzdChqc29uLmZpbGVMaXN0QU8pOwoJCQkJCX0KCQkJCX0gZWxzZSBpZiAodXJsLmluZGV4T2YoJ2dldFVzZXJCcmllZkluZm8uYWN0aW9uJykgPiAtMSkgewoJCQkJCWlmKGpzb24uc2Vzc2lvbktleSl7CgkJCQkJCXNldENvb2tpZSgnc2Vzc2lvbktleScsIGpzb24uc2Vzc2lvbktleSk7CgkJCQkJfQoJCQkJfSBlbHNlIGlmICh1cmwuaW5kZXhPZigncG9ydGFsL2xpc3RGaWxlcy5hY3Rpb24nKSA+IC0xKSB7CgkJCQkJLy/lj6rmnInov5vlhaXpobXpnaLml7bkvJrliqDovb0KCQkJCQlNX2ZvbGRlcl9uYW1lID0ganNvbi5wYXRoW2pzb24ucGF0aC5sZW5ndGggLSAxXS5maWxlTmFtZTsKCQkJCX0gZWxzZSBpZiAodXJsLmluZGV4T2YoJ3VzZXIvZ2V0VXNlckluZm9Gb3JQb3J0YWwuYWN0aW9uJykgPiAtMSkgewoJCQkJCS8vY29uc29sZS5sb2coJ+aYr+WQpueZu+W9lScsIGpzb24pOwoJCQkJCWlmKGpzb24ubG9naW5OYW1lKXsKCQkJCQkJTV9pc19sb2dpbiA9IDE7CgkJCQkJfQoJCQkJfSBlbHNlIGlmICh1cmwuaW5kZXhPZignc2hhcmUvbGlzdFNoYXJlRGlyLmFjdGlvbicpID4gLTEpIHsKCQkJCQkvL2NvbnNvbGUubG9nKCfliIbkuqvliJfooagnLCBqc29uKTsKCQkJCQkkKCcudGlwcy1zYXZlLWJveCcpLmZhZGVPdXQoKTsKCQkJCQlpZiAoanNvbi5yZXNfY29kZSA9PSAwKSB7CgkJCQkJCU1fZm9sZGVyX2lkID0gKC9zaGFyZUlkPShbLTAtOV0rKS8uZXhlYyh1cmwpKVsxXTsKCQkJCQkJc2hvd19maWxlX2xpc3QoanNvbi5maWxlTGlzdEFPKTsKCQkJCQl9CgkJCQl9IGVsc2UgaWYgKHVybC5pbmRleE9mKCdzaGFyZS9nZXRTaGFyZUluZm9CeUNvZGUuYWN0aW9uJykgPiAtMSkgewoJCQkJCWlmKGpzb24uc2hhcmVJZCl7CgkJCQkJCU1fc2hhcmVfaWQgPSBqc29uLnNoYXJlSWQ7CgkJCQkJfSBlbHNlIHsKCQkJCQkJTV9zaGFyZV9pZCA9ICcnOwoJCQkJCX0KCQkJCQlpZihqc29uLmlzRm9sZGVyID09IGZhbHNlICYmIGpzb24uZmlsZVNpemUgPj0gMTAyNCoxMDI0KjEwMjQpewoJCQkJCQl2YXIgZmlsZV9pZCA9IGpzb24uZmlsZUlkOwoJCQkJCQl2YXIgb25lX2Rvd25sb2FkX2J0biA9ICQoJy5maWxlLW9wZXJhdGU+LmJ0bi1kb3dubG9hZDplcSgwKScpOwoJCQkJCQlHTV9sb2coJ2dldFNoYXJlSW5mb0J5Q29kZScsIGpzb24pOwoJCQkJCQl2YXIgbmV3X29uZV9kb3dubG9hZF9idG4gPSBvbmVfZG93bmxvYWRfYnRuLmNsb25lKCkuYXR0cigndGl0bGUnLCAn55u06ZO+5LiL6L29Jykub2ZmKCdjbGljaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CgkJCQkJCQlnZXRfZmlsZV9kb3dubG9hZF91cmwoZmlsZV9pZCwgTV9zaGFyZV9pZCk7CgkJCQkJCX0pOwoJCQkJCQlHTV9sb2coJ25ld19vbmVfZG93bmxvYWRfYnRuJywgbmV3X29uZV9kb3dubG9hZF9idG4pOwoJCQkJCQlvbmVfZG93bmxvYWRfYnRuLnJlcGxhY2VXaXRoKG5ld19vbmVfZG93bmxvYWRfYnRuKTsKCQkJCQl9CgkJCQl9IGVsc2UgaWYgKHVybC5pbmRleE9mKCdnZXRGaWxlRG93bmxvYWRVcmwuYWN0aW9uJykgPiAtMSkgewoJCQkJCS8vY29uc29sZS5sb2coJ+aWh+S7tuS4i+i9vScsIGpzb24pOwoJCQkJfSBlbHNlIHsKCgkJCQl9CgoJCQl9CgkJfSk7CgkJcmV0dXJuIG9wZW4uYXBwbHkodGhpcywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTsKCX07Cn0pKHVuc2FmZVdpbmRvdy5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3Blbik7CgpmdW5jdGlvbiBzaG93X2ZpbGVfbGlzdChkYXRhKSB7CgkkKCcuTV9mb2xkZXJfbGlzdCcpLmVtcHR5KCk7CglpZiAoZGF0YS5jb3VudCA+IDAgfHwgZGF0YS5maWxlTGlzdFNpemUgPiAwKSB7CgkJJCgnLk1fc2hvd19maWxlX2xpc3RfYnRuJykuZmFkZUluKCk7CgkJJC5lYWNoKGRhdGEuZm9sZGVyTGlzdCwgZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7CgkJCSQoJy5NX2ZvbGRlcl9saXN0JykuYXBwZW5kKCc8bGkgY2xhc3M9Ik1fc2hvd19mb2xkZXIiIGRhdGEtaWQ9IicgKyBpdGVtLmlkICsgJyI+PHNwYW4gdGl0bGU9Iui/m+WFpeaWh+S7tuWkue+8micgKyBpdGVtLm5hbWUgKyAnIj4nICsgaXRlbS5uYW1lICsgJzwvc3Bhbj4nICsgKGl0ZW0uaWQgPiAwID8gJzxpIGNsYXNzPSJNX2ZvbGRlcl9kb3duIiB0aXRsZT0i5omT5YyF5LiL6L2977yaJyArIGl0ZW0ubmFtZSArICciPjwvaT4nIDogJycpICsgJzwvbGk+Jyk7CgkJCXZhciBmaWxlX2xpc3RfaXRlbSA9ICQoJy5maWxlLWxpc3QtdWwgLmMtZmlsZS1pdGVtW2RhdGEtZmlsZWlkPScgKyBpdGVtLmlkICsgJ10nKTsKCQkJdmFyIGlzRm9sZGVyID0gJCh0aGlzKS5wYXJlbnRzKCcuYy1maWxlLWl0ZW0nKS5kYXRhKCdpc0ZvbGRlcicpOwoJCQkvKiDmm7/mjaLmiZPlvIDlrqLmiLfnq6/kuIvovb3mjInpkq4gKi8KCQkJdmFyIGRvd25sb2FkX2J0biA9IGZpbGVfbGlzdF9pdGVtLmZpbmQoJy5maWxlLWl0ZW0tb3BlLWl0ZW0tZG93bmxvYWQnKTsKCQkJdmFyIG5ld19kb3dubG9hZF9idG4gPSBkb3dubG9hZF9idG4uY2xvbmUoKS5hdHRyKCd0aXRsZScsICfnm7Tpk77kuIvovb0nKS5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKCQkJCXZhciBmaWxlX2lkID0gJCh0aGlzKS5wYXJlbnRzKCcuYy1maWxlLWl0ZW0nKS5kYXRhKCdmaWxlaWQnKTsKCQkJCXZhciBmaWxlX25hbWUgPSAkLnRyaW0oJCh0aGlzKS5wYXJlbnRzKCcuYy1maWxlLWl0ZW0nKS5maW5kKCcuZmlsZS1pdGVtLW5hbWUtZmlsZU5hbWUnKS50ZXh0KCkpOwoJCQkJZ2V0X2ZvbGRlcl9kb3dubG9hZF91cmwoZmlsZV9pZCwgTV9zaGFyZV9pZCwgZmlsZV9uYW1lKTsKCQkJfSk7CgkJCWRvd25sb2FkX2J0bi5yZXBsYWNlV2l0aChuZXdfZG93bmxvYWRfYnRuKTsKCQl9KTsKCQkkLmVhY2goZGF0YS5maWxlTGlzdCwgZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7CgkJCSQoJy5NX2ZvbGRlcl9saXN0JykuYXBwZW5kKCc8bGkgY2xhc3M9Ik1fc2hvd19maWxlIGZpbGVfJyArIGl0ZW0uaWQgKyAnIiBkYXRhLWlkPSInICsgaXRlbS5pZCArICciIHRpdGxlPSLngrnlh7vojrflj5bnm7Tpk77vvJonICsgaXRlbS5uYW1lICsgJyI+PHNwYW4+JyArIGl0ZW0ubmFtZSArICc8L3NwYW4+IDxpPicgKyBjb252ZXIoaXRlbS5zaXplKSArICc8L2k+PC9saT4nKTsKCQkJdmFyIGZpbGVfbGlzdF9pdGVtID0gJCgnLmZpbGUtbGlzdC11bCAuYy1maWxlLWl0ZW1bZGF0YS1maWxlaWQ9JyArIGl0ZW0uaWQgKyAnXScpOwoJCQkvKiDngrnlh7vmlofku7blkI3kuIvovb0gKi8KCQkJZmlsZV9saXN0X2l0ZW0uZmluZCgnLmZpbGUtaXRlbS1uYW1lLWZpbGVOYW1lLXNwYW4nKS5hdHRyKCd0aXRsZScsICfngrnlh7vkuIvovb0nKS5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKCQkJCXZhciBmaWxlX2lkID0gJCh0aGlzKS5wYXJlbnRzKCcuYy1maWxlLWl0ZW0nKS5kYXRhKCdmaWxlaWQnKTsKCQkJCWdldF9maWxlX2Rvd25sb2FkX3VybChmaWxlX2lkLCBNX3NoYXJlX2lkKTsKCQkJfSk7CgkJCWlmKGl0ZW0uc2l6ZSA+PSAxMDI0KjEwMjQqMTAyNCl7CgkJCQkvKiDmm7/mjaLmiZPlvIDlrqLmiLfnq6/kuIvovb3mjInpkq4gKi8KCQkJCXZhciBkb3dubG9hZF9idG4gPSBmaWxlX2xpc3RfaXRlbS5maW5kKCcuZmlsZS1pdGVtLW9wZS1pdGVtLWRvd25sb2FkJyk7CgkJCQl2YXIgbmV3X2Rvd25sb2FkX2J0biA9IGRvd25sb2FkX2J0bi5jbG9uZSgpLmF0dHIoJ3RpdGxlJywgJ+ebtOmTvuS4i+i9vScpLm9mZignY2xpY2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkgewoJCQkJCXZhciBmaWxlX2lkID0gJCh0aGlzKS5wYXJlbnRzKCcuYy1maWxlLWl0ZW0nKS5kYXRhKCdmaWxlaWQnKTsKCQkJCQlnZXRfZmlsZV9kb3dubG9hZF91cmwoZmlsZV9pZCwgTV9zaGFyZV9pZCk7CgkJCQl9KTsKCQkJCWRvd25sb2FkX2J0bi5yZXBsYWNlV2l0aChuZXdfZG93bmxvYWRfYnRuKTsKCQkJfQoJCX0pOwoJCSQoJy5NX3Nob3dfZm9sZGVyIHNwYW4nKS5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKCQkJJCgnLk1fZm9sZGVyX2xpc3QgbGknKS5mYWRlT3V0KCk7CgkJCSQoJy5NX2ZpbGVfZGlyZWN0X2xpbmsnKS5lbXB0eSgpOwoJCQkkKCcuZmlsZS1saXN0LXVsIC5jLWZpbGUtaXRlbVtkYXRhLWZpbGVpZD0nICsgJCh0aGlzKS5wYXJlbnQoKS5kYXRhKCdpZCcpICsgJ10gLmZpbGUtaXRlbS1uYW1lJykudHJpZ2dlcignY2xpY2snKTsKCQkJJCgnLmZpbGUtbGlzdC11bCAuYy1maWxlLWl0ZW1bZGF0YS1maWxlaWQ9JyArICQodGhpcykucGFyZW50KCkuZGF0YSgnaWQnKSArICddIC5maWxlLWl0ZW0tbmFtZS1maWxlTmFtZS1zcGFuJykudHJpZ2dlcignY2xpY2snKTsKCQl9KTsKCQkkKCcuTV9zaG93X2ZpbGUnKS5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKCQkJJCgnLk1fZmlsZV9kaXJlY3RfbGluaycpLmVtcHR5KCk7CgkJCWdldF9maWxlX2Rvd25sb2FkX3VybCgkKHRoaXMpLmRhdGEoJ2lkJyksIE1fc2hhcmVfaWQsIDEpOwoJCX0pOwoJCWlmKE1fZm9sZGVyX2lkID09IC0xMSl7CgkJCSQoJy5NX2ZvbGRlcl9kb3dubG9hZCcpLmhpZGUoKTsKCQl9IGVsc2UgewoJCQkkKCcuTV9mb2xkZXJfZG93bmxvYWQnKS5zaG93KCk7CgkJCSQoJy5NX2ZvbGRlcl9kb3dubG9hZCcpLm9mZignY2xpY2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7CgkJCQlnZXRfZm9sZGVyX2Rvd25sb2FkX3VybChNX2ZvbGRlcl9pZCwgTV9zaGFyZV9pZCk7CgkJCX0pOwoJCX0KCQkkKCcuTV9mb2xkZXJfZG93bicpLm9mZignY2xpY2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7CgkJCWdldF9mb2xkZXJfZG93bmxvYWRfdXJsKCQodGhpcykucGFyZW50KCkuZGF0YSgnaWQnKSwgTV9zaGFyZV9pZCk7CgkJfSk7CgkJLyog6YCJ5oup5paH5Lu25oiW5paH5Lu25aS5ICovCgkJJCgnLmZpbGUtaXRlbS1jaGVjaycpLm9mZignY2xpY2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7CgkJCXZhciBjaGVja19jb3VudCA9ICQoJy5maWxlLWl0ZW0tY2hlY2tbdmFsdWU9InRydWUiXScpLnNpemUoKTsKCQkJdmFyIGJ1dHRvbl9ub3JtYWxfYnRuID0gJCgnLmJ1dHRvbi1ncm91cD4uYnV0dG9uLW5vcm1hbDplcSgxKScpOwoJCQlidXR0b25fbm9ybWFsX2J0bi5yZW1vdmVDbGFzcygnZGlzYWJsZScpOwoJCQl2YXIgbmV3X2J1dHRvbl9ub3JtYWxfYnRuID0gYnV0dG9uX25vcm1hbF9idG4uY2xvbmUoKS5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKCQkJCWlmKGNoZWNrX2NvdW50ID09IDEpewoJCQkJCSQoJy5maWxlLWl0ZW0tY2hlY2tbdmFsdWU9InRydWUiXScpLm5leHQoKS5maW5kKCcuZmlsZS1pdGVtLW9wZS1pdGVtLWRvd25sb2FkJykudHJpZ2dlcignY2xpY2snKTsKCQkJCQkkKCcuZmlsZS1pdGVtLWNoZWNrW3ZhbHVlPSJ0cnVlIl0nKS5uZXh0KCkuZmluZCgnLmZpbGUtaXRlbS1uYW1lLWZpbGVOYW1lLXNwYW4nKS50cmlnZ2VyKCdjbGljaycpOwoJCQkJfSBlbHNlIGlmKGNoZWNrX2NvdW50ID4gMSl7CgkJCQkJdmFyIGZpbGVfaWRfYXJyYXkgPSBbXTsKCQkJCQkkLmVhY2goJCgnLmZpbGUtaXRlbS1jaGVja1t2YWx1ZT0idHJ1ZSJdJyksIGZ1bmN0aW9uIChpbmRleCwgaXRlbSkgewoJCQkJCQlmaWxlX2lkX2FycmF5LnB1c2goJCh0aGlzKS5wYXJlbnRzKCcuYy1maWxlLWl0ZW0nKS5kYXRhKCdmaWxlaWQnKSk7CgkJCQkJfSk7CgkJCQkJZ2V0X2ZvbGRlcl9kb3dubG9hZF91cmwoZmlsZV9pZF9hcnJheS5qb2luKCcsJyksIE1fc2hhcmVfaWQpOwoJCQkJfSBlbHNlIHt9CgkJCX0pOwoJCQlidXR0b25fbm9ybWFsX2J0bi5yZXBsYWNlV2l0aChuZXdfYnV0dG9uX25vcm1hbF9idG4pOwoJCX0pOwoJCSQoJy5jLWZpbGUtbGlzdCAuYW50LWNoZWNrYm94Jykub2ZmKCdjbGljaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKCQkJaWYoJCh0aGlzKS5oYXNDbGFzcygnYW50LWNoZWNrYm94LWNoZWNrZWQnKSl7CgkJCQl2YXIgYnV0dG9uX25vcm1hbF9idG4gPSAkKCcuYnV0dG9uLWdyb3VwPi5idXR0b24tbm9ybWFsOmVxKDEpJyk7CgkJCQlidXR0b25fbm9ybWFsX2J0bi5yZW1vdmVDbGFzcygnZGlzYWJsZScpOwoJCQkJdmFyIG5ld19idXR0b25fbm9ybWFsX2J0biA9IGJ1dHRvbl9ub3JtYWxfYnRuLmNsb25lKCkub2ZmKCdjbGljaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CgkJCQkJZ2V0X2ZvbGRlcl9kb3dubG9hZF91cmwoTV9mb2xkZXJfaWQsIE1fc2hhcmVfaWQpOwoJCQkJfSk7CgkJCQlidXR0b25fbm9ybWFsX2J0bi5yZXBsYWNlV2l0aChuZXdfYnV0dG9uX25vcm1hbF9idG4pOwoJCQl9CgkJfSk7Cgl9IGVsc2UgewoJCSQoJy5NX3Nob3dfZmlsZV9saXN0X2J0bicpLmZhZGVPdXQoKTsKCQkkKCcuTV9mb2xkZXJfbGlzdCcpLmFwcGVuZCgnPGxpIGNsYXNzPSJNX2ZvbGRlcl9lbXB0eSI+5b2T5YmN5paH5Lu25aS55Li656m6PC9saT4nKTsKCX0KCXNldFRpbWVvdXQoKCkgPT4gewoJCSQoJy5jLWZpbGUtbGlzdD5kaXY6Zmlyc3Q+ZGl2OmZpcnN0PmRpdjpmaXJzdD5zcGFuJykuc2l6ZSgpID4gMSA/ICQoJy5NX2JhY2tfcGFyZW50Jykuc2hvdygpIDogJCgnLk1fYmFja19wYXJlbnQnKS5oaWRlKCk7CgkJJCgnLk1fZm9sZGVyX2Rvd25sb2FkJykuYXR0cigndGl0bGUnLCAn5omT5YyF5LiL6L295paH5Lu25aS5ICA6ICcgKyAkKCcuYy1maWxlLWxpc3Q+ZGl2OmZpcnN0PmRpdjpmaXJzdD5kaXY6Zmlyc3Q+c3BhbjpsYXN0JykudGV4dCgpKTsKCX0sIDEwKTsKCgkkKCcuTV9iYWNrX3BhcmVudCcpLm9mZignY2xpY2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkgewoJCSQoJy5NX2ZvbGRlcl9saXN0IGxpJykuZmFkZU91dCgpOwoJCSQoJy5NX2ZpbGVfZGlyZWN0X2xpbmsnKS5lbXB0eSgpOwoJCSQoJy5jLWZpbGUtbGlzdCBzcGFuOmVxKDApJykudHJpZ2dlcignY2xpY2snKTsKCX0pOwoJaWYoTV9pc19sb2dpbiA9PSAwKXsKCQlyZXF1ZXN0KCcvYXBpL29wZW4vdXNlci9nZXRVc2VySW5mb0ZvclBvcnRhbC5hY3Rpb24nLCB7fSwgJ2dldCcsIHJlcyA9PiB7CgkJCWlmKHJlcy5sb2dpbk5hbWUpewoJCQkJTV9pc19sb2dpbiA9IDE7CgkJCX0KCQl9KTsKCX0KCn0KCmZ1bmN0aW9uIGdldF9maWxlX2Rvd25sb2FkX3VybChmaWxlaWQsIHNoYXJlaWQgPSAnJywgc2hvd19saW5rID0gMCkgewoJaWYoTV9pc19sb2dpbiA9PSAwKXsKCQl0b2FzdCgn6K+355m76ZmG5ZCO5pON5L2cJyk7CgkJcmV0dXJuIGZhbHNlOwoJfQoJdG9hc3QoJ+Wkqee/vOS6keebmOWKqeaJiyDkvJjljJbkuIvovb0nKTsKCXJlcXVlc3QoJy9hcGkvb3Blbi9maWxlL2dldEZpbGVEb3dubG9hZFVybC5hY3Rpb24nLCB7CgkJZmlsZUlkOiBmaWxlaWQsCgkJZHQ6IDEsCgkJc2hhcmVJZDogc2hhcmVpZAoJfSwgJ2dldCcsIHJlcyA9PiB7CgkJdmFyIGZpbGVOYW1lID0gJC50cmltKCQoJy5maWxlLWxpc3QtdWwgLmMtZmlsZS1pdGVtW2RhdGEtZmlsZWlkPScgKyBmaWxlaWQgKyAnXSAuZmlsZS1pdGVtLW5hbWUtZmlsZU5hbWUtc3BhbicpLnRleHQoKSk7CgkJdmFyIGZpbGVEb3dubG9hZFVybCA9IHJlcy5maWxlRG93bmxvYWRVcmwgKyAnJmZpbGVOYW1lPScgKyBlbmNvZGVVUklDb21wb25lbnQoZmlsZU5hbWUpOwoJCWlmKHNob3dfbGluayA9PSAxKXsKCQkJJCgnLk1fZmlsZV9kaXJlY3RfbGluaycpLmh0bWwoJzxiPuebtOmTvue9keWdgO+8mjwvYj48YSBocmVmPSInICsgZmlsZURvd25sb2FkVXJsICsgJyIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSLngrnlh7vkuIvovb3vvJonICsgZmlsZU5hbWUgKyAnIj4nICsgZmlsZURvd25sb2FkVXJsICsgJzwvYT4nKTsKCQl9CgkJZG93bmxvYWRfdXJsKGZpbGVEb3dubG9hZFVybCk7Cgl9KTsKfQoKZnVuY3Rpb24gZ2V0X2ZvbGRlcl9kb3dubG9hZF91cmwoZm9sZGVyaWQsIHNoYXJlaWQgPSAnJywgZmlsZW5hbWUpIHsKCWlmKE1faXNfbG9naW4gPT0gMCl7CgkJdG9hc3QoJ+ivt+eZu+mZhuWQjuaTjeS9nCcpOwoJCXJldHVybiBmYWxzZTsKCX0KCXRvYXN0KCflpKnnv7zkupHnm5jliqnmiYsg5LyY5YyW5LiL6L29Jyk7Cgl2YXIgc2Vzc2lvbktleSA9IGdldENvb2tpZSgnc2Vzc2lvbktleScpOwoJdmFyIGZpbGVfZG93bmxvYWRfdXJsID0gJy9kb3dubG9hZE11bHRpRmlsZXMuYWN0aW9uP3Nlc3Npb25LZXk9JyArIHNlc3Npb25LZXkgKyAnJmZpbGVJZFM9JyArIGZvbGRlcmlkICsgJyZkb3dubG9hZFR5cGU9JyArIChzaGFyZWlkID8gMyA6IDEpICsgJyZzaGFyZUlkPScgKyBzaGFyZWlkICsgKGZpbGVuYW1lID8gJyZmaWxlbmFtZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVuYW1lKSArICcuemlwJyA6ICcnKTsKCWRvd25sb2FkX3VybChmaWxlX2Rvd25sb2FkX3VybCk7Cn0KCmZ1bmN0aW9uIGRvd25sb2FkX3VybCh1cmwpIHsKCXZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7Cgl2YXIgaWZyYW1lX2lkID0gJ01faWZyYW1lXycgKyAoTWF0aC5yYW5kb20oKS50b1N0cmluZygpLnJlcGxhY2UoJzAuJywgJycpKTsKCWVsZW1lbnQuc2V0QXR0cmlidXRlKCdzcmMnLCB1cmwpOwoJZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgaWZyYW1lX2lkKTsKCWVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKCWRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7CglzZXRUaW1lb3V0KCdkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCInICsgaWZyYW1lX2lkICsgJyIpKScsIDEwMDAwKTsKfQoKZnVuY3Rpb24gZG93bmxvYWRfdGV4dChmaWxlbmFtZSwgdGV4dCkgewoJdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CgllbGVtZW50LnNldEF0dHJpYnV0ZSgnaHJlZicsICdkYXRhOnRleHQvcGxhaW47Y2hhcnNldD11dGYtOCwnICsgZW5jb2RlVVJJQ29tcG9uZW50KHRleHQpKTsKCWVsZW1lbnQuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIGZpbGVuYW1lKTsKCWVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKCWRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7CgllbGVtZW50LmNsaWNrKCk7Cglkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZW1lbnQpOwp9CgpmdW5jdGlvbiByZXF1ZXN0KHVybCwgZGF0YSwgdHlwZSA9ICdnZXQnLCBzdWNjZXNzLCBlcnJvciA9ICgpID0+IHt9KSB7CgkkLmFqYXgoewoJCXVybDogdXJsLAoJCWRhdGE6IGRhdGEsCgkJdHlwZTogdHlwZSwKCQlzdWNjZXNzOiBzdWNjZXNzLAoJCWVycm9yOiBlcnJvciwKCQloZWFkZXJzOiB7CgkJCUFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcKCQl9LAoJCWRhdGFUeXBlOiAnanNvbicsCgl9KTsKfQoKZnVuY3Rpb24gdG9hc3QodGV4dCwgdGltZSA9IDEpIHsKCSQoJy5NX3RvYXN0IHNwYW4nKS50ZXh0KHRleHQpOwoJJCgnLk1fdG9hc3QnKS5zaG93KCkuc3RvcCgpLmRlbGF5KHRpbWUgKiAxMDAwKS5mYWRlT3V0KCk7Cn0KCmZ1bmN0aW9uIGNvbnZlcihsaW1pdCkgewoJdmFyIHNpemUgPSAnJzsKCWlmIChsaW1pdCA8IDAuMSAqIDEwMjQpIHsKCQlzaXplID0gbGltaXQudG9GaXhlZCgyKSArICdCJzsKCX0gZWxzZSBpZiAobGltaXQgPCAwLjEgKiAxMDI0ICogMTAyNCkgewoJCXNpemUgPSAobGltaXQgLyAxMDI0KS50b0ZpeGVkKDIpICsgJ0tCJzsKCX0gZWxzZSBpZiAobGltaXQgPCAwLjEgKiAxMDI0ICogMTAyNCAqIDEwMjQpIHsKCQlzaXplID0gKGxpbWl0IC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKSArICdNQic7Cgl9IGVsc2UgewoJCXNpemUgPSAobGltaXQgLyAoMTAyNCAqIDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKSArICdHQic7Cgl9Cgl2YXIgc2l6ZXN0ciA9IHNpemUgKyAnJzsKCXZhciBsZW4gPSBzaXplc3RyLmluZGV4T2YoJ1wuJyk7Cgl2YXIgZGVjID0gc2l6ZXN0ci5zdWJzdHIobGVuICsgMSwgMik7CglpZiAoZGVjID09ICcwMCcpIHsKCQlyZXR1cm4gc2l6ZXN0ci5zdWJzdHJpbmcoMCwgbGVuKSArIHNpemVzdHIuc3Vic3RyKGxlbiArIDMsIDIpOwoJfQoJcmV0dXJuIHNpemVzdHI7Cn0KCmZ1bmN0aW9uIHNldENvb2tpZShuYW1lLCB2YWx1ZSkgeyAKCXZhciBEYXlzID0gMzA7Cgl2YXIgZXhwID0gbmV3IERhdGUoKTsKCWV4cC5zZXRUaW1lKGV4cC5nZXRUaW1lKCkgKyBEYXlzKjI0KjYwKjYwKjEwMDApOyAKCWRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAnPScgKyBlc2NhcGUodmFsdWUpICsgJztleHBpcmVzPScgKyBleHAudG9HTVRTdHJpbmcoKTsgCn0KCmZ1bmN0aW9uIGdldENvb2tpZShuYW1lKSB7Cgl2YXIgc3RyY29va2llID0gZG9jdW1lbnQuY29va2llOwoJdmFyIGFycmNvb2tpZSA9IHN0cmNvb2tpZS5zcGxpdCgnOyAnKTsKCWZvciAodmFyIGkgPSAwOyBpIDwgYXJyY29va2llLmxlbmd0aDsgaSsrKSB7CgkJdmFyIGFyciA9IGFycmNvb2tpZVtpXS5zcGxpdCgnPScpOwoJCWlmIChhcnJbMF0gPT0gbmFtZSkgewoJCQlyZXR1cm4gYXJyWzFdOwoJCX0KCX0KCXJldHVybiAnJzsKfQoKZnVuY3Rpb24gZGVsQ29va2llKG5hbWUpIHsKCXZhciBleHAgPSBuZXcgRGF0ZSgpOyAKCWV4cC5zZXRUaW1lKGV4cC5nZXRUaW1lKCkgLSAxKTsgCgl2YXIgY3ZhbCA9IGdldENvb2tpZShuYW1lKTsgCglpZihjdmFsICE9IG51bGwpIHsKCQlkb2N1bWVudC5jb29raWU9IG5hbWUgKyAnPScgKyBjdmFsICsgJztleHBpcmVzPScgKyBleHAudG9HTVRTdHJpbmcoKTsKCX0KfQoKZnVuY3Rpb24gZ2V0UXVlcnlWYXJpYWJsZSh2YXJpYWJsZSl7Cgl2YXIgcXVlcnkgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKTsKCXZhciB2YXJzID0gcXVlcnkuc3BsaXQoIiYiKTsKCWZvciAodmFyIGk9MDtpPHZhcnMubGVuZ3RoO2krKykgewoJCXZhciBwYWlyID0gdmFyc1tpXS5zcGxpdCgiPSIpOwoJCWlmKHBhaXJbMF0gPT0gdmFyaWFibGUpewoJCQlyZXR1cm4gcGFpclsxXTsKCQl9Cgl9CglyZXR1cm4oZmFsc2UpOwp9","requires":[{"meta":{"name":"jquery.min.js","url":"https://cdn.bootcdn.net/ajax/libs/jquery/2.1.4/jquery.min.js","ts":1657118213735,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2Mi4xLjQgfCAoYykgMjAwNSwgMjAxNSBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oYSxiKXsib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1hLmRvY3VtZW50P2IoYSwhMCk6ZnVuY3Rpb24oYSl7aWYoIWEuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50Iik7cmV0dXJuIGIoYSl9OmIoYSl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZD1jLnNsaWNlLGU9Yy5jb25jYXQsZj1jLnB1c2gsZz1jLmluZGV4T2YsaD17fSxpPWgudG9TdHJpbmcsaj1oLmhhc093blByb3BlcnR5LGs9e30sbD1hLmRvY3VtZW50LG09IjIuMS40IixuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBuLmZuLmluaXQoYSxiKX0sbz0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2cscD0vXi1tcy0vLHE9Ly0oW1xkYS16XSkvZ2kscj1mdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9O24uZm49bi5wcm90b3R5cGU9e2pxdWVyeTptLGNvbnN0cnVjdG9yOm4sc2VsZWN0b3I6IiIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBkLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT8wPmE/dGhpc1thK3RoaXMubGVuZ3RoXTp0aGlzW2FdOmQuY2FsbCh0aGlzKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGEpe3ZhciBiPW4ubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGEpO3JldHVybiBiLnByZXZPYmplY3Q9dGhpcyxiLmNvbnRleHQ9dGhpcy5jb250ZXh0LGJ9LGVhY2g6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5lYWNoKHRoaXMsYSxiKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhuLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sZW5ndGgsYz0rYSsoMD5hP2I6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGM+PTAmJmI+Yz9bdGhpc1tjXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKG51bGwpfSxwdXNoOmYsc29ydDpjLnNvcnQsc3BsaWNlOmMuc3BsaWNlfSxuLmV4dGVuZD1uLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnPWFyZ3VtZW50c1swXXx8e30saD0xLGk9YXJndW1lbnRzLmxlbmd0aCxqPSExO2ZvcigiYm9vbGVhbiI9PXR5cGVvZiBnJiYoaj1nLGc9YXJndW1lbnRzW2hdfHx7fSxoKyspLCJvYmplY3QiPT10eXBlb2YgZ3x8bi5pc0Z1bmN0aW9uKGcpfHwoZz17fSksaD09PWkmJihnPXRoaXMsaC0tKTtpPmg7aCsrKWlmKG51bGwhPShhPWFyZ3VtZW50c1toXSkpZm9yKGIgaW4gYSljPWdbYl0sZD1hW2JdLGchPT1kJiYoaiYmZCYmKG4uaXNQbGFpbk9iamVjdChkKXx8KGU9bi5pc0FycmF5KGQpKSk/KGU/KGU9ITEsZj1jJiZuLmlzQXJyYXkoYyk/YzpbXSk6Zj1jJiZuLmlzUGxhaW5PYmplY3QoYyk/Yzp7fSxnW2JdPW4uZXh0ZW5kKGosZixkKSk6dm9pZCAwIT09ZCYmKGdbYl09ZCkpO3JldHVybiBnfSxuLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisobStNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcihhKX0sbm9vcDpmdW5jdGlvbigpe30saXNGdW5jdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4iZnVuY3Rpb24iPT09bi50eXBlKGEpfSxpc0FycmF5OkFycmF5LmlzQXJyYXksaXNXaW5kb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJmE9PT1hLndpbmRvd30saXNOdW1lcmljOmZ1bmN0aW9uKGEpe3JldHVybiFuLmlzQXJyYXkoYSkmJmEtcGFyc2VGbG9hdChhKSsxPj0wfSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiJvYmplY3QiIT09bi50eXBlKGEpfHxhLm5vZGVUeXBlfHxuLmlzV2luZG93KGEpPyExOmEuY29uc3RydWN0b3ImJiFqLmNhbGwoYS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsImlzUHJvdG90eXBlT2YiKT8hMTohMH0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP2ErIiI6Im9iamVjdCI9PXR5cGVvZiBhfHwiZnVuY3Rpb24iPT10eXBlb2YgYT9oW2kuY2FsbChhKV18fCJvYmplY3QiOnR5cGVvZiBhfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGM9ZXZhbDthPW4udHJpbShhKSxhJiYoMT09PWEuaW5kZXhPZigidXNlIHN0cmljdCIpPyhiPWwuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksYi50ZXh0PWEsbC5oZWFkLmFwcGVuZENoaWxkKGIpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpOmMoYSkpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShwLCJtcy0iKS5yZXBsYWNlKHEscil9LG5vZGVOYW1lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT0wLGY9YS5sZW5ndGgsZz1zKGEpO2lmKGMpe2lmKGcpe2Zvcig7Zj5lO2UrKylpZihkPWIuYXBwbHkoYVtlXSxjKSxkPT09ITEpYnJlYWt9ZWxzZSBmb3IoZSBpbiBhKWlmKGQ9Yi5hcHBseShhW2VdLGMpLGQ9PT0hMSlicmVha31lbHNlIGlmKGcpe2Zvcig7Zj5lO2UrKylpZihkPWIuY2FsbChhW2VdLGUsYVtlXSksZD09PSExKWJyZWFrfWVsc2UgZm9yKGUgaW4gYSlpZihkPWIuY2FsbChhW2VdLGUsYVtlXSksZD09PSExKWJyZWFrO3JldHVybiBhfSx0cmltOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOihhKyIiKS5yZXBsYWNlKG8sIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHxbXTtyZXR1cm4gbnVsbCE9YSYmKHMoT2JqZWN0KGEpKT9uLm1lcmdlKGMsInN0cmluZyI9PXR5cGVvZiBhP1thXTphKTpmLmNhbGwoYyxhKSksY30saW5BcnJheTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGw9PWI/LTE6Zy5jYWxsKGIsYSxjKX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9K2IubGVuZ3RoLGQ9MCxlPWEubGVuZ3RoO2M+ZDtkKyspYVtlKytdPWJbZF07cmV0dXJuIGEubGVuZ3RoPWUsYX0sZ3JlcDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGU9W10sZj0wLGc9YS5sZW5ndGgsaD0hYztnPmY7ZisrKWQ9IWIoYVtmXSxmKSxkIT09aCYmZS5wdXNoKGFbZl0pO3JldHVybiBlfSxtYXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGY9MCxnPWEubGVuZ3RoLGg9cyhhKSxpPVtdO2lmKGgpZm9yKDtnPmY7ZisrKWQ9YihhW2ZdLGYsYyksbnVsbCE9ZCYmaS5wdXNoKGQpO2Vsc2UgZm9yKGYgaW4gYSlkPWIoYVtmXSxmLGMpLG51bGwhPWQmJmkucHVzaChkKTtyZXR1cm4gZS5hcHBseShbXSxpKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmO3JldHVybiJzdHJpbmciPT10eXBlb2YgYiYmKGM9YVtiXSxiPWEsYT1jKSxuLmlzRnVuY3Rpb24oYSk/KGU9ZC5jYWxsKGFyZ3VtZW50cywyKSxmPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxlLmNvbmNhdChkLmNhbGwoYXJndW1lbnRzKSkpfSxmLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8bi5ndWlkKyssZik6dm9pZCAwfSxub3c6RGF0ZS5ub3csc3VwcG9ydDprfSksbi5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7aFsiW29iamVjdCAiK2IrIl0iXT1iLnRvTG93ZXJDYXNlKCl9KTtmdW5jdGlvbiBzKGEpe3ZhciBiPSJsZW5ndGgiaW4gYSYmYS5sZW5ndGgsYz1uLnR5cGUoYSk7cmV0dXJuImZ1bmN0aW9uIj09PWN8fG4uaXNXaW5kb3coYSk/ITE6MT09PWEubm9kZVR5cGUmJmI/ITA6ImFycmF5Ij09PWN8fDA9PT1ifHwibnVtYmVyIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGF9dmFyIHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdT0ic2l6emxlIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9aGEoKSx6PWhhKCksQT1oYSgpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPTE8PDMxLEQ9e30uaGFzT3duUHJvcGVydHksRT1bXSxGPUUucG9wLEc9RS5wdXNoLEg9RS5wdXNoLEk9RS5zbGljZSxKPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxLPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTD0iW1xceDIwXFx0XFxyXFxuXFxmXSIsTT0iKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLE49TS5yZXBsYWNlKCJ3IiwidyMiKSxPPSJcXFsiK0wrIiooIitNKyIpKD86IitMKyIqKFsqXiR8IX5dPz0pIitMKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrTisiKSl8KSIrTCsiKlxcXSIsUD0iOigiK00rIikoPzpcXCgoKCcoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwiKXwoKD86XFxcXC58W15cXFxcKClbXFxdXXwiK08rIikqKXwuKilcXCl8KSIsUT1uZXcgUmVnRXhwKEwrIisiLCJnIiksUj1uZXcgUmVnRXhwKCJeIitMKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK0wrIiskIiwiZyIpLFM9bmV3IFJlZ0V4cCgiXiIrTCsiKiwiK0wrIioiKSxUPW5ldyBSZWdFeHAoIl4iK0wrIiooWz4rfl18IitMKyIpIitMKyIqIiksVT1uZXcgUmVnRXhwKCI9IitMKyIqKFteXFxdJ1wiXSo/KSIrTCsiKlxcXSIsImciKSxWPW5ldyBSZWdFeHAoUCksVz1uZXcgUmVnRXhwKCJeIitOKyIkIiksWD17SUQ6bmV3IFJlZ0V4cCgiXiMoIitNKyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK00rIikiKSxUQUc6bmV3IFJlZ0V4cCgiXigiK00ucmVwbGFjZSgidyIsIncqIikrIikiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK08pLFBTRVVETzpuZXcgUmVnRXhwKCJeIitQKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK0wrIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK0wrIiooPzooWystXXwpIitMKyIqKFxcZCspfCkpIitMKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitLKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTCsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitMKyIqKCg/Oi1cXGQpP1xcZCopIitMKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxZPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksWj0vXmhcZCQvaSwkPS9eW157XStce1xzKlxbbmF0aXZlIFx3LyxfPS9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8sYWE9L1srfl0vLGJhPS8nfFxcL2csY2E9bmV3IFJlZ0V4cCgiXFxcXChbXFxkYS1mXXsxLDZ9IitMKyI/fCgiK0wrIil8LikiLCJpZyIpLGRhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0iMHgiK2ItNjU1MzY7cmV0dXJuIGQhPT1kfHxjP2I6MD5kP1N0cmluZy5mcm9tQ2hhckNvZGUoZCs2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShkPj4xMHw1NTI5NiwxMDIzJmR8NTYzMjApfSxlYT1mdW5jdGlvbigpe20oKX07dHJ5e0guYXBwbHkoRT1JLmNhbGwodi5jaGlsZE5vZGVzKSx2LmNoaWxkTm9kZXMpLEVbdi5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZmEpe0g9e2FwcGx5OkUubGVuZ3RoP2Z1bmN0aW9uKGEsYil7Ry5hcHBseShhLEkuY2FsbChiKSl9OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5sZW5ndGgsZD0wO3doaWxlKGFbYysrXT1iW2QrK10pO2EubGVuZ3RoPWMtMX19fWZ1bmN0aW9uIGdhKGEsYixkLGUpe3ZhciBmLGgsaixrLGwsbyxyLHMsdyx4O2lmKChiP2Iub3duZXJEb2N1bWVudHx8Yjp2KSE9PW4mJm0oYiksYj1ifHxuLGQ9ZHx8W10saz1iLm5vZGVUeXBlLCJzdHJpbmciIT10eXBlb2YgYXx8IWF8fDEhPT1rJiY5IT09ayYmMTEhPT1rKXJldHVybiBkO2lmKCFlJiZwKXtpZigxMSE9PWsmJihmPV8uZXhlYyhhKSkpaWYoaj1mWzFdKXtpZig5PT09ayl7aWYoaD1iLmdldEVsZW1lbnRCeUlkKGopLCFofHwhaC5wYXJlbnROb2RlKXJldHVybiBkO2lmKGguaWQ9PT1qKXJldHVybiBkLnB1c2goaCksZH1lbHNlIGlmKGIub3duZXJEb2N1bWVudCYmKGg9Yi5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGopKSYmdChiLGgpJiZoLmlkPT09ailyZXR1cm4gZC5wdXNoKGgpLGR9ZWxzZXtpZihmWzJdKXJldHVybiBILmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigoaj1mWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGopKSxkfWlmKGMucXNhJiYoIXF8fCFxLnRlc3QoYSkpKXtpZihzPXI9dSx3PWIseD0xIT09ayYmYSwxPT09ayYmIm9iamVjdCIhPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe289ZyhhKSwocj1iLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1yLnJlcGxhY2UoYmEsIlxcJCYiKTpiLnNldEF0dHJpYnV0ZSgiaWQiLHMpLHM9IltpZD0nIitzKyInXSAiLGw9by5sZW5ndGg7d2hpbGUobC0tKW9bbF09cytyYShvW2xdKTt3PWFhLnRlc3QoYSkmJnBhKGIucGFyZW50Tm9kZSl8fGIseD1vLmpvaW4oIiwiKX1pZih4KXRyeXtyZXR1cm4gSC5hcHBseShkLHcucXVlcnlTZWxlY3RvckFsbCh4KSksZH1jYXRjaCh5KXt9ZmluYWxseXtyfHxiLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBpKGEucmVwbGFjZShSLCIkMSIpLGIsZCxlKX1mdW5jdGlvbiBoYSgpe3ZhciBhPVtdO2Z1bmN0aW9uIGIoYyxlKXtyZXR1cm4gYS5wdXNoKGMrIiAiKT5kLmNhY2hlTGVuZ3RoJiZkZWxldGUgYlthLnNoaWZ0KCldLGJbYysiICJdPWV9cmV0dXJuIGJ9ZnVuY3Rpb24gaWEoYSl7cmV0dXJuIGFbdV09ITAsYX1mdW5jdGlvbiBqYShhKXt2YXIgYj1uLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RyeXtyZXR1cm4hIWEoYil9Y2F0Y2goYyl7cmV0dXJuITF9ZmluYWxseXtiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSxiPW51bGx9fWZ1bmN0aW9uIGthKGEsYil7dmFyIGM9YS5zcGxpdCgifCIpLGU9YS5sZW5ndGg7d2hpbGUoZS0tKWQuYXR0ckhhbmRsZVtjW2VdXT1ifWZ1bmN0aW9uIGxhKGEsYil7dmFyIGM9YiYmYSxkPWMmJjE9PT1hLm5vZGVUeXBlJiYxPT09Yi5ub2RlVHlwZSYmKH5iLnNvdXJjZUluZGV4fHxDKS0ofmEuc291cmNlSW5kZXh8fEMpO2lmKGQpcmV0dXJuIGQ7aWYoYyl3aGlsZShjPWMubmV4dFNpYmxpbmcpaWYoYz09PWIpcmV0dXJuLTE7cmV0dXJuIGE/MTotMX1mdW5jdGlvbiBtYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1jJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBuYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigiaW5wdXQiPT09Y3x8ImJ1dHRvbiI9PT1jKSYmYi50eXBlPT09YX19ZnVuY3Rpb24gb2EoYSl7cmV0dXJuIGlhKGZ1bmN0aW9uKGIpe3JldHVybiBiPStiLGlhKGZ1bmN0aW9uKGMsZCl7dmFyIGUsZj1hKFtdLGMubGVuZ3RoLGIpLGc9Zi5sZW5ndGg7d2hpbGUoZy0tKWNbZT1mW2ddXSYmKGNbZV09IShkW2VdPWNbZV0pKX0pfSl9ZnVuY3Rpb24gcGEoYSl7cmV0dXJuIGEmJiJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmYX1jPWdhLnN1cHBvcnQ9e30sZj1nYS5pc1hNTD1mdW5jdGlvbihhKXt2YXIgYj1hJiYoYS5vd25lckRvY3VtZW50fHxhKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGI/IkhUTUwiIT09Yi5ub2RlTmFtZTohMX0sbT1nYS5zZXREb2N1bWVudD1mdW5jdGlvbihhKXt2YXIgYixlLGc9YT9hLm93bmVyRG9jdW1lbnR8fGE6djtyZXR1cm4gZyE9PW4mJjk9PT1nLm5vZGVUeXBlJiZnLmRvY3VtZW50RWxlbWVudD8obj1nLG89Zy5kb2N1bWVudEVsZW1lbnQsZT1nLmRlZmF1bHRWaWV3LGUmJmUhPT1lLnRvcCYmKGUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsZWEsITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixlYSkpLHA9IWYoZyksYy5hdHRyaWJ1dGVzPWphKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsYXNzTmFtZT0iaSIsIWEuZ2V0QXR0cmlidXRlKCJjbGFzc05hbWUiKX0pLGMuZ2V0RWxlbWVudHNCeVRhZ05hbWU9amEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZy5jcmVhdGVDb21tZW50KCIiKSksIWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGh9KSxjLmdldEVsZW1lbnRzQnlDbGFzc05hbWU9JC50ZXN0KGcuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSksYy5nZXRCeUlkPWphKGZ1bmN0aW9uKGEpe3JldHVybiBvLmFwcGVuZENoaWxkKGEpLmlkPXUsIWcuZ2V0RWxlbWVudHNCeU5hbWV8fCFnLmdldEVsZW1lbnRzQnlOYW1lKHUpLmxlbmd0aH0pLGMuZ2V0QnlJZD8oZC5maW5kLklEPWZ1bmN0aW9uKGEsYil7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBiLmdldEVsZW1lbnRCeUlkJiZwKXt2YXIgYz1iLmdldEVsZW1lbnRCeUlkKGEpO3JldHVybiBjJiZjLnBhcmVudE5vZGU/W2NdOltdfX0sZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGNhLGRhKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJpZCIpPT09Yn19KTooZGVsZXRlIGQuZmluZC5JRCxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoY2EsZGEpO3JldHVybiBmdW5jdGlvbihhKXt2YXIgYz0idW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSYmYS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBjJiZjLnZhbHVlPT09Yn19KSxkLmZpbmQuVEFHPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oYSxiKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWU/Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTpjLnFzYT9iLnF1ZXJ5U2VsZWN0b3JBbGwoYSk6dm9pZCAwfTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT0wLGY9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTtpZigiKiI9PT1hKXt3aGlsZShjPWZbZSsrXSkxPT09Yy5ub2RlVHlwZSYmZC5wdXNoKGMpO3JldHVybiBkfXJldHVybiBmfSxkLmZpbmQuQ0xBU1M9Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihhLGIpe3JldHVybiBwP2IuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhKTp2b2lkIDB9LHI9W10scT1bXSwoYy5xc2E9JC50ZXN0KGcucXVlcnlTZWxlY3RvckFsbCkpJiYoamEoZnVuY3Rpb24oYSl7by5hcHBlbmRDaGlsZChhKS5pbm5lckhUTUw9IjxhIGlkPSciK3UrIic+PC9hPjxzZWxlY3QgaWQ9JyIrdSsiLVxmXScgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGEucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnEucHVzaCgiWypeJF09IitMKyIqKD86Jyd8XCJcIikiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHEucHVzaCgiXFxbIitMKyIqKD86dmFsdWV8IitLKyIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrdSsiLV0iKS5sZW5ndGh8fHEucHVzaCgifj0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxxLnB1c2goIjpjaGVja2VkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrdSsiKyoiKS5sZW5ndGh8fHEucHVzaCgiLiMuK1srfl0iKX0pLGphKGZ1bmN0aW9uKGEpe3ZhciBiPWcuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGEuYXBwZW5kQ2hpbGQoYikuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGEucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnEucHVzaCgibmFtZSIrTCsiKlsqXiR8IX5dPz0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RofHxxLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IikscS5wdXNoKCIsLio6Iil9KSksKGMubWF0Y2hlc1NlbGVjdG9yPSQudGVzdChzPW8ubWF0Y2hlc3x8by53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG8ubW96TWF0Y2hlc1NlbGVjdG9yfHxvLm9NYXRjaGVzU2VsZWN0b3J8fG8ubXNNYXRjaGVzU2VsZWN0b3IpKSYmamEoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1zLmNhbGwoYSwiZGl2Iikscy5jYWxsKGEsIltzIT0nJ106eCIpLHIucHVzaCgiIT0iLFApfSkscT1xLmxlbmd0aCYmbmV3IFJlZ0V4cChxLmpvaW4oInwiKSkscj1yLmxlbmd0aCYmbmV3IFJlZ0V4cChyLmpvaW4oInwiKSksYj0kLnRlc3Qoby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksdD1ifHwkLnRlc3Qoby5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxCPWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1nfHxhLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYSk/LTE6Yj09PWd8fGIub3duZXJEb2N1bWVudD09PXYmJnQodixiKT8xOms/SihrLGEpLUooayxiKTowOjQmZD8tMToxKX06ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBjLGQ9MCxlPWEucGFyZW50Tm9kZSxmPWIucGFyZW50Tm9kZSxoPVthXSxpPVtiXTtpZighZXx8IWYpcmV0dXJuIGE9PT1nPy0xOmI9PT1nPzE6ZT8tMTpmPzE6az9KKGssYSktSihrLGIpOjA7aWYoZT09PWYpcmV0dXJuIGxhKGEsYik7Yz1hO3doaWxlKGM9Yy5wYXJlbnROb2RlKWgudW5zaGlmdChjKTtjPWI7d2hpbGUoYz1jLnBhcmVudE5vZGUpaS51bnNoaWZ0KGMpO3doaWxlKGhbZF09PT1pW2RdKWQrKztyZXR1cm4gZD9sYShoW2RdLGlbZF0pOmhbZF09PT12Py0xOmlbZF09PT12PzE6MH0sZyk6bn0sZ2EubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBnYShhLG51bGwsbnVsbCxiKX0sZ2EubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFUsIj0nJDEnXSIpLCEoIWMubWF0Y2hlc1NlbGVjdG9yfHwhcHx8ciYmci50ZXN0KGIpfHxxJiZxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBnYShiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxnYS5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGdhLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZELmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxnYS5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrYSl9LGdhLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZD1bXSxlPTAsZj0wO2lmKGw9IWMuZGV0ZWN0RHVwbGljYXRlcyxrPSFjLnNvcnRTdGFibGUmJmEuc2xpY2UoMCksYS5zb3J0KEIpLGwpe3doaWxlKGI9YVtmKytdKWI9PT1hW2ZdJiYoZT1kLnB1c2goZikpO3doaWxlKGUtLSlhLnNwbGljZShkW2VdLDEpfXJldHVybiBrPW51bGwsYX0sZT1nYS5nZXRUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiLGM9IiIsZD0wLGY9YS5ub2RlVHlwZTtpZihmKXtpZigxPT09Znx8OT09PWZ8fDExPT09Zil7aWYoInN0cmluZyI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRDb250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1lKGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKGI9YVtkKytdKWMrPWUoYik7cmV0dXJuIGN9LGQ9Z2Euc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86aWEsbWF0Y2g6WCxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS5yZXBsYWNlKGNhLGRhKSxhWzNdPShhWzNdfHxhWzRdfHxhWzVdfHwiIikucmVwbGFjZShjYSxkYSksIn49Ij09PWFbMl0mJihhWzNdPSIgIithWzNdKyIgIiksYS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93ZXJDYXNlKCksIm50aCI9PT1hWzFdLnNsaWNlKDAsMyk/KGFbM118fGdhLmVycm9yKGFbMF0pLGFbNF09KyhhWzRdP2FbNV0rKGFbNl18fDEpOjIqKCJldmVuIj09PWFbM118fCJvZGQiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fCJvZGQiPT09YVszXSkpOmFbM10mJmdhLmVycm9yKGFbMF0pLGF9LFBTRVVETzpmdW5jdGlvbihhKXt2YXIgYixjPSFhWzZdJiZhWzJdO3JldHVybiBYLkNISUxELnRlc3QoYVswXSk/bnVsbDooYVszXT9hWzJdPWFbNF18fGFbNV18fCIiOmMmJlYudGVzdChjKSYmKGI9ZyhjLCEwKSkmJihiPWMuaW5kZXhPZigiKSIsYy5sZW5ndGgtYiktYy5sZW5ndGgpJiYoYVswXT1hWzBdLnNsaWNlKDAsYiksYVsyXT1jLnNsaWNlKDAsYikpLGEuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoY2EsZGEpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09YT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn19LENMQVNTOmZ1bmN0aW9uKGEpe3ZhciBiPXlbYSsiICJdO3JldHVybiBifHwoYj1uZXcgUmVnRXhwKCIoXnwiK0wrIikiK2ErIigiK0wrInwkKSIpKSYmeShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRlc3QoInN0cmluZyI9PXR5cGVvZiBhLmNsYXNzTmFtZSYmYS5jbGFzc05hbWV8fCJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGUmJmEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPWdhLmF0dHIoZCxhKTtyZXR1cm4gbnVsbD09ZT8iIT0iPT09YjpiPyhlKz0iIiwiPSI9PT1iP2U9PT1jOiIhPSI9PT1iP2UhPT1jOiJePSI9PT1iP2MmJjA9PT1lLmluZGV4T2YoYyk6Iio9Ij09PWI/YyYmZS5pbmRleE9mKGMpPi0xOiIkPSI9PT1iP2MmJmUuc2xpY2UoLWMubGVuZ3RoKT09PWM6In49Ij09PWI/KCIgIitlLnJlcGxhY2UoUSwiICIpKyIgIikuaW5kZXhPZihjKT4tMToifD0iPT09Yj9lPT09Y3x8ZS5zbGljZSgwLGMubGVuZ3RoKzEpPT09YysiLSI6ITEpOiEwfX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0ibnRoIiE9PWEuc2xpY2UoMCwzKSxnPSJsYXN0IiE9PWEuc2xpY2UoLTQpLGg9Im9mLXR5cGUiPT09YjtyZXR1cm4gMT09PWQmJjA9PT1lP2Z1bmN0aW9uKGEpe3JldHVybiEhYS5wYXJlbnROb2RlfTpmdW5jdGlvbihiLGMsaSl7dmFyIGosayxsLG0sbixvLHA9ZiE9PWc/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixxPWIucGFyZW50Tm9kZSxyPWgmJmIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxzPSFpJiYhaDtpZihxKXtpZihmKXt3aGlsZShwKXtsPWI7d2hpbGUobD1sW3BdKWlmKGg/bC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09cjoxPT09bC5ub2RlVHlwZSlyZXR1cm4hMTtvPXA9Im9ubHkiPT09YSYmIW8mJiJuZXh0U2libGluZyJ9cmV0dXJuITB9aWYobz1bZz9xLmZpcnN0Q2hpbGQ6cS5sYXN0Q2hpbGRdLGcmJnMpe2s9cVt1XXx8KHFbdV09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSxtPWpbMF09PT13JiZqWzJdLGw9biYmcS5jaGlsZE5vZGVzW25dO3doaWxlKGw9KytuJiZsJiZsW3BdfHwobT1uPTApfHxvLnBvcCgpKWlmKDE9PT1sLm5vZGVUeXBlJiYrK20mJmw9PT1iKXtrW2FdPVt3LG4sbV07YnJlYWt9fWVsc2UgaWYocyYmKGo9KGJbdV18fChiW3VdPXt9KSlbYV0pJiZqWzBdPT09dyltPWpbMV07ZWxzZSB3aGlsZShsPSsrbiYmbCYmbFtwXXx8KG09bj0wKXx8by5wb3AoKSlpZigoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKSYmKyttJiYocyYmKChsW3VdfHwobFt1XT17fSkpW2FdPVt3LG1dKSxsPT09YikpYnJlYWs7cmV0dXJuIG0tPWUsbT09PWR8fG0lZD09PTAmJm0vZD49MH19fSxQU0VVRE86ZnVuY3Rpb24oYSxiKXt2YXIgYyxlPWQucHNldWRvc1thXXx8ZC5zZXRGaWx0ZXJzW2EudG9Mb3dlckNhc2UoKV18fGdhLmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrYSk7cmV0dXJuIGVbdV0/ZShiKTplLmxlbmd0aD4xPyhjPVthLGEsIiIsYl0sZC5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGEudG9Mb3dlckNhc2UoKSk/aWEoZnVuY3Rpb24oYSxjKXt2YXIgZCxmPWUoYSxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSlkPUooYSxmW2ddKSxhW2RdPSEoY1tkXT1mW2ddKX0pOmZ1bmN0aW9uKGEpe3JldHVybiBlKGEsMCxjKX0pOmV9fSxwc2V1ZG9zOntub3Q6aWEoZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1bXSxkPWgoYS5yZXBsYWNlKFIsIiQxIikpO3JldHVybiBkW3VdP2lhKGZ1bmN0aW9uKGEsYixjLGUpe3ZhciBmLGc9ZChhLG51bGwsZSxbXSksaD1hLmxlbmd0aDt3aGlsZShoLS0pKGY9Z1toXSkmJihhW2hdPSEoYltoXT1mKSl9KTpmdW5jdGlvbihhLGUsZil7cmV0dXJuIGJbMF09YSxkKGIsbnVsbCxmLGMpLGJbMF09bnVsbCwhYy5wb3AoKX19KSxoYXM6aWEoZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBnYShhLGIpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOmlhKGZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZShjYSxkYSksZnVuY3Rpb24oYil7cmV0dXJuKGIudGV4dENvbnRlbnR8fGIuaW5uZXJUZXh0fHxlKGIpKS5pbmRleE9mKGEpPi0xfX0pLGxhbmc6aWEoZnVuY3Rpb24oYSl7cmV0dXJuIFcudGVzdChhfHwiIil8fGdhLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK2EpLGE9YS5yZXBsYWNlKGNhLGRhKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKGIpe3ZhciBjO2RvIGlmKGM9cD9iLmxhbmc6Yi5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIil8fGIuZ2V0QXR0cmlidXRlKCJsYW5nIikpcmV0dXJuIGM9Yy50b0xvd2VyQ2FzZSgpLGM9PT1hfHwwPT09Yy5pbmRleE9mKGErIi0iKTt3aGlsZSgoYj1iLnBhcmVudE5vZGUpJiYxPT09Yi5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGIpe3ZhciBjPWEubG9jYXRpb24mJmEubG9jYXRpb24uaGFzaDtyZXR1cm4gYyYmYy5zbGljZSgxKT09PWIuaWR9LHJvb3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1vfSxmb2N1czpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW4uYWN0aXZlRWxlbWVudCYmKCFuLmhhc0ZvY3VzfHxuLmhhc0ZvY3VzKCkpJiYhIShhLnR5cGV8fGEuaHJlZnx8fmEudGFiSW5kZXgpfSxlbmFibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITF9LGRpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1iJiYhIWEuY2hlY2tlZHx8Im9wdGlvbiI9PT1iJiYhIWEuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LGEuc2VsZWN0ZWQ9PT0hMH0sZW1wdHk6ZnVuY3Rpb24oYSl7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWlmKGEubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybiFkLnBzZXVkb3MuZW1wdHkoYSl9LGhlYWRlcjpmdW5jdGlvbihhKXtyZXR1cm4gWi50ZXN0KGEubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihhKXtyZXR1cm4gWS50ZXN0KGEubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1iJiYiYnV0dG9uIj09PWEudHlwZXx8ImJ1dHRvbiI9PT1ifSx0ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiJpbnB1dCI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiJ0ZXh0Ij09PWEudHlwZSYmKG51bGw9PShiPWEuZ2V0QXR0cmlidXRlKCJ0eXBlIikpfHwidGV4dCI9PT1iLnRvTG93ZXJDYXNlKCkpfSxmaXJzdDpvYShmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6b2EoZnVuY3Rpb24oYSxiKXtyZXR1cm5bYi0xXX0pLGVxOm9hKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm5bMD5jP2MrYjpjXX0pLGV2ZW46b2EoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxvZGQ6b2EoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MTtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxsdDpvYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzstLWQ+PTA7KWEucHVzaChkKTtyZXR1cm4gYX0pLGd0Om9hKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOysrZDxiOylhLnB1c2goZCk7cmV0dXJuIGF9KX19LGQucHNldWRvcy5udGg9ZC5wc2V1ZG9zLmVxO2ZvcihiIGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KWQucHNldWRvc1tiXT1tYShiKTtmb3IoYiBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KWQucHNldWRvc1tiXT1uYShiKTtmdW5jdGlvbiBxYSgpe31xYS5wcm90b3R5cGU9ZC5maWx0ZXJzPWQucHNldWRvcyxkLnNldEZpbHRlcnM9bmV3IHFhLGc9Z2EudG9rZW5pemU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGYsZyxoLGksaixrPXpbYSsiICJdO2lmKGspcmV0dXJuIGI/MDprLnNsaWNlKDApO2g9YSxpPVtdLGo9ZC5wcmVGaWx0ZXI7d2hpbGUoaCl7KCFjfHwoZT1TLmV4ZWMoaCkpKSYmKGUmJihoPWguc2xpY2UoZVswXS5sZW5ndGgpfHxoKSxpLnB1c2goZj1bXSkpLGM9ITEsKGU9VC5leGVjKGgpKSYmKGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmVbMF0ucmVwbGFjZShSLCIgIil9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtmb3IoZyBpbiBkLmZpbHRlcikhKGU9WFtnXS5leGVjKGgpKXx8altnXSYmIShlPWpbZ10oZSkpfHwoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZyxtYXRjaGVzOmV9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtpZighYylicmVha31yZXR1cm4gYj9oLmxlbmd0aDpoP2dhLmVycm9yKGEpOnooYSxpKS5zbGljZSgwKX07ZnVuY3Rpb24gcmEoYSl7Zm9yKHZhciBiPTAsYz1hLmxlbmd0aCxkPSIiO2M+YjtiKyspZCs9YVtiXS52YWx1ZTtyZXR1cm4gZH1mdW5jdGlvbiBzYShhLGIsYyl7dmFyIGQ9Yi5kaXIsZT1jJiYicGFyZW50Tm9kZSI9PT1kLGY9eCsrO3JldHVybiBiLmZpcnN0P2Z1bmN0aW9uKGIsYyxmKXt3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpcmV0dXJuIGEoYixjLGYpfTpmdW5jdGlvbihiLGMsZyl7dmFyIGgsaSxqPVt3LGZdO2lmKGcpe3doaWxlKGI9YltkXSlpZigoMT09PWIubm9kZVR5cGV8fGUpJiZhKGIsYyxnKSlyZXR1cm4hMH1lbHNlIHdoaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSl7aWYoaT1iW3VdfHwoYlt1XT17fSksKGg9aVtkXSkmJmhbMF09PT13JiZoWzFdPT09ZilyZXR1cm4galsyXT1oWzJdO2lmKGlbZF09aixqWzJdPWEoYixjLGcpKXJldHVybiEwfX19ZnVuY3Rpb24gdGEoYSl7cmV0dXJuIGEubGVuZ3RoPjE/ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEubGVuZ3RoO3doaWxlKGUtLSlpZighYVtlXShiLGMsZCkpcmV0dXJuITE7cmV0dXJuITB9OmFbMF19ZnVuY3Rpb24gdWEoYSxiLGMpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZT5kO2QrKylnYShhLGJbZF0sYyk7cmV0dXJuIGN9ZnVuY3Rpb24gdmEoYSxiLGMsZCxlKXtmb3IodmFyIGYsZz1bXSxoPTAsaT1hLmxlbmd0aCxqPW51bGwhPWI7aT5oO2grKykoZj1hW2hdKSYmKCFjfHxjKGYsZCxlKSkmJihnLnB1c2goZiksaiYmYi5wdXNoKGgpKTtyZXR1cm4gZ31mdW5jdGlvbiB3YShhLGIsYyxkLGUsZil7cmV0dXJuIGQmJiFkW3VdJiYoZD13YShkKSksZSYmIWVbdV0mJihlPXdhKGUsZikpLGlhKGZ1bmN0aW9uKGYsZyxoLGkpe3ZhciBqLGssbCxtPVtdLG49W10sbz1nLmxlbmd0aCxwPWZ8fHVhKGJ8fCIqIixoLm5vZGVUeXBlP1toXTpoLFtdKSxxPSFhfHwhZiYmYj9wOnZhKHAsbSxhLGgsaSkscj1jP2V8fChmP2E6b3x8ZCk/W106ZzpxO2lmKGMmJmMocSxyLGgsaSksZCl7aj12YShyLG4pLGQoaixbXSxoLGkpLGs9ai5sZW5ndGg7d2hpbGUoay0tKShsPWpba10pJiYocltuW2tdXT0hKHFbbltrXV09bCkpfWlmKGYpe2lmKGV8fGEpe2lmKGUpe2o9W10saz1yLmxlbmd0aDt3aGlsZShrLS0pKGw9cltrXSkmJmoucHVzaChxW2tdPWwpO2UobnVsbCxyPVtdLGosaSl9az1yLmxlbmd0aDt3aGlsZShrLS0pKGw9cltrXSkmJihqPWU/SihmLGwpOm1ba10pPi0xJiYoZltqXT0hKGdbal09bCkpfX1lbHNlIHI9dmEocj09PWc/ci5zcGxpY2UobyxyLmxlbmd0aCk6ciksZT9lKG51bGwsZyxyLGkpOkguYXBwbHkoZyxyKX0pfWZ1bmN0aW9uIHhhKGEpe2Zvcih2YXIgYixjLGUsZj1hLmxlbmd0aCxnPWQucmVsYXRpdmVbYVswXS50eXBlXSxoPWd8fGQucmVsYXRpdmVbIiAiXSxpPWc/MTowLGs9c2EoZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1ifSxoLCEwKSxsPXNhKGZ1bmN0aW9uKGEpe3JldHVybiBKKGIsYSk+LTF9LGgsITApLG09W2Z1bmN0aW9uKGEsYyxkKXt2YXIgZT0hZyYmKGR8fGMhPT1qKXx8KChiPWMpLm5vZGVUeXBlP2soYSxjLGQpOmwoYSxjLGQpKTtyZXR1cm4gYj1udWxsLGV9XTtmPmk7aSsrKWlmKGM9ZC5yZWxhdGl2ZVthW2ldLnR5cGVdKW09W3NhKHRhKG0pLGMpXTtlbHNle2lmKGM9ZC5maWx0ZXJbYVtpXS50eXBlXS5hcHBseShudWxsLGFbaV0ubWF0Y2hlcyksY1t1XSl7Zm9yKGU9KytpO2Y+ZTtlKyspaWYoZC5yZWxhdGl2ZVthW2VdLnR5cGVdKWJyZWFrO3JldHVybiB3YShpPjEmJnRhKG0pLGk+MSYmcmEoYS5zbGljZSgwLGktMSkuY29uY2F0KHt2YWx1ZToiICI9PT1hW2ktMl0udHlwZT8iKiI6IiJ9KSkucmVwbGFjZShSLCIkMSIpLGMsZT5pJiZ4YShhLnNsaWNlKGksZSkpLGY+ZSYmeGEoYT1hLnNsaWNlKGUpKSxmPmUmJnJhKGEpKX1tLnB1c2goYyl9cmV0dXJuIHRhKG0pfWZ1bmN0aW9uIHlhKGEsYil7dmFyIGM9Yi5sZW5ndGg+MCxlPWEubGVuZ3RoPjAsZj1mdW5jdGlvbihmLGcsaCxpLGspe3ZhciBsLG0sbyxwPTAscT0iMCIscj1mJiZbXSxzPVtdLHQ9aix1PWZ8fGUmJmQuZmluZC5UQUcoIioiLGspLHY9dys9bnVsbD09dD8xOk1hdGgucmFuZG9tKCl8fC4xLHg9dS5sZW5ndGg7Zm9yKGsmJihqPWchPT1uJiZnKTtxIT09eCYmbnVsbCE9KGw9dVtxXSk7cSsrKXtpZihlJiZsKXttPTA7d2hpbGUobz1hW20rK10paWYobyhsLGcsaCkpe2kucHVzaChsKTticmVha31rJiYodz12KX1jJiYoKGw9IW8mJmwpJiZwLS0sZiYmci5wdXNoKGwpKX1pZihwKz1xLGMmJnEhPT1wKXttPTA7d2hpbGUobz1iW20rK10pbyhyLHMsZyxoKTtpZihmKXtpZihwPjApd2hpbGUocS0tKXJbcV18fHNbcV18fChzW3FdPUYuY2FsbChpKSk7cz12YShzKX1ILmFwcGx5KGkscyksayYmIWYmJnMubGVuZ3RoPjAmJnArYi5sZW5ndGg+MSYmZ2EudW5pcXVlU29ydChpKX1yZXR1cm4gayYmKHc9dixqPXQpLHJ9O3JldHVybiBjP2lhKGYpOmZ9cmV0dXJuIGg9Z2EuY29tcGlsZT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1bXSxmPUFbYSsiICJdO2lmKCFmKXtifHwoYj1nKGEpKSxjPWIubGVuZ3RoO3doaWxlKGMtLSlmPXhhKGJbY10pLGZbdV0/ZC5wdXNoKGYpOmUucHVzaChmKTtmPUEoYSx5YShlLGQpKSxmLnNlbGVjdG9yPWF9cmV0dXJuIGZ9LGk9Z2Euc2VsZWN0PWZ1bmN0aW9uKGEsYixlLGYpe3ZhciBpLGosayxsLG0sbj0iZnVuY3Rpb24iPT10eXBlb2YgYSYmYSxvPSFmJiZnKGE9bi5zZWxlY3Rvcnx8YSk7aWYoZT1lfHxbXSwxPT09by5sZW5ndGgpe2lmKGo9b1swXT1vWzBdLnNsaWNlKDApLGoubGVuZ3RoPjImJiJJRCI9PT0oaz1qWzBdKS50eXBlJiZjLmdldEJ5SWQmJjk9PT1iLm5vZGVUeXBlJiZwJiZkLnJlbGF0aXZlW2pbMV0udHlwZV0pe2lmKGI9KGQuZmluZC5JRChrLm1hdGNoZXNbMF0ucmVwbGFjZShjYSxkYSksYil8fFtdKVswXSwhYilyZXR1cm4gZTtuJiYoYj1iLnBhcmVudE5vZGUpLGE9YS5zbGljZShqLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1pPVgubmVlZHNDb250ZXh0LnRlc3QoYSk/MDpqLmxlbmd0aDt3aGlsZShpLS0pe2lmKGs9altpXSxkLnJlbGF0aXZlW2w9ay50eXBlXSlicmVhaztpZigobT1kLmZpbmRbbF0pJiYoZj1tKGsubWF0Y2hlc1swXS5yZXBsYWNlKGNhLGRhKSxhYS50ZXN0KGpbMF0udHlwZSkmJnBhKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoai5zcGxpY2UoaSwxKSxhPWYubGVuZ3RoJiZyYShqKSwhYSlyZXR1cm4gSC5hcHBseShlLGYpLGU7YnJlYWt9fX1yZXR1cm4obnx8aChhLG8pKShmLGIsIXAsZSxhYS50ZXN0KGEpJiZwYShiLnBhcmVudE5vZGUpfHxiKSxlfSxjLnNvcnRTdGFibGU9dS5zcGxpdCgiIikuc29ydChCKS5qb2luKCIiKT09PXUsYy5kZXRlY3REdXBsaWNhdGVzPSEhbCxtKCksYy5zb3J0RGV0YWNoZWQ9amEoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuLmNyZWF0ZUVsZW1lbnQoImRpdiIpKX0pLGphKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGthKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsInR5cGUiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmphKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGlucHV0Lz4iLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGthKCJ2YWx1ZSIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHwiaW5wdXQiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGphKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxrYShLLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxnYX0oYSk7bi5maW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwclsiOiJdPW4uZXhwci5wc2V1ZG9zLG4udW5pcXVlPXQudW5pcXVlU29ydCxuLnRleHQ9dC5nZXRUZXh0LG4uaXNYTUxEb2M9dC5pc1hNTCxuLmNvbnRhaW5zPXQuY29udGFpbnM7dmFyIHU9bi5leHByLm1hdGNoLm5lZWRzQ29udGV4dCx2PS9ePChcdyspXHMqXC8/Pig/OjxcL1wxPnwpJC8sdz0vXi5bXjojXFtcLixdKiQvO2Z1bmN0aW9uIHgoYSxiLGMpe2lmKG4uaXNGdW5jdGlvbihiKSlyZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4hIWIuY2FsbChhLGQsYSkhPT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iIT09Y30pO2lmKCJzdHJpbmciPT10eXBlb2YgYil7aWYody50ZXN0KGIpKXJldHVybiBuLmZpbHRlcihiLGEsYyk7Yj1uLmZpbHRlcihiLGEpfXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gZy5jYWxsKGIsYSk+PTAhPT1jfSl9bi5maWx0ZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWJbMF07cmV0dXJuIGMmJihhPSI6bm90KCIrYSsiKSIpLDE9PT1iLmxlbmd0aCYmMT09PWQubm9kZVR5cGU/bi5maW5kLm1hdGNoZXNTZWxlY3RvcihkLGEpP1tkXTpbXTpuLmZpbmQubWF0Y2hlcyhhLG4uZ3JlcChiLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZX0pKX0sbi5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLmxlbmd0aCxkPVtdLGU9dGhpcztpZigic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIHRoaXMucHVzaFN0YWNrKG4oYSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKGI9MDtjPmI7YisrKWlmKG4uY29udGFpbnMoZVtiXSx0aGlzKSlyZXR1cm4hMH0pKTtmb3IoYj0wO2M+YjtiKyspbi5maW5kKGEsZVtiXSxkKTtyZXR1cm4gZD10aGlzLnB1c2hTdGFjayhjPjE/bi51bmlxdWUoZCk6ZCksZC5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yP3RoaXMuc2VsZWN0b3IrIiAiK2E6YSxkfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHgodGhpcyxhfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHgodGhpcyxhfHxbXSwhMCkpfSxpczpmdW5jdGlvbihhKXtyZXR1cm4hIXgodGhpcywic3RyaW5nIj09dHlwZW9mIGEmJnUudGVzdChhKT9uKGEpOmF8fFtdLCExKS5sZW5ndGh9fSk7dmFyIHksej0vXig/OlxzKig8W1x3XFddKz4pW14+XSp8IyhbXHctXSopKSQvLEE9bi5mbi5pbml0PWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtpZighYSlyZXR1cm4gdGhpcztpZigic3RyaW5nIj09dHlwZW9mIGEpe2lmKGM9IjwiPT09YVswXSYmIj4iPT09YVthLmxlbmd0aC0xXSYmYS5sZW5ndGg+PTM/W251bGwsYSxudWxsXTp6LmV4ZWMoYSksIWN8fCFjWzFdJiZiKXJldHVybiFifHxiLmpxdWVyeT8oYnx8eSkuZmluZChhKTp0aGlzLmNvbnN0cnVjdG9yKGIpLmZpbmQoYSk7aWYoY1sxXSl7aWYoYj1iIGluc3RhbmNlb2Ygbj9iWzBdOmIsbi5tZXJnZSh0aGlzLG4ucGFyc2VIVE1MKGNbMV0sYiYmYi5ub2RlVHlwZT9iLm93bmVyRG9jdW1lbnR8fGI6bCwhMCkpLHYudGVzdChjWzFdKSYmbi5pc1BsYWluT2JqZWN0KGIpKWZvcihjIGluIGIpbi5pc0Z1bmN0aW9uKHRoaXNbY10pP3RoaXNbY10oYltjXSk6dGhpcy5hdHRyKGMsYltjXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGQ9bC5nZXRFbGVtZW50QnlJZChjWzJdKSxkJiZkLnBhcmVudE5vZGUmJih0aGlzLmxlbmd0aD0xLHRoaXNbMF09ZCksdGhpcy5jb250ZXh0PWwsdGhpcy5zZWxlY3Rvcj1hLHRoaXN9cmV0dXJuIGEubm9kZVR5cGU/KHRoaXMuY29udGV4dD10aGlzWzBdPWEsdGhpcy5sZW5ndGg9MSx0aGlzKTpuLmlzRnVuY3Rpb24oYSk/InVuZGVmaW5lZCIhPXR5cGVvZiB5LnJlYWR5P3kucmVhZHkoYSk6YShuKToodm9pZCAwIT09YS5zZWxlY3RvciYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KSxuLm1ha2VBcnJheShhLHRoaXMpKX07QS5wcm90b3R5cGU9bi5mbix5PW4obCk7dmFyIEI9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sQz17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtuLmV4dGVuZCh7ZGlyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sc2libGluZzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY319KSxuLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGEpe3ZhciBiPW4oYSx0aGlzKSxjPWIubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2M+YTthKyspaWYobi5jb250YWlucyh0aGlzLGJbYV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9dGhpcy5sZW5ndGgsZj1bXSxnPXUudGVzdChhKXx8InN0cmluZyIhPXR5cGVvZiBhP24oYSxifHx0aGlzLmNvbnRleHQpOjA7ZT5kO2QrKylmb3IoYz10aGlzW2RdO2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cuaW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJm4uZmluZC5tYXRjaGVzU2VsZWN0b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5sZW5ndGg+MT9uLnVuaXF1ZShmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/InN0cmluZyI9PXR5cGVvZiBhP2cuY2FsbChuKGEpLHRoaXNbMF0pOmcuY2FsbCh0aGlzLGEuanF1ZXJ5P2FbMF06YSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi51bmlxdWUobi5tZXJnZSh0aGlzLmdldCgpLG4oYSxiKSkpKX0sYWRkQmFjazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09YT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihhKSl9fSk7ZnVuY3Rpb24gRChhLGIpe3doaWxlKChhPWFbYl0pJiYxIT09YS5ub2RlVHlwZSk7cmV0dXJuIGF9bi5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiYxMSE9PWIubm9kZVR5cGU/YjpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBuLmRpcihhLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZGlyKGEsInBhcmVudE5vZGUiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBEKGEsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZGlyKGEsIm5leHRTaWJsaW5nIil9LHByZXZBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZGlyKGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuLmRpcihhLCJuZXh0U2libGluZyIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZGlyKGEsInByZXZpb3VzU2libGluZyIsYyl9LHNpYmxpbmdzOmZ1bmN0aW9uKGEpe3JldHVybiBuLnNpYmxpbmcoKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiBuLnNpYmxpbmcoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudERvY3VtZW50fHxuLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1uLm1hcCh0aGlzLGIsYyk7cmV0dXJuIlVudGlsIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiYic3RyaW5nIj09dHlwZW9mIGQmJihlPW4uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihDW2FdfHxuLnVuaXF1ZShlKSxCLnRlc3QoYSkmJmUucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRT0vXFMrL2csRj17fTtmdW5jdGlvbiBHKGEpe3ZhciBiPUZbYV09e307cmV0dXJuIG4uZWFjaChhLm1hdGNoKEUpfHxbXSxmdW5jdGlvbihhLGMpe2JbY109ITB9KSxifW4uQ2FsbGJhY2tzPWZ1bmN0aW9uKGEpe2E9InN0cmluZyI9PXR5cGVvZiBhP0ZbYV18fEcoYSk6bi5leHRlbmQoe30sYSk7dmFyIGIsYyxkLGUsZixnLGg9W10saT0hYS5vbmNlJiZbXSxqPWZ1bmN0aW9uKGwpe2ZvcihiPWEubWVtb3J5JiZsLGM9ITAsZz1lfHwwLGU9MCxmPWgubGVuZ3RoLGQ9ITA7aCYmZj5nO2crKylpZihoW2ddLmFwcGx5KGxbMF0sbFsxXSk9PT0hMSYmYS5zdG9wT25GYWxzZSl7Yj0hMTticmVha31kPSExLGgmJihpP2kubGVuZ3RoJiZqKGkuc2hpZnQoKSk6Yj9oPVtdOmsuZGlzYWJsZSgpKX0saz17YWRkOmZ1bmN0aW9uKCl7aWYoaCl7dmFyIGM9aC5sZW5ndGg7IWZ1bmN0aW9uIGcoYil7bi5lYWNoKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1uLnR5cGUoYyk7ImZ1bmN0aW9uIj09PWQ/YS51bmlxdWUmJmsuaGFzKGMpfHxoLnB1c2goYyk6YyYmYy5sZW5ndGgmJiJzdHJpbmciIT09ZCYmZyhjKX0pfShhcmd1bWVudHMpLGQ/Zj1oLmxlbmd0aDpiJiYoZT1jLGooYikpfXJldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gaCYmbi5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihhLGIpe3ZhciBjO3doaWxlKChjPW4uaW5BcnJheShiLGgsYykpPi0xKWguc3BsaWNlKGMsMSksZCYmKGY+PWMmJmYtLSxnPj1jJiZnLS0pfSksdGhpc30saGFzOmZ1bmN0aW9uKGEpe3JldHVybiBhP24uaW5BcnJheShhLGgpPi0xOiEoIWh8fCFoLmxlbmd0aCl9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIGg9W10sZj0wLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gaD1pPWI9dm9pZCAwLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWh9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gaT12b2lkIDAsYnx8ay5kaXNhYmxlKCksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIWl9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIWh8fGMmJiFpfHwoYj1ifHxbXSxiPVthLGIuc2xpY2U/Yi5zbGljZSgpOmJdLGQ/aS5wdXNoKGIpOmooYikpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gay5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWN9fTtyZXR1cm4ga30sbi5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPVtbInJlc29sdmUiLCJkb25lIixuLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZWplY3RlZCJdLFsibm90aWZ5IiwicHJvZ3Jlc3MiLG4uQ2FsbGJhY2tzKCJtZW1vcnkiKV1dLGM9InBlbmRpbmciLGQ9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBlLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gbi5EZWZlcnJlZChmdW5jdGlvbihjKXtuLmVhY2goYixmdW5jdGlvbihiLGYpe3ZhciBnPW4uaXNGdW5jdGlvbihhW2JdKSYmYVtiXTtlW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIGE9ZyYmZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmbi5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/YS5wcm9taXNlKCkuZG9uZShjLnJlc29sdmUpLmZhaWwoYy5yZWplY3QpLnByb2dyZXNzKGMubm90aWZ5KTpjW2ZbMF0rIldpdGgiXSh0aGlzPT09ZD9jLnByb21pc2UoKTp0aGlzLGc/W2FdOmFyZ3VtZW50cyl9KX0pLGE9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9uLmV4dGVuZChhLGQpOmR9fSxlPXt9O3JldHVybiBkLnBpcGU9ZC50aGVuLG4uZWFjaChiLGZ1bmN0aW9uKGEsZil7dmFyIGc9ZlsyXSxoPWZbM107ZFtmWzFdXT1nLmFkZCxoJiZnLmFkZChmdW5jdGlvbigpe2M9aH0sYlsxXmFdWzJdLmRpc2FibGUsYlsyXVsyXS5sb2NrKSxlW2ZbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGVbZlswXSsiV2l0aCJdKHRoaXM9PT1lP2Q6dGhpcyxhcmd1bWVudHMpLHRoaXN9LGVbZlswXSsiV2l0aCJdPWcuZmlyZVdpdGh9KSxkLnByb21pc2UoZSksYSYmYS5jYWxsKGUsZSksZX0sd2hlbjpmdW5jdGlvbihhKXt2YXIgYj0wLGM9ZC5jYWxsKGFyZ3VtZW50cyksZT1jLmxlbmd0aCxmPTEhPT1lfHxhJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9lOjAsZz0xPT09Zj9hOm4uRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZSl7YlthXT10aGlzLGNbYV09YXJndW1lbnRzLmxlbmd0aD4xP2QuY2FsbChhcmd1bWVudHMpOmUsYz09PWk/Zy5ub3RpZnlXaXRoKGIsYyk6LS1mfHxnLnJlc29sdmVXaXRoKGIsYyl9fSxpLGosaztpZihlPjEpZm9yKGk9bmV3IEFycmF5KGUpLGo9bmV3IEFycmF5KGUpLGs9bmV3IEFycmF5KGUpO2U+YjtiKyspY1tiXSYmbi5pc0Z1bmN0aW9uKGNbYl0ucHJvbWlzZSk/Y1tiXS5wcm9taXNlKCkuZG9uZShoKGIsayxjKSkuZmFpbChnLnJlamVjdCkucHJvZ3Jlc3MoaChiLGosaSkpOi0tZjtyZXR1cm4gZnx8Zy5yZXNvbHZlV2l0aChrLGMpLGcucHJvbWlzZSgpfX0pO3ZhciBIO24uZm4ucmVhZHk9ZnVuY3Rpb24oYSl7cmV0dXJuIG4ucmVhZHkucHJvbWlzZSgpLmRvbmUoYSksdGhpc30sbi5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGEpe2E/bi5yZWFkeVdhaXQrKzpuLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYSl7KGE9PT0hMD8tLW4ucmVhZHlXYWl0Om4uaXNSZWFkeSl8fChuLmlzUmVhZHk9ITAsYSE9PSEwJiYtLW4ucmVhZHlXYWl0PjB8fChILnJlc29sdmVXaXRoKGwsW25dKSxuLmZuLnRyaWdnZXJIYW5kbGVyJiYobihsKS50cmlnZ2VySGFuZGxlcigicmVhZHkiKSxuKGwpLm9mZigicmVhZHkiKSkpKX19KTtmdW5jdGlvbiBJKCl7bC5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixJLCExKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLEksITEpLG4ucmVhZHkoKX1uLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7cmV0dXJuIEh8fChIPW4uRGVmZXJyZWQoKSwiY29tcGxldGUiPT09bC5yZWFkeVN0YXRlP3NldFRpbWVvdXQobi5yZWFkeSk6KGwuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSSwhMSksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixJLCExKSkpLEgucHJvbWlzZShiKX0sbi5yZWFkeS5wcm9taXNlKCk7dmFyIEo9bi5hY2Nlc3M9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9MCxpPWEubGVuZ3RoLGo9bnVsbD09YztpZigib2JqZWN0Ij09PW4udHlwZShjKSl7ZT0hMDtmb3IoaCBpbiBjKW4uYWNjZXNzKGEsYixoLGNbaF0sITAsZixnKX1lbHNlIGlmKHZvaWQgMCE9PWQmJihlPSEwLG4uaXNGdW5jdGlvbihkKXx8KGc9ITApLGomJihnPyhiLmNhbGwoYSxkKSxiPW51bGwpOihqPWIsYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChuKGEpLGMpfSkpLGIpKWZvcig7aT5oO2grKyliKGFbaF0sYyxnP2Q6ZC5jYWxsKGFbaF0saCxiKGFbaF0sYykpKTtyZXR1cm4gZT9hOmo/Yi5jYWxsKGEpOmk/YihhWzBdLGMpOmZ9O24uYWNjZXB0RGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5cGV8fDk9PT1hLm5vZGVUeXBlfHwhK2Eubm9kZVR5cGV9O2Z1bmN0aW9uIEsoKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5jYWNoZT17fSwwLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57fX19KSx0aGlzLmV4cGFuZG89bi5leHBhbmRvK0sudWlkKyt9Sy51aWQ9MSxLLmFjY2VwdHM9bi5hY2NlcHREYXRhLEsucHJvdG90eXBlPXtrZXk6ZnVuY3Rpb24oYSl7aWYoIUsuYWNjZXB0cyhhKSlyZXR1cm4gMDt2YXIgYj17fSxjPWFbdGhpcy5leHBhbmRvXTtpZighYyl7Yz1LLnVpZCsrO3RyeXtiW3RoaXMuZXhwYW5kb109e3ZhbHVlOmN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGEsYil9Y2F0Y2goZCl7Ylt0aGlzLmV4cGFuZG9dPWMsbi5leHRlbmQoYSxiKX19cmV0dXJuIHRoaXMuY2FjaGVbY118fCh0aGlzLmNhY2hlW2NdPXt9KSxjfSxzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9dGhpcy5rZXkoYSksZj10aGlzLmNhY2hlW2VdO2lmKCJzdHJpbmciPT10eXBlb2YgYilmW2JdPWM7ZWxzZSBpZihuLmlzRW1wdHlPYmplY3QoZikpbi5leHRlbmQodGhpcy5jYWNoZVtlXSxiKTtlbHNlIGZvcihkIGluIGIpZltkXT1iW2RdO3JldHVybiBmfSxnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNhY2hlW3RoaXMua2V5KGEpXTtyZXR1cm4gdm9pZCAwPT09Yj9jOmNbYl19LGFjY2VzczpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIHZvaWQgMD09PWJ8fGImJiJzdHJpbmciPT10eXBlb2YgYiYmdm9pZCAwPT09Yz8oZD10aGlzLmdldChhLGIpLHZvaWQgMCE9PWQ/ZDp0aGlzLmdldChhLG4uY2FtZWxDYXNlKGIpKSk6KHRoaXMuc2V0KGEsYixjKSx2b2lkIDAhPT1jP2M6Yil9LHJlbW92ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPXRoaXMua2V5KGEpLGc9dGhpcy5jYWNoZVtmXTtpZih2b2lkIDA9PT1iKXRoaXMuY2FjaGVbZl09e307ZWxzZXtuLmlzQXJyYXkoYik/ZD1iLmNvbmNhdChiLm1hcChuLmNhbWVsQ2FzZSkpOihlPW4uY2FtZWxDYXNlKGIpLGIgaW4gZz9kPVtiLGVdOihkPWUsZD1kIGluIGc/W2RdOmQubWF0Y2goRSl8fFtdKSksYz1kLmxlbmd0aDt3aGlsZShjLS0pZGVsZXRlIGdbZFtjXV19fSxoYXNEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiFuLmlzRW1wdHlPYmplY3QodGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfHx7fSl9LGRpc2NhcmQ6ZnVuY3Rpb24oYSl7YVt0aGlzLmV4cGFuZG9dJiZkZWxldGUgdGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfX07dmFyIEw9bmV3IEssTT1uZXcgSyxOPS9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8sTz0vKFtBLVpdKS9nO2Z1bmN0aW9uIFAoYSxiLGMpe3ZhciBkO2lmKHZvaWQgMD09PWMmJjE9PT1hLm5vZGVUeXBlKWlmKGQ9ImRhdGEtIitiLnJlcGxhY2UoTywiLSQxIikudG9Mb3dlckNhc2UoKSxjPWEuZ2V0QXR0cmlidXRlKGQpLCJzdHJpbmciPT10eXBlb2YgYyl7dHJ5e2M9InRydWUiPT09Yz8hMDoiZmFsc2UiPT09Yz8hMToibnVsbCI9PT1jP251bGw6K2MrIiI9PT1jPytjOk4udGVzdChjKT9uLnBhcnNlSlNPTihjKTpjfWNhdGNoKGUpe31NLnNldChhLGIsYyl9ZWxzZSBjPXZvaWQgMDtyZXR1cm4gY31uLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gTS5oYXNEYXRhKGEpfHxMLmhhc0RhdGEoYSl9LGRhdGE6ZnVuY3Rpb24oYSxiLGMpewpyZXR1cm4gTS5hY2Nlc3MoYSxiLGMpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7TS5yZW1vdmUoYSxiKX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBMLmFjY2VzcyhhLGIsYyl9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7TC5yZW1vdmUoYSxiKX19KSxuLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPXRoaXNbMF0sZz1mJiZmLmF0dHJpYnV0ZXM7aWYodm9pZCAwPT09YSl7aWYodGhpcy5sZW5ndGgmJihlPU0uZ2V0KGYpLDE9PT1mLm5vZGVUeXBlJiYhTC5nZXQoZiwiaGFzRGF0YUF0dHJzIikpKXtjPWcubGVuZ3RoO3doaWxlKGMtLSlnW2NdJiYoZD1nW2NdLm5hbWUsMD09PWQuaW5kZXhPZigiZGF0YS0iKSYmKGQ9bi5jYW1lbENhc2UoZC5zbGljZSg1KSksUChmLGQsZVtkXSkpKTtMLnNldChmLCJoYXNEYXRhQXR0cnMiLCEwKX1yZXR1cm4gZX1yZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGE/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7TS5zZXQodGhpcyxhKX0pOkoodGhpcyxmdW5jdGlvbihiKXt2YXIgYyxkPW4uY2FtZWxDYXNlKGEpO2lmKGYmJnZvaWQgMD09PWIpe2lmKGM9TS5nZXQoZixhKSx2b2lkIDAhPT1jKXJldHVybiBjO2lmKGM9TS5nZXQoZixkKSx2b2lkIDAhPT1jKXJldHVybiBjO2lmKGM9UChmLGQsdm9pZCAwKSx2b2lkIDAhPT1jKXJldHVybiBjfWVsc2UgdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9TS5nZXQodGhpcyxkKTtNLnNldCh0aGlzLGQsYiksLTEhPT1hLmluZGV4T2YoIi0iKSYmdm9pZCAwIT09YyYmTS5zZXQodGhpcyxhLGIpfSl9LG51bGwsYixhcmd1bWVudHMubGVuZ3RoPjEsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe00ucmVtb3ZlKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBhPyhiPShifHwiZngiKSsicXVldWUiLGQ9TC5nZXQoYSxiKSxjJiYoIWR8fG4uaXNBcnJheShjKT9kPUwuYWNjZXNzKGEsYixuLm1ha2VBcnJheShjKSk6ZC5wdXNoKGMpKSxkfHxbXSk6dm9pZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHwiZngiO3ZhciBjPW4ucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9bi5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXtuLmRlcXVldWUoYSxiKX07ImlucHJvZ3Jlc3MiPT09ZSYmKGU9Yy5zaGlmdCgpLGQtLSksZSYmKCJmeCI9PT1iJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iKyJxdWV1ZUhvb2tzIjtyZXR1cm4gTC5nZXQoYSxjKXx8TC5hY2Nlc3MoYSxjLHtlbXB0eTpuLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXtMLnJlbW92ZShhLFtiKyJxdWV1ZSIsY10pfSl9KX19KSxuLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPSJmeCIsYy0tKSxhcmd1bWVudHMubGVuZ3RoPGM/bi5xdWV1ZSh0aGlzWzBdLGEpOnZvaWQgMD09PWI/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1uLnF1ZXVlKHRoaXMsYSxiKTtuLl9xdWV1ZUhvb2tzKHRoaXMsYSksImZ4Ij09PWEmJiJpbnByb2dyZXNzIiE9PWNbMF0mJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24uZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTEsZT1uLkRlZmVycmVkKCksZj10aGlzLGc9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZHx8ZS5yZXNvbHZlV2l0aChmLFtmXSl9OyJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHwiZngiO3doaWxlKGctLSljPUwuZ2V0KGZbZ10sYSsicXVldWVIb29rcyIpLGMmJmMuZW1wdHkmJihkKyssYy5lbXB0eS5hZGQoaCkpO3JldHVybiBoKCksZS5wcm9taXNlKGIpfX0pO3ZhciBRPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLFI9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxTPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Ynx8YSwibm9uZSI9PT1uLmNzcyhhLCJkaXNwbGF5Iil8fCFuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKX0sVD0vXig/OmNoZWNrYm94fHJhZGlvKSQvaTshZnVuY3Rpb24oKXt2YXIgYT1sLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxiPWEuYXBwZW5kQ2hpbGQobC5jcmVhdGVFbGVtZW50KCJkaXYiKSksYz1sLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Yy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGMuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLGMuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGIuYXBwZW5kQ2hpbGQoYyksay5jaGVja0Nsb25lPWIuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGIuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixrLm5vQ2xvbmVDaGVja2VkPSEhYi5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWV9KCk7dmFyIFU9InVuZGVmaW5lZCI7ay5mb2N1c2luQnViYmxlcz0ib25mb2N1c2luImluIGE7dmFyIFY9L15rZXkvLFc9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51KXxjbGljay8sWD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sWT0vXihbXi5dKikoPzpcLiguKyl8KSQvO2Z1bmN0aW9uIFooKXtyZXR1cm4hMH1mdW5jdGlvbiAkKCl7cmV0dXJuITF9ZnVuY3Rpb24gXygpe3RyeXtyZXR1cm4gbC5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319bi5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbyxwLHEscj1MLmdldChhKTtpZihyKXtjLmhhbmRsZXImJihmPWMsYz1mLmhhbmRsZXIsZT1mLnNlbGVjdG9yKSxjLmd1aWR8fChjLmd1aWQ9bi5ndWlkKyspLChpPXIuZXZlbnRzKXx8KGk9ci5ldmVudHM9e30pLChnPXIuaGFuZGxlKXx8KGc9ci5oYW5kbGU9ZnVuY3Rpb24oYil7cmV0dXJuIHR5cGVvZiBuIT09VSYmbi5ldmVudC50cmlnZ2VyZWQhPT1iLnR5cGU/bi5ldmVudC5kaXNwYXRjaC5hcHBseShhLGFyZ3VtZW50cyk6dm9pZCAwfSksYj0oYnx8IiIpLm1hdGNoKEUpfHxbIiJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWg9WS5leGVjKGJbal0pfHxbXSxvPXE9aFsxXSxwPShoWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyYmKGw9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxvLGw9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxrPW4uZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6cSxkYXRhOmQsaGFuZGxlcjpjLGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJm4uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6cC5qb2luKCIuIil9LGYpLChtPWlbb10pfHwobT1pW29dPVtdLG0uZGVsZWdhdGVDb3VudD0wLGwuc2V0dXAmJmwuc2V0dXAuY2FsbChhLGQscCxnKSE9PSExfHxhLmFkZEV2ZW50TGlzdGVuZXImJmEuYWRkRXZlbnRMaXN0ZW5lcihvLGcsITEpKSxsLmFkZCYmKGwuYWRkLmNhbGwoYSxrKSxrLmhhbmRsZXIuZ3VpZHx8KGsuaGFuZGxlci5ndWlkPWMuZ3VpZCkpLGU/bS5zcGxpY2UobS5kZWxlZ2F0ZUNvdW50KyssMCxrKTptLnB1c2goayksbi5ldmVudC5nbG9iYWxbb109ITApfX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPUwuaGFzRGF0YShhKSYmTC5nZXQoYSk7aWYociYmKGk9ci5ldmVudHMpKXtiPShifHwiIikubWF0Y2goRSl8fFsiIl0saj1iLmxlbmd0aDt3aGlsZShqLS0paWYoaD1ZLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxvKXtsPW4uZXZlbnQuc3BlY2lhbFtvXXx8e30sbz0oZD9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8byxtPWlbb118fFtdLGg9aFsyXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIrcC5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKSxnPWY9bS5sZW5ndGg7d2hpbGUoZi0tKWs9bVtmXSwhZSYmcSE9PWsub3JpZ1R5cGV8fGMmJmMuZ3VpZCE9PWsuZ3VpZHx8aCYmIWgudGVzdChrLm5hbWVzcGFjZSl8fGQmJmQhPT1rLnNlbGVjdG9yJiYoIioqIiE9PWR8fCFrLnNlbGVjdG9yKXx8KG0uc3BsaWNlKGYsMSksay5zZWxlY3RvciYmbS5kZWxlZ2F0ZUNvdW50LS0sbC5yZW1vdmUmJmwucmVtb3ZlLmNhbGwoYSxrKSk7ZyYmIW0ubGVuZ3RoJiYobC50ZWFyZG93biYmbC50ZWFyZG93bi5jYWxsKGEscCxyLmhhbmRsZSkhPT0hMXx8bi5yZW1vdmVFdmVudChhLG8sci5oYW5kbGUpLGRlbGV0ZSBpW29dKX1lbHNlIGZvcihvIGluIGkpbi5ldmVudC5yZW1vdmUoYSxvK2Jbal0sYyxkLCEwKTtuLmlzRW1wdHlPYmplY3QoaSkmJihkZWxldGUgci5oYW5kbGUsTC5yZW1vdmUoYSwiZXZlbnRzIikpfX0sdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCxlKXt2YXIgZixnLGgsaSxrLG0sbyxwPVtkfHxsXSxxPWouY2FsbChiLCJ0eXBlIik/Yi50eXBlOmIscj1qLmNhbGwoYiwibmFtZXNwYWNlIik/Yi5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihnPWg9ZD1kfHxsLDMhPT1kLm5vZGVUeXBlJiY4IT09ZC5ub2RlVHlwZSYmIVgudGVzdChxK24uZXZlbnQudHJpZ2dlcmVkKSYmKHEuaW5kZXhPZigiLiIpPj0wJiYocj1xLnNwbGl0KCIuIikscT1yLnNoaWZ0KCksci5zb3J0KCkpLGs9cS5pbmRleE9mKCI6Iik8MCYmIm9uIitxLGI9YltuLmV4cGFuZG9dP2I6bmV3IG4uRXZlbnQocSwib2JqZWN0Ij09dHlwZW9mIGImJmIpLGIuaXNUcmlnZ2VyPWU/MjozLGIubmFtZXNwYWNlPXIuam9pbigiLiIpLGIubmFtZXNwYWNlX3JlPWIubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK3Iuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxiLnJlc3VsdD12b2lkIDAsYi50YXJnZXR8fChiLnRhcmdldD1kKSxjPW51bGw9PWM/W2JdOm4ubWFrZUFycmF5KGMsW2JdKSxvPW4uZXZlbnQuc3BlY2lhbFtxXXx8e30sZXx8IW8udHJpZ2dlcnx8by50cmlnZ2VyLmFwcGx5KGQsYykhPT0hMSkpe2lmKCFlJiYhby5ub0J1YmJsZSYmIW4uaXNXaW5kb3coZCkpe2ZvcihpPW8uZGVsZWdhdGVUeXBlfHxxLFgudGVzdChpK3EpfHwoZz1nLnBhcmVudE5vZGUpO2c7Zz1nLnBhcmVudE5vZGUpcC5wdXNoKGcpLGg9ZztoPT09KGQub3duZXJEb2N1bWVudHx8bCkmJnAucHVzaChoLmRlZmF1bHRWaWV3fHxoLnBhcmVudFdpbmRvd3x8YSl9Zj0wO3doaWxlKChnPXBbZisrXSkmJiFiLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpYi50eXBlPWY+MT9pOm8uYmluZFR5cGV8fHEsbT0oTC5nZXQoZywiZXZlbnRzIil8fHt9KVtiLnR5cGVdJiZMLmdldChnLCJoYW5kbGUiKSxtJiZtLmFwcGx5KGcsYyksbT1rJiZnW2tdLG0mJm0uYXBwbHkmJm4uYWNjZXB0RGF0YShnKSYmKGIucmVzdWx0PW0uYXBwbHkoZyxjKSxiLnJlc3VsdD09PSExJiZiLnByZXZlbnREZWZhdWx0KCkpO3JldHVybiBiLnR5cGU9cSxlfHxiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxvLl9kZWZhdWx0JiZvLl9kZWZhdWx0LmFwcGx5KHAucG9wKCksYykhPT0hMXx8IW4uYWNjZXB0RGF0YShkKXx8ayYmbi5pc0Z1bmN0aW9uKGRbcV0pJiYhbi5pc1dpbmRvdyhkKSYmKGg9ZFtrXSxoJiYoZFtrXT1udWxsKSxuLmV2ZW50LnRyaWdnZXJlZD1xLGRbcV0oKSxuLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsaCYmKGRba109aCkpLGIucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YT1uLmV2ZW50LmZpeChhKTt2YXIgYixjLGUsZixnLGg9W10saT1kLmNhbGwoYXJndW1lbnRzKSxqPShMLmdldCh0aGlzLCJldmVudHMiKXx8e30pW2EudHlwZV18fFtdLGs9bi5ldmVudC5zcGVjaWFsW2EudHlwZV18fHt9O2lmKGlbMF09YSxhLmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWsucHJlRGlzcGF0Y2h8fGsucHJlRGlzcGF0Y2guY2FsbCh0aGlzLGEpIT09ITEpe2g9bi5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsYSxqKSxiPTA7d2hpbGUoKGY9aFtiKytdKSYmIWEuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7YS5jdXJyZW50VGFyZ2V0PWYuZWxlbSxjPTA7d2hpbGUoKGc9Zi5oYW5kbGVyc1tjKytdKSYmIWEuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkoIWEubmFtZXNwYWNlX3JlfHxhLm5hbWVzcGFjZV9yZS50ZXN0KGcubmFtZXNwYWNlKSkmJihhLmhhbmRsZU9iaj1nLGEuZGF0YT1nLmRhdGEsZT0oKG4uZXZlbnQuc3BlY2lhbFtnLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8Zy5oYW5kbGVyKS5hcHBseShmLmVsZW0saSksdm9pZCAwIT09ZSYmKGEucmVzdWx0PWUpPT09ITEmJihhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBrLnBvc3REaXNwYXRjaCYmay5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLGEpLGEucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnPVtdLGg9Yi5kZWxlZ2F0ZUNvdW50LGk9YS50YXJnZXQ7aWYoaCYmaS5ub2RlVHlwZSYmKCFhLmJ1dHRvbnx8ImNsaWNrIiE9PWEudHlwZSkpZm9yKDtpIT09dGhpcztpPWkucGFyZW50Tm9kZXx8dGhpcylpZihpLmRpc2FibGVkIT09ITB8fCJjbGljayIhPT1hLnR5cGUpe2ZvcihkPVtdLGM9MDtoPmM7YysrKWY9YltjXSxlPWYuc2VsZWN0b3IrIiAiLHZvaWQgMD09PWRbZV0mJihkW2VdPWYubmVlZHNDb250ZXh0P24oZSx0aGlzKS5pbmRleChpKT49MDpuLmZpbmQoZSx0aGlzLG51bGwsW2ldKS5sZW5ndGgpLGRbZV0mJmQucHVzaChmKTtkLmxlbmd0aCYmZy5wdXNoKHtlbGVtOmksaGFuZGxlcnM6ZH0pfXJldHVybiBoPGIubGVuZ3RoJiZnLnB1c2goe2VsZW06dGhpcyxoYW5kbGVyczpiLnNsaWNlKGgpfSksZ30scHJvcHM6ImFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFyZ2V0IGV2ZW50UGhhc2UgbWV0YUtleSByZWxhdGVkVGFyZ2V0IHNoaWZ0S2V5IHRhcmdldCB0aW1lU3RhbXAgdmlldyB3aGljaCIuc3BsaXQoIiAiKSxmaXhIb29rczp7fSxrZXlIb29rczp7cHJvcHM6ImNoYXIgY2hhckNvZGUga2V5IGtleUNvZGUiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWEud2hpY2gmJihhLndoaWNoPW51bGwhPWIuY2hhckNvZGU/Yi5jaGFyQ29kZTpiLmtleUNvZGUpLGF9fSxtb3VzZUhvb2tzOntwcm9wczoiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50Ii5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPWIuYnV0dG9uO3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihjPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGwsZD1jLmRvY3VtZW50RWxlbWVudCxlPWMuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZCYmZC5zY3JvbGxMZWZ0fHxlJiZlLnNjcm9sbExlZnR8fDApLShkJiZkLmNsaWVudExlZnR8fGUmJmUuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGQmJmQuc2Nyb2xsVG9wfHxlJiZlLnNjcm9sbFRvcHx8MCktKGQmJmQuY2xpZW50VG9wfHxlJiZlLmNsaWVudFRvcHx8MCkpLGEud2hpY2h8fHZvaWQgMD09PWZ8fChhLndoaWNoPTEmZj8xOjImZj8zOjQmZj8yOjApLGF9fSxmaXg6ZnVuY3Rpb24oYSl7aWYoYVtuLmV4cGFuZG9dKXJldHVybiBhO3ZhciBiLGMsZCxlPWEudHlwZSxmPWEsZz10aGlzLmZpeEhvb2tzW2VdO2d8fCh0aGlzLmZpeEhvb2tzW2VdPWc9Vy50ZXN0KGUpP3RoaXMubW91c2VIb29rczpWLnRlc3QoZSk/dGhpcy5rZXlIb29rczp7fSksZD1nLnByb3BzP3RoaXMucHJvcHMuY29uY2F0KGcucHJvcHMpOnRoaXMucHJvcHMsYT1uZXcgbi5FdmVudChmKSxiPWQubGVuZ3RoO3doaWxlKGItLSljPWRbYl0sYVtjXT1mW2NdO3JldHVybiBhLnRhcmdldHx8KGEudGFyZ2V0PWwpLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGcuZmlsdGVyP2cuZmlsdGVyKGEsZik6YX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMhPT1fKCkmJnRoaXMuZm9jdXM/KHRoaXMuZm9jdXMoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1fKCkmJnRoaXMuYmx1cj8odGhpcy5ibHVyKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOiJmb2N1c291dCJ9LGNsaWNrOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuImNoZWNrYm94Ij09PXRoaXMudHlwZSYmdGhpcy5jbGljayYmbi5ub2RlTmFtZSh0aGlzLCJpbnB1dCIpPyh0aGlzLmNsaWNrKCksITEpOnZvaWQgMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ubm9kZU5hbWUoYS50YXJnZXQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEucmVzdWx0JiZhLm9yaWdpbmFsRXZlbnQmJihhLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9YS5yZXN1bHQpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW4uZXh0ZW5kKG5ldyBuLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7ZD9uLmV2ZW50LnRyaWdnZXIoZSxudWxsLGIpOm4uZXZlbnQuZGlzcGF0Y2guY2FsbChiLGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmMucHJldmVudERlZmF1bHQoKX19LG4ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9LG4uRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG4uRXZlbnQ/KGEmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWEuZGVmYXVsdFByZXZlbnRlZCYmYS5yZXR1cm5WYWx1ZT09PSExP1o6JCk6dGhpcy50eXBlPWEsYiYmbi5leHRlbmQodGhpcyxiKSx0aGlzLnRpbWVTdGFtcD1hJiZhLnRpbWVTdGFtcHx8bi5ub3coKSx2b2lkKHRoaXNbbi5leHBhbmRvXT0hMCkpOm5ldyBuLkV2ZW50KGEsYil9LG4uRXZlbnQucHJvdG90eXBlPXtpc0RlZmF1bHRQcmV2ZW50ZWQ6JCxpc1Byb3BhZ2F0aW9uU3RvcHBlZDokLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiQscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9WixhJiZhLnByZXZlbnREZWZhdWx0JiZhLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPVosYSYmYS5zdG9wUHJvcGFnYXRpb24mJmEuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPVosYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG4uZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oYSxiKXtuLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybighZXx8ZSE9PWQmJiFuLmNvbnRhaW5zKGQsZSkpJiYoYS50eXBlPWYub3JpZ1R5cGUsYz1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHlwZT1iKSxjfX19KSxrLmZvY3VzaW5CdWJibGVzfHxuLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSl7bi5ldmVudC5zaW11bGF0ZShiLGEudGFyZ2V0LG4uZXZlbnQuZml4KGEpLCEwKX07bi5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPUwuYWNjZXNzKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksTC5hY2Nlc3MoZCxiLChlfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1MLmFjY2VzcyhkLGIpLTE7ZT9MLmFjY2VzcyhkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLEwucmVtb3ZlKGQsYikpfX19KSxuLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7InN0cmluZyIhPXR5cGVvZiBiJiYoYz1jfHxiLGI9dm9pZCAwKTtmb3IoZyBpbiBhKXRoaXMub24oZyxiLGMsYVtnXSxlKTtyZXR1cm4gdGhpc31pZihudWxsPT1jJiZudWxsPT1kPyhkPWIsYz1iPXZvaWQgMCk6bnVsbD09ZCYmKCJzdHJpbmciPT10eXBlb2YgYj8oZD1jLGM9dm9pZCAwKTooZD1jLGM9YixiPXZvaWQgMCkpLGQ9PT0hMSlkPSQ7ZWxzZSBpZighZClyZXR1cm4gdGhpcztyZXR1cm4gMT09PWUmJihmPWQsZD1mdW5jdGlvbihhKXtyZXR1cm4gbigpLm9mZihhKSxmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZC5ndWlkPWYuZ3VpZHx8KGYuZ3VpZD1uLmd1aWQrKykpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQuYWRkKHRoaXMsYSxkLGMsYil9KX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixuKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGI9PT0hMXx8ImZ1bmN0aW9uIj09dHlwZW9mIGIpJiYoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPSQpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/bi5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSk7dmFyIGFhPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vZ2ksYmE9LzwoW1x3Ol0rKS8sY2E9Lzx8JiM/XHcrOy8sZGE9LzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSxlYT0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxmYT0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksZ2E9L150cnVlXC8oLiopLyxoYT0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpcXVxdfC0tKT5ccyokL2csaWE9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtpYS5vcHRncm91cD1pYS5vcHRpb24saWEudGJvZHk9aWEudGZvb3Q9aWEuY29sZ3JvdXA9aWEuY2FwdGlvbj1pYS50aGVhZCxpYS50aD1pYS50ZDtmdW5jdGlvbiBqYShhLGIpe3JldHVybiBuLm5vZGVOYW1lKGEsInRhYmxlIikmJm4ubm9kZU5hbWUoMTEhPT1iLm5vZGVUeXBlP2I6Yi5maXJzdENoaWxkLCJ0ciIpP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IilbMF18fGEuYXBwZW5kQ2hpbGQoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IikpOmF9ZnVuY3Rpb24ga2EoYSl7cmV0dXJuIGEudHlwZT0obnVsbCE9PWEuZ2V0QXR0cmlidXRlKCJ0eXBlIikpKyIvIithLnR5cGUsYX1mdW5jdGlvbiBsYShhKXt2YXIgYj1nYS5leGVjKGEudHlwZSk7cmV0dXJuIGI/YS50eXBlPWJbMV06YS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxhfWZ1bmN0aW9uIG1hKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKUwuc2V0KGFbY10sImdsb2JhbEV2YWwiLCFifHxMLmdldChiW2NdLCJnbG9iYWxFdmFsIikpfWZ1bmN0aW9uIG5hKGEsYil7dmFyIGMsZCxlLGYsZyxoLGksajtpZigxPT09Yi5ub2RlVHlwZSl7aWYoTC5oYXNEYXRhKGEpJiYoZj1MLmFjY2VzcyhhKSxnPUwuc2V0KGIsZiksaj1mLmV2ZW50cykpe2RlbGV0ZSBnLmhhbmRsZSxnLmV2ZW50cz17fTtmb3IoZSBpbiBqKWZvcihjPTAsZD1qW2VdLmxlbmd0aDtkPmM7YysrKW4uZXZlbnQuYWRkKGIsZSxqW2VdW2NdKX1NLmhhc0RhdGEoYSkmJihoPU0uYWNjZXNzKGEpLGk9bi5leHRlbmQoe30saCksTS5zZXQoYixpKSl9fWZ1bmN0aW9uIG9hKGEsYil7dmFyIGM9YS5nZXRFbGVtZW50c0J5VGFnTmFtZT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGJ8fCIqIik6YS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOltdO3JldHVybiB2b2lkIDA9PT1ifHxiJiZuLm5vZGVOYW1lKGEsYik/bi5tZXJnZShbYV0sYyk6Y31mdW5jdGlvbiBwYShhLGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsiaW5wdXQiPT09YyYmVC50ZXN0KGEudHlwZSk/Yi5jaGVja2VkPWEuY2hlY2tlZDooImlucHV0Ij09PWN8fCJ0ZXh0YXJlYSI9PT1jKSYmKGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX1uLmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jbG9uZU5vZGUoITApLGk9bi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSk7aWYoIShrLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxuLmlzWE1MRG9jKGEpKSlmb3IoZz1vYShoKSxmPW9hKGEpLGQ9MCxlPWYubGVuZ3RoO2U+ZDtkKyspcGEoZltkXSxnW2RdKTtpZihiKWlmKGMpZm9yKGY9Znx8b2EoYSksZz1nfHxvYShoKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKW5hKGZbZF0sZ1tkXSk7ZWxzZSBuYShhLGgpO3JldHVybiBnPW9hKGgsInNjcmlwdCIpLGcubGVuZ3RoPjAmJm1hKGcsIWkmJm9hKGEsInNjcmlwdCIpKSxofSxidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZSxmLGcsaCxpLGosaz1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxsPVtdLG09MCxvPWEubGVuZ3RoO28+bTttKyspaWYoZT1hW21dLGV8fDA9PT1lKWlmKCJvYmplY3QiPT09bi50eXBlKGUpKW4ubWVyZ2UobCxlLm5vZGVUeXBlP1tlXTplKTtlbHNlIGlmKGNhLnRlc3QoZSkpe2Y9Znx8ay5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxnPShiYS5leGVjKGUpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLGg9aWFbZ118fGlhLl9kZWZhdWx0LGYuaW5uZXJIVE1MPWhbMV0rZS5yZXBsYWNlKGFhLCI8JDE+PC8kMj4iKStoWzJdLGo9aFswXTt3aGlsZShqLS0pZj1mLmxhc3RDaGlsZDtuLm1lcmdlKGwsZi5jaGlsZE5vZGVzKSxmPWsuZmlyc3RDaGlsZCxmLnRleHRDb250ZW50PSIifWVsc2UgbC5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoZSkpO2sudGV4dENvbnRlbnQ9IiIsbT0wO3doaWxlKGU9bFttKytdKWlmKCghZHx8LTE9PT1uLmluQXJyYXkoZSxkKSkmJihpPW4uY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpLGY9b2Eoay5hcHBlbmRDaGlsZChlKSwic2NyaXB0IiksaSYmbWEoZiksYykpe2o9MDt3aGlsZShlPWZbaisrXSlmYS50ZXN0KGUudHlwZXx8IiIpJiZjLnB1c2goZSl9cmV0dXJuIGt9LGNsZWFuRGF0YTpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkLGUsZj1uLmV2ZW50LnNwZWNpYWwsZz0wO3ZvaWQgMCE9PShjPWFbZ10pO2crKyl7aWYobi5hY2NlcHREYXRhKGMpJiYoZT1jW0wuZXhwYW5kb10sZSYmKGI9TC5jYWNoZVtlXSkpKXtpZihiLmV2ZW50cylmb3IoZCBpbiBiLmV2ZW50cylmW2RdP24uZXZlbnQucmVtb3ZlKGMsZCk6bi5yZW1vdmVFdmVudChjLGQsYi5oYW5kbGUpO0wuY2FjaGVbZV0mJmRlbGV0ZSBMLmNhY2hlW2VdfWRlbGV0ZSBNLmNhY2hlW2NbTS5leHBhbmRvXV19fX0pLG4uZm4uZXh0ZW5kKHt0ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWE/bi50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7KDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKSYmKHRoaXMudGV4dENvbnRlbnQ9YSl9KX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPWphKHRoaXMsYSk7Yi5hcHBlbmRDaGlsZChhKX19KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9amEodGhpcyxhKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzLm5leHRTaWJsaW5nKX0pfSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD1hP24uZmlsdGVyKGEsdGhpcyk6dGhpcyxlPTA7bnVsbCE9KGM9ZFtlXSk7ZSsrKWJ8fDEhPT1jLm5vZGVUeXBlfHxuLmNsZWFuRGF0YShvYShjKSksYy5wYXJlbnROb2RlJiYoYiYmbi5jb250YWlucyhjLm93bmVyRG9jdW1lbnQsYykmJm1hKG9hKGMsInNjcmlwdCIpKSxjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYykpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiPTA7bnVsbCE9KGE9dGhpc1tiXSk7YisrKTE9PT1hLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEob2EoYSwhMSkpLGEudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhLGIpe3JldHVybiBhPW51bGw9PWE/ITE6YSxiPW51bGw9PWI/YTpiLHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIG4uY2xvbmUodGhpcyxhLGIpfSl9LGh0bWw6ZnVuY3Rpb24oYSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihhKXt2YXIgYj10aGlzWzBdfHx7fSxjPTAsZD10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1hJiYxPT09Yi5ub2RlVHlwZSlyZXR1cm4gYi5pbm5lckhUTUw7aWYoInN0cmluZyI9PXR5cGVvZiBhJiYhZGEudGVzdChhKSYmIWlhWyhiYS5leGVjKGEpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7YT1hLnJlcGxhY2UoYWEsIjwkMT48LyQyPiIpO3RyeXtmb3IoO2Q+YztjKyspYj10aGlzW2NdfHx7fSwxPT09Yi5ub2RlVHlwZSYmKG4uY2xlYW5EYXRhKG9hKGIsITEpKSxiLmlubmVySFRNTD1hKTtiPTB9Y2F0Y2goZSl7fX1iJiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGEpfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihiKXthPXRoaXMucGFyZW50Tm9kZSxuLmNsZWFuRGF0YShvYSh0aGlzKSksYSYmYS5yZXBsYWNlQ2hpbGQoYix0aGlzKX0pLGEmJihhLmxlbmd0aHx8YS5ub2RlVHlwZSk/dGhpczp0aGlzLnJlbW92ZSgpfSxkZXRhY2g6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmVtb3ZlKGEsITApfSxkb21NYW5pcDpmdW5jdGlvbihhLGIpe2E9ZS5hcHBseShbXSxhKTt2YXIgYyxkLGYsZyxoLGksaj0wLGw9dGhpcy5sZW5ndGgsbT10aGlzLG89bC0xLHA9YVswXSxxPW4uaXNGdW5jdGlvbihwKTtpZihxfHxsPjEmJiJzdHJpbmciPT10eXBlb2YgcCYmIWsuY2hlY2tDbG9uZSYmZWEudGVzdChwKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPW0uZXEoYyk7cSYmKGFbMF09cC5jYWxsKHRoaXMsYyxkLmh0bWwoKSkpLGQuZG9tTWFuaXAoYSxiKX0pO2lmKGwmJihjPW4uYnVpbGRGcmFnbWVudChhLHRoaXNbMF0ub3duZXJEb2N1bWVudCwhMSx0aGlzKSxkPWMuZmlyc3RDaGlsZCwxPT09Yy5jaGlsZE5vZGVzLmxlbmd0aCYmKGM9ZCksZCkpe2ZvcihmPW4ubWFwKG9hKGMsInNjcmlwdCIpLGthKSxnPWYubGVuZ3RoO2w+ajtqKyspaD1jLGohPT1vJiYoaD1uLmNsb25lKGgsITAsITApLGcmJm4ubWVyZ2UoZixvYShoLCJzY3JpcHQiKSkpLGIuY2FsbCh0aGlzW2pdLGgsaik7aWYoZylmb3IoaT1mW2YubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsbi5tYXAoZixsYSksaj0wO2c+ajtqKyspaD1mW2pdLGZhLnRlc3QoaC50eXBlfHwiIikmJiFMLmFjY2VzcyhoLCJnbG9iYWxFdmFsIikmJm4uY29udGFpbnMoaSxoKSYmKGguc3JjP24uX2V2YWxVcmwmJm4uX2V2YWxVcmwoaC5zcmMpOm4uZ2xvYmFsRXZhbChoLnRleHRDb250ZW50LnJlcGxhY2UoaGEsIiIpKSl9cmV0dXJuIHRoaXN9fSksbi5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkPVtdLGU9bihhKSxnPWUubGVuZ3RoLTEsaD0wO2c+PWg7aCsrKWM9aD09PWc/dGhpczp0aGlzLmNsb25lKCEwKSxuKGVbaF0pW2JdKGMpLGYuYXBwbHkoZCxjLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZCl9fSk7dmFyIHFhLHJhPXt9O2Z1bmN0aW9uIHNhKGIsYyl7dmFyIGQsZT1uKGMuY3JlYXRlRWxlbWVudChiKSkuYXBwZW5kVG8oYy5ib2R5KSxmPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUmJihkPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoZVswXSkpP2QuZGlzcGxheTpuLmNzcyhlWzBdLCJkaXNwbGF5Iik7cmV0dXJuIGUuZGV0YWNoKCksZn1mdW5jdGlvbiB0YShhKXt2YXIgYj1sLGM9cmFbYV07cmV0dXJuIGN8fChjPXNhKGEsYiksIm5vbmUiIT09YyYmY3x8KHFhPShxYXx8bigiPGlmcmFtZSBmcmFtZWJvcmRlcj0nMCcgd2lkdGg9JzAnIGhlaWdodD0nMCcvPiIpKS5hcHBlbmRUbyhiLmRvY3VtZW50RWxlbWVudCksYj1xYVswXS5jb250ZW50RG9jdW1lbnQsYi53cml0ZSgpLGIuY2xvc2UoKSxjPXNhKGEsYikscWEuZGV0YWNoKCkpLHJhW2FdPWMpLGN9dmFyIHVhPS9ebWFyZ2luLyx2YT1uZXcgUmVnRXhwKCJeKCIrUSsiKSg/IXB4KVthLXolXSskIiwiaSIpLHdhPWZ1bmN0aW9uKGIpe3JldHVybiBiLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcub3BlbmVyP2Iub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCk6YS5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCl9O2Z1bmN0aW9uIHhhKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8d2EoYSksYyYmKGc9Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdKSxjJiYoIiIhPT1nfHxuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9bi5zdHlsZShhLGIpKSx2YS50ZXN0KGcpJiZ1YS50ZXN0KGIpJiYoZD1oLndpZHRoLGU9aC5taW5XaWR0aCxmPWgubWF4V2lkdGgsaC5taW5XaWR0aD1oLm1heFdpZHRoPWgud2lkdGg9ZyxnPWMud2lkdGgsaC53aWR0aD1kLGgubWluV2lkdGg9ZSxoLm1heFdpZHRoPWYpKSx2b2lkIDAhPT1nP2crIiI6Z31mdW5jdGlvbiB5YShhLGIpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYSgpP3ZvaWQgZGVsZXRlIHRoaXMuZ2V0Oih0aGlzLmdldD1iKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0hZnVuY3Rpb24oKXt2YXIgYixjLGQ9bC5kb2N1bWVudEVsZW1lbnQsZT1sLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGY9bC5jcmVhdGVFbGVtZW50KCJkaXYiKTtpZihmLnN0eWxlKXtmLnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsZi5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGsuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1mLnN0eWxlLmJhY2tncm91bmRDbGlwLGUuc3R5bGUuY3NzVGV4dD0iYm9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7bWFyZ2luLXRvcDoxcHg7cG9zaXRpb246YWJzb2x1dGUiLGUuYXBwZW5kQ2hpbGQoZik7ZnVuY3Rpb24gZygpe2Yuc3R5bGUuY3NzVGV4dD0iLXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luLXRvcDoxJTt0b3A6MSU7Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt3aWR0aDo0cHg7cG9zaXRpb246YWJzb2x1dGUiLGYuaW5uZXJIVE1MPSIiLGQuYXBwZW5kQ2hpbGQoZSk7dmFyIGc9YS5nZXRDb21wdXRlZFN0eWxlKGYsbnVsbCk7Yj0iMSUiIT09Zy50b3AsYz0iNHB4Ij09PWcud2lkdGgsZC5yZW1vdmVDaGlsZChlKX1hLmdldENvbXB1dGVkU3R5bGUmJm4uZXh0ZW5kKGsse3BpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZygpLGJ9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWMmJmcoKSxjfSxyZWxpYWJsZU1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7dmFyIGIsYz1mLmFwcGVuZENoaWxkKGwuY3JlYXRlRWxlbWVudCgiZGl2IikpO3JldHVybiBjLnN0eWxlLmNzc1RleHQ9Zi5zdHlsZS5jc3NUZXh0PSItd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7LW1vei1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3g7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjAiLGMuc3R5bGUubWFyZ2luUmlnaHQ9Yy5zdHlsZS53aWR0aD0iMCIsZi5zdHlsZS53aWR0aD0iMXB4IixkLmFwcGVuZENoaWxkKGUpLGI9IXBhcnNlRmxvYXQoYS5nZXRDb21wdXRlZFN0eWxlKGMsbnVsbCkubWFyZ2luUmlnaHQpLGQucmVtb3ZlQ2hpbGQoZSksZi5yZW1vdmVDaGlsZChjKSxifX0pfX0oKSxuLnN3YXA9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnPXt9O2ZvcihmIGluIGIpZ1tmXT1hLnN0eWxlW2ZdLGEuc3R5bGVbZl09YltmXTtlPWMuYXBwbHkoYSxkfHxbXSk7Zm9yKGYgaW4gYilhLnN0eWxlW2ZdPWdbZl07cmV0dXJuIGV9O3ZhciB6YT0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sQWE9bmV3IFJlZ0V4cCgiXigiK1ErIikoLiopJCIsImkiKSxCYT1uZXcgUmVnRXhwKCJeKFsrLV0pPSgiK1ErIikiLCJpIiksQ2E9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdmlzaWJpbGl0eToiaGlkZGVuIixkaXNwbGF5OiJibG9jayJ9LERhPXtsZXR0ZXJTcGFjaW5nOiIwIixmb250V2VpZ2h0OiI0MDAifSxFYT1bIldlYmtpdCIsIk8iLCJNb3oiLCJtcyJdO2Z1bmN0aW9uIEZhKGEsYil7aWYoYiBpbiBhKXJldHVybiBiO3ZhciBjPWJbMF0udG9VcHBlckNhc2UoKStiLnNsaWNlKDEpLGQ9YixlPUVhLmxlbmd0aDt3aGlsZShlLS0paWYoYj1FYVtlXStjLGIgaW4gYSlyZXR1cm4gYjtyZXR1cm4gZH1mdW5jdGlvbiBHYShhLGIsYyl7dmFyIGQ9QWEuZXhlYyhiKTtyZXR1cm4gZD9NYXRoLm1heCgwLGRbMV0tKGN8fDApKSsoZFsyXXx8InB4Iik6Yn1mdW5jdGlvbiBIYShhLGIsYyxkLGUpe2Zvcih2YXIgZj1jPT09KGQ/ImJvcmRlciI6ImNvbnRlbnQiKT80OiJ3aWR0aCI9PT1iPzE6MCxnPTA7ND5mO2YrPTIpIm1hcmdpbiI9PT1jJiYoZys9bi5jc3MoYSxjK1JbZl0sITAsZSkpLGQ/KCJjb250ZW50Ij09PWMmJihnLT1uLmNzcyhhLCJwYWRkaW5nIitSW2ZdLCEwLGUpKSwibWFyZ2luIiE9PWMmJihnLT1uLmNzcyhhLCJib3JkZXIiK1JbZl0rIldpZHRoIiwhMCxlKSkpOihnKz1uLmNzcyhhLCJwYWRkaW5nIitSW2ZdLCEwLGUpLCJwYWRkaW5nIiE9PWMmJihnKz1uLmNzcyhhLCJib3JkZXIiK1JbZl0rIldpZHRoIiwhMCxlKSkpO3JldHVybiBnfWZ1bmN0aW9uIElhKGEsYixjKXt2YXIgZD0hMCxlPSJ3aWR0aCI9PT1iP2Eub2Zmc2V0V2lkdGg6YS5vZmZzZXRIZWlnaHQsZj13YShhKSxnPSJib3JkZXItYm94Ij09PW4uY3NzKGEsImJveFNpemluZyIsITEsZik7aWYoMD49ZXx8bnVsbD09ZSl7aWYoZT14YShhLGIsZiksKDA+ZXx8bnVsbD09ZSkmJihlPWEuc3R5bGVbYl0pLHZhLnRlc3QoZSkpcmV0dXJuIGU7ZD1nJiYoay5ib3hTaXppbmdSZWxpYWJsZSgpfHxlPT09YS5zdHlsZVtiXSksZT1wYXJzZUZsb2F0KGUpfHwwfXJldHVybiBlK0hhKGEsYixjfHwoZz8iYm9yZGVyIjoiY29udGVudCIpLGQsZikrInB4In1mdW5jdGlvbiBKYShhLGIpe2Zvcih2YXIgYyxkLGUsZj1bXSxnPTAsaD1hLmxlbmd0aDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoZltnXT1MLmdldChkLCJvbGRkaXNwbGF5IiksYz1kLnN0eWxlLmRpc3BsYXksYj8oZltnXXx8Im5vbmUiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT0iIiksIiI9PT1kLnN0eWxlLmRpc3BsYXkmJlMoZCkmJihmW2ddPUwuYWNjZXNzKGQsIm9sZGRpc3BsYXkiLHRhKGQubm9kZU5hbWUpKSkpOihlPVMoZCksIm5vbmUiPT09YyYmZXx8TC5zZXQoZCwib2xkZGlzcGxheSIsZT9jOm4uY3NzKGQsImRpc3BsYXkiKSkpKTtmb3IoZz0wO2g+ZztnKyspZD1hW2ddLGQuc3R5bGUmJihiJiYibm9uZSIhPT1kLnN0eWxlLmRpc3BsYXkmJiIiIT09ZC5zdHlsZS5kaXNwbGF5fHwoZC5zdHlsZS5kaXNwbGF5PWI/ZltnXXx8IiI6Im5vbmUiKSk7cmV0dXJuIGF9bi5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz14YShhLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1jPyIxIjpjfX19fSxjc3NOdW1iZXI6e2NvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnsiZmxvYXQiOiJjc3NGbG9hdCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGEmJjMhPT1hLm5vZGVUeXBlJiY4IT09YS5ub2RlVHlwZSYmYS5zdHlsZSl7dmFyIGUsZixnLGg9bi5jYW1lbENhc2UoYiksaT1hLnN0eWxlO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPUZhKGksaCkpLGc9bi5jc3NIb29rc1tiXXx8bi5jc3NIb29rc1toXSx2b2lkIDA9PT1jP2cmJiJnZXQiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTppW2JdOihmPXR5cGVvZiBjLCJzdHJpbmciPT09ZiYmKGU9QmEuZXhlYyhjKSkmJihjPShlWzFdKzEpKmVbMl0rcGFyc2VGbG9hdChuLmNzcyhhLGIpKSxmPSJudW1iZXIiKSxudWxsIT1jJiZjPT09YyYmKCJudW1iZXIiIT09Znx8bi5jc3NOdW1iZXJbaF18fChjKz0icHgiKSxrLmNsZWFyQ2xvbmVTdHlsZXx8IiIhPT1jfHwwIT09Yi5pbmRleE9mKCJiYWNrZ3JvdW5kIil8fChpW2JdPSJpbmhlcml0IiksZyYmInNldCJpbiBnJiZ2b2lkIDA9PT0oYz1nLnNldChhLGMsZCkpfHwoaVtiXT1jKSksdm9pZCAwKX19LGNzczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKTtyZXR1cm4gYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1GYShhLnN0eWxlLGgpKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sZyYmImdldCJpbiBnJiYoZT1nLmdldChhLCEwLGMpKSx2b2lkIDA9PT1lJiYoZT14YShhLGIsZCkpLCJub3JtYWwiPT09ZSYmYiBpbiBEYSYmKGU9RGFbYl0pLCIiPT09Y3x8Yz8oZj1wYXJzZUZsb2F0KGUpLGM9PT0hMHx8bi5pc051bWVyaWMoZik/Znx8MDplKTplfX0pLG4uZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBjP3phLnRlc3Qobi5jc3MoYSwiZGlzcGxheSIpKSYmMD09PWEub2Zmc2V0V2lkdGg/bi5zd2FwKGEsQ2EsZnVuY3Rpb24oKXtyZXR1cm4gSWEoYSxiLGQpfSk6SWEoYSxiLGQpOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1kJiZ3YShhKTtyZXR1cm4gR2EoYSxjLGQ/SGEoYSxiLGQsImJvcmRlci1ib3giPT09bi5jc3MoYSwiYm94U2l6aW5nIiwhMSxlKSxlKTowKX19fSksbi5jc3NIb29rcy5tYXJnaW5SaWdodD15YShrLnJlbGlhYmxlTWFyZ2luUmlnaHQsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9uLnN3YXAoYSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0seGEsW2EsIm1hcmdpblJpZ2h0Il0pOnZvaWQgMH0pLG4uZWFjaCh7bWFyZ2luOiIiLHBhZGRpbmc6IiIsYm9yZGVyOiJXaWR0aCJ9LGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1thK2JdPXtleHBhbmQ6ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPTAsZT17fSxmPSJzdHJpbmciPT10eXBlb2YgYz9jLnNwbGl0KCIgIik6W2NdOzQ+ZDtkKyspZVthK1JbZF0rYl09ZltkXXx8ZltkLTJdfHxmWzBdO3JldHVybiBlfX0sdWEudGVzdChhKXx8KG4uY3NzSG9va3NbYStiXS5zZXQ9R2EpfSksbi5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihhLGIpe3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj17fSxnPTA7aWYobi5pc0FycmF5KGIpKXtmb3IoZD13YShhKSxlPWIubGVuZ3RoO2U+ZztnKyspZltiW2ddXT1uLmNzcyhhLGJbZ10sITEsZCk7cmV0dXJuIGZ9cmV0dXJuIHZvaWQgMCE9PWM/bi5zdHlsZShhLGIsYyk6bi5jc3MoYSxiKX0sYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gSmEodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gSmEodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihhKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBhP2E/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7Uyh0aGlzKT9uKHRoaXMpLnNob3coKTpuKHRoaXMpLmhpZGUoKX0pfX0pO2Z1bmN0aW9uIEthKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBLYS5wcm90b3R5cGUuaW5pdChhLGIsYyxkLGUpfW4uVHdlZW49S2EsS2EucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpLYSxpbml0OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmVsZW09YSx0aGlzLnByb3A9Yyx0aGlzLmVhc2luZz1lfHwic3dpbmciLHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwobi5jc3NOdW1iZXJbY10/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPUthLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpLYS5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1LYS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPWI9bi5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9Yj1hLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSpiK3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLGMmJmMuc2V0P2Muc2V0KHRoaXMpOkthLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LEthLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1LYS5wcm90b3R5cGUsS2EucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBudWxsPT1hLmVsZW1bYS5wcm9wXXx8YS5lbGVtLnN0eWxlJiZudWxsIT1hLmVsZW0uc3R5bGVbYS5wcm9wXT8oYj1uLmNzcyhhLmVsZW0sYS5wcm9wLCIiKSxiJiYiYXV0byIhPT1iP2I6MCk6YS5lbGVtW2EucHJvcF19LHNldDpmdW5jdGlvbihhKXtuLmZ4LnN0ZXBbYS5wcm9wXT9uLmZ4LnN0ZXBbYS5wcm9wXShhKTphLmVsZW0uc3R5bGUmJihudWxsIT1hLmVsZW0uc3R5bGVbbi5jc3NQcm9wc1thLnByb3BdXXx8bi5jc3NIb29rc1thLnByb3BdKT9uLnN0eWxlKGEuZWxlbSxhLnByb3AsYS5ub3crYS51bml0KTphLmVsZW1bYS5wcm9wXT1hLm5vd319fSxLYS5wcm9wSG9va3Muc2Nyb2xsVG9wPUthLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oYSl7YS5lbGVtLm5vZGVUeXBlJiZhLmVsZW0ucGFyZW50Tm9kZSYmKGEuZWxlbVthLnByb3BdPWEubm93KX19LG4uZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHN3aW5nOmZ1bmN0aW9uKGEpe3JldHVybi41LU1hdGguY29zKGEqTWF0aC5QSSkvMn19LG4uZng9S2EucHJvdG90eXBlLmluaXQsbi5meC5zdGVwPXt9O3ZhciBMYSxNYSxOYT0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sT2E9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK1ErIikoW2EteiVdKikkIiwiaSIpLFBhPS9xdWV1ZUhvb2tzJC8sUWE9W1ZhXSxSYT17IioiOltmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlVHdlZW4oYSxiKSxkPWMuY3VyKCksZT1PYS5leGVjKGIpLGY9ZSYmZVszXXx8KG4uY3NzTnVtYmVyW2FdPyIiOiJweCIpLGc9KG4uY3NzTnVtYmVyW2FdfHwicHgiIT09ZiYmK2QpJiZPYS5leGVjKG4uY3NzKGMuZWxlbSxhKSksaD0xLGk9MjA7aWYoZyYmZ1szXSE9PWYpe2Y9Znx8Z1szXSxlPWV8fFtdLGc9K2R8fDE7ZG8gaD1ofHwiLjUiLGcvPWgsbi5zdHlsZShjLmVsZW0sYSxnK2YpO3doaWxlKGghPT0oaD1jLmN1cigpL2QpJiYxIT09aCYmLS1pKX1yZXR1cm4gZSYmKGc9Yy5zdGFydD0rZ3x8K2R8fDAsYy51bml0PWYsYy5lbmQ9ZVsxXT9nKyhlWzFdKzEpKmVbMl06K2VbMl0pLGN9XX07ZnVuY3Rpb24gU2EoKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe0xhPXZvaWQgMH0pLExhPW4ubm93KCl9ZnVuY3Rpb24gVGEoYSxiKXt2YXIgYyxkPTAsZT17aGVpZ2h0OmF9O2ZvcihiPWI/MTowOzQ+ZDtkKz0yLWIpYz1SW2RdLGVbIm1hcmdpbiIrY109ZVsicGFkZGluZyIrY109YTtyZXR1cm4gYiYmKGUub3BhY2l0eT1lLndpZHRoPWEpLGV9ZnVuY3Rpb24gVWEoYSxiLGMpe2Zvcih2YXIgZCxlPShSYVtiXXx8W10pLmNvbmNhdChSYVsiKiJdKSxmPTAsZz1lLmxlbmd0aDtnPmY7ZisrKWlmKGQ9ZVtmXS5jYWxsKGMsYixhKSlyZXR1cm4gZH1mdW5jdGlvbiBWYShhLGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosayxsPXRoaXMsbT17fSxvPWEuc3R5bGUscD1hLm5vZGVUeXBlJiZTKGEpLHE9TC5nZXQoYSwiZnhzaG93Iik7Yy5xdWV1ZXx8KGg9bi5fcXVldWVIb29rcyhhLCJmeCIpLG51bGw9PWgudW5xdWV1ZWQmJihoLnVucXVldWVkPTAsaT1oLmVtcHR5LmZpcmUsaC5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7aC51bnF1ZXVlZHx8aSgpfSksaC51bnF1ZXVlZCsrLGwuYWx3YXlzKGZ1bmN0aW9uKCl7bC5hbHdheXMoZnVuY3Rpb24oKXtoLnVucXVldWVkLS0sbi5xdWV1ZShhLCJmeCIpLmxlbmd0aHx8aC5lbXB0eS5maXJlKCl9KX0pKSwxPT09YS5ub2RlVHlwZSYmKCJoZWlnaHQiaW4gYnx8IndpZHRoImluIGIpJiYoYy5vdmVyZmxvdz1bby5vdmVyZmxvdyxvLm92ZXJmbG93WCxvLm92ZXJmbG93WV0saj1uLmNzcyhhLCJkaXNwbGF5Iiksaz0ibm9uZSI9PT1qP0wuZ2V0KGEsIm9sZGRpc3BsYXkiKXx8dGEoYS5ub2RlTmFtZSk6aiwiaW5saW5lIj09PWsmJiJub25lIj09PW4uY3NzKGEsImZsb2F0IikmJihvLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxjLm92ZXJmbG93JiYoby5vdmVyZmxvdz0iaGlkZGVuIixsLmFsd2F5cyhmdW5jdGlvbigpe28ub3ZlcmZsb3c9Yy5vdmVyZmxvd1swXSxvLm92ZXJmbG93WD1jLm92ZXJmbG93WzFdLG8ub3ZlcmZsb3dZPWMub3ZlcmZsb3dbMl19KSk7Zm9yKGQgaW4gYilpZihlPWJbZF0sTmEuZXhlYyhlKSl7aWYoZGVsZXRlIGJbZF0sZj1mfHwidG9nZ2xlIj09PWUsZT09PShwPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1lfHwhcXx8dm9pZCAwPT09cVtkXSljb250aW51ZTtwPSEwfW1bZF09cSYmcVtkXXx8bi5zdHlsZShhLGQpfWVsc2Ugaj12b2lkIDA7aWYobi5pc0VtcHR5T2JqZWN0KG0pKSJpbmxpbmUiPT09KCJub25lIj09PWo/dGEoYS5ub2RlTmFtZSk6aikmJihvLmRpc3BsYXk9aik7ZWxzZXtxPyJoaWRkZW4iaW4gcSYmKHA9cS5oaWRkZW4pOnE9TC5hY2Nlc3MoYSwiZnhzaG93Iix7fSksZiYmKHEuaGlkZGVuPSFwKSxwP24oYSkuc2hvdygpOmwuZG9uZShmdW5jdGlvbigpe24oYSkuaGlkZSgpfSksbC5kb25lKGZ1bmN0aW9uKCl7dmFyIGI7TC5yZW1vdmUoYSwiZnhzaG93Iik7Zm9yKGIgaW4gbSluLnN0eWxlKGEsYixtW2JdKX0pO2ZvcihkIGluIG0pZz1VYShwP3FbZF06MCxkLGwpLGQgaW4gcXx8KHFbZF09Zy5zdGFydCxwJiYoZy5lbmQ9Zy5zdGFydCxnLnN0YXJ0PSJ3aWR0aCI9PT1kfHwiaGVpZ2h0Ij09PWQ/MTowKSl9fWZ1bmN0aW9uIFdhKGEsYil7dmFyIGMsZCxlLGYsZztmb3IoYyBpbiBhKWlmKGQ9bi5jYW1lbENhc2UoYyksZT1iW2RdLGY9YVtjXSxuLmlzQXJyYXkoZikmJihlPWZbMV0sZj1hW2NdPWZbMF0pLGMhPT1kJiYoYVtkXT1mLGRlbGV0ZSBhW2NdKSxnPW4uY3NzSG9va3NbZF0sZyYmImV4cGFuZCJpbiBnKXtmPWcuZXhwYW5kKGYpLGRlbGV0ZSBhW2RdO2ZvcihjIGluIGYpYyBpbiBhfHwoYVtjXT1mW2NdLGJbY109ZSl9ZWxzZSBiW2RdPWV9ZnVuY3Rpb24gWGEoYSxiLGMpe3ZhciBkLGUsZj0wLGc9UWEubGVuZ3RoLGg9bi5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBpLmVsZW19KSxpPWZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4hMTtmb3IodmFyIGI9TGF8fFNhKCksYz1NYXRoLm1heCgwLGouc3RhcnRUaW1lK2ouZHVyYXRpb24tYiksZD1jL2ouZHVyYXRpb258fDAsZj0xLWQsZz0wLGk9ai50d2VlbnMubGVuZ3RoO2k+ZztnKyspai50d2VlbnNbZ10ucnVuKGYpO3JldHVybiBoLm5vdGlmeVdpdGgoYSxbaixmLGNdKSwxPmYmJmk/YzooaC5yZXNvbHZlV2l0aChhLFtqXSksITEpfSxqPWgucHJvbWlzZSh7ZWxlbTphLHByb3BzOm4uZXh0ZW5kKHt9LGIpLG9wdHM6bi5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e319LGMpLG9yaWdpbmFsUHJvcGVydGllczpiLG9yaWdpbmFsT3B0aW9uczpjLHN0YXJ0VGltZTpMYXx8U2EoKSxkdXJhdGlvbjpjLmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbihiLGMpe3ZhciBkPW4uVHdlZW4oYSxqLm9wdHMsYixjLGoub3B0cy5zcGVjaWFsRWFzaW5nW2JdfHxqLm9wdHMuZWFzaW5nKTtyZXR1cm4gai50d2VlbnMucHVzaChkKSxkfSxzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPTAsZD1iP2oudHdlZW5zLmxlbmd0aDowO2lmKGUpcmV0dXJuIHRoaXM7Zm9yKGU9ITA7ZD5jO2MrKylqLnR3ZWVuc1tjXS5ydW4oMSk7cmV0dXJuIGI/aC5yZXNvbHZlV2l0aChhLFtqLGJdKTpoLnJlamVjdFdpdGgoYSxbaixiXSksdGhpc319KSxrPWoucHJvcHM7Zm9yKFdhKGssai5vcHRzLnNwZWNpYWxFYXNpbmcpO2c+ZjtmKyspaWYoZD1RYVtmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIGQ7cmV0dXJuIG4ubWFwKGssVWEsaiksbi5pc0Z1bmN0aW9uKGoub3B0cy5zdGFydCkmJmoub3B0cy5zdGFydC5jYWxsKGEsaiksbi5meC50aW1lcihuLmV4dGVuZChpLHtlbGVtOmEsYW5pbTpqLHF1ZXVlOmoub3B0cy5xdWV1ZX0pKSxqLnByb2dyZXNzKGoub3B0cy5wcm9ncmVzcykuZG9uZShqLm9wdHMuZG9uZSxqLm9wdHMuY29tcGxldGUpLmZhaWwoai5vcHRzLmZhaWwpLmFsd2F5cyhqLm9wdHMuYWx3YXlzKX1uLkFuaW1hdGlvbj1uLmV4dGVuZChYYSx7dHdlZW5lcjpmdW5jdGlvbihhLGIpe24uaXNGdW5jdGlvbihhKT8oYj1hLGE9WyIqIl0pOmE9YS5zcGxpdCgiICIpO2Zvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWM9YVtkXSxSYVtjXT1SYVtjXXx8W10sUmFbY10udW5zaGlmdChiKX0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9RYS51bnNoaWZ0KGEpOlFhLnB1c2goYSl9fSksbi5zcGVlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmIm9iamVjdCI9PXR5cGVvZiBhP24uZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8bi5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFuLmlzRnVuY3Rpb24oYikmJmJ9O3JldHVybiBkLmR1cmF0aW9uPW4uZngub2ZmPzA6Im51bWJlciI9PXR5cGVvZiBkLmR1cmF0aW9uP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBuLmZ4LnNwZWVkcz9uLmZ4LnNwZWVkc1tkLmR1cmF0aW9uXTpuLmZ4LnNwZWVkcy5fZGVmYXVsdCwobnVsbD09ZC5xdWV1ZXx8ZC5xdWV1ZT09PSEwKSYmKGQucXVldWU9ImZ4IiksZC5vbGQ9ZC5jb21wbGV0ZSxkLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bi5pc0Z1bmN0aW9uKGQub2xkKSYmZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlJiZuLmRlcXVldWUodGhpcyxkLnF1ZXVlKX0sZH0sbi5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoUykuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bi5pc0VtcHR5T2JqZWN0KGEpLGY9bi5zcGVlZChiLGMsZCksZz1mdW5jdGlvbigpe3ZhciBiPVhhKHRoaXMsbi5leHRlbmQoe30sYSksZik7KGV8fEwuZ2V0KHRoaXMsImZpbmlzaCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5xdWV1ZShhfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0hMCxlPW51bGwhPWEmJmErInF1ZXVlSG9va3MiLGY9bi50aW1lcnMsZz1MLmdldCh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZQYS50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyhifHwhYykmJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGZpbmlzaDpmdW5jdGlvbihhKXtyZXR1cm4gYSE9PSExJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjPUwuZ2V0KHRoaXMpLGQ9Y1thKyJxdWV1ZSJdLGU9Y1thKyJxdWV1ZUhvb2tzIl0sZj1uLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsbi5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxuLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9bi5mbltiXTtuLmZuW2JdPWZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4gbnVsbD09YXx8ImJvb2xlYW4iPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoVGEoYiwhMCksYSxkLGUpfX0pLG4uZWFjaCh7c2xpZGVEb3duOlRhKCJzaG93Iiksc2xpZGVVcDpUYSgiaGlkZSIpLHNsaWRlVG9nZ2xlOlRhKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxuLnRpbWVycz1bXSxuLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPTAsYz1uLnRpbWVycztmb3IoTGE9bi5ub3coKTtiPGMubGVuZ3RoO2IrKylhPWNbYl0sYSgpfHxjW2JdIT09YXx8Yy5zcGxpY2UoYi0tLDEpO2MubGVuZ3RofHxuLmZ4LnN0b3AoKSxMYT12b2lkIDB9LG4uZngudGltZXI9ZnVuY3Rpb24oYSl7bi50aW1lcnMucHVzaChhKSxhKCk/bi5meC5zdGFydCgpOm4udGltZXJzLnBvcCgpfSxuLmZ4LmludGVydmFsPTEzLG4uZnguc3RhcnQ9ZnVuY3Rpb24oKXtNYXx8KE1hPXNldEludGVydmFsKG4uZngudGljayxuLmZ4LmludGVydmFsKSl9LG4uZnguc3RvcD1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoTWEpLE1hPW51bGx9LG4uZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LG4uZm4uZGVsYXk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1uLmZ4P24uZnguc3BlZWRzW2FdfHxhOmEsYj1ifHwiZngiLHRoaXMucXVldWUoYixmdW5jdGlvbihiLGMpe3ZhciBkPXNldFRpbWVvdXQoYixhKTtjLnN0b3A9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZCl9fSl9LGZ1bmN0aW9uKCl7dmFyIGE9bC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLGI9bC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKSxjPWIuYXBwZW5kQ2hpbGQobC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSk7YS50eXBlPSJjaGVja2JveCIsay5jaGVja09uPSIiIT09YS52YWx1ZSxrLm9wdFNlbGVjdGVkPWMuc2VsZWN0ZWQsYi5kaXNhYmxlZD0hMCxrLm9wdERpc2FibGVkPSFjLmRpc2FibGVkLGE9bC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLGEudmFsdWU9InQiLGEudHlwZT0icmFkaW8iLGsucmFkaW9WYWx1ZT0idCI9PT1hLnZhbHVlfSgpO3ZhciBZYSxaYSwkYT1uLmV4cHIuYXR0ckhhbmRsZTtuLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIpe3JldHVybiBKKHRoaXMsbi5hdHRyLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLnJlbW92ZUF0dHIodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZihhJiYzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVybiB0eXBlb2YgYS5nZXRBdHRyaWJ1dGU9PT1VP24ucHJvcChhLGIsYyk6KDE9PT1mJiZuLmlzWE1MRG9jKGEpfHwoYj1iLnRvTG93ZXJDYXNlKCksZD1uLmF0dHJIb29rc1tiXXx8KG4uZXhwci5tYXRjaC5ib29sLnRlc3QoYik/WmE6WWEpKSwKdm9pZCAwPT09Yz9kJiYiZ2V0ImluIGQmJm51bGwhPT0oZT1kLmdldChhLGIpKT9lOihlPW4uZmluZC5hdHRyKGEsYiksbnVsbD09ZT92b2lkIDA6ZSk6bnVsbCE9PWM/ZCYmInNldCJpbiBkJiZ2b2lkIDAhPT0oZT1kLnNldChhLGMsYikpP2U6KGEuc2V0QXR0cmlidXRlKGIsYysiIiksYyk6dm9pZCBuLnJlbW92ZUF0dHIoYSxiKSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9MCxmPWImJmIubWF0Y2goRSk7aWYoZiYmMT09PWEubm9kZVR5cGUpd2hpbGUoYz1mW2UrK10pZD1uLnByb3BGaXhbY118fGMsbi5leHByLm1hdGNoLmJvb2wudGVzdChjKSYmKGFbZF09ITEpLGEucmVtb3ZlQXR0cmlidXRlKGMpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKCFrLnJhZGlvVmFsdWUmJiJyYWRpbyI9PT1iJiZuLm5vZGVOYW1lKGEsImlucHV0Iikpe3ZhciBjPWEudmFsdWU7cmV0dXJuIGEuc2V0QXR0cmlidXRlKCJ0eXBlIixiKSxjJiYoYS52YWx1ZT1jKSxifX19fX0pLFphPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09ITE/bi5yZW1vdmVBdHRyKGEsYyk6YS5zZXRBdHRyaWJ1dGUoYyxjKSxjfX0sbi5lYWNoKG4uZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXHcrL2cpLGZ1bmN0aW9uKGEsYil7dmFyIGM9JGFbYl18fG4uZmluZC5hdHRyOyRhW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmO3JldHVybiBkfHwoZj0kYVtiXSwkYVtiXT1lLGU9bnVsbCE9YyhhLGIsZCk/Yi50b0xvd2VyQ2FzZSgpOm51bGwsJGFbYl09ZiksZX19KTt2YXIgX2E9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaTtuLmZuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihhLGIpe3JldHVybiBKKHRoaXMsbi5wcm9wLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1tuLnByb3BGaXhbYV18fGFdfSl9fSksbi5leHRlbmQoe3Byb3BGaXg6eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUifSxwcm9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZz1hLm5vZGVUeXBlO2lmKGEmJjMhPT1nJiY4IT09ZyYmMiE9PWcpcmV0dXJuIGY9MSE9PWd8fCFuLmlzWE1MRG9jKGEpLGYmJihiPW4ucHJvcEZpeFtiXXx8YixlPW4ucHJvcEhvb2tzW2JdKSx2b2lkIDAhPT1jP2UmJiJzZXQiaW4gZSYmdm9pZCAwIT09KGQ9ZS5zZXQoYSxjLGIpKT9kOmFbYl09YzplJiYiZ2V0ImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOmFbYl19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5oYXNBdHRyaWJ1dGUoInRhYmluZGV4Iil8fF9hLnRlc3QoYS5ub2RlTmFtZSl8fGEuaHJlZj9hLnRhYkluZGV4Oi0xfX19fSksay5vcHRTZWxlY3RlZHx8KG4ucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiZiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9fSksbi5lYWNoKFsidGFiSW5kZXgiLCJyZWFkT25seSIsIm1heExlbmd0aCIsImNlbGxTcGFjaW5nIiwiY2VsbFBhZGRpbmciLCJyb3dTcGFuIiwiY29sU3BhbiIsInVzZU1hcCIsImZyYW1lQm9yZGVyIiwiY29udGVudEVkaXRhYmxlIl0sZnVuY3Rpb24oKXtuLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7dmFyIGFiPS9bXHRcclxuXGZdL2c7bi5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPSJzdHJpbmciPT10eXBlb2YgYSYmYSxpPTAsaj10aGlzLmxlbmd0aDtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGgpZm9yKGI9KGF8fCIiKS5tYXRjaChFKXx8W107aj5pO2krKylpZihjPXRoaXNbaV0sZD0xPT09Yy5ub2RlVHlwZSYmKGMuY2xhc3NOYW1lPygiICIrYy5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKGFiLCIgIik6IiAiKSl7Zj0wO3doaWxlKGU9YltmKytdKWQuaW5kZXhPZigiICIrZSsiICIpPDAmJihkKz1lKyIgIik7Zz1uLnRyaW0oZCksYy5jbGFzc05hbWUhPT1nJiYoYy5jbGFzc05hbWU9Zyl9cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPTA9PT1hcmd1bWVudHMubGVuZ3RofHwic3RyaW5nIj09dHlwZW9mIGEmJmEsaT0wLGo9dGhpcy5sZW5ndGg7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihoKWZvcihiPShhfHwiIikubWF0Y2goRSl8fFtdO2o+aTtpKyspaWYoYz10aGlzW2ldLGQ9MT09PWMubm9kZVR5cGUmJihjLmNsYXNzTmFtZT8oIiAiK2MuY2xhc3NOYW1lKyIgIikucmVwbGFjZShhYiwiICIpOiIiKSl7Zj0wO3doaWxlKGU9YltmKytdKXdoaWxlKGQuaW5kZXhPZigiICIrZSsiICIpPj0wKWQ9ZC5yZXBsYWNlKCIgIitlKyIgIiwiICIpO2c9YT9uLnRyaW0oZCk6IiIsYy5jbGFzc05hbWUhPT1nJiYoYy5jbGFzc05hbWU9Zyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGE7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgYiYmInN0cmluZyI9PT1jP2I/dGhpcy5hZGRDbGFzcyhhKTp0aGlzLnJlbW92ZUNsYXNzKGEpOnRoaXMuZWFjaChuLmlzRnVuY3Rpb24oYSk/ZnVuY3Rpb24oYyl7bih0aGlzKS50b2dnbGVDbGFzcyhhLmNhbGwodGhpcyxjLHRoaXMuY2xhc3NOYW1lLGIpLGIpfTpmdW5jdGlvbigpe2lmKCJzdHJpbmciPT09Yyl7dmFyIGIsZD0wLGU9bih0aGlzKSxmPWEubWF0Y2goRSl8fFtdO3doaWxlKGI9ZltkKytdKWUuaGFzQ2xhc3MoYik/ZS5yZW1vdmVDbGFzcyhiKTplLmFkZENsYXNzKGIpfWVsc2UoYz09PVV8fCJib29sZWFuIj09PWMpJiYodGhpcy5jbGFzc05hbWUmJkwuc2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iLHRoaXMuY2xhc3NOYW1lKSx0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZXx8YT09PSExPyIiOkwuZ2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0iICIrYSsiICIsYz0wLGQ9dGhpcy5sZW5ndGg7ZD5jO2MrKylpZigxPT09dGhpc1tjXS5ub2RlVHlwZSYmKCIgIit0aGlzW2NdLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoYWIsIiAiKS5pbmRleE9mKGIpPj0wKXJldHVybiEwO3JldHVybiExfX0pO3ZhciBiYj0vXHIvZztuLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPXRoaXNbMF07e2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGQ9bi5pc0Z1bmN0aW9uKGEpLHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZTsxPT09dGhpcy5ub2RlVHlwZSYmKGU9ZD9hLmNhbGwodGhpcyxjLG4odGhpcykudmFsKCkpOmEsbnVsbD09ZT9lPSIiOiJudW1iZXIiPT10eXBlb2YgZT9lKz0iIjpuLmlzQXJyYXkoZSkmJihlPW4ubWFwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/IiI6YSsiIn0pKSxiPW4udmFsSG9va3NbdGhpcy50eXBlXXx8bi52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJzZXQiaW4gYiYmdm9pZCAwIT09Yi5zZXQodGhpcyxlLCJ2YWx1ZSIpfHwodGhpcy52YWx1ZT1lKSl9KTtpZihlKXJldHVybiBiPW4udmFsSG9va3NbZS50eXBlXXx8bi52YWxIb29rc1tlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJnZXQiaW4gYiYmdm9pZCAwIT09KGM9Yi5nZXQoZSwidmFsdWUiKSk/YzooYz1lLnZhbHVlLCJzdHJpbmciPT10eXBlb2YgYz9jLnJlcGxhY2UoYmIsIiIpOm51bGw9PWM/IiI6Yyl9fX0pLG4uZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bi5maW5kLmF0dHIoYSwidmFsdWUiKTtyZXR1cm4gbnVsbCE9Yj9iOm4udHJpbShuLnRleHQoYSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGMsZD1hLm9wdGlvbnMsZT1hLnNlbGVjdGVkSW5kZXgsZj0ic2VsZWN0LW9uZSI9PT1hLnR5cGV8fDA+ZSxnPWY/bnVsbDpbXSxoPWY/ZSsxOmQubGVuZ3RoLGk9MD5lP2g6Zj9lOjA7aD5pO2krKylpZihjPWRbaV0sISghYy5zZWxlY3RlZCYmaSE9PWV8fChrLm9wdERpc2FibGVkP2MuZGlzYWJsZWQ6bnVsbCE9PWMuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpKXx8Yy5wYXJlbnROb2RlLmRpc2FibGVkJiZuLm5vZGVOYW1lKGMucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKGI9bihjKS52YWwoKSxmKXJldHVybiBiO2cucHVzaChiKX1yZXR1cm4gZ30sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPWEub3B0aW9ucyxmPW4ubWFrZUFycmF5KGIpLGc9ZS5sZW5ndGg7d2hpbGUoZy0tKWQ9ZVtnXSwoZC5zZWxlY3RlZD1uLmluQXJyYXkoZC52YWx1ZSxmKT49MCkmJihjPSEwKTtyZXR1cm4gY3x8KGEuc2VsZWN0ZWRJbmRleD0tMSksZn19fX0pLG4uZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe24udmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihhLGIpe3JldHVybiBuLmlzQXJyYXkoYik/YS5jaGVja2VkPW4uaW5BcnJheShuKGEpLnZhbCgpLGIpPj0wOnZvaWQgMH19LGsuY2hlY2tPbnx8KG4udmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjphLnZhbHVlfSl9KSxuLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKGIsbnVsbCxhLGMpOnRoaXMudHJpZ2dlcihiKX19KSxuLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9LGJpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vZmYoYSxudWxsLGIpfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGEsIioqIik6dGhpcy5vZmYoYixhfHwiKioiLGMpfX0pO3ZhciBjYj1uLm5vdygpLGRiPS9cPy87bi5wYXJzZUpTT049ZnVuY3Rpb24oYSl7cmV0dXJuIEpTT04ucGFyc2UoYSsiIil9LG4ucGFyc2VYTUw9ZnVuY3Rpb24oYSl7dmFyIGIsYztpZighYXx8InN0cmluZyIhPXR5cGVvZiBhKXJldHVybiBudWxsO3RyeXtjPW5ldyBET01QYXJzZXIsYj1jLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpfWNhdGNoKGQpe2I9dm9pZCAwfXJldHVybighYnx8Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGgpJiZuLmVycm9yKCJJbnZhbGlkIFhNTDogIithKSxifTt2YXIgZWI9LyMuKiQvLGZiPS8oWz8mXSlfPVteJl0qLyxnYj0vXiguKj8pOlsgXHRdKihbXlxyXG5dKikkL2dtLGhiPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLGliPS9eKD86R0VUfEhFQUQpJC8samI9L15cL1wvLyxrYj0vXihbXHcuKy1dKzopKD86XC9cLyg/OlteXC8/I10qQHwpKFteXC8/IzpdKikoPzo6KFxkKyl8KXwpLyxsYj17fSxtYj17fSxuYj0iKi8iLmNvbmNhdCgiKiIpLG9iPWEubG9jYXRpb24uaHJlZixwYj1rYi5leGVjKG9iLnRvTG93ZXJDYXNlKCkpfHxbXTtmdW5jdGlvbiBxYihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXsic3RyaW5nIiE9dHlwZW9mIGImJihjPWIsYj0iKiIpO3ZhciBkLGU9MCxmPWIudG9Mb3dlckNhc2UoKS5tYXRjaChFKXx8W107aWYobi5pc0Z1bmN0aW9uKGMpKXdoaWxlKGQ9ZltlKytdKSIrIj09PWRbMF0/KGQ9ZC5zbGljZSgxKXx8IioiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gcmIoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09bWI7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxuLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlWyIqIl0mJmcoIioiKX1mdW5jdGlvbiBzYihhLGIpe3ZhciBjLGQsZT1uLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGMgaW4gYil2b2lkIDAhPT1iW2NdJiYoKGVbY10/YTpkfHwoZD17fSkpW2NdPWJbY10pO3JldHVybiBkJiZuLmV4dGVuZCghMCxhLGQpLGF9ZnVuY3Rpb24gdGIoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKCIqIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWQmJihkPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihkKWZvcihlIGluIGgpaWYoaFtlXSYmaFtlXS50ZXN0KGQpKXtpLnVuc2hpZnQoZSk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGUgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tlKyIgIitpWzBdXSl7Zj1lO2JyZWFrfWd8fChnPWUpfWY9Znx8Z31yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gdWIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZigiKiI9PT1mKWY9aTtlbHNlIGlmKCIqIiE9PWkmJmkhPT1mKXtpZihnPWpbaSsiICIrZl18fGpbIiogIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdCgiICIpLGhbMV09PT1mJiYoZz1qW2krIiAiK2hbMF1dfHxqWyIqICIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhWyJ0aHJvd3MiXSliPWcoYik7ZWxzZSB0cnl7Yj1nKGIpfWNhdGNoKGwpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmc/bDoiTm8gY29udmVyc2lvbiBmcm9tICIraSsiIHRvICIrZn19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTpifX1uLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6b2IsdHlwZToiR0VUIixpc0xvY2FsOmhiLnRlc3QocGJbMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6bmIsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpuLnBhcnNlSlNPTiwidGV4dCB4bWwiOm4ucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihhLGIpe3JldHVybiBiP3NiKHNiKGEsbi5hamF4U2V0dGluZ3MpLGIpOnNiKG4uYWpheFNldHRpbmdzLGEpfSxhamF4UHJlZmlsdGVyOnFiKGxiKSxhamF4VHJhbnNwb3J0OnFiKG1iKSxhamF4OmZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKSxiPWJ8fHt9O3ZhciBjLGQsZSxmLGcsaCxpLGosaz1uLmFqYXhTZXR1cCh7fSxiKSxsPWsuY29udGV4dHx8ayxtPWsuY29udGV4dCYmKGwubm9kZVR5cGV8fGwuanF1ZXJ5KT9uKGwpOm4uZXZlbnQsbz1uLkRlZmVycmVkKCkscD1uLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxxPWsuc3RhdHVzQ29kZXx8e30scj17fSxzPXt9LHQ9MCx1PSJjYW5jZWxlZCIsdj17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKDI9PT10KXtpZighZil7Zj17fTt3aGlsZShiPWdiLmV4ZWMoZSkpZltiWzFdLnRvTG93ZXJDYXNlKCldPWJbMl19Yj1mW2EudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PWI/bnVsbDpifSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXQ/ZTpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS50b0xvd2VyQ2FzZSgpO3JldHVybiB0fHwoYT1zW2NdPXNbY118fGEsclthXT1iKSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiB0fHwoay5taW1lVHlwZT1hKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEpaWYoMj50KWZvcihiIGluIGEpcVtiXT1bcVtiXSxhW2JdXTtlbHNlIHYuYWx3YXlzKGFbdi5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YXx8dTtyZXR1cm4gYyYmYy5hYm9ydChiKSx4KDAsYiksdGhpc319O2lmKG8ucHJvbWlzZSh2KS5jb21wbGV0ZT1wLmFkZCx2LnN1Y2Nlc3M9di5kb25lLHYuZXJyb3I9di5mYWlsLGsudXJsPSgoYXx8ay51cmx8fG9iKSsiIikucmVwbGFjZShlYiwiIikucmVwbGFjZShqYixwYlsxXSsiLy8iKSxrLnR5cGU9Yi5tZXRob2R8fGIudHlwZXx8ay5tZXRob2R8fGsudHlwZSxrLmRhdGFUeXBlcz1uLnRyaW0oay5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKEUpfHxbIiJdLG51bGw9PWsuY3Jvc3NEb21haW4mJihoPWtiLmV4ZWMoay51cmwudG9Mb3dlckNhc2UoKSksay5jcm9zc0RvbWFpbj0hKCFofHxoWzFdPT09cGJbMV0mJmhbMl09PT1wYlsyXSYmKGhbM118fCgiaHR0cDoiPT09aFsxXT8iODAiOiI0NDMiKSk9PT0ocGJbM118fCgiaHR0cDoiPT09cGJbMV0/IjgwIjoiNDQzIikpKSksay5kYXRhJiZrLnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9dHlwZW9mIGsuZGF0YSYmKGsuZGF0YT1uLnBhcmFtKGsuZGF0YSxrLnRyYWRpdGlvbmFsKSkscmIobGIsayxiLHYpLDI9PT10KXJldHVybiB2O2k9bi5ldmVudCYmay5nbG9iYWwsaSYmMD09PW4uYWN0aXZlKysmJm4uZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0Iiksay50eXBlPWsudHlwZS50b1VwcGVyQ2FzZSgpLGsuaGFzQ29udGVudD0haWIudGVzdChrLnR5cGUpLGQ9ay51cmwsay5oYXNDb250ZW50fHwoay5kYXRhJiYoZD1rLnVybCs9KGRiLnRlc3QoZCk/IiYiOiI/Iikray5kYXRhLGRlbGV0ZSBrLmRhdGEpLGsuY2FjaGU9PT0hMSYmKGsudXJsPWZiLnRlc3QoZCk/ZC5yZXBsYWNlKGZiLCIkMV89IitjYisrKTpkKyhkYi50ZXN0KGQpPyImIjoiPyIpKyJfPSIrY2IrKykpLGsuaWZNb2RpZmllZCYmKG4ubGFzdE1vZGlmaWVkW2RdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixuLmxhc3RNb2RpZmllZFtkXSksbi5ldGFnW2RdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLG4uZXRhZ1tkXSkpLChrLmRhdGEmJmsuaGFzQ29udGVudCYmay5jb250ZW50VHlwZSE9PSExfHxiLmNvbnRlbnRUeXBlKSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLGsuY29udGVudFR5cGUpLHYuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixrLmRhdGFUeXBlc1swXSYmay5hY2NlcHRzW2suZGF0YVR5cGVzWzBdXT9rLmFjY2VwdHNbay5kYXRhVHlwZXNbMF1dKygiKiIhPT1rLmRhdGFUeXBlc1swXT8iLCAiK25iKyI7IHE9MC4wMSI6IiIpOmsuYWNjZXB0c1siKiJdKTtmb3IoaiBpbiBrLmhlYWRlcnMpdi5zZXRSZXF1ZXN0SGVhZGVyKGosay5oZWFkZXJzW2pdKTtpZihrLmJlZm9yZVNlbmQmJihrLmJlZm9yZVNlbmQuY2FsbChsLHYsayk9PT0hMXx8Mj09PXQpKXJldHVybiB2LmFib3J0KCk7dT0iYWJvcnQiO2ZvcihqIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXZbal0oa1tqXSk7aWYoYz1yYihtYixrLGIsdikpe3YucmVhZHlTdGF0ZT0xLGkmJm0udHJpZ2dlcigiYWpheFNlbmQiLFt2LGtdKSxrLmFzeW5jJiZrLnRpbWVvdXQ+MCYmKGc9c2V0VGltZW91dChmdW5jdGlvbigpe3YuYWJvcnQoInRpbWVvdXQiKX0say50aW1lb3V0KSk7dHJ5e3Q9MSxjLnNlbmQocix4KX1jYXRjaCh3KXtpZighKDI+dCkpdGhyb3cgdzt4KC0xLHcpfX1lbHNlIHgoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIHgoYSxiLGYsaCl7dmFyIGoscixzLHUsdyx4PWI7MiE9PXQmJih0PTIsZyYmY2xlYXJUaW1lb3V0KGcpLGM9dm9pZCAwLGU9aHx8IiIsdi5yZWFkeVN0YXRlPWE+MD80OjAsaj1hPj0yMDAmJjMwMD5hfHwzMDQ9PT1hLGYmJih1PXRiKGssdixmKSksdT11YihrLHUsdixqKSxqPyhrLmlmTW9kaWZpZWQmJih3PXYuZ2V0UmVzcG9uc2VIZWFkZXIoIkxhc3QtTW9kaWZpZWQiKSx3JiYobi5sYXN0TW9kaWZpZWRbZF09dyksdz12LmdldFJlc3BvbnNlSGVhZGVyKCJldGFnIiksdyYmKG4uZXRhZ1tkXT13KSksMjA0PT09YXx8IkhFQUQiPT09ay50eXBlP3g9Im5vY29udGVudCI6MzA0PT09YT94PSJub3Rtb2RpZmllZCI6KHg9dS5zdGF0ZSxyPXUuZGF0YSxzPXUuZXJyb3Isaj0hcykpOihzPXgsKGF8fCF4KSYmKHg9ImVycm9yIiwwPmEmJihhPTApKSksdi5zdGF0dXM9YSx2LnN0YXR1c1RleHQ9KGJ8fHgpKyIiLGo/by5yZXNvbHZlV2l0aChsLFtyLHgsdl0pOm8ucmVqZWN0V2l0aChsLFt2LHgsc10pLHYuc3RhdHVzQ29kZShxKSxxPXZvaWQgMCxpJiZtLnRyaWdnZXIoaj8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFt2LGssaj9yOnNdKSxwLmZpcmVXaXRoKGwsW3YseF0pLGkmJihtLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3Ysa10pLC0tbi5hY3RpdmV8fG4uZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfXJldHVybiB2fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5nZXQoYSxiLGMsImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uZ2V0KGEsdm9pZCAwLGIsInNjcmlwdCIpfX0pLG4uZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGIpe25bYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG4uaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLG4uYWpheCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0pfX0pLG4uX2V2YWxVcmw9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uYWpheCh7dXJsOmEsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0Iixhc3luYzohMSxnbG9iYWw6ITEsInRocm93cyI6ITB9KX0sbi5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIG4uaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS53cmFwQWxsKGEuY2FsbCh0aGlzLGIpKX0pOih0aGlzWzBdJiYoYj1uKGEsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZiLmluc2VydEJlZm9yZSh0aGlzWzBdKSxiLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXM7d2hpbGUoYS5maXJzdEVsZW1lbnRDaGlsZClhPWEuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIGF9KS5hcHBlbmQodGhpcykpLHRoaXMpfSx3cmFwSW5uZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChuLmlzRnVuY3Rpb24oYSk/ZnVuY3Rpb24oYil7bih0aGlzKS53cmFwSW5uZXIoYS5jYWxsKHRoaXMsYikpfTpmdW5jdGlvbigpe3ZhciBiPW4odGhpcyksYz1iLmNvbnRlbnRzKCk7Yy5sZW5ndGg/Yy53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7dmFyIGI9bi5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7bih0aGlzKS53cmFwQWxsKGI/YS5jYWxsKHRoaXMsYyk6YSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe24ubm9kZU5hbWUodGhpcywiYm9keSIpfHxuKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KSxuLmV4cHIuZmlsdGVycy5oaWRkZW49ZnVuY3Rpb24oYSl7cmV0dXJuIGEub2Zmc2V0V2lkdGg8PTAmJmEub2Zmc2V0SGVpZ2h0PD0wfSxuLmV4cHIuZmlsdGVycy52aXNpYmxlPWZ1bmN0aW9uKGEpe3JldHVybiFuLmV4cHIuZmlsdGVycy5oaWRkZW4oYSl9O3ZhciB2Yj0vJTIwL2csd2I9L1xbXF0kLyx4Yj0vXHI/XG4vZyx5Yj0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksemI9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEFiKGEsYixjLGQpe3ZhciBlO2lmKG4uaXNBcnJheShiKSluLmVhY2goYixmdW5jdGlvbihiLGUpe2N8fHdiLnRlc3QoYSk/ZChhLGUpOkFiKGErIlsiKygib2JqZWN0Ij09dHlwZW9mIGU/YjoiIikrIl0iLGUsYyxkKX0pO2Vsc2UgaWYoY3x8Im9iamVjdCIhPT1uLnR5cGUoYikpZChhLGIpO2Vsc2UgZm9yKGUgaW4gYilBYihhKyJbIitlKyJdIixiW2VdLGMsZCl9bi5wYXJhbT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1mdW5jdGlvbihhLGIpe2I9bi5pc0Z1bmN0aW9uKGIpP2IoKTpudWxsPT1iPyIiOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9IitlbmNvZGVVUklDb21wb25lbnQoYil9O2lmKHZvaWQgMD09PWImJihiPW4uYWpheFNldHRpbmdzJiZuLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCksbi5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIW4uaXNQbGFpbk9iamVjdChhKSluLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IoYyBpbiBhKUFiKGMsYVtjXSxiLGUpO3JldHVybiBkLmpvaW4oIiYiKS5yZXBsYWNlKHZiLCIrIil9LG4uZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPW4ucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBhP24ubWFrZUFycmF5KGEpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIW4odGhpcykuaXMoIjpkaXNhYmxlZCIpJiZ6Yi50ZXN0KHRoaXMubm9kZU5hbWUpJiYheWIudGVzdChhKSYmKHRoaXMuY2hlY2tlZHx8IVQudGVzdChhKSl9KS5tYXAoZnVuY3Rpb24oYSxiKXt2YXIgYz1uKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1jP251bGw6bi5pc0FycmF5KGMpP24ubWFwKGMsZnVuY3Rpb24oYSl7cmV0dXJue25hbWU6Yi5uYW1lLHZhbHVlOmEucmVwbGFjZSh4YiwiXHJcbiIpfX0pOntuYW1lOmIubmFtZSx2YWx1ZTpjLnJlcGxhY2UoeGIsIlxyXG4iKX19KS5nZXQoKX19KSxuLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaChhKXt9fTt2YXIgQmI9MCxDYj17fSxEYj17MDoyMDAsMTIyMzoyMDR9LEViPW4uYWpheFNldHRpbmdzLnhocigpO2EuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiBDYilDYlthXSgpfSksay5jb3JzPSEhRWImJiJ3aXRoQ3JlZGVudGlhbHMiaW4gRWIsay5hamF4PUViPSEhRWIsbi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBrLmNvcnN8fEViJiYhYS5jcm9zc0RvbWFpbj97c2VuZDpmdW5jdGlvbihjLGQpe3ZhciBlLGY9YS54aHIoKSxnPSsrQmI7aWYoZi5vcGVuKGEudHlwZSxhLnVybCxhLmFzeW5jLGEudXNlcm5hbWUsYS5wYXNzd29yZCksYS54aHJGaWVsZHMpZm9yKGUgaW4gYS54aHJGaWVsZHMpZltlXT1hLnhockZpZWxkc1tlXTthLm1pbWVUeXBlJiZmLm92ZXJyaWRlTWltZVR5cGUmJmYub3ZlcnJpZGVNaW1lVHlwZShhLm1pbWVUeXBlKSxhLmNyb3NzRG9tYWlufHxjWyJYLVJlcXVlc3RlZC1XaXRoIl18fChjWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0Iik7Zm9yKGUgaW4gYylmLnNldFJlcXVlc3RIZWFkZXIoZSxjW2VdKTtiPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe2ImJihkZWxldGUgQ2JbZ10sYj1mLm9ubG9hZD1mLm9uZXJyb3I9bnVsbCwiYWJvcnQiPT09YT9mLmFib3J0KCk6ImVycm9yIj09PWE/ZChmLnN0YXR1cyxmLnN0YXR1c1RleHQpOmQoRGJbZi5zdGF0dXNdfHxmLnN0YXR1cyxmLnN0YXR1c1RleHQsInN0cmluZyI9PXR5cGVvZiBmLnJlc3BvbnNlVGV4dD97dGV4dDpmLnJlc3BvbnNlVGV4dH06dm9pZCAwLGYuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19LGYub25sb2FkPWIoKSxmLm9uZXJyb3I9YigiZXJyb3IiKSxiPUNiW2ddPWIoImFib3J0Iik7dHJ5e2Yuc2VuZChhLmhhc0NvbnRlbnQmJmEuZGF0YXx8bnVsbCl9Y2F0Y2goaCl7aWYoYil0aHJvdyBofX0sYWJvcnQ6ZnVuY3Rpb24oKXtiJiZiKCl9fTp2b2lkIDB9KSxuLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6Lyg/OmphdmF8ZWNtYSlzY3JpcHQvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe3JldHVybiBuLmdsb2JhbEV2YWwoYSksYX19fSksbi5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPSJHRVQiKX0pLG4uYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjO3JldHVybntzZW5kOmZ1bmN0aW9uKGQsZSl7Yj1uKCI8c2NyaXB0PiIpLnByb3Aoe2FzeW5jOiEwLGNoYXJzZXQ6YS5zY3JpcHRDaGFyc2V0LHNyYzphLnVybH0pLm9uKCJsb2FkIGVycm9yIixjPWZ1bmN0aW9uKGEpe2IucmVtb3ZlKCksYz1udWxsLGEmJmUoImVycm9yIj09PWEudHlwZT80MDQ6MjAwLGEudHlwZSl9KSxsLmhlYWQuYXBwZW5kQ2hpbGQoYlswXSl9LGFib3J0OmZ1bmN0aW9uKCl7YyYmYygpfX19fSk7dmFyIEZiPVtdLEdiPS8oPSlcPyg/PSZ8JCl8XD9cPy87bi5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBhPUZiLnBvcCgpfHxuLmV4cGFuZG8rIl8iK2NiKys7cmV0dXJuIHRoaXNbYV09ITAsYX19KSxuLmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGcsaD1iLmpzb25wIT09ITEmJihHYi50ZXN0KGIudXJsKT8idXJsIjoic3RyaW5nIj09dHlwZW9mIGIuZGF0YSYmIShiLmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJkdiLnRlc3QoYi5kYXRhKSYmImRhdGEiKTtyZXR1cm4gaHx8Impzb25wIj09PWIuZGF0YVR5cGVzWzBdPyhlPWIuanNvbnBDYWxsYmFjaz1uLmlzRnVuY3Rpb24oYi5qc29ucENhbGxiYWNrKT9iLmpzb25wQ2FsbGJhY2soKTpiLmpzb25wQ2FsbGJhY2ssaD9iW2hdPWJbaF0ucmVwbGFjZShHYiwiJDEiK2UpOmIuanNvbnAhPT0hMSYmKGIudXJsKz0oZGIudGVzdChiLnVybCk/IiYiOiI/IikrYi5qc29ucCsiPSIrZSksYi5jb252ZXJ0ZXJzWyJzY3JpcHQganNvbiJdPWZ1bmN0aW9uKCl7cmV0dXJuIGd8fG4uZXJyb3IoZSsiIHdhcyBub3QgY2FsbGVkIiksZ1swXX0sYi5kYXRhVHlwZXNbMF09Impzb24iLGY9YVtlXSxhW2VdPWZ1bmN0aW9uKCl7Zz1hcmd1bWVudHN9LGQuYWx3YXlzKGZ1bmN0aW9uKCl7YVtlXT1mLGJbZV0mJihiLmpzb25wQ2FsbGJhY2s9Yy5qc29ucENhbGxiYWNrLEZiLnB1c2goZSkpLGcmJm4uaXNGdW5jdGlvbihmKSYmZihnWzBdKSxnPWY9dm9pZCAwfSksInNjcmlwdCIpOnZvaWQgMH0pLG4ucGFyc2VIVE1MPWZ1bmN0aW9uKGEsYixjKXtpZighYXx8InN0cmluZyIhPXR5cGVvZiBhKXJldHVybiBudWxsOyJib29sZWFuIj09dHlwZW9mIGImJihjPWIsYj0hMSksYj1ifHxsO3ZhciBkPXYuZXhlYyhhKSxlPSFjJiZbXTtyZXR1cm4gZD9bYi5jcmVhdGVFbGVtZW50KGRbMV0pXTooZD1uLmJ1aWxkRnJhZ21lbnQoW2FdLGIsZSksZSYmZS5sZW5ndGgmJm4oZSkucmVtb3ZlKCksbi5tZXJnZShbXSxkLmNoaWxkTm9kZXMpKX07dmFyIEhiPW4uZm4ubG9hZDtuLmZuLmxvYWQ9ZnVuY3Rpb24oYSxiLGMpe2lmKCJzdHJpbmciIT10eXBlb2YgYSYmSGIpcmV0dXJuIEhiLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZCxlLGYsZz10aGlzLGg9YS5pbmRleE9mKCIgIik7cmV0dXJuIGg+PTAmJihkPW4udHJpbShhLnNsaWNlKGgpKSxhPWEuc2xpY2UoMCxoKSksbi5pc0Z1bmN0aW9uKGIpPyhjPWIsYj12b2lkIDApOmImJiJvYmplY3QiPT10eXBlb2YgYiYmKGU9IlBPU1QiKSxnLmxlbmd0aD4wJiZuLmFqYXgoe3VybDphLHR5cGU6ZSxkYXRhVHlwZToiaHRtbCIsZGF0YTpifSkuZG9uZShmdW5jdGlvbihhKXtmPWFyZ3VtZW50cyxnLmh0bWwoZD9uKCI8ZGl2PiIpLmFwcGVuZChuLnBhcnNlSFRNTChhKSkuZmluZChkKTphKX0pLmNvbXBsZXRlKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGMsZnx8W2EucmVzcG9uc2VUZXh0LGIsYV0pfSksdGhpc30sbi5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9uKGIsYSl9fSksbi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ3JlcChuLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH07dmFyIEliPWEuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2Z1bmN0aW9uIEpiKGEpe3JldHVybiBuLmlzV2luZG93KGEpP2E6OT09PWEubm9kZVR5cGUmJmEuZGVmYXVsdFZpZXd9bi5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosaz1uLmNzcyhhLCJwb3NpdGlvbiIpLGw9bihhKSxtPXt9OyJzdGF0aWMiPT09ayYmKGEuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIiksaD1sLm9mZnNldCgpLGY9bi5jc3MoYSwidG9wIiksaT1uLmNzcyhhLCJsZWZ0Iiksaj0oImFic29sdXRlIj09PWt8fCJmaXhlZCI9PT1rKSYmKGYraSkuaW5kZXhPZigiYXV0byIpPi0xLGo/KGQ9bC5wb3NpdGlvbigpLGc9ZC50b3AsZT1kLmxlZnQpOihnPXBhcnNlRmxvYXQoZil8fDAsZT1wYXJzZUZsb2F0KGkpfHwwKSxuLmlzRnVuY3Rpb24oYikmJihiPWIuY2FsbChhLGMsaCkpLG51bGwhPWIudG9wJiYobS50b3A9Yi50b3AtaC50b3ArZyksbnVsbCE9Yi5sZWZ0JiYobS5sZWZ0PWIubGVmdC1oLmxlZnQrZSksInVzaW5nImluIGI/Yi51c2luZy5jYWxsKGEsbSk6bC5jc3MobSl9fSxuLmZuLmV4dGVuZCh7b2Zmc2V0OmZ1bmN0aW9uKGEpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PWE/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oYil7bi5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsYSxiKX0pO3ZhciBiLGMsZD10aGlzWzBdLGU9e3RvcDowLGxlZnQ6MH0sZj1kJiZkLm93bmVyRG9jdW1lbnQ7aWYoZilyZXR1cm4gYj1mLmRvY3VtZW50RWxlbWVudCxuLmNvbnRhaW5zKGIsZCk/KHR5cGVvZiBkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCE9PVUmJihlPWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLGM9SmIoZikse3RvcDplLnRvcCtjLnBhZ2VZT2Zmc2V0LWIuY2xpZW50VG9wLGxlZnQ6ZS5sZWZ0K2MucGFnZVhPZmZzZXQtYi5jbGllbnRMZWZ0fSk6ZX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgYSxiLGM9dGhpc1swXSxkPXt0b3A6MCxsZWZ0OjB9O3JldHVybiJmaXhlZCI9PT1uLmNzcyhjLCJwb3NpdGlvbiIpP2I9Yy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTooYT10aGlzLm9mZnNldFBhcmVudCgpLGI9dGhpcy5vZmZzZXQoKSxuLm5vZGVOYW1lKGFbMF0sImh0bWwiKXx8KGQ9YS5vZmZzZXQoKSksZC50b3ArPW4uY3NzKGFbMF0sImJvcmRlclRvcFdpZHRoIiwhMCksZC5sZWZ0Kz1uLmNzcyhhWzBdLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSkse3RvcDpiLnRvcC1kLnRvcC1uLmNzcyhjLCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OmIubGVmdC1kLmxlZnQtbi5jc3MoYywibWFyZ2luTGVmdCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXMub2Zmc2V0UGFyZW50fHxJYjt3aGlsZShhJiYhbi5ub2RlTmFtZShhLCJodG1sIikmJiJzdGF0aWMiPT09bi5jc3MoYSwicG9zaXRpb24iKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxJYn0pfX0pLG4uZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihiLGMpe3ZhciBkPSJwYWdlWU9mZnNldCI9PT1jO24uZm5bYl09ZnVuY3Rpb24oZSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihiLGUsZil7dmFyIGc9SmIoYik7cmV0dXJuIHZvaWQgMD09PWY/Zz9nW2NdOmJbZV06dm9pZChnP2cuc2Nyb2xsVG8oZD9hLnBhZ2VYT2Zmc2V0OmYsZD9mOmEucGFnZVlPZmZzZXQpOmJbZV09Zil9LGIsZSxhcmd1bWVudHMubGVuZ3RoLG51bGwpfX0pLG4uZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihhLGIpe24uY3NzSG9va3NbYl09eWEoay5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGM/KGM9eGEoYSxiKSx2YS50ZXN0KGMpP24oYSkucG9zaXRpb24oKVtiXSsicHgiOmMpOnZvaWQgMH0pfSksbi5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24oYSxiKXtuLmVhY2goe3BhZGRpbmc6ImlubmVyIithLGNvbnRlbnQ6YiwiIjoib3V0ZXIiK2F9LGZ1bmN0aW9uKGMsZCl7bi5mbltkXT1mdW5jdGlvbihkLGUpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgmJihjfHwiYm9vbGVhbiIhPXR5cGVvZiBkKSxnPWN8fChkPT09ITB8fGU9PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIG4uaXNXaW5kb3coYik/Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYV06OT09PWIubm9kZVR5cGU/KGU9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5WyJzY3JvbGwiK2FdLGVbInNjcm9sbCIrYV0sYi5ib2R5WyJvZmZzZXQiK2FdLGVbIm9mZnNldCIrYV0sZVsiY2xpZW50IithXSkpOnZvaWQgMD09PWQ/bi5jc3MoYixjLGcpOm4uc3R5bGUoYixjLGQsZyl9LGIsZj9kOnZvaWQgMCxmLG51bGwpfX0pfSksbi5mbi5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSxuLmZuLmFuZFNlbGY9bi5mbi5hZGRCYWNrLCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZSgianF1ZXJ5IixbXSxmdW5jdGlvbigpe3JldHVybiBufSk7dmFyIEtiPWEualF1ZXJ5LExiPWEuJDtyZXR1cm4gbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKGIpe3JldHVybiBhLiQ9PT1uJiYoYS4kPUxiKSxiJiZhLmpRdWVyeT09PW4mJihhLmpRdWVyeT1LYiksbn0sdHlwZW9mIGI9PT1VJiYoYS5qUXVlcnk9YS4kPW4pLG59KTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9anF1ZXJ5Lm1pbi5tYXA="}]},{"name":"Github Â¢ûÂº∫ - È´òÈÄü‰∏ãËΩΩ","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://github.com/*","*://hub.fastgit.xyz/*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1657329004971,"data":{"xiu2_menu_raw_fast":"n1"}},"enabled":false,"position":13,"file_url":"https://greasyfork.org/scripts/412245-github-%E5%A2%9E%E5%BC%BA-%E9%AB%98%E9%80%9F%E4%B8%8B%E8%BD%BD/code/Github%20%E5%A2%9E%E5%BC%BA%20-%20%E9%AB%98%E9%80%9F%E4%B8%8B%E8%BD%BD.user.js","uuid":"dbfc3a21-ad5d-4c3b-bd02-2ac6ce5156bc","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBHaXRodWIg5aKe5by6IC0g6auY6YCf5LiL6L29Ci8vIEBuYW1lOnpoLUNOICAgR2l0aHViIOWinuW8uiAtIOmrmOmAn+S4i+i9vQovLyBAbmFtZTp6aC1UVyAgIEdpdGh1YiDlop7lvLcgLSDpq5jpgJ/kuIvovIkKLy8gQG5hbWU6ZW4gICAgICBHaXRodWIgRW5oYW5jZW1lbnQgLSBIaWdoIFNwZWVkIERvd25sb2FkCi8vIEB2ZXJzaW9uICAgICAgMi4wLjcKLy8gQGF1dGhvciAgICAgICBYLkkuVQovLyBAZGVzY3JpcHRpb24gIOmrmOmAn+S4i+i9vSBHaXQgQ2xvbmUvU1NI44CBUmVsZWFzZeOAgVJhd+OAgUNvZGUoWklQKSDnrYnmlofku7bjgIHpobnnm67liJfooajljZXmlofku7blv6vmjbfkuIvovb0gKOKYgSkKLy8gQGRlc2NyaXB0aW9uOnpoLUNOICDpq5jpgJ/kuIvovb0gR2l0IENsb25lL1NTSOOAgVJlbGVhc2XjgIFSYXfjgIFDb2RlKFpJUCkg562J5paH5Lu244CB6aG555uu5YiX6KGo5Y2V5paH5Lu25b+r5o235LiL6L29ICjimIEpCi8vIEBkZXNjcmlwdGlvbjp6aC1UVyAg6auY6YCf5LiL6LyJIEdpdCBDbG9uZS9TU0jjgIFSZWxlYXNl44CBUmF344CBQ29kZShaSVApIOetieaWh+S7tuOAgemgheebruWIl+ihqOWWruaWh+S7tuW/q+aNt+S4i+i8iSAo4piBKQovLyBAZGVzY3JpcHRpb246ZW4gIEhpZ2gtc3BlZWQgZG93bmxvYWQgb2YgR2l0IENsb25lL1NTSCwgUmVsZWFzZSwgUmF3LCBDb2RlKFpJUCkgYW5kIG90aGVyIGZpbGVzLCBwcm9qZWN0IGxpc3QgZmlsZSBxdWljayBkb3dubG9hZCAo4piBKQovLyBAbWF0Y2ggICAgICAgICo6Ly9naXRodWIuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vaHViLmZhc3RnaXQueHl6LyoKLy8gQGljb24gICAgICAgICBkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQU1BQUFCRXBJckdBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBQUZ6VWtkQ0FLN09IT2tBQUFDRVVFeFVSVXhwY1JnV0Zoc1lHQmdXRmhjV0ZoOFdGaG9ZR0JnV0ZpVWxKUmNWRlJrV0ZoZ1ZGUmdXRmhnVkZSc1dGaGdXRmlnZUhoa1dGdi8vLy8vLy8vLy8vL3I2K2g0ZUh2Ly8veGNWRmZMeDhTTWhJVU5DUXBTVGsvcjYralkwTkNrbko5N2UzcnU3dStmbjUxQk9Uc1BDd3FHZ29JU0RnNmVtcG1wb2FLMnNyTkRRMEZoWFYzZVhjQ2NBQUFBWGRGSk9Vd0NCSVpYTUdQNzBCdVJIMlplL0xwSU1VdW5Ia3BRUjM0c2Z5Z0FBQVZwSlJFRlVPTXQxVSttYWdqQU1EQVZiNUJEVTNXMjViOVQxL2Q5dmFZcFFLRHMvckY5blNOSmtBckRBOWV6UVo4d1BiYzhGRTZlQWlRVXNPTzFvMTlKb2xGaWJLQ2RIR0hDMElKZXpPTUQ1c254L3lFK0tPWVlyNDJmUFN1ZlNaeWF6cURvc2VUUHc0bEdKTk91NkxCWFZVUEJHM2xxWUFPdi81WnduTlVmVWlmekJ0OGdrZ2ZnSU5tanhPcGdxVUExNDdRV05hb2NMbmlxcTNRc1NWYlFITnA0NU4vQkF3b1lRejlvVUpFaUU0R01HZm9CU01qNWdqZVdSSU1NcWxlRC9DQXpVSEZxVEx5ak9BNXpqTm53YTRVQ0VaMllLM2toRWNCWEhqVkJ0RUZlSVo2K054WWJQcVdwMURMS1Y0MnQ2VWpuMnlkeWlQaTluWDBUVE5Ba1ZWWi9nb3pzbDZGYnJrdGt3YVZ2TDJUUkswQzhDYTdIY2s3ZjVPQlQ2RkZiTEFUa0wydWdWMHRtMFJMTTlmZWREdmhXc3RsOFdwOUFGRGpGWDd5T1kvbEpydjhBa1l1ejdmdVA4ZHY5aXpDWUgreDMvTEJuajlmWVBCVHBKRE56WCs3Y0FBQUFBU1VWT1JLNUNZSUk9Ci8vIEBncmFudCAgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgIEdNX3VucmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9ub3RpZmljYXRpb24KLy8gQGdyYW50ICAgICAgICB3aW5kb3cub251cmxjaGFuZ2UKLy8gQGxpY2Vuc2UgICAgICBHUEwtMy4wIExpY2Vuc2UKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1lbmQKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvNDEyMjQ1Ci8vIEBzdXBwb3J0VVJMICAgaHR0cHM6Ly9naXRodWIuY29tL1hJVTIvVXNlclNjcmlwdAovLyBAaG9tZXBhZ2VVUkwgIGh0dHBzOi8vZ2l0aHViLmNvbS9YSVUyL1VzZXJTY3JpcHQKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYmFja0NvbG9yID0gJyNmZmZmZmYnLCBmb250Q29sb3IgPSAnIzg4ODg4OCcsIG1lbnVfcmF3X2Zhc3QgPSBHTV9nZXRWYWx1ZSgneGl1Ml9tZW51X3Jhd19mYXN0JyksIG1lbnVfbWVudV9yYXdfZmFzdF9JRCwgbWVudV9mZWVkQmFja19JRDsKICAgIGNvbnN0IGRvd25sb2FkX3VybF91cyA9IFsKICAgICAgICAvL1snaHR0cHM6Ly9wZC56d2MzNjUuY29tL3NldHVybC9odHRwczovL2dpdGh1Yi5jb20nLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dJ10sCiAgICAgICAgWydodHRwczovL2doZGwuei1vLnRvcC9odHRwczovL2dpdGh1Yi5jb20nLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtmZWl6aHVxd3EuY29tXSDmj5DkvpsnXSwKICAgICAgICBbJ2h0dHBzOi8vZ2gyLnlhbnFpc2h1aS53b3JrL2h0dHBzOi8vZ2l0aHViLmNvbScsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0BIb25namllQ05dIOaPkOS+myddLAogICAgICAgIFsnaHR0cHM6Ly9naC5kZGxjLnRvcC9odHRwczovL2dpdGh1Yi5jb20nLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtAbXRyLXN0YXRpYy1vZmZpY2lhbF0g5o+Q5L6bJ10sCiAgICAgICAgWydodHRwczovL2doLmdoMjIzMy5tbC9odHRwczovL2dpdGh1Yi5jb20nLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtAWC5JLlUvWElVMl0g5o+Q5L6bJ10sCiAgICAgICAgWydodHRwczovL2doLmFwaS45OTk4ODg2Ni54eXovaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSddLAogICAgICAgIFsnaHR0cHM6Ly9naC1wcm94eS1taXNha2Fubzc1NDUua295ZWIuYXBwL2h0dHBzOi8vZ2l0aHViLmNvbScsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0nXSwKICAgICAgICBbJ2h0dHBzOi8vY2RuLmdpdGh1YmpzLmNmJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSddLAogICAgICAgIC8vWydodHRwczovL2Rvd25sb2FkLmNpdGh1Yi5pY3UnLCAn576O5Zu9JywgJ1vnvo7lm70g5rSb5p2J55+2XScsICdodHRwczovL2FyY2hpdmUuY2l0aHViLmljdSddLAogICAgICAgIFsnaHR0cHM6Ly9kb3dubG9hZC54bi0tcDhqaGUudHcnLCAn576O5Zu9JywgJ1vnvo7lm70g5Zyj5L2V5aGeXScsICdodHRwczovL2FyY2hpdmUueG4tLXA4amhlLnR3J10sCiAgICBdLCBkb3dubG9hZF91cmwgPSBbCiAgICAgICAgWydodHRwczovL2docHJveHkuZnV0aWxzLmNvbS9odHRwczovL2dpdGh1Yi5jb20nLCAn6aaZ5rivJywgJ1vkuK3lm70g6aaZ5rivXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbRiDmkJxdIOaPkOS+m++8iOWtmOWcqOmZkOmAn++8iSddLAogICAgICAgIFsnaHR0cHM6Ly9kb3dubG9hZC5mYXN0Z2l0Lm9yZycsICfml6XmnKwnLCAnW+aXpeacrCDkuJzkuqxdIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtGYXN0R2l0XSDmj5DkvpsnLCAnaHR0cHM6Ly9hcmNoaXZlLmZhc3RnaXQub3JnJ10sCiAgICAgICAgWydodHRwczovL21pcnJvci5naHByb3h5LmNvbS9odHRwczovL2dpdGh1Yi5jb20nLCAn5pel5pysJywgJ1vml6XmnKwg5Lic5LqsXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbZ2hwcm94eV0g5o+Q5L6bJ10sCiAgICAgICAgWydodHRwczovL2docHJveHkuY29tL2h0dHBzOi8vZ2l0aHViLmNvbScsICfpn6nlm70nLCAnW+mfqeWbvSDpppblsJRdIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtnaHByb3h5XSDmj5DkvpsnXSwKICAgICAgICBbJ2h0dHBzOi8vaHViLnhuLS1nenU2MzBoLnhuLS1rcHJ5NTdkJywgJ+mfqeWbvScsICdb6Z+p5Zu9IOmmluWwlF0nXQogICAgXSwgY2xvbmVfdXJsID0gWwogICAgICAgIFsnaHR0cHM6Ly9naXRjbG9uZS5jb20nLCAn5Zu95YaFJywgJ1vkuK3lm70g5Zu95YaFXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbR2l0Q2xvbmVdIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrmnIkmIzEwOyAtIOmmluasoeavlOi+g+aFou+8jOe8k+WtmOWQjui+g+W/qyddLAogICAgICAgIFsnaHR0cHM6Ly9naHByb3h5LmZ1dGlscy5jb20vaHR0cHM6Ly9naXRodWIuY29tJywgJ+mmmea4rycsICdb5Lit5Zu9IOmmmea4r10gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0Yg5pCcXSDmj5DkvpsmIzEwOyYjMTA7IC0g57yT5a2Y77ya5peg77yI5oiW5pe26Ze05b6I55+t77yJJ10sCiAgICAgICAgWydodHRwczovL2FwaS5tdHIucHViJywgJ+mmmea4rycsICdb5Lit5Zu9IOmmmea4r10gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0BtdHItc3RhdGljLW9mZmljaWFsXSDmj5DkvpsnXSwKICAgICAgICBbJ2h0dHBzOi8vaHViLmZhc3RnaXQueHl6JywgJ+aXpeacrCcsICdb5pel5pysIOS4nOS6rF0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0Zhc3RHaXRdIOaPkOS+myddLAogICAgICAgIFsnaHR0cHM6Ly9taXJyb3IuZ2hwcm94eS5jb20vaHR0cHM6Ly9naXRodWIuY29tJywgJ+aXpeacrCcsICdb5pel5pysIOS4nOS6rF0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW2docHJveHldIOaPkOS+myddLAogICAgICAgIFsnaHR0cHM6Ly9naHByb3h5LmNvbS9odHRwczovL2dpdGh1Yi5jb20nLCAn6Z+p5Zu9JywgJ1vpn6nlm70g6aaW5bCUXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbZ2hwcm94eV0g5o+Q5L6bJ10sCiAgICAgICAgWydodHRwczovL2h1Yi54bi0tZ3p1NjMwaC54bi0ta3ByeTU3ZCcsICfpn6nlm70nLCAnW+mfqeWbvSDpppblsJRdJ10sCiAgICAgICAgLy9bJ2h0dHBzOi8vZ2guZ2Nkbi5taXJyLm9uZScsICfkv4TnvZfmlq8nLCAnW+S/hOe9l+aWryBHLUNvcmUgTGFicyBDRE5dJ10sCiAgICAgICAgLy9bJ2h0dHBzOi8vY2l0aHViLmljdScsICfnvo7lm70nLCAnW+e+juWbvSDmtJvmnYnnn7ZdJ10sCiAgICAgICAgLy9bJ2h0dHBzOi8vaHViLnhuLS1wOGpoZS50dycsICfnvo7lm70nLCAnW+e+juWbvSDlnKPkvZXloZ5dJ10KICAgICAgICAvL1snaHR0cHM6Ly9odWIuMHouZ3MnLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dJ10sCiAgICAgICAgLy9bJ2h0dHBzOi8vaHViLnNodXRjbS5jZicsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0nXQogICAgXSwgY2xvbmVfc3NoX3VybCA9IFsKICAgICAgICBbJ2dpdEBzc2guZmFzdGdpdC5vcmcnLCAn6aaZ5rivJywgJ1vkuK3lm70g6aaZ5rivXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbRmFzdEdpdF0g5o+Q5L6bJ10sCiAgICAgICAgWydnaXRAZ2l0LnpobGg2LmNuJywgJ+e+juWbvScsICdb576O5Zu9IOa0m+adieeftl0nXQogICAgXSwgcmF3X3VybCA9IFsKICAgICAgICBbJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbScsICdHaXRodWIg5Y6f55SfJywgJ1vml6XmnKwg5Lic5LqsXSddLAogICAgICAgIFsnaHR0cHM6Ly9naHByb3h5LmZ1dGlscy5jb20vaHR0cHM6Ly9naXRodWIuY29tJywgJ+mmmea4ryAxJywgJ1vkuK3lm70g6aaZ5rivXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbRiDmkJxdIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXSwKICAgICAgICAvL1snaHR0cHM6Ly9naHByb3h5LmZzb2Zzby5jb20vaHR0cHM6Ly9naXRodWIuY29tJywgJ+mmmea4ryAyJywgJ1vkuK3lm70g6aaZ5rivXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbRiDmkJxdIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXSwKICAgICAgICBbJ2h0dHBzOi8vcmF3LmlxaXEuaW8nLCAn6aaZ5rivIDInLCAnW+S4reWbvSDpppnmuK9dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtpUUROUy9pUVpvbmVdIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXSwKICAgICAgICAvL1snaHR0cHM6Ly9naHByb3h5LmNvbS9odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20nLCAn6Z+p5Zu9JywgJ1vpn6nlm70g6aaW5bCUXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbZ2hwcm94eV0g5o+Q5L6bJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaXoO+8iOaIluaXtumXtOW+iOefre+8iSddLAogICAgICAgIFsnaHR0cHM6Ly9mYXN0bHkuanNkZWxpdnIubmV0L2doJywgJ+aXpeacrCAxJywgJ1vml6XmnKwg5Lic5LqsXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbSlNEZWxpdnIgQ0ROXSDmj5DkvpsmIzEwOyYjMTA7IC0g57yT5a2Y77ya5pyJJiMxMDsgLSDkuI3mlK/mjIHlpKflsI/otoXov4cgNTAgTUIg55qE5paH5Lu2JiMxMDsgLSDkuI3mlK/mjIHniYjmnKzlj7fmoLzlvI/nmoTliIbmlK/lkI3vvIjlpoIgdjEuMi4z77yJJ10sCiAgICAgICAgWydodHRwczovL2Nkbi5zdGF0aWNhbHkuY29tL2doJywgJ+aXpeacrCAyJywgJ1vml6XmnKwg5Lic5LqsXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbU3RhdGljYWxseSBDRE5dIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrmnIkmIzEwOyAtIOS4jeaUr+aMgeWkp+Wwj+i2hei/hyAzMCBNQiDnmoTmlofku7YnXSwKICAgICAgICBbJ2h0dHBzOi8vcmF3LmZhc3RnaXQub3JnJywgJ+aXpeacrCAzJywgJ1vml6XmnKwg5Lic5LqsXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbRmFzdEdpdF0g5o+Q5L6bJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaXoO+8iOaIluaXtumXtOW+iOefre+8iSddLAogICAgICAgIFsnaHR0cHM6Ly9yYXcueG4tLWd6dTYzMGgueG4tLWtwcnk1N2QnLCAn6Z+p5Zu9JywgJ1vpn6nlm70g6aaW5bCUXSYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXSwKICAgICAgICAvL1snaHR0cHM6Ly9yYXcuY2l0aHViLmljdScsICfnvo7lm70nLCAnW+e+juWbvSDmtJvmnYnnn7ZdJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaXoO+8iOaIluaXtumXtOW+iOefre+8iSddLAogICAgICAgIC8vWydodHRwczovL3Jhdy54bi0tcDhqaGUudHcnLCAn576O5Zu9JywgJ1vnvo7lm70g5Zyj5L2V5aGeXSYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXSwKICAgICAgICAvL1snaHR0cHM6Ly9naXQueXVtZW5ha2EubmV0L2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbScsICfnvo7lm70nLCAnW+e+juWbvSDlnKPkvZXloZ5dJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaXoO+8iOaIluaXtumXtOW+iOefre+8iSddLAogICAgICAgIFsnaHR0cHM6Ly9nY29yZS5qc2RlbGl2ci5uZXQvZ2gnLCAn5YW25LuWIDEnLCAnW+enu+WKqOi1sOmmmea4r+OAgeeUteS/oei1sOaXpeacrF0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0pTRGVsaXZyIENETl0g5o+Q5L6bJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaciSYjMTA7IC0g5LiN5pSv5oyB5aSn5bCP6LaF6L+HIDUwIE1CIOeahOaWh+S7tiYjMTA7IC0g5LiN5pSv5oyB54mI5pys5Y+35qC85byP55qE5YiG5pSv5ZCN77yI5aaCIHYxLjIuM++8iSddLAogICAgICAgIFsnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnRzLmNvbScsICflhbbku5YgMicsICdb6aaZ5riv44CB5paw5Yqg5Z2h44CB576O5Zu9Xe+8iOS4jeWbuuWumu+8iSYjMTA7JiMxMDsgLSDnvJPlrZjvvJrmnIkmIzEwOyAtIOivpeWKoOmAn+a6kOS4jeaUr+aMgeWkp+Wwj+i2hei/hyAxIE1CIOeahOaWh+S7tiddLAogICAgICAgIFsnaHR0cHM6Ly9yYXctZ2guZ2Nkbi5taXJyLm9uZScsICfkv4TnvZfmlq8nLCAnW+S/hOe9l+aWryBHLUNvcmUgTGFicyBDRE5dJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaciSddCiAgICBdLCBzdmcgPSBbCiAgICAgICAgJzxzdmcgY2xhc3M9Im9jdGljb24gb2N0aWNvbi1maWxlLXppcCBtci0yIiBhcmlhLWhpZGRlbj0idHJ1ZSIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIxNiIgZGF0YS12aWV3LWNvbXBvbmVudD0idHJ1ZSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMy41IDEuNzVhLjI1LjI1IDAgMDEuMjUtLjI1aDNhLjc1Ljc1IDAgMDAwIDEuNWguNWEuNzUuNzUgMCAwMDAtMS41aDIuMDg2YS4yNS4yNSAwIDAxLjE3Ny4wNzNsMi45MTQgMi45MTRhLjI1LjI1IDAgMDEuMDczLjE3N3Y4LjU4NmEuMjUuMjUgMCAwMS0uMjUuMjVoLS41YS43NS43NSAwIDAwMCAxLjVoLjVBMS43NSAxLjc1IDAgMDAxNCAxMy4yNVY0LjY2NGMwLS40NjQtLjE4NC0uOTA5LS41MTMtMS4yMzdMMTAuNTczLjUxM0ExLjc1IDEuNzUgMCAwMDkuMzM2IDBIMy43NUExLjc1IDEuNzUgMCAwMDIgMS43NXYxMS41YzAgLjY0OS4zNTMgMS4yMTQuODc0IDEuNTE1YS43NS43NSAwIDEwLjc1Mi0xLjI5OC4yNS4yNSAwIDAxLS4xMjYtLjIxN1YxLjc1ek04Ljc1IDNhLjc1Ljc1IDAgMDAwIDEuNWguNWEuNzUuNzUgMCAwMDAtMS41aC0uNXpNNiA1LjI1YS43NS43NSAwIDAxLjc1LS43NWguNWEuNzUuNzUgMCAwMTAgMS41aC0uNUEuNzUuNzUgMCAwMTYgNS4yNXptMiAxLjVBLjc1Ljc1IDAgMDE4Ljc1IDZoLjVhLjc1Ljc1IDAgMDEwIDEuNWgtLjVBLjc1Ljc1IDAgMDE4IDYuNzV6bS0xLjI1Ljc1YS43NS43NSAwIDAwMCAxLjVoLjVhLjc1Ljc1IDAgMDAwLTEuNWgtLjV6TTggOS43NUEuNzUuNzUgMCAwMTguNzUgOWguNWEuNzUuNzUgMCAwMTAgMS41aC0uNUEuNzUuNzUgMCAwMTggOS43NXptLS43NS43NWExLjc1IDEuNzUgMCAwMC0xLjc1IDEuNzV2M2MwIC40MTQuMzM2Ljc1Ljc1Ljc1aDIuNWEuNzUuNzUgMCAwMC43NS0uNzV2LTNhMS43NSAxLjc1IDAgMDAtMS43NS0xLjc1aC0uNXpNNyAxMi4yNWEuMjUuMjUgMCAwMS4yNS0uMjVoLjVhLjI1LjI1IDAgMDEuMjUuMjV2Mi4yNUg3di0yLjI1eiI+PC9wYXRoPjwvc3ZnPicsCiAgICAgICAgJzxzdmcgYXJpYS1oaWRkZW49InRydWUiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMTYiIGRhdGEtdmlldy1jb21wb25lbnQ9InRydWUiIGNsYXNzPSJvY3RpY29uIG9jdGljb24tY29weSBqcy1jbGlwYm9hcmQtY29weS1pY29uIGQtaW5saW5lLWJsb2NrIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0wIDYuNzVDMCA1Ljc4NC43ODQgNSAxLjc1IDVoMS41YS43NS43NSAwIDAxMCAxLjVoLTEuNWEuMjUuMjUgMCAwMC0uMjUuMjV2Ny41YzAgLjEzOC4xMTIuMjUuMjUuMjVoNy41YS4yNS4yNSAwIDAwLjI1LS4yNXYtMS41YS43NS43NSAwIDAxMS41IDB2MS41QTEuNzUgMS43NSAwIDAxOS4yNSAxNmgtNy41QTEuNzUgMS43NSAwIDAxMCAxNC4yNXYtNy41eiI+PC9wYXRoPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUgMS43NUM1IC43ODQgNS43ODQgMCA2Ljc1IDBoNy41QzE1LjIxNiAwIDE2IC43ODQgMTYgMS43NXY3LjVBMS43NSAxLjc1IDAgMDExNC4yNSAxMWgtNy41QTEuNzUgMS43NSAwIDAxNSA5LjI1di03LjV6bTEuNzUtLjI1YS4yNS4yNSAwIDAwLS4yNS4yNXY3LjVjMCAuMTM4LjExMi4yNS4yNS4yNWg3LjVhLjI1LjI1IDAgMDAuMjUtLjI1di03LjVhLjI1LjI1IDAgMDAtLjI1LS4yNWgtNy41eiI+PC9wYXRoPjwvc3ZnPjxzdmcgYXJpYS1oaWRkZW49InRydWUiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMTYiIGRhdGEtdmlldy1jb21wb25lbnQ9InRydWUiIGNsYXNzPSJvY3RpY29uIG9jdGljb24tY2hlY2sganMtY2xpcGJvYXJkLWNoZWNrLWljb24gY29sb3ItZmctc3VjY2VzcyBkLWlubGluZS1ibG9jayBkLXNtLW5vbmUiPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTEzLjc4IDQuMjJhLjc1Ljc1IDAgMDEwIDEuMDZsLTcuMjUgNy4yNWEuNzUuNzUgMCAwMS0xLjA2IDBMMi4yMiA5LjI4YS43NS43NSAwIDAxMS4wNi0xLjA2TDYgMTAuOTRsNi43Mi02LjcyYS43NS43NSAwIDAxMS4wNiAweiI+PC9wYXRoPjwvc3ZnPicsCiAgICAgICAgJzxzdmcgY2xhc3M9Im9jdGljb24gb2N0aWNvbi1jbG91ZC1kb3dubG9hZCIgYXJpYS1oaWRkZW49InRydWUiIGhlaWdodD0iMTYiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDE2IDE2IiB3aWR0aD0iMTYiPjxwYXRoIGQ9Ik05IDEyaDJsLTMgMy0zLTNoMlY3aDJ2NXptMy04YzAtLjQ0LS45MS0zLTQuNS0zQzUuMDggMSAzIDIuOTIgMyA1IDEuMDIgNSAwIDYuNTIgMCA4YzAgMS41MyAxIDMgMyAzaDNWOS43SDNDMS4zOCA5LjcgMS4zIDguMjggMS4zIDhjMC0uMTcuMDUtMS43IDEuNy0xLjdoMS4zVjVjMC0xLjM5IDEuNTYtMi43IDMuMi0yLjcgMi41NSAwIDMuMTMgMS41NSAzLjIgMS44djEuMkgxMmMuODEgMCAyLjcuMjIgMi43IDIuMiAwIDIuMDktMi4yNSAyLjItMi43IDIuMmgtMlYxMWgyYzIuMDggMCA0LTEuMTYgNC0zLjVDMTYgNS4wNiAxNC4wOCA0IDEyIDR6Ij48L3BhdGg+PC9zdmc+JwogICAgXSwgc3R5bGUgPSBbJ3BhZGRpbmc6MCA2cHg7IG1hcmdpbi1yaWdodDogLTFweDsgYm9yZGVyLXJhZGl1czogMnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1YSVUyLWJhY2stQ29sb3IpOyBib3JkZXItY29sb3I6IHJnYmEoMjcsIDMxLCAzNSwgMC4xKTsgZm9udC1zaXplOiAxMXB4OyBjb2xvcjogdmFyKC0tWElVMi1mb250LUNvbG9yKTsnXTsKCiAgICBpZiAobWVudV9yYXdfZmFzdCA9PSBudWxsKXttZW51X3Jhd19mYXN0ID0gMTsgR01fc2V0VmFsdWUoJ3hpdTJfbWVudV9yYXdfZmFzdCcsIDEpfTsKICAgIHJlZ2lzdGVyTWVudUNvbW1hbmQoKTsKICAgIC8vIOazqOWGjOiEmuacrOiPnOWNlQogICAgZnVuY3Rpb24gcmVnaXN0ZXJNZW51Q29tbWFuZCgpIHsKICAgICAgICBpZiAobWVudV9mZWVkQmFja19JRCkgeyAvLyDlpoLmnpzlj43ppojoj5zljZVJROS4jeaYryBudWxs77yM5YiZ5Yig6Zmk5omA5pyJ6ISa5pys6I+c5Y2VCiAgICAgICAgICAgIEdNX3VucmVnaXN0ZXJNZW51Q29tbWFuZChtZW51X21lbnVfcmF3X2Zhc3RfSUQpOwogICAgICAgICAgICBHTV91bnJlZ2lzdGVyTWVudUNvbW1hbmQobWVudV9mZWVkQmFja19JRCk7CiAgICAgICAgICAgIG1lbnVfcmF3X2Zhc3QgPSBHTV9nZXRWYWx1ZSgneGl1Ml9tZW51X3Jhd19mYXN0Jyk7CiAgICAgICAgfQogICAgICAgIGlmIChtZW51X3Jhd19mYXN0ID4gcmF3X3VybC5sZW5ndGggLSAxKSB7IC8vIOmBv+WFjeWcqOWHj+WwkSByYXcg5pWw57uE5ZCO77yM55So5oi35YKo5a2Y55qE5pWw5o2u5aSn5LqO5pWw57uE6ICM5oql6ZSZCiAgICAgICAgICAgIG1lbnVfcmF3X2Zhc3QgPSAwCiAgICAgICAgfQogICAgICAgIG1lbnVfbWVudV9yYXdfZmFzdF9JRCA9IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoYCR7bWVudV9udW0obWVudV9yYXdfZmFzdCl9IFsgJHtyYXdfdXJsW21lbnVfcmF3X2Zhc3RdWzFdfSBdIOWKoOmAn+a6kCAo4piBKSAtIOeCueWHu+WIh+aNomAsIG1lbnVfdG9nZ2xlX3Jhd19mYXN0KTsKICAgICAgICBtZW51X2ZlZWRCYWNrX0lEID0gR01fcmVnaXN0ZXJNZW51Q29tbWFuZCgn8J+SrCDlj43ppoggJiDlu7rorq4gW0dpdGh1Yl0nLCBmdW5jdGlvbiAoKSB7d2luZG93LkdNX29wZW5JblRhYignaHR0cHM6Ly9naXRodWIuY29tL1hJVTIvVXNlclNjcmlwdCcsIHthY3RpdmU6IHRydWUsaW5zZXJ0OiB0cnVlLHNldFBhcmVudDogdHJ1ZX0pO3dpbmRvdy5HTV9vcGVuSW5UYWIoJ2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy80MTIyNDUvZmVlZGJhY2snLCB7YWN0aXZlOiB0cnVlLGluc2VydDogdHJ1ZSxzZXRQYXJlbnQ6IHRydWV9KTt9KTsKICAgIH0KCiAgICAvLyDliIfmjaLliqDpgJ/mupAKICAgIGZ1bmN0aW9uIG1lbnVfdG9nZ2xlX3Jhd19mYXN0KCkgewogICAgICAgIC8vIOWmguaenOW9k+WJjeWKoOmAn+a6kOS9jee9ruWkp+S6juetieS6juWKoOmAn+a6kOaAu+aVsO+8jOWImeaUueS4uuesrOS4gOS4quWKoOmAn+a6kO+8jOWPjeS5i+mAkuWinuS4i+S4gOS4quWKoOmAn+a6kAogICAgICAgIGlmIChtZW51X3Jhd19mYXN0ID49IHJhd191cmwubGVuZ3RoIC0gMSkge21lbnVfcmF3X2Zhc3QgPSAwO30gZWxzZSB7bWVudV9yYXdfZmFzdCArPSAxO30KICAgICAgICBHTV9zZXRWYWx1ZSgneGl1Ml9tZW51X3Jhd19mYXN0JywgbWVudV9yYXdfZmFzdCk7CiAgICAgICAgZGVsUmF3RG93bkxpbmsoKTsgLy8g5Yig6Zmk5pen5Yqg6YCf5rqQCiAgICAgICAgYWRkUmF3RG93bkxpbmsoKTsgLy8g5re75Yqg5paw5Yqg6YCf5rqQCiAgICAgICAgR01fbm90aWZpY2F0aW9uKHt0ZXh0OiAi5bey5YiH5o2i5Yqg6YCf5rqQ5Li677yaIiArIHJhd191cmxbbWVudV9yYXdfZmFzdF1bMV0sIHRpbWVvdXQ6IDMwMDB9KTsgLy8g5o+Q56S65raI5oGvCiAgICAgICAgcmVnaXN0ZXJNZW51Q29tbWFuZCgpOyAvLyDph43mlrDms6jlhozohJrmnKzoj5zljZUKICAgIH07CgogICAgLy8g6I+c5Y2V5pWw5a2X5Zu+5qCHCiAgICBmdW5jdGlvbiBtZW51X251bShudW0pIHsKICAgICAgICByZXR1cm4gWycw77iP4oOjJywnMe+4j+KDoycsJzLvuI/ig6MnLCcz77iP4oOjJywnNO+4j+KDoycsJzXvuI/ig6MnLCc277iP4oOjJywnN++4j+KDoycsJzjvuI/ig6MnLCc577iP4oOjJywn8J+UnyddW251bV0KICAgIH0KCiAgICBjb2xvck1vZGUoKTsKICAgIGFkZFJlbGVhc2UoKTsgLy8gICAgICAgICAgICAgICAgICAgICBSZWxlYXNlIOWKoOmAnwogICAgc2V0VGltZW91dChhZGREb3dubG9hZFpJUCwgMjAwMCk7IC8vIERvd25sb2FkIFpJUCDliqDpgJ8KICAgIHNldFRpbWVvdXQoYWRkR2l0Q2xvbmUsIDIwMDApOyAvLyAgICBHaXQgQ2xvbmUg5Yqg6YCfCiAgICBzZXRUaW1lb3V0KGFkZEdpdENsb25lU1NILCAyMDAwKTsgLy8gR2l0IENsb25lIFNTSCDliqDpgJ8KICAgIGFkZFJhd0ZpbGUoKTsgLy8gICAgICAgICAgICAgICAgICAgICBSYXcg5Yqg6YCfCiAgICBzZXRUaW1lb3V0KGFkZFJhd0Rvd25MaW5rLCAyMDAwKTsgLy8g5re75YqgIFJhdyDkuIvovb3pk77mjqXvvIjimIHvvInvvIzlu7bov58gMiDnp5LmiafooYzvvIzpgb/lhY3ooqsgcGpheCDliLfmjokKCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwamF4OnN1Y2Nlc3MnLGZ1bmN0aW9uKCl7IC8vIHBqYXgg5LqL5Lu25Y+R55Sf5ZCOCiAgICAgICAgY29sb3JNb2RlKCk7CiAgICAgICAgYWRkUmVsZWFzZSgpOyAvLyAgICAgICAgICAgICAgICAgICAgIFJlbGVhc2Ug5Yqg6YCfCiAgICAgICAgc2V0VGltZW91dChhZGREb3dubG9hZFpJUCwgMjAwMCk7IC8vIERvd25sb2FkIFpJUCDliqDpgJ8KICAgICAgICBzZXRUaW1lb3V0KGFkZEdpdENsb25lLCAyMDAwKTsgLy8gICAgR2l0IENsb25lIOWKoOmAnwogICAgICAgIHNldFRpbWVvdXQoYWRkR2l0Q2xvbmVTU0gsIDIwMDApOyAvLyBHaXQgQ2xvbmUgU1NIIOWKoOmAnwogICAgICAgIGFkZFJhd0ZpbGUoKTsgLy8gICAgICAgICAgICAgICAgICAgICBSYXcg5Yqg6YCfCiAgICAgICAgc2V0VGltZW91dChhZGRSYXdEb3duTGluaywgMjAwMCk7IC8vIOa3u+WKoCBSYXcg5LiL6L296ZO+5o6l77yI4piB77yJ77yM5bu26L+fIDIg56eS5omn6KGM77yM6YG/5YWN6KKrIHBqYXgg5Yi35o6JCiAgICB9KTsKCiAgICAvLyDlnKjmtY/op4jlmajov5Tlm54v5YmN6L+b5pe26YeN5paw5re75YqgIFJhdyDkuIvovb3pk77mjqXvvIjimIHvvInkuovku7YKICAgIC8vIFRhbXBlcm1vbmtleSB2NC4xMSDniYjmnKzmt7vliqDnmoQgb251cmxjaGFuZ2Ug5LqL5Lu2IGdyYW5077yM5Y+v5Lul55uR5o6nIHBqYXgg562J572R6aG155qEIFVSTCDlj5jljJYKICAgIGlmICh3aW5kb3cub251cmxjaGFuZ2UgPT09IHVuZGVmaW5lZCkge2FkZFVybENoYW5nZUV2ZW50KCk7fQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VybGNoYW5nZScsIGZ1bmN0aW9uKCkgewogICAgICAgIGFkZFJhd0Rvd25MaW5rXygpOwogICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvcmVsZWFzZXMnKSkge2FkZFJlbGVhc2UoKTt9CiAgICB9KTsKCiAgICAvLyBkb3dubG9hZF91cmwg5Yqg6YCf5rqQ6ZqP5py6CiAgICBmdW5jdGlvbiBnZXRfTmV3X2Rvd25sb2FkX3VybCgpIHsKICAgICAgICBsZXQgYSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpkb3dubG9hZF91cmxfdXMubGVuZ3RoKSwgYiwgbmV3X2Rvd25sb2FkX3VybD1bXQogICAgICAgIGRvIHtiID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmRvd25sb2FkX3VybF91cy5sZW5ndGgpfQogICAgICAgIHdoaWxlIChiID09IGEpOwogICAgICAgIHJldHVybiBbZG93bmxvYWRfdXJsX3VzW2FdLGRvd25sb2FkX3VybF91c1tiXV0uY29uY2F0KGRvd25sb2FkX3VybCkKICAgIH0KCiAgICAvLyBSZWxlYXNlCiAgICBmdW5jdGlvbiBhZGRSZWxlYXNlKCkgewogICAgICAgIGxldCBodG1sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLkJveC1mb290ZXInKTsgaWYgKGh0bWwubGVuZ3RoID09IDAgfHwgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3JlbGVhc2VzJykgPT0gLTEpIHJldHVybgogICAgICAgIGxldCBkaXZEaXNwbGF5ID0gJ21hcmdpbi1sZWZ0OiAtOTBweDsnOwogICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPiA3NTUpIHtkaXZEaXNwbGF5ID0gJ21hcmdpbi10b3A6IC0zcHg7bWFyZ2luLWxlZnQ6IDhweDtkaXNwbGF5OiBpbmhlcml0Oyc7fTsgLy8g6LCD5pW05bCP5bGP5bmV5pe255qE5qC35byPCiAgICAgICAgbGV0IG5ld19kb3dubG9hZF91cmwgPSBnZXRfTmV3X2Rvd25sb2FkX3VybCgpOwogICAgICAgIGZvciAoY29uc3QgY3VycmVudCBvZiBodG1sKSB7CiAgICAgICAgICAgIGlmIChjdXJyZW50LnF1ZXJ5U2VsZWN0b3IoJy5YSVUyLVJTJykpIGNvbnRpbnVlCiAgICAgICAgICAgIGN1cnJlbnQucXVlcnlTZWxlY3RvckFsbCgnbGkuQm94LXJvdyBhJykuZm9yRWFjaChmdW5jdGlvbiAoX3RoaXMpIHsKICAgICAgICAgICAgICAgIGxldCBocmVmID0gX3RoaXMuaHJlZi5zcGxpdChsb2NhdGlvbi5ob3N0KSwKICAgICAgICAgICAgICAgICAgICB1cmwgPSAnJywgX2h0bWwgPSBgPGRpdiBjbGFzcz0iWElVMi1SUyIgc3R5bGU9IiR7ZGl2RGlzcGxheX0iPmA7CgogICAgICAgICAgICAgICAgZm9yIChsZXQgaT0wO2k8bmV3X2Rvd25sb2FkX3VybC5sZW5ndGg7aSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld19kb3dubG9hZF91cmxbaV1bM10gIT09IHVuZGVmaW5lZCAmJiB1cmwuaW5kZXhPZignL2FyY2hpdmUvJykgIT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IG5ld19kb3dubG9hZF91cmxbaV1bM10gKyBocmVmWzFdCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gbmV3X2Rvd25sb2FkX3VybFtpXVswXSArIGhyZWZbMV0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uLmhvc3QgIT09ICdnaXRodWIuY29tJykgdXJsID0gdXJsLnJlcGxhY2UobG9jYXRpb24uaG9zdCwnZ2l0aHViLmNvbScpCiAgICAgICAgICAgICAgICAgICAgX2h0bWwgKz0gYDxhIHN0eWxlPSIke3N0eWxlWzBdfSIgY2xhc3M9ImJ0biIgaHJlZj0iJHt1cmx9IiB0aXRsZT0iJHtuZXdfZG93bmxvYWRfdXJsW2ldWzJdfSIgcmVsPSJub3JlZmVycmVyIG5vb3BlbmVyIG5vZm9sbG93Ij4ke25ld19kb3dubG9hZF91cmxbaV1bMV19PC9hPmAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgX2h0bWwgKyAnPC9kaXY+Jyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KCgogICAgLy8gRG93bmxvYWQgWklQCiAgICBmdW5jdGlvbiBhZGREb3dubG9hZFpJUCgpIHsKICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlhJVTItRFonKSkgcmV0dXJuCiAgICAgICAgbGV0IGh0bWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tbWVudS5kcm9wZG93bi1tZW51LXN3LnAtMCB1bCBsaTpsYXN0LWNoaWxkJyk7aWYgKCFodG1sKSByZXR1cm4KICAgICAgICBsZXQgaHJlZiA9IGh0bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKVswXS5ocmVmLAogICAgICAgICAgICB1cmwgPSAnJywgX2h0bWwgPSAnJywgbmV3X2Rvd25sb2FkX3VybCA9IGdldF9OZXdfZG93bmxvYWRfdXJsKCk7CiAgICAgICAgZm9yIChsZXQgaT0wO2k8bmV3X2Rvd25sb2FkX3VybC5sZW5ndGg7aSsrKSB7CiAgICAgICAgICAgIGlmIChuZXdfZG93bmxvYWRfdXJsW2ldWzNdID09PSAnJykgY29udGludWUKCiAgICAgICAgICAgIGlmIChuZXdfZG93bmxvYWRfdXJsW2ldWzNdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIHVybCA9IG5ld19kb3dubG9hZF91cmxbaV1bM10gKyBocmVmLnNwbGl0KGxvY2F0aW9uLmhvc3QpWzFdCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB1cmwgPSBuZXdfZG93bmxvYWRfdXJsW2ldWzBdICsgaHJlZi5zcGxpdChsb2NhdGlvbi5ob3N0KVsxXQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5ob3N0ICE9PSAnZ2l0aHViLmNvbScpIHVybCA9IHVybC5yZXBsYWNlKGxvY2F0aW9uLmhvc3QsJ2dpdGh1Yi5jb20nKQogICAgICAgICAgICBfaHRtbCArPSBgPGxpIGNsYXNzPSJCb3gtcm93IEJveC1yb3ctLWhvdmVyLWdyYXkgcC0zIG10LTAgWElVMi1EWiI+PGEgY2xhc3M9ImQtZmxleCBmbGV4LWl0ZW1zLWNlbnRlciBjb2xvci1mZy1kZWZhdWx0IHRleHQtYm9sZCBuby11bmRlcmxpbmUiIHJlbD0ibm9yZWZlcnJlciBub29wZW5lciBub2ZvbGxvdyIgaHJlZj0iJHt1cmx9IiB0aXRsZT0iJHtuZXdfZG93bmxvYWRfdXJsW2ldWzJdfSI+JHtzdmdbMF19RG93bmxvYWQgWklQICR7bmV3X2Rvd25sb2FkX3VybFtpXVsxXX08L2E+PC9saT5gCiAgICAgICAgfQogICAgICAgIGh0bWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsIF9odG1sKTsKICAgIH0KCgogICAgLy8gR2l0IENsb25lCiAgICBmdW5jdGlvbiBhZGRHaXRDbG9uZSgpIHsKICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlhJVTItR0MnKSkgcmV0dXJuCiAgICAgICAgbGV0IGh0bWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbcm9sZT0idGFicGFuZWwiXTpudGgtY2hpbGQoMikgZGl2LmlucHV0LWdyb3VwJyk7aWYgKCFodG1sKSByZXR1cm4KICAgICAgICBsZXQgaHJlZl9zcGxpdCA9IGh0bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JylbMF0uZ2V0QXR0cmlidXRlKCd2YWx1ZScpLnNwbGl0KGxvY2F0aW9uLmhvc3QpLAogICAgICAgICAgICB1cmwgPSAnJywgX2h0bWwgPSAnJzsKCiAgICAgICAgZm9yIChsZXQgaT0wO2k8Y2xvbmVfdXJsLmxlbmd0aDtpKyspIHsKICAgICAgICAgICAgaWYgKGNsb25lX3VybFtpXVswXSA9PT0gJ2h0dHBzOi8vZ2l0Y2xvbmUuY29tJykgewogICAgICAgICAgICAgICAgdXJsID0gY2xvbmVfdXJsW2ldWzBdICsgJy9naXRodWIuY29tJyArIGhyZWZfc3BsaXRbMV0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHVybCA9IGNsb25lX3VybFtpXVswXSArIGhyZWZfc3BsaXRbMV0KICAgICAgICAgICAgfQogICAgICAgICAgICBfaHRtbCArPSBgPGRpdiBjbGFzcz0iaW5wdXQtZ3JvdXAgWElVMi1HQyIgc3R5bGU9Im1hcmdpbi10b3A6IDRweDsiIHRpdGxlPSLliqDpgJ/mupDvvJoke2Nsb25lX3VybFtpXVsxXX0g77yI54K55Ye75Y+v55u05o6l5aSN5Yi277yJIj48aW5wdXQgdmFsdWU9IiR7dXJsfSIgYXJpYS1sYWJlbD0iJHt1cmx9IiB0aXRsZT0iJHtjbG9uZV91cmxbaV1bMl19IiB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIGlucHV0LW1vbm9zcGFjZSBpbnB1dC1zbSBjb2xvci1iZy1zdWJ0bGUiIGRhdGEtYXV0b3NlbGVjdD0iIiByZWFkb25seT0iIj48ZGl2IGNsYXNzPSJpbnB1dC1ncm91cC1idXR0b24iPjxjbGlwYm9hcmQtY29weSB2YWx1ZT0iJHt1cmx9IiBhcmlhLWxhYmVsPSJDb3B5IHRvIGNsaXBib2FyZCIgY2xhc3M9ImJ0biBidG4tc20ganMtY2xpcGJvYXJkLWNvcHkgdG9vbHRpcHBlZC1uby1kZWxheSBDbGlwYm9hcmRCdXR0b24iIHRhYmluZGV4PSIwIiByb2xlPSJidXR0b24iPiR7c3ZnWzFdfTwvY2xpcGJvYXJkLWNvcHk+PC9kaXY+PC9kaXY+YAogICAgICAgIH0KICAgICAgICBodG1sLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCBfaHRtbCk7CiAgICB9CgoKICAgIC8vIEdpdCBDbG9uZSBTU0gKICAgIGZ1bmN0aW9uIGFkZEdpdENsb25lU1NIKCkgewogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuWElVMi1HQ1MnKSkgcmV0dXJuCiAgICAgICAgbGV0IGh0bWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbcm9sZT0idGFicGFuZWwiXTpudGgtY2hpbGQoMykgZGl2LmlucHV0LWdyb3VwJyk7aWYgKCFodG1sKSByZXR1cm4KICAgICAgICBsZXQgaHJlZl9zcGxpdCA9IGh0bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JylbMF0uZ2V0QXR0cmlidXRlKCd2YWx1ZScpLnNwbGl0KCc6JyksCiAgICAgICAgICAgIF9odG1sID0gJyc7CgogICAgICAgIGlmIChocmVmX3NwbGl0WzBdICE9ICdnaXRAZ2l0aHViLmNvbScpIHJldHVybgoKICAgICAgICBmb3IgKGxldCBpPTA7aTxjbG9uZV9zc2hfdXJsLmxlbmd0aDtpKyspIHsKICAgICAgICAgICAgX2h0bWwgKz0gYDxkaXYgY2xhc3M9ImlucHV0LWdyb3VwIFhJVTItR0NTIiBzdHlsZT0ibWFyZ2luLXRvcDogNHB4OyIgdGl0bGU9IuWKoOmAn+a6kO+8miR7Y2xvbmVfc3NoX3VybFtpXVsxXX0g77yI54K55Ye75Y+v55u05o6l5aSN5Yi277yJIj48aW5wdXQgdmFsdWU9IiR7Y2xvbmVfc3NoX3VybFtpXVswXSArICc6JyArIGhyZWZfc3BsaXRbMV19IiBhcmlhLWxhYmVsPSIke2Nsb25lX3NzaF91cmxbaV1bMF0gKyAnOicgKyBocmVmX3NwbGl0WzFdfSIgdGl0bGU9IiR7Y2xvbmVfc3NoX3VybFtpXVsyXX0iIHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgaW5wdXQtbW9ub3NwYWNlIGlucHV0LXNtIGNvbG9yLWJnLXN1YnRsZSIgZGF0YS1hdXRvc2VsZWN0PSIiIHJlYWRvbmx5PSIiPjxkaXYgY2xhc3M9ImlucHV0LWdyb3VwLWJ1dHRvbiI+PGNsaXBib2FyZC1jb3B5IHZhbHVlPSIke2Nsb25lX3NzaF91cmxbaV1bMF0gKyAnOicgKyBocmVmX3NwbGl0WzFdfSIgYXJpYS1sYWJlbD0iQ29weSB0byBjbGlwYm9hcmQiIGNsYXNzPSJidG4gYnRuLXNtIGpzLWNsaXBib2FyZC1jb3B5IHRvb2x0aXBwZWQtbm8tZGVsYXkgQ2xpcGJvYXJkQnV0dG9uIiB0YWJpbmRleD0iMCIgcm9sZT0iYnV0dG9uIj4ke3N2Z1sxXX08L2NsaXBib2FyZC1jb3B5PjwvZGl2PjwvZGl2PmAKICAgICAgICB9CiAgICAgICAgaHRtbC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJywgX2h0bWwpOwogICAgfQoKCiAgICAvLyBSYXcKICAgIGZ1bmN0aW9uIGFkZFJhd0ZpbGUoKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5YSVUyLVJGJykpIHJldHVybgogICAgICAgIGxldCBodG1sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jhdy11cmwnKTtpZiAoIWh0bWwpIHJldHVybgogICAgICAgIGxldCBocmVmID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKGBodHRwczovLyR7bG9jYXRpb24uaG9zdH1gLCcnKSwKICAgICAgICAgICAgaHJlZjIgPSBocmVmLnJlcGxhY2UoJy9ibG9iLycsJy8nKSwKICAgICAgICAgICAgdXJsID0gJycsIF9odG1sID0gJyc7CgogICAgICAgIGZvciAobGV0IGk9MTtpPHJhd191cmwubGVuZ3RoO2krKykgewogICAgICAgICAgICBpZiAocmF3X3VybFtpXVswXS5pbmRleE9mKCdqc2RlbGl2ci5uZXQnKSAhPSAtMSkgewogICAgICAgICAgICAgICAgdXJsID0gcmF3X3VybFtpXVswXSArIGhyZWYucmVwbGFjZSgnL2Jsb2IvJywnQCcpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJhd191cmxbaV1bMF0uaW5kZXhPZignZnV0aWxzLmNvbScpICE9IC0xIHx8IHJhd191cmxbaV1bMF0uaW5kZXhPZignZnNvZnNvLmNvbScpICE9IC0xKSB7CiAgICAgICAgICAgICAgICB1cmwgPSByYXdfdXJsW2ldWzBdICsgaHJlZjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHVybCA9IHJhd191cmxbaV1bMF0gKyBocmVmMjsKICAgICAgICAgICAgfQogICAgICAgICAgICBfaHRtbCArPSBgPGEgaHJlZj0iJHt1cmx9IiB0aXRsZT0iJHtyYXdfdXJsW2ldWzJdfSIgdGFyZ2V0PSJfYmxhbmsiIHJvbGU9ImJ1dHRvbiIgcmVsPSJub3JlZmVycmVyIG5vb3BlbmVyIG5vZm9sbG93IiBjbGFzcz0iYnRuLXNtIGJ0biBCdG5Hcm91cC1pdGVtIFhJVTItUkYiPiR7cmF3X3VybFtpXVsxXS5yZXBsYWNlKC8gXGQvLCcnKX08L2E+YAogICAgICAgIH0KICAgICAgICBodG1sLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCBfaHRtbCk7CiAgICB9CgoKICAgIC8vIOa3u+WKoCBSYXcg5LiL6L296ZO+5o6l77yI4piB77yJCiAgICBmdW5jdGlvbiBhZGRSYXdEb3duTGluaygpIHsKICAgICAgICAvLyDlpoLmnpzkuI3mmK/pobnnm67mlofku7bpobXpnaLvvIzlsLHov5Tlm57vvIzlpoLmnpznvZHpobXmnIkgUmF3IOS4i+i9vemTvuaOpe+8iOKYge+8ieWwsei/lOWbngogICAgICAgIGxldCBmaWxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdi5Cb3gtcm93IHN2Zy5vY3RpY29uLm9jdGljb24tZmlsZScpO2lmKGZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO2lmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvdGFncycpID4gLTEpIHJldHVybgogICAgICAgIGxldCBmaWxlczEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhLmZpbGVEb3duTGluaycpO2lmKGZpbGVzMS5sZW5ndGggPiAwKSByZXR1cm47CgogICAgICAgIC8vIOm8oOagh+aMh+WQkeWImeaYvuekugogICAgICAgIHZhciBtb3VzZU92ZXJIYW5kbGVyID0gZnVuY3Rpb24oZXZ0KSB7CiAgICAgICAgICAgIGxldCBlbGVtID0gZXZ0LmN1cnJlbnRUYXJnZXQsCiAgICAgICAgICAgICAgICBhRWxtX25ldyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnLmZpbGVEb3duTGluaycpLAogICAgICAgICAgICAgICAgYUVsbV9ub3cgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N2Zy5vY3RpY29uLm9jdGljb24tZmlsZScpOwogICAgICAgICAgICBhRWxtX25ldy5mb3JFYWNoKGVsPT57ZWwuc3R5bGUuY3NzVGV4dCA9ICdkaXNwbGF5OiBpbmxpbmUnfSk7CiAgICAgICAgICAgIGFFbG1fbm93LmZvckVhY2goZWw9PntlbC5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6IG5vbmUnfSk7CiAgICAgICAgfTsKCiAgICAgICAgLy8g6byg5qCH56a75byA5YiZ6ZqQ6JePCiAgICAgICAgdmFyIG1vdXNlT3V0SGFuZGxlciA9IGZ1bmN0aW9uKGV2dCkgewogICAgICAgICAgICBsZXQgZWxlbSA9IGV2dC5jdXJyZW50VGFyZ2V0LAogICAgICAgICAgICAgICAgYUVsbV9uZXcgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWxlRG93bkxpbmsnKSwKICAgICAgICAgICAgICAgIGFFbG1fbm93ID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCdzdmcub2N0aWNvbi5vY3RpY29uLWZpbGUnKTsKICAgICAgICAgICAgYUVsbV9uZXcuZm9yRWFjaChlbD0+e2VsLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogbm9uZSd9KTsKICAgICAgICAgICAgYUVsbV9ub3cuZm9yRWFjaChlbD0+e2VsLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogaW5saW5lJ30pOwogICAgICAgIH07CgogICAgICAgIC8vIOW+queOr+a3u+WKoAogICAgICAgIGZpbGVzLmZvckVhY2goZnVuY3Rpb24oZmlsZUVsbSwgaSkgewogICAgICAgICAgICBsZXQgdHJFbG0gPSBmaWxlRWxtLnBhcmVudE5vZGUucGFyZW50Tm9kZSwKICAgICAgICAgICAgICAgIGNudEVsbV9hID0gdHJFbG0ucXVlcnlTZWxlY3RvcignW3JvbGU9InJvd2hlYWRlciJdID4gLmNzcy10cnVuY2F0ZS5jc3MtdHJ1bmNhdGUtdGFyZ2V0LmQtYmxvY2sud2lkdGgtZml0ID4gYScpLAogICAgICAgICAgICAgICAgY250RWxtX3N2ZyA9IHRyRWxtLnF1ZXJ5U2VsZWN0b3IoJy5tci0zLmZsZXgtc2hyaW5rLTAgc3ZnLm9jdGljb24ub2N0aWNvbi1maWxlJyksCiAgICAgICAgICAgICAgICBOYW1lID0gY250RWxtX2EuaW5uZXJUZXh0LAogICAgICAgICAgICAgICAgaHJlZiA9IGNudEVsbV9hLmdldEF0dHJpYnV0ZSgnaHJlZicpLAogICAgICAgICAgICAgICAgaHJlZjIgPSBocmVmLnJlcGxhY2UoJy9ibG9iLycsJy8nKSwgdXJsLCB1cmxfbmFtZSwgdXJsX3RpcCA9ICcnOwoKICAgICAgICAgICAgaWYgKHJhd191cmxbbWVudV9yYXdfZmFzdF1bMF0uaW5kZXhPZignanNkZWxpdnIubmV0JykgIT0gLTEpIHsKICAgICAgICAgICAgICAgIHVybCA9IHJhd191cmxbbWVudV9yYXdfZmFzdF1bMF0gKyBocmVmLnJlcGxhY2UoJy9ibG9iLycsJ0AnKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyYXdfdXJsW21lbnVfcmF3X2Zhc3RdWzBdLmluZGV4T2YoJ2Z1dGlscy5jb20nKSAhPSAtMSB8fCByYXdfdXJsW21lbnVfcmF3X2Zhc3RdWzBdLmluZGV4T2YoJ2Zzb2Zzby5jb20nKSAhPSAtMSkgewogICAgICAgICAgICAgICAgdXJsID0gcmF3X3VybFttZW51X3Jhd19mYXN0XVswXSArIGhyZWY7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB1cmwgPSByYXdfdXJsW21lbnVfcmF3X2Zhc3RdWzBdICsgaHJlZjI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHVybF9uYW1lID0gcmF3X3VybFttZW51X3Jhd19mYXN0XVsxXTsgdXJsX3RpcCA9IHJhd191cmxbbWVudV9yYXdfZmFzdF1bMl07CiAgICAgICAgICAgIGNudEVsbV9zdmcuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsIGA8YSBocmVmPSIke3VybH0iIGRvd25sb2FkPSIke05hbWV9IiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub3JlZmVycmVyIG5vb3BlbmVyIG5vZm9sbG93IiBjbGFzcz0iZmlsZURvd25MaW5rIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiIHRpdGxlPSLjgIwke3VybF9uYW1lfeOAjSYjMTA7JiMxMDtbQWx0ICsg5bem6ZSuXSDmiJYgW+WPs+mUriAtIOWPpuWtmOS4ui4uLl0g5LiL6L295paH5Lu244CCJiMxMDvms6jmhI/vvJrpvKDmoIfngrnlh7sgW+KYgV0g5Zu+5qCH77yM6ICM5LiN5piv5bem5L6n55qE5paH5Lu25ZCN77yBJiMxMDsmIzEwOyR7dXJsX3RpcH3mj5DnpLrvvJrngrnlh7vmtY/op4jlmajlj7PkuIrop5IgVGFtcGVybW9ua2V5IOaJqeWxleWbvuaghyAtIFsgJHtyYXdfdXJsW21lbnVfcmF3X2Zhc3RdWzFdfSBdIOWKoOmAn+a6kCAo4piBKSDljbPlj6/liIfmjaLjgIIiPiR7c3ZnWzJdfTwvYT5gKTsKICAgICAgICAgICAgLy8g57uR5a6a6byg5qCH5LqL5Lu2CiAgICAgICAgICAgIHRyRWxtLm9ubW91c2VvdmVyID0gbW91c2VPdmVySGFuZGxlcjsKICAgICAgICAgICAgdHJFbG0ub25tb3VzZW91dCA9IG1vdXNlT3V0SGFuZGxlcjsKICAgICAgICB9KTsKICAgIH0KCgogICAgLy8g5Yig6ZmkIFJhdyDlv6vmjbfkuIvovb3vvIjimIHvvIkKICAgIGZ1bmN0aW9uIGRlbFJhd0Rvd25MaW5rKCkgewogICAgICAgIGxldCBhRWxtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbGVEb3duTGluaycpO2lmKGFFbG0ubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICAgICAgYUVsbS5mb3JFYWNoKGZ1bmN0aW9uKGZpbGVFbG0pIHsKICAgICAgICAgICAgZmlsZUVsbS5yZW1vdmUoKQogICAgICAgIH0pCiAgICB9CgoKICAgIC8vIOWcqOa1j+iniOWZqOi/lOWbni/liY3ov5vml7bph43mlrDmt7vliqAgUmF3IOS4i+i9vemTvuaOpe+8iOKYge+8iem8oOagh+S6i+S7tgogICAgZnVuY3Rpb24gYWRkUmF3RG93bkxpbmtfKCkgewogICAgICAgIC8vIOWmguaenOS4jeaYr+mhueebruaWh+S7tumhtemdou+8jOWwsei/lOWbnu+8jOWmguaenOe9kemhteayoeaciSBSYXcg5LiL6L296ZO+5o6l77yI4piB77yJ5bCx6L+U5ZueCiAgICAgICAgbGV0IGZpbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2LkJveC1yb3cgc3ZnLm9jdGljb24ub2N0aWNvbi1maWxlJyk7aWYoZmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICAgICAgbGV0IGZpbGVzMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EuZmlsZURvd25MaW5rJyk7aWYoZmlsZXMxLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwoKICAgICAgICAvLyDpvKDmoIfmjIflkJHliJnmmL7npLoKICAgICAgICB2YXIgbW91c2VPdmVySGFuZGxlciA9IGZ1bmN0aW9uKGV2dCkgewogICAgICAgICAgICBsZXQgZWxlbSA9IGV2dC5jdXJyZW50VGFyZ2V0LAogICAgICAgICAgICAgICAgYUVsbV9uZXcgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWxlRG93bkxpbmsnKSwKICAgICAgICAgICAgICAgIGFFbG1fbm93ID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCdzdmcub2N0aWNvbi5vY3RpY29uLWZpbGUnKTsKICAgICAgICAgICAgYUVsbV9uZXcuZm9yRWFjaChlbD0+e2VsLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogaW5saW5lJ30pOwogICAgICAgICAgICBhRWxtX25vdy5mb3JFYWNoKGVsPT57ZWwuc3R5bGUuY3NzVGV4dCA9ICdkaXNwbGF5OiBub25lJ30pOwogICAgICAgIH07CgogICAgICAgIC8vIOm8oOagh+emu+W8gOWImemakOiXjwogICAgICAgIHZhciBtb3VzZU91dEhhbmRsZXIgPSBmdW5jdGlvbihldnQpIHsKICAgICAgICAgICAgbGV0IGVsZW0gPSBldnQuY3VycmVudFRhcmdldCwKICAgICAgICAgICAgICAgIGFFbG1fbmV3ID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsZURvd25MaW5rJyksCiAgICAgICAgICAgICAgICBhRWxtX25vdyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnc3ZnLm9jdGljb24ub2N0aWNvbi1maWxlJyk7CiAgICAgICAgICAgIGFFbG1fbmV3LmZvckVhY2goZWw9PntlbC5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6IG5vbmUnfSk7CiAgICAgICAgICAgIGFFbG1fbm93LmZvckVhY2goZWw9PntlbC5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6IGlubGluZSd9KTsKICAgICAgICB9OwoKICAgICAgICAvLyDlvqrnjq/mt7vliqAKICAgICAgICBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uKGZpbGVFbG0sIGkpIHsKICAgICAgICAgICAgbGV0IHRyRWxtID0gZmlsZUVsbS5wYXJlbnROb2RlLnBhcmVudE5vZGU7CiAgICAgICAgICAgIC8vIOe7keWumum8oOagh+S6i+S7tgogICAgICAgICAgICB0ckVsbS5vbm1vdXNlb3ZlciA9IG1vdXNlT3ZlckhhbmRsZXI7CiAgICAgICAgICAgIHRyRWxtLm9ubW91c2VvdXQgPSBtb3VzZU91dEhhbmRsZXI7CiAgICAgICAgfSk7CiAgICB9CgoKICAgIC8vIOmAgumFjeeZveWkqS/lpJzpl7TkuLvpopjmqKHlvI8KICAgIGZ1bmN0aW9uIGNvbG9yTW9kZSgpIHsKICAgICAgICBsZXQgc3R5bGVfQWRkOwogICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnWElVMi1HaXRodWInKSkge3N0eWxlX0FkZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdYSVUyLUdpdGh1YicpfSBlbHNlIHtzdHlsZV9BZGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOyBzdHlsZV9BZGQuaWQgPSAnWElVMi1HaXRodWInOyBzdHlsZV9BZGQudHlwZSA9ICd0ZXh0L2Nzcyc7fQogICAgICAgIGJhY2tDb2xvciA9ICcjZmZmZmZmJzsgZm9udENvbG9yID0gJyM4ODg4ODgnOwoKICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2h0bWwnKVswXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sb3ItbW9kZScpID09PSAnZGFyaycpIHsgLy8g5aaC5p6c5piv5aSc6Ze05qih5byPCiAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaHRtbCcpWzBdLmdldEF0dHJpYnV0ZSgnZGF0YS1kYXJrLXRoZW1lJykgPT09ICdkYXJrX2RpbW1lZCcpIHsKICAgICAgICAgICAgICAgIGJhY2tDb2xvciA9ICcjMjcyZTM3JzsgZm9udENvbG9yID0gJyM3NjgzOTAnOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYmFja0NvbG9yID0gJyMxNjFhMjEnOyBmb250Q29sb3IgPSAnIzk3YTBhYSc7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdodG1sJylbMF0uZ2V0QXR0cmlidXRlKCdkYXRhLWNvbG9yLW1vZGUnKSA9PT0gJ2F1dG8nKSB7IC8vIOWmguaenOaYr+iHquWKqOaooeW8jwogICAgICAgICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdodG1sJylbMF0uZ2V0QXR0cmlidXRlKCdkYXRhLWxpZ2h0LXRoZW1lJykuaW5kZXhPZignZGFyaycpID4gLTEpIHsgLy8g5aaC5p6c5rWP6KeI5Zmo5piv5aSc6Ze05qih5byPIOaIliDnmb3lpKnmqKHlvI/mmK8gZGFyayDnmoTmg4XlhrUKICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaHRtbCcpWzBdLmdldEF0dHJpYnV0ZSgnZGF0YS1kYXJrLXRoZW1lJykgPT09ICdkYXJrX2RpbW1lZCcpIHsKICAgICAgICAgICAgICAgICAgICBiYWNrQ29sb3IgPSAnIzI3MmUzNyc7IGZvbnRDb2xvciA9ICcjNzY4MzkwJzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2h0bWwnKVswXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGFyay10aGVtZScpLmluZGV4T2YoJ2xpZ2h0JykgPT0gLTEpIHsgLy8g5o6S6Zmk5aSc6Ze05qih5byP5pivIGxpZ2h0IOeahOaDheWGtQogICAgICAgICAgICAgICAgICAgIGJhY2tDb2xvciA9ICcjMTYxYTIxJzsgZm9udENvbG9yID0gJyM5N2EwYWEnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmFwcGVuZENoaWxkKHN0eWxlX0FkZCkudGV4dENvbnRlbnQgPSBgLlhJVTItUlMgYSB7LS1YSVUyLWJhY2stQ29sb3I6ICR7YmFja0NvbG9yfTsgLS1YSVUyLWZvbnQtQ29sb3I6ICR7Zm9udENvbG9yfTt9YDsKICAgIH0KCgogICAgLy8g6Ieq5a6a5LmJIHVybGNoYW5nZSDkuovku7bvvIjnlKjmnaXnm5HlkKwgVVJMIOWPmOWMlu+8iQogICAgZnVuY3Rpb24gYWRkVXJsQ2hhbmdlRXZlbnQoKSB7CiAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUgPSAoIGYgPT4gZnVuY3Rpb24gcHVzaFN0YXRlKCl7CiAgICAgICAgICAgIHZhciByZXQgPSBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgncHVzaHN0YXRlJykpOwogICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3VybGNoYW5nZScpKTsKICAgICAgICAgICAgcmV0dXJuIHJldDsKICAgICAgICB9KShoaXN0b3J5LnB1c2hTdGF0ZSk7CgogICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlID0gKCBmID0+IGZ1bmN0aW9uIHJlcGxhY2VTdGF0ZSgpewogICAgICAgICAgICB2YXIgcmV0ID0gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3JlcGxhY2VzdGF0ZScpKTsKICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCd1cmxjaGFuZ2UnKSk7CiAgICAgICAgICAgIHJldHVybiByZXQ7CiAgICAgICAgfSkoaGlzdG9yeS5yZXBsYWNlU3RhdGUpOwoKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCgpPT57CiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgndXJsY2hhbmdlJykpCiAgICAgICAgfSk7CiAgICB9Cn0pKCk7Cg=="},{"name":"V2EX Â¢ûÂº∫","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://v2ex.com/*","*://*.v2ex.com/*","*://www.sov2ex.com/*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1658229613419,"data":{"menu_autoClockIn":"btrue","menu_backToTop":"btrue","menu_clockInTime":"s2022/7/19","menu_fish":"btrue","menu_linksBlank":"btrue","menu_linksToImgs":"btrue","menu_pageLoading":"btrue","menu_pageLoading_reply":"btrue","menu_quickReply":"btrue","menu_sov2ex":"bfalse"}},"enabled":true,"position":14,"file_url":"https://greasyfork.org/scripts/424246-v2ex-%E5%A2%9E%E5%BC%BA/code/V2EX%20%E5%A2%9E%E5%BC%BA.user.js","uuid":"831aa842-9f2f-4322-a305-51ef094e6288","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBWMkVYIOWinuW8ugovLyBAdmVyc2lvbiAgICAgIDEuMS43Ci8vIEBhdXRob3IgICAgICAgWC5JLlUKLy8gQGRlc2NyaXB0aW9uICDoh6rliqjnrb7liLDjgIHpk77mjqXovazlm77niYfjgIHoh6rliqjml6DnvJ3nv7vpobXjgIHkvb/nlKggU09WMkVYIOaQnOe0ouOAgeWbnuWIsOmhtumDqO+8iOWPs+mUrueCueWHu+S4pOS+p+epuueZveWkhO+8ieOAgeW/q+mAn+WbnuWkje+8iOW3pumUruWPjOWHu+S4pOS+p+epuueZveWkhO+8ieOAgeaWsOagh+etvumhteaJk+W8gOmTvuaOpeOAgeagh+etvumhteS8quijheS4uiBHaXRodWLvvIjmkbjpsbzvvIkKLy8gQG1hdGNoICAgICAgICAqOi8vdjJleC5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLnYyZXguY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vd3d3LnNvdjJleC5jb20vKgovLyBAaWNvbiAgICAgICAgIGh0dHBzOi8vd3d3LnYyZXguY29tL3N0YXRpYy9mYXZpY29uLmljbwovLyBAZ3JhbnQgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBncmFudCAgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgIEdNX3VucmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9ub3RpZmljYXRpb24KLy8gQGxpY2Vuc2UgICAgICBHUEwtMy4wIExpY2Vuc2UKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1lbmQKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2dpdGh1Yi5jb20vWElVMi9Vc2VyU2NyaXB0Ci8vIEBzdXBwb3J0VVJMICAgaHR0cHM6Ly9naXRodWIuY29tL1hJVTIvVXNlclNjcmlwdAovLyBAaG9tZXBhZ2VVUkwgIGh0dHBzOi8vZ2l0aHViLmNvbS9YSVUyL1VzZXJTY3JpcHQKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbWVudV9BTEwgPSBbCiAgICAgICAgWydtZW51X2F1dG9DbG9ja0luJywgJ+iHquWKqOetvuWIsCcsICfoh6rliqjnrb7liLAnLCB0cnVlXSwKICAgICAgICBbJ21lbnVfbGlua3NUb0ltZ3MnLCAn6ZO+5o6l6L2s5Zu+54mHJywgJ+mTvuaOpei9rOWbvueJhycsIHRydWVdLAogICAgICAgIFsnbWVudV9wYWdlTG9hZGluZycsICfoh6rliqjml6DnvJ3nv7vpobUnLCAn6Ieq5Yqo5peg57yd57+76aG1JywgdHJ1ZV0sCiAgICAgICAgWydtZW51X3BhZ2VMb2FkaW5nX3JlcGx5JywgJ+W4luWtkOWGheiHquWKqOe/u+mhtScsICfluJblrZDlhoXoh6rliqjnv7vpobUnLCBmYWxzZV0sCiAgICAgICAgWydtZW51X2JhY2tUb1RvcCcsICflm57liLDpobbpg6jvvIjlj7PplK7ngrnlh7vkuKTkvqfnqbrnmb3lpITvvIknLCAn5Zue5Yiw6aG26YOoJywgdHJ1ZV0sCiAgICAgICAgWydtZW51X3F1aWNrUmVwbHknLCAn5b+r6YCf5Zue5aSN77yI5bem6ZSu5Y+M5Ye75Lik5L6n56m655m95aSE77yJJywgJ+W/q+mAn+WbnuWkjScsIHRydWVdLAogICAgICAgIFsnbWVudV9saW5rc0JsYW5rJywgJ+aWsOagh+etvumhteaJk+W8gOmTvuaOpScsICfmlrDmoIfnrb7pobXmiZPlvIDpk77mjqUnLCB0cnVlXSwKICAgICAgICBbJ21lbnVfc292MmV4JywgJ+S9v+eUqCBTT1YyRVgg5pCc57SiJywgJ+S9v+eUqCBTT1YyRVgg5pCc57SiJywgZmFsc2VdLAogICAgICAgIFsnbWVudV9maXNoJywgJ+agh+etvumhteS8quijheS4uiBHaXRodWLvvIjmkbjpsbzvvIknLCAn5qCH562+6aG15Lyq6KOF5Li6IEdpdGh1YicsIGZhbHNlXQogICAgXSwgbWVudV9JRCA9IFtdLCBwYXVzZVBhZ2UgPSB0cnVlOwogICAgZm9yIChsZXQgaT0wO2k8bWVudV9BTEwubGVuZ3RoO2krKyl7IC8vIOWmguaenOivu+WPluWIsOeahOWAvOS4uiBudWxsIOWwseWGmeWFpem7mOiupOWAvAogICAgICAgIGlmIChHTV9nZXRWYWx1ZShtZW51X0FMTFtpXVswXSkgPT0gbnVsbCl7R01fc2V0VmFsdWUobWVudV9BTExbaV1bMF0sIG1lbnVfQUxMW2ldWzNdKX07CiAgICB9CgogICAgcmVnaXN0ZXJNZW51Q29tbWFuZCgpOwoKICAgIC8vIOazqOWGjOiEmuacrOiPnOWNlQogICAgZnVuY3Rpb24gcmVnaXN0ZXJNZW51Q29tbWFuZCgpIHsKICAgICAgICBpZiAobWVudV9JRC5sZW5ndGggPiBtZW51X0FMTC5sZW5ndGgpeyAvLyDlpoLmnpzoj5zljZVJROaVsOe7hOWkmuS6juiPnOWNleaVsOe7hO+8jOivtOaYjuS4jeaYr+mmluasoea3u+WKoOiPnOWNle+8jOmcgOimgeWNuOi9veaJgOacieiEmuacrOiPnOWNlQogICAgICAgICAgICBmb3IgKGxldCBpPTA7aTxtZW51X0lELmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgR01fdW5yZWdpc3Rlck1lbnVDb21tYW5kKG1lbnVfSURbaV0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZvciAobGV0IGk9MDtpPG1lbnVfQUxMLmxlbmd0aDtpKyspeyAvLyDlvqrnjq/ms6jlhozohJrmnKzoj5zljZUKICAgICAgICAgICAgbWVudV9BTExbaV1bM10gPSBHTV9nZXRWYWx1ZShtZW51X0FMTFtpXVswXSk7CiAgICAgICAgICAgIG1lbnVfSURbaV0gPSBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKGAke21lbnVfQUxMW2ldWzNdPyfinIUnOifinYwnfSAke21lbnVfQUxMW2ldWzFdfWAsIGZ1bmN0aW9uKCl7bWVudV9zd2l0Y2goYCR7bWVudV9BTExbaV1bM119YCxgJHttZW51X0FMTFtpXVswXX1gLGAke21lbnVfQUxMW2ldWzJdfWApfSk7CiAgICAgICAgfQogICAgICAgIG1lbnVfSURbbWVudV9JRC5sZW5ndGhdID0gR01fcmVnaXN0ZXJNZW51Q29tbWFuZCgn8J+SrCDlj43ppoggJiDlu7rorq4nLCBmdW5jdGlvbiAoKSB7d2luZG93LkdNX29wZW5JblRhYignaHR0cHM6Ly9naXRodWIuY29tL1hJVTIvVXNlclNjcmlwdCN4aXUydXNlcnNjcmlwdCcsIHthY3RpdmU6IHRydWUsaW5zZXJ0OiB0cnVlLHNldFBhcmVudDogdHJ1ZX0pO3dpbmRvdy5HTV9vcGVuSW5UYWIoJ2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy80MjQyNDYvZmVlZGJhY2snLCB7YWN0aXZlOiB0cnVlLGluc2VydDogdHJ1ZSxzZXRQYXJlbnQ6IHRydWV9KTt9KTsKICAgIH0KCiAgICAvLyDoj5zljZXlvIDlhbMKICAgIGZ1bmN0aW9uIG1lbnVfc3dpdGNoKG1lbnVfc3RhdHVzLCBOYW1lLCBUaXBzKSB7CiAgICAgICAgaWYgKG1lbnVfc3RhdHVzID09ICd0cnVlJyl7CiAgICAgICAgICAgIEdNX3NldFZhbHVlKGAke05hbWV9YCwgZmFsc2UpOwogICAgICAgICAgICBHTV9ub3RpZmljYXRpb24oe3RleHQ6IGDlt7LlhbPpl60gWyR7VGlwc31dIOWKn+iDvVxu77yI54K55Ye75Yi35paw572R6aG15ZCO55Sf5pWI77yJYCwgdGltZW91dDogMzUwMCwgb25jbGljazogZnVuY3Rpb24oKXtsb2NhdGlvbi5yZWxvYWQoKTt9fSk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIEdNX3NldFZhbHVlKGAke05hbWV9YCwgdHJ1ZSk7CiAgICAgICAgICAgIEdNX25vdGlmaWNhdGlvbih7dGV4dDogYOW3suW8gOWQryBbJHtUaXBzfV0g5Yqf6IO9XG7vvIjngrnlh7vliLfmlrDnvZHpobXlkI7nlJ/mlYjvvIlgLCB0aW1lb3V0OiAzNTAwLCBvbmNsaWNrOiBmdW5jdGlvbigpe2xvY2F0aW9uLnJlbG9hZCgpO319KTsKICAgICAgICB9CiAgICAgICAgcmVnaXN0ZXJNZW51Q29tbWFuZCgpOyAvLyDph43mlrDms6jlhozohJrmnKzoj5zljZUKICAgIH07CgogICAgLy8g6L+U5Zue6I+c5Y2V5YC8CiAgICBmdW5jdGlvbiBtZW51X3ZhbHVlKG1lbnVOYW1lKSB7CiAgICAgICAgZm9yIChsZXQgbWVudSBvZiBtZW51X0FMTCkgewogICAgICAgICAgICBpZiAobWVudVswXSA9PSBtZW51TmFtZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIG1lbnVbM10KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCgogICAgLy8g6buY6K6kIElEIOS4uiAwCiAgICB2YXIgY3VyU2l0ZSA9IHtTaXRlVHlwZUlEOiAwfTsKCiAgICAvLyDoh6rliqjnv7vpobXop4TliJkKICAgIGxldCBEQlNpdGUgPSB7CiAgICAgICAgcmVjZW50OiB7IC8vIOacgOi/keS4u+mimOmhtQogICAgICAgICAgICBTaXRlVHlwZUlEOiAxLAogICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0icGFnZV9jdXJyZW50Il0vZm9sbG93aW5nLXNpYmxpbmc6OmFbMV1bQGhyZWZdJywKICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5jZWxsLml0ZW0nLAogICAgICAgICAgICAgICAgSFRfaW5zZXJ0OiBbJy8vZGl2W0BpZD0iTWFpbiJdLy9kaXZbQGNsYXNzPSJib3giXS8vZGl2W0BjbGFzcz0iY2VsbCJdW2xhc3QoKV0nLCAxXSwKICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOyNNYWluID4gLmJveCA+IC5jZWxsW3N0eWxlXTpub3QoLml0ZW0pID4gdGFibGUnLAogICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbm90aWZpY2F0aW9uczogeyAvLyDmj5DphpLmtojmga/pobUKICAgICAgICAgICAgU2l0ZVR5cGVJRDogMiwKICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vYVtAY2xhc3M9InBhZ2VfY3VycmVudCJdL2ZvbGxvd2luZy1zaWJsaW5nOjphWzFdW0BocmVmXScsCiAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2Nzczsjbm90aWZpY2F0aW9ucyA+IGRpdicsCiAgICAgICAgICAgICAgICBIVF9pbnNlcnQ6IFsnY3NzOyNub3RpZmljYXRpb25zJywgM10sCiAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjTWFpbiA+IC5ib3ggPiAuY2VsbFtzdHlsZV0gPiB0YWJsZScsCiAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICByZXBsaWVzOiB7IC8vIOeUqOaIt+WbnuWkjemhtQogICAgICAgICAgICBTaXRlVHlwZUlEOiAzLAogICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0icGFnZV9jdXJyZW50Il0vZm9sbG93aW5nLXNpYmxpbmc6OmFbMV1bQGhyZWZdJywKICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJNYWluIl0vL2RpdltAY2xhc3M9ImJveCJdLy9kaXZbQGNsYXNzPSJkb2NrX2FyZWEiXSB8IC8vKltAaWQ9Ik1haW4iXS8vZGl2W0BjbGFzcz0iYm94Il0vL2RpdltAY2xhc3M9ImlubmVyIl0gfCAvLypbQGlkPSJNYWluIl0vL2RpdltAY2xhc3M9ImJveCJdLy9kaXZbQGNsYXNzPSJkb2NrX2FyZWEiXVtsYXN0KCldL2ZvbGxvd2luZy1zaWJsaW5nOjpkaXZbQGNsYXNzPSJjZWxsIl1bMV0nLAogICAgICAgICAgICAgICAgSFRfaW5zZXJ0OiBbJy8vZGl2W0BpZD0iTWFpbiJdLy9kaXZbQGNsYXNzPSJib3giXS8vZGl2W0BjbGFzcz0iY2VsbCJdW2xhc3QoKV0nLCAxXSwKICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOyNNYWluID4gLmJveCA+IC5jZWxsW3N0eWxlXSA+IHRhYmxlJywKICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGdvOiB7IC8vIOWIhuexu+S4u+mimOmhtQogICAgICAgICAgICBTaXRlVHlwZUlEOiA0LAogICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0icGFnZV9jdXJyZW50Il0vZm9sbG93aW5nLXNpYmxpbmc6OmFbMV1bQGhyZWZdJywKICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNUb3BpY3NOb2RlID4gZGl2JywKICAgICAgICAgICAgICAgIEhUX2luc2VydDogWydjc3M7I1RvcGljc05vZGUnLCAzXSwKICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOyNNYWluID4gLmJveCA+IC5jZWxsW3N0eWxlXSA+IHRhYmxlJywKICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHJlcGx5OiB7IC8vIOW4luWtkOWGheWuuemhtQogICAgICAgICAgICBTaXRlVHlwZUlEOiA1LAogICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0icGFnZV9jdXJyZW50Il0vcHJlY2VkaW5nLXNpYmxpbmc6OmFbMV1bQGhyZWZdJywKICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5jZWxsW2lkXj0icl8iXScsCiAgICAgICAgICAgICAgICBIVF9pbnNlcnQ6IFsnLy9kaXZbc3RhcnRzLXdpdGgoQGlkLCAicl8iKV1bbGFzdCgpXS9mb2xsb3dpbmctc2libGluZzo6ZGl2W0BjbGFzcz0iY2VsbCJdWzFdJywgMV0sCiAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjTWFpbiA+IC5ib3ggPiAuY2VsbFtzdHlsZV0gPiB0YWJsZScsCiAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICByZXBseV9wb3NpdGl2ZTogeyAvLyDluJblrZDlhoXlrrnpobXvvIjmraPluo/vvIkKICAgICAgICAgICAgU2l0ZVR5cGVJRDogNiwKICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vYVtAY2xhc3M9InBhZ2VfY3VycmVudCJdL3ByZWNlZGluZy1zaWJsaW5nOjphWzFdW0BocmVmXScsCiAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsuY2VsbFtpZF49InJfIl0nLAogICAgICAgICAgICAgICAgSFRfaW5zZXJ0OiBbJy8vZGl2W3N0YXJ0cy13aXRoKEBpZCwgInJfIildWzFdJywgMV0sCiAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjTWFpbiA+IC5ib3ggPiAuY2VsbFtzdHlsZV0gPiB0YWJsZScsCiAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBiYWxhbmNlOiB7IC8vIOi0puaIt+S9meminemhtQogICAgICAgICAgICBTaXRlVHlwZUlEOiA3LAogICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0icGFnZV9jdXJyZW50Il0vZm9sbG93aW5nLXNpYmxpbmc6OmFbMV1bQGhyZWZdJywKICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNNYWluIC5ib3ggPiBkaXY6bm90KC5jZWxsKSA+IHRhYmxlID4gdGJvZHkgPiB0cjpub3QoOmZpcnN0LWNoaWxkKScsCiAgICAgICAgICAgICAgICBIVF9pbnNlcnQ6IFsnY3NzOyNNYWluIC5ib3ggPiBkaXY6bm90KC5jZWxsKSA+IHRhYmxlID4gdGJvZHknLCAzXSwKICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOyNNYWluID4gLmJveCA+IC5jZWxsW3N0eWxlXSA+IHRhYmxlJywKICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNvdjJleDogeyAvLyBzb3YyZXgKICAgICAgICAgICAgU2l0ZVR5cGVJRDogOCwKICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLnBhZ2luZz5hJywKICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKICAgIGlmIChsb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ3d3dy5zb3YyZXguY29tJykgewogICAgICAgIGN1clNpdGUgPSBEQlNpdGUuc292MmV4OwogICAgICAgIHBhZ2VMb2FkaW5nKCk7CiAgICB9IGVsc2UgewogICAgc3dpdGNoIChsb2NhdGlvbi5wYXRobmFtZSkgewogICAgICAgIGNhc2UgJy8nOiAvLyAgICAgICAgICAgICAg6aaW6aG1CiAgICAgICAgICAgIGFkZENoYW5nZXNMaW5rKCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJy9yZWNlbnQnOiAvLyAgICAgICAg5pyA6L+R5Li76aKY6aG1CiAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUucmVjZW50OwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICcvbm90aWZpY2F0aW9ucyc6IC8vIOaPkOmGkua2iOaBr+mhtQogICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLm5vdGlmaWNhdGlvbnM7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJy9iYWxhbmNlJzogLy8gICAgICAg6LSm5oi35L2Z6aKd6aG1CiAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuYmFsYW5jZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9nby8nKSA+IC0xKSB7IC8vIOWIhuexu+S4u+mimOmhtQogICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5nbzsKICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvdC8nKSA+IC0xKSB7IC8vIOW4luWtkOWGheWuuemhtQogICAgICAgICAgICAgICAgaWYobWVudV92YWx1ZSgnbWVudV9wYWdlTG9hZGluZ19yZXBseScpKWN1clNpdGUgPSBEQlNpdGUucmVwbHlfcG9zaXRpdmU7IC8vIOW4luWtkOWGheiHquWKqOaXoOe8nee/u+mhtQogICAgICAgICAgICAgICAgaWYobWVudV92YWx1ZSgnbWVudV9xdWlja1JlcGx5JykpcXVpY2tSZXBseSgpOyAvLyDlv6vpgJ/lm57lpI3vvIjlj4zlh7vlt6blj7PkuKTkvqfnqbrnmb3lpITvvIkKICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvcmVwbGllcycpID4gLTEpIHsgLy8g55So5oi35Zue5aSN6aG1CiAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLnJlcGxpZXM7CiAgICAgICAgICAgIH0KICAgIH0KCiAgICBjdXJTaXRlLnBhZ2VVcmwgPSAnJzsgLy8g5LiL5LiA6aG1VVJMCiAgICBpZihtZW51X3ZhbHVlKCdtZW51X2xpbmtzQmxhbmsnKSkgbGlua3NCbGFuaygpOyAvLyAgICAgICAgICAgICAgIOaWsOagh+etvumhteaJk+W8gOmTvuaOpQogICAgaWYobWVudV92YWx1ZSgnbWVudV9maXNoJykpIGZpc2goKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICDmoIfnrb7pobXkvKroo4XkuLogR2l0aHVi77yI5pG46bG877yJCiAgICBpZihtZW51X3ZhbHVlKCdtZW51X2F1dG9DbG9ja0luJykpIHNldFRpbWVvdXQocWlhbkRhbywgMTAwMCk7IC8vIOiHquWKqOetvuWIsO+8iOWQjuWPsO+8ie+8jOW7tui/nyAxIOenkuaJp+ihjOaYr+S4uuS6huWFvOWuuSBbVjJleCBQbHVzXSDmianlsZUKICAgIGlmKG1lbnVfdmFsdWUoJ21lbnVfcGFnZUxvYWRpbmcnKSkgcGFnZUxvYWRpbmcoKTsgLy8gICAgICAgICAgICAg6Ieq5Yqo57+76aG177yI5peg57yd77yJCiAgICBpZihtZW51X3ZhbHVlKCdtZW51X2JhY2tUb1RvcCcpKSBiYWNrVG9Ub3AoKTsgLy8gICAgICAgICAgICAgICAgIOWbnuWIsOmhtumDqO+8iOWPs+mUrueCueWHu+W3puWPs+S4pOS+p+epuueZveWkhO+8iQogICAgaWYobWVudV92YWx1ZSgnbWVudV9saW5rc1RvSW1ncycpKSBsaW5rc1RvSW1ncygpOyAvLyAgICAgICAgICAgICDpk77mjqXovazlm77niYcKICAgIGlmKG1lbnVfdmFsdWUoJ21lbnVfc292MmV4JykpIHNldFRpbWVvdXQoc29WMmV4LCAxMDAwKTsgLy8gICAgICAg5pu/5o2i5Li6IHNvdjJleCDmkJzntKIKICAgIH0KCiAgICAvLyDoh6rliqjnrb7liLDvvIjlkI7lj7DvvIkKICAgIGZ1bmN0aW9uIHFpYW5EYW8oKSB7CiAgICAgICAgbGV0IHRpbWVOb3cgPSBuZXcgRGF0ZSgpLmdldFVUQ0Z1bGxZZWFyKCkgKyAnLycgKyAobmV3IERhdGUoKS5nZXRVVENNb250aCgpICsgMSkgKyAnLycgKyBuZXcgRGF0ZSgpLmdldFVUQ0RhdGUoKSAvLyDlvZPliY0gVVRDLTAg5pe26Ze077yIVjJFWCDmjInov5nkuKrml7bpl7TnmoTvvIkKICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT0gJy8nKSB7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWcqOmmlumhtQogICAgICAgICAgICBsZXQgcWlhbmRhbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib3ggLmlubmVyIGFbaHJlZj0iL21pc3Npb24vZGFpbHkiXScpOwogICAgICAgICAgICBpZiAocWlhbmRhbykgeyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5aaC5p6c5om+5Yiw5LqG562+5Yiw5o+Q56S6CiAgICAgICAgICAgICAgICBxaWFuRGFvXyhxaWFuZGFvLCB0aW1lTm93KTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICDlkI7lj7Dnrb7liLAKICAgICAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2lmdF92MmV4Y2VsbGVudCcpKSB7IC8vIOWFvOWuuSBbVjJleCBQbHVzXSDmianlsZUKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnaWZ0X3YyZXhjZWxsZW50JykuY2xpY2soKTsKICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCdtZW51X2Nsb2NrSW5UaW1lJywgdGltZU5vdyk7IC8vICAgICAgICAgICAgIOWGmeWFpeetvuWIsOaXtumXtOS7peS+m+WQjue7reavlOi+gwogICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCdbVjJFWCDlop7lvLpdIOiHquWKqOetvuWIsOWujOaIkO+8gScpCiAgICAgICAgICAgIH0gZWxzZSB7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDpg73msqHmnInmib7liLDvvIzor7TmmI7lt7Lnu4/nrb7ov4fliLDkuoYKICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnW1YyRVgg5aKe5by6XSDlt7Lnu4/nrb7ov4fliLDkuobjgIInKQogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDkuI3lnKjpppbpobUKICAgICAgICAgICAgbGV0IHRpbWVPbGQgPSBHTV9nZXRWYWx1ZSgnbWVudV9jbG9ja0luVGltZScpCiAgICAgICAgICAgIGlmICghdGltZU9sZCB8fCB0aW1lT2xkICE9IHRpbWVOb3cpIHsKICAgICAgICAgICAgICAgIHFpYW5EYW9TdGF0dXNfKHRpbWVOb3cpIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWQjuWPsOiOt+WPluetvuWIsOeKtuaAge+8iOW5tuWIpOaWreaYr+WQpumcgOimgeetvuWIsO+8iQogICAgICAgICAgICB9LyogZWxzZSB7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5paw5pen562+5Yiw5pe26Ze05LiA6Ie0CiAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ1tWMkVYIOWinuW8ul0g5bey57uP562+6L+H5Yiw5LqG44CCJykKICAgICAgICAgICAgfSovCiAgICAgICAgfQogICAgfQoKCiAgICAvLyDlkI7lj7Dnrb7liLAKICAgIGZ1bmN0aW9uIHFpYW5EYW9fKHFpYW5kYW8sIHRpbWVOb3cpIHsKICAgICAgICBsZXQgdXJsID0gKGxvY2F0aW9uLm9yaWdpbiArICIvbWlzc2lvbi9kYWlseS9yZWRlZW0/IiArIFJlZ0V4cCgib25jZVxcPShcXGQrKSIpLmV4ZWMoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2I1RvcCAudG9vbHMsICNtZW51LWJvZHknKS5pbm5lckhUTUwpWzBdKTsKICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICB0aW1lb3V0OiA1MDAwLAogICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgbGV0IGh0bWwgPSBTaG93UGFnZXIuY3JlYXRlRG9jdW1lbnRCeVN0cmluZyhyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhodG1sKQogICAgICAgICAgICAgICAgaWYgKGh0bWwucXVlcnlTZWxlY3RvcignbGkuZmEuZmEtb2stc2lnbicpKSB7CiAgICAgICAgICAgICAgICAgICAgaHRtbCA9IGh0bWwuZ2V0RWxlbWVudEJ5SWQoJ01haW4nKS50ZXh0Q29udGVudC5tYXRjaCgv5bey6L+e57ut55m75b2VIChcZCs/KSDlpKkvKVswXTsKICAgICAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZSgnbWVudV9jbG9ja0luVGltZScsIHRpbWVOb3cpOyAvLyDlhpnlhaXnrb7liLDml7bpl7Tku6XkvpvlkI7nu63mr5TovoMKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ1tWMkVYIOWinuW8ul0g6Ieq5Yqo562+5Yiw5a6M5oiQ77yBJykKICAgICAgICAgICAgICAgICAgICBpZiAocWlhbmRhbykgewogICAgICAgICAgICAgICAgICAgICAgICBxaWFuZGFvLnRleHRDb250ZW50ID0gYOiHquWKqOetvuWIsOWujOaIkO+8gSR7aHRtbH1gOwogICAgICAgICAgICAgICAgICAgICAgICBxaWFuZGFvLmhyZWYgPSAnamF2YXNjcmlwdDp2b2lkKDApOyc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBHTV9ub3RpZmljYXRpb24oe3RleHQ6ICfoh6rliqjnrb7liLDlpLHotKXvvIHor7forr/pl64gVjJFWCDpppbpobXor5Xor5XjgIJcbuWmguaenOaMgee7reWHoOWkqemDveetvuWIsOWksei0pe+8jOivt+iBlOezu+S9nOiAheino+WGs++8gScsIHRpbWVvdXQ6IDQwMDAsIG9uY2xpY2soKSB7d2luZG93LkdNX29wZW5JblRhYignaHR0cHM6Ly9naXRodWIuY29tL1hJVTIvVXNlclNjcmlwdCN4aXUydXNlcnNjcmlwdCcsIHthY3RpdmU6IHRydWUsaW5zZXJ0OiB0cnVlLHNldFBhcmVudDogdHJ1ZX0pO3dpbmRvdy5HTV9vcGVuSW5UYWIoJ2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy80MjQyNDYvZmVlZGJhY2snLCB7YWN0aXZlOiB0cnVlLGluc2VydDogdHJ1ZSxzZXRQYXJlbnQ6IHRydWV9KTt9fSk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbVjJFWCDlop7lvLpdIOiHquWKqOetvuWIsOWksei0pe+8geivt+iuv+mXriBWMkVYIOmmlumhteivleivleOAguWmguaenOaMgee7reWHoOWkqemDveetvuWIsOWksei0pe+8jOivt+iBlOezu+S9nOiAheino+WGs++8gScpCiAgICAgICAgICAgICAgICAgICAgaWYgKHFpYW5kYW8pIHFpYW5kYW8udGV4dENvbnRlbnQgPSAn6Ieq5Yqo562+5Yiw5aSx6LSl77yB6K+35bCd6K+V5omL5Yqo562+5Yiw77yBJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKCiAgICAvLyDlkI7lj7Dojrflj5bnrb7liLDnirbmgIHvvIjlubbliKTmlq3mmK/lkKbpnIDopoHnrb7liLDvvIkKICAgIGZ1bmN0aW9uIHFpYW5EYW9TdGF0dXNfKHRpbWVOb3cpIHsKICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vd3d3LnYyZXguY29tL21pc3Npb24vZGFpbHknLAogICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICB0aW1lb3V0OiA1MDAwLAogICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgbGV0IGh0bWwgPSBTaG93UGFnZXIuY3JlYXRlRG9jdW1lbnRCeVN0cmluZyhyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgaWYgKGh0bWwucXVlcnlTZWxlY3RvcignaW5wdXRbdmFsdWVePSLpooblj5YiXScpKSB7IC8vICAgICDov5jmsqHmnInnrb7liLAuLi4KICAgICAgICAgICAgICAgICAgICBxaWFuRGFvXyhudWxsLCB0aW1lTm93KTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgIOWQjuWPsOetvuWIsAogICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5bey57uP562+5Yiw5LqGLi4uCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCdbVjJFWCDlop7lvLpdIOW3sue7j+etvui/h+WIsOS6huOAgicpCiAgICAgICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoJ21lbnVfY2xvY2tJblRpbWUnLCB0aW1lTm93KTsgLy8gICAgICAgICDlhpnlhaXnrb7liLDml7bpl7Tku6XkvpvlkI7nu63mr5TovoMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKCiAgICAvLyDmm7/mjaLkuLogc292MmV4IOaQnOe0ou+8jOS7o+eggeadpeiHqiB2MmV4LXBsdXMg5omp5bGV77yaaHR0cHM6Ly9naXRodWIuY29tL3NjaW9vZ2EvdjJleC1wbHVzIO+8iOaHkuW+l+mHjeWkjemAoOi9ruWtkOS6hn7vvIkKICAgIGZ1bmN0aW9uIHNvVjJleCgpIHsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpKS50ZXh0Q29udGVudCA9IGAKICAgICAgICAgICAgICAgIHZhciAkc2VhcmNoID0gJCgnI3NlYXJjaCcpCiAgICAgICAgdmFyIHNlYXJjaEV2ZW50cyA9ICQuX2RhdGEoJHNlYXJjaFswXSwgImV2ZW50cyIgKQogICAgICAgIHZhciBvS2V5ZG93bkV2ZW50ID0gc2VhcmNoRXZlbnRzWydrZXlkb3duJ11bMF1bJ2hhbmRsZXInXQogICAgICAgIHZhciBvSW5wdXRFdmVudCA9IHNlYXJjaEV2ZW50c1snaW5wdXQnXVswXVsnaGFuZGxlciddCiAgICAgICAgJHNlYXJjaC5hdHRyKCJwbGFjZWhvbGRlciIsInNvdjJleCIpCiAgICAgICAgJHNlYXJjaC51bmJpbmQoJ2tleWRvd24nLCBvS2V5ZG93bkV2ZW50KQogICAgICAgICRzZWFyY2gudW5iaW5kKCdpbnB1dCcsIG9JbnB1dEV2ZW50KQogICAgICAgICRzZWFyY2gub24oJ2lucHV0JywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICBvSW5wdXRFdmVudChlKQogICAgICAgICAgICAkKCcuc2VhcmNoLWl0ZW06bGFzdCcpLmF0dHIoJ2hyZWYnLCAnaHR0cHM6Ly93d3cuc292MmV4LmNvbS8/cT0nICsgJHNlYXJjaC52YWwoKSkudGV4dCgnc292MmV4ICcgKyRzZWFyY2gudmFsKCkpOwogICAgICAgIH0pCiAgICAgICAgJHNlYXJjaC5rZXlkb3duKGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgaWYgKGUuY29kZSA9PSAnRW50ZXInIHx8IGUuY29kZSA9PSAnTnVtcGFkRW50ZXInIHx8IGUua2V5Q29kZSA9PT0gMTMpIHsKICAgICAgICAgICAgICAgIGlmICgkKCcuc2VhcmNoLWl0ZW06bGFzdCcpLmlzKCcuYWN0aXZlJykpIHsKICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnZhbCgkKHRoaXMpLnZhbCgpLnJlcGxhY2UoL1sjJSZdL2csIiIpKTsvL+eUqOaIt+i+k+WFpeS4jeiDveWMheWQq+eJueauiuWtl+espiMlJgogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKCJodHRwczovL3d3dy5zb3YyZXguY29tLz9xPSIgKyAkKHRoaXMpLnZhbCgpKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIG9LZXlkb3duRXZlbnQoZSkKICAgICAgICB9KQogICAgICAgIGA7CiAgICB9CgoKICAgIC8vIOWbnuWIsOmhtumDqO+8iOWPs+mUruW3puWPs+S4pOS+p+epuueZveWkhO+8iQogICAgZnVuY3Rpb24gYmFja1RvVG9wKCkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdXcmFwcGVyJykub25jb250ZXh0bWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNXcmFwcGVyID4gLmNvbnRlbnQnKS5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09IHRoaXMpIHsKICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwwKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKCiAgICAvLyDmoIfnrb7pobXkvKroo4XkuLogR2l0aHVi77yI5pG46bG877yJCiAgICBmdW5jdGlvbiBmaXNoKCkgewogICAgICAgIHdpbmRvdy5kb2N1bWVudC50aXRsZSA9ICdHaXRIdWInCiAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhICYmIHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlcykgewogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJsaW5rW3JlbCo9J3Nob3J0Y3V0IGljb24nXSIpLmhyZWYgPSAnaHR0cHM6Ly9naXRodWIuZ2l0aHViYXNzZXRzLmNvbS9mYXZpY29ucy9mYXZpY29uLWRhcmsucG5nJwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImxpbmtbcmVsKj0nc2hvcnRjdXQgaWNvbiddIikuaHJlZiA9ICdodHRwczovL2dpdGh1Yi5naXRodWJhc3NldHMuY29tL2Zhdmljb25zL2Zhdmljb24ucG5nJwogICAgICAgIH0KICAgIH0KCgogICAgLy8g6ZO+5o6l6L2s5Zu+54mH77yM5L+u5pS56Ieq77yaaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzE0MTgyCiAgICBmdW5jdGlvbiBsaW5rc1RvSW1ncygpIHsKICAgICAgICBsZXQgbGlua3MgPSBkb2N1bWVudC5saW5rczsKICAgICAgICBBcnJheS5mcm9tKGxpbmtzKS5mb3JFYWNoKGZ1bmN0aW9uIChfdGhpcykgewogICAgICAgICAgICBpZiAoL15odHRwcy4qXC4oPzpqcGd8anBlZ3xqcGV8Ym1wfHBuZ3xnaWYpL2kudGVzdChfdGhpcy5ocmVmKSAmJiAhKC88aW1nXHMvaS50ZXN0KF90aGlzLmlubmVySFRNTCkpKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5pbm5lckhUTUwgPSBgPGltZyBzcmM9IiR7X3RoaXMuaHJlZn0iIHN0eWxlPSJtYXgtd2lkdGg6IDEwMCUhaW1wb3J0YW50OyIgLz5gOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CgoKICAgIC8vIOW/q+mAn+WbnuWkje+8iOWPjOWHu+W3puWPs+S4pOS+p+epuueZveWkhO+8iQogICAgZnVuY3Rpb24gcXVpY2tSZXBseSgpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnV3JhcHBlcicpLm9uZGJsY2xpY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjV3JhcHBlciA+IC5jb250ZW50Jykub25kYmxjbGljayA9IGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldD09dGhpcykgewogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib3gucmVwbHktYm94LXN0aWNreScpKSB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuZG9jay1idXR0b24nKS5jbGljaygpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBsZXQgX3RvcCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwbHlfY29udGVudCcpLmZvY3VzKCk7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsX3RvcCk7Y29uc29sZS5sb2coX3RvcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgoKICAgIC8vIOaWsOagh+etvumhteaJk+W8gOmTvuaOpQogICAgZnVuY3Rpb24gbGlua3NCbGFuaygpIHsKICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3NldHRpbmdzJykgPiAtMSkgcmV0dXJuCiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdiYXNlJykpLnRhcmdldCA9ICdfYmxhbmsnOyAvLyDorqnmiYDmnInpk77mjqXpu5jorqTku6XmlrDmoIfnrb7pobXmiZPlvIAKICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LmxpbmtzKS5mb3JFYWNoKGZ1bmN0aW9uIChfdGhpcykgewogICAgICAgICAgICBpZiAoX3RoaXMub25jbGljayB8fCBfdGhpcy5ocmVmLnNsaWNlKDAsNCkgIT0gJ2h0dHAnIHx8IF90aGlzLmhyZWYuaW5kZXhPZignIzsnKSA+IC0xIHx8IF90aGlzLmhyZWYuaW5kZXhPZignbmlnaHQvdG9nZ2xlJykgPiAtMSB8fCBfdGhpcy5ocmVmLmluZGV4T2YoJy9mYXZvcml0ZScpID4gLTEgfHwgX3RoaXMuaHJlZi5pbmRleE9mKCcvP3RhYj0nKSA+IC0xKSB7CiAgICAgICAgICAgICAgICBfdGhpcy50YXJnZXQgPSAnX3NlbGYnCiAgICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm0nKS5mb3JFYWNoKGZ1bmN0aW9uIChfdGhpcykgewogICAgICAgICAgICBpZiAoIV90aGlzLnRhcmdldCkge190aGlzLnRhcmdldCA9ICdfc2VsZid9CiAgICAgICAgfSk7CgogICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2YgbXV0YXRpb24uYWRkZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnQScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5vbmNsaWNrIHx8IHRhcmdldC5ocmVmLnNsaWNlKDAsNCkgIT0gJ2h0dHAnIHx8IHRhcmdldC5ocmVmLmluZGV4T2YoJyM7JykgPiAtMSB8fCB0YXJnZXQuaHJlZi5pbmRleE9mKCduaWdodC90b2dnbGUnKSA+IC0xIHx8IHRhcmdldC5ocmVmLmluZGV4T2YoJy9mYXZvcml0ZScpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC50YXJnZXQgPSAnX3NlbGYnCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhJykuZm9yRWFjaChmdW5jdGlvbiAoX3RoaXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vbmNsaWNrIHx8IF90aGlzLmhyZWYuc2xpY2UoMCw0KSAhPSAnaHR0cCcgfHwgX3RoaXMuaHJlZi5pbmRleE9mKCcjOycpID4gLTEgfHwgX3RoaXMuaHJlZi5pbmRleE9mKCduaWdodC90b2dnbGUnKSA+IC0xIHx8IF90aGlzLmhyZWYuaW5kZXhPZignL2Zhdm9yaXRlJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRhcmdldCA9ICdfc2VsZicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTsKICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTsKICAgIH0KCgogICAgLy8g5re75Yqg5YWo56uZ5pyA6L+R5pu05paw5Li76aKY6ZO+5o6lCiAgICBmdW5jdGlvbiBhZGRDaGFuZ2VzTGluaygpIHsKICAgICAgICBsZXQgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjTWFpbiAuYm94IC5pbm5lcjpsYXN0LWNoaWxkJyk7aWYgKCFsaW5rcykgcmV0dXJuCiAgICAgICAgbGlua3MuaW5uZXJIVE1MID0gYDxkaXYgc3R5bGU9ImZsb2F0OiBsZWZ0OyI+PHNwYW4gY2xhc3M9ImNoZXZyb24iPsK7PC9zcGFuPiAmbmJzcDs8YSBocmVmPSIvcmVjZW50IiB0YXJnZXQ9Il9ibGFuayI+5pu05aSa5paw5Li76aKYPC9hPjwvZGl2PjxkaXYgc3R5bGU9InRleHQtYWxpZ246IHJpZ2h0OyI+PGEgaHJlZj0iL2NoYW5nZXMiIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0idGV4dC1hbGlnbjogcmlnaHQ7Ij7lhajnq5nmnIDov5Hmm7TmlrDkuLvpopg8L2E+ICZuYnNwOzxzcGFuIGNsYXNzPSJjaGV2cm9uIj7Cqzwvc3Bhbj48L2Rpdj5gCiAgICB9CgoKICAgIC8vIOiHquWKqOaXoOe8nee/u+mhtQogICAgZnVuY3Rpb24gcGFnZUxvYWRpbmcoKSB7CiAgICAgICAgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA+IDApewogICAgICAgICAgICB3aW5kb3dTY3JvbGwoZnVuY3Rpb24gKGRpcmVjdGlvbiwgZSkgewogICAgICAgICAgICAgICAgLy8g5LiL5ruRIOS4lCDmnKrmmoLlgZznv7vpobUg5LiUIFNpdGVUeXBlSUQgPiAwIOaXtu+8jOaJjeWHhuWkh+e/u+mhtQogICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiAhPSAnZG93bicgfHwgIXBhdXNlUGFnZSkgcmV0dXJuCiAgICAgICAgICAgICAgICBsZXQgc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGEgPSBjdXJTaXRlLnBhZ2VyLnNjcm9sbERlbHRhOwogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgPD0gc2Nyb2xsSGVpZ2h0ICsgc2Nyb2xsVG9wICsgc2Nyb2xsRGVsdGEpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY3VyU2l0ZS5wYWdlci50eXBlID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFNob3dQYWdlci5sb2FkTW9yZVBhZ2UoKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGF1dG9wYm4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGN1clNpdGUucGFnZXIubmV4dExpbmspOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXV0b3Bibil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvcGJuLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXVzZVBhZ2UgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe3BhdXNlUGFnZSA9IHRydWU7fSwgNTAwKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9CgoKICAgIC8vIOa7muWKqOadoeS6i+S7tgogICAgZnVuY3Rpb24gd2luZG93U2Nyb2xsKGZuMSkgewogICAgICAgIHZhciBiZWZvcmVTY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wLAogICAgICAgICAgICBmbiA9IGZuMSB8fCBmdW5jdGlvbiAoKSB7fTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgLy8g5bu25pe25omn6KGM77yM6YG/5YWN5Yia6L295YWl5Yiw6aG16Z2i5bCx6Kem5Y+R57+76aG15LqL5Lu2CiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgdmFyIGFmdGVyU2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCwKICAgICAgICAgICAgICAgICAgICBkZWx0YSA9IGFmdGVyU2Nyb2xsVG9wIC0gYmVmb3JlU2Nyb2xsVG9wOwogICAgICAgICAgICAgICAgaWYgKGRlbHRhID09IDApIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIGZuKGRlbHRhID4gMCA/ICdkb3duJyA6ICd1cCcsIGUpOwogICAgICAgICAgICAgICAgYmVmb3JlU2Nyb2xsVG9wID0gYWZ0ZXJTY3JvbGxUb3A7CiAgICAgICAgICAgIH0sIGZhbHNlKTsKICAgICAgICB9LCAxMDAwKQogICAgfQoKCiAgICAvLyDkv67mlLnoh6ogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzE0MTc4ICwgaHR0cHM6Ly9naXRodWIuY29tL21hY2hzaXgvU3VwZXItcHJlbG9hZGVyCiAgICB2YXIgU2hvd1BhZ2VyID0gewogICAgICAgIGdldEZ1bGxIcmVmOiBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBpZiAoZSAhPSBudWxsICYmIGUubm9kZVR5cGUgPT09IDEgJiYgZS5ocmVmICYmIGUuaHJlZi5zbGljZSgwLDQpID09PSAnaHR0cCcpIHJldHVybiBlLmhyZWY7CiAgICAgICAgICAgIHJldHVybiAnJzsKICAgICAgICB9LAogICAgICAgIGNyZWF0ZURvY3VtZW50QnlTdHJpbmc6IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGlmIChlKSB7CiAgICAgICAgICAgICAgICBpZiAoJ0hUTUwnICE9PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubm9kZU5hbWUpIHJldHVybiAobmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGUsICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnKTsKICAgICAgICAgICAgICAgIHZhciB0OwogICAgICAgICAgICAgICAgdHJ5IHsgdCA9IChuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSwgJ3RleHQvaHRtbCcpO30gY2F0Y2ggKGUpIHt9CiAgICAgICAgICAgICAgICBpZiAodCkgcmV0dXJuIHQ7CiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgdCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnQURvY3VtZW50Jyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRyeSB7KCh0ID0gZG9jdW1lbnQuY2xvbmVOb2RlKCExKSkuYXBwZW5kQ2hpbGQodC5pbXBvcnROb2RlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgITEpKSwgdC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50KCdoZWFkJykpLCB0LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnQoJ2JvZHknKSkpO30gY2F0Y2ggKGUpIHt9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodCkgewogICAgICAgICAgICAgICAgICAgIHZhciByID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSwKICAgICAgICAgICAgICAgICAgICAgICAgbiA9IHIuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGUpOwogICAgICAgICAgICAgICAgICAgIHIuc2VsZWN0Tm9kZUNvbnRlbnRzKGRvY3VtZW50LmJvZHkpOwogICAgICAgICAgICAgICAgICAgIHQuYm9keS5hcHBlbmRDaGlsZChuKTsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhLCBvID0geyBUSVRMRTogITAsIE1FVEE6ICEwLCBMSU5LOiAhMCwgU1RZTEU6ICEwLCBCQVNFOiAhMH0sIGkgPSB0LmJvZHksIHMgPSBpLmNoaWxkTm9kZXMsIGMgPSBzLmxlbmd0aCAtIDE7IGMgPj0gMDsgYy0tKSBvWyhhID0gc1tjXSkubm9kZU5hbWVdICYmIGkucmVtb3ZlQ2hpbGQoYSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBjb25zb2xlLmVycm9yKCfmsqHmnInmib7liLDopoHovazmiJAgRE9NIOeahOWtl+espuS4sicpOwogICAgICAgIH0sCiAgICAgICAgbG9hZE1vcmVQYWdlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChjdXJTaXRlLnBhZ2VyKSB7CiAgICAgICAgICAgICAgICBsZXQgY3VyUGFnZUVsZSA9IGdldEVsZW1lbnRCeVhwYXRoKGN1clNpdGUucGFnZXIubmV4dExpbmspOwogICAgICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMuZ2V0RnVsbEhyZWYoY3VyUGFnZUVsZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJHt1cmx9ICR7Y3VyUGFnZUVsZX0gJHtjdXJTaXRlLnBhZ2VVcmx9YCk7CiAgICAgICAgICAgICAgICBpZih1cmwgPT09ICcnKSByZXR1cm47CiAgICAgICAgICAgICAgICBpZihjdXJTaXRlLnBhZ2VVcmwgPT09IHVybCkgcmV0dXJuOy8vIOS4jeS8mumHjeWkjeWKoOi9veebuOWQjOeahOmhtemdogogICAgICAgICAgICAgICAgY3VyU2l0ZS5wYWdlVXJsID0gdXJsOwogICAgICAgICAgICAgICAgLy8g6K+75Y+W5LiL5LiA6aG155qE5pWw5o2uCiAgICAgICAgICAgICAgICBjdXJTaXRlLnBhZ2VyLnN0YXJ0RmlsdGVyICYmIGN1clNpdGUucGFnZXIuc3RhcnRGaWx0ZXIoKTsKICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAsCiAgICAgICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdCb2R5ID0gU2hvd1BhZ2VyLmNyZWF0ZURvY3VtZW50QnlTdHJpbmcocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYWdlRWxlbXMgPSBnZXRBbGxFbGVtZW50cyhjdXJTaXRlLnBhZ2VyLnBhZ2VFbGVtZW50LCBuZXdCb2R5LCBuZXdCb2R5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b0VsZW1lbnQgPSBnZXRBbGxFbGVtZW50cyhjdXJTaXRlLnBhZ2VyLkhUX2luc2VydFswXSlbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFnZUVsZW1zLmxlbmd0aCA+PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5pyJ5o+S5YWl5YmN5Ye95pWw5bCx5omn6KGM5Ye95pWwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpdGUuZnVuY3Rpb24gJiYgY3VyU2l0ZS5mdW5jdGlvbi5iZWZvcmUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpdGUuZnVuY3Rpb24ucGFyYW1ldGVyKSB7IC8vIOWmguaenOaMh+WumuS6huWPguaVsAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1zID0gY3VyU2l0ZS5mdW5jdGlvbi5iZWZvcmUoY3VyU2l0ZS5mdW5jdGlvbi5wYXJhbWV0ZXIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtcyA9IGN1clNpdGUuZnVuY3Rpb24uYmVmb3JlKHBhZ2VFbGVtcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5o+S5YWl5L2N572uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFkZFRvOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY3VyU2l0ZS5wYWdlci5IVF9pbnNlcnRbMV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG8gPSAiYmVmb3JlYmVnaW4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG8gPSAiYWZ0ZXJiZWdpbiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRUbyA9ICJiZWZvcmVlbmQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG8gPSAiYWZ0ZXJlbmQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5o+S5YWl5paw6aG16Z2i5YWD57SgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1zLmZvckVhY2goZnVuY3Rpb24gKG9uZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b0VsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KGFkZFRvLCBvbmUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOabv+aNouW+heabv+aNouWFg+e0oAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvcmlFID0gZ2V0QWxsRWxlbWVudHMoY3VyU2l0ZS5wYWdlci5yZXBsYWNlRSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXBFID0gZ2V0QWxsRWxlbWVudHMoY3VyU2l0ZS5wYWdlci5yZXBsYWNlRSwgbmV3Qm9keSwgbmV3Qm9keSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmlFLmxlbmd0aCA9PT0gcmVwRS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3JpRS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaUVbaV0ub3V0ZXJIVE1MID0gcmVwRVtpXS5vdXRlckhUTUw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlpoLmnpzmnInmj5LlhaXlkI7lh73mlbDlsLHmiafooYzlh73mlbAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyU2l0ZS5mdW5jdGlvbiAmJiBjdXJTaXRlLmZ1bmN0aW9uLmFmdGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLmZ1bmN0aW9uLnBhcmFtZXRlcikgeyAvLyDlpoLmnpzmjIflrprkuoblj4LmlbAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUuZnVuY3Rpb24uYWZ0ZXIoY3VyU2l0ZS5mdW5jdGlvbi5wYXJhbWV0ZXIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUuZnVuY3Rpb24uYWZ0ZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICB9OwogICAgZnVuY3Rpb24gZ2V0RWxlbWVudEJ5Q1NTKGNzcywgY29udGV4dE5vZGUgPSBkb2N1bWVudCkgewogICAgICAgIHJldHVybiBjb250ZXh0Tm9kZS5xdWVyeVNlbGVjdG9yKGNzcyk7CiAgICB9CiAgICBmdW5jdGlvbiBnZXRBbGxFbGVtZW50c0J5Q1NTKGNzcywgY29udGV4dE5vZGUgPSBkb2N1bWVudCkgewogICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKGNvbnRleHROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoY3NzKSk7CiAgICB9CiAgICBmdW5jdGlvbiBnZXRFbGVtZW50QnlYcGF0aCh4cGF0aCwgY29udGV4dE5vZGUsIGRvYyA9IGRvY3VtZW50KSB7CiAgICAgICAgY29udGV4dE5vZGUgPSBjb250ZXh0Tm9kZSB8fCBkb2M7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZG9jLmV2YWx1YXRlKHhwYXRoLCBjb250ZXh0Tm9kZSwgbnVsbCwgWFBhdGhSZXN1bHQuRklSU1RfT1JERVJFRF9OT0RFX1RZUEUsIG51bGwpOwogICAgICAgICAgICAvLyDlupTor6XmgLvmmK/ov5Tlm57kuIDkuKrlhYPntKDoioLngrkKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5zaW5nbGVOb2RlVmFsdWUgJiYgcmVzdWx0LnNpbmdsZU5vZGVWYWx1ZS5ub2RlVHlwZSA9PT0gMSAmJiByZXN1bHQuc2luZ2xlTm9kZVZhbHVlOwogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgeHBhdGg6ICR7eHBhdGh9YCk7CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gZ2V0QWxsRWxlbWVudHNCeVhwYXRoKHhwYXRoLCBjb250ZXh0Tm9kZSwgZG9jID0gZG9jdW1lbnQpIHsKICAgICAgICBjb250ZXh0Tm9kZSA9IGNvbnRleHROb2RlIHx8IGRvYzsKICAgICAgICBjb25zdCByZXN1bHQgPSBbXTsKICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCBxdWVyeSA9IGRvYy5ldmFsdWF0ZSh4cGF0aCwgY29udGV4dE5vZGUsIG51bGwsIFhQYXRoUmVzdWx0Lk9SREVSRURfTk9ERV9TTkFQU0hPVF9UWVBFLCBudWxsKTsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBxdWVyeS5zbmFwc2hvdExlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gcXVlcnkuc25hcHNob3RJdGVtKGkpOwogICAgICAgICAgICAgICAgLy8g5aaC5p6c5pivIEVsZW1lbnQg6IqC54K5CiAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkgcmVzdWx0LnB1c2gobm9kZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGDml6DmlYggWHBhdGg6ICR7eHBhdGh9YCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICBmdW5jdGlvbiBnZXRBbGxFbGVtZW50cyhzZWxlY3RvciwgY29udGV4dE5vZGUgPSB1bmRlZmluZWQsIGRvYyA9IGRvY3VtZW50LCB3aW4gPSB3aW5kb3csIF9jcGxpbmsgPSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAoIXNlbGVjdG9yKSByZXR1cm4gW107CiAgICAgICAgY29udGV4dE5vZGUgPSBjb250ZXh0Tm9kZSB8fCBkb2M7CiAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgaWYgKHNlbGVjdG9yLnNlYXJjaCgvXmNzczsvaSkgPT09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRBbGxFbGVtZW50c0J5Q1NTKHNlbGVjdG9yLnNsaWNlKDQpLCBjb250ZXh0Tm9kZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QWxsRWxlbWVudHNCeVhwYXRoKHNlbGVjdG9yLCBjb250ZXh0Tm9kZSwgZG9jKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gc2VsZWN0b3IoZG9jLCB3aW4sIF9jcGxpbmspOwogICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocXVlcnkpKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldEFsbEVsZW1lbnRzIOi/lOWbnumUmeivr+exu+WeiycpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9KSgpOw=="},{"name":"üî•ÊåÅÁª≠Êõ¥Êñ∞üî• CSDNÂπøÂëäÂÆåÂÖ®ËøáÊª§„ÄÅ‰∫∫ÊÄßÂåñËÑöÊú¨‰ºòÂåñÔºöüÜï ‰∏çÁî®ÂÜçÁôªÂΩï‰∫ÜÔºÅËÆ©‰Ω†‰ΩìÈ™å‰ª§‰∫∫ÊÉäÂñúÁöÑÂ¥≠Êñ∞CSDN„ÄÇ","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["www.csdn.net"],"orig_excludes":[],"orig_includes":["*://*.csdn.net/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1657416957356,"data":{}},"enabled":true,"position":15,"file_url":"https://greasyfork.org/scripts/378351-%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0-csdn%E5%B9%BF%E5%91%8A%E5%AE%8C%E5%85%A8%E8%BF%87%E6%BB%A4-%E4%BA%BA%E6%80%A7%E5%8C%96%E8%84%9A%E6%9C%AC%E4%BC%98%E5%8C%96-%E4%B8%8D%E7%94%A8%E5%86%8D%E7%99%BB%E5%BD%95%E4%BA%86-%E8%AE%A9%E4%BD%A0%E4%BD%93%E9%AA%8C%E4%BB%A4%E4%BA%BA%E6%83%8A%E5%96%9C%E7%9A%84%E5%B4%AD%E6%96%B0csdn/code/%F0%9F%94%A5%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%F0%9F%94%A5%20CSDN%E5%B9%BF%E5%91%8A%E5%AE%8C%E5%85%A8%E8%BF%87%E6%BB%A4%E3%80%81%E4%BA%BA%E6%80%A7%E5%8C%96%E8%84%9A%E6%9C%AC%E4%BC%98%E5%8C%96%EF%BC%9A%F0%9F%86%95%20%E4%B8%8D%E7%94%A8%E5%86%8D%E7%99%BB%E5%BD%95%E4%BA%86%EF%BC%81%E8%AE%A9%E4%BD%A0%E4%BD%93%E9%AA%8C%E4%BB%A4%E4%BA%BA%E6%83%8A%E5%96%9C%E7%9A%84%E5%B4%AD%E6%96%B0CSDN%E3%80%82.user.js","uuid":"48e78849-e152-4f2e-820d-aafe7b6d28cc","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDwn5Sl5oyB57ut5pu05paw8J+UpSBDU0RO5bm/5ZGK5a6M5YWo6L+H5ruk44CB5Lq65oCn5YyW6ISa5pys5LyY5YyW77ya8J+GlSDkuI3nlKjlho3nmbvlvZXkuobvvIHorqnkvaDkvZPpqozku6Tkurrmg4rllpznmoTltK3mlrBDU0RO44CCCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly9naXRodWIuY29tL2FkbGVyZWQKLy8gQHZlcnNpb24gICAgICA0LjEuMQovLyBAZGVzY3JpcHRpb24gIOKaoe+4j+WFqOaWsDQuMOeJiOacrO+8geaLpeacieaVsOmhueeLrOWutuWKn+iDveeahOacgOW8ukNTRE7ohJrmnKzvvIzkuI3mnI3mr5TkuIDmr5TimqHvuI988J+VtuaXoOmcgOeZu+W9lUNTRE7vvIzojrflvpfmr5TkvJrlkZjmm7TkvbPnmoTkvZPpqox88J+WpeiHquWumuS5ieiDjOaZr+Wbvu+8jOWIhui+qOeOh+iHqumAgumFje+8jOWIhuWxj+S4jeeUqOa7muWKqHzwn5K+6LaF57qn6aKE5LyY5YyWfPCflJbni6zlrrbotoXnuqflhY3kvJrlkZh88J+Pt+eLrOWutuWOn+WIm+aWh+eroOWFjeeZu+W9leWxleW8gHzwn5SM54us5a625o6o6I2Q5YaF5a656Ieq55Sx5byA5YWzfPCfk6Dni6zlrrblhY3nmbvlvZXlpI3liLZ88J+Ul+eLrOWutumYsuWklumTvumHjeWumuWQkXzwn5Od54us5a626K665Z2b5pyq55m75b2V6Ieq5Yqo5bGV5byA5paH56ug44CB6K+E6K66fPCfjLXlhajpnaLlh4DljJZ88J+TiOayiea1uOmYheivu3zwn6e05YeA5YyW5Ymq6LS05p2/fPCfk5XkvZzogIXkv6Hmga/mlofnq6Dpobbpg6jlsZXnpLoKLy8gQGF1dGhvciAgICAgICBBZGxlcgovLyBAY29ubmVjdCAgICAgIHd3dy5jc2RuLm5ldAovLyBAaW5jbHVkZSAgICAgICo6Ly8qLmNzZG4ubmV0LyoKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2xmMjYtY2RuLXRvcy5ieXRlY2RudHAuY29tL2Nkbi9leHBpcmUtMS1NL2pxdWVyeS1jb29raWUvMS40LjEvanF1ZXJ5LmNvb2tpZS5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2xmMjYtY2RuLXRvcy5ieXRlY2RudHAuY29tL2Nkbi9leHBpcmUtMS1NL25wcm9ncmVzcy8wLjIuMC9ucHJvZ3Jlc3MubWluLmpzCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly9sZjI2LWNkbi10b3MuYnl0ZWNkbnRwLmNvbS9jZG4vZXhwaXJlLTEtTS9jbGlwYm9hcmQuanMvMi4wLjEwL2NsaXBib2FyZC5taW4uanMKLy8gQHN1cHBvcnRVUkwgICBodHRwczovL2dpdGh1Yi5jb20vYWRsZXJlZC9DU0ROR3JlZW5lci9pc3N1ZXMvbmV3P2Fzc2lnbmVlcz1hZGxlcmVkJmxhYmVscz1oZWxwK3dhbnRlZCZ0ZW1wbGF0ZT1JU1NVRV9URU1QTEFURS5tZCZ0aXRsZT0KLy8gQGNvbnRyaWJ1dGlvblVSTCBodHRwczovL2RvYy5zdGFja292ZXJmbG93Lndpa2kvd2ViLyMvMjE/cGFnZV9pZD0xMzgKLy8gQGdyYW50ICAgICAgICBHTV9hZGRTdHlsZQovLyBAZ3JhbnQgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGFudGlmZWF0dXJlICB0cmFja2luZyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT4+PiDor7TmmI7vvJrmiJHku6zku4XkvJrlnKhDU0RO6aG16Z2i5pS26ZuG5oKo5L2/55SoQ1NETkdyZWVuZXLnmoTmg4XlhrXvvIzluK7liqnmiJHku6zkuobop6NDU0ROR3JlZW5lcueahOeUqOaIt+aVsOmHj+OAgui/meS4quaTjeS9nOS7heS8muaUtumbhuaCqOeahElQ5Zyw5Z2A5L+h5oGv77yM5LiN5YyF5ZCr5oKo6byg5qCH44CB6ZSu55uY54K55Ye75Zyo5YaF55qE5omA5pyJ5pON5L2c77yM5rKh5pyJ5Lu75L2V5a6J5YWo6aOO6Zmp77yM5LiN5Lya5Lqn55Sf5oCn6IO95o2f6ICX44CC5Li65LqG5L+d5oqk5oKo55qE55+l5oOF5p2D5Lul5Y+K5L2/55So5L2T6aqM77yM54m55ZGK55+l5LqO5oKo44CC5Luj56CB5byA5rqQ5Y+v5a6h6K6h77yMQ1NETkdyZWVuZXLogIHniYzohJrmnKzvvIzmnInlj6PnmobnopHjgILor7fmgqjmlL7lv4Plronoo4XjgIIgPDw8PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gQG5vdGUgICAgICAgICAyMi0wNS0zMCA0LjEuMSDlip/og73kv67lpI3vvIzlub/lkYrlsY/olL0KLy8gQG5vdGUgICAgICAgICAyMi0wMS0xOCA0LjEuMCDku6PnoIHmipjlj6DpgILphY0KLy8gQG5vdGUgICAgICAgICAyMi0wMS0wNSA0LjAuOSDmm7TmlrDlub/lkYoKLy8gQG5vdGUgICAgICAgICAyMS0xMi0xMiA0LjAuOCDlsY/olL3lrabnlJ/orqTor4EKLy8gQG5vdGUgICAgICAgICAyMS0xMC0yMSA0LjAuNyDlsY/olL3nuqLljIXpm6gKLy8gQG5vdGUgICAgICAgICAyMS0wOS0yNCA0LjAuNiDkv67lpI3nmbvlvZXlvLnnqpfml6Dms5XlvbvlupXljrvpmaTnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMS0wOS0yMCA0LjAuNSDlop7liqDoh6rlrprkuYnog4zmma/lip/og70KLy8gQG5vdGUgICAgICAgICAyMS0wOS0xMyA0LjAuNCDlop7liqDkuIDkuKrmsqHmnInmlLbpkrHnmoTlub/lkYrvvIjlnKjorr7nva7ph4zvvIzkuI3lvbHlk43kvZPpqozvvIkKLy8gQG5vdGUgICAgICAgICAyMS0wOS0wMSA0LjAuMyDlop7liqDnlKjmiLfkvb/nlKjmg4XlhrXnu5/orqHmqKHlnZcKLy8gQG5vdGUgICAgICAgICAyMS0wOC0yNSA0LjAuMiDkv67lpI3lj7Pkvqfnva7pobbmoI/mjInpkq7mtojlpLHnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMS0wOC0yMSA0LjAuMSDljrvpmaTlj7Pkvqfmgqzmta7moI/vvIzkvJjljJbohJrmnKwKLy8gQG5vdGUgICAgICAgICAyMS0wOC0yMCA0LjAuMCDlhajmlrA0LjDlj5HluIPvvIFVSee+juWMlu+8jOS7o+eggeS8mOWMlu+8jOWFvOWuuUZpcmVmb3jvvIzmm7TlpJrmjpLniYjmqKHlvI8KLy8gQG5vdGUgICAgICAgICAyMS0wOC0yMCAzLjUuNyDkv67lpI3ml6Dms5XlrozmlbTlpI3liLbjgIHkv53lrZhjc2Ru55qE572R6aG15Lya6Lez6L2s6aaW6aG155qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjEtMDgtMTkgMy41LjYg6Ieq5Yqo6ZqQ6JeP5bqV5qCP5Yqf6IO95pS55Li65aeL57uI6ZqQ6JeP5bqV5qCPCi8vIEBub3RlICAgICAgICAgMjEtMDgtMTggMy41LjUg5L+u5aSN5peg5rOV6YCJ5oup5aSN5Yi255qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjEtMDYtMTcgMy41LjQg5Y676Zmk5Y+z5L6n57qi5YyF5oKs5rWu56qXCi8vIEBub3RlICAgICAgICAgMjEtMDQtMTggMy41LjMg5aKe5Yqg5pi+56S65bCP5bqX55qE6K6+5a6aCi8vIEBub3RlICAgICAgICAgMjEtMDMtMTMgMy41LjIg5Y675Li76aG15bm/5ZGK77yM5Y675paH56ug6aG16Z2i5o6o6I2Q5YaF5a65VGl0bGUKLy8gQG5vdGUgICAgICAgICAyMS0wMy0wMSAzLjUuMSDkv67mlLnmlofmoYgKLy8gQG5vdGUgICAgICAgICAyMS0wMi0wNiAzLjUuMCDkv67lpI3kuIrkvKDotYTmupDnlYzpnaLmoIfnrb7pgInmi6nmtojlpLHnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMS0wMS0xNyAzLjQuOSDliKDpmaTmlofnq6DpobXlkozorrrlnZvlub/lkYrvvIzmmoLml7blgZznlKjlj7PkvqfmoI/mu5rliqjlip/og73vvIhDU0RO6ZmQ5Yi277yJCi8vIEBub3RlICAgICAgICAgMjEtMDEtMTUgMy40Ljgg5L+d5a2Y5oyJ6ZKu5LyY5YyW77yM5L+u5aSN5pi+56S65Yib5L2c5Lit5b+D5oyJ6ZKu5Yqf6IO95aSx5pWI55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjEtMDEtMTUgMy40Ljcg5pS56L+b6ISa5pys57uG6IqC77yM5aKe5Yqg5bm/5ZGK5bGP6JS96IO95Yqb77yM5L+u5aSN57u/5YyW5oyJ6ZKu6ZSZ5L2N55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjAtMTItMjUgMy40LjYg5Li76aG16YOo5YiG5bWM5YWl5byP5bm/5ZGK5Yig6ZmkCi8vIEBub3RlICAgICAgICAgMjAtMTItMTggMy40LjUg5L+u5aSN57u/5YyW6K6+5a6a5oyJ6ZKu5o6S54mI5LiN5q2j56Gu55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjAtMTItMTUgMy40LjQg5L+u5aSN5LqG5p+Q5Lqb5a2Q6aG15pi+56S65LiN5q2j5bi455qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjAtMTAtMjMgMy40LjMg6YCC5bqU5paw54mIQ1NETu+8jOWOu+mZpOS4u+mhteWSjOeZu+W9lemhteW5v+WRiu+8jOS7peWPiueZu+W9leaPkOekuu+8jOW5tuenu+mZpOW6lemDqOS/oeaBrwovLyBAbm90ZSAgICAgICAgIDIwLTEwLTIwIDMuNC4yIOWIoOmZpOWPs+S+p+W5v+WRigovLyBAbm90ZSAgICAgICAgIDIwLTA5LTI2IDMuNC4xIOS/ruaUueaOkueJiOiuvuWumu+8jOS/ruWkjeeZu+W9leahhuW8ueWHuueahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIwLTA5LTI0IDMuNC4wIOe0p+aApeS/ruWkjeeUseS6jkNTRE7liY3nq6/moLflvI/kv67mlLnlr7zoh7Torr7lrprlvIDlhbPkuKLlpLHnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0wOC0yNyAzLjMuOSDntKfmgKXkv67lpI3nlLHkuo5DU0RO5YmN56uv5qC35byP5L+u5pS55a+86Ie06ISa5pys5aSx5pWI55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjAtMDgtMjYgMy4zLjgg5ZCI5rOV6ISa5pys5o+Q56S6Ci8vIEBub3RlICAgICAgICAgMjAtMDctMjAgMy4zLjcg5L+u5aSN6I+c5Y2V5qCP5Zyo5Yib5L2c5Lit5b+D5pi+56S65byC5bi455qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjAtMDctMTggMy4zLjYg5bel5YW3566x5oyJ6ZKu5LyY5YyWCi8vIEBub3RlICAgICAgICAgMjAtMDctMDUgMy4zLjUg6K+E6K665aSN5Yi25Yqf6IO95Lqk5LqS5LyY5YyWCi8vIEBub3RlICAgICAgICAgMjAtMDctMDQgMy4zLjQg5L+u5aSN5Y+z5L6n5qCP5raI5aSx55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjAtMDctMDMgMy4zLjMg5paw5aKe5aSN5Yi26K+E6K665Yqf6IO977yB5Yig6Zmk6aG26YOo5bm/5ZGKCi8vIEBub3RlICAgICAgICAgMjAtMDYtMjggMy4zLjIg5o+Q56S65L+u5pS5Ci8vIEBub3RlICAgICAgICAgMjAtMDYtMjcgMy4zLjEg5by556qX5o+Q56S66YC76L6R5L+u5pS55Li65LuF5o+Q56S65LiA5qyh44CCCi8vIEBub3RlICAgICAgICAgMjAtMDYtMjcgMy4zLjAg572R56uZ5qCH6aKY5paw5raI5oGv5o+Q6YaS5Y676ZmkCi8vIEBub3RlICAgICAgICAgMjAtMDYtMjYgMy4yLjkg5oGi5aSNR3JlYXN5Rm9ya+W5s+WPsOiEmuacrOaUr+aMgQovLyBAbm90ZSAgICAgICAgIDIwLTA2LTIxIDMuMi4wIOiEmuacrOi/geenu+mAmuefpQovLyBAbm90ZSAgICAgICAgIDIwLTA2LTIxIDMuMS45IOWinuWKoOiHquWKqOmakOiXj+W6leagj+WKn+iDvQovLyBAbm90ZSAgICAgICAgIDIwLTA2LTIxIDMuMS44IOWinuWKoOiHquWKqOmakOiXj+mhtuagj+WKn+iDve+8jOS/ruWkjemAiemhueeql+WPo+iiq+eCuei1numVv+adoeaMoeS9j+eahEJ1Z++8jOmAiemhueeql+WPo+W4g+WxgOS/ruaUuQovLyBAbm90ZSAgICAgICAgIDIwLTA2LTIwIDMuMS43IOiuvue9rueql+WPo+Wkp+Wwj+WbuuWumu+8jOWinuWKoOaJk+i1j+WFpeWPowovLyBAbm90ZSAgICAgICAgIDIwLTA2LTE5IDMuMS42IOaYvuekuuaOqOiNkOWGheWuueaMiemSruWbnuW9ku+8jOaWsOW4g+WxgOe0p+aApeS/ruWkjQovLyBAbm90ZSAgICAgICAgIDIwLTA2LTE4IDMuMS41IOiHquWumuS5ieWKn+iDveabtOaWsAovLyBAbm90ZSAgICAgICAgIDIwLTA2LTE2IDMuMS40IOaUr+aMgeWkp+mDqOWIhuWKn+iDveaooeWdl+WMluaYvuekugovLyBAbm90ZSAgICAgICAgIDIwLTA2LTE0IDMuMS4zIOe7v+WMluiuvuWumuS8mOWMlgovLyBAbm90ZSAgICAgICAgIDIwLTA2LTE0IDMuMS4yIElTU1VF5qih5p2/6LCD5pW0U3VwcG9ydCBVUkwKLy8gQG5vdGUgICAgICAgICAyMC0wNi0xNCAzLjEuMSDlop7liqDmkJzljZrkuLvmlofnq6DmqKHlnZcKLy8gQG5vdGUgICAgICAgICAyMC0wNi0xMyAzLjEuMCDkv67lpI3orr7nva7ov4fmnJ/nmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0wNi0xMiAzLjAuOSDmoIfpopjlm57mu5oKLy8gQG5vdGUgICAgICAgICAyMC0wNi0xMiAzLjAuOCDkuLvpobXlub/lkYrliKDpmaTvvIznu7/ljJborr7nva7ku4XmmL7npLrlnKjmlofnq6DpobXpnaLvvIzliKDpmaTpobXohJrvvIzpobbpg6jkvJjljJbvvIzoi6XlubLnu4boioLkvJjljJYKLy8gQG5vdGUgICAgICAgICAyMC0wNi0xMSAzLjAuNyDlop7liqDlrpjmlrlRUeS6pOa1gee+pO+8jOWinuWKoOWFs+mXreW8uuWItueZveiJsuS4u+mimOWKn+iDvQovLyBAbm90ZSAgICAgICAgIDIwLTA2LTExIDMuMC42IOeUqOaIt+WQjeeJh+WKn+iDveS8mOWMlgovLyBAbm90ZSAgICAgICAgIDIwLTA2LTExIDMuMC41IOS8mOWMluWKoOi9vemAn+W6pgovLyBAbm90ZSAgICAgICAgIDIwLTA2LTEwIDMuMC40IOS/ruWkjeiuvue9rueVjOmdoumBruaMoeeahOmXrumimO+8jOaYvuekuuWNmuS4u+WktOWDjwovLyBAbm90ZSAgICAgICAgIDIwLTA2LTA5IDMuMC4zIOm7mOiupOiuvuWumuS/ruaUuQovLyBAbm90ZSAgICAgICAgIDIwLTA2LTA5IDMuMC4yIOS/ruWkjeaOqOiNkOWGheWuueaMiemSruWIt+aWsOS4jeeUn+aViOeahOmXrumimO+8jOWinuWKoOW3peWFt+euseaPkOekuuahhgovLyBAbm90ZSAgICAgICAgIDIwLTA2LTA4IDMuMC4xIOiuvue9ruS4reW/g+aOqOWHuu+8geWinuWKoOa1j+iniOaViOaenOmAiemhuSAmJiBHcmVlbiBCb29rIEljb24gVXBkYXRlCi8vIEBub3RlICAgICAgICAgMjAtMDYtMDggMy4wLjAg6K6+572u5Lit5b+D5o6o5Ye677yB5aKe5Yqg5rWP6KeI5pWI5p6c6YCJ6aG5Ci8vIEBub3RlICAgICAgICAgMjAtMDYtMDcgMi40LjIg6K6+572u6Kej6ICm77yM5LiL5Liq54mI5pys5pCe6YWN572u5Lit5b+DCi8vIEBub3RlICAgICAgICAgMjAtMDYtMDYgMi40LjEg5L+u5aSN5paH56ug5YaF5a655raI5aSx55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjAtMDYtMDQgMi40LjAg5L+u5aSN5o6o6I2Q5oyJ6ZKu6ZSZ5L2N55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjAtMDYtMDQgMi4zLjkg56qE5bGP6YCC6YWN5LyY5YyWCi8vIEBub3RlICAgICAgICAgMjAtMDYtMDQgMi4zLjgg6buR5aSc5qih5byP5Ye6546w6Zeu6aKY77yM57Sn5oCl5Zue5qGj5YiwIDIuMy42Ci8vIEBub3RlICAgICAgICAgMjAtMDYtMDMgMi4zLjcg5oSf6LCiIEBBbGV4TFdUIOWinuWKoOm7keaal+aooeW8jwovLyBAbm90ZSAgICAgICAgIDIwLTA2LTAyIDIuMy42IEFkc0J5R29vZ2xlIOWIoOmZpAovLyBAbm90ZSAgICAgICAgIDIwLTA1LTI1IDIuMy41IOaEn+iwoiBAUnlhbklQTyDkv67lpI0gQ2Fubm90IHJlYWQgcHJvcGVydHkgJ3JlcGxhY2UnIG9mIHVuZGVmaW5lZCDmiqXplJnnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0wNS0yNCAyLjMuNCDkv67lpI3lhY3nmbvlvZXlpI3liLblip/og70KLy8gQG5vdGUgICAgICAgICAyMC0wNS0yMiAyLjMuMyBMb2dv5LiO6IOM5pmv5ZCM5q2lCi8vIEBub3RlICAgICAgICAgMjAtMDUtMjIgMi4zLjIg5rex5bqm5Yig6Zmk6IOM5pmvCi8vIEBub3RlICAgICAgICAgMjAtMDUtMjAgMi4zLjEg6YCa6L+HcmVxdWlyZeS9v+eUqE5Qcm9ncmVzcwovLyBAbm90ZSAgICAgICAgIDIwLTA1LTIwIDIuMy4wIOaYvuekuuaOqOiNkOWGheWuueaMiemSruagt+W8j+WGhee9ru+8jOWJlOmZpENETgovLyBAbm90ZSAgICAgICAgIDIwLTA1LTE3IDIuMi45IOi/m+W6puadoeagt+W8j+abtOaWsO+8jOaXtumXtOW7tuaXtuS8mOWMlgovLyBAbm90ZSAgICAgICAgIDIwLTA1LTE3IDIuMi44IOabtOaWsOiEmuacrOaPj+i/sO+8jOWxleW8gOivhOiuuueahOaJgOacieWbnuWkje+8jOWIoOmZpOWIm+S9nOS4reW/g+aMiemSru+8jOWKoOi9vei/m+W6puadoQovLyBAbm90ZSAgICAgICAgIDIwLTA1LTE3IDIuMi43IOabtOaWsOiEmuacrOaPj+i/sAovLyBAbm90ZSAgICAgICAgIDIwLTA1LTE2IDIuMi42IOS/ruWkjeesrOS4gOasoeeCueWHu+aYvuekuuaOqOiNkOWGheWuueaXoOWPjeW6lOeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIwLTA1LTE2IDIuMi41IOWIoOmZpOaKouaymeWPkeinkuagh++8jOS/ruaUueaYvuekuuaOqOiNkOWGheWuueaMiemSruagt+W8jwovLyBAbm90ZSAgICAgICAgIDIwLTA1LTE2IDIuMi40IOaEn+iwouadpeiHqkdpdEh1YueahOaci+WPi+KAnEhlcm9uWmhhbmfigJ3nmoRJc3N1ZeW7uuiuru+8jOWIoOmZpOaJgOacieWNmuWuouiKsemHjOiDoeWTqOeahOiDjOaZr++8jOS4u+mhteWIhuexu+S4reW5v+WRiua4hemZpO+8jENTU+agt+W8j+aOp+WItuWuveW6pumAgumFjeS7o+eggeS8mOWMlgovLyBAbm90ZSAgICAgICAgIDIwLTA1LTE2IDIuMi4zIOaEn+iwouadpeiHqkdpdEh1YueahOaci+WPi+KAnFJldGlyZWRXb3JsZOKAneeahOS7o+eggei0oeeMru+8jOS9v+eUqENTU+adpeaOp+WItuagt+W8j++8jOiAjOS4jeaYr0pT77yM5aKe5aSn54G15rS75oCn44CCCi8vIEBub3RlICAgICAgICAgMjAtMDUtMTMgMi4yLjIg5bGP6JS95oKo55qE57yp5pS+5LiN5pivMTAwJeeahOaPkOekugovLyBAbm90ZSAgICAgICAgIDIwLTA0LTI5IDIuMi4xIOaEn+iwouWkp+WutueahOaUr+aMge+8jOWinuWKoOebruW9leaYvuekuu+8jOiHquWKqOWIpOaWreaYr+WQpuWtmOWcqOebruW9leiwg+aVtOmhtemdouWuveW6pu+8jOWxj+iUveaWsOWinuW5v+WRiu+8jOasoui/juWkp+WutuS9k+mqjOW5tuaPkOWHuuaEj+inge+8gQovLyBAbm90ZSAgICAgICAgIDIwLTA0LTE1IDIuMi4wIOS4gOS6m+W5v+WRiuiiq+WFtuS7luaPkuS7tuWxj+iUveWvvOiHtOeahOW8guW4uOaXoOinhuS5iwovLyBAbm90ZSAgICAgICAgIDIwLTAzLTMwIDIuMS45IOW5suaOieKAnOiusOW9leS9oOeahOWIm+S9nOWOhueoi+KAne+8jOW5suaOieacqueZu+W9leaDheWGteS4i+eahOinkuagh+aPkOmGkgovLyBAbm90ZSAgICAgICAgIDIwLTAzLTEzIDIuMS44IOeqhOWxj+mAgumFjeWKoOW8ugovLyBAbm90ZSAgICAgICAgIDIwLTAzLTEzIDIuMS43IOabtOaWsOeugOS7iwovLyBAbm90ZSAgICAgICAgIDIwLTAzLTEyIDIuMS42IOWuveW6puiHqumAguW6lO+8iOaEn+iwouadpeiHqkdpdEh1YueahOaci+WPi0xlb25HN+eahOW7uuiuru+8ie+8geS/ruWkjeWJqui0tOadv+WHgOWMluaXoOaViOeahOmXrumimOOAggovLyBAbm90ZSAgICAgICAgIDIwLTAzLTA0IDIuMS41IOmAgumFjUFkR3VhcmQKLy8gQG5vdGUgICAgICAgICAyMC0wMi0yNyAyLjEuNCDkvJjljJblhY3nmbvlvZXlpI3liLYKLy8gQG5vdGUgICAgICAgICAyMC0wMi0yNSAyLjEuMyDlhY3nmbvlvZXlpI3liLbmm7TmlrDvvIznjrDlt7Llj6/nlKgKLy8gQG5vdGUgICAgICAgICAyMC0wMi0yNCAyLjEuMiBCeSBHaXRodWJASmFsaW5XYW5nIOabtOaUueWOu+mZpOWJqui0tOadv+WKq+aMgeeahOaWueW8j++8jOS9v+W+l+WOn+aWh+agvOW8j+WcqOWkjeWItuaXtuiDveWkn+S/neeVmQovLyBAbm90ZSAgICAgICAgIDIwLTAyLTIyIDIuMS4xIOe0p+aApeS/ruWkjeeUseS6jiBDU0ROIOS/ruaUueWJjeerr+e7k+aehOWvvOiHtOeahOaWh+eroOmUmeS9jQovLyBAbm90ZSAgICAgICAgIDIwLTAyLTExIDIuMS4wIOiLpeW5suWKqOeUu+S8mOWMlu+8jOinhuinieS9k+mqjOabtOa1geeVhQovLyBAbm90ZSAgICAgICAgIDIwLTAyLTA2IDIuMC45IOatpuaxieWKoOayue+8geS/ruaUueaOqOiNkOWGheWuueWIh+aNouW8gOWFs+S9jee9ru+8jOWHj+Wwkei/neWSjOaEnwovLyBAbm90ZSAgICAgICAgIDIwLTAxLTE3IDIuMC44IOWOu+mZpOWPs+S+p+W5v+WRigovLyBAbm90ZSAgICAgICAgIDIwLTAxLTE3IDIuMC43IOaEn+iwouadpeiHqkdpdEh1YueahOaci+WPi+KAnGdsZWFuc+KAneeahOW7uuiuru+8jOWOu+aOiemhteWktOW5v+WRigovLyBAbm90ZSAgICAgICAgIDE5LTEyLTEyIDIuMC42IOaEn+iwouadpeiHqkdpdEh1YueahOaci+WPi+KAnHlleHVlc29uZ+KAneeahOW7uuiuru+8jOWwhuS9nOiAheS/oeaBr+WcqOaWh+eroOmhtumDqOWxleekugovLyBAbm90ZSAgICAgICAgIDE5LTEwLTMwIDIuMC41IOe+juWMlumakOiXj+aMiemSru+8jOWinuWKoOeCueWHu+WKqOeUuwovLyBAbm90ZSAgICAgICAgIDE5LTEwLTMwIDIuMC40IOWIoOmZpENTRE7lrpjmlrnlnKjkuLvpobXmjqjpgIHnmoTmlofnq6DvvIjlpKflpJrmmK/lub/lkYrvvIkKLy8gQG5vdGUgICAgICAgICAxOS0xMC0zMCAyLjAuMyDmt7vliqDmm7TlpJrlsY/olL3ohJrmnKwKLy8gQG5vdGUgICAgICAgICAxOS0xMC0zMCAyLjAuMCDnpZ3oh6rlt7HnlJ/ml6Xlv6vkuZB+5a6M5YWo6YeN5YaZQ1NETkdyZWVuZXLvvIznu5/kuIDkvb/nlKhKUXVlcnnvvIzmlYjnjofmm7Tpq5gKLy8gQG5vdGUgICAgICAgICAxOS0xMC0yNyAxLjUuMiDliKDpmaTliIbkuqvmtbfmiqXmj5DnpLomJuaEn+iwokdpdEh1YueahOaci+WPi+KAnENITi1TVFVERU5U4oCd55qE5Y+N6aaI77yM5Y676Zmk5bqV6YOo6K++56iL5o6o6I2QCi8vIEBub3RlICAgICAgICAgMTktMTAtMjcgMS41LjEg5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+L4oCcQ0hOLVNUVURFTlTigJ3nmoTnu4boh7TlpI3njrDlj43ppojvvIzljrvpmaTkuoblupXpg6jnmoTor77nqIvmjqjojZDlub/lkYoKLy8gQG5vdGUgICAgICAgICAxOS0xMC0wNCAxLjUuMCDnp7vpmaTkuoblupXpg6jkuLvpopjkv6Hmga/lkozmiZPotY8KLy8gQG5vdGUgICAgICAgICAxOS0wOS0xMCAxLjQuOSDmhJ/osKLmnaXoh6pHaXRIdWLnmoTmnIvlj4vigJxwcm9ncmFtbWVyWmXigJ3nmoTnu4boh7TlpI3njrDlj43ppojvvIzkv67lpI3kuobor4TorrrljLrngrnlh7vmn6XnnIvlm57lpI3lkI7vvIzlt7Lnu4/lsZXlvIDnmoTor4TorrrkvJrmlLbotbfnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAxOS0wOS0wNCAxLjQuOCDmhJ/osKLmnaXoh6pHaXRIdWLnmoTmnIvlj4vigJxkd2RjdGjigJ3nmoTnu4boh7TlpI3njrDlj43ppojvvIznjrDlnKjmn6XnnIvljp/liJvmlofnq6DkuI3kvJrml6DpmZDlvLnnmbvlvZXnqpflj6PkuobvvIzkuJTliqDlvLrkuoboh6rliqjlsZXlvIDlip/og70KLy8gQG5vdGUgICAgICAgICAxOS0wOC0yMCAxLjQuNyDmhJ/osKLmsrnlj4nnlKjmiLfigJxTdXByZW1lU2ly4oCd55qE5Y+N6aaI77yM5L+u5aSN5LqG5Y+z5L6n5oKs5rWu5qCP6YGu5oyh5paH56ug55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMTktMDgtMTQgMS40LjYg5peg6K+t44CC5Yia5pu05paw55qE5YWN55m75b2V5aSN5Yi277yM5Y+I5pS55LqG44CC5L+u5aSN77yBCi8vIEBub3RlICAgICAgICAgMTktMDgtMTMgMS40LjUg5pu05paw5LqG54us5a625Yqf6IO977ya5YWN55m75b2V5aSN5Yi2Ci8vIEBub3RlICAgICAgICAgMTktMDgtMTMgMS40LjQg5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+L4oCcaWFtc3VueGluZ+KAneeahOWPjemmiO+8jOS/ruWkjeS6humhtumDqOS4jei0tOi+ueeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDE5LTA4LTAxIDEuNC4zIOaEn+iwouayueWPieeUqOaIt+KAnGRkZGR54oCd55qE5Y+N6aaI77yM5Y676Zmk5LqG5pu05aSa5o6o5bm/5bm/5ZGKCi8vIEBub3RlICAgICAgICAgMTktMDctMzAgMS40LjIg5oSf6LCi5rK55Y+J55So5oi34oCc5ZGo5LmJ5p2w4oCd55qE5Y+N6aaI77yM5aKe5Yqg5LqG6ZiyQ1NETuWklumTvumHjeWumuWQkeeahOWKn+iDve+8iENTRE7oh63mtYHmsJPvvIkKLy8gQG5vdGUgICAgICAgICAxOS0wNy0yMCAxLjQuMSDkv67lpI3kuobmjqjojZDlhoXlrrnlvIDlhbPot6jmlofnq6Dml6DmlYjpl67popjvvIjlv5jkuobphY3nva5Db29raWXkvZznlKjln5/vvIkKLy8gQG5vdGUgICAgICAgICAxOS0wNy0xOSAxLjQuMCAxLiDmnoTmnrblpKfmm7TmlrAgMi4g5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+LImx1a2VtaW4i55qE5Y+N6aaI77yM5Yqg5YWl5LqG5LiL5pa55o6o6I2Q5YaF5a655piv5ZCm6ZqQ6JeP5byA5YWz77yI5a6e55So77yJCi8vIEBub3RlICAgICAgICAgMTktMDctMTMgMS4zLjAg5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+L4oCcSG9sYXBsYWNl4oCd55qE5Y+N6aaI77yM5L+u5aSN5LqG5paH56ug5peg5rOV6Ieq5Yqo5bGV5byA55qE6Zeu6aKY77yIQ1NETuaAu+aUuei/meS4qu+8jOS7pOS6uuWktOeWvO+8iQovLyBAbm90ZSAgICAgICAgIDE5LTA2LTA4IDEuMi42IOaEn+iwouayueWPieeUqOaIt+KAnERlc2t5QWtp4oCd55qE5Y+N6aaI77yM5L+u5aSN5LqG5paH56ug5peg5rOV6Ieq5Yqo5bGV5byA55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMTktMDYtMDcgMS4yLjQg5L+u5aSN5LqG55m75b2V5ZCO6K+E6K665peg5rOV5q2j5bi45omT5byA55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMTktMDYtMDcgMS4yLjMg5oSf6LCi5rK55Y+J55So5oi3IuawuOi/nOeahOauv+S4iyLnmoTlj43ppojvvIzlnKjkuIDkuIrljYjnmoTliqrlipvmlLvlhYvkuIvvvIznu4jkuo7lrp7njrDkuobmnKrnmbvlvZXlsZXlvIDor4TorrrnmoTor63lj6UKLy8gQG5vdGUgICAgICAgICAxOS0wNi0wNSAxLjIuMCDkv67lpI3kuobor4Torrrml6Dms5Xoh6rliqjlsZXlvIDnmoRCVUcKLy8gQG5vdGUgICAgICAgICAxOS0wNi0wNCAxLjEuOSDkv67lpI3kuobml6Dms5Xoh6rliqjlsZXlvIDnmoRCVUfvvIjoh6rpl63kuobvvIkKLy8gQG5vdGUgICAgICAgICAxOS0wNi0wNCAxLjEuNiBDU0RO5aSq5Z2P5LqG77yM5oqK4oCc5raI5oGv4oCd5oyJ6ZKu55qEQ2xhc3Porr7nva7miJDkuobigJxHaXRDaGF04oCd77yM5omA5Lul5L+u5aSN5LqG4oCc5raI5oGv4oCd5oyJ6ZKu5raI5aSx55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMTktMDYtMDQgMS4xLjUgMS4g5LyY5YyW5LqG6K665Z2b5L2T6aqMIDIu576O5YyW44CB5LyY5YyW5Luj56CB57uT5p6ECi8vIEBub3RlICAgICAgICAgMTktMDYtMDQgMS4xLjQg5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+L4oCcaWFtc3VueGluZ+KAneeahOWPjemmiO+8jOWinuWKoOS6huiuuuWdm+W5v+WRiuWMuemFjeinhOWImQovLyBAbm90ZSAgICAgICAgIDE5LTA2LTAzIDEuMS4zIOaEn+iwouadpeiHqkdpdEh1YueahOaci+WPi+KAnHdhbmd3ZWkxMzXigJ3nmoTlj43ppojvvIzljrvpmaTkuobor4TorrrljLrkuIrmlrnnmoTlub/lkYoKLy8gQG5vdGUgICAgICAgICAxOS0wNS0yNyAxLjEuMiDmhJ/osKLmsrnlj4nnlKjmiLfigJzlpI/kvJ/mnbDigJ3nmoTlj43ppojvvIzkv67lpI3kuoblr4zmlofmnKznvJbovpHlmajml6Dms5Xkvb/nlKjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAxOS0wNS0yNSAxLjEuMCAxLiDkv67lpI3kuobkuLvpobXlub/lkYrnmoTpl67popggMi4g6K665Z2b6Ieq5Yqo5bGV5byAIDMuIOiuuuWdm+W5v+WRiua2iOmZpAovLyBAbm90ZSAgICAgICAgIDE5LTA1LTI1IDEuMC45IOaEn+iwouayueWPieeUqOaIt+KAnOa4o+a4o+S4jeWHhuivtOivneKAneeahOWPjemmiO+8jOS/ruWkjeS6huaUtuiXj+aMiemSrua2iOWkseeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDE5LTAzLTAxIDEuMC4zIOa3u+WKoOmhtemdoumAieaLqeaAp+i/h+a7pOinhOWImQovLyBAbm90ZSAgICAgICAgIDE5LTAzLTAxIDEuMC4yIOWinuWKoOS6huWHgOWMluWJqui0tOadv+WKn+iDvQovLyBAbm90ZSAgICAgICAgIDE5LTAzLTAxIDEuMC4xIOS/ruWkjeS6huaOkueJiOmXrumimCwg5LyY5YyW5LqG5Luj56CB57uT5p6ECi8vIEBub3RlICAgICAgICAgMTktMDItMjYgMS4wLjAg5Yid54mI5Y+R5biDCi8vID09L1VzZXJTY3JpcHQ9PQp2YXIgdmVyc2lvbiA9ICI0LjEuMSI7CnZhciBjdXJyZW50VVJMID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CmlmIChjdXJyZW50VVJMLmluZGV4T2YoIj8iKSAhPT0gLTEpIHsKICAgIGN1cnJlbnRVUkwgPSBjdXJyZW50VVJMLnN1YnN0cmluZygwLCBjdXJyZW50VVJMLmluZGV4T2YoIj8iKSk7Cn0KdmFyIGxpc3Q7CnZhciB3aW5kb3dUb3AgPSAwOwp2YXIgc3RhcnRUaW1lTWlsbGkgPSBEYXRlLm5vdygpOwp2YXIgc3RvcFRpbWVNaWxsaSA9IDA7Ci8vIOmFjee9ruaOp+WItuexuwpjbGFzcyBDb25maWcgewogICAgZ2V0KGtleSwgdmFsdWUpIHsKICAgICAgICB2YXIgY29va2llID0gJC5jb29raWUoa2V5KTsKICAgICAgICBpZiAoY29va2llID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KGtleSwgdmFsdWUpOwogICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJSZW5ldyBrZXk6ICIgKyBrZXkgKyAiIDogIiArIHZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICAgIH0KICAgICAgICBjb25zb2xlLmRlYnVnKCJSZWFkIGtleTogIiArIGtleSArICIgOiAiICsgY29va2llKTsKICAgICAgICBpZiAoY29va2llID09PSAidHJ1ZSIpIHsgcmV0dXJuIHRydWU7IH0KICAgICAgICBpZiAoY29va2llID09PSAiZmFsc2UiKSB7IHJldHVybiBmYWxzZTsgfQogICAgICAgIHJldHVybiBjb29raWU7CiAgICB9CgogICAgZ2V0UyhrZXksIHZhbHVlKSB7CiAgICAgICAgdmFyIGNvb2tpZSA9ICQuY29va2llKGtleSk7CiAgICAgICAgaWYgKGNvb2tpZSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldChrZXksIHZhbHVlKTsKICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygiUmVuZXcga2V5OiAiICsga2V5ICsgIiA6ICIgKyB2YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICB9CiAgICAgICAgY29uc29sZS5kZWJ1ZygiUmVhZCBrZXk6ICIgKyBrZXkgKyAiIDogIiArIGNvb2tpZSk7CiAgICAgICAgcmV0dXJuIGNvb2tpZTsKICAgIH0KCiAgICBzZXQoc2V0S2V5LCBzZXRWYWx1ZSkgewogICAgICAgICQuY29va2llKHNldEtleSwgc2V0VmFsdWUsIHsKICAgICAgICAgICAgcGF0aDogJy8nLAogICAgICAgICAgICBleHBpcmVzOiAzNjUKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmRlYnVnKCJLZXkgc2V0OiAiICsgc2V0S2V5ICsgIiA6ICIgKyBzZXRWYWx1ZSk7CiAgICB9CgogICAgbGlzdGVuQnV0dG9uKGVsZW1lbnQsIGxpc3RlbktleSwgdHJ1ZUFjdGlvbiwgZmFsc2VBY3Rpb24pIHsKICAgICAgICAkKGVsZW1lbnQpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgbGV0IHN0YXR1cyA9IG5ldyBDb25maWcoKS5nZXQobGlzdGVuS2V5LCB0cnVlKTsKICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygiU3RhdHVzOiAiICsgc3RhdHVzKTsKICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gInRydWUiIHx8IHN0YXR1cykgewogICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygiS2V5IHNldDogIiArIGxpc3RlbktleSArICIgOjogIiArIGZhbHNlKTsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQobGlzdGVuS2V5LCBmYWxzZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJLZXkgc2V0OiAiICsgbGlzdGVuS2V5ICsgIiA6OiAiICsgdHJ1ZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KGxpc3RlbktleSwgdHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KCiAgICBsaXN0ZW5CdXR0b25BbmRBY3Rpb24oZWxlbWVudCwgbGlzdGVuS2V5LCB0cnVlQWN0aW9uLCBmYWxzZUFjdGlvbikgewogICAgICAgICQoZWxlbWVudCkuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsZXQgc3RhdHVzID0gbmV3IENvbmZpZygpLmdldChsaXN0ZW5LZXksIHRydWUpOwogICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJTdGF0dXM6ICIgKyBzdGF0dXMpOwogICAgICAgICAgICBpZiAoc3RhdHVzID09PSAidHJ1ZSIgfHwgc3RhdHVzKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJLZXkgc2V0OiAiICsgbGlzdGVuS2V5ICsgIiA6OiAiICsgZmFsc2UpOwogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldChsaXN0ZW5LZXksIGZhbHNlKTsKICAgICAgICAgICAgICAgIGZhbHNlQWN0aW9uKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJLZXkgc2V0OiAiICsgbGlzdGVuS2V5ICsgIiA6OiAiICsgdHJ1ZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KGxpc3RlbktleSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICB0cnVlQWN0aW9uKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KfQp2YXIgY29uZmlnID0gbmV3IENvbmZpZygpOwp2YXIgcHJvZ3Jlc3MgPSAwOwpjbGFzcyBQcm9ncmVzcyB7CiAgICBpbml0KCkgewogICAgICAgIHByb2dyZXNzID0gMDsKICAgICAgICBOUHJvZ3Jlc3Muc3RhcnQoKTsKICAgICAgICAkKCIjZ3JlZW5lclByb2dyZXNzIikudGV4dCgi57u/5YyW5LitLi4uIik7CiAgICAgICAgJCgiLnRvb2xiYXItc2VhcmNoIikuaGlkZSgpOwogICAgfQoKICAgIHNldFByb2dyZXNzKHApIHsKICAgICAgICBwcm9ncmVzcyA9IHA7CiAgICAgICAgJCgiI2dyZWVuZXJQcm9ncmVzcyIpLnRleHQocHJvZ3Jlc3MgKyAiJSIpOwogICAgICAgIE5Qcm9ncmVzcy5zZXQocHJvZ3Jlc3MgLyAxMDApOwogICAgICAgIGNvbnNvbGUubG9nKHByb2dyZXNzICsgIiUiKTsKICAgIH0KCiAgICBpbmNQcm9ncmVzcyhwKSB7CiAgICAgICAgcHJvZ3Jlc3MgPSBwcm9ncmVzcyArIHA7CiAgICAgICAgcHJvZ3Jlc3MgPSBwcm9ncmVzcyA+IDEwMCA/IDEwMCA6IHByb2dyZXNzOwogICAgICAgICQoIiNncmVlbmVyUHJvZ3Jlc3MiKS50ZXh0KHByb2dyZXNzICsgIiUiKTsKICAgICAgICBOUHJvZ3Jlc3Muc2V0KHByb2dyZXNzIC8gMTAwKTsKICAgICAgICBjb25zb2xlLmxvZyhwcm9ncmVzcyArICIlIik7CiAgICB9CgogICAgZG9uZSgpIHsKICAgICAgICBwcm9ncmVzcyA9IDEwMDsKICAgICAgICBOUHJvZ3Jlc3MuZG9uZSgpOwogICAgICAgICQoIiNncmVlbmVyUHJvZ3Jlc3MiKS5odG1sKHByb3RlY3Rfc3ZnICsgJyBDU0ROR3JlZW5lciDmraPlnKjlrojmiqTmgqjnmoTmtY/op4jkvZPpqownKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAkKCIjZ3JlZW5lclByb2dyZXNzIikuZmFkZU91dCg1MDApOwogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgJCgiLnRvb2xiYXItc2VhcmNoIikuZmFkZUluKDUwMCk7CiAgICAgICAgICAgICAgICBpZiAoIWlzRmlyZWZveCgpKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g5o+Q56S6CiAgICAgICAgICAgICAgICAgICAgbGV0IHRpcHNDb29raWUgPSBjb25maWcuZ2V0KCJzaG93VGlwIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRpcHNDb29raWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY29uZmlnLnNldCgic2hvd1RpcCIsIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICB9LCAxNTAwKTsKICAgIH0KfQp2YXIgcHJvZ3Jlc3NvciA9IG5ldyBQcm9ncmVzcygpOwoKLy8g6Ieq5a6a5LmJIENTUwovLyDov5vluqbmnaEKJCgnaGVhZCcpLmFwcGVuZCgiPHN0eWxlPiNucHJvZ3Jlc3N7cG9pbnRlci1ldmVudHM6bm9uZX0jbnByb2dyZXNzIC5iYXJ7YmFja2dyb3VuZDojZjQ0NDQ0O3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6MTAzMTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MnB4fSNucHJvZ3Jlc3MgLnBlZ3tkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7d2lkdGg6MTAwcHg7aGVpZ2h0OjEwMCU7Ym94LXNoYWRvdzowIDAgMTBweCAjZjQ0NDQ0LDAgMCA1cHggI2Y0NDQ0NDtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDNkZWcpIHRyYW5zbGF0ZSgwLC00cHgpOy1tcy10cmFuc2Zvcm06cm90YXRlKDNkZWcpIHRyYW5zbGF0ZSgwLC00cHgpO3RyYW5zZm9ybTpyb3RhdGUoM2RlZykgdHJhbnNsYXRlKDAsLTRweCl9I25wcm9ncmVzcyAuc3Bpbm5lcntkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6MTAzMTt0b3A6MTVweDtyaWdodDoxNXB4fSNucHJvZ3Jlc3MgLnNwaW5uZXItaWNvbnt3aWR0aDoxOHB4O2hlaWdodDoxOHB4O2JveC1zaXppbmc6Ym9yZGVyLWJveDtib3JkZXI6c29saWQgMnB4IHRyYW5zcGFyZW50O2JvcmRlci10b3AtY29sb3I6I2Y0NDQ0NDtib3JkZXItbGVmdC1jb2xvcjojZjQ0NDQ0O2JvcmRlci1yYWRpdXM6NTAlOy13ZWJraXQtYW5pbWF0aW9uOm5wcm9ncmVzcy1zcGlubmVyIC40cyBsaW5lYXIgaW5maW5pdGU7YW5pbWF0aW9uOm5wcm9ncmVzcy1zcGlubmVyIC40cyBsaW5lYXIgaW5maW5pdGV9Lm5wcm9ncmVzcy1jdXN0b20tcGFyZW50e292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjpyZWxhdGl2ZX0ubnByb2dyZXNzLWN1c3RvbS1wYXJlbnQgI25wcm9ncmVzcyAuYmFyLC5ucHJvZ3Jlc3MtY3VzdG9tLXBhcmVudCAjbnByb2dyZXNzIC5zcGlubmVye3Bvc2l0aW9uOmFic29sdXRlfUAtd2Via2l0LWtleWZyYW1lcyBucHJvZ3Jlc3Mtc3Bpbm5lcnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMCl9MTAwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19QGtleWZyYW1lcyBucHJvZ3Jlc3Mtc3Bpbm5lcnswJXt0cmFuc2Zvcm06cm90YXRlKDApfTEwMCV7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX08L3N0eWxlPiIpOwovLyDorr7nva7nqpflj6MKJCgnaGVhZCcpLmFwcGVuZCgiPHN0eWxlPi5ibGFja19vdmVybGF5e3RvcDowJTtsZWZ0OjAlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7YmFja2dyb3VuZC1jb2xvcjojMDAwO3otaW5kZXg6MTAwMTstbW96LW9wYWNpdHk6MC44O29wYWNpdHk6LjEwO2ZpbHRlcjphbHBoYShvcGFjaXR5PTg4KX0uYmxhY2tfb3ZlcmxheSwud2hpdGVfY29udGVudHtkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGV9LndoaXRlX2NvbnRlbnR7ei1pbmRleDo5OTk5IWltcG9ydGFudDt0b3A6MjUlO2xlZnQ6MjUlO3dpZHRoOjY1MHB4O2hlaWdodDo2MCU7cGFkZGluZzoyMHB4O2JvcmRlcjowcHg7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LDAuOSk7ei1pbmRleDoxMDAyO292ZXJmbG93OmF1dG99PC9zdHlsZT4iKTsKLy8g5o+Q56S65p2hCiQoJ2hlYWQnKS5hcHBlbmQoIjxzdHlsZT4udHJpcHNjb257cGFkZGluZzoxMHB4fTwvc3R5bGU+Iik7Ci8vIOaMiemSru+8iOaXp++8iQokKCdoZWFkJykuYXBwZW5kKCI8c3R5bGU+I3RvZ2dsZS1idXR0b257ZGlzcGxheTpub25lfS5idXR0b24tbGFiZWx7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6ODJweDtiYWNrZ3JvdW5kLWNvbG9yOiNjY2M7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO2JvcmRlci1yYWRpdXM6MzBweDtjdXJzb3I6cG9pbnRlcn0uY2lyY2xle3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDozMHB4O2hlaWdodDozMHB4O2JvcmRlci1yYWRpdXM6NTAlO2JhY2tncm91bmQtY29sb3I6I2ZmZn0uYnV0dG9uLWxhYmVsIC50ZXh0e2xpbmUtaGVpZ2h0OjMwcHg7Zm9udC1zaXplOjE4cHg7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9Lm9ue2NvbG9yOiNmZmY7ZGlzcGxheTpub25lO3RleHQtaW5kZW50OjEwcHh9Lm9mZntjb2xvcjojZmZmO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtaW5kZW50OjUzcHh9LmJ1dHRvbi1sYWJlbCAuY2lyY2xle2xlZnQ6MDt0cmFuc2l0aW9uOmFsbCAuM3N9I3RvZ2dsZS1idXR0b246Y2hlY2tlZCtsYWJlbC5idXR0b24tbGFiZWwgLmNpcmNsZXtsZWZ0OjUwcHh9I3RvZ2dsZS1idXR0b246Y2hlY2tlZCtsYWJlbC5idXR0b24tbGFiZWwgLm9ue2Rpc3BsYXk6aW5saW5lLWJsb2NrfSN0b2dnbGUtYnV0dG9uOmNoZWNrZWQrbGFiZWwuYnV0dG9uLWxhYmVsIC5vZmZ7ZGlzcGxheTpub25lfSN0b2dnbGUtYnV0dG9uOmNoZWNrZWQrbGFiZWwuYnV0dG9uLWxhYmVse2JhY2tncm91bmQtY29sb3I6Izc4ZDY5MH08L3N0eWxlPiIpOwovLyDkv53lrZjmjInpkq4KJCgnaGVhZCcpLmFwcGVuZCgiPHN0eWxlPi5zYXZlQnV0dG9ue2JhY2tncm91bmQtY29sb3I6IzE5YTRlZDtib3JkZXI6bm9uZTtjb2xvcjojZmZmO3BhZGRpbmc6NXB4IDE1cHg7dGV4dC1hbGlnbjpjZW50ZXI7dGV4dC1kZWNvcmF0aW9uOm5vbmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7Zm9udC1zaXplOjE0cHg7Y3Vyc29yOnBvaW50ZXJ9PC9zdHlsZT4iKTsKLy8gU3RhciDmoLflvI8KJCgnaGVhZCcpLmFwcGVuZCgiPHN0eWxlPi5naXZlTWVPbmVTdGFyOmhvdmVye2NvbG9yOiNGRjY5QjQ7fTwvc3R5bGU+Iik7Ci8vIOiuvue9rueql+WPo+aWh+Wtl+aViOaenAppZiAoaXNGaXJlZm94KCkpIHsKICAgICQoJ2hlYWQnKS5hcHBlbmQoIjxzdHlsZT4uY29uZmlnQ29udGFpbmVyIGxhYmVse2ZvbnQtc2l6ZToxNXB4fS5jb25maWdDb250YWluZXIgcHtmb250LXNpemU6MTVweH0uZ2l2ZU1lT25lU3Rhcntmb250LXNpemU6MTVweH0uY29uZmlnQ29udGFpbmVyIC50aXRsZXtmb250LXNpemU6MjBweH0uY29uZmlnQ29udGFpbmVyIC5ib2xke2ZvbnQtd2VpZ2h0OmJvbGQ7bWFyZ2luLWJvdHRvbTo1cHh9PC9zdHlsZT4iKTsKfSBlbHNlIHsKICAgICQoJ2hlYWQnKS5hcHBlbmQoIjxzdHlsZT4uY29uZmlnQ29udGFpbmVyIGxhYmVse2ZvbnQtc2l6ZTo1cHh9LmNvbmZpZ0NvbnRhaW5lciBwe2ZvbnQtc2l6ZToxMHB4fS5naXZlTWVPbmVTdGFye2ZvbnQtc2l6ZToxNXB4fS5jb25maWdDb250YWluZXIgLnRpdGxle2ZvbnQtc2l6ZToyMHB4fS5jb25maWdDb250YWluZXIgLmJvbGR7Zm9udC13ZWlnaHQ6Ym9sZDttYXJnaW4tYm90dG9tOjVweH08L3N0eWxlPiIpOwp9Ci8vIFNWRwovL3ZhciBzYXZlX3N2ZyA9ICc8c3ZnIHQ9IjE1OTUwODI2NTAxNzMiIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTA3NSAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMjA3OCIgd2lkdGg9IjE0MCIgaGVpZ2h0PSIxNDAiPjxwYXRoIGQ9Ik03NTMuNzYzOTAyIDY4NS44MzAyNDRhNDguOTUyMTk1IDQ4Ljk1MjE5NSAwIDAgMSA0OS4xNTItNDguNzAyNDM5YzgxLjQyMDQ4OCAwIDE0MS4xNjIxNDYtNjUuMzg2MTQ2IDE0MS4xNjIxNDctMTQ2LjA1NzM2NiAwLTQzLjUwNzUxMi0xMy4wMzcyNjgtODIuNDE5NTEyLTQzLjQ1NzU2MS0xMDkuMjQzMzE3YTE0Mi4zNjA5NzYgMTQyLjM2MDk3NiAwIDAgMC0yMC4yODAxOTUtMTQuOTM1NDE1IDE1OC4wNDU2NTkgMTU4LjA0NTY1OSAwIDAgMC0xMS4yMzkwMjUtNi4yNDM5MDJsLTIuNzQ3MzE3LTEuMjk4NzMyYTE1NS44NDc4MDUgMTU1Ljg0NzgwNSAwIDAgMC05LjE5MTAyNC0zLjk5NjA5N2MtMS4zNDg2ODMtMC41NDk0NjMtMi42OTczNjYtMC45OTkwMjQtNC4wOTYtMS40OTg1MzdhMTUyLjM1MTIyIDE1Mi4zNTEyMiAwIDAgMC04LjQ5MTcwNy0yLjg0NzIxOWMtMS45NDgwOTgtMC41OTk0MTUtMy44OTYxOTUtMC45OTkwMjQtNS44NDQyOTMtMS40OTg1MzctMi40OTc1NjEtMC41OTk0MTUtNC45NDUxNzEtMS4yNDg3OC03LjQ5MjY4My0xLjc0ODI5My0yLjU5NzQ2My0wLjQ5OTUxMi01LjM0NDc4LTAuODk5MTIyLTguMDQyMTQ2LTEuMjQ4NzgtMS45NDgwOTgtMC4yNDk3NTYtMy44NDYyNDQtMC41OTk0MTUtNS44NDQyOTMtMC43OTkyMmExNTMuMTUwNDM5IDE1My4xNTA0MzkgMCAwIDAtMTQuNDM1OTAzLTAuNzQ5MjY4Yy0xLjQ5ODUzNyAwLTIuOTk3MDczIDAuMTk5ODA1LTQuNTQ1NTYxIDAuMjQ5NzU2YTI2NS4zOTA4MjkgMjY1LjM5MDgyOSAwIDAgMC01LjU5NDUzNi0yNC41MjYwNDljLTAuNDk5NTEyLTEuOTk4MDQ5LTEuMjk4NzMyLTMuODQ2MjQ0LTEuODk4MTQ2LTUuODQ0MjkyYTI2Ny40Mzg4MjkgMjY3LjQzODgyOSAwIDAgMC01Ljk0NDE5Ni0xNy45ODI0MzljLTAuNjQ5MzY2LTEuNzk4MjQ0LTEuNDk4NTM3LTMuNDk2NTg1LTIuMTk3ODUzLTUuMjk0ODNhMjgzLjEyMzUxMiAyODMuMTIzNTEyIDAgMCAwLTcuNzQyNDM5LTE3LjczMjY4M0w3NzIuNzQ1MzY2IDI2OS43MzY1ODVhMjgyLjk3MzY1OSAyODIuOTczNjU5IDAgMCAwLTkuNzkwNDM5LTE3LjgzMjU4NUM3MTQuMzAyNDM5IDE3MS41ODI0MzkgNjI1Ljg4ODc4IDEyNC44NzgwNDkgNTI0LjQ4NzgwNSAxMjQuODc4MDQ5Yy0xMDEuNDAwOTc2IDAtMTg5LjkxNDUzNyA0Ni42NTQ0MzktMjM4LjUxNzA3MyAxMjYuOTc2LTMuNDk2NTg1IDUuNzk0MzQxLTYuNjkzNDYzIDExLjc4ODQ4OC05Ljc5MDQzOSAxNy44MzI1ODVsLTIuMTk3ODU0IDQuMDk2YTI4My41MjMxMjIgMjgzLjUyMzEyMiAwIDAgMC03Ljc0MjQzOSAxNy43MzI2ODNsLTIuMTk3ODU0IDUuMjQ0ODc4Yy0yLjI0NzgwNSA1Ljg5NDI0NC00LjE0NTk1MSAxMS45ODgyOTMtNS45OTQxNDYgMTguMDMyMzktMC41NDk0NjMgMS45OTgwNDktMS4yOTg3MzIgMy44NDYyNDQtMS44NDgxOTUgNS44NDQyOTNhMjY2LjczOTUxMiAyNjYuNzM5NTEyIDAgMCAwLTUuNTk0NTM3IDI0LjQ3NjA5OGMtMS40OTg1MzcgMC0yLjk5NzA3My0wLjE5OTgwNS00LjU0NTU2MS0wLjE5OTgwNS00Ljg5NTIyIDAtOS42OTA1MzcgMC4yOTk3MDctMTQuNDg1ODUzIDAuNzQ5MjY4LTEuOTk4MDQ5IDAuMTk5ODA1LTMuODQ2MjQ0IDAuNDk5NTEyLTUuNzk0MzQyIDAuNzk5MjItMi42OTczNjYgMC4zNDk2NTktNS40NDQ2ODMgMC42OTkzMTctOC4wOTIwOTcgMS4yNDg3OC0yLjQ5NzU2MSAwLjQ5OTUxMi00Ljk5NTEyMiAxLjE0ODg3OC03LjQ5MjY4MyAxLjc0ODI5My0xLjg5ODE0NiAwLjQ5OTUxMi0zLjg0NjI0NCAwLjg5OTEyMi01Ljc5NDM0MiAxLjQ5ODUzNmExNTMuNjQ5OTUxIDE1My42NDk5NTEgMCAwIDAtOC40OTE3MDcgMi43OTcyNjlsLTQuMDk2IDEuNDk4NTM2YTE2NC4yODk1NjEgMTY0LjI4OTU2MSAwIDAgMC05LjI0MDk3NiAzLjk5NjA5OGwtMi42OTczNjYgMS4zNDg2ODNhMTQ1LjU1Nzg1NCAxNDUuNTU3ODU0IDAgMCAwLTMxLjQ2OTI2OCAyMS4xNzkzMTdDMTE3Ljg4NDg3OCA0MDguNjAwOTc2IDEwNC44OTc1NjEgNDQ3LjU2MjkyNyAxMDQuODk3NTYxIDQ5MS4wNzA0MzljMCA4MC42NzEyMiA1OS43NDE2NTkgMTQ2LjA1NzM2NiAxNDEuMTYyMTQ2IDE0Ni4wNTczNjZhNDguOTUyMTk1IDQ4Ljk1MjE5NSAwIDAgMSA0OS4xNTIgNDguNzAyNDM5IDQ4Ljk1MjE5NSA0OC45NTIxOTUgMCAwIDEtNDkuMTUyIDQ4LjcwMjQzOWMtMTM1LjcxNzQ2MyAwLTI0NS43MTAwNDktMTA4Ljk5MzU2MS0yNDUuNzEwMDQ4LTI0My40NjIyNDQgMC0xMDkuNjkyODc4IDczLjIyODQ4OC0yMDIuNDAyMzQxIDE3My44MzAyNDMtMjMyLjg3MjU4NUEzNzUuODMyOTc2IDM3NS44MzI5NzYgMCAwIDEgNTI0LjQ4NzgwNSAyMC4zMzAxNDZhMzc1Ljg4MjkyNyAzNzUuODgyOTI3IDAgMCAxIDM1MC4zMDc5MDIgMjM3Ljg2NzcwOGMxMDAuNjAxNzU2IDMwLjQ3MDI0NCAxNzMuODMwMjQ0IDEyMy4xNzk3MDcgMTczLjgzMDI0NCAyMzIuODcyNTg1IDAgMTM0LjQ2ODY4My0xMDkuOTkyNTg1IDI0My40NjIyNDQtMjQ1LjcxMDA0OSAyNDMuNDYyMjQ0YTQ4Ljk1MjE5NSA0OC45NTIxOTUgMCAwIDEtNDkuMTAyMDQ4LTQ4LjcwMjQzOXoiIHAtaWQ9IjIwNzkiPjwvcGF0aD48cGF0aCBkPSJNNDg3Ljk3MzQ2MyAzODYuMTIyOTI3YTQ5LjEwMjA0OSA0OS4xMDIwNDkgMCAwIDEgNzIuOTI4NzgxIDAuMDk5OTAybDE0Ny4zNTYwOTcgMTYyLjA0MTc1NmM2Ljk5MzE3MSA3Ljc0MjQzOSAxMS40ODg3OCAxOS40MzEwMjQgMTIuNTM3NzU3IDMwLjEyMDU4NmwwLjI0OTc1NiAxMi45MzczNjZjMCAxOS40ODA5NzYtMjAuNDggMzkuNjYxMjY4LTM5LjIxMTcwOCAzOS42NjEyNjhoLTEwNC44OTc1NjF2MjYyLjk5MzE3MWE1Mi40NDg3OCA1Mi40NDg3OCAwIDEgMS0xMDQuODk3NTYxIDB2LTI2Mi45OTMxNzFoLTEwNC44OTc1NjFjLTEzLjg4NjQzOSAwLTM5LjIxMTcwNy0yMS43Mjg3OC0zOS4yMTE3MDctMzkuNjYxMjY4di0xMi45ODczMTdjMC0xMi40ODc4MDUgNC43OTUzMTctMjEuMjc5MjIgMTIuNjM3NjU5LTI5LjkyMDc4MWwxNDcuMzU2MDk3LTE2Mi4yOTE1MTJ6IiBwLWlkPSIyMDgwIj48L3BhdGg+PC9zdmc+JzsKdmFyIHN0YXJfc3ZnXzEgPSAnPHN2ZyB0PSIxNTk1MDgzNjMxNjg1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwNTEgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIxNzMiIHdpZHRoPSIxNDAiIGhlaWdodD0iMTQwIj48cGF0aCBkPSJNNTI1LjgzNzgzOCA4NTIuNDEwODExTDE5OS4yNjQ4NjUgMTAwMS44NTk0NTlsNDEuNTEzNTEzLTM1Ny4wMTYyMTZMMCAzODEuOTI0MzI0bDM1MS40ODEwODEtNjkuMTg5MTg5TDUyNS44Mzc4MzggMGwxNzQuMzU2NzU3IDMxMi43MzUxMzVMMTA1MS42NzU2NzYgMzgxLjkyNDMyNGwtMjQwLjc3ODM3OSAyNjIuOTE4OTE5IDQxLjUxMzUxNCAzNTcuMDE2MjE2eiIgZmlsbD0iI0ZGRDU2NiIgcC1pZD0iMjE3NCI+PC9wYXRoPjwvc3ZnPic7CnZhciBzdGFyX3N2Z18yID0gJyA8c3ZnIHQ9IjE1OTUwODM3MTUzMTIiIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iNzg0OCIgd2lkdGg9IjE0MCIgaGVpZ2h0PSIxNDAiPjxwYXRoIGQ9Ik0xMDE0LjAwMTM0NyA4NjYuMDkwMjM2TDgxMC4yMzU2OSA2NjIuMzI0NTc5bDE0NS40OTc2NDMtODQuMTI2NTk5YzExLjM3Nzc3OC02LjU1MDg0MiAxNy45Mjg2Mi0xOC45NjI5NjMgMTYuODk0Mjc2LTMyLjA2NDY0Ny0xLjAzNDM0My0xMy4xMDE2ODQtOS4zMDkwOTEtMjQuNDc5NDYxLTIxLjM3NjQzMS0yOS4zMDYzOTdsLTY0OC4xODg1NTItMjU4LjU4NTg1OWMtMTIuNzU2OTAyLTUuMTcxNzE3LTI3LjIzNzcxLTIuMDY4Njg3LTM2Ljg5MTU4MiA3LjU4NTE4Ni05LjY1Mzg3MiA5LjY1Mzg3Mi0xMi43NTY5MDIgMjQuMTM0NjgtNy41ODUxODUgMzYuODkxNTgybDI1OC41ODU4NTggNjQ4LjUzMzMzM2M0LjgyNjkzNiAxMi4wNjczNCAxNi4yMDQ3MTQgMjAuNjg2ODY5IDI5LjMwNjM5NyAyMS4zNzY0MzEgMTMuMTAxNjg0IDEuMDM0MzQzIDI1LjUxMzgwNS01LjUxNjQ5OCAzMi4wNjQ2NDctMTYuODk0Mjc2bDg0LjEyNjU5OS0xNDUuNDk3NjQzIDIwMy43NjU2NTcgMjAzLjc2NTY1N2M2LjU1MDg0MiA2LjU1MDg0MiAxNS4xNzAzNyA5Ljk5ODY1MyAyNC4xMzQ2OCA5Ljk5ODY1MyA4Ljk2NDMxIDAgMTcuOTI4NjItMy40NDc4MTEgMjQuMTM0NjgtOS45OTg2NTNsOTkuMjk2OTctOTkuMjk2OTdjMTMuNDQ2NDY1LTEzLjQ0NjQ2NSAxMy40NDY0NjUtMzUuMTY3Njc3IDAtNDguNjE0MTQxek0xNTAuMzI0NTc5IDEwMi4wNTUyMTljLTEzLjQ0NjQ2NS0xMy40NDY0NjUtMzUuMTY3Njc3LTEzLjQ0NjQ2NS00OC4yNjkzNiAwLTEzLjQ0NjQ2NSAxMy40NDY0NjUtMTMuNDQ2NDY1IDM1LjE2NzY3NyAwIDQ4LjI2OTM2bDc2LjE5NjYzMyA3Ni4xOTY2MzNjNi41NTA4NDIgNi41NTA4NDIgMTUuNTE1MTUyIDkuOTk4NjUzIDI0LjEzNDY4IDkuOTk4NjUzczE3LjU4MzgzOC0zLjQ0NzgxMSAyNC4xMzQ2OC05Ljk5ODY1M2MxMy40NDY0NjUtMTMuNDQ2NDY1IDEzLjQ0NjQ2NS0zNS4xNjc2NzcgMC00OC4yNjkzNkwxNTAuMzI0NTc5IDEwMi4wNTUyMTl6TTE3Ni4xODMxNjUgMzM4LjU3NTA4NGMwLTE4Ljk2Mjk2My0xNS4xNzAzNy0zNC4xMzMzMzMtMzQuMTMzMzMzLTM0LjEzMzMzM0gzNC4xMzMzMzNjLTE4Ljk2Mjk2MyAwLTM0LjEzMzMzMyAxNS4xNzAzNy0zNC4xMzMzMzMgMzQuMTMzMzMzczE1LjE3MDM3IDM0LjEzMzMzMyAzNC4xMzMzMzMgMzQuMTMzMzM0aDEwNy41NzE3MThjMTguOTYyOTYzIDAgMzQuNDc4MTE0LTE1LjE3MDM3IDM0LjQ3ODExNC0zNC4xMzMzMzR6TTE2Mi4zOTE5MTkgNDQ0LjQyMjg5NmwtNzYuMTk2NjMzIDc1Ljg1MTg1MWMtMTMuNDQ2NDY1IDEzLjQ0NjQ2NS0xMy40NDY0NjUgMzUuMTY3Njc3IDAgNDguMjY5MzYxIDYuNTUwODQyIDYuNTUwODQyIDE1LjUxNTE1MiA5Ljk5ODY1MyAyNC4xMzQ2OCA5Ljk5ODY1M3MxNy41ODM4MzgtMy40NDc4MTEgMjQuMTM0NjgtOS45OTg2NTNsNzYuMTk2NjMzLTc2LjE5NjYzM2MxMy40NDY0NjUtMTMuNDQ2NDY1IDEzLjQ0NjQ2NS0zNS4xNjc2NzcgMC00OC4yNjkzNjEtMTMuNDQ2NDY1LTEzLjEwMTY4NC0zNS4xNjc2NzctMTMuMTAxNjg0LTQ4LjI2OTM2IDAuMzQ0Nzgyek0zMzguNTc1MDg0IDE3Ni4xODMxNjVjMTguOTYyOTYzIDAgMzQuMTMzMzMzLTE1LjE3MDM3IDM0LjEzMzMzNC0zNC4xMzMzMzNWMzQuMTMzMzMzYzAtMTguOTYyOTYzLTE1LjE3MDM3LTM0LjEzMzMzMy0zNC4xMzMzMzQtMzQuMTMzMzMzcy0zNC4xMzMzMzMgMTUuMTcwMzctMzQuMTMzMzMzIDM0LjEzMzMzM3YxMDcuNTcxNzE4YzAgMTguOTYyOTYzIDE1LjE3MDM3IDM0LjQ3ODExNCAzNC4xMzMzMzMgMzQuNDc4MTE0ek00NjguNTU3NTc2IDIyMC42NTk5MzNjOC42MTk1MjkgMCAxNy41ODM4MzgtMy40NDc4MTEgMjQuMTM0NjgtOS45OTg2NTRMNTY4Ljg4ODg4OSAxMzQuNDY0NjQ2YzEzLjQ0NjQ2NS0xMy40NDY0NjUgMTMuNDQ2NDY1LTM1LjE2NzY3NyAwLTQ4LjI2OTM2LTEzLjQ0NjQ2NS0xMy40NDY0NjUtMzUuMTY3Njc3LTEzLjQ0NjQ2NS00OC4yNjkzNiAwbC03Ni4xOTY2MzMgNzYuMTk2NjMzYy0xMy40NDY0NjUgMTMuNDQ2NDY1LTEzLjQ0NjQ2NSAzNS4xNjc2NzcgMCA0OC4yNjkzNiA2LjU1MDg0MiA2LjU1MDg0MiAxNS41MTUxNTIgOS45OTg2NTMgMjQuMTM0NjggOS45OTg2NTR6IiBmaWxsPSIjMmMyYzJjIiBwLWlkPSI3ODQ5Ij48L3BhdGg+PC9zdmc+JzsKdmFyIHN0YXJfc3ZnXzMgPSAnIDxzdmcgdD0iMTU5NTA4MzkyNTQzOCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMjA0IDEwMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwLWlkPSI0ODA5IiB3aWR0aD0iMTQwIiBoZWlnaHQ9IjE0MCI+PHBhdGggZD0iTTEwODguODY0MzQ4IDYxOC4xMzcwMWExNTU1LjAwOTM4NCAxNTU1LjAwOTM4NCAwIDAgMS0xNTAuMjczMDA0IDE2Ny4xMzczMDhjLTUyLjg4MTY0MiA1MS4xOTUyMTItMTA3LjkzMTU1MiAxMDEuMTg1ODMtMTYzLjY0Mzk4OSAxNDcuMjYxNTIxLTMzLjg0OTA2OSAyNy41MjQ5NTUtNjAuMjI5NjYxIDQ4LjY2NTU2Ni03Ni4xOTA1MjEgNjAuMjI5NjYxYTE2Mi45ODE0NjIgMTYyLjk4MTQ2MiAwIDAgMS0xOTEuODkxNjk5IDBjLTE1LjUzOTI1My0xMi4wNDU5MzItNDIuMTYwNzYzLTMyLjY0NDQ3Ni03Ni4xOTA1MjEtNjAuODMxOTU3YTI2MzguNDgwNzU0IDI2MzguNDgwNzU0IDAgMCAxLTE2NC4zNjY3NDUtMTQ3LjI2MTUyMSAxNTc5LjEwMTI0OSAxNTc5LjEwMTI0OSAwIDAgMS0xNTAuMjczMDA0LTE2NS44MTIyNTdBNDY4LjEwNDkyNCA0NjguMTA0OTI0IDAgMCAxIDAuMTUyOTk4IDM0NC43NTQ1NzkgMzE1LjU0MzE5MyAzMTUuNTQzMTkzIDAgMCAxIDEwOS4wNDgyMjUgOTYuMzY3NDU3YTM5OS40NDMxMTEgMzk5LjQ0MzExMSAwIDAgMSA0OTMuODgzMjE5LTIwLjQ3ODA4NCAzOTguNjYwMTI1IDM5OC42NjAxMjUgMCAwIDEgNDkzLjg4MzIxOSAyMC40NzgwODRBMzE1LjQ4Mjk2NCAzMTUuNDgyOTY0IDAgMCAxIDEyMDQuNzQ2MjE1IDM0My4zMDkwNjdhNDY2Ljg0MDEwMSA0NjYuODQwMTAxIDAgMCAxLTExNS43MDExNzggMjc0LjY0NzI1NHoiIGZpbGw9IiNGRTRCODMiIHAtaWQ9IjQ4MTAiPjwvcGF0aD48L3N2Zz4nOwp2YXIgc3Rhcl9zdmdfNCA9ICcgPHN2ZyB0PSIxNTk1MDg0MDg5MTE1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjgwMDgiIHdpZHRoPSIxNDAiIGhlaWdodD0iMTQwIj48cGF0aCBkPSJNNTEyIDQ2LjU0NTQ1NUMyNTYgNDYuNTQ1NDU1IDQ2LjU0NTQ1NSAyNTYgNDYuNTQ1NDU1IDUxMnMyMDkuNDU0NTQ1IDQ2NS40NTQ1NDUgNDY1LjQ1NDU0NSA0NjUuNDU0NTQ1IDQ2NS40NTQ1NDUtMjA5LjQ1NDU0NSA0NjUuNDU0NTQ1LTQ2NS40NTQ1NDVTNzY4IDQ2LjU0NTQ1NSA1MTIgNDYuNTQ1NDU1eiBtMCA4MzcuODE4MTgxYy0yMDQuOCAwLTM3Mi4zNjM2MzYtMTY3LjU2MzYzNi0zNzIuMzYzNjM2LTM3Mi4zNjM2MzZzMTY3LjU2MzYzNi0zNzIuMzYzNjM2IDM3Mi4zNjM2MzYtMzcyLjM2MzYzNiAzNzIuMzYzNjM2IDE2Ny41NjM2MzYgMzcyLjM2MzYzNiAzNzIuMzYzNjM2LTE2Ny41NjM2MzYgMzcyLjM2MzYzNi0zNzIuMzYzNjM2IDM3Mi4zNjM2MzZ6IiBmaWxsPSIjMDBDNUM1IiBwLWlkPSI4MDA5Ij48L3BhdGg+PHBhdGggZD0iTTY1Ni4yOTA5MDkgNTg2LjQ3MjcyN2MtNzkuMTI3MjczIDY5LjgxODE4Mi0yMDkuNDU0NTQ1IDY5LjgxODE4Mi0yODguNTgxODE4IDAtMTguNjE4MTgyLTEzLjk2MzYzNi00MS44OTA5MDktMTMuOTYzNjM2LTYwLjUwOTA5MSA0LjY1NDU0Ni0xMy45NjM2MzYgMTMuOTYzNjM2LTEzLjk2MzYzNiA0MS44OTA5MDkgNC42NTQ1NDUgNjAuNTA5MDkxIDU1Ljg1NDU0NSA1MS4yIDEyNS42NzI3MjcgNzQuNDcyNzI3IDIwMC4xNDU0NTUgNzQuNDcyNzI3czE0NC4yOTA5MDktMjcuOTI3MjczIDIwMC4xNDU0NTUtNzQuNDcyNzI3YzE4LjYxODE4Mi0xMy45NjM2MzYgMTguNjE4MTgyLTQxLjg5MDkwOSA0LjY1NDU0NS02MC41MDkwOTFzLTQxLjg5MDkwOS0xOC42MTgxODItNjAuNTA5MDkxLTQuNjU0NTQ2ek0zNTguNCA0NjAuOGMyNy45MjcyNzMgMCA1MS4yLTIzLjI3MjcyNyA1MS4yLTUxLjJzLTIzLjI3MjcyNy01NS44NTQ1NDUtNTEuMi01NS44NTQ1NDVjLTI3LjkyNzI3MyAwLTUxLjIgMjMuMjcyNzI3LTUxLjIgNTEuMnMyMy4yNzI3MjcgNTUuODU0NTQ1IDUxLjIgNTUuODU0NTQ1ek02NjUuNiA0NjAuOGMyNy45MjcyNzMgMCA1MS4yLTIzLjI3MjcyNyA1MS4yLTUxLjJzLTIzLjI3MjcyNy01MS4yLTUxLjItNTEuMi01MS4yIDIzLjI3MjcyNy01MS4yIDUxLjIgMjMuMjcyNzI3IDUxLjIgNTEuMiA1MS4yeiIgZmlsbD0iIzAwQzVDNSIgcC1pZD0iODAxMCI+PC9wYXRoPjwvc3ZnPic7CnZhciBzdGFyX3N2ZyA9IHN0YXJfc3ZnXzEgKyBzdGFyX3N2Z18yICsgc3Rhcl9zdmdfMyArIHN0YXJfc3ZnXzQ7CnZhciBkb25hdGVfc3ZnID0gJzxzdmcgdD0iMTU5Mjk4MjUwODI1OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwLWlkPSI0MjA3IiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxwYXRoIGQ9Ik02NjQuNDggMjM0LjQzMmEzMiAzMiAwIDAgMC00NS4yNDgtMC44bC03Ni4yNTYgNzMuNi03My4zNDQtNzMuMjE2YTMyIDMyIDAgMSAwLTQ1LjI0OCA0NS4zMTJsNzIuMzg0IDcyLjI1NmgtNDkuMjhhMzIgMzIgMCAwIDAgMCA2NGg2My43NzZ2MzJoLTYzLjc3NmEzMiAzMiAwIDAgMCAwIDY0aDYzLjc3NnY2NS42NjRhMzIgMzIgMCAxIDAgNjQgMHYtNjUuNjY0aDY0LjI4OGEzMiAzMiAwIDEgMCAwLTY0aC02NC4yODh2LTMyaDY0LjI4OGEzMiAzMiAwIDEgMCAwLTY0aC01MC4zNjhsNzQuNDY0LTcxLjg3MmEzMi4wMzIgMzIuMDMyIDAgMCAwIDAuODMyLTQ1LjI4eiBtMjc1LjIgNTAzLjU1MmE5MDE3LjU2OCA5MDE3LjU2OCAwIDAgMC0xNDEuNjY0LTU2LjczNiAzNjguNTEyIDM2OC41MTIgMCAwIDAgOTcuNTY4LTI0OC42MDhjMC0yMDIuOTEyLTE2NS4xMi0zNjgtMzY4LjA2NC0zNjhzLTM2OCAxNjUuMDg4LTM2OCAzNjhjMCAxNi4yMjQgMS4wMjQgMzIuMzUyIDMuMDcyIDQ3Ljk2OCAyLjMwNCAxNy41MDQgMTguNDk2IDI5LjY2NCAzNS45MDQgMjcuNTg0YTMyIDMyIDAgMCAwIDI3LjU4NC0zNS45MDQgMzA0LjUxMiAzMDQuNTEyIDAgMCAxLTIuNTYtMzkuNjQ4YzAtMTY3LjYxNiAxMzYuMzg0LTMwNCAzMDQtMzA0IDE2Ny42NDggMCAzMDQuMDY0IDEzNi4zODQgMzA0LjA2NCAzMDRhMzAwLjU0NCAzMDAuNTQ0IDAgMCAxLTk2LjEyOCAyMjEuNDcyYy0wLjc2OCAwLjczNi0xLjA4OCAxLjc2LTEuODI0IDIuNTI4LTQyLjg0OC0xNS45MzYtNzkuMzI4LTI4LjQ4LTkzLjc2LTMwLjY1Ni0yNC44OTYtMy45MDQtNDguNjcyIDcuNjE2LTYzLjEwNCAyOC44OTYtMTIuMDMyIDE3Ljc5Mi0xNS4wNzIgMzguODE2LTguMDk2IDU2LjI1NiA0LjI4OCAxMC42NTYgMjAuNTEyIDMyLjg5NiAzOS43NzYgNTcuMjgtNDYuNDMyLTAuMDY0LTExNy4zMTItNi4zMzYtMTkyLjgzMi0zNS40ODgtMzEuMjY0LTEyLjA2NC02OS40NC01Mi42NC0xMDMuMTM2LTg4LjQxNi00Ny45NjgtNTAuOTc2LTkzLjI4LTk5LjEwNC0xNDIuNTYtOTkuMTA0LTE4LjMzNiAwLTM1Ljc0NCA2Ljg0OC01MC4zMzYgMTkuNzc2LTE4LjI0IDE2LjIyNC0zNS4xMzYgNDguMzItMTIgMTA5LjI0OCA0Mi42MjQgMTEyLjE2IDIwOC41NDQgMjg1LjEyIDM0MS43MjggMjg1LjEyaDQ3OC4xNDRhMzIgMzIgMCAwIDAgMzItMzJ2LTE2MGEzMS44NCAzMS44NCAwIDAgMC0xOS43NzYtMjkuNTY4eiBtLTQ0LjE2IDE1Ny42aC00NDUuMTJsLTEuMDI0IDMydi0zMmMtOTcuNiAwLTI0Ny4wNzItMTUyLjEyOC0yODEuOTItMjQzLjg3Mi0xMC4xMTItMjYuNjU2LTYuNzItMzcuNDA4LTUuMzQ0LTM4LjYyNCA0LjEyOC0zLjY0OCA2LjUyOC0zLjY0OCA3Ljg0LTMuNjQ4IDIxLjYzMiAwIDY0LjYwOCA0NS42MzIgOTUuOTY4IDc4Ljk0NCA0MC4yMjQgNDIuNzUyIDgxLjg1NiA4Ni45NDQgMTI2LjY1NiAxMDQuMjU2IDg1LjIxNiAzMi44OTYgMTY0Ljg5NiAzOS44MDggMjE2LjczNiAzOS44MDggNDEuMzc2IDAgNjcuNTg0LTQuMzUyIDY4LjY3Mi00LjU0NGEzMiAzMiAwIDAgMCAxOS4xMzYtNTIuMTZjLTI3LjAwOC0zMi4wOTYtNTguNTkyLTcxLjgwOC02Ny4yOTYtODUuMzQ0IDAuMjg4LTAuNTc2IDAuNTEyLTEuMDI0IDAuMzUyLTEuMTUyIDIyLjg0OCAzLjQ4OCAxNjIuNDMyIDU3Ljk1MiAyNjUuMjggOTkuODR2MTA2LjQ5NnoiIHAtaWQ9IjQyMDgiPjwvcGF0aD48L3N2Zz4nOwp2YXIgc2V0X3N2ZyA9ICc8c3ZnIHQ9IjE1OTI5ODI5NzAzNzUiIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMTAxMTIiIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCI+PHBhdGggZD0iTTI1NiAxMDIuNGg1MTJsMjU2IDI1Ni01MTIgNTYzLjJMMCAzNTguNHoiIGZpbGw9IiMyNkNENjMiIHAtaWQ9IjEwMTEzIj48L3BhdGg+PHBhdGggZD0iTTI1NiAxMDIuNGwyNTYgMjU2SDB6TTc2OCAxMDIuNGwyNTYgMjU2SDUxMnpNNTEyIDkyMS42bDIwNC44LTU2My4ySDMwNy4yeiIgZmlsbD0iIzE0QTM0NSIgcC1pZD0iMTAxMTQiPjwvcGF0aD48L3N2Zz4nOwp2YXIgc2F2ZV9zdmcgPSAnPHN2ZyB0PSIxNjI5NDQ4NTg4MzUxIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9Ijc4NDkiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNNTEyIDBDMjI5LjIgMCAwIDIyOS4yIDAgNTEyczIyOS4yIDUxMiA1MTIgNTEyIDUxMi0yMjkuMiA1MTItNTEyUzc5NC44IDAgNTEyIDB6IG0wIDk0NS4yQzI3My4xIDk0NS4yIDc4LjggNzUwLjkgNzguOCA1MTJTMjczLjEgNzguOCA1MTIgNzguOCA5NDUuMiAyNzMuMSA5NDUuMiA1MTIgNzUwLjkgOTQ1LjIgNTEyIDk0NS4yeiIgcC1pZD0iNzg1MCIgZmlsbD0iI2ZmZmZmZiI+PC9wYXRoPjxwYXRoIGQ9Ik02ODAuOSAzNTkuNEw0NjEgNTgyLjMgMzQxLjYgNDczLjZjLTE2LTE0LjYtNDEtMTMuNC01NS42IDIuNi0xNC43IDE2LjEtMTMuNSA0MSAyLjYgNTUuNkw0MzYgNjY2LjFjNy41IDYuOCAxNyAxMC4yIDI2LjUgMTAuMiAxMC4yIDAgMjAuMy0zLjkgMjgtMTEuN0w3MzcgNDE0LjdjMTUuMy0xNS41IDE1LjEtNDAuNC0wLjQtNTUuNy0xNS41LTE1LjItNDAuNS0xNS4xLTU1LjcgMC40eiIgcC1pZD0iNzg1MSIgZmlsbD0iI2ZmZmZmZiI+PC9wYXRoPjwvc3ZnPic7CnZhciBzZXR0aW5nc19zdmcgPSAnPHN2ZyB0PSIxNjI5NDMzMzYwNDYyIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI4NzAiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNMTAwNi40MzggMTcuNTQ4Yy0wLjAzMiAwLTQzMC40My0xMTIuOTY2LTc4MC40NSAyMzcuMDIyLTI4OC45OSAyODkuMDA4LTMzLjUyMiA1NzYuOTY2LTMzLjUyMiA1NzYuOTY2czI4Ny45NTggMjU1LjQ4NCA1NzYuOTUyLTMzLjU1QzExMTkuNDM2IDQ0OC4wMTIgMTAwNi40NjggMTcuNjEyIDEwMDYuNDM4IDE3LjU0OHoiIGZpbGw9IiM5RUQzNkEiIHAtaWQ9IjI4NzEiPjwvcGF0aD48cGF0aCBkPSJNMTAwNi40MzggMTcuNTQ4bC00Mi42NzQtOC4yMTZjMC4wMzIgMC4wNjIgMTEyLjk5OCA0MzguNjc4LTIzNi45OSA3ODguNjUyLTk2LjM0NCA5Ni40MDYtMTkyLjU5OCAxMzIuMjA4LTI3OC4xMDQgMTM3LjE0NCA5NS40MSA1LjUgMjA4LTI0LjM2OCAzMjAuNzQ4LTEzNy4xNDRDMTExOS40MzYgNDQ4LjAxMiAxMDA2LjQ2OCAxNy42MTIgMTAwNi40MzggMTcuNTQ4eiIgZmlsbD0iI0ZGRkZGRiIgb3BhY2l0eT0iLjIiIHAtaWQ9IjI4NzIiPjwvcGF0aD48cGF0aCBkPSJNNjAwLjQwNiA0MjMuNjEyYy04LjMwOC04LjM0LTIxLjgzNi04LjM0LTMwLjE0OCAwTDYuNCA5ODcuNDI2Yy04LjMyNiA4LjM3Mi04LjMyNiAyMS44NjggMCAzMC4xOCA4LjMyNiA4LjMwOCAyMS44MjIgOC4zMDggMzAuMTYyIDBMNjAwLjQwNiA0NTMuNzZjOC4zNC04LjM0MiA4LjM0LTIxLjgzOCAwLTMwLjE0OHoiIGZpbGw9IiM4QUMwNTQiIHAtaWQ9IjI4NzMiPjwvcGF0aD48L3N2Zz4nOwp2YXIgcHJvdGVjdF9zdmcgPSAnPHN2ZyB0PSIxNjI5NTYwNTM4ODA1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjMyMTIiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNODAwLjMgMjA1LjFMNTM0LjggMTE2Yy0xNi01LjQtMzMuMy01LjMtNDkuMiAwLjJsLTI2NC41IDkyLjNjLTI5LjMgMTAtNDkgMzcuNS00OS4xIDY4LjRsMS43IDI2NS40YzAuNyA4MSAzMS4xIDE1OC45IDg1LjYgMjE4LjkgMjUgMjcuNyA1Ni45IDUxLjUgOTcuOCA3Mi43bDE0NCA3NC42YzkgNC43IDE5LjcgNC42IDI4LjctMC4yTDY3Mi41IDgzMmM0MC40LTIxLjYgNzIuMi00NS43IDk2LjktNzMuOCA1My42LTYwLjYgODMtMTM4LjkgODIuNi0yMTkuOGwtMS43LTI2NS42Yy0wLjUtMzAuOS0yMC41LTU4LjEtNTAtNjcuN3oiIGZpbGw9IiMwN0MxNjAiIHAtaWQ9IjMyMTMiPjwvcGF0aD48cGF0aCBkPSJNNDc0LjEgNjUyYy03LjEgMC0xMy44LTIuOC0xOC45LTcuOGwtMTUxLTE1MS4xYy0xMC40LTEwLjQtMTAuNC0yNy40IDAtMzcuOHMyNy40LTEwLjQgMzcuOCAwbDEzMi4xIDEzMi4yIDIwNy43LTIwNy43YzEwLjQtMTAuNCAyNy40LTEwLjQgMzcuOCAwIDEwLjQgMTAuNCAxMC40IDI3LjQgMCAzNy44TDQ5MyA2NDQuMmMtNSA1LTExLjggNy44LTE4LjkgNy44eiIgZmlsbD0iI0ZGRkZGRiIgcC1pZD0iMzIxNCI+PC9wYXRoPjwvc3ZnPic7CgovLyBqcXVlcnkuc2hvd3RpcHMuanMKKGZ1bmN0aW9uKGpRdWVyeSkgewoJalF1ZXJ5LmZuLnNob3dUaXBzID0gZnVuY3Rpb24ob3B0aW9ucyxlbGVtKXsKCQl2YXIgY29uZmlnID0gewoJCQlza2luOiJ0cmlwcyIsCgkJCWNvbnRlbnQ6JCh0aGlzKS5hdHRyKCJ0aXBzIil8fCLlvLnlh7rnsbvlnovnmoTmsJTms6Hmj5DnpLrvvIEiLCAgLy/msJTms6Hmj5DnpLrlhoXlrrnph4zpnaLlj6/ku6XmmK9IVE1M77yM6buY6K6k5pi+56S66Ieq5a6a5LmJ55qE5o+Q56S65YaF5a65CgkJCXdpZHRoOiJhdXRvIiwgIC8v6buY6K6k5Li6YXV0b++8jOWPr+S7peWGmeWFt+S9k+WwuuWvuOWmgu+8mjIwMAoJCQlhbGlnblRvOlsicmlnaHQiLCJjZW50ZXIiXSwgIC8v566t5aS05pa55ZCRCgkJCWNvbG9yOlsicmdiKDI0NywgMjA2LCA1NykiLCIjRkZGRUY0Il0sICAvL+i/memHjOaYr+aPkOekuuWxgueahOmjjuagvO+8jOesrOS4gOS4quWPguaVsOS4uuaPkOekuui+ueahhuminOiJsu+8jOesrOS6jOS4quWPguaVsOS4uuaPkOekuuiDjOaZr+minOiJsgoJCQl0eXBlOiJodG1sIiwgICAvL+aYvuekuuWGheWuueexu+WeiwoJCQl0cmlnZ2VyOiJjbGljayIsICAgIC8v6buY6K6k5Li654K55Ye75pi+56S677yMc2hvd+S4uuWIneWni+WMluWwseaYvuekuu+8jGhvdmVy5Li657uP6L+H5pi+56S677yMZm9jdXPnhKbngrnmmL7npLrvvIxtb3VzZei3n+maj+m8oOagh+aYvuekuumakOiXjwoJCQlzcGFjaW5nOjEwLCAgLy/pu5jorqTkuLrnrq3lpLTot53nprvlr7nosaHnmoTlsLrlr7gKCQkJY3VzdG9taWQ6IiIsICAvL+iHquWumuS5iUlECgkJCWlzY2xvc2U6ZmFsc2UsICAgLy/mmK/lkKbmmL7npLrlhbPpl63mjInpkq4KCQkJc3VjY2VzcyA6IG51bGwgICAgLy/miJDlip/lkI7nmoTlm57osIPlh73mlbAKCQl9OwoJCXZhciBvcHRzID0galF1ZXJ5LmV4dGVuZChjb25maWcsIG9wdGlvbnMpOwoJCXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsKCQkJdmFyIHRoYXQgPSBqUXVlcnkodGhpcyksdGlwQm94LHRpcElkLHNlbGZILHNlbGZXLGNvbklkLGRvY1csIHNwYSA9IG9wdHMuc3BhY2luZywgc2tpbj1vcHRzLnNraW47CgkJCXZhciBNYXRocmFuZG9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOTk5OTk5OSk7CiAgICAgICAgICAgIHZhciBwbXIgPSAob3B0cy5jdXN0b21pZD09IiIpID8gTWF0aHJhbmRvbSA6b3B0cy5jdXN0b21pZC5yZXBsYWNlKC9bIy5dLywgIiIpOwoJCQl2YXIgcG9pbnRlcj1vcHRzLmFsaWduVG8ubGVuZ3RoPT09MSA/ICcnK29wdHMuYWxpZ25Ub1swXSsnJyA6ICcnK29wdHMuYWxpZ25Ub1swXSsnLScrb3B0cy5hbGlnblRvWzFdKycnOwoKCQkJaWYodHlwZW9mIGVsZW0gPT0gJ3N0cmluZycpIHsKCQkJCWlmKGVsZW0gPT0ic2hvdyIpewoJCQkJCWpRdWVyeSgnI3RpcCcrcG1yKS5zaG93KCk7ICBqUXVlcnkoIiNjb24iK3BtcikuaHRtbChvcHRzLmNvbnRlbnQpOwoJCQkJCXNob3dQb3NpdGlvbihwb2ludGVyLGpRdWVyeSgnI3RpcCcrcG1yKSk7CgkJCQkJfTsKCQkJCWlmKGVsZW0gPT0iaGlkZSIpe2pRdWVyeSgnI3RpcCcrcG1yKS5oaWRlKCl9OwoJCQl9OwoJCQlpZih0eXBlb2YgZWxlbSA9PSAnJyB8fCB0eXBlb2YgZWxlbSA9PSB1bmRlZmluZWQpe3JldHVybiB0cnVlfTsKCQkJaWYoalF1ZXJ5KCcjdGlwJytwbXIpLmxlbmd0aD09MSl7cmV0dXJuIGZhbHNlO30KCQkJdGlwQm94PWpRdWVyeSgnPGRpdiBjbGFzcz0iJytza2luKycgJytza2luKyctJytwb2ludGVyKyciIGlkPSJ0aXAnK3BtcisnIj48aT48L2k+PGVtPjwvZW0+PGRpdiBjbGFzcz0iJytza2luKydjb24iIGlkPSJjb24nK3BtcisnIj48L2Rpdj48L2Rpdj4nKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTsKCQkJdGlwSWQgPSBqUXVlcnkoIiN0aXAiK3Btcik7CgkJCWNvbklkID0galF1ZXJ5KCIjY29uIitwbXIpOwoKCQkJdmFyIGVkZ2Vjb2xvcj0nYm9yZGVyLScrb3B0cy5hbGlnblRvWzBdKyctY29sb3InLCB0Zmk9dGlwSWQuZmluZCgiaSIpLCB0ZmVtPXRpcElkLmZpbmQoImVtIiksIHRmaWVtPXRpcElkLmZpbmQoImksZW0iKTsKCQkJdGlwSWQuY3NzKHsncG9zaXRpb24nOidhYnNvbHV0ZScsYm9yZGVyOicxcHggc29saWQnLCdib3JkZXItY29sb3InOm9wdHMuY29sb3JbMF0sJ2JhY2tncm91bmQtY29sb3InOm9wdHMuY29sb3JbMV19KTsKCQkJaWYob3B0cy5hbGlnblRvWzFdPT0nY2VudGVyJyl7IHZhciBvZmZwb3M9NTAscGVyY2VuPSIlIjsgfWVsc2V7IHZhciBvZmZwb3M9NSxwZXJjZW49InB4IjsgfTsKCQkJdGZpZW0uY3NzKHt3aWR0aDowLGhlaWdodDowLGNvbnRlbnQ6JycsJ3Bvc2l0aW9uJzonYWJzb2x1dGUnfSkKCQkJdGZpLmNzcyh7Ym9yZGVyOic4cHggc29saWQgdHJhbnNwYXJlbnQnLCd6LWluZGV4Jzo1fSk7CgkJCXRmZW0uY3NzKHtib3JkZXI6JzdweCBzb2xpZCB0cmFuc3BhcmVudCcsJ3otaW5kZXgnOjEwfSk7CgkJCXN3aXRjaCAocG9pbnRlcikgewoJCQkJY2FzZSAndG9wLWNlbnRlcic6CgkJCQljYXNlICdib3R0b20tY2VudGVyJzoKCQkJCWNhc2UgJ3RvcC1sZWZ0JzoKCQkJCWNhc2UgJ2JvdHRvbS1sZWZ0JzoKCQkJCQl2YXIgcG9pPSJsZWZ0IjsKCQkJCQlpZihwb2ludGVyPT0ndG9wLWNlbnRlcicgfHwgcG9pbnRlcj09J2JvdHRvbS1jZW50ZXInKXsKCQkJCQkJdGZpLmNzcyh7Im1hcmdpbi1sZWZ0IjoiLThweCJ9KTsKCQkJCQkJdGZlbS5jc3MoeyJtYXJnaW4tbGVmdCI6Ii03cHgifSk7CgkJCQkJfQoJCQkJICAgIGJyZWFrOwoJCQkJY2FzZSAnbGVmdC1jZW50ZXInOgoJCQkJY2FzZSAncmlnaHQtY2VudGVyJzoKCQkJCWNhc2UgJ2xlZnQtdG9wJzoKCQkJCWNhc2UgJ3JpZ2h0LXRvcCc6CgkJCQkJdmFyIHBvaT0idG9wIjsKCQkJCQlpZihwb2ludGVyPT0nbGVmdC1jZW50ZXInIHx8IHBvaW50ZXI9PSdyaWdodC1jZW50ZXInKXsKCQkJCQkJdGZpLmNzcyh7Im1hcmdpbi10b3AiOiItOHB4In0pOwoJCQkJCQl0ZmVtLmNzcyh7Im1hcmdpbi10b3AiOiItN3B4In0pOwoJCQkJCX0KCQkJCSAgICBicmVhazsKCQkJCWRlZmF1bHQ6CgkJCQkJdmFyIHBvaT0icmlnaHQiOwoJCQkJICAgIGJyZWFrOwoJCQl9OwoKCQkJaWYocG9pbnRlcj09J2ZvbGxvdycpewoJCQkJdGZpLmNzcyh7J2JvcmRlci1ib3R0b20tY29sb3InOm9wdHMuY29sb3JbMF0sbGVmdDonJytvZmZwb3MrcGVyY2VuKycnLGJvdHRvbTonMTAwJSd9KTsKCQkJCXRmZW0uY3NzKHsnYm9yZGVyLWJvdHRvbS1jb2xvcic6b3B0cy5jb2xvclsxXSxsZWZ0OicnKyhvZmZwb3MrKG9wdHMuYWxpZ25Ub1sxXT09J2NlbnRlcic/MDoxKSkrcGVyY2VuKycnLGJvdHRvbTonMTAwJSd9KTsKCQkJfWVsc2V7CgkJCQl0ZmkuY3NzKGVkZ2Vjb2xvcixvcHRzLmNvbG9yWzBdKS5jc3MocG9pLCcnK29mZnBvcytwZXJjZW4rJycpOwoJCQkJdGZlbS5jc3MoZWRnZWNvbG9yLG9wdHMuY29sb3JbMV0pLmNzcyhwb2ksJycrKG9mZnBvcysob3B0cy5hbGlnblRvWzFdPT0nY2VudGVyJz8wOjEpKStwZXJjZW4rJycpOwoJCQkJdGZpZW0uY3NzKG9wdHMuYWxpZ25Ub1swXSwnMTAwJScpOwoJCQl9OwoKCQkJc3dpdGNoIChvcHRzLnR5cGUpIHsKCQkJCWNhc2UgJ2h0bWwnOmNvbklkLmh0bWwob3B0cy5jb250ZW50KTsgYnJlYWs7CgkJCQljYXNlICdpZCcgIDoKCQkJCSAgICB2YXIgdGVtcGlkPWpRdWVyeShvcHRzLmNvbnRlbnQpICx3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CgkJCQkJaWYodGVtcGlkLmNzcygiZGlzcGxheSIpID09ICJub25lIil7ICB0ZW1waWQuY3NzKHtkaXNwbGF5OiJibG9jayJ9KTsgfQoJCQkJCWNvbklkLmFwcGVuZCh0ZW1waWQpOwoJCQkJICAgIGJyZWFrOwoJCQl9OwoJCQlpZihvcHRzLmlzY2xvc2UpewoJCQkJalF1ZXJ5KCc8c3BhbiBjbGFzcz0iJytza2luKydjbG9zZSIgaWQ9ImNsb3NlJytwbXIrJyI+JnRpbWVzOzwvc3Bhbj4nKS5hcHBlbmRUbyh0aXBJZCk7CgkJCQl0aXBJZC5maW5kKCIjY2xvc2UiK3BtcisiIikub24oImNsaWNrIixmdW5jdGlvbigpe3RpcElkLmhpZGUoKTt9KTsKCQkJfQoKCQkJaWYodHlwZW9mIG9wdHMud2lkdGggPT09ICdzdHJpbmcnKXsKCQkJCWRvY1cgPSBwYXJzZUludChkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKihvcHRzLndpZHRoLnJlcGxhY2UoJyUnLCcnKS8xMDApKTsKCQkJCSh0eXBlb2Ygb3B0cy53aWR0aCA9PSAnYXV0bycgfHwgdHlwZW9mIG9wdHMud2lkdGggPT0gJycpID8gdGlwQm94LmNzcyh7d2lkdGg6J2F1dG8nfSkgOiB0aXBCb3guY3NzKHt3aWR0aDpkb2NXfSk7CgkJCQl0aXBCb3guaGVpZ2h0KCk7CgkJCX1lbHNlewoJCQkJdGlwQm94LndpZHRoKG9wdHMud2lkdGgpLmhlaWdodCgpOwoJCQl9CiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dQb3NpdGlvbihwb2ludGVyLGNlbGwpewoJCQkJdmFyIHNlbGZIID0gdGhhdC5vdXRlckhlaWdodCh0cnVlKSwgc2VsZlcgPSB0aGF0Lm91dGVyV2lkdGgodHJ1ZSk7CgkJCQl2YXIgcG9zdD10aGF0Lm9mZnNldCgpLnRvcCwgcG9zbD10aGF0Lm9mZnNldCgpLmxlZnQ7CgkJCQl2YXIgdGlwQ2VsbD0oY2VsbD09IiIgfHwgY2VsbD09dW5kZWZpbmVkKSA/IHRpcElkIDogY2VsbDsKCQkJICAgIHZhciB0aXBIPXRpcENlbGwub3V0ZXJIZWlnaHQodHJ1ZSksIHRpcFc9dGlwQ2VsbC5vdXRlcldpZHRoKHRydWUpOwoKCQkJCXN3aXRjaCAocG9pbnRlcikgewoJCQkJCWNhc2UgJ3RvcC1sZWZ0JzogdGlwQ2VsbC5jc3Moe3RvcDpwb3N0LXRpcEgtc3BhLGxlZnQ6cG9zbH0pOyBicmVhazsKCQkJCQljYXNlICd0b3AtY2VudGVyJzogdGlwQ2VsbC5jc3Moe3RvcDpwb3N0LXRpcEgtc3BhLGxlZnQ6cG9zbC0odGlwVy8yKSsoc2VsZlcvMil9KTsgYnJlYWs7CgkJCQkJY2FzZSAndG9wLXJpZ2h0JzogdGlwQ2VsbC5jc3Moe3RvcDpwb3N0LXRpcEgtc3BhLGxlZnQ6cG9zbC0odGlwVy1zZWxmVyl9KTsgYnJlYWs7CgkJCQkJY2FzZSAnYm90dG9tLWxlZnQnOiB0aXBDZWxsLmNzcyh7dG9wOnBvc3Qrc2VsZkgrc3BhLGxlZnQ6cG9zbH0pOyBicmVhazsKCQkJCQljYXNlICdib3R0b20tY2VudGVyJzogdGlwQ2VsbC5jc3Moe3RvcDpwb3N0K3NlbGZIK3NwYSxsZWZ0OnBvc2wtKHRpcFcvMikrKHNlbGZXLzIpfSk7IGJyZWFrOwoJCQkJCWNhc2UgJ2JvdHRvbS1yaWdodCc6IHRpcENlbGwuY3NzKHt0b3A6cG9zdCtzZWxmSCtzcGEsbGVmdDpwb3NsLSh0aXBXLXNlbGZXKX0pOyBicmVhazsKCQkJCQljYXNlICdsZWZ0LXRvcCc6IHRpcENlbGwuY3NzKHt0b3A6cG9zdCxsZWZ0OnBvc2wtdGlwVy1zcGF9KTsgYnJlYWs7CgkJCQkJY2FzZSAnbGVmdC1jZW50ZXInOiB0aXBDZWxsLmNzcyh7dG9wOnBvc3QtKHRpcEgvMikrKHNlbGZILzIpLGxlZnQ6cG9zbC10aXBXLXNwYX0pOyBicmVhazsKCQkJCQljYXNlICdyaWdodC10b3AnOiB0aXBDZWxsLmNzcyh7dG9wOnBvc3QsbGVmdDpwb3NsK3NlbGZXK3NwYX0pOyBicmVhazsKCQkJCQljYXNlICdyaWdodC1jZW50ZXInOiB0aXBDZWxsLmNzcyh7dG9wOnBvc3QtKHRpcEgvMikrKHNlbGZILzIpLGxlZnQ6cG9zbCtzZWxmVytzcGF9KTsgYnJlYWs7CgkJCQkJY2FzZSAnZm9sbG93JzogdGhhdC5tb3VzZW1vdmUoZnVuY3Rpb24oZSkgeyB0aXBDZWxsLmNzcyh7dG9wOmUucGFnZVkgKyAzMCxsZWZ0OmUucGFnZVggLSA2fSk7IH0pOyBicmVhazsKCQkJCX07CgkJCX0KCQkJdGlwQm94LmhpZGUoKTsKCQkJc3dpdGNoIChvcHRzLnRyaWdnZXIpewoJCQkJY2FzZSAnc2hvdyc6c2hvd1Bvc2l0aW9uKHBvaW50ZXIpO3RpcEJveC5zaG93KCk7YnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICdjbGljayc6dGhhdC5jbGljayhmdW5jdGlvbigpe3Nob3dQb3NpdGlvbihwb2ludGVyKTt0aXBCb3guc2hvdygpO30pO2JyZWFrOwoJCQkJY2FzZSAnaG92ZXInOnRoYXQuaG92ZXIoZnVuY3Rpb24oKXtzaG93UG9zaXRpb24ocG9pbnRlcik7dGlwQm94LnNob3coKTsgdGlwQm94Lm9uKCJtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7alF1ZXJ5KHRoaXMpLnNob3coKX0pLm9uKCJtb3VzZW91dCIsZnVuY3Rpb24oKXtqUXVlcnkodGhpcykuaGlkZSgpfSl9LGZ1bmN0aW9uKCl7dGlwQm94LmhpZGUoKTt9KTticmVhazsKCQkJCWNhc2UgJ2ZvY3VzJzp0aGF0LmZvY3VzKGZ1bmN0aW9uKCl7c2hvd1Bvc2l0aW9uKHBvaW50ZXIpO3RpcEJveC5zaG93KCk7fSk7ICB0aGF0LmJsdXIoZnVuY3Rpb24oKXt0aXBCb3guaGlkZSgpO30pO2JyZWFrOwoJCQkJY2FzZSAnbW91c2UnOnRoYXQuaG92ZXIoZnVuY3Rpb24oKXtzaG93UG9zaXRpb24ocG9pbnRlcik7dGlwQm94LnNob3coKTt9LGZ1bmN0aW9uKCl7dGlwQm94LmhpZGUoKTt9KTticmVhazsKCQkJfTsKCQkJc2V0VGltZW91dChmdW5jdGlvbigpe29wdHMuc3VjY2VzcyAmJiBvcHRzLnN1Y2Nlc3MoKTt9LCAxKTsKCQl9KTsKCX0KfSkoalF1ZXJ5KTsKCihmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgbCgiQ1NETkdyZWVuZXIgViIgKyB2ZXJzaW9uKTsKICAgIGlmIChpc0ZpcmVmb3goKSkgewogICAgICAgIGNvbnNvbGUubG9nKCLmgqjmraPlnKjkvb/nlKjngavni5DmtY/op4jlmajvvIzlsIbkvb/nlKjlhbzlrrnmqKHlvI/ov5DooYwgQ1NETkdyZWVuZXLjgIIiKTsKICAgIH0KICAgIHByb2dyZXNzb3IuaW5pdCgpOwoKICAgIC8vIOe7v+WMluiuvuWumuaMiemSrueCueWHu+S6i+S7tgogICAgbGV0IGpzcyA9ICIiOwogICAganNzICs9ICI8c2NyaXB0PmZ1bmN0aW9uIHNob3dDb25maWcoKSB7IjsKICAgIGpzcyArPSAiJCh3aW5kb3cpLnNjcm9sbFRvcCgwKTsiOwogICAganNzICs9ICIkKCcud2hpdGVfY29udGVudCcpLmZhZGVJbig1MDApOyI7CiAgICBqc3MgKz0gIiQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpOyI7CiAgICBqc3MgKz0gIiQoJ2JvZHknKS5jc3MoJ2ZpbHRlcicsJ2JsdXIoM3B4KScpOyI7CiAgICBqc3MgKz0gIiQoJ2JvZHknKS5jc3MoJ3BvaW50ZXItZXZlbnRzJywnbm9uZScpIjsKICAgIGpzcyArPSAifTwvc2NyaXB0PiI7CiAgICAkKCJib2R5IikuYXBwZW5kKGpzcyk7CgogICAgLy8g5L+d5a2Y5oyJ6ZKu54K55Ye75LqL5Lu2CiAgICBsZXQgc2F2ZUpzcyA9ICIiOwogICAgc2F2ZUpzcyArPSAiPHNjcmlwdD5mdW5jdGlvbiBzYXZlQW5kUmVsb2FkKCkgeyI7CiAgICBzYXZlSnNzICs9ICIkKCcjY29uZmlnQ29udGVudCcpLmZhZGVPdXQoMjAwKTsiOwogICAgc2F2ZUpzcyArPSAic2V0VGltZW91dChmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LDIwMCkiOwogICAgc2F2ZUpzcyArPSAifTwvc2NyaXB0PiI7CiAgICAkKCJib2R5IikuYXBwZW5kKHNhdmVKc3MpOwoKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIGJsb2NrVVJMID0gY3VycmVudFVSTC5zcGxpdCgiLyIpLmxlbmd0aDsKICAgICAgICB2YXIgbWFpbiA9IC8od3d3XC5jc2RuXC5uZXRcLykkLzsKICAgICAgICB2YXIgbWFpbk5hdiA9IC9uYXYvOwogICAgICAgIHZhciBhcnRpY2xlID0gL2FydGljbGUvOwogICAgICAgIHZhciBiYnMgPSAvYmJzXC5jc2RuXC5uZXQvOwogICAgICAgIHZhciBibG9nID0gL2Jsb2dcLmNzZG5cLm5ldC87CiAgICAgICAgdmFyIGJsb2cyID0gL1wvYXJ0aWNsZVwvbGlzdFwvLzsKICAgICAgICB2YXIgZG93bmxvYWQgPSAvZG93bmxvYWRcLmNzZG5cLm5ldC87CiAgICAgICAgdmFyIGxvZ2luID0gL3Bhc3Nwb3J0XC5jc2RuXC5uZXQvOwogICAgICAgIHZhciB6b25lID0gL21lXC5jc2RuXC5uZXQvOwogICAgICAgIHZhciBvdGhlciA9IC8od3d3XC5jc2RuXC5uZXRcLykvOwogICAgICAgIHZhciBtcCA9IC9tcFwuY3NkblwubmV0LzsKICAgICAgICB2YXIgYXJ0aWNsZV9tb250aCA9IC9hcnRpY2xlXC9tb250aC87CgogICAgICAgIC8vIOaVsOe7hOWIneWni+WMlgogICAgICAgIGxpc3QgPSBbXTsKICAgICAgICAvLyDlpLTpg6jliIYKICAgICAgICAvLyBBUFAKICAgICAgICAvLyBwdXQoIi5hcHAtYXBwIik7CiAgICAgICAgLy8gVklQCiAgICAgICAgcHV0KCIudmlwLWNhaXNlIik7CiAgICAgICAgLy8g6K6w5b2V5L2g55qE5oiQ6ZW/5Y6G56iL77yI6K6w5Liq5q+b77yJCiAgICAgICAgcHV0KCIjd3JpdGVHdWlkZSIpOwogICAgICAgIC8vIOaWsOmAmuefpeWwj+WchueCue+8iOacqueZu+W9leaJjea2iOaOie+8iQogICAgICAgIGlmICgkKCIudXNlcmluZm8gYSIpLnRleHQoKSA9PT0gJ+eZu+W9lS/ms6jlhownKSB7CiAgICAgICAgICAgIHB1dCgiI21zZy1jaXJjbGUiKTsKICAgICAgICB9CiAgICAgICAgLy8g6aG26YOo6LC35q2M5bm/5ZGKCiAgICAgICAgcHV0KCIuYWRzYnlnb29nbGUiKTsKICAgICAgICAvLyDmgqzmta7lnKjpobbmoI/mjInpkq7kuIrlh7rnjrDnmoTkuoznu7TnoIEKICAgICAgICBwdXQoIi5hcHBDb250cm9sIik7CiAgICAgICAgLy8g6aG26YOo5bm/5ZGKCiAgICAgICAgcHV0KCIuYWR2ZXJ0LWJnIik7CgogICAgICAgIGlmIChtYWluLnRlc3QoY3VycmVudFVSTCkgfHwgbWFpbk5hdi50ZXN0KGN1cnJlbnRVUkwpKSB7CiAgICAgICAgICAgIGwoIuato+WcqOS8mOWMluS4u+mhteS9k+mqjC4uLiIpOwogICAgICAgICAgICAvLyDluLjop4QKICAgICAgICAgICAgLy8g5aS06YOo5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLmJhbm5lci1hZC1ib3giKTsKICAgICAgICAgICAgLy8g5bWM5YWl5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiI2twX2JveF8yMTEiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLnNsaWRlLW91dGVyIik7CiAgICAgICAgICAgIC8vIOWPs+S+p+ivpuaDhQogICAgICAgICAgICBwdXQoIi5wZXJzaW9uX2FydGljbGUiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n5o6o6I2QCiAgICAgICAgICAgICQoIi5mZWVkX2NvbXBhbnkiKS5wYXJlbnQoKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8g5bm/5ZGK6L2u5pKtCiAgICAgICAgICAgIHB1dCgiLmVsLWNhcm91c2VsX19jb250YWluZXIiKTsKICAgICAgICAgICAgLy8g6aG26YOo5qiq5bmFCiAgICAgICAgICAgIHB1dCgiLnRvb2xiYXItYWR2ZXJ0Iik7CiAgICAgICAgICAgIC8vIOmhtuagj1ZJUOmAiemhuQogICAgICAgICAgICAkKCcudG9vbGJhci1zdWJNZW51LWJveCcpLmZpbmQoIltocmVmPSdodHRwczovL21hbGwuY3Nkbi5uZXQvdmlwJ10iKS5wYXJlbnQoKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8gQ1NETuW3peWFt+W5v+WRigogICAgICAgICAgICBwdXQoIiNmbG9vci1hZF82NCIpOwogICAgICAgICAgICBjbGVhbigxMCk7CiAgICAgICAgICAgIC8vIGNvbW1vbig1LCAxMCk7CiAgICAgICAgICAgIC8vIOWNmuWuouWPiuS4u+mhteS8mOWMlgogICAgICAgICAgICBjb21tb24oOSwgMTApOwogICAgICAgICAgICBsb29wKDMpOwogICAgICAgICAgICBsb29wKDEpOwogICAgICAgIH0gZWxzZSBpZiAoKGJsb2cudGVzdChjdXJyZW50VVJMKSAmJiBibG9ja1VSTCA9PT0gNCkgfHwgYmxvZzIudGVzdChjdXJyZW50VVJMKSkgewogICAgICAgICAgICBsKCLmraPlnKjkvJjljJbkuKrkurrljZrlrqLkuLvpobXkvZPpqowuLi4iKTsKICAgICAgICAgICAgLy8g5bi46KeECiAgICAgICAgICAgIC8vIOWktOmDqOW5v+WRigogICAgICAgICAgICBwdXQoIi5iYW5uZXItYWQtYm94Iik7CiAgICAgICAgICAgIC8vIOWPs+S+p+W5v+WRigogICAgICAgICAgICBwdXQoIi5zbGlkZS1vdXRlciIpOwogICAgICAgICAgICAvLyDlj7Pkvqfor6bmg4UKICAgICAgICAgICAgcHV0KCIucGVyc2lvbl9hcnRpY2xlIik7CiAgICAgICAgICAgIC8vIOW3puS+p+W5v+WRigogICAgICAgICAgICBwdXQoIi5tYjgiKTsKICAgICAgICAgICAgcHV0KCIja3BfYm94XzUwMyIpOwogICAgICAgICAgICBwdXQoIiNrcF9ib3hfMjE0Iik7CiAgICAgICAgICAgIGNsZWFuKDEwKTsKICAgICAgICAgICAgLy8gY29tbW9uKDUsIDEwKTsKICAgICAgICAgICAgbG9vcCgzKTsKICAgICAgICAgICAgbG9vcCgxKTsKICAgICAgICB9IGVsc2UgaWYgKGFydGljbGUudGVzdChjdXJyZW50VVJMKSAmJiAhbXAudGVzdChjdXJyZW50VVJMKSAmJiAhYXJ0aWNsZV9tb250aC50ZXN0KGN1cnJlbnRVUkwpKSB7CiAgICAgICAgICAgIGwoIuato+WcqOS8mOWMlumYheivu+S9k+mqjC4uLiIpOwogICAgICAgICAgICAvLyDnu7/ljJborr7lrpoKICAgICAgICAgICAgaWYgKGlzRmlyZWZveCgpKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICQoIi50b29sYmFyLWNvbnRhaW5lci1taWRkbGUiKS5wcmVwZW5kKCI8ZGl2IGlkPSdncmVlbmVyUHJvZ3Jlc3MnIHN0eWxlPSd0ZXh0LWFsaWduOnJpZ2h0Jz48L2Rpdj4iKTsKICAgICAgICAgICAgICAgICAgICBsZXQgaHRtbE9mMCA9ICc8ZGl2IGNsYXNzPSJ0b29sYmFyLWJ0biBjc2RuLXRvb2xiYXItZmwiPjxhIGlkPSJncmVlbmVyU2V0dGluZ3MiIHRpdGxlPSLngrnlh7vmiZPlvIAgQ1NETkdyZWVuZXIg57u/5YyW6K6+5a6aIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIG9uY2xpY2s9InNob3dDb25maWcoKTsiPicgKyBzZXR0aW5nc19zdmcgKyAnPC9hPjwvZGl2Pic7CiAgICAgICAgICAgICAgICAgICAgJCgiLnRvb2xiYXItYnRucyIpLnByZXBlbmQoaHRtbE9mMCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRmlyZWZveCgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaPkOekugogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGlwc0Nvb2tpZSA9IGNvbmZpZy5nZXQoInNob3dUaXAiLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpcHNDb29raWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnNldCgic2hvd1RpcCIsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIi50b29sYmFyLWNvbnRhaW5lci1taWRkbGUiKS5wcmVwZW5kKCI8ZGl2IGlkPSdncmVlbmVyUHJvZ3Jlc3MnIHN0eWxlPSd0ZXh0LWFsaWduOnJpZ2h0Jz48L2Rpdj4iKTsKICAgICAgICAgICAgICAgIGxldCBodG1sT2YwID0gJzxkaXYgY2xhc3M9InRvb2xiYXItYnRuIGNzZG4tdG9vbGJhci1mbCI+PGEgaWQ9ImdyZWVuZXJTZXR0aW5ncyIgdGl0bGU9IueCueWHu+aJk+W8gCBDU0ROR3JlZW5lciDnu7/ljJborr7lrpoiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgb25jbGljaz0ic2hvd0NvbmZpZygpOyI+JyArIHNldHRpbmdzX3N2ZyArICc8L2E+PC9kaXY+JzsKICAgICAgICAgICAgICAgICQoIi50b29sYmFyLWJ0bnMiKS5wcmVwZW5kKGh0bWxPZjApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIOW4uOinhAogICAgICAgICAgICAvLyDlj7Pkvqflub/lkYrvvIzmlL7liLDnrKzkuIDkuKrmuIXpmaQKICAgICAgICAgICAgLy8gcHV0KCIucmVjb21tZW5kLXJpZ2h0Iik7CiAgICAgICAgICAgIHB1dCgiI2FkZEFkQm94Iik7CiAgICAgICAgICAgIC8vIHB1dCgiLmFzaWRlLWJveC5raW5kX3BlcnNvbi5kLWZsZXguZmxleC1jb2x1bW4iKTsKICAgICAgICAgICAgcHV0KCIucmVjb21tZW5kLXRvcC1hZGJveCIpOwogICAgICAgICAgICAvLyBwdXQoIi5yZWNvbW1lbmQtbGlzdC1ib3guZC1mbGV4LmZsZXgtY29sdW1uLmFzaWRlLWJveCIpOwogICAgICAgICAgICAvLyDlt6bkvqflub/lkYoKICAgICAgICAgICAgLy8gcHV0KCIjY29udGFpbmVyIik7CiAgICAgICAgICAgIC8vIOW/q+adpeWGmeWNmuWuouWQpwogICAgICAgICAgICBwdXQoIi5ibG9nX3RpcF9ib3giKTsKICAgICAgICAgICAgLy8g5o6o6I2Q5YWz5rOo55So5oi3CiAgICAgICAgICAgIHB1dCgiLmJsb2ctZXhwZXJ0LXJlY29tbWVuZC1ib3giKTsKICAgICAgICAgICAgLy8g5Y+z5LiL6KeSVklQCiAgICAgICAgICAgIHB1dCgiLm1lYXUtZ290b3AtYm94Iik7CiAgICAgICAgICAgIC8vIOW5v+WRigogICAgICAgICAgICBwdXQoIi5tZWRpYXZfYWQiKTsKICAgICAgICAgICAgcHV0KCIucHVsbGxvZy1ib3giKTsKICAgICAgICAgICAgcHV0KCIucmVjb21tZW5kLWFkLWJveCIpOwogICAgICAgICAgICBwdXQoIi5ib3gtc2hhZG93Iik7CiAgICAgICAgICAgIHB1dCgiLnR5cGVfaG90X3dvcmQiKTsKICAgICAgICAgICAgcHV0KCIuZm91cnRoX2NvbHVtbiIpOwogICAgICAgICAgICAvLyDpq5jliIbovqjnjofml7blj7Pkvqfmlofnq6DmjqjojZAKICAgICAgICAgICAgLy8gcHV0KCIucmlnaHQtaXRlbSIpOwogICAgICAgICAgICAvLyDlub/lkYoKICAgICAgICAgICAgcHV0KCIjYXNpZGVGb290ZXIiKTsKICAgICAgICAgICAgcHV0KCIjYWQtZGl2Iik7CiAgICAgICAgICAgIHB1dCgiIzQ3OSIpOwogICAgICAgICAgICBwdXQoIiM0ODAiKTsKICAgICAgICAgICAgLy8g5omT6LWPCiAgICAgICAgICAgIHB1dCgiLnBvc3RUaW1lIik7CiAgICAgICAgICAgIC8vIOivvueoi+aOqOiNkAogICAgICAgICAgICBwdXQoIi50MCIpOwogICAgICAgICAgICAvLyDliIbkuqvmtbfmiqUKICAgICAgICAgICAgcHV0KCIuc2hhcmVTdWdnZXN0Iik7CiAgICAgICAgICAgIC8vIOW6lemDqOS4u+mimAogICAgICAgICAgICBwdXQoIi50ZW1wbGF0ZS1ib3giKTsKICAgICAgICAgICAgLy8g6K+E6K665Yy65bm/5ZGKCiAgICAgICAgICAgIHB1dCgiZGl2I2RtcF9hZF81OCIpOwogICAgICAgICAgICAvLyDmiZPotY8KICAgICAgICAgICAgcHV0KCIucmV3YXJkLXVzZXItYm94Iik7CiAgICAgICAgICAgIC8vIOWPs+S+p+aJk+i1j+aMiemSrgogICAgICAgICAgICBwdXQoIi50by1yZXdhcmQiKTsKICAgICAgICAgICAgLy8g5o6o6I2Q5YaF5a655bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLnJlY29tbWVuZC1yZWNvbW1lbmQtYm94Iik7CiAgICAgICAgICAgIC8vIOWPs+S+p+W5v+WRigogICAgICAgICAgICBwdXQoIi5pbmRleFN1cGVyaXNlIik7CiAgICAgICAgICAgIC8vIOaKouaymeWPkeinkuaghwogICAgICAgICAgICBwdXQoIi5jb21tZW50LXNvZmEtZmxhZyIpOwogICAgICAgICAgICAvLyDpobVqaW8KICAgICAgICAgICAgcHV0KCIuYm90dG9tLXB1Yi1mb290ZXIiKTsKICAgICAgICAgICAgLy8g55m75b2V5p+l55yL5pyq6K+75raI5oGvCiAgICAgICAgICAgIHB1dCgiLnRvb2xiYXItbm90aWNlLWJ1YmJsZSIpOwogICAgICAgICAgICAvLyDlj7Pkvqflub/lkYoKICAgICAgICAgICAgcHV0KCIucmVjb21tZW5kLXRvcC1hZGJveCIpOwogICAgICAgICAgICAvLyDlj7Pkvqflm5vkuKrlub/lkYoKICAgICAgICAgICAgcHV0KCIucHJvZ3JhbW1lcjFCb3giKTsKICAgICAgICAgICAgcHV0KCIucHJvZ3JhbW1lcjJCb3giKTsKICAgICAgICAgICAgcHV0KCIucHJvZ3JhbW1lcjNCb3giKTsKICAgICAgICAgICAgcHV0KCIucHJvZ3JhbW1lcjRCb3giKTsKICAgICAgICAgICAgLy8g54K56LWe5rCU5rOhCiAgICAgICAgICAgIHB1dCgiLnRyaXBsZXQtcHJvbXB0Iik7CiAgICAgICAgICAgIC8vIOmhtumDqOaoquW5hQogICAgICAgICAgICBwdXQoIi50b29sYmFyLWFkdmVydCIpOwogICAgICAgICAgICAvLyDlupXpg6jkv6Hmga8KICAgICAgICAgICAgcHV0KCIuYmxvZy1mb290ZXItYm90dG9tIik7CiAgICAgICAgICAgIC8vIOWPs+S+p+agj+W5v+WRigogICAgICAgICAgICBwdXQoIiM2NTI3Iik7CiAgICAgICAgICAgIHB1dCgiI3JlY29tbWVuZEFkQm94Iik7CiAgICAgICAgICAgIC8vIOaOqOiNkOWGheWuuVRpdGxlCiAgICAgICAgICAgIHB1dCgiLnJlY29tbWVuZC10aXQtbW9kIik7CiAgICAgICAgICAgIC8vIOe6ouWMheaPkOmGkgogICAgICAgICAgICBwdXQoIi5jc2RuLXJlZHBhY2stbG90dGVyeS1idG4tYm94Iik7CiAgICAgICAgICAgIC8vIOWtpueUn+iupOivgQogICAgICAgICAgICBwdXQoIi5jc2RuLWhpZ2hzY2hvb2wtd2luZG93Iik7CiAgICAgICAgICAgIC8vIOWPs+S+p+aCrOa1ruagj+mZpOe9rumhtuS7peWklueahOaMiemSrgogICAgICAgICAgICBwdXQoIi5vcHRpb24tYm94W2RhdGEtdHlwZT0nZ3VpZGUnXSwub3B0aW9uLWJveFtkYXRhLXR5cGU9J2NzJ10sLmNzZG4tY29tbW9uLWxvZ28tYWR2ZXJ0Iik7CiAgICAgICAgICAgIGNsZWFuKDEwKTsKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgLy8g5bGV5byA6K+E6K6655qE5omA5pyJ5Zue5aSNCiAgICAgICAgICAgICAgICQoJy5idG4tcmVhZC1yZXBseScpLmNsaWNrKCk7CiAgICAgICAgICAgIH0sIDE1MDApOwogICAgICAgICAgICAvLyDkuLvliqjliqDlhaXlj7PkvqfmoI8KICAgICAgICAgICAgaWYgKCQoIi5yZWNvbW1lbmQtcmlnaHQiKS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICQoIiNtYWluQm94IikuYWZ0ZXIoJzxkaXYgY2xhc3M9InJlY29tbWVuZC1yaWdodCAgYWxpZ24taXRlbXMtc3RyZXRjaCBjbGVhcmZpeCIgaWQ9InJpZ2h0QXNpZGUiPjxhc2lkZSBjbGFzcz0icmVjb21tZW5kLXJpZ2h0X2FzaWRlIj48ZGl2IGlkPSJyZWNvbW1lbmQtcmlnaHQiIHN0eWxlPSJoZWlnaHQ6IDEwMCU7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiA1MnB4OyBvdmVyZmxvdzogc2Nyb2xsOyI+PC9kaXY+PC9hc2lkZT48L2Rpdj4nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDkuIrmoI/mjInpkq7liKDpmaQKICAgICAgICAgICAgJCgiLnRvb2xiYXItbWVudXMgPiBsaSA+IGE6Y29udGFpbnMoJ+S4k+agj+ivvueoiycpIikucGFyZW50KCkucmVtb3ZlKCk7CiAgICAgICAgICAgICQoIi50b29sYmFyLW1lbnVzID4gbGkgPiBhOmNvbnRhaW5zKCfmj5Lku7YnKSIpLnBhcmVudCgpLnJlbW92ZSgpOwogICAgICAgICAgICAkKCIudG9vbGJhci1tZW51cyA+IGxpID4gYTpjb250YWlucygn6K6k6K+BJykiKS5wYXJlbnQoKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8g5L+u5aSN5peg5rOV6YCJ5oup5aSN5Yi2CiAgICAgICAgICAgICQoImNvZGUiKS5jc3MoInVzZXItc2VsZWN0IiwiYXV0byIpOwogICAgICAgICAgICAkKCIjY29udGVudF92aWV3cyIpLmNzcygidXNlci1zZWxlY3QiLCJhdXRvIik7CiAgICAgICAgICAgICQoInByZSIpLmNzcygidXNlci1zZWxlY3QiLCJhdXRvIik7NwogICAgICAgICAgICAvLyDlm77niYfmt7fmloflrZfml7bvvIzml6Dms5XlrozmlbTlpI3liLbvvIzlm77niYfkuI3kvJrooqvlpI3liLbkuIvmnaUgaHR0cHM6Ly9naXRodWIuY29tL2FkbGVyZWQvQ1NETkdyZWVuZXIvaXNzdWVzLzg3CiAgICAgICAgICAgIC8vbGV0IGVsID0gJCgibWFpbiAuYmxvZy1jb250ZW50LWJveCIpWzBdOwogICAgICAgICAgICAvL2xldCBlbENsb25lID0gZWwuY2xvbmVOb2RlKHRydWUpOwogICAgICAgICAgICAvL2VsLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVsQ2xvbmUsIGVsKTsKICAgICAgICAgICAgLy8g5L+d5a2YY3NkbueahOe9kemhteWGjeasoeaJk+W8gOS8muiHquWKqOi3s+i9rOWIsOmmlumhtSBodHRwczovL2dpdGh1Yi5jb20vYWRsZXJlZC9DU0ROR3JlZW5lci9pc3N1ZXMvOTcKICAgICAgICAgICAgJCgiW29uZXJyb3JdIikucmVtb3ZlKCk7CiAgICAgICAgICAgIC8vIENTRE7ph43lrprlkJHlpJbpk77kuI3og73lnKjmlrDnmoTnqpflj6Pot7PovawgaHR0cHM6Ly9naXRodWIuY29tL2FkbGVyZWQvQ1NETkdyZWVuZXIvaXNzdWVzLzgwCiAgICAgICAgICAgICQoIiNhcnRpY2xlX2NvbnRlbnQgYVtocmVmXSIpLmF0dHIoInRhcmdldCIsICJfYmxhbmsiKTsKICAgICAgICAgICAgLy8g5pCc57Si5qGG5LyY5YyWCiAgICAgICAgICAgIC8vJCgiI3Rvb2xiYXItc2VhcmNoLWlucHV0IikuY3NzKCJ3aWR0aCIsICJjYWxjKDEwMCUgLSA0MDBweCkiKTsKICAgICAgICAgICAgLy8g5Y+W5raI5Luj56CB5oqY5Y+gCiAgICAgICAgICAgICQoIi5sb29rLW1vcmUtcHJlQ29kZSIpLmNsaWNrKCk7CiAgICAgICAgICAgIC8vIOivoumXruaOqOiNkOaYr+WQpuacieaEj+S5ieeahOmXruWNt+iwg+afpQogICAgICAgICAgICAkKCIjcmVjb21tZW5kTnBzIikucmVtb3ZlKCk7CiAgICAgICAgICAgIC8vIOe7v+WMluiuvue9rgogICAgICAgICAgICBjb21tb24oNiwgMSk7CiAgICAgICAgICAgIC8vIOWxj+W5lemAgumFjQogICAgICAgICAgICBjb21tb24oNCwgMSk7CiAgICAgICAgICAgIC8vIOivhOiuugogICAgICAgICAgICBjb21tb24oMSwgMzApOwogICAgICAgICAgICAvLyDlhbblroMKICAgICAgICAgICAgY29tbW9uKDIsIDIwKTsKICAgICAgICAgICAgLy8g6aG26YOo5pi+56S65L2c6ICF5L+h5oGvCiAgICAgICAgICAgIGNvbW1vbig4LCAxKTsKICAgICAgICAgICAgLy8g5Y2a5a6i5Y+K5Li76aG15LyY5YyWCiAgICAgICAgICAgIGNvbW1vbig5LCAxMCk7CiAgICAgICAgICAgIC8vIOW+queOr+e6v+eoi+W8gOWniwogICAgICAgICAgICBsb29wKDIpOwogICAgICAgICAgICBsb29wKDMpOwogICAgICAgIH0gZWxzZSBpZiAoYmJzLnRlc3QoY3VycmVudFVSTCkpIHsKICAgICAgICAgICAgbCgi5q2j5Zyo5LyY5YyW6K665Z2b5L2T6aqMLi4uIik7CiAgICAgICAgICAgIC8vIOW4uOinhAogICAgICAgICAgICAvLyDor4TorrrltYzlhaXlsI/lub/lkYoKICAgICAgICAgICAgcHV0KCIucG9zdF9yZWNvbW1lbmQiKTsKICAgICAgICAgICAgLy8g5bqV6YOo5o6o6I2QCiAgICAgICAgICAgIHB1dCgiI3Bvc3RfZmVlZF93cmFwIik7CiAgICAgICAgICAgIC8vIOW6lemDqOebuOWFs+aWh+eroOmHjOmdoueahOW5v+WRigogICAgICAgICAgICBwdXQoIi5iYnNfZmVlZF9hZF9ib3giKTsKICAgICAgICAgICAgcHV0KCIucmVjb21tZW5kLWFkLWJveCIpOwogICAgICAgICAgICAvLyDlupXpg6jnm7jlhbPmloflrZfph4zpnaLnmoTng63or43mj5DnpLoKICAgICAgICAgICAgcHV0KCIudHlwZV9ob3Rfd29yZCIpOwogICAgICAgICAgICAvLyDlupXpg6jok53oibJmbGV45bGe5oCn55qE5bm/5ZGK5qCPK+eZu+W9leazqOWGjOahhgogICAgICAgICAgICBwdXQoIi5wdWxsbG9nLWJveCIpOwogICAgICAgICAgICAvLyDnjJzkvaDllpzmrKIKICAgICAgICAgICAgcHV0KCIucGVyc29uYWxpemVkLXJlY29tbWVuZC1ib3giKTsKICAgICAgICAgICAgLy8g5Y+R5biW5YeP5Y2K5o+Q56S6CiAgICAgICAgICAgIHB1dCgiLnRvdGFzdC1ib3giKTsKICAgICAgICAgICAgLy8g6aG26YOo5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLnJlY29tbWVuZC1yaWdodCIpOwogICAgICAgICAgICAvLyDpobbpg6jlub/lkYoKICAgICAgICAgICAgcHV0KCIuYWRfdG9wIik7CiAgICAgICAgICAgIC8vIOWPs+S+p+W5v+WRigogICAgICAgICAgICBwdXQoIi5hZF8xIik7CiAgICAgICAgICAgIGNsZWFuKDEwKTsKICAgICAgICAgICAgLy8g5bGV5byACiAgICAgICAgICAgIGNvbW1vbigzLCA1MCk7CiAgICAgICAgICAgIC8vIGNvbW1vbig1LCAxMCk7CiAgICAgICAgICAgIGxvb3AoMyk7CiAgICAgICAgfSBlbHNlIGlmIChkb3dubG9hZC50ZXN0KGN1cnJlbnRVUkwpKSB7CiAgICAgICAgICAgIGwoIuato+WcqOS8mOWMluS4i+i9vemhteS9k+mqjC4uLiIpOwogICAgICAgICAgICAvLyDluLjop4QKICAgICAgICAgICAgcHV0KCIuZml4ZWRfZGwiKTsKICAgICAgICAgICAgcHV0KCJpbmRleFN1cGVyaXNlIik7CiAgICAgICAgICAgIC8vIOWPs+S+p+aOqOiNkAogICAgICAgICAgICBwdXQoIi5jb250ZW50X3JlY29tIik7CiAgICAgICAgICAgIGNsZWFuKDEwKTsKICAgICAgICAgICAgLy8gY29tbW9uKDUsIDEwKTsKICAgICAgICAgICAgbG9vcCgzKTsKICAgICAgICB9IGVsc2UgaWYgKGxvZ2luLnRlc3QoY3VycmVudFVSTCkpIHsKICAgICAgICAgICAgbCgi5q2j5Zyo5LyY5YyW55m75b2V6aG15L2T6aqMLi4uIik7CiAgICAgICAgICAgIC8vIOW4uOinhAogICAgICAgICAgICAvLyDnmbvlvZXnlYzpnaLlpKflm77lub/lkYoKICAgICAgICAgICAgcHV0KCIubWFpbi10dSIpOwogICAgICAgICAgICBjbGVhbigxMCk7CiAgICAgICAgICAgIC8vIGNvbW1vbig1LCAxMCk7CiAgICAgICAgICAgIGxvb3AoMyk7CiAgICAgICAgfSBlbHNlIGlmICh6b25lLnRlc3QoY3VycmVudFVSTCkpIHsKICAgICAgICAgICAgbCgi5q2j5Zyo5LyY5YyW5Liq5Lq656m66Ze05L2T6aqMLi4uIik7CiAgICAgICAgICAgIC8vIOW4uOinhAogICAgICAgICAgICBjbGVhbigxMCk7CiAgICAgICAgICAgIGNvbW1vbig3LCAxMCk7CiAgICAgICAgICAgIC8vIGNvbW1vbig1LCAxMCk7CiAgICAgICAgICAgIGxvb3AoMyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbCgi5ZOm6LGB77yM5aW95YGP6Zeo55qE6aG16Z2i77yM5oiR5p2l6K+V552A5LyY5YyW5LiA5LiL5ZOmLi4uIik7CiAgICAgICAgICAgIC8vIOW4uOinhAogICAgICAgICAgICAvLyDlsZXlvIDlhajmlocKICAgICAgICAgICAgJCgnLnJlYWRtb3JlX2J0bicpLmNsaWNrKCk7CiAgICAgICAgICAgIC8vICoqKiBpbmRleCAqKioKICAgICAgICAgICAgLy8g5aS06YOo5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLmJhbm5lci1hZC1ib3giKTsKICAgICAgICAgICAgLy8g5bWM5YWl5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiI2twX2JveF8yMTEiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLnNsaWRlLW91dGVyIik7CiAgICAgICAgICAgIC8vIOWPs+S+p+ivpuaDhQogICAgICAgICAgICBwdXQoIi5wZXJzaW9uX2FydGljbGUiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n5o6o6I2QCiAgICAgICAgICAgICQoIi5mZWVkX2NvbXBhbnkiKS5wYXJlbnQoKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8gKioqIGFydGljbGUgKioqCiAgICAgICAgICAgIC8vIOW4uOinhAogICAgICAgICAgICAvLyDlj7Pkvqflub/lkYrvvIzmlL7liLDnrKzkuIDkuKrmuIXpmaQKICAgICAgICAgICAgcHV0KCIjYWRkQWRCb3giKTsKICAgICAgICAgICAgcHV0KCIucmVjb21tZW5kLXRvcC1hZGJveCIpOwogICAgICAgICAgICAvLyDlv6vmnaXlhpnljZrlrqLlkKcKICAgICAgICAgICAgcHV0KCIuYmxvZ190aXBfYm94Iik7CiAgICAgICAgICAgIC8vIOaOqOiNkOWFs+azqOeUqOaItwogICAgICAgICAgICBwdXQoIi5ibG9nLWV4cGVydC1yZWNvbW1lbmQtYm94Iik7CiAgICAgICAgICAgIC8vIOWPs+S4i+inklZJUAogICAgICAgICAgICBwdXQoIi5tZWF1LWdvdG9wLWJveCIpOwogICAgICAgICAgICAvLyDlub/lkYoKICAgICAgICAgICAgcHV0KCIubWVkaWF2X2FkIik7CiAgICAgICAgICAgIHB1dCgiLnB1bGxsb2ctYm94Iik7CiAgICAgICAgICAgIHB1dCgiLnJlY29tbWVuZC1hZC1ib3giKTsKICAgICAgICAgICAgLy9wdXQoIi5ib3gtc2hhZG93Iik7IOafkOS6m+mhtemdouW8guW4uO+8jOS+i+WmgmNsb3VkLmNzZG4ubmV0CiAgICAgICAgICAgIHB1dCgiLnR5cGVfaG90X3dvcmQiKTsKICAgICAgICAgICAgcHV0KCIuZm91cnRoX2NvbHVtbiIpOwogICAgICAgICAgICAvLyBjbG91ZC5jc2RuLm5ldCDlpLTpg6jlub/lkYoKICAgICAgICAgICAgcHV0KCIja3BfYm94XzExOCIpOwogICAgICAgICAgICAvLyDlub/lkYoKICAgICAgICAgICAgcHV0KCIjYXNpZGVGb290ZXIiKTsKICAgICAgICAgICAgcHV0KCIjYWQtZGl2Iik7CiAgICAgICAgICAgIHB1dCgiIzQ3OSIpOwogICAgICAgICAgICBwdXQoIiM0ODAiKTsKICAgICAgICAgICAgLy8g5omT6LWPCiAgICAgICAgICAgIHB1dCgiLnBvc3RUaW1lIik7CiAgICAgICAgICAgIC8vIOivvueoi+aOqOiNkAogICAgICAgICAgICBwdXQoIi50MCIpOwogICAgICAgICAgICAvLyDliIbkuqvmtbfmiqUKICAgICAgICAgICAgcHV0KCIuc2hhcmVTdWdnZXN0Iik7CiAgICAgICAgICAgIC8vIOW6lemDqOS4u+mimAogICAgICAgICAgICBwdXQoIi50ZW1wbGF0ZS1ib3giKTsKICAgICAgICAgICAgLy8g6K+E6K665Yy65bm/5ZGKCiAgICAgICAgICAgIHB1dCgiZGl2I2RtcF9hZF81OCIpOwogICAgICAgICAgICAvLyDmiZPotY8KICAgICAgICAgICAgcHV0KCIucmV3YXJkLXVzZXItYm94Iik7CiAgICAgICAgICAgIC8vIOWPs+S+p+aJk+i1j+aMiemSrgogICAgICAgICAgICBwdXQoIi50by1yZXdhcmQiKTsKICAgICAgICAgICAgLy8g5o6o6I2Q5YaF5a655bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLnJlY29tbWVuZC1yZWNvbW1lbmQtYm94Iik7CiAgICAgICAgICAgIC8vIOWPs+S+p+W5v+WRigogICAgICAgICAgICBwdXQoIi5pbmRleFN1cGVyaXNlIik7CiAgICAgICAgICAgIC8vIOaKouaymeWPkeinkuaghwogICAgICAgICAgICBwdXQoIi5jb21tZW50LXNvZmEtZmxhZyIpOwogICAgICAgICAgICAvLyDpobVqaW8KICAgICAgICAgICAgcHV0KCIuYm90dG9tLXB1Yi1mb290ZXIiKTsKICAgICAgICAgICAgLy8g55m75b2V5p+l55yL5pyq6K+75raI5oGvCiAgICAgICAgICAgIHB1dCgiLnRvb2xiYXItbm90aWNlLWJ1YmJsZSIpOwogICAgICAgICAgICAvLyDlj7Pkvqflub/lkYoKICAgICAgICAgICAgcHV0KCIucmVjb21tZW5kLXRvcC1hZGJveCIpOwogICAgICAgICAgICAvLyDlrabpmaLlvLnlh7rlub/lkYoKICAgICAgICAgICAgJCgiLmZvdWNlX2Nsb3NlX2J0biIpLmNsaWNrKCk7CiAgICAgICAgICAgIC8vIOWFtuWugwogICAgICAgICAgICAvLyDlpLTpg6jlub/lkYoKICAgICAgICAgICAgcHV0KCIuYmFubmVyLWFkLWJveCIpOwogICAgICAgICAgICAvLyDlj7Pkvqflub/lkYoKICAgICAgICAgICAgcHV0KCIuc2xpZGUtb3V0ZXIiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n6K+m5oOFCiAgICAgICAgICAgIHB1dCgiLnBlcnNpb25fYXJ0aWNsZSIpOwogICAgICAgICAgICAvLyDlt6bkvqflub/lkYoKICAgICAgICAgICAgcHV0KCIja3BfYm94XzUwMyIpOwogICAgICAgICAgICBwdXQoIiNrcF9ib3hfMjE0Iik7CiAgICAgICAgICAgIC8vICoqKiBiYnMgKioqCiAgICAgICAgICAgIC8vIOivhOiuuuW1jOWFpeWwj+W5v+WRigogICAgICAgICAgICBwdXQoIi5wb3N0X3JlY29tbWVuZCIpOwogICAgICAgICAgICAvLyDlupXpg6jmjqjojZAKICAgICAgICAgICAgcHV0KCIjcG9zdF9mZWVkX3dyYXAiKTsKICAgICAgICAgICAgLy8g5bqV6YOo55u45YWz5paH56ug6YeM6Z2i55qE5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLmJic19mZWVkX2FkX2JveCIpOwogICAgICAgICAgICBwdXQoIi5yZWNvbW1lbmQtYWQtYm94Iik7CiAgICAgICAgICAgIC8vIOW6lemDqOebuOWFs+aWh+Wtl+mHjOmdoueahOeDreivjeaPkOekugogICAgICAgICAgICBwdXQoIi50eXBlX2hvdF93b3JkIik7CiAgICAgICAgICAgIC8vIOW6lemDqOiTneiJsmZsZXjlsZ7mgKfnmoTlub/lkYrmoI8r55m75b2V5rOo5YaM5qGGCiAgICAgICAgICAgIHB1dCgiLnB1bGxsb2ctYm94Iik7CiAgICAgICAgICAgIC8vIOeMnOS9oOWWnOasogogICAgICAgICAgICBwdXQoIi5wZXJzb25hbGl6ZWQtcmVjb21tZW5kLWJveCIpOwogICAgICAgICAgICAvLyDlj5HluJblh4/ljYrmj5DnpLoKICAgICAgICAgICAgcHV0KCIudG90YXN0LWJveCIpOwogICAgICAgICAgICAvLyDpobbpg6jlub/lkYoKICAgICAgICAgICAgcHV0KCIucmVjb21tZW5kLXJpZ2h0Iik7CiAgICAgICAgICAgIC8vIOmhtumDqOW5v+WRigogICAgICAgICAgICBwdXQoIi5hZF90b3AiKTsKICAgICAgICAgICAgLy8gKioqIGRvd25sb2FkICoqKgogICAgICAgICAgICBwdXQoIi5maXhlZF9kbCIpOwogICAgICAgICAgICBwdXQoImluZGV4U3VwZXJpc2UiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n5o6o6I2QCiAgICAgICAgICAgIHB1dCgiLmNvbnRlbnRfcmVjb20iKTsKICAgICAgICAgICAgY2xlYW4oMTApOwogICAgICAgIH0KICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICBwcm9ncmVzc29yLmRvbmUoKTsKICAgICAgICB9LCAwKTsKICAgICAgICBzdG9wVGltZU1pbGxpID0gRGF0ZS5ub3coKTsKICAgICAgICBsKCLkvJjljJblrozmr5UhIOiAl+aXtiAiICsgKHN0b3BUaW1lTWlsbGkgLSBzdGFydFRpbWVNaWxsaSkgKyAibXMiKTsKICAgICAgICAvLyDlu7bov5/ltYzlhaXnlKjmiLfkvb/nlKjohJrmnKzmg4XlhrVKU++8jOS4jeW9seWTjeaAp+iDvQogICAgICAgICQoImhlYWQiKS5hcHBlbmQoJzxzY3JpcHQgY2hhcnNldD0iVVRGLTgiIGlkPSJMQV9DT0xMRUNUIiBzcmM9Ii8vc2RrLjUxLmxhL2pzLXNkay1wcm8ubWluLmpzIj48L3NjcmlwdD4nKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAkKCJoZWFkIikuYXBwZW5kKCc8c2NyaXB0PkxBLmluaXQoe2lkOiAiSlFURGlPVloycFJqR2ExSyIsY2s6ICJKUVREaU9WWjJwUmpHYTFLIn0pPC9zY3JpcHQ+Jyk7CiAgICAgICAgfSwgMjAwMCk7CiAgICB9LCAwKTsKfSkoKTsKCmZ1bmN0aW9uIGwobG9nKSB7CiAgICBjb25zb2xlLmxvZygiW0NTRE5HcmVlbmVyXSAiICsgbG9nKTsKfQoKZnVuY3Rpb24gZShlcnJvcikgewogICAgY29uc29sZS5lcnJvcigiW0NTRE5HcmVlbmVyXSAiICsgZXJyb3IpOwp9CgpmdW5jdGlvbiBjbGVhcigpIHsKICAgIGxpc3QgPSBbXTsKfQoKZnVuY3Rpb24gcHV0KHRhZykgewogICAgbGlzdC5wdXNoKHRhZyk7Cn0KCmZ1bmN0aW9uIGNsZWFuKHRpbWVzKSB7CiAgICB2YXIgbG9vcCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAtLXRpbWVzOwogICAgICAgIGlmICh0aW1lcyA8PSAwKSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobG9vcCk7CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbGlzdC5sZW5ndGg7IGsrKykgewogICAgICAgICAgICAkKGxpc3Rba10pLnJlbW92ZSgpOwogICAgICAgIH0KICAgIH0sIDEwMCk7CiAgICBwcm9ncmVzc29yLmluY1Byb2dyZXNzKDEwKTsKfQoKZnVuY3Rpb24gbG9vcChudW0pIHsKICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAobnVtID09PSAxKSB7CiAgICAgICAgICAgIC8vIOS4u+mhteS4remXtOeahOW5v+WRigogICAgICAgICAgICAkKCIuSl9hZHYiKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8g5Li76aG15pyJ5paw55qE5YaF5a655qiq5p2hCiAgICAgICAgICAgICQoIi5mZWVkLWZpeC1ib3giKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8g5Li76aG15bm/5ZGKIGlmcmFtZQogICAgICAgICAgICBpZiAoY3VycmVudFVSTCA9PSAiaHR0cHM6Ly93d3cuY3Nkbi5uZXQvIikgewogICAgICAgICAgICAgICAgJCgiaWZyYW1lIikucmVtb3ZlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5Yig6ZmkIENTRE4g5a6Y5pa55Zyo5Li76aG155qE5paH56ug77yI5aSn5aSa5piv5bm/5ZGK77yJCiAgICAgICAgICAgICQoImxpLmNsZWFyZml4IikuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlKSB7CiAgICAgICAgICAgICAgICB2YXIgYmFubmVkID0gL2NzZG48XC9hPi87CiAgICAgICAgICAgICAgICB2YXIgYU1hcmsgPSAkKGVsZSkuZmluZCgiLm5hbWUiKS5odG1sKCk7CiAgICAgICAgICAgICAgICBpZiAoYmFubmVkLnRlc3QoYU1hcmspKSB7CiAgICAgICAgICAgICAgICAgICAgJChlbGUpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8g5Li76aG15bm/5ZGKCiAgICAgICAgICAgICQoImxpIikuZWFjaChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgbGV0IHNlbGYgPSAkKHRoaXMpOwogICAgICAgICAgICAgICAgbGV0IGRhdGFUeXBlID0gc2VsZi5hdHRyKCdkYXRhLXR5cGUnKTsKICAgICAgICAgICAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ2FkJykgewogICAgICAgICAgICAgICAgICAgIHNlbGYucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyDkuLvpobXlub/lkYoKICAgICAgICAgICAgJCgibGkgPiBkaXYgPiBkaXYgPiBoMiA+IGFbaHJlZio9J2h0dHBzOi8vZWR1LmNzZG4ubmV0J10iKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmUoKTsKICAgICAgICAgICAgJCgibGkgPiBkaXYgPiBkaXYgPiBoMiA+IGFbaHJlZio9J2h0dHBzOi8vbWFya2V0aW5nLmNzZG4ubmV0J10iKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8g5a6Y5pa56ISa5pys5qiq5bmFCiAgICAgICAgICAgICQoIi50b29sYmFyLWFkdmVydCIpLnJlbW92ZSgpOwogICAgICAgIH0gZWxzZSBpZiAobnVtID09PSAyKSB7CiAgICAgICAgICAgIC8vIOivhOiuuuafpeeci+abtOWkmuWxleW8gOebkeWQrAogICAgICAgICAgICAkKCJkaXYuY29tbWVudC1saXN0LWJveCIpLmNzcygibWF4LWhlaWdodCIsICJub25lIik7CiAgICAgICAgICAgIC8vIOWxj+iUveaCqOeahOe8qeaUvuS4jeaYrzEwMCXnmoTmj5DnpLoKICAgICAgICAgICAgJCgnLmxlZnRQb3AnKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8g5a6Y5pa56ISa5pys5qiq5bmFCiAgICAgICAgICAgICQoIi50b29sYmFyLWFkdmVydCIpLnJlbW92ZSgpOwogICAgICAgIH0gZWxzZSBpZiAobnVtID09IDMpIHsKICAgICAgICAgICAgLy8g5b6q546v5Yig6Zmk55m75b2V5o+Q56S65qGGCiAgICAgICAgICAgICQoIi5wYXNzcG9ydC1sb2dpbi1jb250YWluZXIiKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8g57qi5YyF6ZuoCiAgICAgICAgICAgICQoIiNjc2RuLXJlZHBhY2siKS5yZW1vdmUoKTsKICAgICAgICB9CiAgICB9LCA1MDApOwp9CgpmdW5jdGlvbiBjb21tb24obnVtLCB0aW1lcykgewogICAgdmFyIGxvb3AgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgLS10aW1lczsKICAgICAgICBpZiAodGltZXMgPD0gMCkgewogICAgICAgICAgICBjbGVhckludGVydmFsKGxvb3ApOwogICAgICAgIH0KICAgICAgICBpZiAobnVtID09PSAxKSB7CiAgICAgICAgICAgIC8vIOafpeeci+abtOWkmgogICAgICAgICAgICAkKCIuYnRuLXJlYWRtb3JlIikucmVtb3ZlQ2xhc3MoIm5vLWxvZ2luIik7CiAgICAgICAgICAgICQoIi5idG4tcmVhZG1vcmUiKS5hZGRDbGFzcygiZmFucy1yZWFkLW1vcmUiKTsKICAgICAgICAgICAgJCgiLmJ0bi1yZWFkbW9yZSIpLnJlbW92ZUF0dHIoImhyZWYiKTsKICAgICAgICAgICAgJCgiLmJ0bi1yZWFkbW9yZSIpLnJlbW92ZUF0dHIoInRhcmdldCIpOwogICAgICAgICAgICAkKCIuYnRuLXJlYWRtb3JlIikucmVtb3ZlQXR0cigicmVsIik7CiAgICAgICAgICAgICQoIi5idG4tcmVhZG1vcmUiKS5jbGljaygpOwogICAgICAgICAgICAvLyDlt7LnmbvlvZXnlKjmiLflsZXlvIDor4TorroKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidG5Nb3JlQ29tbWVudCIpLmNsaWNrKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgICAgICAgIC8vIOWIoOmZpOafpeeci+abtOWkmuaMiemSrgogICAgICAgICAgICAkKCIjYnRuTW9yZUNvbW1lbnQiKS5wYXJlbnQoImRpdi5vcHQtYm94IikucmVtb3ZlKCk7CiAgICAgICAgICAgIC8vIOWxleW8gOWGheWuuQogICAgICAgICAgICAkKCJkaXYuY29tbWVudC1saXN0LWJveCIpLmNzcygibWF4LWhlaWdodCIsICJub25lIik7CiAgICAgICAgICAgIC8vIOaUueWbnuiDjOaZr+minOiJsgogICAgICAgICAgICAkKCIubG9naW4tbWFyayIpLnJlbW92ZSgpOwogICAgICAgICAgICAvLyDliKDpmaTnmbvlvZXmoYYKICAgICAgICAgICAgJCgiLmxvZ2luLWJveCIpLnJlbW92ZSgpOwogICAgICAgIH0gZWxzZSBpZiAobnVtID09PSAyKSB7CiAgICAgICAgICAgIC8vIOaMoeS9j+ivhOiuuueahOKAnOWHuuWktOaOqOiNkOKAnQogICAgICAgICAgICBpZiAoJCgiLnJlY29tbWVuZC1ib3giKS5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAkKCIucmVjb21tZW5kLWJveCIpWzBdLnJlbW92ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIOWOu+mZpOaOqOW5v+W5v+WRigogICAgICAgICAgICAkKCJsaVtkYXRhLXR5cGU9J2FkJ10iKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8g5YWN55m75b2V5aSN5Yi2CiAgICAgICAgICAgICQoIi5obGpzLWJ1dHRvbiIpLnJlbW92ZUNsYXNzKCJzaWduaW4iKTsKICAgICAgICAgICAgJCgiLmhsanMtYnV0dG9uIikuYWRkQ2xhc3MoInsyfSIpOwogICAgICAgICAgICAkKCIuaGxqcy1idXR0b24iKS5hdHRyKCJkYXRhLXRpdGxlIiwgIuWFjeeZu+W9leWkjeWItiIpOwogICAgICAgICAgICAkKCIuaGxqcy1idXR0b24iKS5hdHRyKCJvbmNsaWNrIiwgImhsanMuY29weUNvZGUoZXZlbnQpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXskKCcuaGxqcy1idXR0b24nKS5hdHRyKCdkYXRhLXRpdGxlJywgJ+WFjeeZu+W9leWkjeWIticpO30sMzUwMCk7Iik7CiAgICAgICAgICAgIC8vIOWOu+mZpOWJqui0tOadv+WKq+aMgQogICAgICAgICAgICAkKCJjb2RlIikuYXR0cigib25jbGljayIsICJtZGNwLmNvcHlDb2RlKGV2ZW50KSIpOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgLy8g5aSN5Yi25pe25L+d55WZ5Y6f5paH5qC85byP77yM5Y+C6ICDIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZW4vc2NyaXB0cy8zOTA1MDItY3NkbnJlbW92ZWNvcHlyaWdodC9jb2RlCiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAiYXJ0aWNsZVR5cGUiLCB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICBjc2RuLmNvcHlyaWdodC5pbml0KCIiLCAiIiwgIiIpOwogICAgICAgICAgICAvLyDpobXlpLTlub/lkYoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImNvbHVtbi1hZHZlcnQtYm94IilbMF0uc3R5bGUuZGlzcGxheT0ibm9uZSI7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgICAgICAgIC8vIOiHquWKqOajgOa1i+aYr+WQpuacieebruW9le+8jOWmguaenOayoeacieWImeWIoOmZpOWPs+i+ueagj++8jOaWh+eroOWxheS4rQogICAgICAgICAgICBpZiAoJCgiLnJlY29tbWVuZC1yaWdodF9hc2lkZSIpLmh0bWwoKSAmJiAkKCIucmVjb21tZW5kLXJpZ2h0X2FzaWRlIikuaHRtbCgpLnJlcGxhY2UoL1tcclxuXS9nLCAiIikucmVwbGFjZSgvKFxzKS9nLCAiIikgPT09ICIiKSB7CiAgICAgICAgICAgICAgICAkKCIjcmlnaHRBc2lkZSIpLnJlbW92ZSgpOwogICAgICAgICAgICB9IGVsc2UgaWYgKCQoIi5yZWNvbW1lbmQtcmlnaHRfYXNpZGUiKS5odG1sKCkgJiYgJCgiI3JlY29tbWVuZC1yaWdodCIpLmh0bWwoKS5yZXBsYWNlKC9bXHJcbl0vZywgIiIpLnJlcGxhY2UoLyhccykvZywgIiIpID09PSAiIikgewogICAgICAgICAgICAgICAgJCgiI3JpZ2h0QXNpZGUiKS5yZW1vdmUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDnmbvlvZXmjInpkq7mloflrZflpKrlpJrvvIzkv67mlLkKICAgICAgICAgICAgJCgiYSIpLmVhY2goZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCdocmVmJykgPT09ICdodHRwczovL3Bhc3Nwb3J0LmNzZG4ubmV0L2FjY291bnQvbG9naW4nKSB7CiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5odG1sKCfnmbvlhaUnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vIOmhtuagj+W5v+WRigogICAgICAgICAgICAkKCJsaSIpLmVhY2goZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIGxldCBzZWxmID0gJCh0aGlzKTsKICAgICAgICAgICAgICAgIGxldCBkYXRhVHlwZSA9IHNlbGYuYXR0cignZGF0YS1zdWItbWVudS10eXBlJyk7CiAgICAgICAgICAgICAgICBpZiAoZGF0YVR5cGUgPT09ICd2aXAnKSB7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxldCBkYXRhVGl0bGUgPSBzZWxmLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgICAgICBpZiAoZGF0YVRpdGxlID09PSAn6auY5Lu35YC85rqQ56CB6K++56iL5YiG5LqrJyB8fCBkYXRhVGl0bGUgPT09ICfns7vnu5/lrabkuaDCt+mXruetlMK35q+U6LWbJyB8fCBkYXRhVGl0bGUgPT09ICfnroDljZXpq5jmlYjkvJjmg6DnmoTkupHmnI3liqEnKSB7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vIOmhtuagj1ZJUOmAiemhuQogICAgICAgICAgICAkKCcudG9vbGJhci1zdWJNZW51LWJveCcpLmZpbmQoIltocmVmPSdodHRwczovL21hbGwuY3Nkbi5uZXQvdmlwJ10iKS5wYXJlbnQoKS5yZW1vdmUoKTsKICAgICAgICB9IGVsc2UgaWYgKG51bSA9PSAzKSB7CiAgICAgICAgICAgIC8v6K665Z2b6Ieq5Yqo5bGV5byACiAgICAgICAgICAgICQoIi5qc19zaG93X3RvcGljIikuY2xpY2soKTsKICAgICAgICB9IGVsc2UgaWYgKG51bSA9PSA0KSB7CiAgICAgICAgICAgIC8qKiDphY3nva7mjqfliLYgKiovCiAgICAgICAgICAgIGxldCBjb25maWcgPSBuZXcgQ29uZmlnKCk7CiAgICAgICAgICAgIGxldCBzbUNvb2tpZSA9IGNvbmZpZy5nZXQoInNjci1zbSIsIHRydWUpOwogICAgICAgICAgICBsZXQgbWRDb29raWUgPSBjb25maWcuZ2V0KCJzY3ItbWQiLCBmYWxzZSk7CiAgICAgICAgICAgIGxldCBsZ0Nvb2tpZSA9IGNvbmZpZy5nZXQoInNjci1sZyIsIGZhbHNlKTsKICAgICAgICAgICAgbGV0IGZvQ29va2llID0gY29uZmlnLmdldCgic2NyLWZvIiwgZmFsc2UpCgogICAgICAgICAgICAkKCIjc2NyLXNtIikucHJvcCgiY2hlY2tlZCIsIHNtQ29va2llKTsKICAgICAgICAgICAgJCgiI3Njci1tZCIpLnByb3AoImNoZWNrZWQiLCBtZENvb2tpZSk7CiAgICAgICAgICAgICQoIiNzY3ItbGciKS5wcm9wKCJjaGVja2VkIiwgbGdDb29raWUpOwogICAgICAgICAgICAkKCIjc2NyLWZvIikucHJvcCgiY2hlY2tlZCIsIGZvQ29va2llKTsKCiAgICAgICAgICAgIGlmIChzbUNvb2tpZSkgewogICAgICAgICAgICAgICAgLy8gU21hbGwgU2NyZWVuIE1vZGUKICAgICAgICAgICAgICAgICQoIi5tYWluX2ZhdGhlciIpLnJlbW92ZUNsYXNzKCJqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIik7CiAgICAgICAgICAgICAgICBHTV9hZGRTdHlsZShgCiAgICAgICAgICAgICAgICBtYWluewogICAgICAgICAgICAgICAgICAgIHdpZHRoOiBhdXRvIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICAgICBmbG9hdDogbm9uZSFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiA5MHZ3OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbWFpbiBhcnRpY2xlIGltZ3sKICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsKICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBgKTsKICAgICAgICAgICAgICAgICQoIiNtYWluQm94IikuY3NzKCJ3aWR0aCIsICIxMDAlIik7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobWRDb29raWUpIHsKICAgICAgICAgICAgICAgIC8vIE1pZGRsZSBTY3JlZW4gTW9kZQogICAgICAgICAgICAgICAgJCgiLm1haW5fZmF0aGVyIikucmVtb3ZlQ2xhc3MoImp1c3RpZnktY29udGVudC1jZW50ZXIiKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChsZ0Nvb2tpZSkgewogICAgICAgICAgICAgICAgLy8gTGFyZ2UgU2NyZWVuIE1vZGUKICAgICAgICAgICAgICAgICQoIi5jb250YWluZXIiKS5jc3MoIm1hcmdpbiIsICIwIGF1dG8iKQogICAgICAgICAgICB9IGVsc2UgaWYgKGZvQ29va2llKSB7CiAgICAgICAgICAgICAgICAvLyBGb2N1cyBtb2RlCiAgICAgICAgICAgICAgICAkKCIucmVjb21tZW5kLXJpZ2h0IikucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAkKCIuY29udGFpbmVyIikuY3NzKCJ3aWR0aCIsICIxMDAlIik7CiAgICAgICAgICAgICAgICAkKCIuY29udGFpbmVyID4gbWFpbiIpLmNzcygid2lkdGgiLCAiMTAwJSIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDlsY/luZXlsLrlr7jljZXpgInnm5HlkKwKICAgICAgICAgICAgJCgiI3Njci1zbSIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoInNjci1zbSIsIHRydWUpOwogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldCgic2NyLW1kIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldCgic2NyLWxnIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldCgic2NyLWZvIiwgZmFsc2UpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiI3Njci1tZCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoInNjci1tZCIsIHRydWUpOwogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldCgic2NyLXNtIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldCgic2NyLWxnIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldCgic2NyLWZvIiwgZmFsc2UpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiI3Njci1sZyIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoInNjci1sZyIsIHRydWUpOwogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldCgic2NyLXNtIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldCgic2NyLW1kIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldCgic2NyLWZvIiwgZmFsc2UpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiI3Njci1mbyIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoInNjci1mbyIsIHRydWUpOwogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldCgic2NyLXNtIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldCgic2NyLW1kIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldCgic2NyLWxnIiwgZmFsc2UpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8g5Yik5pat5piv5ZCm5Li655m75b2V54q25oCBCiAgICAgICAgICAgICQoImEiKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cignaHJlZicpID09PSAnaHR0cHM6Ly9wYXNzcG9ydC5jc2RuLm5ldC9hY2NvdW50L2xvZ2luJykgewogICAgICAgICAgICAgICAgICAgIC8vIOacqueZu+W9leWIoOmZpOaXoOeUqOaMiemSrgogICAgICAgICAgICAgICAgICAgICQoImE6Y29udGFpbnMoJ+S8muWRmOS4reW/gycpIikucGFyZW50KCkucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgJCgiYTpjb250YWlucygn5pS26JePJykiKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAkKCJhOmNvbnRhaW5zKCfliqjmgIEnKSIpLnBhcmVudCgpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICQoImE6Y29udGFpbnMoJ+WIm+S9nCcpIikucGFyZW50KCkucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgJCgiLnRvb2xiYXItYnRuLWNvbGxlY3QiKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAkKCIuYnRuLXdyaXRlLW5ldyIpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKG51bSA9PSA1KSB7CiAgICAgICAgICAgIC8vIOaUueWbnuiDjOaZr+minOiJsgogICAgICAgICAgICAkKCIubG9naW4tbWFyayIpLnJlbW92ZSgpOwogICAgICAgICAgICAvLyDliKDpmaTnmbvlvZXmoYYKICAgICAgICAgICAgJCgiLmxvZ2luLWJveCIpLnJlbW92ZSgpOwogICAgICAgIH0gZWxzZSBpZiAobnVtID09IDYpIHsKICAgICAgICAgICAgbGV0IGRpZCA9IGZhbHNlOwogICAgICAgICAgICBsZXQgY29uZmlnSFRNTCA9ICcnOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8ZGl2IGNsYXNzPSJjb25maWdDb250YWluZXIiPjxwPjxhIGNsYXNzPSJ0aXRsZSIgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL2FkbGVyZWQvQ1NETkdyZWVuZXIiIHRhcmdldD0iX2JsYW5rIj5DU0ROR3JlZW5lcjwvYT4gPHN1cD5WJyArIHZlcnNpb24gKyAnICcgKyBzZXR0aW5nc19zdmcgKyAnPC9zdXA+PC9wPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxwPjxhIGhyZWY9Ii8vc2hhbmcucXEuY29tL3dwYS9xdW53cGE/aWRrZXk9ZDdhZDZlYWQzZjU3NzIyZTdmMDBhNDI4MWFlNzVkYmFjMjEzMmM1YThjZjMyMTk5MmQ1NzMwOTAzN2ZjYWY2MyIgdGFyZ2V0PSJfYmxhbmsiPuWumOaWuSBRUSDkuqTmtYHnvqTvvJoxMDQyMzcwNDUzPC9hPjwvcD48YnI+JzsKCiAgICAgICAgICAgIC8vIOiuvuWumu+8muaOqOiNkOWGheWuueaMiemSrgogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8cCBjbGFzcz0iYm9sZCI+5qC55o2u5bGP5bmV5bC65a+477yM6YCC6YWN54mI5byPPC9wPjxwPuW7uuiurumAkOS4quWwneivleWQjumAieaLqemAguWQiOS9oOeahOeJiOW8j++8jOWxj+W5lei/h+Wwj+aIluiAheeJiOW8j+mAieaLqeS4jeato+ehruWPs+S+p+agj+WPr+iDveayoeacieepuumXtOaYvuekuu+8jOWvvOiHtOS+p+agj+WumuWItuaXoOaViO+8iOivt+Wwneivleiwg+iKgua1j+iniOWZqOe8qeaUvu+8jOW/q+aNt+mUriBDdHJsK+m8oOagh+a7mui9ru+8ieOAgjwvcD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8bGFiZWw+PGlucHV0IG5hbWU9ImRpc3BsYXlNb2RlIiB0eXBlPSJyYWRpbyIgdmFsdWU9IiIgaWQ9InNjci1zbSIgLz4g5bmz6ZO65qih5byPKOS8mOWMlueJiCkgPC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8bGFiZWw+PGlucHV0IG5hbWU9ImRpc3BsYXlNb2RlIiB0eXBlPSJyYWRpbyIgdmFsdWU9IiIgaWQ9InNjci1tZCIgLz4g6YCC5bqU5qih5byPIDwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGxhYmVsPjxpbnB1dCBuYW1lPSJkaXNwbGF5TW9kZSIgdHlwZT0icmFkaW8iIHZhbHVlPSIiIGlkPSJzY3ItbGciIC8+IOWxheS4reaooeW8jyA8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxsYWJlbD48aW5wdXQgbmFtZT0iZGlzcGxheU1vZGUiIHR5cGU9InJhZGlvIiB2YWx1ZT0iIiBpZD0ic2NyLWZvIiAvPiDmsonmtbjmqKHlvI8o5peg5L6n5qCPKTwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGhyIHN0eWxlPSJoZWlnaHQ6MXB4O2JvcmRlcjpub25lO2JvcmRlci10b3A6MXB4IHNvbGlkICNjY2NjY2M7bWFyZ2luOiA1cHggMHB4IDVweCAwcHg7IiAvPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxwIGNsYXNzPSJib2xkIj7pgJrnlKjorr7lrpo8L3A+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPHA+6Ieq5a6a5LmJ6IOM5pmv5Zu+77yaIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iYmFja2dyb3VuZEltZ1VybCIgcGxhY2Vob2xkZXI9IuWbvueJh+aJgOWcqOe9keWdgOaIlkJhc2U2NCIgc3R5bGU9ImJvcmRlci1yYWRpdXM6IDJweDtib3JkZXI6IDFweCBzb2xpZCAjZjBmMGYwO3BhZGRpbmc6NXB4O3dpZHRoOjEwMCU7bWFyZ2luLWJvdHRvbTo1cHg7Ij4gPGlucHV0IHN0eWxlPSJtYXJnaW4tYm90dG9tOjVweDsiIGFjY2VwdD0iaW1hZ2UvKiIgaWQ9InVwbG9hZF9iZyIgdHlwZT0iZmlsZSI+PC9wPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZS1yZWNvbW1lbmQtYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLXJlY29tbWVuZC1idXR0b24iIGNsYXNzPSJtb2RlTGFiZWwiPuaYvuekuuaOqOiNkOWGheWuuTwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGJyPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZS1zaG9wLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS1zaG9wLWJ1dHRvbiIgY2xhc3M9Im1vZGVMYWJlbCI+5pi+56S65bCP5bqXPC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idG9nZ2xlLXdoaXRldGhlbWUtYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLXdoaXRldGhlbWUtYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7nmb3oibLkuLvpopgmRGFyayBSZWFkZXLlhbzlrrnmqKHlvI88YnI+PHNwYW4gc3R5bGU9ImNvbG9yOiAjODA4MDgwOyI+IyDpgInpobnkvZznlKjvvJrlvIDlkK/lkI7lj6/pgJrov4dEYXJrIFJlYWRlcuaPkuS7tueBtea0u+aOp+WItueZveiJsuS4jum7keaal+aooeW8j++8jDxhIHN0eWxlPSJjb2xvcjogZ3JlZW47IiBocmVmPSJodHRwczovL2Nocm9tZS56enptaC5jbi9pbmZvP3Rva2VuPWVpbWFkcGJjYmZubWJrb3Bvb2pmZWtobmtoZGJpZWVoIiB0YXJnZXQ9Il9ibGFuayI+5o+S5Lu25LiL6L295Zyw5Z2A54K55oiRPC9hPjwvc3Bhbj48L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtYXV0b3NpemUtYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLWF1dG9zaXplLWJ1dHRvbiIgY2xhc3M9Im1vZGVMYWJlbCI+5a695bqm6Ieq5Yqo6YCC5bqUPGJyPjxzcGFuIHN0eWxlPSJjb2xvcjogIzgwODA4MDsiPiMg6YCJ6aG55L2c55So77ya5byA5ZCv5q2k6YCJ6aG55Y+v5Lul5Zyo6aG16Z2i5a695bqm57yp5bCP5pe26Ieq5Yqo5YiH5o2i6Iez5bCP5bGP5qih5byPPC9zcGFuPjwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGJyPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZS1hdXRvaGlkZXRvb2xiYXItYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLWF1dG9oaWRldG9vbGJhci1idXR0b24iIGNsYXNzPSJtb2RlTGFiZWwiPuWQkeS4i+a7muWKqOiHquWKqOmakOiXj+mhtuagjzwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGJyPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZS1hdXRvaGlkZWJvdHRvbWJhci1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtYXV0b2hpZGVib3R0b21iYXItYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7lp4vnu4jpmpDol4/lupXmoI88L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtd3JpdGVibG9nLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS13cml0ZWJsb2ctYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7mmL7npLrliJvkvZzkuK3lv4PmjInpkq48L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aHIgc3R5bGU9ImhlaWdodDoxcHg7Ym9yZGVyOm5vbmU7Ym9yZGVyLXRvcDoxcHggc29saWQgI2NjY2NjYzttYXJnaW46IDVweCAwcHggNXB4IDBweDsiIC8+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPHAgY2xhc3M9ImJvbGQiPjxiPuWPs+S+p+agj+WumuWItjwvYj48L3A+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idG9nZ2xlLWF1dGhvcmNhcmQtYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLWF1dGhvcmNhcmQtYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7mmL7npLrkvZzogIXlkI3niYc8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtc2VhcmNoYmxvZy1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtc2VhcmNoYmxvZy1idXR0b24iIGNsYXNzPSJtb2RlTGFiZWwiPuaYvuekuuaQnOWNmuS4u+aWh+eroDwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGJyPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZS1uZXdhcnRpY2xlLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS1uZXdhcnRpY2xlLWJ1dHRvbiIgY2xhc3M9Im1vZGVMYWJlbCI+5pi+56S65pyA5paw5paH56ugPC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idG9nZ2xlLWhvdGFydGljbGUtYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLWhvdGFydGljbGUtYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7mmL7npLrng63pl6jmlofnq6A8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtbmV3Y29tbWVudHMtYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLW5ld2NvbW1lbnRzLWJ1dHRvbiIgY2xhc3M9Im1vZGVMYWJlbCI+5pi+56S65pyA5paw6K+E6K66PC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idG9nZ2xlLWtpbmRwZXJzb24tYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLWtpbmRwZXJzb24tYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7mmL7npLrliIbnsbvkuJPmoI88L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtcmVjb21tZW5kYXJ0aWNsZS1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtcmVjb21tZW5kYXJ0aWNsZS1idXR0b24iIGNsYXNzPSJtb2RlTGFiZWwiPuaYvuekuuaOqOiNkOaWh+eroDwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGJyPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZS1hcmNoaXZlLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS1hcmNoaXZlLWJ1dHRvbiIgY2xhc3M9Im1vZGVMYWJlbCI+5pi+56S65b2S5qGjPC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idG9nZ2xlLWNvbnRlbnQtYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLWNvbnRlbnQtYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7mmL7npLrnm67lvZU8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj48YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGRpdj48aDY+5rKh5pyJ5pS26ZKx55qE5bm/5ZGKPC9oNj48cD7miJHlrrbpppnmuK9DTjIgMTBN5Li75py65LiA5Liq5pyIMjnvvIjkuZ/mnInlm73lhoXpq5jpmLLkuLvmnLrvvInvvIzpq5jpmLJDRE7lm73lhoXlpJboioLngrnpg73mnInvvIjpppnmuK/oioLngrnlhY3lpIfmoYjvvInvvIzpnZ7luLjpgILlkIjlsI/nq5nplb/ku6Xlj4rplb/mnJ/ooqvmlLvlh7vnmoTnvZHnq5nlk6YgOik8L3A+PGEgaHJlZj0iaHR0cHM6Ly93d3cudHN5dnBzLmNvbS9hZmYvSEVIVFBHWUwiIHRhcmdldD0iX2JsYW5rIj48aW1nIHNyYz0iaHR0cHM6Ly9mdHAuc3RhY2tvdmVyZmxvdy53aWtpL2JvbG8vYWQucG5nIiBzdHlsZT0ibWF4LXdpZHRoOiA1MDBweDsiPjwvYT48L2Rpdj48YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGRpdj48aDY+5rKh5pyJ5pS26ZKx55qE5bm/5ZGKIDI8L2g2PjxwPu+8iOS9nOiAheacrOS6uuW7uuiuvueahOekvuWMuu+9njwvcD48cD7npL7ljLrkuK3ogZrpm4bkuoblkIzooYzkuJrnmoTlpKfkvazlsI/nmb3vvIzmrKLov47lsI/kvJnkvLTku6zkuIDotbfmkbjpsbzvvIE8L3A+PGEgaHJlZj0iaHR0cHM6Ly9maXNocGkuY24iIHRhcmdldD0iX2JsYW5rIj48aW1nIHNyYz0iaHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIyLzAxLzA1LzFIcEJaVXJhTWNSOGlzdC5wbmciIHN0eWxlPSJ3aWR0aDoxMDAlO2hlaWdodDoxMDAlOyIvPjwvYT48L2Rpdj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YSBocmVmPSJodHRwczovL2dpdGh1Yi5jb20vYWRsZXJlZC9DU0ROR3JlZW5lciIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJnaXZlTWVPbmVTdGFyIj4nICsgc3Rhcl9zdmcgKyAnIDxiPueCueaIkX48L2I+IOWKqOWKqOWwj+aJi+WcqCBHaXRIdWIg54K55LiqIFN0YXIg5ZKM5YWz5rOo77yM5pSv5oyB5oiR57un57ut57u05oqk6ISa5pysIDopPC9hPjxicj48YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPHA+54m55Yir5o+Q56S677yaQ1NETkdyZWVuZXIg6ISa5pys5LiN5o+Q5L6b5Lu75L2V5Lya5ZGY5paH56ug56C06Kej44CB5Lya5ZGY6LWE5rqQ5LiL6L295Yqf6IO977yM5LuF6YCC55So5LqO5YmN56uv5LyY5YyW77yM6K+35ZyoQ1NETuWumOaWuea4oOmBk+i0reS5sENTRE7kvJrlkZjkvZPpqozku5jotLnlip/og73jgII8L3A+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGhyIHN0eWxlPSJoZWlnaHQ6MXB4O2JvcmRlcjpub25lO2JvcmRlci10b3A6MXB4IHNvbGlkICNjY2NjY2M7bWFyZ2luOiA1cHggMHB4IDVweCAwcHg7IiAvPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwoKICAgICAgICAgICAgLy8gY29uZmlnSFRNTCArPSAnPGEgaHJlZj0iaHR0cHM6Ly9kb2Muc3RhY2tvdmVyZmxvdy53aWtpL3dlYi8jLzIxP3BhZ2VfaWQ9MTM4IiB0YXJnZXQ9Il9ibGFuayIgc3R5bGU9Im1hcmdpbi10b3A6IDVweDsgZGlzcGxheTogYmxvY2s7Ij4nICsgZG9uYXRlX3N2ZyArICcg5oiR5piv6ICB5p2/77yM5oqV5biB5omT6LWPPC9hPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzwvZGl2PjwvZGl2PjxkaXYgaWQ9ImZhZGUiIGNsYXNzPSJibGFja19vdmVybGF5Ij48L2Rpdj4nOwogICAgICAgICAgICBsZXQgc2F2ZUJ1dHRvbiA9ICc8YnV0dG9uIGNsYXNzPSJzYXZlQnV0dG9uIiBzdHlsZT0icG9zaXRpb246IHN0aWNreTt0b3A6IDVweDtsZWZ0OiBjYWxjKDEwMCUgLSA4MHB4KTsiIG9uY2xpY2s9InNhdmVBbmRSZWxvYWQoKTsiPicgKyBzYXZlX3N2ZyArICcg5bqU55SoPC9idXR0b24+JzsKICAgICAgICAgICAgLy8g57u/5YyW5Zmo6K6+5a6aCiAgICAgICAgICAgICQoImJvZHkiKS5hZnRlcignPGRpdiBpZD0iY29uZmlnQ29udGVudCIgY2xhc3M9IndoaXRlX2NvbnRlbnQiPicgKyBzYXZlQnV0dG9uICsgY29uZmlnSFRNTCk7CgogICAgICAgICAgICAvKiog6YWN572u5o6n5Yi2ICoqLwogICAgICAgICAgICAvLyDmjqjojZDlhoXlrrkKICAgICAgICAgICAgJCgiLmJsb2ctY29udGVudC1ib3giKS5hcHBlbmQoIjxicj48ZGl2IGNsYXNzPSdibG9nLWNvbnRlbnQtYm94JyBpZD0ncmVjb21tZW5kU3dpdGNoJyBzdHlsZT0ndGV4dC1hbGlnbjogcmlnaHQ7Jz48L2Rpdj4iKTsKICAgICAgICAgICAgJCgiI3JlY29tbWVuZFN3aXRjaDpsYXN0IikuYXBwZW5kKCc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLWJ1dHRvbiIgY2xhc3M9ImJ1dHRvbi1sYWJlbCI+IDxzcGFuIGNsYXNzPSJjaXJjbGUiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9InRleHQgb24iPiZuYnNwOzwvc3Bhbj4gPHNwYW4gY2xhc3M9InRleHQgb2ZmIj4mbmJzcDs8L3NwYW4+IDwvbGFiZWw+JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHAgc3R5bGU9Im1hcmdpbi10b3A6IDVweDsgZm9udC1zaXplOiAxM3B4OyI+5pi+56S65o6o6I2Q5YaF5a65PC9wPicpOwogICAgICAgICAgICBsZXQgcmVjb21tZW5kQ29va2llID0gY29uZmlnLmdldCgicmVjb21tZW5kIiwgZmFsc2UpOwogICAgICAgICAgICBpZiAoIXJlY29tbWVuZENvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiLnJlY29tbWVuZC1ib3giKS5oaWRlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHJlY29tbWVuZENvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1yZWNvbW1lbmQtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLXJlY29tbWVuZC1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUtcmVjb21tZW5kLWJ1dHRvbiIsICJyZWNvbW1lbmQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7JCgiLnJlY29tbWVuZC1ib3giKS5zbGlkZURvd24oMjAwKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7JCgiLnJlY29tbWVuZC1ib3giKS5zbGlkZVVwKDIwMCk7fSk7CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b25BbmRBY3Rpb24oIiN0b2dnbGUtYnV0dG9uIiwgInJlY29tbWVuZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7JCgiLnJlY29tbWVuZC1ib3giKS5zbGlkZURvd24oMjAwKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7JCgiLnJlY29tbWVuZC1ib3giKS5zbGlkZVVwKDIwMCk7fSk7CgogICAgICAgICAgICAvLyDmmL7npLrlsI/lupcKICAgICAgICAgICAgbGV0IHNob3BDb29raWUgPSBjb25maWcuZ2V0KCdzaG9wJyxmYWxzZSk7CiAgICAgICAgICAgIGlmKCFzaG9wQ29va2llKXsKICAgICAgICAgICAgICAgICQoIiNjc2RuLXNob3Atd2luZG93IikuaGlkZSgpOwogICAgICAgICAgICAgICAgJCgiI2NzZG4tc2hvcC13aW5kb3ctdG9wIikuaGlkZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChzaG9wQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLXNob3AtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1zaG9wLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS1zaG9wLWJ1dHRvbiIsICJzaG9wIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwoKICAgICAgICAgICAgLy8g5pi+56S65L2c6ICF5ZCN54mHCiAgICAgICAgICAgIGxldCBhdXRob3JDYXJkQ29va2llID0gY29uZmlnLmdldCgiYXV0aG9yQ2FyZCIsIHRydWUpOwogICAgICAgICAgICBpZiAoYXV0aG9yQ2FyZENvb2tpZSkgewogICAgICAgICAgICAgICAgLy8g5Y2a5Li75L+h5oGvCiAgICAgICAgICAgICAgICAkKCcjcmVjb21tZW5kLXJpZ2h0JykuYXBwZW5kKCQoJyNhc2lkZVByb2ZpbGUnKS5wcm9wKCJvdXRlckhUTUwiKSk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICQoJyNhc2lkZVByb2ZpbGUnKS5hdHRyKCJzdHlsZSIsICJtYXJnaW4tdG9wOiA4cHg7IHdpZHRoOiAzMDBweDsiKTsKICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGF1dGhvckNhcmRDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtYXV0aG9yY2FyZC1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWF1dGhvcmNhcmQtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uKCIjdG9nZ2xlLWF1dGhvcmNhcmQtYnV0dG9uIiwgImF1dGhvckNhcmQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwoKICAgICAgICAgICAgLy8g5by65Yi255m96Imy5Li76aKYCiAgICAgICAgICAgIGxldCB3aGl0ZVRoZW1lQ29va2llID0gY29uZmlnLmdldCgid2hpdGVUaGVtZSIsIGZhbHNlKTsKICAgICAgICAgICAgaWYgKHdoaXRlVGhlbWVDb29raWUpIHsKICAgICAgICAgICAgICAgIC8vIOiDjOaZr+WIoOmZpAogICAgICAgICAgICAgICAgJCgnLm1haW5fZmF0aGVyJykuYXR0cignc3R5bGUnLCAnYmFja2dyb3VuZC1pbWFnZTogbm9uZSAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNmY3OyBiYWNrZ3JvdW5kOiAjZjVmNmY3OycpOwogICAgICAgICAgICAgICAgJCgnW2hyZWZePSJodHRwczovL2NzZG5pbWcuY24vcmVsZWFzZS9waG9lbml4L3RlbXBsYXRlL3RoZW1lc19za2luLyJdJykuYXR0cignaHJlZicsICdodHRwczovL2NzZG5pbWcuY24vcmVsZWFzZS9waG9lbml4L3RlbXBsYXRlL3RoZW1lc19za2luL3NraW4tdGVjaG5vbG9neS9za2luLXRlY2hub2xvZ3ktNjMzNjU0OTU1Ny5taW4uY3NzJyk7CiAgICAgICAgICAgICAgICAkKCcjY3Nkbi10b29sYmFyJykucmVtb3ZlQ2xhc3MoJ2NzZG4tdG9vbGJhci1za2luLWJsYWNrJyk7CiAgICAgICAgICAgICAgICAkKCcuY3Nkbi1sb2dvJykuYXR0cignc3JjJywgJy8vY3NkbmltZy5jbi9jZG4vY29udGVudC10b29sYmFyL2NzZG4tbG9nby5wbmc/dj0yMDIwMDQxNi4xJyk7CiAgICAgICAgICAgICAgICAkKCdodG1sJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJyNmNWY2ZjcnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAod2hpdGVUaGVtZUNvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS13aGl0ZXRoZW1lLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtd2hpdGV0aGVtZS1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUtd2hpdGV0aGVtZS1idXR0b24iLCAid2hpdGVUaGVtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSk7CgogICAgICAgICAgICAvLyDog4zmma/lm74KICAgICAgICAgICAgbGV0IGJhY2tncm91bmRJbWFnZSA9IEdNX2dldFZhbHVlKCJiYWNrZ3JvdW5kSW1hZ2UiLCAiIik7CiAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kSW1hZ2UgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAkKCIjYmFja2dyb3VuZEltZ1VybCIpLnZhbChiYWNrZ3JvdW5kSW1hZ2UpOwogICAgICAgICAgICAgICAgJCgiLm1haW5fZmF0aGVyIikuYXR0cignc3R5bGUnLCAnYmFja2dyb3VuZC1pbWFnZTp1cmwoJyArIGJhY2tncm91bmRJbWFnZSArICcpO2JhY2tncm91bmQtYXR0YWNobWVudDpmaXhlZDtiYWNrZ3JvdW5kLXNpemU6MTAwJTsnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkKCcjYmFja2dyb3VuZEltZ1VybCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoImJhY2tncm91bmRJbWFnZSIsICQoIiNiYWNrZ3JvdW5kSW1nVXJsIikudmFsKCkpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgnI2JhY2tncm91bmRJbWdVcmwnKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZSgiYmFja2dyb3VuZEltYWdlIiwgJCgiI2JhY2tncm91bmRJbWdVcmwiKS52YWwoKSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCIjdXBsb2FkX2JnIikub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgbGV0IGZpbGUgPSAkKCIjdXBsb2FkX2JnIilbMF0uZmlsZXNbMF07CiAgICAgICAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGxldCBiYXNlNjQgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgJCgnI2JhY2tncm91bmRJbWdVcmwnKS52YWwoYmFzZTY0KTsKICAgICAgICAgICAgICAgICAgICAkKCcjYmFja2dyb3VuZEltZ1VybCcpLmNoYW5nZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8g5pCc5Y2a5Li75paH56ugCiAgICAgICAgICAgIGxldCBzZWFyY2hCbG9nQ29va2llID0gY29uZmlnLmdldCgic2VhcmNoQmxvZyIsIGZhbHNlKTsKICAgICAgICAgICAgaWYoc2VhcmNoQmxvZ0Nvb2tpZSkgewogICAgICAgICAgICAgICAgJCgnI3JlY29tbWVuZC1yaWdodCcpLmFwcGVuZCgkKCcjYXNpZGVTZWFyY2hBcnRpY2xlJykucHJvcCgib3V0ZXJIVE1MIikpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAkKCcjYXNpZGVTZWFyY2hBcnRpY2xlJykuYXR0cigic3R5bGUiLCAibWFyZ2luLXRvcDogOHB4OyB3aWR0aDogMzAwcHg7Iik7CiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAkKCIjc2VhcmNoLWJsb2ctd29yZHMiKQogICAgICAgICAgICAgICAgICAgICAgLCBuID0gJCgiLmJ0bi1zZWFyY2gtYmxvZyIpOwogICAgICAgICAgICAgICAgICAgIGkua2V5dXAoZnVuY3Rpb24odCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHQua2V5Q29kZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDEzID09IG4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gZW5jb2RlVVJJQ29tcG9uZW50KGkudmFsKCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9ICIvL3NvLmNzZG4ubmV0L3NvL3NlYXJjaC9zLmRvP3E9IiArIGUgKyAiJnQ9YmxvZyZ1PSIgKyB1c2VybmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgbi5vbigiY2xpY2siLCBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gZW5jb2RlVVJJQ29tcG9uZW50KGkudmFsKCkpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSAiLy9zby5jc2RuLm5ldC9zby9zZWFyY2gvcy5kbz9xPSIgKyBuICsgIiZ0PWJsb2cmdT0iICsgdXNlcm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihlKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHQucHJldmVudERlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2VhcmNoQmxvZ0Nvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1zZWFyY2hibG9nLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtc2VhcmNoYmxvZy1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUtc2VhcmNoYmxvZy1idXR0b24iLCAic2VhcmNoQmxvZyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSk7CgogICAgICAgICAgICAvLyDmnIDmlrDmlofnq6AKICAgICAgICAgICAgbGV0IG5ld0FydGljbGVDb29raWUgPSBjb25maWcuZ2V0KCJuZXdBcnRpY2xlIiwgZmFsc2UpOwogICAgICAgICAgICBpZiAobmV3QXJ0aWNsZUNvb2tpZSkgewogICAgICAgICAgICAgICAgJCgnI3JlY29tbWVuZC1yaWdodCcpLmFwcGVuZCgkKCcjYXNpZGVOZXdBcnRpY2xlJykucHJvcCgib3V0ZXJIVE1MIikpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAkKCcjYXNpZGVOZXdBcnRpY2xlJykuYXR0cigic3R5bGUiLCAibWFyZ2luLXRvcDogOHB4OyB3aWR0aDogMzAwcHg7Iik7CiAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobmV3QXJ0aWNsZUNvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1uZXdhcnRpY2xlLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtbmV3YXJ0aWNsZS1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUtbmV3YXJ0aWNsZS1idXR0b24iLCAibmV3QXJ0aWNsZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSk7CgogICAgICAgICAgICAvLyDng63pl6jmlofnq6AKICAgICAgICAgICAgbGV0IGhvdEFydGljbGVDb29raWUgPSBjb25maWcuZ2V0KCJob3RBcnRpY2xlIiwgZmFsc2UpOwogICAgICAgICAgICBpZiAoaG90QXJ0aWNsZUNvb2tpZSkgewogICAgICAgICAgICAgICAgJCgnI3JlY29tbWVuZC1yaWdodCcpLmFwcGVuZCgkKCIjYXNpZGVIb3RBcnRpY2xlIikucHJvcCgib3V0ZXJIVE1MIikpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAkKCcjYXNpZGVIb3RBcnRpY2xlJykuYXR0cigic3R5bGUiLCAibWFyZ2luLXRvcDogOHB4OyB3aWR0aDogMzAwcHg7Iik7CiAgICAgICAgICAgICAgICAgICAgJCgnI2FzaWRlSG90QXJ0aWNsZSBpbWcnKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChob3RBcnRpY2xlQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWhvdGFydGljbGUtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1ob3RhcnRpY2xlLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS1ob3RhcnRpY2xlLWJ1dHRvbiIsICJob3RBcnRpY2xlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9KTsKCiAgICAgICAgICAgIC8vIOacgOaWsOivhOiuugogICAgICAgICAgICBsZXQgbmV3Q29tbWVudHNDb29raWUgPSBjb25maWcuZ2V0KCJuZXdDb21tZW50cyIsIGZhbHNlKTsKICAgICAgICAgICAgaWYgKG5ld0NvbW1lbnRzQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCcjcmVjb21tZW5kLXJpZ2h0JykuYXBwZW5kKCQoIiNhc2lkZU5ld0NvbW1lbnRzIikucHJvcCgib3V0ZXJIVE1MIikpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAkKCcjYXNpZGVOZXdDb21tZW50cycpLmF0dHIoInN0eWxlIiwgIm1hcmdpbi10b3A6IDhweDsgd2lkdGg6IDMwMHB4OyIpOwogICAgICAgICAgICAgICAgICAgICQoIi5jb21tZW50LmVsbGlwc2lzIikuYXR0cigic3R5bGUiLCAibWF4LWhlaWdodDogbm9uZTsiKTsKICAgICAgICAgICAgICAgICAgICAkKCIudGl0bGUudGV4dC10cnVuY2F0ZSIpLmF0dHIoInN0eWxlIiwgInBhZGRpbmc6IDAiKTsKICAgICAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChuZXdDb21tZW50c0Nvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1uZXdjb21tZW50cy1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLW5ld2NvbW1lbnRzLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS1uZXdjb21tZW50cy1idXR0b24iLCAibmV3Q29tbWVudHMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwoKICAgICAgICAgICAgLy8g5YiG57G75LiT5qCPCiAgICAgICAgICAgIGxldCBraW5kUGVyc29uQ29va2llID0gY29uZmlnLmdldCgia2luZFBlcnNvbiIsIGZhbHNlKTsKICAgICAgICAgICAgaWYgKCFraW5kUGVyc29uQ29va2llKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICQoJyNhc2lkZUNhdGVnb3J5JykucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgJCgnLmtpbmRfcGVyc29uJykucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoJyNyZWNvbW1lbmQtcmlnaHQnKS5hcHBlbmQoJCgiI2FzaWRlQ2F0ZWdvcnkiKS5wcm9wKCJvdXRlckhUTUwiKSk7CiAgICAgICAgICAgICAgICBpZiAoJCgiI2FzaWRlQ2F0ZWdvcnkiKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnLmtpbmRfcGVyc29uJykucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICQoJy5raW5kX3BlcnNvbicpLmF0dHIoInN0eWxlIiwgIm1hcmdpbi10b3A6IDhweDsgd2lkdGg6IDMwMHB4OyBoZWlnaHQ6MjU1cHg7Iik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICQoJyNhc2lkZUNhdGVnb3J5JykuYXR0cigic3R5bGUiLCAibWFyZ2luLXRvcDogOHB4OyB3aWR0aDogMzAwcHg7IGRpc3BsYXk6YmxvY2sgIWltcG9ydGFudDsiKTsKICAgICAgICAgICAgICAgICAgICAkKCJhLmZsZXhpYmxlLWJ0biIpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJ2Rpdi5hc2lkZS1ib3gnKS5yZW1vdmVDbGFzcygnZmxleGlibGUtYm94Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50cygicC50ZXh0LWNlbnRlciIpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChraW5kUGVyc29uQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWtpbmRwZXJzb24tYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1raW5kcGVyc29uLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS1raW5kcGVyc29uLWJ1dHRvbiIsICJraW5kUGVyc29uIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9KTsKCiAgICAgICAgICAgIC8vIOebruW9lQogICAgICAgICAgICBsZXQgY29udGVudENvb2tpZSA9IGNvbmZpZy5nZXQoImNvbnRlbnQiLCB0cnVlKTsKICAgICAgICAgICAgaWYgKCFjb250ZW50Q29va2llKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICQoJy5hbGlnbi1pdGVtcy1zdHJldGNoLmdyb3VwX2l0ZW0nKS5wYXJlbnQoKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChjb250ZW50Q29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWNvbnRlbnQtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1jb250ZW50LWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS1jb250ZW50LWJ1dHRvbiIsICJjb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9KTsKCiAgICAgICAgICAgIC8vIOaOqOiNkOaWh+eroAogICAgICAgICAgICBsZXQgcmVjb21tZW5kQXJ0aWNsZUNvb2tpZSA9IGNvbmZpZy5nZXQoInJlY29tbWVuZEFydGljbGUiLCBmYWxzZSk7CiAgICAgICAgICAgIGlmICghcmVjb21tZW5kQXJ0aWNsZUNvb2tpZSkgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAkKCcucmVjb21tZW5kLWxpc3QtYm94JykucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnLnJlY29tbWVuZC1saXN0LWJveCcpLmF0dHIoInN0eWxlIiwgIm1hcmdpbi10b3A6IDhweDsgd2lkdGg6IDMwMHB4OyBoZWlnaHQ6MjU1cHg7Iik7CiAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocmVjb21tZW5kQXJ0aWNsZUNvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1yZWNvbW1lbmRhcnRpY2xlLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtcmVjb21tZW5kYXJ0aWNsZS1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUtcmVjb21tZW5kYXJ0aWNsZS1idXR0b24iLCAicmVjb21tZW5kQXJ0aWNsZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSk7CgogICAgICAgICAgICAvLyDlvZLmoaMKICAgICAgICAgICAgbGV0IGFyY2hpdmVDb29raWUgPSBjb25maWcuZ2V0KCJhcmNoaXZlIiwgZmFsc2UpOwogICAgICAgICAgICBpZiAoIWFyY2hpdmVDb29raWUpIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnI2FzaWRlQXJjaGl2ZScpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCcjcmVjb21tZW5kLXJpZ2h0JykuYXBwZW5kKCQoIiNhc2lkZUFyY2hpdmUiKS5wcm9wKCJvdXRlckhUTUwiKSk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICQoJyNhc2lkZUFyY2hpdmUnKS5hdHRyKCJzdHlsZSIsICJtYXJnaW4tdG9wOiA4cHg7IHdpZHRoOiAzMDBweDsgZGlzcGxheTpibG9jayAhaW1wb3J0YW50OyIpOwogICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoYXJjaGl2ZUNvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1hcmNoaXZlLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtYXJjaGl2ZS1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUtYXJjaGl2ZS1idXR0b24iLCAiYXJjaGl2ZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSk7CgogICAgICAgICAgICAvLyDoh6rliqjpnaDlt6blubPpk7oKICAgICAgICAgICAgbGV0IGF1dG9TaXplQ29va2llID0gY29uZmlnLmdldCgiYXV0b1NpemUiLCBmYWxzZSk7CiAgICAgICAgICAgIGlmIChhdXRvU2l6ZUNvb2tpZSkgewogICAgICAgICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIC8vIOaWh+eroOWuveW6puiHqumAguW6lAogICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDExMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Yig6Zmk5Y6f5pyJ5ZON5bqU5byP5qC35byPCiAgICAgICAgICAgICAgICAgICAgICAgICQoIi5tYWluX2ZhdGhlciIpLnJlbW92ZUNsYXNzKCJqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIik7CiAgICAgICAgICAgICAgICAgICAgICAgICQoImFydGljbGUiKS53aWR0aCh3aW5kb3cuaW5uZXJXaWR0aCAtIDE1MCk7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNX2FkZFN0eWxlKGAKICAgICAgICAgICAgICAgICAgICAgICAgbWFpbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBhdXRvIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0OiBub25lIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogOTB2dzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBtYWluIGFydGljbGUgaW1newogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBgKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGlkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlkID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCJhcnRpY2xlIikucmVtb3ZlQXR0cigic3R5bGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoYXV0b1NpemVDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtYXV0b3NpemUtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1hdXRvc2l6ZS1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUtYXV0b3NpemUtYnV0dG9uIiwgImF1dG9TaXplIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9KTsKCiAgICAgICAgICAgIC8vIOiHquWKqOmakOiXj+mhtuagjwogICAgICAgICAgICBsZXQgYXV0b0hpZGVUb29sYmFyQ29va2llID0gY29uZmlnLmdldCgiYXV0b0hpZGVUb29sYmFyIiwgdHJ1ZSk7CiAgICAgICAgICAgIGlmIChhdXRvSGlkZVRvb2xiYXJDb29raWUpIHsKICAgICAgICAgICAgICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPiAxMDApIHsKICAgICAgICAgICAgICAgIAkgICAgbGV0IHNjcm9sbFMgPSAkKHRoaXMpLnNjcm9sbFRvcCgpOwogICAgICAgICAgICAgICAgCSAgICBpZiAoc2Nyb2xsUyA+PSB3aW5kb3dUb3ApIHsKICAgICAgICAgICAgICAgIAkgICAgCSQoJyNjc2RuLXRvb2xiYXInKS5zbGlkZVVwKDEwMCk7CiAgICAgICAgICAgICAgICAJICAgIAl3aW5kb3dUb3AgPSBzY3JvbGxTOwogICAgICAgICAgICAgICAgCSAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgCSAgICAJJCgnI2NzZG4tdG9vbGJhcicpLnNsaWRlRG93bigxMDApOwogICAgICAgICAgICAgICAgCSAgICAJd2luZG93VG9wID0gc2Nyb2xsUzsKICAgICAgICAgICAgICAgIAkgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChhdXRvSGlkZVRvb2xiYXJDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtYXV0b2hpZGV0b29sYmFyLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtYXV0b2hpZGV0b29sYmFyLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS1hdXRvaGlkZXRvb2xiYXItYnV0dG9uIiwgImF1dG9IaWRlVG9vbGJhciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSk7CgogICAgICAgICAgICAvLyDoh6rliqjpmpDol4/lupXmoI8KICAgICAgICAgICAgbGV0IGF1dG9IaWRlQm90dG9tQmFyQ29va2llID0gY29uZmlnLmdldCgiYXV0b0hpZGVCb3R0b21CYXIiLCB0cnVlKTsKICAgICAgICAgICAgaWYgKGF1dG9IaWRlQm90dG9tQmFyQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9vbEJhckJveCAubGVmdC10b29sYm94IikuY3NzKHsKICAgICAgICAgICAgICAgIAlwb3NpdGlvbjogInJlbGF0aXZlIiwKICAgICAgICAgICAgICAgIAlsZWZ0OiAiMHB4IiwKICAgICAgICAgICAgICAgIAlib3R0b206ICIwIiwKICAgICAgICAgICAgICAgIAl3aWR0aDogJCgiI3Rvb2xCYXJCb3giKS53aWR0aCgpICsgInB4IgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgCSQoIiN0b29sQmFyQm94IC5sZWZ0LXRvb2xib3giKS5jc3MoewogICAgICAgICAgICAgICAgCQlwb3NpdGlvbjogInJlbGF0aXZlIiwKICAgICAgICAgICAgICAgIAkJbGVmdDogIjBweCIsCiAgICAgICAgICAgICAgICAJCWJvdHRvbTogIjAiLAogICAgICAgICAgICAgICAgCQl3aWR0aDogJCgiI3Rvb2xCYXJCb3giKS53aWR0aCgpICsgInB4IgogICAgICAgICAgICAgICAgCX0pCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoYXV0b0hpZGVCb3R0b21CYXJDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtYXV0b2hpZGVib3R0b21iYXItYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1hdXRvaGlkZWJvdHRvbWJhci1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUtYXV0b2hpZGVib3R0b21iYXItYnV0dG9uIiwgImF1dG9IaWRlQm90dG9tQmFyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9KTsKCiAgICAgICAgICAgIC8vIOWIm+S9nOS4reW/g+aMiemSrgogICAgICAgICAgICBsZXQgd3JpdGVCbG9nQ29va2llID0gY29uZmlnLmdldCgid3JpdGVCbG9nIiwgdHJ1ZSk7CiAgICAgICAgICAgIGlmICghd3JpdGVCbG9nQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIudG9vbGJhci1idG4td3JpdGUiKS5yZW1vdmUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAod3JpdGVCbG9nQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLXdyaXRlYmxvZy1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLXdyaXRlYmxvZy1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUtd3JpdGVibG9nLWJ1dHRvbiIsICJ3cml0ZUJsb2ciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwoKICAgICAgICAgICAgLy8g5Y+z5L6n5rua5Yqo5p2hCiAgICAgICAgICAgIC8qKiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGxldCByaWdodFNpZGVIZWlnaHQgPSAwOwogICAgICAgICAgICAgICAgbGV0IHBhZ2VIZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7CiAgICAgICAgICAgICAgICByaWdodFNpZGVIZWlnaHQgKz0gZ2V0SGVpZ2h0KCQoJy5hbGlnbi1pdGVtcy1zdHJldGNoLmdyb3VwX2l0ZW0nKS5wYXJlbnQoKSk7CiAgICAgICAgICAgICAgICByaWdodFNpZGVIZWlnaHQgKz0gZ2V0SGVpZ2h0KCQoIiNhc2lkZVByb2ZpbGUiKSk7CiAgICAgICAgICAgICAgICByaWdodFNpZGVIZWlnaHQgKz0gZ2V0SGVpZ2h0KCQoIiNhc2lkZVNlYXJjaEFydGljbGUiKSk7CiAgICAgICAgICAgICAgICByaWdodFNpZGVIZWlnaHQgKz0gZ2V0SGVpZ2h0KCQoIiNhc2lkZU5ld0FydGljbGUiKSk7CiAgICAgICAgICAgICAgICByaWdodFNpZGVIZWlnaHQgKz0gZ2V0SGVpZ2h0KCQoIiNhc2lkZUhvdEFydGljbGUiKSk7CiAgICAgICAgICAgICAgICByaWdodFNpZGVIZWlnaHQgKz0gZ2V0SGVpZ2h0KCQoIiNhc2lkZU5ld0NvbW1lbnRzIikpOwogICAgICAgICAgICAgICAgcmlnaHRTaWRlSGVpZ2h0ICs9IGdldEhlaWdodCgkKCIjYXNpZGVDYXRlZ29yeSIpKTsKICAgICAgICAgICAgICAgIHJpZ2h0U2lkZUhlaWdodCArPSBnZXRIZWlnaHQoJCgiI2FzaWRlQXJjaGl2ZSIpKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoIlJpZ2h0IHNpZGUgdG90YWwgaGVpZ2h0OiAiICsgcmlnaHRTaWRlSGVpZ2h0KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoIlBhZ2UgaGVpZ2h0OiAiICsgcGFnZUhlaWdodCk7CiAgICAgICAgICAgICAgICBpZiAocmlnaHRTaWRlSGVpZ2h0ID4gcGFnZUhlaWdodCkgewogICAgICAgICAgICAgICAgICAgICQoJyNyZWNvbW1lbmQtcmlnaHQnKS5jc3MoIm92ZXJmbG93IiwgInNjcm9sbCIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAxNTAwKTsgKi8KICAgICAgICB9IGVsc2UgaWYgKG51bSA9PT0gNykgewogICAgICAgICAgICAkKCIubWVfciIpWzFdLnJlbW92ZSgpOwogICAgICAgIH0gZWxzZSBpZiAobnVtID09PSA4KSB7CiAgICAgICAgICAgIC8qICQoIi5hcnRpY2xlLWJhci10b3AiKS5hcHBlbmQoIjxicj4iKTsKICAgICAgICAgICAgJCgiLmFydGljbGUtYmFyLXRvcCIpLmFwcGVuZCgkKCIuYXNpZGUtYm94LWZvb3RlckNsYXNzaWZ5IikuY2hpbGRyZW4oImRkIikuaHRtbCgpKTsKICAgICAgICAgICAgJCgiZGwiKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICAgICAgICAgdmFyIGtleSA9ICQodGhpcykuY2hpbGRyZW4oImR0Iik7CiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSAkKHRoaXMpLmNoaWxkcmVuKCJkZCIpLmNoaWxkcmVuKCJzcGFuIik7CiAgICAgICAgICAgICAgICBpZiAoa2V5Lmh0bWwoKS5pbmRleE9mKCLljp/liJsiKSAhPSAtMSkgewogICAgICAgICAgICAgICAgICAgIGtleSA9ICQodGhpcykuY2hpbGRyZW4oImR0IikuY2hpbGRyZW4oImEiKQogICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJCh0aGlzKS5jaGlsZHJlbigiZGQiKS5jaGlsZHJlbigiYSIpLmNoaWxkcmVuKCJzcGFuIik7CiAgICAgICAgICAgICAgICAgICAgYWRkSW5mbyhrZXksIHZhbHVlKTsKICAgICAgICAgICAgICAgIH0gZWxzZQogICAgICAgICAgICAgICAgaWYgKHZhbHVlLmh0bWwoKSAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICBhZGRJbmZvKGtleSwgdmFsdWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ICk7CiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZEluZm8oa2V5LCB2YWx1ZSkgewogICAgICAgICAgICAgICAgdmFyIGJpbmQgPSBrZXkuaHRtbCgpICsgIiZuYnNwOyIgKyB2YWx1ZS5odG1sKCkgKyAiJm5ic3A7Jm5ic3A7IjsKICAgICAgICAgICAgICAgICQoIi5hcnRpY2xlLWJhci10b3AiKS5hcHBlbmQoYmluZCArICIgIik7CiAgICAgICAgICAgIH0gKi8KICAgICAgICAgICAgJCgiLmJsb2dfY29udGFpbmVyX2FzaWRlIikucmVtb3ZlKCk7CgogICAgICAgICAgICAvLyDmoIfpopjmtojmga/mj5DphpLljrvpmaQKICAgICAgICAgICAgbGV0IHRpdGxlID0gZG9jdW1lbnQudGl0bGUucmVwbGFjZSgvXlwoLio/XCkvZywgIiIpOwogICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IHRpdGxlOwogICAgICAgICAgICAvLyDor4TorrrlpI3liLbmjInpkq4KICAgICAgICAgICAgJCgnLmNvbW1lbnQtYm94JykucHJlcGVuZCgnPGJ1dHRvbiBjbGFzcz0iY29tbWVudC1oaWRkZW4tdGV4dCIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+Q09QWSBCVVRUT048L2J1dHRvbj4nKTsKICAgICAgICAgICAgJCgnLm5ldy1vcHQtYm94Lm5ldy1vcHQtYm94LWJnJykucHJlcGVuZCgnPGEgY2xhc3M9ImJ0biBidG4tcmVwb3J0IGJ0bi1jb3B5IiBvbmNsaWNrPSJqYXZhc2NyaXB0OiQoXCcuY29tbWVudC1oaWRkZW4tdGV4dFwnKS5hdHRyKFwnZGF0YS1jbGlwYm9hcmQtdGV4dFwnLCQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcJy5uZXctY29tbWVudFwnKS50ZXh0KCkpIj7lpI3liLbor4Torro8L2E+PHNwYW4gY2xhc3M9ImJ0bi1iYXIiPjwvc3Bhbj4nKTsKICAgICAgICAgICAgJCgnLmJ0bi1jb3B5JykuY2xpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICB2YXIgY2xpcGJvYXJkID0gbmV3IENsaXBib2FyZEpTKCcuY29tbWVudC1oaWRkZW4tdGV4dCcpOwogICAgICAgICAgICAgICAgY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnQWN0aW9uOicsIGUuYWN0aW9uKTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ1RleHQ6JywgZS50ZXh0KTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ1RyaWdnZXI6JywgZS50cmlnZ2VyKTsKICAgICAgICAgICAgICAgICAgICBlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgJCgnLmJ0bi1jb3B5JykuaHRtbCgn5oiQ5YqfJyk7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmJ0bi1jb3B5JykuaHRtbCgn5aSN5Yi26K+E6K66Jyk7CiAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNsaXBib2FyZC5vbignZXJyb3InLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQWN0aW9uOicsIGUuYWN0aW9uKTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdUcmlnZ2VyOicsIGUudHJpZ2dlcik7CiAgICAgICAgICAgICAgICAgICAgJCgnLmJ0bi1jb3B5JykuaHRtbCgn5aSx6LSl77yM6K+35omL5Yqo5aSN5Yi2Jyk7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmJ0bi1jb3B5JykuaHRtbCgn5aSN5Yi26K+E6K66Jyk7CiAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICQoIi5jb21tZW50LWhpZGRlbi10ZXh0IikuY2xpY2soKTsKICAgICAgICAgICAgICAgIGNsaXBib2FyZC5kZXN0cm95KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAobnVtID09PSA5KSB7CiAgICAgICAgICAgIC8vIOWIoOmZpENTRE4gTE9HT+aCrOa1ruWQjueahOS6jOe7tOeggQogICAgICAgICAgICAkKCIudG9vbGJhci1zdWJNZW51ID4gaW1nIikucGFyZW50KCkucmVtb3ZlKCk7CiAgICAgICAgfQogICAgfSwgMTAwKTsKICAgIHByb2dyZXNzb3IuaW5jUHJvZ3Jlc3MoMTApOwp9CgpmdW5jdGlvbiBzaG93VGlwcygpIHsKCXZhciBjb25maWcgPSB7CgkJY29udGVudDogIuasoui/juS9v+eUqCBDU0ROR3JlZW5lcu+8jOe7v+WMluiuvuWumuaMiemSruWcqOi/memHjO+8gTxicj48YSBvbmNsaWNrPSdqYXZhc2NyaXB0OiQoXCIudHJpcHNcIikucmVtb3ZlKCk7Jz7lpb3nmoTvvIzku6XlkI7kuI3lho3mj5DnpLrmiJE8L2E+IiwKCQl0eXBlOiAiaHRtbCIsCgkJYWxpZ25UbzogWyJib3R0b20iLCAicmlnaHQiXSwKCQl0cmlnZ2VyOiAic2hvdyIsCgkJaXNjbG9zZTogZmFsc2UsCgkJY29sb3I6IFsiI0IyRTI4MSIsICIjQjJFMjgxIl0KCX07CgkkKCIjZ3JlZW5lclNldHRpbmdzIikuc2hvd1RpcHMoY29uZmlnKTsKfQoKZnVuY3Rpb24gZ2V0SGVpZ2h0KGVsZW1lbnQpIHsKICAgIGxldCBvdXRlckhlaWdodCA9IGVsZW1lbnQub3V0ZXJIZWlnaHQoKTsKICAgIGlmIChvdXRlckhlaWdodCA9PT0gbnVsbCkgewogICAgICAgIHJldHVybiAwOwogICAgfQogICAgcmV0dXJuIG91dGVySGVpZ2h0Owp9CgpmdW5jdGlvbiBpc0ZpcmVmb3goKSB7CiAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94IikgPiAwOwp9Cgo=","requires":[{"meta":{"name":"jquery.cookie.min.js","url":"https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery-cookie/1.4.1/jquery.cookie.min.js","ts":1657416957534,"mimetype":"text/javascript"},"source":"LyohIGpxdWVyeS5jb29raWUgdjEuNC4xIHwgTUlUICovCiFmdW5jdGlvbihhKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLGEpOiJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9hKHJlcXVpcmUoImpxdWVyeSIpKTphKGpRdWVyeSl9KGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGgucmF3P2E6ZW5jb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGgucmF3P2E6ZGVjb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGIoaC5qc29uP0pTT04uc3RyaW5naWZ5KGEpOlN0cmluZyhhKSl9ZnVuY3Rpb24gZShhKXswPT09YS5pbmRleE9mKCciJykmJihhPWEuc2xpY2UoMSwtMSkucmVwbGFjZSgvXFwiL2csJyInKS5yZXBsYWNlKC9cXFxcL2csIlxcIikpO3RyeXtyZXR1cm4gYT1kZWNvZGVVUklDb21wb25lbnQoYS5yZXBsYWNlKGcsIiAiKSksaC5qc29uP0pTT04ucGFyc2UoYSk6YX1jYXRjaChiKXt9fWZ1bmN0aW9uIGYoYixjKXt2YXIgZD1oLnJhdz9iOmUoYik7cmV0dXJuIGEuaXNGdW5jdGlvbihjKT9jKGQpOmR9dmFyIGc9L1wrL2csaD1hLmNvb2tpZT1mdW5jdGlvbihlLGcsaSl7aWYodm9pZCAwIT09ZyYmIWEuaXNGdW5jdGlvbihnKSl7aWYoaT1hLmV4dGVuZCh7fSxoLmRlZmF1bHRzLGkpLCJudW1iZXIiPT10eXBlb2YgaS5leHBpcmVzKXt2YXIgaj1pLmV4cGlyZXMsaz1pLmV4cGlyZXM9bmV3IERhdGU7ay5zZXRUaW1lKCtrKzg2NGU1KmopfXJldHVybiBkb2N1bWVudC5jb29raWU9W2IoZSksIj0iLGQoZyksaS5leHBpcmVzPyI7IGV4cGlyZXM9IitpLmV4cGlyZXMudG9VVENTdHJpbmcoKToiIixpLnBhdGg/IjsgcGF0aD0iK2kucGF0aDoiIixpLmRvbWFpbj8iOyBkb21haW49IitpLmRvbWFpbjoiIixpLnNlY3VyZT8iOyBzZWN1cmUiOiIiXS5qb2luKCIiKX1mb3IodmFyIGw9ZT92b2lkIDA6e30sbT1kb2N1bWVudC5jb29raWU/ZG9jdW1lbnQuY29va2llLnNwbGl0KCI7ICIpOltdLG49MCxvPW0ubGVuZ3RoO28+bjtuKyspe3ZhciBwPW1bbl0uc3BsaXQoIj0iKSxxPWMocC5zaGlmdCgpKSxyPXAuam9pbigiPSIpO2lmKGUmJmU9PT1xKXtsPWYocixnKTticmVha31lfHx2b2lkIDA9PT0ocj1mKHIpKXx8KGxbcV09cil9cmV0dXJuIGx9O2guZGVmYXVsdHM9e30sYS5yZW1vdmVDb29raWU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gdm9pZCAwPT09YS5jb29raWUoYik/ITE6KGEuY29va2llKGIsIiIsYS5leHRlbmQoe30sYyx7ZXhwaXJlczotMX0pKSwhYS5jb29raWUoYikpfX0pOw=="},{"meta":{"name":"nprogress.min.js","url":"https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/nprogress/0.2.0/nprogress.min.js","ts":1657416957540,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKG4sZSl7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWUoKTpuLk5Qcm9ncmVzcz1lKCl9KHRoaXMsZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4sZSx0KXtyZXR1cm4gZT5uP2U6bj50P3Q6bn1mdW5jdGlvbiBlKG4pe3JldHVybiAxMDAqKC0xK24pfWZ1bmN0aW9uIHQobix0LHIpe3ZhciBpO3JldHVybiBpPSJ0cmFuc2xhdGUzZCI9PT1jLnBvc2l0aW9uVXNpbmc/e3RyYW5zZm9ybToidHJhbnNsYXRlM2QoIitlKG4pKyIlLDAsMCkifToidHJhbnNsYXRlIj09PWMucG9zaXRpb25Vc2luZz97dHJhbnNmb3JtOiJ0cmFuc2xhdGUoIitlKG4pKyIlLDApIn06eyJtYXJnaW4tbGVmdCI6ZShuKSsiJSJ9LGkudHJhbnNpdGlvbj0iYWxsICIrdCsibXMgIityLGl9ZnVuY3Rpb24gcihuLGUpe3ZhciB0PSJzdHJpbmciPT10eXBlb2Ygbj9uOm8obik7cmV0dXJuIHQuaW5kZXhPZigiICIrZSsiICIpPj0wfWZ1bmN0aW9uIGkobixlKXt2YXIgdD1vKG4pLGk9dCtlO3IodCxlKXx8KG4uY2xhc3NOYW1lPWkuc3Vic3RyaW5nKDEpKX1mdW5jdGlvbiBzKG4sZSl7dmFyIHQsaT1vKG4pO3IobixlKSYmKHQ9aS5yZXBsYWNlKCIgIitlKyIgIiwiICIpLG4uY2xhc3NOYW1lPXQuc3Vic3RyaW5nKDEsdC5sZW5ndGgtMSkpfWZ1bmN0aW9uIG8obil7cmV0dXJuKCIgIisobi5jbGFzc05hbWV8fCIiKSsiICIpLnJlcGxhY2UoL1xzKy9naSwiICIpfWZ1bmN0aW9uIGEobil7biYmbi5wYXJlbnROb2RlJiZuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobil9dmFyIHU9e307dS52ZXJzaW9uPSIwLjIuMCI7dmFyIGM9dS5zZXR0aW5ncz17bWluaW11bTouMDgsZWFzaW5nOiJlYXNlIixwb3NpdGlvblVzaW5nOiIiLHNwZWVkOjIwMCx0cmlja2xlOiEwLHRyaWNrbGVSYXRlOi4wMix0cmlja2xlU3BlZWQ6ODAwLHNob3dTcGlubmVyOiEwLGJhclNlbGVjdG9yOidbcm9sZT0iYmFyIl0nLHNwaW5uZXJTZWxlY3RvcjonW3JvbGU9InNwaW5uZXIiXScscGFyZW50OiJib2R5Iix0ZW1wbGF0ZTonPGRpdiBjbGFzcz0iYmFyIiByb2xlPSJiYXIiPjxkaXYgY2xhc3M9InBlZyI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0ic3Bpbm5lciIgcm9sZT0ic3Bpbm5lciI+PGRpdiBjbGFzcz0ic3Bpbm5lci1pY29uIj48L2Rpdj48L2Rpdj4nfTt1LmNvbmZpZ3VyZT1mdW5jdGlvbihuKXt2YXIgZSx0O2ZvcihlIGluIG4pdD1uW2VdLHZvaWQgMCE9PXQmJm4uaGFzT3duUHJvcGVydHkoZSkmJihjW2VdPXQpO3JldHVybiB0aGlzfSx1LnN0YXR1cz1udWxsLHUuc2V0PWZ1bmN0aW9uKGUpe3ZhciByPXUuaXNTdGFydGVkKCk7ZT1uKGUsYy5taW5pbXVtLDEpLHUuc3RhdHVzPTE9PT1lP251bGw6ZTt2YXIgaT11LnJlbmRlcighcikscz1pLnF1ZXJ5U2VsZWN0b3IoYy5iYXJTZWxlY3Rvciksbz1jLnNwZWVkLGE9Yy5lYXNpbmc7cmV0dXJuIGkub2Zmc2V0V2lkdGgsbChmdW5jdGlvbihuKXsiIj09PWMucG9zaXRpb25Vc2luZyYmKGMucG9zaXRpb25Vc2luZz11LmdldFBvc2l0aW9uaW5nQ1NTKCkpLGYocyx0KGUsbyxhKSksMT09PWU/KGYoaSx7dHJhbnNpdGlvbjoibm9uZSIsb3BhY2l0eToxfSksaS5vZmZzZXRXaWR0aCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZihpLHt0cmFuc2l0aW9uOiJhbGwgIitvKyJtcyBsaW5lYXIiLG9wYWNpdHk6MH0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt1LnJlbW92ZSgpLG4oKX0sbyl9LG8pKTpzZXRUaW1lb3V0KG4sbyl9KSx0aGlzfSx1LmlzU3RhcnRlZD1mdW5jdGlvbigpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdS5zdGF0dXN9LHUuc3RhcnQ9ZnVuY3Rpb24oKXt1LnN0YXR1c3x8dS5zZXQoMCk7dmFyIG49ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dS5zdGF0dXMmJih1LnRyaWNrbGUoKSxuKCkpfSxjLnRyaWNrbGVTcGVlZCl9O3JldHVybiBjLnRyaWNrbGUmJm4oKSx0aGlzfSx1LmRvbmU9ZnVuY3Rpb24obil7cmV0dXJuIG58fHUuc3RhdHVzP3UuaW5jKC4zKy41Kk1hdGgucmFuZG9tKCkpLnNldCgxKTp0aGlzfSx1LmluYz1mdW5jdGlvbihlKXt2YXIgdD11LnN0YXR1cztyZXR1cm4gdD8oIm51bWJlciIhPXR5cGVvZiBlJiYoZT0oMS10KSpuKE1hdGgucmFuZG9tKCkqdCwuMSwuOTUpKSx0PW4odCtlLDAsLjk5NCksdS5zZXQodCkpOnUuc3RhcnQoKX0sdS50cmlja2xlPWZ1bmN0aW9uKCl7cmV0dXJuIHUuaW5jKE1hdGgucmFuZG9tKCkqYy50cmlja2xlUmF0ZSl9LGZ1bmN0aW9uKCl7dmFyIG49MCxlPTA7dS5wcm9taXNlPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYicmVzb2x2ZWQiIT09dC5zdGF0ZSgpPygwPT09ZSYmdS5zdGFydCgpLG4rKyxlKyssdC5hbHdheXMoZnVuY3Rpb24oKXtlLS0sMD09PWU/KG49MCx1LmRvbmUoKSk6dS5zZXQoKG4tZSkvbil9KSx0aGlzKTp0aGlzfX0oKSx1LnJlbmRlcj1mdW5jdGlvbihuKXtpZih1LmlzUmVuZGVyZWQoKSlyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5wcm9ncmVzcyIpO2koZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCJucHJvZ3Jlc3MtYnVzeSIpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3QuaWQ9Im5wcm9ncmVzcyIsdC5pbm5lckhUTUw9Yy50ZW1wbGF0ZTt2YXIgcixzPXQucXVlcnlTZWxlY3RvcihjLmJhclNlbGVjdG9yKSxvPW4/Ii0xMDAiOmUodS5zdGF0dXN8fDApLGw9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjLnBhcmVudCk7cmV0dXJuIGYocyx7dHJhbnNpdGlvbjoiYWxsIDAgbGluZWFyIix0cmFuc2Zvcm06InRyYW5zbGF0ZTNkKCIrbysiJSwwLDApIn0pLGMuc2hvd1NwaW5uZXJ8fChyPXQucXVlcnlTZWxlY3RvcihjLnNwaW5uZXJTZWxlY3RvciksciYmYShyKSksbCE9ZG9jdW1lbnQuYm9keSYmaShsLCJucHJvZ3Jlc3MtY3VzdG9tLXBhcmVudCIpLGwuYXBwZW5kQ2hpbGQodCksdH0sdS5yZW1vdmU9ZnVuY3Rpb24oKXtzKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwibnByb2dyZXNzLWJ1c3kiKSxzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYy5wYXJlbnQpLCJucHJvZ3Jlc3MtY3VzdG9tLXBhcmVudCIpO3ZhciBuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJucHJvZ3Jlc3MiKTtuJiZhKG4pfSx1LmlzUmVuZGVyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJucHJvZ3Jlc3MiKX0sdS5nZXRQb3NpdGlvbmluZ0NTUz1mdW5jdGlvbigpe3ZhciBuPWRvY3VtZW50LmJvZHkuc3R5bGUsZT0iV2Via2l0VHJhbnNmb3JtImluIG4/IldlYmtpdCI6Ik1velRyYW5zZm9ybSJpbiBuPyJNb3oiOiJtc1RyYW5zZm9ybSJpbiBuPyJtcyI6Ik9UcmFuc2Zvcm0iaW4gbj8iTyI6IiI7cmV0dXJuIGUrIlBlcnNwZWN0aXZlImluIG4/InRyYW5zbGF0ZTNkIjplKyJUcmFuc2Zvcm0iaW4gbj8idHJhbnNsYXRlIjoibWFyZ2luIn07dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dmFyIHQ9ZS5zaGlmdCgpO3QmJnQobil9dmFyIGU9W107cmV0dXJuIGZ1bmN0aW9uKHQpe2UucHVzaCh0KSwxPT1lLmxlbmd0aCYmbigpfX0oKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXtyZXR1cm4gbi5yZXBsYWNlKC9eLW1zLS8sIm1zLSIpLnJlcGxhY2UoLy0oW1xkYS16XSkvZ2ksZnVuY3Rpb24obixlKXtyZXR1cm4gZS50b1VwcGVyQ2FzZSgpfSl9ZnVuY3Rpb24gZShuKXt2YXIgZT1kb2N1bWVudC5ib2R5LnN0eWxlO2lmKG4gaW4gZSlyZXR1cm4gbjtmb3IodmFyIHQscj1pLmxlbmd0aCxzPW4uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKTtyLS07KWlmKHQ9aVtyXStzLHQgaW4gZSlyZXR1cm4gdDtyZXR1cm4gbn1mdW5jdGlvbiB0KHQpe3JldHVybiB0PW4odCksc1t0XXx8KHNbdF09ZSh0KSl9ZnVuY3Rpb24gcihuLGUscil7ZT10KGUpLG4uc3R5bGVbZV09cn12YXIgaT1bIldlYmtpdCIsIk8iLCJNb3oiLCJtcyJdLHM9e307cmV0dXJuIGZ1bmN0aW9uKG4sZSl7dmFyIHQsaSxzPWFyZ3VtZW50cztpZigyPT1zLmxlbmd0aClmb3IodCBpbiBlKWk9ZVt0XSx2b2lkIDAhPT1pJiZlLmhhc093blByb3BlcnR5KHQpJiZyKG4sdCxpKTtlbHNlIHIobixzWzFdLHNbMl0pfX0oKTtyZXR1cm4gdX0pOw=="},{"meta":{"name":"clipboard.min.js","url":"https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/clipboard.js/2.0.10/clipboard.min.js","ts":1657416957500,"mimetype":"text/javascript"},"source":"LyohCiAqIGNsaXBib2FyZC5qcyB2Mi4wLjEwCiAqIGh0dHBzOi8vY2xpcGJvYXJkanMuY29tLwogKgogKiBMaWNlbnNlZCBNSVQgwqkgWmVubyBSb2NoYQogKi8KIWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuQ2xpcGJvYXJkSlM9ZSgpOnQuQ2xpcGJvYXJkSlM9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIG49ezY4NjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLHtkZWZhdWx0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSk7dmFyIGU9bigyNzkpLGk9bi5uKGUpLGU9bigzNzApLHU9bi5uKGUpLGU9big4MTcpLGM9bi5uKGUpO2Z1bmN0aW9uIGEodCl7dHJ5e3JldHVybiBkb2N1bWVudC5leGVjQ29tbWFuZCh0KX1jYXRjaCh0KXtyZXR1cm59fXZhciBmPWZ1bmN0aW9uKHQpe3Q9YygpKHQpO3JldHVybiBhKCJjdXQiKSx0fTt2YXIgbD1mdW5jdGlvbih0KXt2YXIgZSxuLG8scj0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e2NvbnRhaW5lcjpkb2N1bWVudC5ib2R5fSxpPSIiO3JldHVybiJzdHJpbmciPT10eXBlb2YgdD8oZT10LG49InJ0bCI9PT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCJkaXIiKSwobz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpKS5zdHlsZS5mb250U2l6ZT0iMTJwdCIsby5zdHlsZS5ib3JkZXI9IjAiLG8uc3R5bGUucGFkZGluZz0iMCIsby5zdHlsZS5tYXJnaW49IjAiLG8uc3R5bGUucG9zaXRpb249ImFic29sdXRlIixvLnN0eWxlW24/InJpZ2h0IjoibGVmdCJdPSItOTk5OXB4IixuPXdpbmRvdy5wYWdlWU9mZnNldHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCxvLnN0eWxlLnRvcD0iIi5jb25jYXQobiwicHgiKSxvLnNldEF0dHJpYnV0ZSgicmVhZG9ubHkiLCIiKSxvLnZhbHVlPWUsbz1vLHIuY29udGFpbmVyLmFwcGVuZENoaWxkKG8pLGk9YygpKG8pLGEoImNvcHkiKSxvLnJlbW92ZSgpKTooaT1jKCkodCksYSgiY29weSIpKSxpfTtmdW5jdGlvbiByKHQpe3JldHVybihyPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiB0fSkodCl9dmFyIHM9ZnVuY3Rpb24oKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmFjdGlvbixuPXZvaWQgMD09PWU/ImNvcHkiOmUsbz10LmNvbnRhaW5lcixlPXQudGFyZ2V0LHQ9dC50ZXh0O2lmKCJjb3B5IiE9PW4mJiJjdXQiIT09bil0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgImFjdGlvbiIgdmFsdWUsIHVzZSBlaXRoZXIgImNvcHkiIG9yICJjdXQiJyk7aWYodm9pZCAwIT09ZSl7aWYoIWV8fCJvYmplY3QiIT09cihlKXx8MSE9PWUubm9kZVR5cGUpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJ0YXJnZXQiIHZhbHVlLCB1c2UgYSB2YWxpZCBFbGVtZW50Jyk7aWYoImNvcHkiPT09biYmZS5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJ0YXJnZXQiIGF0dHJpYnV0ZS4gUGxlYXNlIHVzZSAicmVhZG9ubHkiIGluc3RlYWQgb2YgImRpc2FibGVkIiBhdHRyaWJ1dGUnKTtpZigiY3V0Ij09PW4mJihlLmhhc0F0dHJpYnV0ZSgicmVhZG9ubHkiKXx8ZS5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikpKXRocm93IG5ldyBFcnJvcignSW52YWxpZCAidGFyZ2V0IiBhdHRyaWJ1dGUuIFlvdSBjYW5cJ3QgY3V0IHRleHQgZnJvbSBlbGVtZW50cyB3aXRoICJyZWFkb25seSIgb3IgImRpc2FibGVkIiBhdHRyaWJ1dGVzJyl9cmV0dXJuIHQ/bCh0LHtjb250YWluZXI6b30pOmU/ImN1dCI9PT1uP2YoZSk6bChlLHtjb250YWluZXI6b30pOnZvaWQgMH07ZnVuY3Rpb24gcCh0KXtyZXR1cm4ocD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH0pKHQpfWZ1bmN0aW9uIGQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIG89ZVtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1mdW5jdGlvbiB5KHQsZSl7cmV0dXJuKHk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9KSh0LGUpfWZ1bmN0aW9uIGgobil7dmFyIG89ZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSxmdW5jdGlvbigpe30pKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQsZT1tKG4pO3JldHVybiB0PW8/KHQ9bSh0aGlzKS5jb25zdHJ1Y3RvcixSZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyx0KSk6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksZT10aGlzLCEodD10KXx8Im9iamVjdCIhPT1wKHQpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9mdW5jdGlvbih0KXtpZih2b2lkIDAhPT10KXJldHVybiB0O3Rocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIil9KGUpOnR9fWZ1bmN0aW9uIG0odCl7cmV0dXJuKG09T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0pKHQpfWZ1bmN0aW9uIHYodCxlKXt0PSJkYXRhLWNsaXBib2FyZC0iLmNvbmNhdCh0KTtpZihlLmhhc0F0dHJpYnV0ZSh0KSlyZXR1cm4gZS5nZXRBdHRyaWJ1dGUodCl9dmFyIG89ZnVuY3Rpb24oKXshZnVuY3Rpb24odCxlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmeSh0LGUpfShyLGkoKSk7dmFyIHQsZSxuLG89aChyKTtmdW5jdGlvbiByKHQsZSl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSh0aGlzKSwobj1vLmNhbGwodGhpcykpLnJlc29sdmVPcHRpb25zKGUpLG4ubGlzdGVuQ2xpY2sodCksbn1yZXR1cm4gdD1yLG49W3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7Y29udGFpbmVyOmRvY3VtZW50LmJvZHl9O3JldHVybiBsKHQsZSl9fSx7a2V5OiJjdXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBmKHQpfX0se2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlsiY29weSIsImN1dCJdLHQ9InN0cmluZyI9PXR5cGVvZiB0P1t0XTp0LGU9ISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQ7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtlPWUmJiEhZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkKHQpfSksZX19XSwoZT1be2tleToicmVzb2x2ZU9wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3RoaXMuYWN0aW9uPSJmdW5jdGlvbiI9PXR5cGVvZiB0LmFjdGlvbj90LmFjdGlvbjp0aGlzLmRlZmF1bHRBY3Rpb24sdGhpcy50YXJnZXQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQudGFyZ2V0P3QudGFyZ2V0OnRoaXMuZGVmYXVsdFRhcmdldCx0aGlzLnRleHQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQudGV4dD90LnRleHQ6dGhpcy5kZWZhdWx0VGV4dCx0aGlzLmNvbnRhaW5lcj0ib2JqZWN0Ij09PXAodC5jb250YWluZXIpP3QuY29udGFpbmVyOmRvY3VtZW50LmJvZHl9fSx7a2V5OiJsaXN0ZW5DbGljayIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLmxpc3RlbmVyPXUoKSh0LCJjbGljayIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25DbGljayh0KX0pfX0se2tleToib25DbGljayIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5kZWxlZ2F0ZVRhcmdldHx8dC5jdXJyZW50VGFyZ2V0LG49dGhpcy5hY3Rpb24oZSl8fCJjb3B5Iix0PXMoe2FjdGlvbjpuLGNvbnRhaW5lcjp0aGlzLmNvbnRhaW5lcix0YXJnZXQ6dGhpcy50YXJnZXQoZSksdGV4dDp0aGlzLnRleHQoZSl9KTt0aGlzLmVtaXQodD8ic3VjY2VzcyI6ImVycm9yIix7YWN0aW9uOm4sdGV4dDp0LHRyaWdnZXI6ZSxjbGVhclNlbGVjdGlvbjpmdW5jdGlvbigpe2UmJmUuZm9jdXMoKSxkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKSx3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCl9fSl9fSx7a2V5OiJkZWZhdWx0QWN0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdigiYWN0aW9uIix0KX19LHtrZXk6ImRlZmF1bHRUYXJnZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q9digidGFyZ2V0Iix0KTtpZih0KXJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpfX0se2tleToiZGVmYXVsdFRleHQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB2KCJ0ZXh0Iix0KX19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5saXN0ZW5lci5kZXN0cm95KCl9fV0pJiZkKHQucHJvdG90eXBlLGUpLG4mJmQodCxuKSxyfSgpfSw4Mjg6ZnVuY3Rpb24odCl7dmFyIGU7InVuZGVmaW5lZCI9PXR5cGVvZiBFbGVtZW50fHxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzfHwoKGU9RWxlbWVudC5wcm90b3R5cGUpLm1hdGNoZXM9ZS5tYXRjaGVzU2VsZWN0b3J8fGUubW96TWF0Y2hlc1NlbGVjdG9yfHxlLm1zTWF0Y2hlc1NlbGVjdG9yfHxlLm9NYXRjaGVzU2VsZWN0b3J8fGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yKSx0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmb3IoO3QmJjkhPT10Lm5vZGVUeXBlOyl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQubWF0Y2hlcyYmdC5tYXRjaGVzKGUpKXJldHVybiB0O3Q9dC5wYXJlbnROb2RlfX19LDQzODpmdW5jdGlvbih0LGUsbil7dmFyIHU9big4MjgpO2Z1bmN0aW9uIGkodCxlLG4sbyxyKXt2YXIgaT1mdW5jdGlvbihlLG4sdCxvKXtyZXR1cm4gZnVuY3Rpb24odCl7dC5kZWxlZ2F0ZVRhcmdldD11KHQudGFyZ2V0LG4pLHQuZGVsZWdhdGVUYXJnZXQmJm8uY2FsbChlLHQpfX0uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIobixpLHIpLHtkZXN0cm95OmZ1bmN0aW9uKCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKG4saSxyKX19fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixvLHIpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0LmFkZEV2ZW50TGlzdGVuZXI/aS5hcHBseShudWxsLGFyZ3VtZW50cyk6ImZ1bmN0aW9uIj09dHlwZW9mIG4/aS5iaW5kKG51bGwsZG9jdW1lbnQpLmFwcGx5KG51bGwsYXJndW1lbnRzKTooInN0cmluZyI9PXR5cGVvZiB0JiYodD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHQpKSxBcnJheS5wcm90b3R5cGUubWFwLmNhbGwodCxmdW5jdGlvbih0KXtyZXR1cm4gaSh0LGUsbixvLHIpfSkpfX0sODc5OmZ1bmN0aW9uKHQsbil7bi5ub2RlPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiZ0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQmJjE9PT10Lm5vZGVUeXBlfSxuLm5vZGVMaXN0PWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KTtyZXR1cm4gdm9pZCAwIT09dCYmKCJbb2JqZWN0IE5vZGVMaXN0XSI9PT1lfHwiW29iamVjdCBIVE1MQ29sbGVjdGlvbl0iPT09ZSkmJiJsZW5ndGgiaW4gdCYmKDA9PT10Lmxlbmd0aHx8bi5ub2RlKHRbMF0pKX0sbi5zdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgU3RyaW5nfSxuLmZuPWZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEZ1bmN0aW9uXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9fSwzNzA6ZnVuY3Rpb24odCxlLG4pe3ZhciBmPW4oODc5KSxsPW4oNDM4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKCF0JiYhZSYmIW4pdGhyb3cgbmV3IEVycm9yKCJNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50cyIpO2lmKCFmLnN0cmluZyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJTZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhIFN0cmluZyIpO2lmKCFmLmZuKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoaXJkIGFyZ3VtZW50IG11c3QgYmUgYSBGdW5jdGlvbiIpO2lmKGYubm9kZSh0KSlyZXR1cm4gYz1lLGE9biwodT10KS5hZGRFdmVudExpc3RlbmVyKGMsYSkse2Rlc3Ryb3k6ZnVuY3Rpb24oKXt1LnJlbW92ZUV2ZW50TGlzdGVuZXIoYyxhKX19O2lmKGYubm9kZUxpc3QodCkpcmV0dXJuIG89dCxyPWUsaT1uLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobyxmdW5jdGlvbih0KXt0LmFkZEV2ZW50TGlzdGVuZXIocixpKX0pLHtkZXN0cm95OmZ1bmN0aW9uKCl7QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChvLGZ1bmN0aW9uKHQpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLGkpfSl9fTtpZihmLnN0cmluZyh0KSlyZXR1cm4gdD10LGU9ZSxuPW4sbChkb2N1bWVudC5ib2R5LHQsZSxuKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nLCBIVE1MRWxlbWVudCwgSFRNTENvbGxlY3Rpb24sIG9yIE5vZGVMaXN0Iik7dmFyIG8scixpLHUsYyxhfX0sODE3OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuPSJTRUxFQ1QiPT09dC5ub2RlTmFtZT8odC5mb2N1cygpLHQudmFsdWUpOiJJTlBVVCI9PT10Lm5vZGVOYW1lfHwiVEVYVEFSRUEiPT09dC5ub2RlTmFtZT8oKGU9dC5oYXNBdHRyaWJ1dGUoInJlYWRvbmx5IikpfHx0LnNldEF0dHJpYnV0ZSgicmVhZG9ubHkiLCIiKSx0LnNlbGVjdCgpLHQuc2V0U2VsZWN0aW9uUmFuZ2UoMCx0LnZhbHVlLmxlbmd0aCksZXx8dC5yZW1vdmVBdHRyaWJ1dGUoInJlYWRvbmx5IiksdC52YWx1ZSk6KHQuaGFzQXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKSYmdC5mb2N1cygpLG49d2luZG93LmdldFNlbGVjdGlvbigpLChlPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNlbGVjdE5vZGVDb250ZW50cyh0KSxuLnJlbW92ZUFsbFJhbmdlcygpLG4uYWRkUmFuZ2UoZSksbi50b1N0cmluZygpKTtyZXR1cm4gbn19LDI3OTpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7fWUucHJvdG90eXBlPXtvbjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcy5lfHwodGhpcy5lPXt9KTtyZXR1cm4ob1t0XXx8KG9bdF09W10pKS5wdXNoKHtmbjplLGN0eDpufSksdGhpc30sb25jZTpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcztmdW5jdGlvbiByKCl7by5vZmYodCxyKSxlLmFwcGx5KG4sYXJndW1lbnRzKX1yZXR1cm4gci5fPWUsdGhpcy5vbih0LHIsbil9LGVtaXQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG49KCh0aGlzLmV8fCh0aGlzLmU9e30pKVt0XXx8W10pLnNsaWNlKCksbz0wLHI9bi5sZW5ndGg7bzxyO28rKyluW29dLmZuLmFwcGx5KG5bb10uY3R4LGUpO3JldHVybiB0aGlzfSxvZmY6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmV8fCh0aGlzLmU9e30pLG89blt0XSxyPVtdO2lmKG8mJmUpZm9yKHZhciBpPTAsdT1vLmxlbmd0aDtpPHU7aSsrKW9baV0uZm4hPT1lJiZvW2ldLmZuLl8hPT1lJiZyLnB1c2gob1tpXSk7cmV0dXJuIHIubGVuZ3RoP25bdF09cjpkZWxldGUgblt0XSx0aGlzfX0sdC5leHBvcnRzPWUsdC5leHBvcnRzLlRpbnlFbWl0dGVyPWV9fSxyPXt9LG8ubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gby5kKGUse2E6ZX0pLGV9LG8uZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKW8ubyhlLG4pJiYhby5vKHQsbikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se2VudW1lcmFibGU6ITAsZ2V0OmVbbl19KX0sby5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxvKDY4NikuZGVmYXVsdDtmdW5jdGlvbiBvKHQpe2lmKHJbdF0pcmV0dXJuIHJbdF0uZXhwb3J0czt2YXIgZT1yW3RdPXtleHBvcnRzOnt9fTtyZXR1cm4gblt0XShlLGUuZXhwb3J0cyxvKSxlLmV4cG9ydHN9dmFyIG4scn0pOw=="}]},{"name":"Spotify Web - Copy track info to clipboard","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["https://open.spotify.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1657808098365,"data":{}},"enabled":true,"position":16,"file_url":"https://greasyfork.org/scripts/36788-spotify-web-copy-track-info-to-clipboard/code/Spotify%20Web%20-%20Copy%20track%20info%20to%20clipboard.user.js","uuid":"f82e9842-e8c3-4d7e-8dd1-7c3ba3f8c203","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgICAgIFNwb3RpZnkgV2ViIC0gQ29weSB0cmFjayBpbmZvIHRvIGNsaXBib2FyZAovLyBAbmFtZTplcyAgICAgICAgICAgICAgU3BvdGlmeSBXZWIgLSBDb3BpYXIgaW5mbyBkZSBsYSBjYW5jacOzbgovLyBAbmFtZTpwdCAgICAgICAgICAgICAgU3BvdGlmeSBXZWIgLSBDb3BpYXIgaW5mbyBkYSBjYW5jacOzbgovLyBAbmFtZTppdCAgICAgICAgICAgICAgU3BvdGlmeSBXZWIgLSBDb3BpYSBsJ2luZm9ybWF6aW9uZSBzdWwgYnJhbm8KLy8gQG5hbWU6ZnIgICAgICAgICAgICAgIFNwb3RpZnkgV2ViIC0gQ29waWVyIGxlcyBpbmZvcm1hdGlvbnMgZGUgdGl0cmUKLy8gQG5hbWU6emgtVFcgICAgICAgICAgIFNwb3RpZnkgV2ViIC0g6KSH6KO95q2M5puy5L+h5oGvCi8vIEBuYW1lOnpoLUNOICAgICAgICAgICBTcG90aWZ5IFdlYiAtIOWkjeWItuatjOabsuS/oeaBrwovLyBAbmFtZTp6aCAgICAgICAgICAgICAgU3BvdGlmeSBXZWIgLSDlpI3liLbmrYzmm7Lkv6Hmga8KLy8gQG5hbWU6YXIgICAgICAgICAgICAgIFNwb3RpZnkgV2ViIC0g2KfZhtiz2K4g2YXYudmE2YjZhdin2Kog2KfZhNij2LrZhtmK2KkKLy8gQG5hbWU6aXcgICAgICAgICAgICAgIFNwb3RpZnkgV2ViIC0g15TXoteq16fXqiDXnteZ15PXoiDXlNep15nXqAovLyBAbmFtZTpydSAgICAgICAgICAgICAgU3BvdGlmeSBXZWIgLSDQmtC+0L/QuNGA0L7QstCw0YLRjCDQtNCw0L3QvdGL0LUg0YLRgNC10LrQsAovLyBAbmFtZTppZCAgICAgICAgICAgICAgU3BvdGlmeSBXZWIgLSBTYWxpbiBJbmZvcm1hc2kgTGFndQovLyBAbmFtZTptcyAgICAgICAgICAgICAgU3BvdGlmeSBXZWIgLSBTYWxpbiBNYWtsdW1hdCBMYWd1Ci8vIEBuYW1lOmRlICAgICAgICAgICAgICBTcG90aWZ5IFdlYiAtIFNvbmdpbmZvcm1hdGlvbiBrb3BpZXJlbgovLyBAbmFtZTpqYSAgICAgICAgICAgICAgU3BvdGlmeSBXZWIgLSDmm7Lmg4XloLHjgpLjgrPjg5Tjg7wKLy8gQG5hbWU6cGwgICAgICAgICAgICAgIFNwb3RpZnkgV2ViIC0gU2tvcGl1aiBpbmZvcm1hY2plIG8gdXR3b3J6ZQovLyBAbmFtZTpjcyAgICAgICAgICAgICAgU3BvdGlmeSBXZWIgLSBLb3DDrXJvdmF0IGluZm9ybWFjZSBvIHNrbGFkYsSbCi8vIEBuYW1lOmVsICAgICAgICAgICAgICBTcG90aWZ5IFdlYiAtIM6Rzr3PhM65zrPPgc6xz4bOriDPgM67zrfPgc6/z4bOv8+BzrnPjs69IM+Ez4HOsc6zzr/Phc60zrnOv8+NCi8vIEBuYW1lOmh1ICAgICAgICAgICAgICBTcG90aWZ5IFdlYiAtIERhbCBhZGF0IG3DoXNvbMOhc2EKLy8gQG5hbWU6dHIgICAgICAgICAgICAgIFNwb3RpZnkgV2ViIC0gxZ5hcmvEsSBCaWxnaWxlcmluaSBLb3B5YWxhCi8vIEBuYW1lOnRoICAgICAgICAgICAgICBTcG90aWZ5IFdlYiAtIOC4hOC4seC4lOC4peC4reC4geC4guC5ieC4reC4oeC4ueC4peC5gOC4nuC4peC4hwovLyBAbmFtZTp2aSAgICAgICAgICAgICAgU3BvdGlmeSBXZWIgLSBTYW8gY2jDqXAgVGjDtG5nIHRpbiBCw6BpIGjDoXQKLy8gQG5hbWU6c3YgICAgICAgICAgICAgIFNwb3RpZnkgV2ViIC0gS29waWVyYSBzw6VuZ2luZm9lbgovLyBAbmFtZTpubCAgICAgICAgICAgICAgU3BvdGlmeSBXZWIgLSBJbmZvIHZhbiBudW1tZXIga29wacOrcmVuCi8vIEBkZXNjcmlwdGlvbiAgICAgICAgICBBZGRzIGFuIGVudHJ5IGluIHRoZSBjb250ZXh0IG1lbnUgdGhhdCBjb3BpZXMgdGhlIHNlbGVjdGVkIHNvbmcgbmFtZSBhbmQgYXJ0aXN0IHRvIHRoZSBjbGlwYm9hcmQKLy8gQGRlc2NyaXB0aW9uOmVzICAgICAgIEFncmVnYSB1bmEgZW50cmFkYSBlbiBlbCBtZW7DuiBjb250ZXh0dWFsIHF1ZSBjb3BpYSBlbCBub21icmUgZGUgbGEgY2FuY2nDs24geSBlbCBhcnRpc3RhIHNlbGVjY2lvbmFkb3MgYWwgcG9ydGFwYXBlbGVzCi8vIEBkZXNjcmlwdGlvbjpwdCAgICAgICBBZGljaW9uYSB1bWEgZW50cmFkYSBubyBtZW51IGRlIGNvbnRleHRvIHF1ZSBjb3BpYSBvIG5vbWUgZGEgbcO6c2ljYSBzZWxlY2lvbmFkYSBlIG8gYXJ0aXN0YSBwYXJhIGEgw6FyZWEgZGUgdHJhbnNmZXLDqm5jaWEKLy8gQGRlc2NyaXB0aW9uOml0ICAgICAgIEFnZ2l1bmdlIHVuYSB2b2NlIG5lbCBtZW51IGNvbnRlc3R1YWxlIGNoZSBjb3BpYSBpbCBub21lIGRlbCBicmFubyBlIGwnYXJ0aXN0YSBzZWxlemlvbmF0aSBuZWdsaSBhcHB1bnRpCi8vIEBkZXNjcmlwdGlvbjpmciAgICAgICBBam91dGUgdW5lIGVudHLDqWUgZGFucyBsZSBtZW51IGNvbnRleHR1ZWwgcXVpIGNvcGllIGxlIG5vbSBkZSBsYSBjaGFuc29uIGV0IGwnYXJ0aXN0ZSBzw6lsZWN0aW9ubsOpcyBkYW5zIGxlIHByZXNzZS1wYXBpZXJzCi8vIEBkZXNjcmlwdGlvbjp6aC1UVyAgICDlnKjkuIrkuIvmlofoj5zllq7kuK3mt7vliqDkuIDlgIvmop3nm67vvIzoqbLmop3nm67lsIfpgbjlrprnmoTmrYzmm7LlkI3nqLHlkozmrYzmiYvopIfoo73liLDliarosrzmnb8KLy8gQGRlc2NyaXB0aW9uOnpoLUNOICAgIOWcqOS4iuS4i+aWh+iPnOWNleS4rea3u+WKoOS4gOS4quadoeebru+8jOWwhumAieWumueahOatjOabsuWQjeensOWSjOatjOaJi+WkjeWItuWIsOWJqui0tOadvwovLyBAZGVzY3JpcHRpb246emggICAgICAg5Zyo5LiK5LiL5paH6I+c5Y2V5Lit5re75Yqg5LiA5Liq5p2h55uu77yM5bCG6YCJ5a6a55qE5q2M5puy5ZCN56ew5ZKM5q2M5omL5aSN5Yi25Yiw5Ymq6LS05p2/Ci8vIEBkZXNjcmlwdGlvbjphciAgICAgICDYo9i22YEg2KXYr9iu2KfZhNin2Ysg2YHZiiDZgtin2KbZhdipINin2YTYs9mK2KfZgiDZitmG2LPYriDYp9iz2YUg2KfZhNij2LrZhtmK2Kkg2YjYp9mE2YHZhtin2YYg2KfZhNmF2K3Yr9ivINil2YTZiSDYp9mE2K3Yp9mB2LjYqQovLyBAZGVzY3JpcHRpb246aXcgICAgICAg15TXldeh16Mg16LXqNeaINeR16rXpNeo15nXmCDXlNeU16fXqdeoINep157Xoteq15nXpyDXnNec15XXlyDXlNec15XXlyDXkNeqINep150g15TXqdeZ16gg15XXlNeQ157XnyDXqdeg15HXl9eo15UKLy8gQGRlc2NyaXB0aW9uOnJ1ICAgICAgINCU0L7QsdCw0LLQuNGC0Ywg0L/Rg9C90LrRgiDQutC+0L3RgtC10LrRgdGC0L3QvtCz0L4g0LzQtdC90Y4sINC60L7Qv9C40YDRg9GO0YnQuNC5INC40LzRjyDQstGL0LHRgNCw0L3QvdC+0Lkg0L/QtdGB0L3QuCDQuCDQuNGB0L/QvtC70L3QuNGC0LXQu9GPINCyINCx0YPRhNC10YAg0L7QsdC80LXQvdCwLgovLyBAZGVzY3JpcHRpb246aWQgICAgICAgVGFtYmFoa2FuIGVudHJpIG1lbnUga29udGVrcyB5YW5nIG1lbnlhbGluIG5hbWEgbGFndSBkYW4gYXJ0aXMgeWFuZyBkaXBpbGloIGtlIGNsaXBib2FyZAovLyBAZGVzY3JpcHRpb246bXMgICAgICAgVGFtYmFoa2FuIGVudHJpIG1lbnUga29udGVrcyB5YW5nIG1lbnlhbGluIG5hbWEgbGFndSBkYW4gYXJ0aXMgeWFuZyBkaXBpbGloIGtlIHBhcGFuIGtlcmF0YW4KLy8gQGRlc2NyaXB0aW9uOmRlICAgICAgIEbDvGd0IGVpbmVuIEVpbnRyYWcgaW0gS29udGV4dG1lbsO8IGhpbnp1LCBkZXIgZGVuIGF1c2dld8OkaGx0ZW4gU29uZ25hbWVuIHVuZCBJbnRlcnByZXRlbiBpbiBkaWUgWndpc2NoZW5hYmxhZ2Uga29waWVydAovLyBAZGVzY3JpcHRpb246amEgICAgICAg6YG45oqe44GX44Gf5puy5ZCN44Go44Ki44O844OG44Kj44K544OI44KS44Kv44Oq44OD44OX44Oc44O844OJ44Gr44Kz44OU44O844GZ44KL44Ko44Oz44OI44Oq44KS44Kz44Oz44OG44Kt44K544OI44Oh44OL44Ol44O844Gr6L+95Yqg44GX44G+44GZCi8vIEBkZXNjcmlwdGlvbjpwbCAgICAgICBEb2RhamUgd3BpcyB3IG1lbnUga29udGVrc3Rvd3ltLCBrdMOzcnkga29waXVqZSB3eWJyYW55IHR5dHXFgiB1dHdvcnUgaSB3eWtvbmF3Y8SZIGRvIHNjaG93a2EKLy8gQGRlc2NyaXB0aW9uOmNzICAgICAgIFDFmWlkw6EgcG9sb8W+a3UgZG8gbcOtc3Ruw60gbmFiw61ka3ksIGt0ZXLDoSB6a29ww61ydWplIG7DoXpldiB2eWJyYW7DqSBza2xhZGJ5IGEgdW3Em2xjZSBkbyBzY2hyw6Fua3kKLy8gQGRlc2NyaXB0aW9uOmVsICAgICAgIM6gz4HOv8+DzrjOrc+EzrXOuSDOvM65zrEgzrrOsc+EzrHPh8+Oz4HOuc+Dzrcgz4PPhM6/IM68zrXOvc6/z40gz4DOtc+BzrnOss6szrvOu86/zr3PhM6/z4Igz4DOv8+FIM6xzr3PhM65zrPPgc6sz4bOtc65IM+Ezr8gzrXPgM65zrvOtc6zzrzOrc69zr8gz4zOvc6/zrzOsSDPhM+BzrHOs86/z4XOtM65zr/PjSDOus6xzrkgz4TOv869IM66zrHOu867zrnPhM6tz4fOvc63IM+Dz4TOvyDPgM+Bz4zPh861zrnPgc6/Ci8vIEBkZXNjcmlwdGlvbjpodSAgICAgICBIb3p6w6FhZCBlZ3kgYmVqZWd5esOpc3QgYSBoZWx5aSBtZW7DvGJlLCBhbWVseSDDoXRtw6Fzb2xqYSBhIGtpdsOhbGFzenRvdHQgZGFsIG5ldsOpdCDDqXMgZWzFkWFkw7N0IGEgdsOhZ8OzbGFwcmEKLy8gQGRlc2NyaXB0aW9uOnRyICAgICAgIEJhxJ9sYW0gbWVuw7xzw7xuZSBzZcOnaWxpIMWfYXJrxLEgYWTEsW7EsSB2ZSBzYW5hdMOnxLF5xLEgcGFub3lhIGtvcHlhbGF5YW4gYmlyIGdpcmnFnyBla2xlcgovLyBAZGVzY3JpcHRpb246dGggICAgICAg4LmA4Lie4Li04LmI4Lih4Lij4Liy4Lii4LiB4Liy4Lij4LmD4LiZ4LmA4Lih4LiZ4Li54Lia4Lij4Li04Lia4LiX4LiX4Li14LmI4LiE4Lix4LiU4Lil4Lit4LiB4LiK4Li34LmI4Lit4LmA4Lie4Lil4LiH4LmB4Lil4Liw4Lio4Li04Lil4Lib4Li04LiZ4LiX4Li14LmI4LmA4Lil4Li34Lit4LiB4LmE4Lib4Lii4Lix4LiH4LiE4Lil4Li04Lib4Lia4Lit4Lij4LmM4LiUCi8vIEBkZXNjcmlwdGlvbjp2aSAgICAgICBUaMOqbSBt4buZdCBt4bulYyB2w6BvIG1lbnUgbmfhu68gY+G6o25oIMSR4buDIHNhbyBjaMOpcCB0w6puIGLDoGkgaMOhdCB2w6Agbmdo4buHIHPEqSDEkcOjIGNo4buNbiB2w6BvIGtoYXkgbmjhu5sgdOG6oW0KLy8gQGRlc2NyaXB0aW9uOnN2ICAgICAgIEzDpGdnZXIgdGlsbCBlbiBwb3N0IGkgc25hYmJtZW55biBzb20ga29waWVyYXIgZGV0IHZhbGRhIGzDpXRuYW1uZXQgb2NoIGFydGlzdGVuIHRpbGwgVXJrbGlwcAovLyBAZGVzY3JpcHRpb246bmwgICAgICAgVm9lZ3QgZWVuIGl0ZW0gdG9lIGFhbiBoZXQgY29udGV4dG1lbnUgZGF0IGRlIGdlc2VsZWN0ZWVyZGUgc29uZ25hYW0gZW4gYXJ0aWVzdCBuYWFyIGhldCBrbGVtYm9yZCBrb3BpZWVydAovLyBAbmFtZXNwYWNlICAgICAgICAgICAgaHR0cHM6Ly9vcGVudXNlcmpzLm9yZy91c2Vycy9jdXppCi8vIEBpY29uICAgICAgICAgICAgICAgICBodHRwczovL29wZW4uc3BvdGlmeS5jb20vZmF2aWNvbi5pY28KLy8gQHZlcnNpb24gICAgICAgICAgICAgIDEzCi8vIEBsaWNlbnNlICAgICAgICAgICAgICBNSVQKLy8gQGNvcHlyaWdodCAgICAgICAgICAgIDIwMjAsIGN1emkgKGh0dHBzOi8vb3BlbnVzZXJqcy5vcmcvdXNlcnMvY3V6aSkKLy8gQHJlcXVpcmUgICAgICAgICAgICAgIGh0dHBzOi8vYWpheC5nb29nbGVhcGlzLmNvbS9hamF4L2xpYnMvanF1ZXJ5LzMuNi4wL2pxdWVyeS5taW4uanMKLy8gQGdyYW50ICAgICAgICAgICAgICAgIEdNLnNldENsaXBib2FyZAovLyBAZ3JhbnQgICAgICAgICAgICAgICAgR01fc2V0Q2xpcGJvYXJkCi8vIEBpbmNsdWRlICAgICAgICAgICAgICBodHRwczovL29wZW4uc3BvdGlmeS5jb20vKgovLyA9PS9Vc2VyU2NyaXB0PT0KCi8vID09T3BlblVzZXJKUz09Ci8vIEBhdXRob3IgICAgICAgY3V6aQovLyA9PS9PcGVuVXNlckpTPT0KCi8qIGdsb2JhbHMgJCwgR00sIEdNX3NldENsaXBib2FyZCAqLwoKJ3VzZSBzdHJpY3QnOwoKKGZ1bmN0aW9uICgpIHsKICBjb25zdCB0cmFuc2xhdGlvbnMgPSB7CiAgICBlbjogWydDb3B5IHRyYWNrIGluZm8nLCAnQ29waWVkOiAlcyddLAogICAgZXM6IFsnQ29waWFyIGluZm8gZGUgbGEgY2FuY2nDs24nLCAnQ29waWFkbzogJXMnXSwKICAgIHB0OiBbJ0NvcGlhciBpbmZvIGRhIGNhbmNpw7NuJywgJ0NvcGlhZG86ICVzJ10sCiAgICBpdDogWydDb3BpYSBsXCdpbmZvcm1hemlvbmUnLCAnQ29waWF0bzogJXMnXSwKICAgIGZyOiBbJ0NvcGllciBsZXMgaW5mb3JtYXRpb25zIGRlIHRpdHJlJywgJyVzIGNvcGnDqSddLAogICAgJ3poLUhLJzogWydDb3B5IHRyYWNrIGluZm8nLCAnQ29waWVkOiAlcyddLAogICAgJ3poLVRXJzogWyfopIfoo73mrYzmm7Lkv6Hmga8nLCAn5bey5b6p5Yi2OiAlcyddLAogICAgemg6IFsn5aSN5Yi25q2M5puy5L+h5oGvJywgJ+W3suikh+ijvTogJXMnXSwKICAgIGFyOiBbJ9in2YbYs9iuINmF2LnZhNmI2YXYp9iqINin2YTYo9i62YbZitipJywgJyVzIDrYqtmF2ZEg2YbYs9iuJ10sCiAgICBpdzogWyfXlNei16rXp9eqINee15nXk9eiINeU16nXmdeoJywgJyVzIDrXlNeV16LXqtenJ10sCiAgICBydTogWyfQmtC+0L/QuNGA0L7QstCw0YLRjCDQtNCw0L3QvdGL0LUg0YLRgNC10LrQsCcsICfQodC60L7Qv9C40YDQvtCy0LDQvdCwOiAlcyddLAogICAgaWQ6IFsnU2FsaW4gSW5mb3JtYXNpIExhZ3UnLCAnRGlzYWxpbjogJXMnXSwKICAgIG1zOiBbJ1NhbGluIE1ha2x1bWF0IExhZ3UnLCAnRGlzYWxpbjogJXMnXSwKICAgIGRlOiBbJ1NvbmdpbmZvcm1hdGlvbiBrb3BpZXJlbicsICclcyBrb3BpZXJ0J10sCiAgICBqYTogWyfmm7Lmg4XloLHjgpLjgrPjg5Tjg7wnLCAnJXMg44KS44Kz44OU44O844GX44G+44GX44GfJ10sCiAgICBwbDogWydTa29waXVqIGluZm9ybWFjamUgbyB1dHdvcnplJywgJyVzIHNrb3Bpb3dhbm8nXSwKICAgIGNzOiBbJ0tvcMOtcm92YXQgaW5mb3JtYWNlIG8gc2tsYWRixJsnLCAnJXMgYnlsIHprb3DDrXJvdsOhbiddLAogICAgZWw6IFsnzpHOvc+EzrnOs8+BzrHPhs6uIM+AzrvOt8+Bzr/Phs6/z4HOuc+Ozr0gz4TPgc6xzrPOv8+FzrTOuc6/z40nLCAnJXMgzrHOvc+EzrnOs8+BzqzPhs63zrrOtSddLAogICAgaHU6IFsnRGFsIGFkYXQgbcOhc29sw6FzYScsICclcyBtw6Fzb2x2YSddLAogICAgdHI6IFsnxZ5hcmvEsSBCaWxnaWxlcmluaSBLb3B5YWxhJywgJyVzIGtvcHlhbGFuZMSxJ10sCiAgICB0aDogWyfguITguLHguJTguKXguK3guIHguILguYnguK3guKHguLnguKXguYDguJ7guKXguIcnLCAnJXMg4LmE4Lib4LiX4Li14LmI4LiE4Lil4Li04Lib4Lia4Lit4Lij4LmM4LiU4LmB4Lil4LmJ4LinJ10sCiAgICB2aTogWydTYW8gY2jDqXAgVGjDtG5nIHRpbiBCw6BpIGjDoXQnLCAnJXMgxJHDoyDEkcaw4bujYyBzYW8gY2jDqXAnXSwKICAgIHN2OiBbJ0tvcGllcmEgc8OlbmdpbmZvZW4nLCAnJXMga29waWVyYWQnXSwKICAgIG5sOiBbJ0luZm8gdmFuIG51bW1lciBrb3Bpw6tyZW4nLCAnJXMgZ2Vrb3BpZWVyZCddCiAgfQogIGxldCBbbWVudVN0cmluZywgY29waWVkU3RyaW5nXSA9IHRyYW5zbGF0aW9ucy5lbgogIGZvciAoY29uc3QgbGFuZyBpbiB0cmFuc2xhdGlvbnMpIHsKICAgIGlmIChuYXZpZ2F0b3IubGFuZ3VhZ2Uuc3RhcnRzV2l0aChsYW5nKSkgewogICAgICBbbWVudVN0cmluZywgY29waWVkU3RyaW5nXSA9IHRyYW5zbGF0aW9uc1tsYW5nXQogICAgICAvLyBjb25zb2xlLmxvZyhsYW5nICsgJyA8LSAnICsgbmF2aWdhdG9yLmxhbmd1YWdlKQogICAgICBicmVhawogICAgfQogIH0KCiAgbGV0IHNob3dJbmZvSUQKICBjb25zdCBzaG93SW5mbyA9IGZ1bmN0aW9uIChzdHIpIHsKICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoc2hvd0luZm9JRCkKICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcGllZF9zb25nX2luZm9fb3V0ZXInKSkgewogICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLmlubmVySFRNTCA9ICcjY29waWVkX3NvbmdfaW5mb19vdXRlciB7ei1pbmRleDogMjAwMDA7aGVpZ2h0OjA7bWFyZ2luOiAtNjJweCBhdXRvIDA7cGFkZGluZy1ib3R0b206IDYycHg7cG9pbnRlci1ldmVudHM6IG5vbmU7ZGlzcGxheTogaW5saW5lLWJsb2NrO30jY29waWVkX3NvbmdfaW5mb19pbm5lciB7bWF4LXdpZHRoOiBub25lO2Rpc3BsYXk6IGlubGluZS1ibG9jaztiYWNrZ3JvdW5kOiAjMmU3N2QwO2JvcmRlci1yYWRpdXM6IDhweDtib3gtc2hhZG93OiAwIDRweCAxMnB4IDRweCByZ2JhKDAsMCwwLC41KTtjb2xvcjogI2ZmZjtmb250LXNpemU6IDE2cHg7bGluZS1oZWlnaHQ6IDIwcHg7bWF4LXdpZHRoOiA0NTBweDtvcGFjaXR5OiAxO3BhZGRpbmc6IDEycHggMzZweDt0ZXh0LWFsaWduOiBjZW50ZXI7dHJhbnNpdGlvbjogbm9uZSAuNXMgY3ViaWMtYmV6aWVyKC4zLDAsLjQsMSk7dHJhbnNpdGlvbi1wcm9wZXJ0eTogb3BhY2l0eTt9JwogICAgICAkKCc8ZGl2IGlkPSJjb3BpZWRfc29uZ19pbmZvX291dGVyIj48ZGl2IGlkPSJjb3BpZWRfc29uZ19pbmZvX2lubmVyIj48L2Rpdj48L2Rpdj4nKS5hcHBlbmRUbygnLlJvb3RfX21haW4tdmlldycpCiAgICB9CiAgICBjb25zdCBjb3BpZWRTb25nSW5mb091dGVyID0gJCgnI2NvcGllZF9zb25nX2luZm9fb3V0ZXInKQogICAgY29uc3QgY29waWVkU29uZ0luZm9Jbm5lciA9ICQoJyNjb3BpZWRfc29uZ19pbmZvX2lubmVyJykKCiAgICBjb3BpZWRTb25nSW5mb091dGVyLmNzcygnZGlzcGxheScsICdpbmxpbmUtYmxvY2snKQogICAgY29waWVkU29uZ0luZm9Jbm5lci5jc3MoJ29wYWNpdHknLCAxKQogICAgY29waWVkU29uZ0luZm9Jbm5lci5odG1sKHN0ci5yZXBsYWNlKCdcbicsICc8YnI+XG4nKSkKCiAgICBzaG93SW5mb0lEID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBjb3BpZWRTb25nSW5mb0lubmVyLmNzcygnb3BhY2l0eScsIDApCiAgICAgIHNob3dJbmZvSUQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgY29waWVkU29uZ0luZm9PdXRlci5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpCiAgICAgIH0sIDcwMCkKICAgIH0sIDQwMDApCiAgfQoKICBjb25zdCBnZXRTb25nVGl0bGUgPSBmdW5jdGlvbiAoJHRpdGxlbm9kZXMpIHsKICAgIGxldCB0aXRsZVRleHQKCiAgICBpZiAoJHRpdGxlbm9kZXMgJiYgJHRpdGxlbm9kZXMubGVuZ3RoID4gMCkgewogICAgICB0aXRsZVRleHQgPSAkdGl0bGVub2Rlcy50ZXh0KCkKICAgICAgaWYgKHRpdGxlVGV4dCAmJiB0aXRsZVRleHQudHJpbSgpKSB7CiAgICAgICAgcmV0dXJuIHRpdGxlVGV4dC50cmltKCkKICAgICAgfQogICAgfQoKICAgIGlmICgkKCcudHJhY2staW5mb19fbmFtZScpLmxlbmd0aCA+IDApIHsKICAgICAgdGl0bGVUZXh0ID0gJCgnLnRyYWNrLWluZm9fX25hbWUnKVswXS5pbm5lclRleHQKICAgICAgaWYgKHRpdGxlVGV4dCAmJiB0aXRsZVRleHQudHJpbSgpKSB7CiAgICAgICAgcmV0dXJuIHRpdGxlVGV4dC50cmltKCkKICAgICAgfQogICAgfQoKICAgIHJldHVybiAnJwogIH0KCiAgY29uc3QgZ2V0QXJ0aXN0TmFtZSA9IGZ1bmN0aW9uICgkYXJ0aXN0bm9kZXMpIHsKICAgIGxldCBhcnRpc3RUZXh0CgogICAgaWYgKHR5cGVvZiAkYXJ0aXN0bm9kZXMgPT09ICdzdHJpbmcnKSB7CiAgICAgIHJldHVybiAkYXJ0aXN0bm9kZXMudHJpbSgpCiAgICB9CgogICAgaWYgKCRhcnRpc3Rub2RlcykgewogICAgICBjb25zdCBhcnRpc3RUZXh0Tm9kZXMgPSAkYXJ0aXN0bm9kZXMubm90KChpLCBlKSA9PiBlLmNsYXNzTmFtZSkKICAgICAgaWYgKGFydGlzdFRleHROb2Rlcy5sZW5ndGggPT09IDEpIHsKICAgICAgICBhcnRpc3RUZXh0ID0gYXJ0aXN0VGV4dE5vZGVzLnRleHQoKQogICAgICAgIGlmIChhcnRpc3RUZXh0ICYmIGFydGlzdFRleHQudHJpbSgpKSB7CiAgICAgICAgICByZXR1cm4gYXJ0aXN0VGV4dC50cmltKCkKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoYXJ0aXN0VGV4dE5vZGVzLmxlbmd0aCA+IDEpIHsKICAgICAgICBhcnRpc3RUZXh0ID0gYXJ0aXN0VGV4dE5vZGVzLm1hcCgoaSwgZSkgPT4gZS50ZXh0Q29udGVudC50cmltKCkpLmdldCgpCiAgICAgICAgYXJ0aXN0VGV4dCA9IGFydGlzdFRleHQuam9pbignLCAnKQogICAgICAgIHJldHVybiBhcnRpc3RUZXh0LnRyaW0oKQogICAgICB9CgogICAgICAvLyBJbiBwbGF5bGlzdDoKICAgICAgaWYgKCRhcnRpc3Rub2Rlcy5maW5kKCcuZWxsaXBzaXMtb25lLWxpbmUnKS5sZW5ndGggPiAwKSB7CiAgICAgICAgYXJ0aXN0VGV4dCA9ICRhcnRpc3Rub2Rlcy5maW5kKCcuZWxsaXBzaXMtb25lLWxpbmUnKVswXS5pbm5lclRleHQKICAgICAgICBpZiAoYXJ0aXN0VGV4dCAmJiBhcnRpc3RUZXh0LnRyaW0oKSkgewogICAgICAgICAgcmV0dXJuIGFydGlzdFRleHQudHJpbSgpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICgkYXJ0aXN0bm9kZXMuZmluZCgnLnN0YW5kYWxvbmUtZWxsaXBzaXMtb25lLWxpbmUnKS5sZW5ndGggPiAwKSB7CiAgICAgICAgYXJ0aXN0VGV4dCA9ICRhcnRpc3Rub2Rlcy5maW5kKCcuc3RhbmRhbG9uZS1lbGxpcHNpcy1vbmUtbGluZScpWzBdLmlubmVyVGV4dAogICAgICAgIGlmIChhcnRpc3RUZXh0ICYmIGFydGlzdFRleHQudHJpbSgpKSB7CiAgICAgICAgICByZXR1cm4gYXJ0aXN0VGV4dC50cmltKCkKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIFNvbWV0aGluZyBlbHNlLCBqdXN0IGFjY3VtdWxhdGUgYWxsIGFydGlzdCBsaW5rczogPGEgaHJlZj0iL2FydGlzdC9BUlRJU1RJRCI+QXJ0aXN0bmFtZTwvYT4KICAgICAgaWYgKCRhcnRpc3Rub2Rlcy5maW5kKCdhW2hyZWZePSIvYXJ0aXN0LyJdJykubGVuZ3RoID4gMCkgewogICAgICAgIHJldHVybiAkLm1hcCgkYXJ0aXN0bm9kZXMuZmluZCgnYVtocmVmXj0iL2FydGlzdC8iXScpLCAoZWxlbWVudCkgPT4gJChlbGVtZW50KS50ZXh0KCkudHJpbSgpKS5qb2luKCcsICcpCiAgICAgIH0KICAgIH0KCiAgICBpZiAoZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUuc3RhcnRzV2l0aCgnL2FydGlzdC8nKSkgewogICAgICBpZiAoJCgnLmNvbnRlbnQuYXJ0aXN0PmRpdiBoMScpLmxlbmd0aCA+IDApIHsKICAgICAgICBhcnRpc3RUZXh0ID0gJCgnLmNvbnRlbnQuYXJ0aXN0PmRpdiBoMScpWzBdLnRleHRDb250ZW50CiAgICAgICAgaWYgKGFydGlzdFRleHQgJiYgYXJ0aXN0VGV4dC50cmltKCkpIHsKICAgICAgICAgIHJldHVybiBhcnRpc3RUZXh0LnRyaW0oKQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoJCgnLlJvb3RfX21haW4tdmlldyBoMScpLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGFydGlzdFRleHQgPSAkKCcuUm9vdF9fbWFpbi12aWV3IGgxJylbMF0udGV4dENvbnRlbnQKICAgICAgICAgIGlmIChhcnRpc3RUZXh0ICYmIGFydGlzdFRleHQudHJpbSgpKSB7CiAgICAgICAgICAgIHJldHVybiBhcnRpc3RUZXh0LnRyaW0oKQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmIChkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZS5zdGFydHNXaXRoKCcvYWxidW0vJykpIHsKICAgICAgYXJ0aXN0VGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vcy1jb250ZW50IGgxJykudGV4dENvbnRlbnQKICAgICAgaWYgKGFydGlzdFRleHQgJiYgYXJ0aXN0VGV4dC50cmltKCkpIHsKICAgICAgICByZXR1cm4gYXJ0aXN0VGV4dC50cmltKCkKICAgICAgfQogICAgfQoKICAgIGlmICgkKCcudHJhY2staW5mb19fYXJ0aXN0cycpLmxlbmd0aCA+IDApIHsKICAgICAgYXJ0aXN0VGV4dCA9ICQoJy50cmFjay1pbmZvX19hcnRpc3RzJylbMF0uaW5uZXJUZXh0CiAgICAgIGlmIChhcnRpc3RUZXh0ICYmIGFydGlzdFRleHQudHJpbSgpKSB7CiAgICAgICAgcmV0dXJuIGFydGlzdFRleHQudHJpbSgpCiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gJycKICB9CgogIGNvbnN0IHBvcHVsYXRlQ29udGV4dE1lbnUgPSBmdW5jdGlvbiAoZXYpIHsKICAgIGNvbnNvbGUuZGVidWcoJ3BvcHVsYXRlQ29udGV4dE1lbnUnKQogICAgbGV0ICR0aGlzID0gJCh0aGlzKQoKICAgIGxldCBtZW51ID0gJCgnLnJlYWN0LWNvbnRleHRtZW51LS12aXNpYmxlJykKICAgIGlmICghbWVudVswXSkgewogICAgICBtZW51ID0gJCgnI2NvbnRleHQtbWVudS1yb290JykKICAgIH0KICAgIGlmICghbWVudVswXSkgewogICAgICBtZW51ID0gJCgnI2NvbnRleHQtbWVudScpCiAgICB9CgogICAgbGV0IHRpdGxlID0gJHRoaXMuZmluZCgnLnRyYWNrbGlzdC1uYW1lJykKICAgIGlmICh0aXRsZS5sZW5ndGggPT09IDApIHsKICAgICAgdGl0bGUgPSAkdGhpcy5maW5kKCdkaXZbZGF0YS10ZXN0aWQ9InRyYWNrbGlzdC1yb3ciXSAuc3RhbmRhbG9uZS1lbGxpcHNpcy1vbmUtbGluZScpCiAgICB9CiAgICBpZiAodGl0bGUubGVuZ3RoID09PSAwKSB7CiAgICAgIHRpdGxlID0gJHRoaXMuZmluZCgnZGl2W3JvbGU9ImdyaWRjZWxsIl0gaW1nJykucGFyZW50KCkuZmluZCgnLnN0YW5kYWxvbmUtZWxsaXBzaXMtb25lLWxpbmUnKQogICAgfQogICAgaWYgKHRpdGxlLmxlbmd0aCA9PT0gMCAmJiAkdGhpcy5oYXNDbGFzcygnbm93LXBsYXlpbmcnKSkgewogICAgICB0aXRsZSA9ICR0aGlzLmZpbmQoJy5lbGxpcHNpcy1vbmUtbGluZT4uZWxsaXBzaXMtb25lLWxpbmUnKS5lcSgwKQogICAgfQogICAgbGV0IGFydGlzdCA9ICR0aGlzLmZpbmQoJy5hcnRpc3RzLWFsYnVtIHNwYW4nKQogICAgaWYgKGFydGlzdC5sZW5ndGggPT09IDAgJiYgJHRoaXMuaGFzQ2xhc3MoJ25vdy1wbGF5aW5nJykpIHsKICAgICAgYXJ0aXN0ID0gJHRoaXMuZmluZCgnLmVsbGlwc2lzLW9uZS1saW5lPi5lbGxpcHNpcy1vbmUtbGluZScpLmVxKDEpCiAgICB9CiAgICBpZiAoYXJ0aXN0Lmxlbmd0aCA9PT0gMCAmJiB0aXRsZS5sZW5ndGggPT09IDAgJiYgJHRoaXMuZmluZCgnW2RhdGEtdGVzdGlkPSJub3dwbGF5aW5nLXRyYWNrLWxpbmsiXScpKSB7CiAgICAgIHRpdGxlID0gJHRoaXMuZmluZCgnW2RhdGEtdGVzdGlkPSJub3dwbGF5aW5nLXRyYWNrLWxpbmsiXScpCiAgICAgIGFydGlzdCA9ICR0aGlzLmZpbmQoJ1tkYXRhLXRlc3RpZD0ibm93cGxheWluZy1hcnRpc3QiXScpCiAgICB9CiAgICBpZiAoYXJ0aXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICBpZiAoJHRoaXMuZmluZCgnLnNlY29uZC1saW5lJykubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgYXJ0aXN0ID0gJHRoaXMuZmluZCgnLnNlY29uZC1saW5lJykgLy8gaW4gcGxheWxpc3QKICAgICAgfQogICAgICBpZiAoJHRoaXMucGFyZW50cygnLm5vdy1wbGF5aW5nJykubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgLy8gTm93IHBsYXlpbmcgYmFyCiAgICAgICAgJHRoaXMgPSAkKCR0aGlzLnBhcmVudHMoJy5ub3ctcGxheWluZycpWzBdKQogICAgICAgIGlmICgkdGhpcy5maW5kKCcuZWxsaXBzaXMtb25lLWxpbmUgYVtocmVmXj0iL2FydGlzdC8iXScpLmxlbmd0aCAhPT0gMCkgewogICAgICAgICAgYXJ0aXN0ID0gJHRoaXMuZmluZCgnLmVsbGlwc2lzLW9uZS1saW5lIGFbaHJlZl49Ii9hcnRpc3QvIl0nKQogICAgICAgICAgdGl0bGUgPSAkdGhpcy5maW5kKCdhW2RhdGEtdGVzdGlkPSJub3dwbGF5aW5nLXRyYWNrLWxpbmsiXScpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICgkdGhpcy5wYXJlbnRzKCcuUm9vdF9fbm93LXBsYXlpbmctYmFyJykubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgLy8gTmV3OiBOb3cgcGxheWluZyBiYXIgMjAyMS0wOQogICAgICAgICR0aGlzID0gJCgkdGhpcy5wYXJlbnRzKCcuUm9vdF9fbm93LXBsYXlpbmctYmFyJylbMF0pCiAgICAgICAgaWYgKCR0aGlzLmZpbmQoJy5lbGxpcHNpcy1vbmUtbGluZSBhW2hyZWZePSIvYXJ0aXN0LyJdLC5zdGFuZGFsb25lLWVsbGlwc2lzLW9uZS1saW5lIGFbaHJlZl49Ii9hcnRpc3QvIl0nKS5sZW5ndGggIT09IDApIHsKICAgICAgICAgIGFydGlzdCA9ICR0aGlzLmZpbmQoJy5lbGxpcHNpcy1vbmUtbGluZSBhW2hyZWZePSIvYXJ0aXN0LyJdLC5zdGFuZGFsb25lLWVsbGlwc2lzLW9uZS1saW5lIGFbaHJlZl49Ii9hcnRpc3QvIl0nKQogICAgICAgICAgdGl0bGUgPSAkdGhpcy5maW5kKCcuZWxsaXBzaXMtb25lLWxpbmUgYVtocmVmXj0iL2FsYnVtLyJdLC5lbGxpcHNpcy1vbmUtbGluZSBhW2hyZWZePSIvdHJhY2svIl0sLnN0YW5kYWxvbmUtZWxsaXBzaXMtb25lLWxpbmUgYVtocmVmXj0iL2FsYnVtLyJdLC5zdGFuZGFsb25lLWVsbGlwc2lzLW9uZS1saW5lIGFbaHJlZl49Ii90cmFjay8iXScpCiAgICAgICAgfSBlbHNlIGlmICgkdGhpcy5maW5kKCdbZGF0YS10ZXN0aWQ9ImNvbnRleHQtaXRlbS1pbmZvLWFydGlzdCJdJykubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgICBhcnRpc3QgPSAkdGhpcy5maW5kKCdhW2RhdGEtdGVzdGlkPSJjb250ZXh0LWl0ZW0taW5mby1hcnRpc3QiXVtocmVmXj0iL2FydGlzdC8iXSxbZGF0YS10ZXN0aWQ9ImNvbnRleHQtaXRlbS1pbmZvLWFydGlzdCJdIGFbaHJlZl49Ii9hcnRpc3QvIl0nKQogICAgICAgICAgdGl0bGUgPSAkdGhpcy5maW5kKCdbZGF0YS10ZXN0aWQ9ImNvbnRleHQtaXRlbS1pbmZvLXRpdGxlIl0gYVtocmVmXj0iL2FsYnVtLyJdLFtkYXRhLXRlc3RpZD0iY29udGV4dC1pdGVtLWluZm8tdGl0bGUiXSBhW2hyZWZePSIvdHJhY2svIl0nKQogICAgICAgIH0gZWxzZSBpZiAoJHRoaXMuZmluZCgnYVtocmVmXj0iL2FydGlzdC8iXSxhW2hyZWZePSIvYWxidW0vIl0sYVtocmVmXj0iL3RyYWNrLyJdJykubGVuZ3RoID4gMSkgewogICAgICAgICAgYXJ0aXN0ID0gJHRoaXMuZmluZCgnYVtocmVmXj0iL2FydGlzdC8iXScpCiAgICAgICAgICB0aXRsZSA9ICR0aGlzLmZpbmQoJ2FbaHJlZl49Ii9hbGJ1bS8iXSxhW2hyZWZePSIvdHJhY2svIl0nKQogICAgICAgIH0KICAgICAgfQoKICAgICAgY29uc3QgYXJ0aXN0R3JpZENlbGwgPSAkdGhpcy5maW5kKCcqW3JvbGU9ImdyaWRjZWxsIl0gYVtocmVmXj0iL2FydGlzdC8iXScpCiAgICAgIGlmIChhcnRpc3RHcmlkQ2VsbC5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8gTmV3IHBsYXlsaXN0IGRlc2lnbgogICAgICAgIGFydGlzdCA9IGFydGlzdEdyaWRDZWxsLnBhcmVudCgpCiAgICAgICAgdGl0bGUgPSAkKGFydGlzdEdyaWRDZWxsLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJ3NwYW4nKVswXSkKICAgICAgICBpZiAoYXJ0aXN0Lmhhcyh0aXRsZSkpIHsKICAgICAgICAgIC8vIHRpdGxlIGlzIGNoaWxkIG9mIGFydGlzdCwgc28gaXQncyB0aGUgc2FtZSBub2RlLCB0aGUgcmVhbCB0aXRsZSBpcyBzb21ld2hlcmUgZWxzZQogICAgICAgICAgLy8gVGhpcyBoYXBwZW5zIG9uIGFsYnVtIHBhZ2UKICAgICAgICAgIGlmIChhcnRpc3QucGFyZW50KCkucGFyZW50KCkuZmluZCgnZGl2LnN0YW5kYWxvbmUtZWxsaXBzaXMtb25lLWxpbmUnKS5sZW5ndGgpIHsKICAgICAgICAgICAgdGl0bGUgPSAkKGFydGlzdC5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCdkaXYuc3RhbmRhbG9uZS1lbGxpcHNpcy1vbmUtbGluZScpWzBdKQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgY29uc3QgYXJ0aXN0Q29udGVudCA9ICQoJy5jb250ZW50LmFydGlzdD5kaXYgaDEnKQogICAgICBpZiAoYXJ0aXN0Q29udGVudC5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8gQXJ0aXN0IHBhZ2UKICAgICAgICBhcnRpc3QgPSBhcnRpc3RDb250ZW50WzBdLnRleHRDb250ZW50CiAgICAgIH0KICAgIH0KCiAgICBpZiAodGl0bGUgJiYgYXJ0aXN0ICYmIG1lbnVbMF0pIHsKICAgICAgY29uc3QgdGl0bGVUZXh0ID0gZ2V0U29uZ1RpdGxlKHRpdGxlKQogICAgICBjb25zdCBhcnRpc3RUZXh0ID0gZ2V0QXJ0aXN0TmFtZShhcnRpc3QpCiAgICAgIGlmICghdGl0bGVUZXh0IHx8ICFhcnRpc3RUZXh0KSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIC8vIENyZWF0ZSBjb250ZXh0IG1lbnUgZW50cnkKICAgICAgaWYgKG1lbnUuYXR0cignaWQnKS5zdGFydHNXaXRoKCdjb250ZXh0LW1lbnUnKSkgewogICAgICAgIC8vIG5ldyBkZXNpZ24gKE5vdiAyMDIwKQogICAgICAgIGxldCBlbnRyeSA9IG1lbnUuZmluZCgnLmdtY29weXRyYWNraW5mbycpCiAgICAgICAgaWYgKGVudHJ5Lmxlbmd0aCA9PT0gMCB8fCAhZW50cnlbMF0pIHsKICAgICAgICAgIGxldCBsaSA9IG1lbnUuZmluZCgnbGknKQogICAgICAgICAgaWYgKGxpLmxlbmd0aCA+IDQpIHsKICAgICAgICAgICAgbGkgPSAkKGxpWzRdKQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGkgPSAkKGxpWzBdKQogICAgICAgICAgfQogICAgICAgICAgZW50cnkgPSAkKCc8bGkgcm9sZT0icHJlc2VudGF0aW9uIj48YnV0dG9uIHJvbGU9Im1lbnVpdGVtIiB0YWJpbmRleD0iLTEiPjxzcGFuIGFzPSJzcGFuIiBkaXI9ImF1dG8iPicgKyBtZW51U3RyaW5nICsgJzwvc3Bhbj48L2J1dHRvbj48L2xpPicpCiAgICAgICAgICAgIC5hcHBlbmRUbyhsaSkKICAgICAgICAgICAgLmNsaWNrKGZ1bmN0aW9uIChldikgewogICAgICAgICAgICAgIC8vIENvcHkgc3RyaW5nIHRvIGNsaXBib2FyZAogICAgICAgICAgICAgIGNvbnN0IHMgPSBlbnRyeS5kYXRhKCdnbWNvcHknKQogICAgICAgICAgICAgIGlmICh0eXBlb2YgR01fc2V0Q2xpcGJvYXJkICE9PSAndW5kZWZpbmVkJykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbWVsY2FzZQogICAgICAgICAgICAgICAgR01fc2V0Q2xpcGJvYXJkKHMpCiAgICAgICAgICAgICAgfSBlbHNlIGlmIChHTS5zZXRDbGlwYm9hcmQpIHsKICAgICAgICAgICAgICAgIEdNLnNldENsaXBib2FyZChzKQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChzKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBzaG93SW5mbyhjb3BpZWRTdHJpbmcucmVwbGFjZSgnJXMnLCBzKSkKICAgICAgICAgICAgICBtZW51LnBhcmVudCgpLnJlbW92ZSgpCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC8vIENvcHkgY2xhc3NlcyBmcm9tIGFuIGV4aXN0aW5nIGVudHJ5CiAgICAgICAgICBlbnRyeS5hZGRDbGFzcygnZ21jb3B5dHJhY2tpbmZvJykKICAgICAgICAgIGVudHJ5LmFkZENsYXNzKGxpLmF0dHIoJ2NsYXNzJykpCiAgICAgICAgICBlbnRyeS5maW5kKCdidXR0b24nKS5hZGRDbGFzcyhsaS5maW5kKCdidXR0b24nKS5hdHRyKCdjbGFzcycpKQogICAgICAgICAgZW50cnkuZmluZCgnYnV0dG9uIHNwYW4nKS5hZGRDbGFzcyhsaS5maW5kKCdidXR0b24gc3BhbicpLmF0dHIoJ2NsYXNzJykpCiAgICAgICAgfQogICAgICAgIGVudHJ5LmRhdGEoJ2dtY29weScsIGFydGlzdFRleHQgKyAnIC0gJyArIHRpdGxlVGV4dCkKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBvbGQgZGVzaWduCiAgICAgICAgbGV0IGVudHJ5ID0gbWVudS5maW5kKCcuZ21jb3B5dHJhY2tpbmZvJykKICAgICAgICBpZiAoZW50cnkubGVuZ3RoID09PSAwIHx8ICFlbnRyeVswXSkgewogICAgICAgICAgZW50cnkgPSAkKCc8ZGl2IGNsYXNzPSJyZWFjdC1jb250ZXh0bWVudS1pdGVtIGdtY29weXRyYWNraW5mbyIgcm9sZT0ibWVudWl0ZW0iIHRhYmluZGV4PSItMSIgYXJpYS1kaXNhYmxlZD0iZmFsc2UiPicgKyBtZW51U3RyaW5nICsgJzwvZGl2PicpLmFwcGVuZFRvKG1lbnUpLmNsaWNrKGZ1bmN0aW9uIChldikgewogICAgICAgICAgICAvLyBDb3B5IHN0cmluZyB0byBjbGlwYm9hcmQKICAgICAgICAgICAgY29uc3QgcyA9IGVudHJ5LmRhdGEoJ2dtY29weScpCiAgICAgICAgICAgIGlmICh0eXBlb2YgR01fc2V0Q2xpcGJvYXJkICE9PSAndW5kZWZpbmVkJykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbWVsY2FzZQogICAgICAgICAgICAgIEdNX3NldENsaXBib2FyZChzKQogICAgICAgICAgICB9IGVsc2UgaWYgKEdNLnNldENsaXBib2FyZCkgewogICAgICAgICAgICAgIEdNLnNldENsaXBib2FyZChzKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHMpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2hvd0luZm8oY29waWVkU3RyaW5nLnJlcGxhY2UoJyVzJywgcykpCiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyB3aW5kb3cuQ3VzdG9tRXZlbnQoJ1JFQUNUX0NPTlRFWFRNRU5VX0hJREUnKSkKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAgIGVudHJ5LmRhdGEoJ2dtY29weScsIGFydGlzdFRleHQgKyAnIC0gJyArIHRpdGxlVGV4dCkKICAgICAgfQogICAgfQogIH0KCiAgY29uc3Qgb25Db250ZXh0TWVudSA9IGZ1bmN0aW9uIChldikgewogICAgLy8gV2FpdCBmb3IgdGhlIFJlYWN0IGNvbnRleHQgbWVudSB0byBvcGVuCiAgICBjb25zdCB0ID0gdGhpcwogICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBwb3B1bGF0ZUNvbnRleHRNZW51LmNhbGwodCwgZXYpCiAgICB9LCAyMDApCiAgfQoKICBjb25zdCBiaW5kRXZlbnRzID0gZnVuY3Rpb24gKCkgewogICAgLy8gUmVtb3ZlIGFsbCBldmVudHMgYW5kIHRoZW4gcmVhdHRhY2ggdGhlbQogICAgaWYgKCQoJy5yZWFjdC1jb250ZXh0bWVudS13cmFwcGVyJykubGVuZ3RoID4gMCkgewogICAgICAvLyBvbGQgZGVzaWduCiAgICAgICQoJy5yZWFjdC1jb250ZXh0bWVudS13cmFwcGVyJykudW5iaW5kKCcuZ21jb3B5dHJhY2tpbmZvJykuYmluZCgnY29udGV4dG1lbnUuZ21jb3B5dHJhY2tpbmZvJywgb25Db250ZXh0TWVudSkKICAgIH0gZWxzZSB7CiAgICAgIC8vIG5ldyBkZXNpZ24gKE5vdiAyMDIwKQogICAgICAkKCcqW2RhdGEtdGVzdGlkPSJ0cmFja2xpc3Qtcm93Il0sLm5vdy1wbGF5aW5nLCpbZGF0YS10ZXN0aWQ9Im5vdy1wbGF5aW5nLXdpZGdldCJdJykudW5iaW5kKCcuZ21jb3B5dHJhY2tpbmZvJykuYmluZCgnY29udGV4dG1lbnUuZ21jb3B5dHJhY2tpbmZvJywgb25Db250ZXh0TWVudSkKICAgIH0KICB9CgogIHdpbmRvdy5zZXRUaW1lb3V0KGJpbmRFdmVudHMsIDUwMCkKCiAgd2luZG93LnNldEludGVydmFsKGJpbmRFdmVudHMsIDEwMDApCn0pKCkK","requires":[{"meta":{"name":"jquery.min.js","url":"https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js","ts":1657808098972,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KGUpfTp0KGUpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihDLGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1bXSxyPU9iamVjdC5nZXRQcm90b3R5cGVPZixzPXQuc2xpY2UsZz10LmZsYXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gdC5jb25jYXQuYXBwbHkoW10sZSl9LHU9dC5wdXNoLGk9dC5pbmRleE9mLG49e30sbz1uLnRvU3RyaW5nLHY9bi5oYXNPd25Qcm9wZXJ0eSxhPXYudG9TdHJpbmcsbD1hLmNhbGwoT2JqZWN0KSx5PXt9LG09ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZS5ub2RlVHlwZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuaXRlbX0seD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxFPUMuZG9jdW1lbnQsYz17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByLGksbz0obj1ufHxFKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihyIGluIGMpKGk9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmby5zZXRBdHRyaWJ1dGUocixpKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9uW28uY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBmPSIzLjYuMCIsUz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUy5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIHAoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hbShlKSYmIXgoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9Uy5mbj1TLnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6UyxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3MuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Uy5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxldmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQrMSklMn0pKX0sb2RkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PW4mJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6dSxzb3J0OnQuc29ydCxzcGxpY2U6dC5zcGxpY2V9LFMuZXh0ZW5kPVMuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLGE9YXJndW1lbnRzWzBdfHx7fSxzPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksIm9iamVjdCI9PXR5cGVvZiBhfHxtKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSlyPWVbdF0sIl9fcHJvdG9fXyIhPT10JiZhIT09ciYmKGwmJnImJihTLmlzUGxhaW5PYmplY3Qocil8fChpPUFycmF5LmlzQXJyYXkocikpKT8obj1hW3RdLG89aSYmIUFycmF5LmlzQXJyYXkobik/W106aXx8Uy5pc1BsYWluT2JqZWN0KG4pP246e30saT0hMSxhW3RdPVMuZXh0ZW5kKGwsbyxyKSk6dm9pZCAwIT09ciYmKGFbdF09cikpO3JldHVybiBhfSxTLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoZitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiEoIWV8fCJbb2JqZWN0IE9iamVjdF0iIT09by5jYWxsKGUpKSYmKCEodD1yKGUpKXx8ImZ1bmN0aW9uIj09dHlwZW9mKG49di5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZhLmNhbGwobik9PT1sKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUsdCxuKXtiKGUse25vbmNlOnQmJnQubm9uY2V9LG4pfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2lmKHAoZSkpe2ZvcihuPWUubGVuZ3RoO3I8bjtyKyspaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrfWVsc2UgZm9yKHIgaW4gZSlpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWs7cmV0dXJuIGV9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYocChPYmplY3QoZSkpP1MubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOnUuY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTppLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgscj0wLGk9ZS5sZW5ndGg7cjxuO3IrKyllW2krK109dFtyXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLG89ZS5sZW5ndGgsYT0hbjtpPG87aSsrKSF0KGVbaV0saSkhPT1hJiZyLnB1c2goZVtpXSk7cmV0dXJuIHJ9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPTAsYT1bXTtpZihwKGUpKWZvcihyPWUubGVuZ3RoO288cjtvKyspbnVsbCE9KGk9dChlW29dLG8sbikpJiZhLnB1c2goaSk7ZWxzZSBmb3IobyBpbiBlKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO3JldHVybiBnKGEpfSxndWlkOjEsc3VwcG9ydDp5fSksImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKFMuZm5bU3ltYm9sLml0ZXJhdG9yXT10W1N5bWJvbC5pdGVyYXRvcl0pLFMuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXtuWyJbb2JqZWN0ICIrdCsiXSJdPXQudG9Mb3dlckNhc2UoKX0pO3ZhciBkPWZ1bmN0aW9uKG4pe3ZhciBlLGQsYixvLGksaCxmLGcsdyx1LGwsVCxDLGEsRSx2LHMsYyx5LFM9InNpenpsZSIrMSpuZXcgRGF0ZSxwPW4uZG9jdW1lbnQsaz0wLHI9MCxtPXVlKCkseD11ZSgpLEE9dWUoKSxOPXVlKCksaj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGw9ITApLDB9LEQ9e30uaGFzT3duUHJvcGVydHksdD1bXSxxPXQucG9wLEw9dC5wdXNoLEg9dC5wdXNoLE89dC5zbGljZSxQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxSPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTT0iW1xceDIwXFx0XFxyXFxuXFxmXSIsST0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsVz0iXFxbIitNKyIqKCIrSSsiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK0krIikpfCkiK00rIipcXF0iLEY9IjooIitJKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitXKyIpKil8LiopXFwpfCkiLEI9bmV3IFJlZ0V4cChNKyIrIiwiZyIpLCQ9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxfPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksej1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLFU9bmV3IFJlZ0V4cChNKyJ8PiIpLFg9bmV3IFJlZ0V4cChGKSxWPW5ldyBSZWdFeHAoIl4iK0krIiQiKSxHPXtJRDpuZXcgUmVnRXhwKCJeIygiK0krIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrSSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrSSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK1cpLFBTRVVETzpuZXcgUmVnRXhwKCJeIitGKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK00rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK00rIiooPzooWystXXwpIitNKyIqKFxcZCspfCkpIitNKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitSKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitNKyIqKCg/Oi1cXGQpP1xcZCopIitNKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxZPS9IVE1MJC9pLFE9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxKPS9eaFxkJC9pLEs9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLFo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxlZT0vWyt+XS8sdGU9bmV3IFJlZ0V4cCgiXFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXChbXlxcclxcblxcZl0pIiwiZyIpLG5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49IjB4IitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0scmU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csaWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe1QoKX0sYWU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYiZmllbGRzZXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0guYXBwbHkodD1PLmNhbGwocC5jaGlsZE5vZGVzKSxwLmNoaWxkTm9kZXMpLHRbcC5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7SD17YXBwbHk6dC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtMLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoVChlKSxlPWV8fEMsRSkpe2lmKDExIT09cCYmKHU9Wi5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYoZiYmKGE9Zi5nZXRFbGVtZW50QnlJZChpKSkmJnkoZSxhKSYmYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpKSxufWlmKGQucXNhJiYhTlt0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigxIT09cHx8Im9iamVjdCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihjPXQsZj1lLDE9PT1wJiYoVS50ZXN0KHQpfHx6LnRlc3QodCkpKXsoZj1lZS50ZXN0KHQpJiZ5ZShlLnBhcmVudE5vZGUpfHxlKT09PWUmJmQuc2NvcGV8fCgocz1lLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1zLnJlcGxhY2UocmUsaWUpOmUuc2V0QXR0cmlidXRlKCJpZCIscz1TKSksbz0obD1oKHQpKS5sZW5ndGg7d2hpbGUoby0tKWxbb109KHM/IiMiK3M6IjpzY29wZSIpKyIgIit4ZShsW29dKTtjPWwuam9pbigiLCIpfXRyeXtyZXR1cm4gSC5hcHBseShuLGYucXVlcnlTZWxlY3RvckFsbChjKSksbn1jYXRjaChlKXtOKHQsITApfWZpbmFsbHl7cz09PVMmJmUucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGcodC5yZXBsYWNlKCQsIiQxIiksZSxuLHIpfWZ1bmN0aW9uIHVlKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT5iLmNhY2hlTGVuZ3RoJiZkZWxldGUgZVtyLnNoaWZ0KCldLGVbdCsiICJdPW59fWZ1bmN0aW9uIGxlKGUpe3JldHVybiBlW1NdPSEwLGV9ZnVuY3Rpb24gY2UoZSl7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGZlKGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9bi5sZW5ndGg7d2hpbGUoci0tKWIuYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIHBlKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmZS5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19ZnVuY3Rpb24gaGUobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fWZ1bmN0aW9uIGdlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iZm9ybSJpbiBlP2UucGFyZW50Tm9kZSYmITE9PT1lLmRpc2FibGVkPyJsYWJlbCJpbiBlPyJsYWJlbCJpbiBlLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmRpc2FibGVkPT09dDplLmRpc2FibGVkPT09dDplLmlzRGlzYWJsZWQ9PT10fHxlLmlzRGlzYWJsZWQhPT0hdCYmYWUoZSk9PT10OmUuZGlzYWJsZWQ9PT10OiJsYWJlbCJpbiBlJiZlLmRpc2FibGVkPT09dH19ZnVuY3Rpb24gdmUoYSl7cmV0dXJuIGxlKGZ1bmN0aW9uKG8pe3JldHVybiBvPStvLGxlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKFtdLGUubGVuZ3RoLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1yW2ldXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1mb3IoZSBpbiBkPXNlLnN1cHBvcnQ9e30saT1zZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hWS50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fCJIVE1MIil9LFQ9c2Uuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU/ZS5vd25lckRvY3VtZW50fHxlOnA7cmV0dXJuIHIhPUMmJjk9PT1yLm5vZGVUeXBlJiZyLmRvY3VtZW50RWxlbWVudCYmKGE9KEM9cikuZG9jdW1lbnRFbGVtZW50LEU9IWkoQykscCE9QyYmKG49Qy5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLGQuc2NvcGU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoQy5jcmVhdGVFbGVtZW50KCJkaXYiKSksInVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwmJiFlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpzY29wZSBmaWVsZHNldCBkaXYiKS5sZW5ndGh9KSxkLmF0dHJpYnV0ZXM9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZC5nZXRFbGVtZW50c0J5VGFnTmFtZT1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChDLmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1LLnRlc3QoQy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxkLmdldEJ5SWQ9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuaWQ9UywhQy5nZXRFbGVtZW50c0J5TmFtZXx8IUMuZ2V0RWxlbWVudHNCeU5hbWUoUykubGVuZ3RofSksZC5nZXRCeUlkPyhiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sYi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZFKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19KTooYi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXBsYWNlKHRlLG5lKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gdCYmdC52YWx1ZT09PW59fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuLHIsaSxvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2k9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxyPTA7d2hpbGUobz1pW3IrK10paWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLGIuZmluZC5UQUc9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOmQucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LGIuZmluZC5DTEFTUz1kLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJkUpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0scz1bXSx2PVtdLChkLnFzYT1LLnRlc3QoQy5xdWVyeVNlbGVjdG9yQWxsKSkmJihjZShmdW5jdGlvbihlKXt2YXIgdDthLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIrUysiJz48L2E+PHNlbGVjdCBpZD0nIitTKyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnYucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitSKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrUysiLV0iKS5sZW5ndGh8fHYucHVzaCgifj0iKSwodD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgibmFtZSIsIiIpLGUuYXBwZW5kQ2hpbGQodCksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT0nJ10iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqbmFtZSIrTSsiKj0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHYucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitTKyIrKiIpLmxlbmd0aHx8di5wdXNoKCIuIy4rWyt+XSIpLGUucXVlcnlTZWxlY3RvckFsbCgiXFxcZiIpLHYucHVzaCgiW1xcclxcblxcZl0iKX0pLGNlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnYucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmdi5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEuYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iiksdi5wdXNoKCIsLio6Iil9KSksKGQubWF0Y2hlc1NlbGVjdG9yPUsudGVzdChjPWEubWF0Y2hlc3x8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLm9NYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3IpKSYmY2UoZnVuY3Rpb24oZSl7ZC5kaXNjb25uZWN0ZWRNYXRjaD1jLmNhbGwoZSwiKiIpLGMuY2FsbChlLCJbcyE9JyddOngiKSxzLnB1c2goIiE9IixGKX0pLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKCJ8IikpLHM9cy5sZW5ndGgmJm5ldyBSZWdFeHAocy5qb2luKCJ8IikpLHQ9Sy50ZXN0KGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHk9dHx8Sy50ZXN0KGEuY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0saj10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09Q3x8ZS5vd25lckRvY3VtZW50PT1wJiZ5KHAsZSk/LTE6dD09Q3x8dC5vd25lckRvY3VtZW50PT1wJiZ5KHAsdCk/MTp1P1AodSxlKS1QKHUsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbixyPTAsaT1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUsYT1bZV0scz1bdF07aWYoIWl8fCFvKXJldHVybiBlPT1DPy0xOnQ9PUM/MTppPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihpPT09bylyZXR1cm4gcGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP3BlKGFbcl0sc1tyXSk6YVtyXT09cD8tMTpzW3JdPT1wPzE6MH0pLEN9LHNlLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2UoZSxudWxsLG51bGwsdCl9LHNlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKFQoZSksZC5tYXRjaGVzU2VsZWN0b3ImJkUmJiFOW3QrIiAiXSYmKCFzfHwhcy50ZXN0KHQpKSYmKCF2fHwhdi50ZXN0KHQpKSl0cnl7dmFyIG49Yy5jYWxsKGUsdCk7aWYobnx8ZC5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGUpe04odCwhMCl9cmV0dXJuIDA8c2UodCxDLG51bGwsW2VdKS5sZW5ndGh9LHNlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSkseShlLHQpfSxzZS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSk7dmFyIG49Yi5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZELmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmQuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IWQuZGV0ZWN0RHVwbGljYXRlcyx1PSFkLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KGopLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LChiPXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOkcsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gRy5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1tW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitNKyIpIitlKyIoIitNKyJ8JCkiKSkmJm0oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoQiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLHg9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPXgmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwPSFuJiYheCxkPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmcCl7ZD0ocz0ocj0oaT0obz0oYT1jKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09ayYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrZCYmYT09PWUpe2lbaF09W2sscyxkXTticmVha319ZWxzZSBpZihwJiYoZD1zPShyPShpPShvPShhPWUpW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1rJiZyWzFdKSwhMT09PWQpd2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrZCYmKHAmJigoaT0obz1hW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtrLGRdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKGQtPXYpPT09Z3x8ZCVnPT0wJiYwPD1kL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT1iLnBzZXVkb3NbZV18fGIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW1NdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLGIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPVAoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoJCwiJDEiKSk7cmV0dXJuIHNbU10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBWLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUMuYWN0aXZlRWxlbWVudCYmKCFDLmhhc0ZvY3VzfHxDLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBKLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBRLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWIucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pYi5wc2V1ZG9zW2VdPWRlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gYmUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMscD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bayxwXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW1NdfHwoZVtTXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PWsmJnJbMV09PT1wKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2UoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltTXSYmKHY9Q2UodikpLHkmJiF5W1NdJiYoeT1DZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IWR8fCFlJiZoP2M6VGUoYyxzLGQsbixyKSxwPWc/eXx8KGU/ZDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLHAsbixyKSx2KXtpPVRlKHAsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihwW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8ZCl7aWYoeSl7aT1bXSxvPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLHA9W10saSxyKX1vPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmLTE8KGk9eT9QKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgcD1UZShwPT09dD9wLnNwbGljZShsLHAubGVuZ3RoKTpwKSx5P3kobnVsbCx0LHAscik6SC5hcHBseSh0LHApfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1iZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9YmUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8UChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtiZSh3ZShjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlbU10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gQ2UoMTxzJiZ3ZShjKSwxPHMmJnhlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoJCwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZ4ZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD14W2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj1fLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKCQsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGIuZmlsdGVyKSEocj1HW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6eChlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9QVtlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtTXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPUEoZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPWsrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT1DfHx0fHxpKTtsIT09ZyYmbnVsbCE9KG89ZFtsXSk7bCsrKXtpZih4JiZvKXthPTAsdHx8by5vd25lckRvY3VtZW50PT1DfHwoVChvKSxuPSFFKTt3aGlsZShzPXZbYSsrXSlpZihzKG8sdHx8QyxuKSl7ci5wdXNoKG8pO2JyZWFrfWkmJihrPWgpfW0mJigobz0hcyYmbykmJnUtLSxlJiZjLnB1c2gobykpfWlmKHUrPWwsbSYmbCE9PXUpe2E9MDt3aGlsZShzPXlbYSsrXSlzKGMsZix0LG4pO2lmKGUpe2lmKDA8dSl3aGlsZShsLS0pY1tsXXx8ZltsXXx8KGZbbF09cS5jYWxsKHIpKTtmPVRlKGYpfUguYXBwbHkocixmKSxpJiYhZSYmMDxmLmxlbmd0aCYmMTx1K3kubGVuZ3RoJiZzZS51bmlxdWVTb3J0KHIpfXJldHVybiBpJiYoaz1oLHc9cCksY30sbT9sZShyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9LGc9c2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxjPSFyJiZoKGU9bC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Yy5sZW5ndGgpe2lmKDI8KG89Y1swXT1jWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmRSYmYi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KGIuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksdCl8fFtdKVswXSkpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1HLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7d2hpbGUoaS0tKXtpZihhPW9baV0sYi5yZWxhdGl2ZVtzPWEudHlwZV0pYnJlYWs7aWYoKHU9Yi5maW5kW3NdKSYmKHI9dShhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksZWUudGVzdChvWzBdLnR5cGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZ4ZShvKSkpcmV0dXJuIEguYXBwbHkobixyKSxuO2JyZWFrfX19cmV0dXJuKGx8fGYoZSxjKSkocix0LCFFLG4sIXR8fGVlLnRlc3QoZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpLG59LGQuc29ydFN0YWJsZT1TLnNwbGl0KCIiKS5zb3J0KGopLmpvaW4oIiIpPT09UyxkLmRldGVjdER1cGxpY2F0ZXM9ISFsLFQoKSxkLnNvcnREZXRhY2hlZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxmZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuKXJldHVybiBlLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZC5hdHRyaWJ1dGVzJiZjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxpbnB1dC8+IixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxmZSgidmFsdWUiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8ZmUoUixmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoIW4pcmV0dXJuITA9PT1lW3RdP3QudG9Mb3dlckNhc2UoKToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9KSxzZX0oQyk7Uy5maW5kPWQsUy5leHByPWQuc2VsZWN0b3JzLFMuZXhwclsiOiJdPVMuZXhwci5wc2V1ZG9zLFMudW5pcXVlU29ydD1TLnVuaXF1ZT1kLnVuaXF1ZVNvcnQsUy50ZXh0PWQuZ2V0VGV4dCxTLmlzWE1MRG9jPWQuaXNYTUwsUy5jb250YWlucz1kLmNvbnRhaW5zLFMuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJlMoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxUPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxrPVMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gQShlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIE49L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7ZnVuY3Rpb24gaihlLG4scil7cmV0dXJuIG0obik/Uy5ncmVwKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hIW4uY2FsbChlLHQsZSkhPT1yfSk6bi5ub2RlVHlwZT9TLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PW4hPT1yfSk6InN0cmluZyIhPXR5cGVvZiBuP1MuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPGkuY2FsbChuLGUpIT09cn0pOlMuZmlsdGVyKG4sZSxyKX1TLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT9TLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOlMuZmluZC5tYXRjaGVzKGUsUy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxTLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soUyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYoUy5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKylTLmZpbmQoZSxpW3RdLG4pO3JldHVybiAxPHI/Uy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmay50ZXN0KGUpP1MoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgRCxxPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KFMuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fEQsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKHI9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTpxLmV4ZWMoZSkpfHwhclsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKHJbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIFM/dFswXTp0LFMubWVyZ2UodGhpcyxTLnBhcnNlSFRNTChyWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OkUsITApKSxOLnRlc3QoclsxXSkmJlMuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KW0odGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4oaT1FLmdldEVsZW1lbnRCeUlkKHJbMl0pKSYmKHRoaXNbMF09aSx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTptKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKFMpOlMubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9Uy5mbixEPVMoRSk7dmFyIEw9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sSD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBPKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PVMoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYoUy5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZTKGUpO2lmKCFrLnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/LTE8YS5pbmRleChuKToxPT09bi5ub2RlVHlwZSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPG8ubGVuZ3RoP1MudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP2kuY2FsbChTKGUpLHRoaXNbMF0pOmkuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy51bmlxdWVTb3J0KFMubWVyZ2UodGhpcy5nZXQoKSxTKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLFMuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gVCgoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuY29udGVudERvY3VtZW50JiZyKGUuY29udGVudERvY3VtZW50KT9lLmNvbnRlbnREb2N1bWVudDooQShlLCJ0ZW1wbGF0ZSIpJiYoZT1lLmNvbnRlbnR8fGUpLFMubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihyLGkpe1MuZm5bcl09ZnVuY3Rpb24oZSx0KXt2YXIgbj1TLm1hcCh0aGlzLGksZSk7cmV0dXJuIlVudGlsIiE9PXIuc2xpY2UoLTUpJiYodD1lKSx0JiYic3RyaW5nIj09dHlwZW9mIHQmJihuPVMuZmlsdGVyKHQsbikpLDE8dGhpcy5sZW5ndGgmJihIW3JdfHxTLnVuaXF1ZVNvcnQobiksTC50ZXN0KHIpJiZuLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFA9L1teXHgyMFx0XHJcblxmXSsvZztmdW5jdGlvbiBSKGUpe3JldHVybiBlfWZ1bmN0aW9uIE0oZSl7dGhyb3cgZX1mdW5jdGlvbiBJKGUsdCxuLHIpe3ZhciBpO3RyeXtlJiZtKGk9ZS5wcm9taXNlKT9pLmNhbGwoZSkuZG9uZSh0KS5mYWlsKG4pOmUmJm0oaT1lLnRoZW4pP2kuY2FsbChlLHQsbik6dC5hcHBseSh2b2lkIDAsW2VdLnNsaWNlKHIpKX1jYXRjaChlKXtuLmFwcGx5KHZvaWQgMCxbZV0pfX1TLkNhbGxiYWNrcz1mdW5jdGlvbihyKXt2YXIgZSxuO3I9InN0cmluZyI9PXR5cGVvZiByPyhlPXIsbj17fSxTLmVhY2goZS5tYXRjaChQKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6Uy5leHRlbmQoe30scik7dmFyIGksdCxvLGEscz1bXSx1PVtdLGw9LTEsYz1mdW5jdGlvbigpe2ZvcihhPWF8fHIub25jZSxvPWk9ITA7dS5sZW5ndGg7bD0tMSl7dD11LnNoaWZ0KCk7d2hpbGUoKytsPHMubGVuZ3RoKSExPT09c1tsXS5hcHBseSh0WzBdLHRbMV0pJiZyLnN0b3BPbkZhbHNlJiYobD1zLmxlbmd0aCx0PSExKX1yLm1lbW9yeXx8KHQ9ITEpLGk9ITEsYSYmKHM9dD9bXToiIil9LGY9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYodCYmIWkmJihsPXMubGVuZ3RoLTEsdS5wdXNoKHQpKSxmdW5jdGlvbiBuKGUpe1MuZWFjaChlLGZ1bmN0aW9uKGUsdCl7bSh0KT9yLnVuaXF1ZSYmZi5oYXModCl8fHMucHVzaCh0KTp0JiZ0Lmxlbmd0aCYmInN0cmluZyIhPT13KHQpJiZuKHQpfSl9KGFyZ3VtZW50cyksdCYmIWkmJmMoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIFMuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgtMTwobj1TLmluQXJyYXkodCxzLG4pKSlzLnNwbGljZShuLDEpLG48PWwmJmwtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT8tMTxTLmluQXJyYXkoZSxzKTowPHMubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBhPXU9W10scz10PSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXN9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHR8fGl8fChzPXQ9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhYX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXx8KHQ9W2UsKHQ9dHx8W10pLnNsaWNlP3Quc2xpY2UoKTp0XSx1LnB1c2godCksaXx8YygpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFvfX07cmV0dXJuIGZ9LFMuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgbz1bWyJub3RpZnkiLCJwcm9ncmVzcyIsUy5DYWxsYmFja3MoIm1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0saT0icGVuZGluZyIsYT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihyKXtTLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPW0oaVt0WzRdXSkmJmlbdFs0XV07c1t0WzFdXShmdW5jdGlvbigpe3ZhciBlPW4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJm0oZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhyLm5vdGlmeSkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpOnJbdFswXSsiV2l0aCJdKHRoaXMsbj9bZV06YXJndW1lbnRzKX0pfSksaT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQsbixyKXt2YXIgdT0wO2Z1bmN0aW9uIGwoaSxvLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cyxlPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZighKGk8dSkpe2lmKChlPWEuYXBwbHkobixyKSk9PT1vLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTt0PWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSYmZS50aGVuLG0odCk/cz90LmNhbGwoZSxsKHUsbyxSLHMpLGwodSxvLE0scykpOih1KyssdC5jYWxsKGUsbCh1LG8sUixzKSxsKHUsbyxNLHMpLGwodSxvLFIsby5ub3RpZnlXaXRoKSkpOihhIT09UiYmKG49dm9pZCAwLHI9W2VdKSwoc3x8by5yZXNvbHZlV2l0aCkobixyKSl9fSx0PXM/ZTpmdW5jdGlvbigpe3RyeXtlKCl9Y2F0Y2goZSl7Uy5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soZSx0LnN0YWNrVHJhY2UpLHU8PWkrMSYmKGEhPT1NJiYobj12b2lkIDAscj1bZV0pLG8ucmVqZWN0V2l0aChuLHIpKX19O2k/dCgpOihTLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuc3RhY2tUcmFjZT1TLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxDLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihlKXtvWzBdWzNdLmFkZChsKDAsZSxtKHIpP3I6UixlLm5vdGlmeVdpdGgpKSxvWzFdWzNdLmFkZChsKDAsZSxtKHQpP3Q6UikpLG9bMl1bM10uYWRkKGwoMCxlLG0obik/bjpNKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/Uy5leHRlbmQoZSxhKTphfX0scz17fTtyZXR1cm4gUy5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdKyJXaXRoIl0odGhpcz09PXM/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxzW3RbMF0rIldpdGgiXT1uLmZpcmVXaXRofSksYS5wcm9taXNlKHMpLGUmJmUuY2FsbChzLHMpLHN9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCx0PW4scj1BcnJheSh0KSxpPXMuY2FsbChhcmd1bWVudHMpLG89Uy5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbdF09dGhpcyxpW3RdPTE8YXJndW1lbnRzLmxlbmd0aD9zLmNhbGwoYXJndW1lbnRzKTplLC0tbnx8by5yZXNvbHZlV2l0aChyLGkpfX07aWYobjw9MSYmKEkoZSxvLmRvbmUoYSh0KSkucmVzb2x2ZSxvLnJlamVjdCwhbiksInBlbmRpbmciPT09by5zdGF0ZSgpfHxtKGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pSShpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgVz0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtDLmNvbnNvbGUmJkMuY29uc29sZS53YXJuJiZlJiZXLnRlc3QoZS5uYW1lKSYmQy5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LFMucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oZSl7Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfTt2YXIgRj1TLkRlZmVycmVkKCk7ZnVuY3Rpb24gQigpe0UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixCKSxTLnJlYWR5KCl9Uy5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gRi50aGVuKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe1MucmVhZHlFeGNlcHRpb24oZSl9KSx0aGlzfSxTLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tUy5yZWFkeVdhaXQ6Uy5pc1JlYWR5KXx8KFMuaXNSZWFkeT0hMCkhPT1lJiYwPC0tUy5yZWFkeVdhaXR8fEYucmVzb2x2ZVdpdGgoRSxbU10pfX0pLFMucmVhZHkudGhlbj1GLnRoZW4sImNvbXBsZXRlIj09PUUucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09RS5yZWFkeVN0YXRlJiYhRS5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/Qy5zZXRUaW1lb3V0KFMucmVhZHkpOihFLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIpLEMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsQikpO3ZhciAkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe3ZhciBzPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoIm9iamVjdCI9PT13KG4pKWZvcihzIGluIGk9ITAsbikkKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLG0ocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoUyhlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxfPS9eLW1zLS8sej0vLShbYS16XSkvZztmdW5jdGlvbiBVKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBYKGUpe3JldHVybiBlLnJlcGxhY2UoXywibXMtIikucmVwbGFjZSh6LFUpfXZhciBWPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gRygpe3RoaXMuZXhwYW5kbz1TLmV4cGFuZG8rRy51aWQrK31HLnVpZD0xLEcucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFYoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW1godCldPW47ZWxzZSBmb3IociBpbiB0KWlbWChyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtYKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChYKToodD1YKHQpKWluIHI/W3RdOnQubWF0Y2goUCl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHxTLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFTLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgWT1uZXcgRyxRPW5ldyBHLEo9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxLPS9bQS1aXS9nO2Z1bmN0aW9uIFooZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShLLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Si50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fVEuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufVMuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBRLmhhc0RhdGEoZSl8fFkuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFEuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1EucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1kucmVtb3ZlKGUsdCl9fSksUy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1RLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVkuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9WChyLnNsaWNlKDUpKSxaKG8scixpW3JdKSk7WS5zZXQobywiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGl9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbil9KTokKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9US5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1aKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtRLnJlbW92ZSh0aGlzLGUpfSl9fSksUy5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihlKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLHI9WS5nZXQoZSx0KSxuJiYoIXJ8fEFycmF5LmlzQXJyYXkobik/cj1ZLmFjY2VzcyhlLHQsUy5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49Uy5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1TLl9xdWV1ZUhvb2tzKGUsdCk7ImlucHJvZ3Jlc3MiPT09aSYmKGk9bi5zaGlmdCgpLHItLSksaSYmKCJmeCI9PT10JiZuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLGZ1bmN0aW9uKCl7Uy5kZXF1ZXVlKGUsdCl9LG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIFkuZ2V0KGUsbil8fFkuYWNjZXNzKGUsbix7ZW1wdHk6Uy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7WS5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksUy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKHQsbil7dmFyIGU9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iZngiLGUtLSksYXJndW1lbnRzLmxlbmd0aDxlP1MucXVldWUodGhpc1swXSx0KTp2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Uy5xdWV1ZSh0aGlzLHQsbik7Uy5fcXVldWVIb29rcyh0aGlzLHQpLCJmeCI9PT10JiYiaW5wcm9ncmVzcyIhPT1lWzBdJiZTLmRlcXVldWUodGhpcyx0KX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9Uy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49WS5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgZWU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsdGU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK2VlKyIpKFthLXolXSopJCIsImkiKSxuZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHJlPUUuZG9jdW1lbnRFbGVtZW50LGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sb2U9e2NvbXBvc2VkOiEwfTtyZS5nZXRSb290Tm9kZSYmKGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8ZS5nZXRSb290Tm9kZShvZSk9PT1lLm93bmVyRG9jdW1lbnR9KTt2YXIgYWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibm9uZSI9PT0oZT10fHxlKS5zdHlsZS5kaXNwbGF5fHwiIj09PWUuc3R5bGUuZGlzcGxheSYmaWUoZSkmJiJub25lIj09PVMuY3NzKGUsImRpc3BsYXkiKX07ZnVuY3Rpb24gc2UoZSx0LG4scil7dmFyIGksbyxhPTIwLHM9cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBTLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChTLmNzc051bWJlclt0XT8iIjoicHgiKSxjPWUubm9kZVR5cGUmJihTLmNzc051bWJlclt0XXx8InB4IiE9PWwmJit1KSYmdGUuZXhlYyhTLmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pUy5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLFMuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgdWU9e307ZnVuY3Rpb24gbGUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKGxbY109WS5nZXQociwiZGlzcGxheSIpfHxudWxsLGxbY118fChyLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmYWUocikmJihsW2NdPSh1PWE9bz12b2lkIDAsYT0oaT1yKS5vd25lckRvY3VtZW50LHM9aS5ub2RlTmFtZSwodT11ZVtzXSl8fChvPWEuYm9keS5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQocykpLHU9Uy5jc3MobywiZGlzcGxheSIpLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSwibm9uZSI9PT11JiYodT0iYmxvY2siKSx1ZVtzXT11KSkpKToibm9uZSIhPT1uJiYobFtjXT0ibm9uZSIsWS5zZXQociwiZGlzcGxheSIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthZSh0aGlzKT9TKHRoaXMpLnNob3coKTpTKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBjZSxmZSxwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2k7Y2U9RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoRS5jcmVhdGVFbGVtZW50KCJkaXYiKSksKGZlPUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxmZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksZmUuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGNlLmFwcGVuZENoaWxkKGZlKSx5LmNoZWNrQ2xvbmU9Y2UuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGNlLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIseS5ub0Nsb25lQ2hlY2tlZD0hIWNlLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSxjZS5pbm5lckhUTUw9IjxvcHRpb24+PC9vcHRpb24+Iix5Lm9wdGlvbj0hIWNlLmxhc3RDaGlsZDt2YXIgZ2U9e3RoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB2ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmQShlLHQpP1MubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspWS5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fFkuZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9Z2UudGJvZHk9Z2UudGZvb3Q9Z2UuY29sZ3JvdXA9Z2UuY2FwdGlvbj1nZS50aGVhZCxnZS50aD1nZS50ZCx5Lm9wdGlvbnx8KGdlLm9wdGdyb3VwPWdlLm9wdGlvbj1bMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdKTt2YXIgbWU9Lzx8JiM/XHcrOy87ZnVuY3Rpb24geGUoZSx0LG4scixpKXtmb3IodmFyIG8sYSxzLHUsbCxjLGY9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1bXSxkPTAsaD1lLmxlbmd0aDtkPGg7ZCsrKWlmKChvPWVbZF0pfHwwPT09bylpZigib2JqZWN0Ij09PXcobykpUy5tZXJnZShwLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYobWUudGVzdChvKSl7YT1hfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KGRlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksdT1nZVtzXXx8Z2UuX2RlZmF1bHQsYS5pbm5lckhUTUw9dVsxXStTLmh0bWxQcmVmaWx0ZXIobykrdVsyXSxjPXVbMF07d2hpbGUoYy0tKWE9YS5sYXN0Q2hpbGQ7Uy5tZXJnZShwLGEuY2hpbGROb2RlcyksKGE9Zi5maXJzdENoaWxkKS50ZXh0Q29udGVudD0iIn1lbHNlIHAucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTtmLnRleHRDb250ZW50PSIiLGQ9MDt3aGlsZShvPXBbZCsrXSlpZihyJiYtMTxTLmluQXJyYXkobyxyKSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPWllKG8pLGE9dmUoZi5hcHBlbmRDaGlsZChvKSwic2NyaXB0IiksbCYmeWUoYSksbil7Yz0wO3doaWxlKG89YVtjKytdKWhlLnRlc3Qoby50eXBlfHwiIikmJm4ucHVzaChvKX1yZXR1cm4gZn12YXIgYmU9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHdlKCl7cmV0dXJuITB9ZnVuY3Rpb24gVGUoKXtyZXR1cm4hMX1mdW5jdGlvbiBDZShlLHQpe3JldHVybiBlPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEUuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fSgpPT0oImZvY3VzIj09PXQpfWZ1bmN0aW9uIEVlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApLHQpRWUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9VGU7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIFMoKS5vZmYoZSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPWEuZ3VpZHx8KGEuZ3VpZD1TLmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX1mdW5jdGlvbiBTZShlLGksbyl7bz8oWS5zZXQoZSxpLCExKSxTLmV2ZW50LmFkZChlLGkse25hbWVzcGFjZTohMSxoYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1ZLmdldCh0aGlzLGkpO2lmKDEmZS5pc1RyaWdnZXImJnRoaXNbaV0pe2lmKHIubGVuZ3RoKShTLmV2ZW50LnNwZWNpYWxbaV18fHt9KS5kZWxlZ2F0ZVR5cGUmJmUuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihyPXMuY2FsbChhcmd1bWVudHMpLFkuc2V0KHRoaXMsaSxyKSx0PW8odGhpcyxpKSx0aGlzW2ldKCksciE9PShuPVkuZ2V0KHRoaXMsaSkpfHx0P1kuc2V0KHRoaXMsaSwhMSk6bj17fSxyIT09bilyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksbiYmbi52YWx1ZX1lbHNlIHIubGVuZ3RoJiYoWS5zZXQodGhpcyxpLHt2YWx1ZTpTLmV2ZW50LnRyaWdnZXIoUy5leHRlbmQoclswXSxTLkV2ZW50LnByb3RvdHlwZSksci5zbGljZSgxKSx0aGlzKX0pLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX0pKTp2b2lkIDA9PT1ZLmdldChlLGkpJiZTLmV2ZW50LmFkZChlLGksd2UpfVMuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5nZXQodCk7aWYoVih0KSl7bi5oYW5kbGVyJiYobj0obz1uKS5oYW5kbGVyLGk9by5zZWxlY3RvciksaSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihyZSxpKSxuLmd1aWR8fChuLmd1aWQ9Uy5ndWlkKyspLCh1PXYuZXZlbnRzKXx8KHU9di5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFMmJlMuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP1MuZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9YmUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9Uy5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmUy5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwodCxyLGgsYSl8fHQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbCh0LGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxTLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5oYXNEYXRhKGUpJiZZLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlpZihkPWc9KHM9YmUuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtmPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fFMucmVtb3ZlRXZlbnQoZSxkLHYuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KVMuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7Uy5pc0VtcHR5T2JqZWN0KHUpJiZZLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdT1TLmV2ZW50LmZpeChlKSxsPShZLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdS50eXBlXXx8W10sYz1TLmV2ZW50LnNwZWNpYWxbdS50eXBlXXx8e307Zm9yKHNbMF09dSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylzW3RdPWFyZ3VtZW50c1t0XTtpZih1LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fCExIT09Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdSkpe2E9Uy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdSxsKSx0PTA7d2hpbGUoKGk9YVt0KytdKSYmIXUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7d2hpbGUoKG89aS5oYW5kbGVyc1tuKytdKSYmIXUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl1LnJuYW1lc3BhY2UmJiExIT09by5uYW1lc3BhY2UmJiF1LnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fCh1LmhhbmRsZU9iaj1vLHUuZGF0YT1vLmRhdGEsdm9pZCAwIT09KHI9KChTLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLHMpKSYmITE9PT0odS5yZXN1bHQ9cikmJih1LnByZXZlbnREZWZhdWx0KCksdS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHUpLHUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJjE8PWUuYnV0dG9uKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/LTE8UyhpLHRoaXMpLmluZGV4KGwpOlMuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShTLkV2ZW50LnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6bShlKT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gZSh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W3RdfSxzZXQ6ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbUy5leHBhbmRvXT9lOm5ldyBTLkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIsd2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtyZXR1cm4gcGUudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZBKHQsImlucHV0IikmJlkuZ2V0KHQsImNsaWNrIil8fEEodCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LFMucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LFMuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBTLkV2ZW50KSlyZXR1cm4gbmV3IFMuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT93ZTpUZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZTLmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbUy5leHBhbmRvXT0hMH0sUy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlMuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOlRlLGlzUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sUy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjb2RlOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOiEwfSxTLmV2ZW50LmFkZFByb3ApLFMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtTLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIFNlKHRoaXMsZSxDZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gU2UodGhpcyxlKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGVsZWdhdGVUeXBlOnR9fSksUy5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe1MuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxTLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxTLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEVlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRWUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosUyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49VGUpLHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLEFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLE5lPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBqZShlLHQpe3JldHVybiBBKGUsInRhYmxlIikmJkEoMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpJiZTKGUpLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxlfWZ1bmN0aW9uIERlKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gcWUoZSl7cmV0dXJuInRydWUvIj09PShlLnR5cGV8fCIiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIExlKGUsdCl7dmFyIG4scixpLG8sYSxzO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihZLmhhc0RhdGEoZSkmJihzPVkuZ2V0KGUpLmV2ZW50cykpZm9yKGkgaW4gWS5yZW1vdmUodCwiaGFuZGxlIGV2ZW50cyIpLHMpZm9yKG49MCxyPXNbaV0ubGVuZ3RoO248cjtuKyspUy5ldmVudC5hZGQodCxpLHNbaV1bbl0pO1EuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1TLmV4dGVuZCh7fSxvKSxRLnNldCh0LGEpKX19ZnVuY3Rpb24gSGUobixyLGksbyl7cj1nKHIpO3ZhciBlLHQsYSxzLHUsbCxjPTAsZj1uLmxlbmd0aCxwPWYtMSxkPXJbMF0saD1tKGQpO2lmKGh8fDE8ZiYmInN0cmluZyI9PXR5cGVvZiBkJiYheS5jaGVja0Nsb25lJiZBZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksSGUodCxyLGksbyl9KTtpZihmJiYodD0oZT14ZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Uy5tYXAodmUoZSwic2NyaXB0IiksRGUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PVMuY2xvbmUodSwhMCwhMCkscyYmUy5tZXJnZShhLHZlKHUsInNjcmlwdCIpKSksaS5jYWxsKG5bY10sdSxjKTtpZihzKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxTLm1hcChhLHFlKSxjPTA7YzxzO2MrKyl1PWFbY10saGUudGVzdCh1LnR5cGV8fCIiKSYmIVkuYWNjZXNzKHUsImdsb2JhbEV2YWwiKSYmUy5jb250YWlucyhsLHUpJiYodS5zcmMmJiJtb2R1bGUiIT09KHUudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/Uy5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJlMuX2V2YWxVcmwodS5zcmMse25vbmNlOnUubm9uY2V8fHUuZ2V0QXR0cmlidXRlKCJub25jZSIpfSxsKTpiKHUudGV4dENvbnRlbnQucmVwbGFjZShOZSwiIiksdSxsKSl9cmV0dXJuIG59ZnVuY3Rpb24gT2UoZSx0LG4pe2Zvcih2YXIgcixpPXQ/Uy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fFMuY2xlYW5EYXRhKHZlKHIpKSxyLnBhcmVudE5vZGUmJihuJiZpZShyKSYmeWUodmUociwic2NyaXB0IikpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSk7cmV0dXJuIGV9Uy5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPWllKGUpO2lmKCEoeS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Uy5pc1hNTERvYyhlKSkpZm9yKGE9dmUoYykscj0wLGk9KG89dmUoZSkpLmxlbmd0aDtyPGk7cisrKXM9b1tyXSx1PWFbcl0sdm9pZCAwLCJpbnB1dCI9PT0obD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZwZS50ZXN0KHMudHlwZSk/dS5jaGVja2VkPXMuY2hlY2tlZDoiaW5wdXQiIT09bCYmInRleHRhcmVhIiE9PWx8fCh1LmRlZmF1bHRWYWx1ZT1zLmRlZmF1bHRWYWx1ZSk7aWYodClpZihuKWZvcihvPW98fHZlKGUpLGE9YXx8dmUoYykscj0wLGk9by5sZW5ndGg7cjxpO3IrKylMZShvW3JdLGFbcl0pO2Vsc2UgTGUoZSxjKTtyZXR1cm4gMDwoYT12ZShjLCJzY3JpcHQiKSkubGVuZ3RoJiZ5ZShhLCFmJiZ2ZShlLCJzY3JpcHQiKSksY30sY2xlYW5EYXRhOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT1TLmV2ZW50LnNwZWNpYWwsbz0wO3ZvaWQgMCE9PShuPWVbb10pO28rKylpZihWKG4pKXtpZih0PW5bWS5leHBhbmRvXSl7aWYodC5ldmVudHMpZm9yKHIgaW4gdC5ldmVudHMpaVtyXT9TLmV2ZW50LnJlbW92ZShuLHIpOlMucmVtb3ZlRXZlbnQobixyLHQuaGFuZGxlKTtuW1kuZXhwYW5kb109dm9pZCAwfW5bUS5leHBhbmRvXSYmKG5bUS5leHBhbmRvXT12b2lkIDApfX19KSxTLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9lKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9TLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fGplKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9amUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoUy5jbGVhbkRhdGEodmUoZSwhMSkpLGUudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBTLmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIWtlLnRlc3QoZSkmJiFnZVsoZGUuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9Uy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50Tm9kZTtTLmluQXJyYXkodGhpcyxuKTwwJiYoUy5jbGVhbkRhdGEodmUodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxTLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLGEpe1MuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10scj1TKGUpLGk9ci5sZW5ndGgtMSxvPTA7bzw9aTtvKyspdD1vPT09aT90aGlzOnRoaXMuY2xvbmUoITApLFMocltvXSlbYV0odCksdS5hcHBseShuLHQuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUGU9bmV3IFJlZ0V4cCgiXigiK2VlKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksUmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9QyksdC5nZXRDb21wdXRlZFN0eWxlKGUpfSxNZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9O2ZvcihpIGluIHQpb1tpXT1lLnN0eWxlW2ldLGUuc3R5bGVbaV09dFtpXTtmb3IoaSBpbiByPW4uY2FsbChlKSx0KWUuc3R5bGVbaV09b1tpXTtyZXR1cm4gcn0sSWU9bmV3IFJlZ0V4cChuZS5qb2luKCJ8IiksImkiKTtmdW5jdGlvbiBXZShlLHQsbil7dmFyIHIsaSxvLGEscz1lLnN0eWxlO3JldHVybihuPW58fFJlKGUpKSYmKCIiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8aWUoZSl8fChhPVMuc3R5bGUoZSx0KSksIXkucGl4ZWxCb3hTdHlsZXMoKSYmUGUudGVzdChhKSYmSWUudGVzdCh0KSYmKHI9cy53aWR0aCxpPXMubWluV2lkdGgsbz1zLm1heFdpZHRoLHMubWluV2lkdGg9cy5tYXhXaWR0aD1zLndpZHRoPWEsYT1uLndpZHRoLHMud2lkdGg9cixzLm1pbldpZHRoPWkscy5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hKyIiOmF9ZnVuY3Rpb24gRmUoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIWUoKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fSFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihsKXt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSIscmUuYXBwZW5kQ2hpbGQodSkuYXBwZW5kQ2hpbGQobCk7dmFyIGU9Qy5nZXRDb21wdXRlZFN0eWxlKGwpO249IjElIiE9PWUudG9wLHM9MTI9PT10KGUubWFyZ2luTGVmdCksbC5zdHlsZS5yaWdodD0iNjAlIixvPTM2PT09dChlLnJpZ2h0KSxyPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxyZS5yZW1vdmVDaGlsZCh1KSxsPW51bGx9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIG4scixpLG8sYSxzLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKSxsPUUuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZSYmKGwuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixsLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIseS5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWwuc3R5bGUuYmFja2dyb3VuZENsaXAsUy5leHRlbmQoeSx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHJ9LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxvfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxufSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGl9LHJlbGlhYmxlVHJEaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7cmV0dXJuIG51bGw9PWEmJihlPUUuY3JlYXRlRWxlbWVudCgidGFibGUiKSx0PUUuY3JlYXRlRWxlbWVudCgidHIiKSxuPUUuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZSIsdC5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MXB4IHNvbGlkIix0LnN0eWxlLmhlaWdodD0iMXB4IixuLnN0eWxlLmhlaWdodD0iOXB4IixuLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixyZS5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPUMuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxhPXBhcnNlSW50KHIuaGVpZ2h0LDEwKStwYXJzZUludChyLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChyLmJvcmRlckJvdHRvbVdpZHRoLDEwKT09PXQub2Zmc2V0SGVpZ2h0LHJlLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgQmU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLCRlPUUuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsX2U9e307ZnVuY3Rpb24gemUoZSl7dmFyIHQ9Uy5jc3NQcm9wc1tlXXx8X2VbZV07cmV0dXJuIHR8fChlIGluICRlP2U6X2VbZV09ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1CZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUJlW25dK3QpaW4gJGUpcmV0dXJuIGV9KGUpfHxlKX12YXIgVWU9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFhlPS9eLS0vLFZlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxHZT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07ZnVuY3Rpb24gWWUoZSx0LG4pe3ZhciByPXRlLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gUWUoZSx0LG4scixpLG8pe3ZhciBhPSJ3aWR0aCI9PT10PzE6MCxzPTAsdT0wO2lmKG49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpIm1hcmdpbiI9PT1uJiYodSs9Uy5jc3MoZSxuK25lW2FdLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYodS09Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSkpLCJtYXJnaW4iIT09biYmKHUtPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKSkpOih1Kz1TLmNzcyhlLCJwYWRkaW5nIituZVthXSwhMCxpKSwicGFkZGluZyIhPT1uP3UrPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKTpzKz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpO3JldHVybiFyJiYwPD1vJiYodSs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVsib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tby11LXMtLjUpKXx8MCksdX1mdW5jdGlvbiBKZShlLHQsbil7dmFyIHI9UmUoZSksaT0oIXkuYm94U2l6aW5nUmVsaWFibGUoKXx8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsciksbz1pLGE9V2UoZSx0LHIpLHM9Im9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYoUGUudGVzdChhKSl7aWYoIW4pcmV0dXJuIGE7YT0iYXV0byJ9cmV0dXJuKCF5LmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCF5LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkmJkEoZSwidHIiKXx8ImF1dG8iPT09YXx8IXBhcnNlRmxvYXQoYSkmJiJpbmxpbmUiPT09Uy5jc3MoZSwiZGlzcGxheSIsITEscikpJiZlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoaT0iYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLChvPXMgaW4gZSkmJihhPWVbc10pKSwoYT1wYXJzZUZsb2F0KGEpfHwwKStRZShlLHQsbnx8KGk/ImJvcmRlciI6ImNvbnRlbnQiKSxvLHIsYSkrInB4In1mdW5jdGlvbiBLZShlLHQsbixyLGkpe3JldHVybiBuZXcgS2UucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1TLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPVdlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9WCh0KSx1PVhlLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PXplKHMpKSxhPVMuY3NzSG9va3NbdF18fFMuY3NzSG9va3Nbc10sdm9pZCAwPT09bilyZXR1cm4gYSYmImdldCJpbiBhJiZ2b2lkIDAhPT0oaT1hLmdldChlLCExLHIpKT9pOmxbdF07InN0cmluZyI9PT0obz10eXBlb2YgbikmJihpPXRlLmV4ZWMobikpJiZpWzFdJiYobj1zZShlLHQsaSksbz0ibnVtYmVyIiksbnVsbCE9biYmbj09biYmKCJudW1iZXIiIT09b3x8dXx8KG4rPWkmJmlbM118fChTLmNzc051bWJlcltzXT8iIjoicHgiKSkseS5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobFt0XT0iaW5oZXJpdCIpLGEmJiJzZXQiaW4gYSYmdm9pZCAwPT09KG49YS5zZXQoZSxuLHIpKXx8KHU/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPVgodCk7cmV0dXJuIFhlLnRlc3QodCl8fCh0PXplKHMpKSwoYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdKSYmImdldCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1XZShlLHQscikpLCJub3JtYWwiPT09aSYmdCBpbiBHZSYmKGk9R2VbdF0pLCIiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLCEwPT09bnx8aXNGaW5pdGUobyk/b3x8MDppKTppfX0pLFMuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx1KXtTLmNzc0hvb2tzW3VdPXtnZXQ6ZnVuY3Rpb24oZSx0LG4pe2lmKHQpcmV0dXJuIVVlLnRlc3QoUy5jc3MoZSwiZGlzcGxheSIpKXx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9KZShlLHUsbik6TWUoZSxWZSxmdW5jdGlvbigpe3JldHVybiBKZShlLHUsbil9KX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPVJlKGUpLG89IXkuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09aS5wb3NpdGlvbixhPShvfHxuKSYmImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSxzPW4/UWUoZSx1LG4sYSxpKTowO3JldHVybiBhJiZvJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdVswXS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSldLXBhcnNlRmxvYXQoaVt1XSktUWUoZSx1LCJib3JkZXIiLCExLGkpLS41KSkscyYmKHI9dGUuZXhlYyh0KSkmJiJweCIhPT0oclszXXx8InB4IikmJihlLnN0eWxlW3VdPXQsdD1TLmNzcyhlLHUpKSxZZSgwLHQscyl9fX0pLFMuY3NzSG9va3MubWFyZ2luTGVmdD1GZSh5LnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoV2UoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LU1lKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSxTLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihpLG8pe1MuY3NzSG9va3NbaStvXT17ZXhwYW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49e30scj0ic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiICIpOltlXTt0PDQ7dCsrKW5baStuZVt0XStvXT1yW3RdfHxyW3QtMl18fHJbMF07cmV0dXJuIG59fSwibWFyZ2luIiE9PWkmJihTLmNzc0hvb2tzW2krb10uc2V0PVllKX0pLFMuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPVJlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPVMuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9TLnN0eWxlKGUsdCxuKTpTLmNzcyhlLHQpfSxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KSwoKFMuVHdlZW49S2UpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2UsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8Uy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fChTLmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9S2UucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOktlLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPUtlLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1TLmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6S2UucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPUtlLnByb3RvdHlwZSwoS2UucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9Uy5jc3MoZS5lbGVtLGUucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe1MuZnguc3RlcFtlLnByb3BdP1MuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fCFTLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVt6ZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpTLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSkuc2Nyb2xsVG9wPUtlLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LFMuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn0sUy5meD1LZS5wcm90b3R5cGUuaW5pdCxTLmZ4LnN0ZXA9e307dmFyIFplLGV0LHR0LG50LHJ0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxpdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIG90KCl7ZXQmJighMT09PUUuaGlkZGVuJiZDLnJlcXVlc3RBbmltYXRpb25GcmFtZT9DLnJlcXVlc3RBbmltYXRpb25GcmFtZShvdCk6Qy5zZXRUaW1lb3V0KG90LFMuZnguaW50ZXJ2YWwpLFMuZngudGljaygpKX1mdW5jdGlvbiBhdCgpe3JldHVybiBDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtaZT12b2lkIDB9KSxaZT1EYXRlLm5vdygpfWZ1bmN0aW9uIHN0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbIm1hcmdpbiIrKG49bmVbcl0pXT1pWyJwYWRkaW5nIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiB1dChlLHQsbil7Zm9yKHZhciByLGk9KGx0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KGx0LnR3ZWVuZXJzWyIqIl0pLG89MCxhPWkubGVuZ3RoO288YTtvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGx0KG8sZSx0KXt2YXIgbixhLHI9MCxpPWx0LnByZWZpbHRlcnMubGVuZ3RoLHM9Uy5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9WmV8fGF0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpTLmV4dGVuZCh7fSxlKSxvcHRzOlMuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpTLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOlplfHxhdCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5Ud2VlbihvLGwub3B0cyxlLHQsbC5vcHRzLnNwZWNpYWxFYXNpbmdbZV18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKG4pLG59LHN0b3A6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWU/bC50d2VlbnMubGVuZ3RoOjA7aWYoYSlyZXR1cm4gdGhpcztmb3IoYT0hMDt0PG47dCsrKWwudHdlZW5zW3RdLnJ1bigxKTtyZXR1cm4gZT8ocy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsLGVdKSk6cy5yZWplY3RXaXRoKG8sW2wsZV0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcighZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhO2ZvcihuIGluIGUpaWYoaT10W3I9WChuKV0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT1TLmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKWZvcihuIGluIG89YS5leHBhbmQobyksZGVsZXRlIGVbcl0sbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cjxpO3IrKylpZihuPWx0LnByZWZpbHRlcnNbcl0uY2FsbChsLG8sYyxsLm9wdHMpKXJldHVybiBtKG4uc3RvcCkmJihTLl9xdWV1ZUhvb2tzKGwuZWxlbSxsLm9wdHMucXVldWUpLnN0b3A9bi5zdG9wLmJpbmQobikpLG47cmV0dXJuIFMubWFwKGMsdXQsbCksbShsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChvLGwpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpLFMuZngudGltZXIoUy5leHRlbmQodSx7ZWxlbTpvLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbH1TLkFuaW1hdGlvbj1TLmV4dGVuZChsdCx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHNlKG4uZWxlbSxlLHRlLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7bShlKT8odD1lLGU9WyIqIl0pOmU9ZS5tYXRjaChQKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWVbcl0sbHQudHdlZW5lcnNbbl09bHQudHdlZW5lcnNbbl18fFtdLGx0LnR3ZWVuZXJzW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjLGY9IndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCxwPXRoaXMsZD17fSxoPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZhZShlKSx2PVkuZ2V0KGUsImZ4c2hvdyIpO2ZvcihyIGluIG4ucXVldWV8fChudWxsPT0oYT1TLl9xdWV1ZUhvb2tzKGUsImZ4IikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHM9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHMoKX0pLGEudW5xdWV1ZWQrKyxwLmFsd2F5cyhmdW5jdGlvbigpe3AuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLFMucXVldWUoZSwiZngiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihpPXRbcl0scnQudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShnPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Uy5zdHlsZShlLHIpfWlmKCh1PSFTLmlzRW1wdHlPYmplY3QodCkpfHwhUy5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9WS5nZXQoZSwiZGlzcGxheSIpKSwibm9uZSI9PT0oYz1TLmNzcyhlLCJkaXNwbGF5IikpJiYobD9jPWw6KGxlKFtlXSwhMCksbD1lLnN0eWxlLmRpc3BsYXl8fGwsYz1TLmNzcyhlLCJkaXNwbGF5IiksbGUoW2VdKSkpLCgiaW5saW5lIj09PWN8fCJpbmxpbmUtYmxvY2siPT09YyYmbnVsbCE9bCkmJiJub25lIj09PVMuY3NzKGUsImZsb2F0IikmJih1fHwocC5kb25lKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1oLmRpc3BsYXksbD0ibm9uZSI9PT1jPyIiOmMpKSxoLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYoaC5vdmVyZmxvdz0iaGlkZGVuIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2PyJoaWRkZW4iaW4gdiYmKGc9di5oaWRkZW4pOnY9WS5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpsfSksbyYmKHYuaGlkZGVuPSFnKSxnJiZsZShbZV0sITApLHAuZG9uZShmdW5jdGlvbigpe2ZvcihyIGluIGd8fGxlKFtlXSksWS5yZW1vdmUoZSwiZnhzaG93IiksZClTLnN0eWxlKGUscixkW3JdKX0pKSx1PXV0KGc/dltyXTowLHIscCksciBpbiB2fHwodltyXT11LnN0YXJ0LGcmJih1LmVuZD11LnN0YXJ0LHUuc3RhcnQ9MCkpfV0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9sdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6bHQucHJlZmlsdGVycy5wdXNoKGUpfX0pLFMuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT9TLmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fG0oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIW0odCkmJnR9O3JldHVybiBTLmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiBTLmZ4LnNwZWVkcz9yLmR1cmF0aW9uPVMuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249Uy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bShyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmUy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LFMuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1TLmlzRW1wdHlPYmplY3QodCksbz1TLnNwZWVkKGUsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIGU9bHQodGhpcyxTLmV4dGVuZCh7fSx0KSxvKTsoaXx8WS5nZXQodGhpcywiZmluaXNoIikpJiZlLnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihpLGUsbyl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChvKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0hMCx0PW51bGwhPWkmJmkrInF1ZXVlSG9va3MiLG49Uy50aW1lcnMscj1ZLmdldCh0aGlzKTtpZih0KXJbdF0mJnJbdF0uc3RvcCYmYShyW3RdKTtlbHNlIGZvcih0IGluIHIpclt0XSYmclt0XS5zdG9wJiZpdC50ZXN0KHQpJiZhKHJbdF0pO2Zvcih0PW4ubGVuZ3RoO3QtLTspblt0XS5lbGVtIT09dGhpc3x8bnVsbCE9aSYmblt0XS5xdWV1ZSE9PWl8fChuW3RdLmFuaW0uc3RvcChvKSxlPSExLG4uc3BsaWNlKHQsMSkpOyFlJiZvfHxTLmRlcXVldWUodGhpcyxpKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuITEhPT1hJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0PVkuZ2V0KHRoaXMpLG49dFthKyJxdWV1ZSJdLHI9dFthKyJxdWV1ZUhvb2tzIl0saT1TLnRpbWVycyxvPW4/bi5sZW5ndGg6MDtmb3IodC5maW5pc2g9ITAsUy5xdWV1ZSh0aGlzLGEsW10pLHImJnIuc3RvcCYmci5zdG9wLmNhbGwodGhpcywhMCksZT1pLmxlbmd0aDtlLS07KWlbZV0uZWxlbT09PXRoaXMmJmlbZV0ucXVldWU9PT1hJiYoaVtlXS5hbmltLnN0b3AoITApLGkuc3BsaWNlKGUsMSkpO2ZvcihlPTA7ZTxvO2UrKyluW2VdJiZuW2VdLmZpbmlzaCYmbltlXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgdC5maW5pc2h9KX19KSxTLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUscil7dmFyIGk9Uy5mbltyXTtTLmZuW3JdPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoc3QociwhMCksZSx0LG4pfX0pLFMuZWFjaCh7c2xpZGVEb3duOnN0KCJzaG93Iiksc2xpZGVVcDpzdCgiaGlkZSIpLHNsaWRlVG9nZ2xlOnN0KCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUscil7Uy5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxTLnRpbWVycz1bXSxTLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj1TLnRpbWVycztmb3IoWmU9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxTLmZ4LnN0b3AoKSxaZT12b2lkIDB9LFMuZngudGltZXI9ZnVuY3Rpb24oZSl7Uy50aW1lcnMucHVzaChlKSxTLmZ4LnN0YXJ0KCl9LFMuZnguaW50ZXJ2YWw9MTMsUy5meC5zdGFydD1mdW5jdGlvbigpe2V0fHwoZXQ9ITAsb3QoKSl9LFMuZnguc3RvcD1mdW5jdGlvbigpe2V0PW51bGx9LFMuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LFMuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1TLmZ4JiZTLmZ4LnNwZWVkc1tyXXx8cixlPWV8fCJmeCIsdGhpcy5xdWV1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49Qy5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7Qy5jbGVhclRpbWVvdXQobil9fSl9LHR0PUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxudD1FLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLHR0LnR5cGU9ImNoZWNrYm94Iix5LmNoZWNrT249IiIhPT10dC52YWx1ZSx5Lm9wdFNlbGVjdGVkPW50LnNlbGVjdGVkLCh0dD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0Iix0dC50eXBlPSJyYWRpbyIseS5yYWRpb1ZhbHVlPSJ0Ij09PXR0LnZhbHVlO3ZhciBjdCxmdD1TLmV4cHIuYXR0ckhhbmRsZTtTLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsUy5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/Uy5wcm9wKGUsdCxuKTooMT09PW8mJlMuaXNYTUxEb2MoZSl8fChpPVMuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChTLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP2N0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCBTLnJlbW92ZUF0dHIoZSx0KTppJiYic2V0ImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPVMuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmQShlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goUCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksY3Q9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P1MucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LFMuZWFjaChTLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBhPWZ0W3RdfHxTLmZpbmQuYXR0cjtmdFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9ZnRbb10sZnRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCxmdFtvXT1pKSxyfX0pO3ZhciBwdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGR0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBodChlKXtyZXR1cm4oZS5tYXRjaChQKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBndChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiB2dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChQKXx8W119Uy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbUy5wcm9wRml4W2VdfHxlXX0pfX0pLFMuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmUy5pc1hNTERvYyhlKXx8KHQ9Uy5wcm9wRml4W3RdfHx0LGk9Uy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6cHQudGVzdChlLm5vZGVOYW1lKXx8ZHQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSkseS5vcHRTZWxlY3RlZHx8KFMucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxTLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe1MucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxTLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLmFkZENsYXNzKHQuY2FsbCh0aGlzLGUsZ3QodGhpcykpKX0pO2lmKChlPXZ0KHQpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1ndChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIraHQoaSkrIiAiKXthPTA7d2hpbGUobz1lW2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9aHQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1PTA7aWYobSh0KSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1ModGhpcykucmVtb3ZlQ2xhc3ModC5jYWxsKHRoaXMsZSxndCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigoZT12dCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9Z3Qobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK2h0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXdoaWxlKC0xPHIuaW5kZXhPZigiICIrbysiICIpKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz1odChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGksdCl7dmFyIG89dHlwZW9mIGksYT0ic3RyaW5nIj09PW98fEFycmF5LmlzQXJyYXkoaSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmYT90P3RoaXMuYWRkQ2xhc3MoaSk6dGhpcy5yZW1vdmVDbGFzcyhpKTptKGkpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnRvZ2dsZUNsYXNzKGkuY2FsbCh0aGlzLGUsZ3QodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtpZihhKXt0PTAsbj1TKHRoaXMpLHI9dnQoaSk7d2hpbGUoZT1yW3QrK10pbi5oYXNDbGFzcyhlKT9uLnJlbW92ZUNsYXNzKGUpOm4uYWRkQ2xhc3MoZSl9ZWxzZSB2b2lkIDAhPT1pJiYiYm9vbGVhbiIhPT1vfHwoKGU9Z3QodGhpcykpJiZZLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlfHwhMT09PWk/IiI6WS5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoIiAiK2h0KGd0KG4pKSsiICIpLmluZGV4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHl0PS9cci9nO1MuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHIsZSxpLHQ9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1tKG4pLHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgdDsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh0PWk/bi5jYWxsKHRoaXMsZSxTKHRoaXMpLnZhbCgpKTpuKT90PSIiOiJudW1iZXIiPT10eXBlb2YgdD90Kz0iIjpBcnJheS5pc0FycmF5KHQpJiYodD1TLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHI9Uy52YWxIb29rc1t0aGlzLnR5cGVdfHxTLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHImJnZvaWQgMCE9PXIuc2V0KHRoaXMsdCwidmFsdWUiKXx8KHRoaXMudmFsdWU9dCkpfSkpOnQ/KHI9Uy52YWxIb29rc1t0LnR5cGVdfHxTLnZhbEhvb2tzW3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHImJnZvaWQgMCE9PShlPXIuZ2V0KHQsInZhbHVlIikpP2U6InN0cmluZyI9PXR5cGVvZihlPXQudmFsdWUpP2UucmVwbGFjZSh5dCwiIik6bnVsbD09ZT8iIjplOnZvaWQgMH19KSxTLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpodChTLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9ZS5vcHRpb25zLG89ZS5zZWxlY3RlZEluZGV4LGE9InNlbGVjdC1vbmUiPT09ZS50eXBlLHM9YT9udWxsOltdLHU9YT9vKzE6aS5sZW5ndGg7Zm9yKHI9bzwwP3U6YT9vOjA7cjx1O3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhQShuLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih0PVMobikudmFsKCksYSlyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLm9wdGlvbnMsbz1TLm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO3doaWxlKGEtLSkoKHI9aVthXSkuc2VsZWN0ZWQ9LTE8Uy5pbkFycmF5KFMudmFsSG9va3Mub3B0aW9uLmdldChyKSxvKSkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLFMuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe1MudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD0tMTxTLmluQXJyYXkoUyhlKS52YWwoKSx0KX19LHkuY2hlY2tPbnx8KFMudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KSx5LmZvY3VzaW49Im9uZm9jdXNpbiJpbiBDO3ZhciBtdD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8seHQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07Uy5leHRlbmQoUy5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmLHA9W258fEVdLGQ9di5jYWxsKGUsInR5cGUiKT9lLnR5cGU6ZSxoPXYuY2FsbChlLCJuYW1lc3BhY2UiKT9lLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKG89Zj1hPW49bnx8RSwzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJiFtdC50ZXN0KGQrUy5ldmVudC50cmlnZ2VyZWQpJiYoLTE8ZC5pbmRleE9mKCIuIikmJihkPShoPWQuc3BsaXQoIi4iKSkuc2hpZnQoKSxoLnNvcnQoKSksdT1kLmluZGV4T2YoIjoiKTwwJiYib24iK2QsKGU9ZVtTLmV4cGFuZG9dP2U6bmV3IFMuRXZlbnQoZCwib2JqZWN0Ij09dHlwZW9mIGUmJmUpKS5pc1RyaWdnZXI9cj8yOjMsZS5uYW1lc3BhY2U9aC5qb2luKCIuIiksZS5ybmFtZXNwYWNlPWUubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxlLnJlc3VsdD12b2lkIDAsZS50YXJnZXR8fChlLnRhcmdldD1uKSx0PW51bGw9PXQ/W2VdOlMubWFrZUFycmF5KHQsW2VdKSxjPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXgobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLG10LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEUpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fEMpfWk9MDt3aGlsZSgobz1wW2krK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWY9byxlLnR5cGU9MTxpP3M6Yy5iaW5kVHlwZXx8ZCwobD0oWS5nZXQobywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJlkuZ2V0KG8sImhhbmRsZSIpKSYmbC5hcHBseShvLHQpLChsPXUmJm9bdV0pJiZsLmFwcGx5JiZWKG8pJiYoZS5yZXN1bHQ9bC5hcHBseShvLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1kLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMuX2RlZmF1bHQmJiExIT09Yy5fZGVmYXVsdC5hcHBseShwLnBvcCgpLHQpfHwhVihuKXx8dSYmbShuW2RdKSYmIXgobikmJigoYT1uW3VdKSYmKG5bdV09bnVsbCksUy5ldmVudC50cmlnZ2VyZWQ9ZCxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYuYWRkRXZlbnRMaXN0ZW5lcihkLHh0KSxuW2RdKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCx4dCksUy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW3VdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TLmV4dGVuZChuZXcgUy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtTLmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLFMuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIFMuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSkseS5mb2N1c2lufHxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7Uy5ldmVudC5zaW11bGF0ZShyLGUudGFyZ2V0LFMuZXZlbnQuZml4KGUpKX07Uy5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyx0PVkuYWNjZXNzKGUscik7dHx8ZS5hZGRFdmVudExpc3RlbmVyKG4saSwhMCksWS5hY2Nlc3MoZSxyLCh0fHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpLTE7dD9ZLmFjY2VzcyhlLHIsdCk6KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksITApLFkucmVtb3ZlKGUscikpfX19KTt2YXIgYnQ9Qy5sb2NhdGlvbix3dD17Z3VpZDpEYXRlLm5vdygpfSxUdD0vXD8vO1MucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXt0PShuZXcgQy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe31yZXR1cm4gbj10JiZ0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdLHQmJiFufHxTLmVycm9yKCJJbnZhbGlkIFhNTDogIisobj9TLm1hcChuLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dENvbnRlbnR9KS5qb2luKCJcbiIpOmUpKSx0fTt2YXIgQ3Q9L1xbXF0kLyxFdD0vXHI/XG4vZyxTdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksa3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEF0KG4sZSxyLGkpe3ZhciB0O2lmKEFycmF5LmlzQXJyYXkoZSkpUy5lYWNoKGUsZnVuY3Rpb24oZSx0KXtyfHxDdC50ZXN0KG4pP2kobix0KTpBdChuKyJbIisoIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10P2U6IiIpKyJdIix0LHIsaSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dyhlKSlpKG4sZSk7ZWxzZSBmb3IodCBpbiBlKUF0KG4rIlsiK3QrIl0iLGVbdF0scixpKX1TLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49bSh0KT90KCk6dDtyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uPyIiOm4pfTtpZihudWxsPT1lKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhUy5pc1BsYWluT2JqZWN0KGUpKVMuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpQXQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSxTLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIFMucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1TLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT9TLm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFTKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYma3QudGVzdCh0aGlzLm5vZGVOYW1lKSYmIVN0LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPVModGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP1MubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShFdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoRXQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgTnQ9LyUyMC9nLGp0PS8jLiokLyxEdD0vKFs/Jl0pXz1bXiZdKi8scXQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxMdD0vXig/OkdFVHxIRUFEKSQvLEh0PS9eXC9cLy8sT3Q9e30sUHQ9e30sUnQ9IiovIi5jb25jYXQoIioiKSxNdD1FLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBJdChvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iKiIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8W107aWYobSh0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIFd0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PVB0O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsUy5lYWNoKHRbZV18fFtdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dChpLG8sYSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBufHx1fHxzW25dP3U/IShyPW4pOnZvaWQgMDooaS5kYXRhVHlwZXMudW5zaGlmdChuKSxsKG4pLCExKX0pLHJ9cmV0dXJuIGwoaS5kYXRhVHlwZXNbMF0pfHwhc1siKiJdJiZsKCIqIil9ZnVuY3Rpb24gRnQoZSx0KXt2YXIgbixyLGk9Uy5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmUy5leHRlbmQoITAsZSxyKSxlfU10LmhyZWY9YnQuaHJlZixTLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6YnQuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChidC5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpSdCx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6Uy5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/RnQoRnQoZSxTLmFqYXhTZXR0aW5ncyksdCk6RnQoUy5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6SXQoT3QpLGFqYXhUcmFuc3BvcnQ6SXQoUHQpLGFqYXg6ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIGMsZixwLG4sZCxyLGgsZyxpLG8sdj1TLmFqYXhTZXR1cCh7fSx0KSx5PXYuY29udGV4dHx8dixtPXYuY29udGV4dCYmKHkubm9kZVR5cGV8fHkuanF1ZXJ5KT9TKHkpOlMuZXZlbnQseD1TLkRlZmVycmVkKCksYj1TLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1xdC5leGVjKHApKW5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSl9dD1uW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxidC5ocmVmKSsiIikucmVwbGFjZShIdCxidC5wcm90b2NvbCsiLy8iKSx2LnR5cGU9dC5tZXRob2R8fHQudHlwZXx8di5tZXRob2R8fHYudHlwZSx2LmRhdGFUeXBlcz0odi5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKFApfHxbIiJdLG51bGw9PXYuY3Jvc3NEb21haW4pe3I9RS5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e3IuaHJlZj12LnVybCxyLmhyZWY9ci5ocmVmLHYuY3Jvc3NEb21haW49TXQucHJvdG9jb2wrIi8vIitNdC5ob3N0IT1yLnByb3RvY29sKyIvLyIrci5ob3N0fWNhdGNoKGUpe3YuY3Jvc3NEb21haW49ITB9fWlmKHYuZGF0YSYmdi5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB2LmRhdGEmJih2LmRhdGE9Uy5wYXJhbSh2LmRhdGEsdi50cmFkaXRpb25hbCkpLFd0KE90LHYsdCxUKSxoKXJldHVybiBUO2ZvcihpIGluKGc9Uy5ldmVudCYmdi5nbG9iYWwpJiYwPT1TLmFjdGl2ZSsrJiZTLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHYudHlwZT12LnR5cGUudG9VcHBlckNhc2UoKSx2Lmhhc0NvbnRlbnQ9IUx0LnRlc3Qodi50eXBlKSxmPXYudXJsLnJlcGxhY2UoanQsIiIpLHYuaGFzQ29udGVudD92LmRhdGEmJnYucHJvY2Vzc0RhdGEmJjA9PT0odi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodi5kYXRhPXYuZGF0YS5yZXBsYWNlKE50LCIrIikpOihvPXYudXJsLnNsaWNlKGYubGVuZ3RoKSx2LmRhdGEmJih2LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHYuZGF0YSkmJihmKz0oVHQudGVzdChmKT8iJiI6Ij8iKSt2LmRhdGEsZGVsZXRlIHYuZGF0YSksITE9PT12LmNhY2hlJiYoZj1mLnJlcGxhY2UoRHQsIiQxIiksbz0oVHQudGVzdChmKT8iJiI6Ij8iKSsiXz0iK3d0Lmd1aWQrKytvKSx2LnVybD1mK28pLHYuaWZNb2RpZmllZCYmKFMubGFzdE1vZGlmaWVkW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixTLmxhc3RNb2RpZmllZFtmXSksUy5ldGFnW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLFMuZXRhZ1tmXSkpLCh2LmRhdGEmJnYuaGFzQ29udGVudCYmITEhPT12LmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHYuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix2LmRhdGFUeXBlc1swXSYmdi5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXT92LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dKygiKiIhPT12LmRhdGFUeXBlc1swXT8iLCAiK1J0KyI7IHE9MC4wMSI6IiIpOnYuYWNjZXB0c1siKiJdKSx2LmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGksdi5oZWFkZXJzW2ldKTtpZih2LmJlZm9yZVNlbmQmJighMT09PXYuYmVmb3JlU2VuZC5jYWxsKHksVCx2KXx8aCkpcmV0dXJuIFQuYWJvcnQoKTtpZih1PSJhYm9ydCIsYi5hZGQodi5jb21wbGV0ZSksVC5kb25lKHYuc3VjY2VzcyksVC5mYWlsKHYuZXJyb3IpLGM9V3QoUHQsdix0LFQpKXtpZihULnJlYWR5U3RhdGU9MSxnJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbVCx2XSksaClyZXR1cm4gVDt2LmFzeW5jJiYwPHYudGltZW91dCYmKGQ9Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5hYm9ydCgidGltZW91dCIpfSx2LnRpbWVvdXQpKTt0cnl7aD0hMSxjLnNlbmQoYSxsKX1jYXRjaChlKXtpZihoKXRocm93IGU7bCgtMSxlKX19ZWxzZSBsKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJkMuY2xlYXJUaW1lb3V0KGQpLGM9dm9pZCAwLHA9cnx8IiIsVC5yZWFkeVN0YXRlPTA8ZT80OjAsaT0yMDA8PWUmJmU8MzAwfHwzMDQ9PT1lLG4mJihzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYocilmb3IoaSBpbiBzKWlmKHNbaV0mJnNbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaSsiICIrdVswXV0pe289aTticmVha31hfHwoYT1pKX1vPW98fGF9aWYobylyZXR1cm4gbyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dfSh2LFQsbikpLCFpJiYtMTxTLmluQXJyYXkoInNjcmlwdCIsdi5kYXRhVHlwZXMpJiZTLmluQXJyYXkoImpzb24iLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoUy5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKFMuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLVMuYWN0aXZlfHxTLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFMuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBTLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxTLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtTW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksUy5hamF4KFMuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxTLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxTLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pLFMuX2V2YWxVcmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmFqYXgoe3VybDplLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKGUpe1MuZ2xvYmFsRXZhbChlLHQsbil9fSl9LFMuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PVMoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1TKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLFMuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hUy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sUy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LFMuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIEJ0PXswOjIwMCwxMjIzOjIwNH0sJHQ9Uy5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhJHQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gJHQseS5hamF4PSR0PSEhJHQsUy5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHwkdCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChCdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxTLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gUy5nbG9iYWxFdmFsKGUpLGV9fX0pLFMuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxTLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1TKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgX3QsenQ9W10sVXQ9Lyg9KVw/KD89JnwkKXxcP1w/LztTLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9enQucG9wKCl8fFMuZXhwYW5kbysiXyIrd3QuZ3VpZCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksUy5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ITEhPT1lLmpzb25wJiYoVXQudGVzdChlLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBlLmRhdGEmJjA9PT0oZS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZVdC50ZXN0KGUuZGF0YSkmJiJkYXRhIik7aWYoYXx8Impzb25wIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz1tKGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoVXQsIiQxIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KFR0LnRlc3QoZS51cmwpPyImIjoiPyIpK2UuanNvbnArIj0iK3IpLGUuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBvfHxTLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLG9bMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixpPUNbcl0sQ1tyXT1mdW5jdGlvbigpe289YXJndW1lbnRzfSxuLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWk/UyhDKS5yZW1vdmVQcm9wKHIpOkNbcl09aSxlW3JdJiYoZS5qc29ucENhbGxiYWNrPXQuanNvbnBDYWxsYmFjayx6dC5wdXNoKHIpKSxvJiZtKGkpJiZpKG9bMF0pLG89aT12b2lkIDB9KSwic2NyaXB0In0pLHkuY3JlYXRlSFRNTERvY3VtZW50PSgoX3Q9RS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1fdC5jaGlsZE5vZGVzLmxlbmd0aCksUy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwoeS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPUUubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocikpOnQ9RSksbz0hbiYmW10sKGk9Ti5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KGlbMV0pXTooaT14ZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmUyhvKS5yZW1vdmUoKSxTLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LFMuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9dGhpcyxzPWUuaW5kZXhPZigiICIpO3JldHVybi0xPHMmJihyPWh0KGUuc2xpY2UocykpLGU9ZS5zbGljZSgwLHMpKSxtKHQpPyhuPXQsdD12b2lkIDApOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmKGk9IlBPU1QiKSwwPGEubGVuZ3RoJiZTLmFqYXgoe3VybDplLHR5cGU6aXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/UygiPGRpdj4iKS5hcHBlbmQoUy5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXthLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSxTLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gUy5ncmVwKFMudGltZXJzLGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZS5lbGVtfSkubGVuZ3RofSxTLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD1TLmNzcyhlLCJwb3NpdGlvbiIpLGM9UyhlKSxmPXt9OyJzdGF0aWMiPT09bCYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIikscz1jLm9mZnNldCgpLG89Uy5jc3MoZSwidG9wIiksdT1TLmNzcyhlLCJsZWZ0IiksKCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJi0xPChvK3UpLmluZGV4T2YoImF1dG8iKT8oYT0ocj1jLnBvc2l0aW9uKCkpLnRvcCxpPXIubGVmdCk6KGE9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLG0odCkmJih0PXQuY2FsbChlLG4sUy5leHRlbmQoe30scykpKSxudWxsIT10LnRvcCYmKGYudG9wPXQudG9wLXMudG9wK2EpLG51bGwhPXQubGVmdCYmKGYubGVmdD10LmxlZnQtcy5sZWZ0K2kpLCJ1c2luZyJpbiB0P3QudXNpbmcuY2FsbChlLGYpOmMuY3NzKGYpfX0sUy5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1Mub2Zmc2V0LnNldE9mZnNldCh0aGlzLHQsZSl9KTt2YXIgZSxuLHI9dGhpc1swXTtyZXR1cm4gcj9yLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhlPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDplLnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6ZS5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLHI9dGhpc1swXSxpPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1TLmNzcyhyLCJwb3NpdGlvbiIpKXQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle3Q9dGhpcy5vZmZzZXQoKSxuPXIub3duZXJEb2N1bWVudCxlPXIub2Zmc2V0UGFyZW50fHxuLmRvY3VtZW50RWxlbWVudDt3aGlsZShlJiYoZT09PW4uYm9keXx8ZT09PW4uZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5wYXJlbnROb2RlO2UmJmUhPT1yJiYxPT09ZS5ub2RlVHlwZSYmKChpPVMoZSkub2Zmc2V0KCkpLnRvcCs9Uy5jc3MoZSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxpLmxlZnQrPVMuY3NzKGUsImJvcmRlckxlZnRXaWR0aCIsITApKX1yZXR1cm57dG9wOnQudG9wLWkudG9wLVMuY3NzKHIsIm1hcmdpblRvcCIsITApLGxlZnQ6dC5sZWZ0LWkubGVmdC1TLmNzcyhyLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoZSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHJlfSl9fSksUy5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKHQsaSl7dmFyIG89InBhZ2VZT2Zmc2V0Ij09PWk7Uy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZih4KGUpP3I9ZTo5PT09ZS5ub2RlVHlwZSYmKHI9ZS5kZWZhdWx0Vmlldyksdm9pZCAwPT09bilyZXR1cm4gcj9yW2ldOmVbdF07cj9yLnNjcm9sbFRvKG8/ci5wYWdlWE9mZnNldDpuLG8/bjpyLnBhZ2VZT2Zmc2V0KTplW3RdPW59LHQsZSxhcmd1bWVudHMubGVuZ3RoKX19KSxTLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSxuKXtTLmNzc0hvb2tzW25dPUZlKHkucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIHQ9V2UoZSxuKSxQZS50ZXN0KHQpP1MoZSkucG9zaXRpb24oKVtuXSsicHgiOnR9KX0pLFMuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEscyl7Uy5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OnMsIiI6Im91dGVyIithfSxmdW5jdGlvbihyLG8pe1MuZm5bb109ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZSksaT1yfHwoITA9PT1lfHwhMD09PXQ/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB4KGUpPzA9PT1vLmluZGV4T2YoIm91dGVyIik/ZVsiaW5uZXIiK2FdOmUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1lLm5vZGVUeXBlPyhyPWUuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGUuYm9keVsic2Nyb2xsIithXSxyWyJzY3JvbGwiK2FdLGUuYm9keVsib2Zmc2V0IithXSxyWyJvZmZzZXQiK2FdLHJbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1uP1MuY3NzKGUsdCxpKTpTLnN0eWxlKGUsdCxuLGkpfSxzLG4/ZTp2b2lkIDAsbil9fSl9KSxTLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihlLHQpe1MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxTLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9LGhvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLFMuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLG4pe1MuZm5bbl09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP3RoaXMub24obixudWxsLGUsdCk6dGhpcy50cmlnZ2VyKG4pfX0pO3ZhciBYdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Uy5wcm94eT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihuPWVbdF0sdD1lLGU9biksbShlKSlyZXR1cm4gcj1zLmNhbGwoYXJndW1lbnRzLDIpLChpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodHx8dGhpcyxyLmNvbmNhdChzLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxTLmd1aWQrKyxpfSxTLmhvbGRSZWFkeT1mdW5jdGlvbihlKXtlP1MucmVhZHlXYWl0Kys6Uy5yZWFkeSghMCl9LFMuaXNBcnJheT1BcnJheS5pc0FycmF5LFMucGFyc2VKU09OPUpTT04ucGFyc2UsUy5ub2RlTmFtZT1BLFMuaXNGdW5jdGlvbj1tLFMuaXNXaW5kb3c9eCxTLmNhbWVsQ2FzZT1YLFMudHlwZT13LFMubm93PURhdGUubm93LFMuaXNOdW1lcmljPWZ1bmN0aW9uKGUpe3ZhciB0PVMudHlwZShlKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sUy50cmltPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKFh0LCIiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIFN9KTt2YXIgVnQ9Qy5qUXVlcnksR3Q9Qy4kO3JldHVybiBTLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIEMuJD09PVMmJihDLiQ9R3QpLGUmJkMualF1ZXJ5PT09UyYmKEMualF1ZXJ5PVZ0KSxTfSwidW5kZWZpbmVkIj09dHlwZW9mIGUmJihDLmpRdWVyeT1DLiQ9UyksU30pOwo="}]}]}